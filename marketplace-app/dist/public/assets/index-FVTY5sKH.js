const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sidebar-vD9iVcjQ.js","assets/avatar-BgbrThQo.js","assets/separator-QabP-acS.js","assets/sheet-0oGlQBkt.js","assets/useQuery-DsZx8GVA.js","assets/chevron-right-HRo85rGP.js","assets/shopping-bag-CmfLtQot.js","assets/video-DvAeHB0x.js","assets/package-dXPzRBiL.js","assets/truck-DDM-Vnwo.js","assets/package-2-s8_v8ape.js","assets/credit-card-BDFvtuhf.js","assets/receipt-fVESyPTJ.js","assets/map-pin-jcALPDnh.js","assets/triangle-alert-Bl8aPyMx.js","assets/message-square-lk32N-n-.js","assets/app-header-kYWGl4hI.js","assets/badge-BTf7a5Ku.js","assets/tabs-BcVWc8Zy.js","assets/index-CoWBA0E_.js","assets/index-BaZiuLT8.js","assets/radio-De9zfx-r.js","assets/dollar-sign-C7k0Pfpl.js","assets/message-circle-KFHS6dr0.js","assets/circle-help-D0D-hL2T.js","assets/dropdown-menu-BrJ5tGq0.js","assets/check-DWjWNqF1.js","assets/circle-tm_CQXKA.js","assets/search-zDcbIzzp.js","assets/plus-CFqimBvi.js","assets/calendar-BlsFPoYB.js","assets/social-auth-complete-form-BVemS-aH.js","assets/form-CqTjZ3qa.js","assets/card-CF4CqaN2.js","assets/select-D3ZFUKhx.js","assets/index-BdQq_4o_.js","assets/index-Cbw5mxKQ.js","assets/chevron-down-BD1mluAZ.js","assets/chevron-up-D8QnUA5s.js","assets/alert-_3QEPDXW.js","assets/user-DBElIW39.js","assets/globe-DqUT5fHj.js","assets/phone-BQAxbi5Q.js","assets/users-B8e37Vk3.js","assets/dashboard-By12KARF.js","assets/revenue-chart-GB__k6F2.js","assets/index-DCmjaWpM.js","assets/format-D46ChU1D.js","assets/circle-check-big-btKq8keq.js","assets/arrow-right-DBZsnu02.js","assets/orders-DFT4fo5n.js","assets/useMutation-DKG1zDtN.js","assets/pricing-DCyf_yea.js","assets/pagination-1EOLrp3H.js","assets/chevron-left-CnSIvoVj.js","assets/firebase-chat-COGJCOhY.js","assets/info-DtDjUfLP.js","assets/purchases-BmNkh0F5.js","assets/dialog-A2pFZcsY.js","assets/ellipsis-Ds8nGjh8.js","assets/printer-DfjmthyX.js","assets/thank-you-BWiuLaP7.js","assets/circle-check-B-MitUmb.js","assets/inventory-BvzTIgPK.js","assets/checkbox-CNlG1UXm.js","assets/table-BQRAvstp.js","assets/upload-tXxaR6JU.js","assets/download-DKq0cGIH.js","assets/file-text-1ARk-IG2.js","assets/square-pen-CAsDE1RN.js","assets/eye-BQkOkbVm.js","assets/refresh-cw-DVmfdMZj.js","assets/trash-2-CSnPCayR.js","assets/add-product-CD2D17ON.js","assets/inventory-product-form-DHaSYoPD.js","assets/textarea-CeR6uy7m.js","assets/scroll-area-BXmfGVKf.js","assets/radio-group-UroE5lc1.js","assets/image-D492slPc.js","assets/save-DQ6UIs6d.js","assets/arrow-left-C3R-C2jj.js","assets/edit-product-DeFlRdhw.js","assets/shipping-C8h-Sokg.js","assets/index-BiLFhckE.js","assets/external-link-ClLRZYJp.js","assets/shipping-profiles-Bwf2SIq4.js","assets/addresses-D1781N_R.js","assets/react-country-state-city-DuU_Cl-F.js","assets/react-country-state-city-BZfUZqIr.css","assets/star-E1-v1kNw.js","assets/ellipsis-vertical-YsH48IHQ.js","assets/analytics-CPzkepvL.js","assets/trending-up-6F_M0Hgc.js","assets/live-shows-DWnbA3A_.js","assets/settings-CxHqUFuh.js","assets/switch-B5JTowSg.js","assets/gift-DZ5KpB2A.js","assets/profile-CX5yQRbU.js","assets/mail-CxzT5chc.js","assets/profile-view-JZ01zbhd.js","assets/show-card-DdIkBK1N.js","assets/isTomorrow-B3a_VsBR.js","assets/share-dialog-yb2w8vEP.js","assets/ban-D6W4oNgC.js","assets/flag-DeqhqjwT.js","assets/product-detail-sh63jfLR.js","assets/shield-ZxSMvgGn.js","assets/auction-detail-BcMk630a.js","assets/clock-BQ-aHkQg.js","assets/circle-alert-CZTAXaCw.js","assets/account-DwHTeewS.js","assets/lock-CQ3Dm3NZ.js","assets/payments-b_dJteiQ.js","assets/add-payment-dialog-D5fvnLYl.js","assets/login-D8Hzl9o2.js","assets/eye-off-BQUxFnnq.js","assets/signup-CUd3owlf.js","assets/transactions-BcllDHIo.js","assets/home-BLWeH_b-.js","assets/product-card-Pdo5-SPt.js","assets/auction-card-D137QEZZ.js","assets/browse-Cf3FgyDW.js","assets/use-api-config-CmVD2X-T.js","assets/category-UL2XnqAp.js","assets/search-results-CgpCDhP3.js","assets/trending-products-CQ8MRwjc.js","assets/trending-auctions-Cpp0JK1G.js","assets/deals-Dm1WjaHx.js","assets/deals-auctions-KBD2Kjdi.js","assets/deals-trending-DJbg4xqD.js","assets/landing-page-BQ4gvbmA.js","assets/play-Cwd67xxt.js","assets/zap-D5X6iu--.js","assets/landing-page-2-BrDKV80N.js","assets/landing-page-3-c-cevjaU.js","assets/heart-CAMcFgvs.js","assets/award-BbOIHseB.js","assets/sparkles-CFtOfXkJ.js","assets/landing-page-4-CJHsR7V1.js","assets/smartphone-D1-d1RBU.js","assets/landing-page-5-Dq6X34bz.js","assets/headphones-DrPXzSQe.js","assets/target-b0tEtN-U.js","assets/landing-page-6-Dd9Zow1z.js","assets/bell-Cx7GpU_F.js","assets/landing-page-7-CVG0cteI.js","assets/seller-login-BwUJZRKq.js","assets/show-view-BDndftiP.js","assets/buy-now-dialog-DbnibDu0.js","assets/send-Bsu1P8_-.js","assets/upload-images-DI0qo6Eh.js","assets/privacy-policy-BVdMOc11.js","assets/terms-of-service-DLZreD1p.js","assets/contact-BHLpb7cE.js","assets/user-reports-B14PW9WD.js","assets/faq-DGOjjX4u.js","assets/accordion-8bN19edA.js","assets/about-BCWktcqo.js","assets/hub-DPQLPpFq.js","assets/inbox-DJ00aRjT.js","assets/friends-D9HTDJrb.js","assets/help-Cyeua-93.js","assets/setup-BsbYKOU1.js","assets/schedule-show-B-5F5fDk.js","assets/not-found-Cx5d-qid.js"])))=>i.map(i=>d[i]);
var qw=t=>{throw TypeError(t)};var fp=(t,e,n)=>e.has(t)||qw("Cannot "+n);var B=(t,e,n)=>(fp(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?qw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(fp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Nt=(t,e,n)=>(fp(t,e,"access private method"),n);var Ec=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return B(t,e,r)}});function Z1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var tW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aI={exports:{}},Bh={},lI={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),J1=Symbol.for("react.portal"),eN=Symbol.for("react.fragment"),tN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),rN=Symbol.for("react.provider"),sN=Symbol.for("react.context"),iN=Symbol.for("react.forward_ref"),oN=Symbol.for("react.suspense"),aN=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),Ww=Symbol.iterator;function uN(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var uI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cI=Object.assign,dI={};function Oa(t,e,n){this.props=t,this.context=e,this.refs=dI,this.updater=n||uI}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hI(){}hI.prototype=Oa.prototype;function yy(t,e,n){this.props=t,this.context=e,this.refs=dI,this.updater=n||uI}var _y=yy.prototype=new hI;_y.constructor=yy;cI(_y,Oa.prototype);_y.isPureReactComponent=!0;var Hw=Array.isArray,fI=Object.prototype.hasOwnProperty,vy={current:null},pI={key:!0,ref:!0,__self:!0,__source:!0};function mI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)fI.call(e,r)&&!pI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ju,type:t,key:i,ref:o,props:s,_owner:vy.current}}function cN(t,e){return{$$typeof:ju,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===ju}function dN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gw=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dN(""+t.key):e.toString(36)}function ad(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ju:case J1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+pp(o,0):r,Hw(s)?(n="",t!=null&&(n=t.replace(Gw,"$&/")+"/"),ad(s,e,n,"",function(c){return c})):s!=null&&(wy(s)&&(s=cN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+pp(i,a);o+=ad(i,e,n,l,s)}else if(l=uN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+pp(i,a++),o+=ad(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tc(t,e,n){if(t==null)return t;var r=[],s=0;return ad(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ld={transition:null},fN={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ld,ReactCurrentOwner:vy};function gI(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Tc,forEach:function(t,e,n){Tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tc(t,function(){e++}),e},toArray:function(t){return Tc(t,function(e){return e})||[]},only:function(t){if(!wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Oa;Se.Fragment=eN;Se.Profiler=nN;Se.PureComponent=yy;Se.StrictMode=tN;Se.Suspense=oN;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;Se.act=gI;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fI.call(e,l)&&!pI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ju,type:t.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:sN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rN,_context:t},t.Consumer=t};Se.createElement=mI;Se.createFactory=function(t){var e=mI.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:iN,render:t}};Se.isValidElement=wy;Se.lazy=function(t){return{$$typeof:lN,_payload:{_status:-1,_result:t},_init:hN}};Se.memo=function(t,e){return{$$typeof:aN,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=ld.transition;ld.transition={};try{t()}finally{ld.transition=e}};Se.unstable_act=gI;Se.useCallback=function(t,e){return Qt.current.useCallback(t,e)};Se.useContext=function(t){return Qt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Qt.current.useEffect(t,e)};Se.useId=function(){return Qt.current.useId()};Se.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Qt.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};Se.useRef=function(t){return Qt.current.useRef(t)};Se.useState=function(t){return Qt.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return Qt.current.useTransition()};Se.version="18.3.1";lI.exports=Se;var g=lI.exports;const fs=oI(g),$h=Z1({__proto__:null,default:fs},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN=g,mN=Symbol.for("react.element"),gN=Symbol.for("react.fragment"),yN=Object.prototype.hasOwnProperty,_N=pN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vN={key:!0,ref:!0,__self:!0,__source:!0};function yI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yN.call(e,r)&&!vN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mN,type:t,key:i,ref:o,props:s,_owner:_N.current}}Bh.Fragment=gN;Bh.jsx=yI;Bh.jsxs=yI;aI.exports=Bh;var C=aI.exports,_I={exports:{}},vn={},vI={exports:{}},wI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,$){var K=F.length;F.push($);e:for(;0<K;){var ae=K-1>>>1,Ee=F[ae];if(0<s(Ee,$))F[ae]=$,F[K]=Ee,K=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],K=F.pop();if(K!==$){F[0]=K;e:for(var ae=0,Ee=F.length,ve=Ee>>>1;ae<ve;){var Ue=2*(ae+1)-1,on=F[Ue],Te=Ue+1,je=F[Te];if(0>s(on,K))Te<Ee&&0>s(je,on)?(F[ae]=je,F[Te]=K,ae=Te):(F[ae]=on,F[Ue]=K,ae=Ue);else if(Te<Ee&&0>s(je,K))F[ae]=je,F[Te]=K,ae=Te;else break e}}return $}function s(F,$){var K=F.sortIndex-$.sortIndex;return K!==0?K:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,y=!1,I=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=F)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function N(F){if(_=!1,E(F),!I)if(n(l)!==null)I=!0,Y(L);else{var $=n(c);$!==null&&le(N,$.startTime-F)}}function L(F,$){I=!1,_&&(_=!1,v(S),S=-1),y=!0;var K=p;try{for(E($),h=n(l);h!==null&&(!(h.expirationTime>$)||F&&!O());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var Ee=ae(h.expirationTime<=$);$=t.unstable_now(),typeof Ee=="function"?h.callback=Ee:h===n(l)&&r(l),E($)}else r(l);h=n(l)}if(h!==null)var ve=!0;else{var Ue=n(c);Ue!==null&&le(N,Ue.startTime-$),ve=!1}return ve}finally{h=null,p=K,y=!1}}var M=!1,A=null,S=-1,x=5,k=-1;function O(){return!(t.unstable_now()-k<x)}function D(){if(A!==null){var F=t.unstable_now();k=F;var $=!0;try{$=A(!0,F)}finally{$?P():(M=!1,A=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=D,P=function(){G.postMessage(null)}}else P=function(){T(D,0)};function Y(F){A=F,M||(M=!0,P())}function le(F,$){S=T(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||y||(I=!0,Y(L))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var K=p;p=$;try{return F()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=p;p=F;try{return $()}finally{p=K}},t.unstable_scheduleCallback=function(F,$,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,F){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=K+Ee,F={id:d++,callback:$,priorityLevel:F,startTime:K,expirationTime:Ee,sortIndex:-1},K>ae?(F.sortIndex=K,e(c,F),n(l)===null&&F===n(c)&&(_?(v(S),S=-1):_=!0,le(N,K-ae))):(F.sortIndex=Ee,e(l,F),I||y||(I=!0,Y(L))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var $=p;return function(){var K=p;p=$;try{return F.apply(this,arguments)}finally{p=K}}}})(wI);vI.exports=wI;var wN=vI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=g,yn=wN;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EI=new Set,au={};function so(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for(au[t]=e,t=0;t<e.length;t++)EI.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,TN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kw={},Qw={};function SN(t){return Tm.call(Qw,t)?!0:Tm.call(Kw,t)?!1:TN.test(t)?Qw[t]=!0:(Kw[t]=!0,!1)}function IN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AN(t,e,n,r){if(e===null||typeof e>"u"||IN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);xt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);xt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ey,Ty);xt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sy(t,e,n,r){var s=xt.hasOwnProperty(e)?xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AN(e,n,s,r)&&(n=null),r||s===null?SN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sc=Symbol.for("react.element"),bo=Symbol.for("react.portal"),Ro=Symbol.for("react.fragment"),Iy=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),TI=Symbol.for("react.provider"),SI=Symbol.for("react.context"),Ay=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),by=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),II=Symbol.for("react.offscreen"),Xw=Symbol.iterator;function vl(t){return t===null||typeof t!="object"?null:(t=Xw&&t[Xw]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,mp;function Ol(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function yp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ol(t):""}function bN(t){switch(t.tag){case 5:return Ol(t.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return t=yp(t.type,!1),t;case 11:return t=yp(t.type.render,!1),t;case 1:return t=yp(t.type,!0),t;default:return""}}function bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ro:return"Fragment";case bo:return"Portal";case Sm:return"Profiler";case Iy:return"StrictMode";case Im:return"Suspense";case Am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SI:return(t.displayName||"Context")+".Consumer";case TI:return(t._context.displayName||"Context")+".Provider";case Ay:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case by:return e=t.displayName||null,e!==null?e:bm(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return bm(t(e))}catch{}}return null}function RN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===Iy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CN(t){var e=AI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ic(t){t._valueTracker||(t._valueTracker=CN(t))}function bI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rm(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RI(t,e){e=e.checked,e!=null&&Sy(t,"checked",e,!1)}function Cm(t,e){RI(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xm(t,e.type,n):e.hasOwnProperty("defaultValue")&&xm(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xm(t,e,n){(e!=="number"||Ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function km(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Dl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function CI(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ac,kI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ac=Ac||document.createElement("div"),Ac.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ac.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xN=["Webkit","ms","Moz","O"];Object.keys(zl).forEach(function(t){xN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zl[e]=zl[t]})});function PI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zl.hasOwnProperty(t)&&zl[t]?(""+e).trim():e+"px"}function NI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=PI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kN=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nm(t,e){if(e){if(kN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function Ry(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lm=null,Uo=null,jo=null;function tE(t){if(t=zu(t)){if(typeof Lm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Gh(e),Lm(t.stateNode,t.type,e))}}function OI(t){Uo?jo?jo.push(t):jo=[t]:Uo=t}function DI(){if(Uo){var t=Uo,e=jo;if(jo=Uo=null,tE(t),e)for(t=0;t<e.length;t++)tE(e[t])}}function LI(t,e){return t(e)}function MI(){}var _p=!1;function VI(t,e,n){if(_p)return t(e,n);_p=!0;try{return LI(t,e,n)}finally{_p=!1,(Uo!==null||jo!==null)&&(MI(),DI())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Mm=!1;if(Br)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Mm=!1}function PN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ql=!1,jd=null,Bd=!1,Vm=null,NN={onError:function(t){ql=!0,jd=t}};function ON(t,e,n,r,s,i,o,a,l){ql=!1,jd=null,PN.apply(NN,arguments)}function DN(t,e,n,r,s,i,o,a,l){if(ON.apply(this,arguments),ql){if(ql){var c=jd;ql=!1,jd=null}else throw Error(W(198));Bd||(Bd=!0,Vm=c)}}function io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nE(t){if(io(t)!==t)throw Error(W(188))}function LN(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nE(s),t;if(i===r)return nE(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function UI(t){return t=LN(t),t!==null?jI(t):null}function jI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jI(t);if(e!==null)return e;t=t.sibling}return null}var BI=yn.unstable_scheduleCallback,rE=yn.unstable_cancelCallback,MN=yn.unstable_shouldYield,VN=yn.unstable_requestPaint,at=yn.unstable_now,FN=yn.unstable_getCurrentPriorityLevel,Cy=yn.unstable_ImmediatePriority,$I=yn.unstable_UserBlockingPriority,$d=yn.unstable_NormalPriority,UN=yn.unstable_LowPriority,zI=yn.unstable_IdlePriority,zh=null,lr=null;function jN(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(zh,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:zN,BN=Math.log,$N=Math.LN2;function zN(t){return t>>>=0,t===0?32:31-(BN(t)/$N|0)|0}var bc=64,Rc=4194304;function Ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ll(a):(i&=o,i!==0&&(r=Ll(i)))}else o=n&~s,o!==0?r=Ll(o):i!==0&&(r=Ll(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),s=1<<n,r|=t[n],e&=~s;return r}function qN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-jn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Fm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qI(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function vp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function HN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function xy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var De=0;function WI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HI,ky,GI,KI,QI,Um=!1,Cc=[],Ds=null,Ls=null,Ms=null,cu=new Map,du=new Map,vs=[],GN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sE(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(e.pointerId)}}function El(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zu(e),e!==null&&ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KN(t,e,n,r,s){switch(e){case"focusin":return Ds=El(Ds,t,e,n,r,s),!0;case"dragenter":return Ls=El(Ls,t,e,n,r,s),!0;case"mouseover":return Ms=El(Ms,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cu.set(i,El(cu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,du.set(i,El(du.get(i)||null,t,e,n,r,s)),!0}return!1}function XI(t){var e=Ci(t.target);if(e!==null){var n=io(e);if(n!==null){if(e=n.tag,e===13){if(e=FI(n),e!==null){t.blockedOn=e,QI(t.priority,function(){GI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return e=zu(n),e!==null&&ky(e),t.blockedOn=n,!1;e.shift()}return!0}function iE(t,e,n){ud(t)&&n.delete(e)}function QN(){Um=!1,Ds!==null&&ud(Ds)&&(Ds=null),Ls!==null&&ud(Ls)&&(Ls=null),Ms!==null&&ud(Ms)&&(Ms=null),cu.forEach(iE),du.forEach(iE)}function Tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Um||(Um=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,QN)))}function hu(t){function e(s){return Tl(s,t)}if(0<Cc.length){Tl(Cc[0],t);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&Tl(Ds,t),Ls!==null&&Tl(Ls,t),Ms!==null&&Tl(Ms,t),cu.forEach(e),du.forEach(e),n=0;n<vs.length;n++)r=vs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vs.length&&(n=vs[0],n.blockedOn===null);)XI(n),n.blockedOn===null&&vs.shift()}var Bo=ts.ReactCurrentBatchConfig,qd=!0;function XN(t,e,n,r){var s=De,i=Bo.transition;Bo.transition=null;try{De=1,Py(t,e,n,r)}finally{De=s,Bo.transition=i}}function YN(t,e,n,r){var s=De,i=Bo.transition;Bo.transition=null;try{De=4,Py(t,e,n,r)}finally{De=s,Bo.transition=i}}function Py(t,e,n,r){if(qd){var s=jm(t,e,n,r);if(s===null)xp(t,e,r,Wd,n),sE(t,r);else if(KN(s,t,e,n,r))r.stopPropagation();else if(sE(t,r),e&4&&-1<GN.indexOf(t)){for(;s!==null;){var i=zu(s);if(i!==null&&HI(i),i=jm(t,e,n,r),i===null&&xp(t,e,r,Wd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xp(t,e,r,null,n)}}var Wd=null;function jm(t,e,n,r){if(Wd=null,t=Ry(r),t=Ci(t),t!==null)if(e=io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wd=t,null}function YI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FN()){case Cy:return 1;case $I:return 4;case $d:case UN:return 16;case zI:return 536870912;default:return 16}default:return 16}}var ks=null,Ny=null,cd=null;function ZI(){if(cd)return cd;var t,e=Ny,n=e.length,r,s="value"in ks?ks.value:ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cd=s.slice(t,1<r?1-r:void 0)}function dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xc(){return!0}function oE(){return!1}function wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xc:oE,this.isPropagationStopped=oE,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oy=wn(Da),$u=Ye({},Da,{view:0,detail:0}),ZN=wn($u),wp,Ep,Sl,qh=Ye({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sl&&(Sl&&t.type==="mousemove"?(wp=t.screenX-Sl.screenX,Ep=t.screenY-Sl.screenY):Ep=wp=0,Sl=t),wp)},movementY:function(t){return"movementY"in t?t.movementY:Ep}}),aE=wn(qh),JN=Ye({},qh,{dataTransfer:0}),eO=wn(JN),tO=Ye({},$u,{relatedTarget:0}),Tp=wn(tO),nO=Ye({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),rO=wn(nO),sO=Ye({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iO=wn(sO),oO=Ye({},Da,{data:0}),lE=wn(oO),aO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uO[t])?!!e[t]:!1}function Dy(){return cO}var dO=Ye({},$u,{key:function(t){if(t.key){var e=aO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(t){return t.type==="keypress"?dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hO=wn(dO),fO=Ye({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uE=wn(fO),pO=Ye({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),mO=wn(pO),gO=Ye({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),yO=wn(gO),_O=Ye({},qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vO=wn(_O),wO=[9,13,27,32],Ly=Br&&"CompositionEvent"in window,Wl=null;Br&&"documentMode"in document&&(Wl=document.documentMode);var EO=Br&&"TextEvent"in window&&!Wl,JI=Br&&(!Ly||Wl&&8<Wl&&11>=Wl),cE=" ",dE=!1;function eA(t,e){switch(t){case"keyup":return wO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function TO(t,e){switch(t){case"compositionend":return tA(e);case"keypress":return e.which!==32?null:(dE=!0,cE);case"textInput":return t=e.data,t===cE&&dE?null:t;default:return null}}function SO(t,e){if(Co)return t==="compositionend"||!Ly&&eA(t,e)?(t=ZI(),cd=Ny=ks=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JI&&e.locale!=="ko"?null:e.data;default:return null}}var IO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IO[t.type]:e==="textarea"}function nA(t,e,n,r){OI(r),e=Hd(e,"onChange"),0<e.length&&(n=new Oy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hl=null,fu=null;function AO(t){fA(t,0)}function Wh(t){var e=Po(t);if(bI(e))return t}function bO(t,e){if(t==="change")return e}var rA=!1;if(Br){var Sp;if(Br){var Ip="oninput"in document;if(!Ip){var fE=document.createElement("div");fE.setAttribute("oninput","return;"),Ip=typeof fE.oninput=="function"}Sp=Ip}else Sp=!1;rA=Sp&&(!document.documentMode||9<document.documentMode)}function pE(){Hl&&(Hl.detachEvent("onpropertychange",sA),fu=Hl=null)}function sA(t){if(t.propertyName==="value"&&Wh(fu)){var e=[];nA(e,fu,t,Ry(t)),VI(AO,e)}}function RO(t,e,n){t==="focusin"?(pE(),Hl=e,fu=n,Hl.attachEvent("onpropertychange",sA)):t==="focusout"&&pE()}function CO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(fu)}function xO(t,e){if(t==="click")return Wh(e)}function kO(t,e){if(t==="input"||t==="change")return Wh(e)}function PO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:PO;function pu(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Tm.call(e,s)||!qn(t[s],e[s]))return!1}return!0}function mE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gE(t,e){var n=mE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mE(n)}}function iA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oA(){for(var t=window,e=Ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ud(t.document)}return e}function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NO(t){var e=oA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iA(n.ownerDocument.documentElement,n)){if(r!==null&&My(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gE(n,i);var o=gE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OO=Br&&"documentMode"in document&&11>=document.documentMode,xo=null,Bm=null,Gl=null,$m=!1;function yE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$m||xo==null||xo!==Ud(r)||(r=xo,"selectionStart"in r&&My(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gl&&pu(Gl,r)||(Gl=r,r=Hd(Bm,"onSelect"),0<r.length&&(e=new Oy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xo)))}function kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Ap={},aA={};Br&&(aA=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Hh(t){if(Ap[t])return Ap[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aA)return Ap[t]=e[n];return t}var lA=Hh("animationend"),uA=Hh("animationiteration"),cA=Hh("animationstart"),dA=Hh("transitionend"),hA=new Map,_E="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(t,e){hA.set(t,e),so(e,[t])}for(var bp=0;bp<_E.length;bp++){var Rp=_E[bp],DO=Rp.toLowerCase(),LO=Rp[0].toUpperCase()+Rp.slice(1);ci(DO,"on"+LO)}ci(lA,"onAnimationEnd");ci(uA,"onAnimationIteration");ci(cA,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(dA,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function vE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DN(r,e,void 0,t),t.currentTarget=null}function fA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vE(s,a,c),i=l}}}if(Bd)throw t=Vm,Bd=!1,Vm=null,t}function ze(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(pA(e,t,2,!1),n.add(r))}function Cp(t,e,n){var r=0;e&&(r|=4),pA(n,t,r,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function mu(t){if(!t[Pc]){t[Pc]=!0,EI.forEach(function(n){n!=="selectionchange"&&(MO.has(n)||Cp(n,!1,t),Cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,Cp("selectionchange",!1,e))}}function pA(t,e,n,r){switch(YI(e)){case 1:var s=XN;break;case 4:s=YN;break;default:s=Py}n=s.bind(null,e,n,t),s=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function xp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}VI(function(){var c=i,d=Ry(n),h=[];e:{var p=hA.get(t);if(p!==void 0){var y=Oy,I=t;switch(t){case"keypress":if(dd(n)===0)break e;case"keydown":case"keyup":y=hO;break;case"focusin":I="focus",y=Tp;break;case"focusout":I="blur",y=Tp;break;case"beforeblur":case"afterblur":y=Tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=aE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=eO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=mO;break;case lA:case uA:case cA:y=rO;break;case dA:y=yO;break;case"scroll":y=ZN;break;case"wheel":y=vO;break;case"copy":case"cut":case"paste":y=iO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=uE}var _=(e&4)!==0,T=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var w=c,E;w!==null;){E=w;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,v!==null&&(N=uu(w,v),N!=null&&_.push(gu(w,N,E)))),T)break;w=w.return}0<_.length&&(p=new y(p,I,null,n,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Dm&&(I=n.relatedTarget||n.fromElement)&&(Ci(I)||I[$r]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(I=n.relatedTarget||n.toElement,y=c,I=I?Ci(I):null,I!==null&&(T=io(I),I!==T||I.tag!==5&&I.tag!==6)&&(I=null)):(y=null,I=c),y!==I)){if(_=aE,N="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=uE,N="onPointerLeave",v="onPointerEnter",w="pointer"),T=y==null?p:Po(y),E=I==null?p:Po(I),p=new _(N,w+"leave",y,n,d),p.target=T,p.relatedTarget=E,N=null,Ci(d)===c&&(_=new _(v,w+"enter",I,n,d),_.target=E,_.relatedTarget=T,N=_),T=N,y&&I)t:{for(_=y,v=I,w=0,E=_;E;E=go(E))w++;for(E=0,N=v;N;N=go(N))E++;for(;0<w-E;)_=go(_),w--;for(;0<E-w;)v=go(v),E--;for(;w--;){if(_===v||v!==null&&_===v.alternate)break t;_=go(_),v=go(v)}_=null}else _=null;y!==null&&wE(h,p,y,_,!1),I!==null&&T!==null&&wE(h,T,I,_,!0)}}e:{if(p=c?Po(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var L=bO;else if(hE(p))if(rA)L=kO;else{L=CO;var M=RO}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=xO);if(L&&(L=L(t,c))){nA(h,L,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&xm(p,"number",p.value)}switch(M=c?Po(c):window,t){case"focusin":(hE(M)||M.contentEditable==="true")&&(xo=M,Bm=c,Gl=null);break;case"focusout":Gl=Bm=xo=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,yE(h,n,d);break;case"selectionchange":if(OO)break;case"keydown":case"keyup":yE(h,n,d)}var A;if(Ly)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Co?eA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(JI&&n.locale!=="ko"&&(Co||S!=="onCompositionStart"?S==="onCompositionEnd"&&Co&&(A=ZI()):(ks=d,Ny="value"in ks?ks.value:ks.textContent,Co=!0)),M=Hd(c,S),0<M.length&&(S=new lE(S,t,null,n,d),h.push({event:S,listeners:M}),A?S.data=A:(A=tA(n),A!==null&&(S.data=A)))),(A=EO?TO(t,n):SO(t,n))&&(c=Hd(c,"onBeforeInput"),0<c.length&&(d=new lE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=A))}fA(h,e)})}function gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uu(t,n),i!=null&&r.unshift(gu(t,i,s)),i=uu(t,e),i!=null&&r.push(gu(t,i,s))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=uu(n,i),l!=null&&o.unshift(gu(n,l,a))):s||(l=uu(n,i),l!=null&&o.push(gu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VO=/\r\n?/g,FO=/\u0000|\uFFFD/g;function EE(t){return(typeof t=="string"?t:""+t).replace(VO,`
`).replace(FO,"")}function Nc(t,e,n){if(e=EE(e),EE(t)!==e&&n)throw Error(W(425))}function Gd(){}var zm=null,qm=null;function Wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,UO=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,jO=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(t){return TE.resolve(null).then(t).catch(BO)}:Hm;function BO(t){setTimeout(function(){throw t})}function kp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),hu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hu(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var La=Math.random().toString(36).slice(2),sr="__reactFiber$"+La,yu="__reactProps$"+La,$r="__reactContainer$"+La,Gm="__reactEvents$"+La,$O="__reactListeners$"+La,zO="__reactHandles$"+La;function Ci(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SE(t);t!==null;){if(n=t[sr])return n;t=SE(t)}return e}t=n,n=t.parentNode}return null}function zu(t){return t=t[sr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Gh(t){return t[yu]||null}var Km=[],No=-1;function di(t){return{current:t}}function He(t){0>No||(t.current=Km[No],Km[No]=null,No--)}function Fe(t,e){No++,Km[No]=t.current,t.current=e}var Xs={},Ut=di(Xs),nn=di(!1),qi=Xs;function ua(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rn(t){return t=t.childContextTypes,t!=null}function Kd(){He(nn),He(Ut)}function IE(t,e,n){if(Ut.current!==Xs)throw Error(W(168));Fe(Ut,e),Fe(nn,n)}function mA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,RN(t)||"Unknown",s));return Ye({},n,r)}function Qd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,qi=Ut.current,Fe(Ut,t),Fe(nn,nn.current),!0}function AE(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=mA(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,He(nn),He(Ut),Fe(Ut,t)):He(nn),Fe(nn,n)}var xr=null,Kh=!1,Pp=!1;function gA(t){xr===null?xr=[t]:xr.push(t)}function qO(t){Kh=!0,gA(t)}function hi(){if(!Pp&&xr!==null){Pp=!0;var t=0,e=De;try{var n=xr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Kh=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),BI(Cy,hi),s}finally{De=e,Pp=!1}}return null}var Oo=[],Do=0,Xd=null,Yd=0,Tn=[],Sn=0,Wi=null,Or=1,Dr="";function Ii(t,e){Oo[Do++]=Yd,Oo[Do++]=Xd,Xd=t,Yd=e}function yA(t,e,n){Tn[Sn++]=Or,Tn[Sn++]=Dr,Tn[Sn++]=Wi,Wi=t;var r=Or;t=Dr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var i=32-jn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Or=1<<32-jn(e)+s|n<<s|r,Dr=i+t}else Or=1<<i|n<<s|r,Dr=t}function Vy(t){t.return!==null&&(Ii(t,1),yA(t,1,0))}function Fy(t){for(;t===Xd;)Xd=Oo[--Do],Oo[Do]=null,Yd=Oo[--Do],Oo[Do]=null;for(;t===Wi;)Wi=Tn[--Sn],Tn[Sn]=null,Dr=Tn[--Sn],Tn[Sn]=null,Or=Tn[--Sn],Tn[Sn]=null}var pn=null,dn=null,Ke=!1,Fn=null;function _A(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,dn=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:Or,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,dn=null,!0):!1;default:return!1}}function Qm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xm(t){if(Ke){var e=dn;if(e){var n=e;if(!bE(t,e)){if(Qm(t))throw Error(W(418));e=Vs(n.nextSibling);var r=pn;e&&bE(t,e)?_A(r,n):(t.flags=t.flags&-4097|2,Ke=!1,pn=t)}}else{if(Qm(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ke=!1,pn=t}}}function RE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Oc(t){if(t!==pn)return!1;if(!Ke)return RE(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wm(t.type,t.memoizedProps)),e&&(e=dn)){if(Qm(t))throw vA(),Error(W(418));for(;e;)_A(t,e),e=Vs(e.nextSibling)}if(RE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=pn?Vs(t.stateNode.nextSibling):null;return!0}function vA(){for(var t=dn;t;)t=Vs(t.nextSibling)}function ca(){dn=pn=null,Ke=!1}function Uy(t){Fn===null?Fn=[t]:Fn.push(t)}var WO=ts.ReactCurrentBatchConfig;function Il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Dc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CE(t){var e=t._init;return e(t._payload)}function wA(t){function e(v,w){if(t){var E=v.deletions;E===null?(v.deletions=[w],v.flags|=16):E.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Bs(v,w),v.index=0,v.sibling=null,v}function i(v,w,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<w?(v.flags|=2,w):E):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,E,N){return w===null||w.tag!==6?(w=Fp(E,v.mode,N),w.return=v,w):(w=s(w,E),w.return=v,w)}function l(v,w,E,N){var L=E.type;return L===Ro?d(v,w,E.props.children,N,E.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gs&&CE(L)===w.type)?(N=s(w,E.props),N.ref=Il(v,w,E),N.return=v,N):(N=_d(E.type,E.key,E.props,null,v.mode,N),N.ref=Il(v,w,E),N.return=v,N)}function c(v,w,E,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Up(E,v.mode,N),w.return=v,w):(w=s(w,E.children||[]),w.return=v,w)}function d(v,w,E,N,L){return w===null||w.tag!==7?(w=ji(E,v.mode,N,L),w.return=v,w):(w=s(w,E),w.return=v,w)}function h(v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Fp(""+w,v.mode,E),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sc:return E=_d(w.type,w.key,w.props,null,v.mode,E),E.ref=Il(v,null,w),E.return=v,E;case bo:return w=Up(w,v.mode,E),w.return=v,w;case gs:var N=w._init;return h(v,N(w._payload),E)}if(Dl(w)||vl(w))return w=ji(w,v.mode,E,null),w.return=v,w;Dc(v,w)}return null}function p(v,w,E,N){var L=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return L!==null?null:a(v,w,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sc:return E.key===L?l(v,w,E,N):null;case bo:return E.key===L?c(v,w,E,N):null;case gs:return L=E._init,p(v,w,L(E._payload),N)}if(Dl(E)||vl(E))return L!==null?null:d(v,w,E,N,null);Dc(v,E)}return null}function y(v,w,E,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(E)||null,a(w,v,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sc:return v=v.get(N.key===null?E:N.key)||null,l(w,v,N,L);case bo:return v=v.get(N.key===null?E:N.key)||null,c(w,v,N,L);case gs:var M=N._init;return y(v,w,E,M(N._payload),L)}if(Dl(N)||vl(N))return v=v.get(E)||null,d(w,v,N,L,null);Dc(w,N)}return null}function I(v,w,E,N){for(var L=null,M=null,A=w,S=w=0,x=null;A!==null&&S<E.length;S++){A.index>S?(x=A,A=null):x=A.sibling;var k=p(v,A,E[S],N);if(k===null){A===null&&(A=x);break}t&&A&&k.alternate===null&&e(v,A),w=i(k,w,S),M===null?L=k:M.sibling=k,M=k,A=x}if(S===E.length)return n(v,A),Ke&&Ii(v,S),L;if(A===null){for(;S<E.length;S++)A=h(v,E[S],N),A!==null&&(w=i(A,w,S),M===null?L=A:M.sibling=A,M=A);return Ke&&Ii(v,S),L}for(A=r(v,A);S<E.length;S++)x=y(A,v,S,E[S],N),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?S:x.key),w=i(x,w,S),M===null?L=x:M.sibling=x,M=x);return t&&A.forEach(function(O){return e(v,O)}),Ke&&Ii(v,S),L}function _(v,w,E,N){var L=vl(E);if(typeof L!="function")throw Error(W(150));if(E=L.call(E),E==null)throw Error(W(151));for(var M=L=null,A=w,S=w=0,x=null,k=E.next();A!==null&&!k.done;S++,k=E.next()){A.index>S?(x=A,A=null):x=A.sibling;var O=p(v,A,k.value,N);if(O===null){A===null&&(A=x);break}t&&A&&O.alternate===null&&e(v,A),w=i(O,w,S),M===null?L=O:M.sibling=O,M=O,A=x}if(k.done)return n(v,A),Ke&&Ii(v,S),L;if(A===null){for(;!k.done;S++,k=E.next())k=h(v,k.value,N),k!==null&&(w=i(k,w,S),M===null?L=k:M.sibling=k,M=k);return Ke&&Ii(v,S),L}for(A=r(v,A);!k.done;S++,k=E.next())k=y(A,v,S,k.value,N),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?S:k.key),w=i(k,w,S),M===null?L=k:M.sibling=k,M=k);return t&&A.forEach(function(D){return e(v,D)}),Ke&&Ii(v,S),L}function T(v,w,E,N){if(typeof E=="object"&&E!==null&&E.type===Ro&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Sc:e:{for(var L=E.key,M=w;M!==null;){if(M.key===L){if(L=E.type,L===Ro){if(M.tag===7){n(v,M.sibling),w=s(M,E.props.children),w.return=v,v=w;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gs&&CE(L)===M.type){n(v,M.sibling),w=s(M,E.props),w.ref=Il(v,M,E),w.return=v,v=w;break e}n(v,M);break}else e(v,M);M=M.sibling}E.type===Ro?(w=ji(E.props.children,v.mode,N,E.key),w.return=v,v=w):(N=_d(E.type,E.key,E.props,null,v.mode,N),N.ref=Il(v,w,E),N.return=v,v=N)}return o(v);case bo:e:{for(M=E.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(v,w.sibling),w=s(w,E.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Up(E,v.mode,N),w.return=v,v=w}return o(v);case gs:return M=E._init,T(v,w,M(E._payload),N)}if(Dl(E))return I(v,w,E,N);if(vl(E))return _(v,w,E,N);Dc(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,E),w.return=v,v=w):(n(v,w),w=Fp(E,v.mode,N),w.return=v,v=w),o(v)):n(v,w)}return T}var da=wA(!0),EA=wA(!1),Zd=di(null),Jd=null,Lo=null,jy=null;function By(){jy=Lo=Jd=null}function $y(t){var e=Zd.current;He(Zd),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $o(t,e){Jd=t,jy=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(jy!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(Jd===null)throw Error(W(308));Lo=t,Jd.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var xi=null;function zy(t){xi===null?xi=[t]:xi.push(t)}function TA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,zy(e)):(n.next=s.next,s.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function qy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zr(t,n)}return s=r.interleaved,s===null?(e.next=e,zy(r)):(e.next=s.next,s.next=e),r.interleaved=e,zr(t,n)}function hd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xy(t,n)}}function xE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eh(t,e,n,r){var s=t.updateQueue;ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,_=a;switch(p=e,y=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){h=I.call(y,h,p);break e}h=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=_.payload,p=typeof I=="function"?I.call(y,h,p):I,p==null)break e;h=Ye({},h,p);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Gi|=o,t.lanes=o,t.memoizedState=h}}function kE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var qu={},ur=di(qu),_u=di(qu),vu=di(qu);function ki(t){if(t===qu)throw Error(W(174));return t}function Wy(t,e){switch(Fe(vu,e),Fe(_u,t),Fe(ur,qu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pm(e,t)}He(ur),Fe(ur,e)}function ha(){He(ur),He(_u),He(vu)}function IA(t){ki(vu.current);var e=ki(ur.current),n=Pm(e,t.type);e!==n&&(Fe(_u,t),Fe(ur,n))}function Hy(t){_u.current===t&&(He(ur),He(_u))}var Qe=di(0);function th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Np=[];function Gy(){for(var t=0;t<Np.length;t++)Np[t]._workInProgressVersionPrimary=null;Np.length=0}var fd=ts.ReactCurrentDispatcher,Op=ts.ReactCurrentBatchConfig,Hi=0,Xe=null,gt=null,St=null,nh=!1,Kl=!1,wu=0,HO=0;function Ot(){throw Error(W(321))}function Ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function Qy(t,e,n,r,s,i){if(Hi=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fd.current=t===null||t.memoizedState===null?XO:YO,t=n(r,s),Kl){i=0;do{if(Kl=!1,wu=0,25<=i)throw Error(W(301));i+=1,St=gt=null,e.updateQueue=null,fd.current=ZO,t=n(r,s)}while(Kl)}if(fd.current=rh,e=gt!==null&&gt.next!==null,Hi=0,St=gt=Xe=null,nh=!1,e)throw Error(W(300));return t}function Xy(){var t=wu!==0;return wu=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Xe.memoizedState=St=t:St=St.next=t,St}function xn(){if(gt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=St===null?Xe.memoizedState:St.next;if(e!==null)St=e,gt=t;else{if(t===null)throw Error(W(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?Xe.memoizedState=St=t:St=St.next=t}return St}function Eu(t,e){return typeof e=="function"?e(t):e}function Dp(t){var e=xn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Hi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=d,Gi|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,qn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,Gi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lp(t){var e=xn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qn(i,e.memoizedState)||(tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function AA(){}function bA(t,e){var n=Xe,r=xn(),s=e(),i=!qn(r.memoizedState,s);if(i&&(r.memoizedState=s,tn=!0),r=r.queue,Yy(xA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Tu(9,CA.bind(null,n,r,s,e),void 0,null),It===null)throw Error(W(349));Hi&30||RA(n,e,s)}return s}function RA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CA(t,e,n,r){e.value=n,e.getSnapshot=r,kA(e)&&PA(t)}function xA(t,e,n){return n(function(){kA(e)&&PA(t)})}function kA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function PA(t){var e=zr(t,1);e!==null&&Bn(e,t,1,-1)}function PE(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},e.queue=t,t=t.dispatch=QO.bind(null,Xe,t),[e.memoizedState,t]}function Tu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NA(){return xn().memoizedState}function pd(t,e,n,r){var s=Jn();Xe.flags|=t,s.memoizedState=Tu(1|e,n,void 0,r===void 0?null:r)}function Qh(t,e,n,r){var s=xn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&Ky(r,o.deps)){s.memoizedState=Tu(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=Tu(1|e,n,i,r)}function NE(t,e){return pd(8390656,8,t,e)}function Yy(t,e){return Qh(2048,8,t,e)}function OA(t,e){return Qh(4,2,t,e)}function DA(t,e){return Qh(4,4,t,e)}function LA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MA(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4,4,LA.bind(null,e,t),n)}function Zy(){}function VA(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FA(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UA(t,e,n){return Hi&21?(qn(n,e)||(n=qI(),Xe.lanes|=n,Gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function GO(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{De=n,Op.transition=r}}function jA(){return xn().memoizedState}function KO(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BA(t))$A(e,n);else if(n=TA(t,e,n,r),n!==null){var s=Gt();Bn(n,t,r,s),zA(n,e,r)}}function QO(t,e,n){var r=js(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BA(t))$A(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qn(a,o)){var l=e.interleaved;l===null?(s.next=s,zy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=TA(t,e,s,r),n!==null&&(s=Gt(),Bn(n,t,r,s),zA(n,e,r))}}function BA(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function $A(t,e){Kl=nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xy(t,n)}}var rh={readContext:Cn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},XO={readContext:Cn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:NE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pd(4194308,4,LA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pd(4194308,4,t,e)},useInsertionEffect:function(t,e){return pd(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KO.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:PE,useDebugValue:Zy,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=PE(!1),e=t[0];return t=GO.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=Jn();if(Ke){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),It===null)throw Error(W(349));Hi&30||RA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,NE(xA.bind(null,r,i,t),[t]),r.flags|=2048,Tu(9,CA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jn(),e=It.identifierPrefix;if(Ke){var n=Dr,r=Or;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YO={readContext:Cn,useCallback:VA,useContext:Cn,useEffect:Yy,useImperativeHandle:MA,useInsertionEffect:OA,useLayoutEffect:DA,useMemo:FA,useReducer:Dp,useRef:NA,useState:function(){return Dp(Eu)},useDebugValue:Zy,useDeferredValue:function(t){var e=xn();return UA(e,gt.memoizedState,t)},useTransition:function(){var t=Dp(Eu)[0],e=xn().memoizedState;return[t,e]},useMutableSource:AA,useSyncExternalStore:bA,useId:jA,unstable_isNewReconciler:!1},ZO={readContext:Cn,useCallback:VA,useContext:Cn,useEffect:Yy,useImperativeHandle:MA,useInsertionEffect:OA,useLayoutEffect:DA,useMemo:FA,useReducer:Lp,useRef:NA,useState:function(){return Lp(Eu)},useDebugValue:Zy,useDeferredValue:function(t){var e=xn();return gt===null?e.memoizedState=t:UA(e,gt.memoizedState,t)},useTransition:function(){var t=Lp(Eu)[0],e=xn().memoizedState;return[t,e]},useMutableSource:AA,useSyncExternalStore:bA,useId:jA,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),s=js(t),i=Fr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Bn(e,t,s,r),hd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),s=js(t),i=Fr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fs(t,i,s),e!==null&&(Bn(e,t,s,r),hd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=js(t),s=Fr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(Bn(e,t,r,n),hd(e,t,r))}};function OE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!pu(n,r)||!pu(s,i):!0}function qA(t,e,n){var r=!1,s=Xs,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=rn(e)?qi:Ut.current,r=e.contextTypes,i=(r=r!=null)?ua(t,s):Xs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function DE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function Jm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=rn(e)?qi:Ut.current,s.context=ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xh.enqueueReplaceState(s,s.state,null),eh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fa(t,e){try{var n="",r=e;do n+=bN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JO=typeof WeakMap=="function"?WeakMap:Map;function WA(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ih||(ih=!0,cg=r),eg(t,e)},n}function HA(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){eg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){eg(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function LE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fD.bind(null,t,e,n),e.then(t,t))}function ME(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var eD=ts.ReactCurrentOwner,tn=!1;function Wt(t,e,n,r){e.child=t===null?EA(e,null,n,r):da(e,t.child,n,r)}function FE(t,e,n,r,s){n=n.render;var i=e.ref;return $o(e,s),r=Qy(t,e,n,r,i,s),n=Xy(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(Ke&&n&&Vy(e),e.flags|=1,Wt(t,e,r,s),e.child)}function UE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!o_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,GA(t,e,i,r,s)):(t=_d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pu,n(o,r)&&t.ref===e.ref)return qr(t,e,s)}return e.flags|=1,t=Bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function GA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(pu(i,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,qr(t,e,s)}return tg(t,e,n,r,s)}function KA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Vo,ln),ln|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Vo,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(Vo,ln),ln|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(Vo,ln),ln|=r;return Wt(t,e,s,n),e.child}function QA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tg(t,e,n,r,s){var i=rn(n)?qi:Ut.current;return i=ua(e,i),$o(e,s),n=Qy(t,e,n,r,i,s),r=Xy(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qr(t,e,s)):(Ke&&r&&Vy(e),e.flags|=1,Wt(t,e,n,s),e.child)}function jE(t,e,n,r,s){if(rn(n)){var i=!0;Qd(e)}else i=!1;if($o(e,s),e.stateNode===null)md(t,e),qA(e,n,r),Jm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=rn(n)?qi:Ut.current,c=ua(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&DE(e,o,r,c),ys=!1;var p=e.memoizedState;o.state=p,eh(e,r,o,s),l=e.memoizedState,a!==r||p!==l||nn.current||ys?(typeof d=="function"&&(Zm(e,n,d,r),l=e.memoizedState),(a=ys||OE(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Nn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=rn(n)?qi:Ut.current,l=ua(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&DE(e,o,r,l),ys=!1,p=e.memoizedState,o.state=p,eh(e,r,o,s);var I=e.memoizedState;a!==h||p!==I||nn.current||ys?(typeof y=="function"&&(Zm(e,n,y,r),I=e.memoizedState),(c=ys||OE(e,n,c,r,p,I,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ng(t,e,n,r,i,s)}function ng(t,e,n,r,s,i){QA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&AE(e,n,!1),qr(t,e,i);r=e.stateNode,eD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=da(e,t.child,null,i),e.child=da(e,null,a,i)):Wt(t,e,a,i),e.memoizedState=r.state,s&&AE(e,n,!0),e.child}function XA(t){var e=t.stateNode;e.pendingContext?IE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IE(t,e.context,!1),Wy(t,e.containerInfo)}function BE(t,e,n,r,s){return ca(),Uy(s),e.flags|=256,Wt(t,e,n,r),e.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function YA(t,e,n){var r=e.pendingProps,s=Qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Qe,s&1),t===null)return Xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jh(o,r,0,null),t=ji(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sg(n),e.memoizedState=rg,t):Jy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return tD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Bs(a,i):(i=ji(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=rg,r}return i=t.child,t=i.sibling,r=Bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jy(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,n,r){return r!==null&&Uy(r),da(e,t.child,null,n),t=Jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Mp(Error(W(422))),Lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jh({mode:"visible",children:r.children},s,0,null),i=ji(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&da(e,t.child,null,o),e.child.memoizedState=sg(o),e.memoizedState=rg,i);if(!(e.mode&1))return Lc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=Mp(i,r,void 0),Lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,tn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zr(t,s),Bn(r,t,s,-1))}return i_(),r=Mp(Error(W(421))),Lc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,dn=Vs(s.nextSibling),pn=e,Ke=!0,Fn=null,t!==null&&(Tn[Sn++]=Or,Tn[Sn++]=Dr,Tn[Sn++]=Wi,Or=t.id,Dr=t.overflow,Wi=e),e=Jy(e,r.children),e.flags|=4096,e)}function $E(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function Vp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$E(t,n,e);else if(t.tag===19)$E(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&th(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&th(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vp(e,!0,n,null,i);break;case"together":Vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nD(t,e,n){switch(e.tag){case 3:XA(e),ca();break;case 5:IA(e);break;case 1:rn(e.type)&&Qd(e);break;case 4:Wy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(Zd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?YA(t,e,n):(Fe(Qe,Qe.current&1),t=qr(t,e,n),t!==null?t.sibling:null);Fe(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,KA(t,e,n)}return qr(t,e,n)}var JA,ig,eb,tb;JA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ig=function(){};eb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ki(ur.current);var i=null;switch(n){case"input":s=Rm(t,s),r=Rm(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=km(t,s),r=km(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gd)}Nm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(au.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(au.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};tb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Al(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rD(t,e,n){var r=e.pendingProps;switch(Fy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return rn(e.type)&&Kd(),Dt(e),null;case 3:return r=e.stateNode,ha(),He(nn),He(Ut),Gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fn!==null&&(fg(Fn),Fn=null))),ig(t,e),Dt(e),null;case 5:Hy(e);var s=ki(vu.current);if(n=e.type,t!==null&&e.stateNode!=null)eb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Dt(e),null}if(t=ki(ur.current),Oc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sr]=e,r[yu]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<Ml.length;s++)ze(Ml[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":Yw(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":Jw(r,i),ze("invalid",r)}Nm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Nc(r.textContent,a,t),s=["children",""+a]):au.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Ic(r),Zw(r,i,!0);break;case"textarea":Ic(r),eE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[yu]=r,JA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Om(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ml.length;s++)ze(Ml[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":Yw(t,r),s=Rm(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),ze("invalid",t);break;case"textarea":Jw(t,r),s=km(t,r),ze("invalid",t);break;default:s=r}Nm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?NI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lu(t,l):typeof l=="number"&&lu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(au.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&Sy(t,i,l,o))}switch(n){case"input":Ic(t),Zw(t,r,!1);break;case"textarea":Ic(t),eE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)tb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ki(vu.current),ki(ur.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Dt(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&dn!==null&&e.mode&1&&!(e.flags&128))vA(),ca(),e.flags|=98560,i=!1;else if(i=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[sr]=e}else ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),i=!1}else Fn!==null&&(fg(Fn),Fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?yt===0&&(yt=3):i_())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return ha(),ig(t,e),t===null&&mu(e.stateNode.containerInfo),Dt(e),null;case 10:return $y(e.type._context),Dt(e),null;case 17:return rn(e.type)&&Kd(),Dt(e),null;case 19:if(He(Qe),i=e.memoizedState,i===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Al(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=th(t),o!==null){for(e.flags|=128,Al(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Qe,Qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&at()>pa&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304)}else{if(!r)if(t=th(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Dt(e),null}else 2*at()-i.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,Al(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=at(),e.sibling=null,n=Qe.current,Fe(Qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return s_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function sD(t,e){switch(Fy(e),e.tag){case 1:return rn(e.type)&&Kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),He(nn),He(Ut),Gy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hy(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return ha(),null;case 10:return $y(e.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var Mc=!1,Vt=!1,iD=typeof WeakSet=="function"?WeakSet:Set,te=null;function Mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function og(t,e,n){try{n()}catch(r){rt(t,e,r)}}var zE=!1;function oD(t,e){if(zm=qd,t=oA(),My(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:t,selectionRange:n},qd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var _=I.memoizedProps,T=I.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Nn(e.type,_),T);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){rt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return I=zE,zE=!1,I}function Ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&og(e,n,i)}s=s.next}while(s!==r)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nb(t){var e=t.alternate;e!==null&&(t.alternate=null,nb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[yu],delete e[Gm],delete e[$O],delete e[zO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rb(t){return t.tag===5||t.tag===3||t.tag===4}function qE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gd));else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}function ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ug(t,e,n),t=t.sibling;t!==null;)ug(t,e,n),t=t.sibling}var At=null,Mn=!1;function us(t,e,n){for(n=n.child;n!==null;)sb(t,e,n),n=n.sibling}function sb(t,e,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:Vt||Mo(n,e);case 6:var r=At,s=Mn;At=null,us(t,e,n),At=r,Mn=s,At!==null&&(Mn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Mn?(t=At,n=n.stateNode,t.nodeType===8?kp(t.parentNode,n):t.nodeType===1&&kp(t,n),hu(t)):kp(At,n.stateNode));break;case 4:r=At,s=Mn,At=n.stateNode.containerInfo,Mn=!0,us(t,e,n),At=r,Mn=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&og(n,e,o),s=s.next}while(s!==r)}us(t,e,n);break;case 1:if(!Vt&&(Mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}us(t,e,n);break;case 21:us(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,us(t,e,n),Vt=r):us(t,e,n);break;default:us(t,e,n)}}function WE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iD),e.forEach(function(r){var s=mD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Mn=!1;break e;case 3:At=a.stateNode.containerInfo,Mn=!0;break e;case 4:At=a.stateNode.containerInfo,Mn=!0;break e}a=a.return}if(At===null)throw Error(W(160));sb(i,o,s),At=null,Mn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ib(e,t),e=e.sibling}function ib(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),Yn(t),r&4){try{Ql(3,t,t.return),Yh(3,t)}catch(_){rt(t,t.return,_)}try{Ql(5,t,t.return)}catch(_){rt(t,t.return,_)}}break;case 1:Pn(e,t),Yn(t),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(Pn(e,t),Yn(t),r&512&&n!==null&&Mo(n,n.return),t.flags&32){var s=t.stateNode;try{lu(s,"")}catch(_){rt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RI(s,i),Om(a,o);var c=Om(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?NI(s,h):d==="dangerouslySetInnerHTML"?kI(s,h):d==="children"?lu(s,h):Sy(s,d,h,c)}switch(a){case"input":Cm(s,i);break;case"textarea":CI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Fo(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fo(s,!!i.multiple,i.defaultValue,!0):Fo(s,!!i.multiple,i.multiple?[]:"",!1))}s[yu]=i}catch(_){rt(t,t.return,_)}}break;case 6:if(Pn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){rt(t,t.return,_)}}break;case 3:if(Pn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hu(e.containerInfo)}catch(_){rt(t,t.return,_)}break;case 4:Pn(e,t),Yn(t);break;case 13:Pn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(n_=at())),r&4&&WE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||d,Pn(e,t),Vt=c):Pn(e,t),Yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(h=te=d;te!==null;){switch(p=te,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ql(4,p,p.return);break;case 1:Mo(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(_){rt(r,n,_)}}break;case 5:Mo(p,p.return);break;case 22:if(p.memoizedState!==null){GE(h);continue}}y!==null?(y.return=p,te=y):GE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PI("display",o))}catch(_){rt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){rt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pn(e,t),Yn(t),r&4&&WE(t);break;case 21:break;default:Pn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rb(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(lu(s,""),r.flags&=-33);var i=qE(t);ug(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qE(t);lg(t,a,o);break;default:throw Error(W(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aD(t,e,n){te=t,ob(t)}function ob(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Mc;var c=Vt;if(Mc=o,(Vt=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?KE(s):l!==null?(l.return=o,te=l):KE(s);for(;i!==null;)te=i,ob(i),i=i.sibling;te=s,Mc=a,Vt=c}HE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):HE(t)}}function HE(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Nn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Vt||e.flags&512&&ag(e)}catch(p){rt(e,e.return,p)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function GE(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function KE(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yh(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){rt(e,s,l)}}var i=e.return;try{ag(e)}catch(l){rt(e,i,l)}break;case 5:var o=e.return;try{ag(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var lD=Math.ceil,sh=ts.ReactCurrentDispatcher,e_=ts.ReactCurrentOwner,Rn=ts.ReactCurrentBatchConfig,ke=0,It=null,dt=null,Ct=0,ln=0,Vo=di(0),yt=0,Su=null,Gi=0,Zh=0,t_=0,Xl=null,Jt=null,n_=0,pa=1/0,Cr=null,ih=!1,cg=null,Us=null,Vc=!1,Ps=null,oh=0,Yl=0,dg=null,gd=-1,yd=0;function Gt(){return ke&6?at():gd!==-1?gd:gd=at()}function js(t){return t.mode&1?ke&2&&Ct!==0?Ct&-Ct:WO.transition!==null?(yd===0&&(yd=qI()),yd):(t=De,t!==0||(t=window.event,t=t===void 0?16:YI(t.type)),t):1}function Bn(t,e,n,r){if(50<Yl)throw Yl=0,dg=null,Error(W(185));Bu(t,n,r),(!(ke&2)||t!==It)&&(t===It&&(!(ke&2)&&(Zh|=n),yt===4&&ws(t,Ct)),sn(t,r),n===1&&ke===0&&!(e.mode&1)&&(pa=at()+500,Kh&&hi()))}function sn(t,e){var n=t.callbackNode;WN(t,e);var r=zd(t,t===It?Ct:0);if(r===0)n!==null&&rE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rE(n),e===1)t.tag===0?qO(QE.bind(null,t)):gA(QE.bind(null,t)),jO(function(){!(ke&6)&&hi()}),n=null;else{switch(WI(r)){case 1:n=Cy;break;case 4:n=$I;break;case 16:n=$d;break;case 536870912:n=zI;break;default:n=$d}n=pb(n,ab.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ab(t,e){if(gd=-1,yd=0,ke&6)throw Error(W(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=zd(t,t===It?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ah(t,r);else{e=r;var s=ke;ke|=2;var i=ub();(It!==t||Ct!==e)&&(Cr=null,pa=at()+500,Ui(t,e));do try{dD();break}catch(a){lb(t,a)}while(!0);By(),sh.current=i,ke=s,dt!==null?e=0:(It=null,Ct=0,e=yt)}if(e!==0){if(e===2&&(s=Fm(t),s!==0&&(r=s,e=hg(t,s))),e===1)throw n=Su,Ui(t,0),ws(t,r),sn(t,at()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!uD(s)&&(e=ah(t,r),e===2&&(i=Fm(t),i!==0&&(r=i,e=hg(t,i))),e===1))throw n=Su,Ui(t,0),ws(t,r),sn(t,at()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ai(t,Jt,Cr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=n_+500-at(),10<e)){if(zd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hm(Ai.bind(null,t,Jt,Cr),e);break}Ai(t,Jt,Cr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-jn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lD(r/1960))-r,10<r){t.timeoutHandle=Hm(Ai.bind(null,t,Jt,Cr),r);break}Ai(t,Jt,Cr);break;case 5:Ai(t,Jt,Cr);break;default:throw Error(W(329))}}}return sn(t,at()),t.callbackNode===n?ab.bind(null,t):null}function hg(t,e){var n=Xl;return t.current.memoizedState.isDehydrated&&(Ui(t,e).flags|=256),t=ah(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&fg(e)),t}function fg(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function uD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~t_,e&=~Zh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function QE(t){if(ke&6)throw Error(W(327));zo();var e=zd(t,0);if(!(e&1))return sn(t,at()),null;var n=ah(t,e);if(t.tag!==0&&n===2){var r=Fm(t);r!==0&&(e=r,n=hg(t,r))}if(n===1)throw n=Su,Ui(t,0),ws(t,e),sn(t,at()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ai(t,Jt,Cr),sn(t,at()),null}function r_(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(pa=at()+500,Kh&&hi())}}function Ki(t){Ps!==null&&Ps.tag===0&&!(ke&6)&&zo();var e=ke;ke|=1;var n=Rn.transition,r=De;try{if(Rn.transition=null,De=1,t)return t()}finally{De=r,Rn.transition=n,ke=e,!(ke&6)&&hi()}}function s_(){ln=Vo.current,He(Vo)}function Ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UO(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Fy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kd();break;case 3:ha(),He(nn),He(Ut),Gy();break;case 5:Hy(r);break;case 4:ha();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:$y(r.type._context);break;case 22:case 23:s_()}n=n.return}if(It=t,dt=t=Bs(t.current,null),Ct=ln=e,yt=0,Su=null,t_=Zh=Gi=0,Jt=Xl=null,xi!==null){for(e=0;e<xi.length;e++)if(n=xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xi=null}return t}function lb(t,e){do{var n=dt;try{if(By(),fd.current=rh,nh){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nh=!1}if(Hi=0,St=gt=Xe=null,Kl=!1,wu=0,e_.current=null,n===null||n.return===null){yt=1,Su=e,dt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ME(o);if(y!==null){y.flags&=-257,VE(y,o,a,i,e),y.mode&1&&LE(i,c,e),e=y,l=c;var I=e.updateQueue;if(I===null){var _=new Set;_.add(l),e.updateQueue=_}else I.add(l);break e}else{if(!(e&1)){LE(i,c,e),i_();break e}l=Error(W(426))}}else if(Ke&&a.mode&1){var T=ME(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),VE(T,o,a,i,e),Uy(fa(l,a));break e}}i=l=fa(l,a),yt!==4&&(yt=2),Xl===null?Xl=[i]:Xl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=WA(i,l,e);xE(i,v);break e;case 1:a=l;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Us===null||!Us.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=HA(i,a,e);xE(i,N);break e}}i=i.return}while(i!==null)}db(n)}catch(L){e=L,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function ub(){var t=sh.current;return sh.current=rh,t===null?rh:t}function i_(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(Gi&268435455)&&!(Zh&268435455)||ws(It,Ct)}function ah(t,e){var n=ke;ke|=2;var r=ub();(It!==t||Ct!==e)&&(Cr=null,Ui(t,e));do try{cD();break}catch(s){lb(t,s)}while(!0);if(By(),ke=n,sh.current=r,dt!==null)throw Error(W(261));return It=null,Ct=0,yt}function cD(){for(;dt!==null;)cb(dt)}function dD(){for(;dt!==null&&!MN();)cb(dt)}function cb(t){var e=fb(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?db(t):dt=e,e_.current=null}function db(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sD(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,dt=null;return}}else if(n=rD(n,e,ln),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);yt===0&&(yt=5)}function Ai(t,e,n){var r=De,s=Rn.transition;try{Rn.transition=null,De=1,hD(t,e,n,r)}finally{Rn.transition=s,De=r}return null}function hD(t,e,n,r){do zo();while(Ps!==null);if(ke&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(HN(t,i),t===It&&(dt=It=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vc||(Vc=!0,pb($d,function(){return zo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rn.transition,Rn.transition=null;var o=De;De=1;var a=ke;ke|=4,e_.current=null,oD(t,n),ib(n,t),NO(qm),qd=!!zm,qm=zm=null,t.current=n,aD(n),VN(),ke=a,De=o,Rn.transition=i}else t.current=n;if(Vc&&(Vc=!1,Ps=t,oh=s),i=t.pendingLanes,i===0&&(Us=null),jN(n.stateNode),sn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ih)throw ih=!1,t=cg,cg=null,t;return oh&1&&t.tag!==0&&zo(),i=t.pendingLanes,i&1?t===dg?Yl++:(Yl=0,dg=t):Yl=0,hi(),null}function zo(){if(Ps!==null){var t=WI(oh),e=Rn.transition,n=De;try{if(Rn.transition=null,De=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,oh=0,ke&6)throw Error(W(331));var s=ke;for(ke|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Ql(8,d,i)}var h=d.child;if(h!==null)h.return=d,te=h;else for(;te!==null;){d=te;var p=d.sibling,y=d.return;if(nb(d),d===c){te=null;break}if(p!==null){p.return=y,te=p;break}te=y}}}var I=i.alternate;if(I!==null){var _=I.child;if(_!==null){I.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ql(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var w=t.current;for(te=w;te!==null;){o=te;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,te=E;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yh(9,a)}}catch(L){rt(a,a.return,L)}if(a===o){te=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,te=N;break e}te=a.return}}if(ke=s,hi(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(zh,t)}catch{}r=!0}return r}finally{De=n,Rn.transition=e}}return!1}function XE(t,e,n){e=fa(n,e),e=WA(t,e,1),t=Fs(t,e,1),e=Gt(),t!==null&&(Bu(t,1,e),sn(t,e))}function rt(t,e,n){if(t.tag===3)XE(t,t,n);else for(;e!==null;){if(e.tag===3){XE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=fa(n,t),t=HA(e,t,1),e=Fs(e,t,1),t=Gt(),e!==null&&(Bu(e,1,t),sn(e,t));break}}e=e.return}}function fD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ct&n)===n&&(yt===4||yt===3&&(Ct&130023424)===Ct&&500>at()-n_?Ui(t,0):t_|=n),sn(t,e)}function hb(t,e){e===0&&(t.mode&1?(e=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):e=1);var n=Gt();t=zr(t,e),t!==null&&(Bu(t,e,n),sn(t,n))}function pD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hb(t,n)}function mD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),hb(t,n)}var fb;fb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,nD(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ke&&e.flags&1048576&&yA(e,Yd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;md(t,e),t=e.pendingProps;var s=ua(e,Ut.current);$o(e,n),s=Qy(null,e,r,t,s,n);var i=Xy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(i=!0,Qd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qy(e),s.updater=Xh,e.stateNode=s,s._reactInternals=e,Jm(e,r,t,n),e=ng(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&Vy(e),Wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(md(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=yD(r),t=Nn(r,t),s){case 0:e=tg(null,e,r,t,n);break e;case 1:e=jE(null,e,r,t,n);break e;case 11:e=FE(null,e,r,t,n);break e;case 14:e=UE(null,e,r,Nn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),tg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),jE(t,e,r,s,n);case 3:e:{if(XA(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,SA(t,e),eh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fa(Error(W(423)),e),e=BE(t,e,r,n,s);break e}else if(r!==s){s=fa(Error(W(424)),e),e=BE(t,e,r,n,s);break e}else for(dn=Vs(e.stateNode.containerInfo.firstChild),pn=e,Ke=!0,Fn=null,n=EA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ca(),r===s){e=qr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return IA(e),t===null&&Xm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Wm(r,s)?o=null:i!==null&&Wm(r,i)&&(e.flags|=32),QA(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Xm(e),null;case 13:return YA(t,e,n);case 4:return Wy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=da(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),FE(t,e,r,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(Zd,r._currentValue),r._currentValue=o,i!==null)if(qn(i.value,o)){if(i.children===s.children&&!nn.current){e=qr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ym(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ym(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$o(e,n),s=Cn(s),r=r(s),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,s=Nn(r,e.pendingProps),s=Nn(r.type,s),UE(t,e,r,s,n);case 15:return GA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Nn(r,s),md(t,e),e.tag=1,rn(r)?(t=!0,Qd(e)):t=!1,$o(e,n),qA(e,r,s),Jm(e,r,s,n),ng(null,e,r,!0,t,n);case 19:return ZA(t,e,n);case 22:return KA(t,e,n)}throw Error(W(156,e.tag))};function pb(t,e){return BI(t,e)}function gD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new gD(t,e,n,r)}function o_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yD(t){if(typeof t=="function")return o_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ay)return 11;if(t===by)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")o_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ro:return ji(n.children,s,i,e);case Iy:o=8,s|=8;break;case Sm:return t=bn(12,n,e,s|2),t.elementType=Sm,t.lanes=i,t;case Im:return t=bn(13,n,e,s),t.elementType=Im,t.lanes=i,t;case Am:return t=bn(19,n,e,s),t.elementType=Am,t.lanes=i,t;case II:return Jh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TI:o=10;break e;case SI:o=9;break e;case Ay:o=11;break e;case by:o=14;break e;case gs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ji(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function Jh(t,e,n,r){return t=bn(22,t,r,e),t.elementType=II,t.lanes=n,t.stateNode={isHidden:!1},t}function Fp(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Up(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _D(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function a_(t,e,n,r,s,i,o,a,l){return t=new _D(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(i),t}function vD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mb(t){if(!t)return Xs;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(rn(n))return mA(t,n,e)}return e}function gb(t,e,n,r,s,i,o,a,l){return t=a_(n,r,!0,t,s,i,o,a,l),t.context=mb(null),n=t.current,r=Gt(),s=js(n),i=Fr(r,s),i.callback=e??null,Fs(n,i,s),t.current.lanes=s,Bu(t,s,r),sn(t,r),t}function ef(t,e,n,r){var s=e.current,i=Gt(),o=js(s);return n=mb(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,o),t!==null&&(Bn(t,s,o,i),hd(t,s,o)),o}function lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function l_(t,e){YE(t,e),(t=t.alternate)&&YE(t,e)}function wD(){return null}var yb=typeof reportError=="function"?reportError:function(t){console.error(t)};function u_(t){this._internalRoot=t}tf.prototype.render=u_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));ef(t,e,null,null)};tf.prototype.unmount=u_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){ef(null,t,null,null)}),e[$r]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=KI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vs.length&&e!==0&&e<vs[n].priority;n++);vs.splice(n,0,t),n===0&&XI(t)}};function c_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZE(){}function ED(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=lh(o);i.call(c)}}var o=gb(e,r,t,0,null,!1,!1,"",ZE);return t._reactRootContainer=o,t[$r]=o.current,mu(t.nodeType===8?t.parentNode:t),Ki(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=lh(l);a.call(c)}}var l=a_(t,0,!1,null,null,!1,!1,"",ZE);return t._reactRootContainer=l,t[$r]=l.current,mu(t.nodeType===8?t.parentNode:t),Ki(function(){ef(e,l,n,r)}),l}function rf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=lh(o);a.call(l)}}ef(e,o,t,s)}else o=ED(n,e,t,s,r);return lh(o)}HI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ll(e.pendingLanes);n!==0&&(xy(e,n|1),sn(e,at()),!(ke&6)&&(pa=at()+500,hi()))}break;case 13:Ki(function(){var r=zr(t,1);if(r!==null){var s=Gt();Bn(r,t,1,s)}}),l_(t,1)}};ky=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=Gt();Bn(e,t,134217728,n)}l_(t,134217728)}};GI=function(t){if(t.tag===13){var e=js(t),n=zr(t,e);if(n!==null){var r=Gt();Bn(n,t,e,r)}l_(t,e)}};KI=function(){return De};QI=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Lm=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gh(r);if(!s)throw Error(W(90));bI(r),Cm(r,s)}}}break;case"textarea":CI(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};LI=r_;MI=Ki;var TD={usingClientEntryPoint:!1,Events:[zu,Po,Gh,OI,DI,r_]},bl={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SD={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UI(t),t===null?null:t.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||wD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{zh=Fc.inject(SD),lr=Fc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TD;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(e))throw Error(W(200));return vD(t,e,null,n)};vn.createRoot=function(t,e){if(!c_(t))throw Error(W(299));var n=!1,r="",s=yb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=a_(t,1,!1,null,null,n,!1,r,s),t[$r]=e.current,mu(t.nodeType===8?t.parentNode:t),new u_(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=UI(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Ki(t)};vn.hydrate=function(t,e,n){if(!nf(e))throw Error(W(200));return rf(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!c_(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gb(e,null,t,1,n??null,s,!1,i,o),t[$r]=e.current,mu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tf(e)};vn.render=function(t,e,n){if(!nf(e))throw Error(W(200));return rf(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!nf(t))throw Error(W(40));return t._reactRootContainer?(Ki(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};vn.unstable_batchedUpdates=r_;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return rf(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function _b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_b)}catch(t){console.error(t)}}_b(),_I.exports=vn;var Wu=_I.exports;const ID=oI(Wu);var vb,JE=Wu;vb=JE.createRoot,JE.hydrateRoot;const AD="modulepreload",bD=function(t){return"/"+t},eT={},ie=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=bD(l),l in eT)return;eT[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":AD,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function RD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var wb={exports:{}},Eb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=g;function CD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xD=typeof Object.is=="function"?Object.is:CD,kD=ma.useState,PD=ma.useEffect,ND=ma.useLayoutEffect,OD=ma.useDebugValue;function DD(t,e){var n=e(),r=kD({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return ND(function(){s.value=n,s.getSnapshot=e,jp(s)&&i({inst:s})},[t,n,e]),PD(function(){return jp(s)&&i({inst:s}),t(function(){jp(s)&&i({inst:s})})},[t]),OD(n),n}function jp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xD(t,n)}catch{return!0}}function LD(t,e){return e()}var MD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LD:DD;Eb.useSyncExternalStore=ma.useSyncExternalStore!==void 0?ma.useSyncExternalStore:MD;wb.exports=Eb;var VD=wb.exports;const FD=$h.useInsertionEffect,UD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jD=UD?g.useLayoutEffect:g.useEffect,BD=FD||jD,Tb=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return BD(()=>{e[0]=t}),e[1]},$D="popstate",d_="pushState",h_="replaceState",zD="hashchange",tT=[$D,d_,h_,zD],qD=t=>{for(const e of tT)addEventListener(e,t);return()=>{for(const e of tT)removeEventListener(e,t)}},Sb=(t,e)=>VD.useSyncExternalStore(qD,t,e),WD=()=>location.search,HD=({ssrSearch:t=""}={})=>Sb(WD,()=>t),nT=()=>location.pathname,GD=({ssrPath:t}={})=>Sb(nT,t?()=>t:nT),KD=(t,{replace:e=!1,state:n=null}={})=>history[e?h_:d_](n,"",t),QD=(t={})=>[GD(t),KD],rT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rT]>"u"){for(const t of[d_,h_]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,rT,{value:!0})}const XD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ib=(t="")=>t==="/"?"":t,YD=(t,e)=>t[0]==="~"?t.slice(1):Ib(e)+t,ZD=(t="",e)=>XD(pg(Ib(t)),pg(e)),JD=t=>t[0]==="?"?t.slice(1):t,pg=t=>{try{return decodeURI(t)}catch{return t}},eL=t=>pg(JD(t)),Ab={hook:QD,searchHook:HD,parser:RD,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},bb=g.createContext(Ab),oo=()=>g.useContext(bb),Rb={},Cb=g.createContext(Rb),tL=()=>g.useContext(Cb),sf=t=>{const[e,n]=t.hook(t);return[ZD(t.base,e),Tb((r,s)=>n(YD(r,t.base),s))]},xb=()=>sf(oo()),nW=()=>{const t=oo();return eL(t.searchHook(t))},f_=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},rW=t=>f_(oo().parser,t,xb()[0]),nL=({children:t,...e})=>{var d,h;const n=oo(),r=e.hook?Ab:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=g.useRef({}),l=a.current,c=l;for(let p in r){const y=p==="base"?r[p]+(e[p]||""):e[p]||r[p];l===c&&y!==c[p]&&(a.current=c={...c}),c[p]=y,(y!==r[p]||y!==s[p])&&(s=c)}return g.createElement(bb.Provider,{value:s,children:t})},sT=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,rL=t=>{let e=g.useRef(Rb);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},J=({path:t,nest:e,match:n,...r})=>{const s=oo(),[i]=sf(s),[o,a,l]=n??f_(s.parser,t,i,e),c=rL({...tL(),...a});if(!o)return null;const d=l?g.createElement(nL,{base:l},sT(r,c)):sT(r,c);return g.createElement(Cb.Provider,{value:c,children:d})},sW=g.forwardRef((t,e)=>{const n=oo(),[r,s]=sf(n),{to:i="",href:o=i,onClick:a,asChild:l,children:c,className:d,replace:h,state:p,...y}=t,I=Tb(T=>{T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0||(a==null||a(T),T.defaultPrevented||(T.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&g.isValidElement(c)?g.cloneElement(c,{onClick:I,href:_}):g.createElement("a",{...y,onClick:I,href:_,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),kb=t=>Array.isArray(t)?t.flatMap(e=>kb(e&&e.type===g.Fragment?e.props.children:e)):[t],Uc=({children:t,location:e})=>{const n=oo(),[r]=sf(n);for(const s of kb(t)){let i=0;if(g.isValidElement(s)&&(i=f_(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Is,gy,YS,iL=(YS=class{constructor(){Re(this,Is,sL);Re(this,gy,!1)}setTimeoutProvider(t){de(this,Is,t)}setTimeout(t,e){return B(this,Is).setTimeout(t,e)}clearTimeout(t){B(this,Is).clearTimeout(t)}setInterval(t,e){return B(this,Is).setInterval(t,e)}clearInterval(t){B(this,Is).clearInterval(t)}},Is=new WeakMap,gy=new WeakMap,YS),mg=new iL;function oL(t){setTimeout(t,0)}var af=typeof window>"u"||"Deno"in globalThis;function On(){}function aL(t,e){return typeof t=="function"?t(e):t}function lL(t){return typeof t=="number"&&t>=0&&t!==1/0}function uL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gg(t,e){return typeof t=="function"?t(e):t}function cL(t,e){return typeof t=="function"?t(e):t}function iT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==p_(o,e.options))return!1}else if(!Au(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function oT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Iu(e.options.mutationKey)!==Iu(i))return!1}else if(!Au(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function p_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Iu)(t)}function Iu(t){return JSON.stringify(t,(e,n)=>yg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Au(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Au(t[n],e[n])):!1}var dL=Object.prototype.hasOwnProperty;function Pb(t,e){if(t===e)return t;const n=aT(t)&&aT(e);if(!n&&!(yg(t)&&yg(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c],h=t[d],p=e[d];if(h===p){a[d]=h,(n?c<s:dL.call(t,d))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[d]=p;continue}const y=Pb(h,p);a[d]=y,y===h&&l++}return s===o&&l===s?t:a}function iW(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function aT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yg(t){if(!lT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lT(t){return Object.prototype.toString.call(t)==="[object Object]"}function hL(t){return new Promise(e=>{mg.setTimeout(e,t)})}function fL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Pb(t,e):e}function pL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var m_=Symbol();function Nb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===m_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function oW(t,e){return typeof t=="function"?t(...e):!!t}var Oi,As,ea,ZS,gL=(ZS=class extends of{constructor(){super();Re(this,Oi);Re(this,As);Re(this,ea);de(this,ea,e=>{if(!af&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,As)||this.setEventListener(B(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,As))==null||e.call(this),de(this,As,void 0))}setEventListener(e){var n;de(this,ea,e),(n=B(this,As))==null||n.call(this),de(this,As,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Oi)!==e&&(de(this,Oi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Oi)=="boolean"?B(this,Oi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oi=new WeakMap,As=new WeakMap,ea=new WeakMap,ZS),Ob=new gL;function yL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var _L=oL;function vL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=_L;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ht=vL(),ta,bs,na,JS,wL=(JS=class extends of{constructor(){super();Re(this,ta,!0);Re(this,bs);Re(this,na);de(this,na,e=>{if(!af&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,bs)||this.setEventListener(B(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,bs))==null||e.call(this),de(this,bs,void 0))}setEventListener(e){var n;de(this,na,e),(n=B(this,bs))==null||n.call(this),de(this,bs,e(this.setOnline.bind(this)))}setOnline(e){B(this,ta)!==e&&(de(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,ta)}},ta=new WeakMap,bs=new WeakMap,na=new WeakMap,JS),uh=new wL;function EL(t){return Math.min(1e3*2**t,3e4)}function Db(t){return(t??"online")==="online"?uh.isOnline():!0}var _g=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lb(t){let e=!1,n=0,r;const s=yL(),i=()=>s.status!=="pending",o=_=>{var T;if(!i()){const v=new _g(_);p(v),(T=t.onCancel)==null||T.call(t,v)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>Ob.isFocused()&&(t.networkMode==="always"||uh.isOnline())&&t.canRun(),d=()=>Db(t.networkMode)&&t.canRun(),h=_=>{i()||(r==null||r(),s.resolve(_))},p=_=>{i()||(r==null||r(),s.reject(_))},y=()=>new Promise(_=>{var T;r=v=>{(i()||c())&&_(v)},(T=t.onPause)==null||T.call(t)}).then(()=>{var _;r=void 0,i()||(_=t.onContinue)==null||_.call(t)}),I=()=>{if(i())return;let _;const T=n===0?t.initialPromise:void 0;try{_=T??t.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(h).catch(v=>{var M;if(i())return;const w=t.retry??(af?0:3),E=t.retryDelay??EL,N=typeof E=="function"?E(n,v):E,L=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!L){p(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),hL(N).then(()=>c()?void 0:y()).then(()=>{e?p(v):I()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?I():y().then(I),s)}}var Di,eI,Mb=(eI=class{constructor(){Re(this,Di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lL(this.gcTime)&&de(this,Di,mg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(af?1/0:5*60*1e3))}clearGcTimeout(){B(this,Di)&&(mg.clearTimeout(B(this,Di)),de(this,Di,void 0))}},Di=new WeakMap,eI),Li,ra,En,Mi,Et,Vu,Vi,Dn,Rr,tI,TL=(tI=class extends Mb{constructor(n){super();Re(this,Dn);Re(this,Li);Re(this,ra);Re(this,En);Re(this,Mi);Re(this,Et);Re(this,Vu);Re(this,Vi);de(this,Vi,!1),de(this,Vu,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,Mi,n.client),de(this,En,B(this,Mi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,Li,cT(this.options)),this.state=n.state??B(this,Li),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Et))==null?void 0:n.promise}setOptions(n){if(this.options={...B(this,Vu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cT(this.options);r.data!==void 0&&(this.setState(uT(r.data,r.dataUpdatedAt)),de(this,Li,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,En).remove(this)}setData(n,r){const s=fL(this.state.data,n,this.options);return Nt(this,Dn,Rr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Nt(this,Dn,Rr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,Et))==null?void 0:s.promise;return(i=B(this,Et))==null||i.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Li))}isActive(){return this.observers.some(n=>cL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===m_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>gg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!uL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Et))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Et))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,En).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Et)&&(B(this,Vi)?B(this,Et).cancel({revert:!0}):B(this,Et).cancelRetry()),this.scheduleGc()),B(this,En).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(this,Dn,Rr).call(this,{type:"invalidate"})}async fetch(n,r){var c,d,h,p,y,I,_,T,v,w,E,N;if(this.state.fetchStatus!=="idle"&&((c=B(this,Et))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Et))return B(this,Et).continueRetry(),B(this,Et).promise}if(n&&this.setOptions(n),!this.options.queryFn){const L=this.observers.find(M=>M.options.queryFn);L&&this.setOptions(L.options)}const s=new AbortController,i=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(de(this,Vi,!0),s.signal)})},o=()=>{const L=Nb(this.options,r),A=(()=>{const S={client:B(this,Mi),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return de(this,Vi,!1),this.options.persister?this.options.persister(L,A,this):L(A)},l=(()=>{const L={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Mi),state:this.state,fetchFn:o};return i(L),L})();(d=this.options.behavior)==null||d.onFetch(l,this),de(this,ra,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Nt(this,Dn,Rr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),de(this,Et,Lb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:L=>{L instanceof _g&&L.revert&&this.setState({...B(this,ra),fetchStatus:"idle"}),s.abort()},onFail:(L,M)=>{Nt(this,Dn,Rr).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{Nt(this,Dn,Rr).call(this,{type:"pause"})},onContinue:()=>{Nt(this,Dn,Rr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const L=await B(this,Et).start();if(L===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(L),(I=(y=B(this,En).config).onSuccess)==null||I.call(y,L,this),(T=(_=B(this,En).config).onSettled)==null||T.call(_,L,this.state.error,this),L}catch(L){if(L instanceof _g){if(L.silent)return B(this,Et).promise;if(L.revert){if(this.state.data===void 0)throw L;return this.state.data}}throw Nt(this,Dn,Rr).call(this,{type:"error",error:L}),(w=(v=B(this,En).config).onError)==null||w.call(v,L,this),(N=(E=B(this,En).config).onSettled)==null||N.call(E,this.state.data,L,this),L}finally{this.scheduleGc()}}},Li=new WeakMap,ra=new WeakMap,En=new WeakMap,Mi=new WeakMap,Et=new WeakMap,Vu=new WeakMap,Vi=new WeakMap,Dn=new WeakSet,Rr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...SL(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...uT(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,ra,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ht.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,En).notify({query:this,type:"updated",action:n})})},tI);function SL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Db(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uT(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function dT(t){return{onFetch:(e,n)=>{var d,h,p,y,I;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const T=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},v=Nb(e.options,e.fetchOptions),w=async(E,N,L)=>{if(_)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const A=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:N,direction:L?"backward":"forward",meta:e.options.meta};return T(O),O})(),S=await v(A),{maxPages:x}=e.options,k=L?mL:pL;return{pages:k(E.pages,S,x),pageParams:k(E.pageParams,N,x)}};if(s&&i.length){const E=s==="backward",N=E?Vb:vg,L={pages:i,pageParams:o},M=N(r,L);a=await w(L,M,E)}else{const E=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:vg(r,a);if(l>0&&N==null)break;a=await w(a,N),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var _,T;return(T=(_=e.options).persister)==null?void 0:T.call(_,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function vg(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Vb(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}function lW(t,e){return e?vg(t,e)!=null:!1}function uW(t,e){return!e||!t.getPreviousPageParam?!1:Vb(t,e)!=null}var Fu,tr,qt,Fi,nr,ps,nI,IL=(nI=class extends Mb{constructor(n){super();Re(this,nr);Re(this,Fu);Re(this,tr);Re(this,qt);Re(this,Fi);de(this,Fu,n.client),this.mutationId=n.mutationId,de(this,qt,n.mutationCache),de(this,tr,[]),this.state=n.state||AL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,tr).includes(n)||(B(this,tr).push(n),this.clearGcTimeout(),B(this,qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,tr,B(this,tr).filter(r=>r!==n)),this.scheduleGc(),B(this,qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,tr).length||(this.state.status==="pending"?this.scheduleGc():B(this,qt).remove(this))}continue(){var n;return((n=B(this,Fi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,d,h,p,y,I,_,T,v,w,E,N,L,M,A,S,x,k;const r=()=>{Nt(this,nr,ps).call(this,{type:"continue"})},s={client:B(this,Fu),meta:this.options.meta,mutationKey:this.options.mutationKey};de(this,Fi,Lb({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{Nt(this,nr,ps).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{Nt(this,nr,ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,qt).canRun(this)}));const i=this.state.status==="pending",o=!B(this,Fi).canStart();try{if(i)r();else{Nt(this,nr,ps).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=B(this,qt).config).onMutate)==null?void 0:l.call(a,n,this,s));const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n,s));D!==this.state.context&&Nt(this,nr,ps).call(this,{type:"pending",context:D,variables:n,isPaused:o})}const O=await B(this,Fi).start();return await((p=(h=B(this,qt).config).onSuccess)==null?void 0:p.call(h,O,n,this.state.context,this,s)),await((I=(y=this.options).onSuccess)==null?void 0:I.call(y,O,n,this.state.context,s)),await((T=(_=B(this,qt).config).onSettled)==null?void 0:T.call(_,O,null,this.state.variables,this.state.context,this,s)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,O,null,n,this.state.context,s)),Nt(this,nr,ps).call(this,{type:"success",data:O}),O}catch(O){try{throw await((N=(E=B(this,qt).config).onError)==null?void 0:N.call(E,O,n,this.state.context,this,s)),await((M=(L=this.options).onError)==null?void 0:M.call(L,O,n,this.state.context,s)),await((S=(A=B(this,qt).config).onSettled)==null?void 0:S.call(A,void 0,O,this.state.variables,this.state.context,this,s)),await((k=(x=this.options).onSettled)==null?void 0:k.call(x,void 0,O,n,this.state.context,s)),O}finally{Nt(this,nr,ps).call(this,{type:"error",error:O})}}finally{B(this,qt).runNext(this)}}},Fu=new WeakMap,tr=new WeakMap,qt=new WeakMap,Fi=new WeakMap,nr=new WeakSet,ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ht.batch(()=>{B(this,tr).forEach(s=>{s.onMutationUpdate(n)}),B(this,qt).notify({mutation:this,type:"updated",action:n})})},nI);function AL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,Ln,Uu,rI,bL=(rI=class extends of{constructor(e={}){super();Re(this,kr);Re(this,Ln);Re(this,Uu);this.config=e,de(this,kr,new Set),de(this,Ln,new Map),de(this,Uu,0)}build(e,n,r){const s=new IL({client:e,mutationCache:this,mutationId:++Ec(this,Uu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,kr).add(e);const n=jc(e);if(typeof n=="string"){const r=B(this,Ln).get(n);r?r.push(e):B(this,Ln).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,kr).delete(e)){const n=jc(e);if(typeof n=="string"){const r=B(this,Ln).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,Ln).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=jc(e);if(typeof n=="string"){const r=B(this,Ln).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=jc(e);if(typeof n=="string"){const s=(r=B(this,Ln).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{B(this,kr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,kr).clear(),B(this,Ln).clear()})}getAll(){return Array.from(B(this,kr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oT(n,r))}findAll(e={}){return this.getAll().filter(n=>oT(e,n))}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},kr=new WeakMap,Ln=new WeakMap,Uu=new WeakMap,rI);function jc(t){var e;return(e=t.options.scope)==null?void 0:e.id}var rr,sI,RL=(sI=class extends of{constructor(e={}){super();Re(this,rr);this.config=e,de(this,rr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??p_(s,n);let o=this.get(i);return o||(o=new TL({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,rr).has(e.queryHash)||(B(this,rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,rr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,rr).get(e)}getAll(){return[...B(this,rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>iT(e,r)):n}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rr=new WeakMap,sI),nt,Rs,Cs,sa,ia,xs,oa,aa,iI,CL=(iI=class{constructor(t={}){Re(this,nt);Re(this,Rs);Re(this,Cs);Re(this,sa);Re(this,ia);Re(this,xs);Re(this,oa);Re(this,aa);de(this,nt,t.queryCache||new RL),de(this,Rs,t.mutationCache||new bL),de(this,Cs,t.defaultOptions||{}),de(this,sa,new Map),de(this,ia,new Map),de(this,xs,0)}mount(){Ec(this,xs)._++,B(this,xs)===1&&(de(this,oa,Ob.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,nt).onFocus())})),de(this,aa,uh.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,nt).onOnline())})))}unmount(){var t,e;Ec(this,xs)._--,B(this,xs)===0&&((t=B(this,oa))==null||t.call(this),de(this,oa,void 0),(e=B(this,aa))==null||e.call(this),de(this,aa,void 0))}isFetching(t){return B(this,nt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Rs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,nt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,nt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,nt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,nt).get(r.queryHash),i=s==null?void 0:s.state.data,o=aL(e,i);if(o!==void 0)return B(this,nt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>B(this,nt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,nt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,nt);Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,nt);return Ht.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ht.batch(()=>B(this,nt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t,e={}){return Ht.batch(()=>(B(this,nt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>B(this,nt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(On)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,nt).build(this,e);return n.isStaleByTime(gg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=dT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=dT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return uh.isOnline()?B(this,Rs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,nt)}getMutationCache(){return B(this,Rs)}getDefaultOptions(){return B(this,Cs)}setDefaultOptions(t){de(this,Cs,t)}setQueryDefaults(t,e){B(this,sa).set(Iu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,sa).values()],n={};return e.forEach(r=>{Au(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,ia).set(Iu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,ia).values()],n={};return e.forEach(r=>{Au(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Cs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=p_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===m_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Cs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,nt).clear(),B(this,Rs).clear()}},nt=new WeakMap,Rs=new WeakMap,Cs=new WeakMap,sa=new WeakMap,ia=new WeakMap,xs=new WeakMap,oa=new WeakMap,aa=new WeakMap,iI),Fb=g.createContext(void 0),dW=t=>{const e=g.useContext(Fb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xL=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(Fb.Provider,{value:t,children:e}));async function Ub(t){if(!t.ok){const e=await t.text()||t.statusText;console.error(`API Error: ${t.status} - ${t.statusText}`,{url:t.url,status:t.status,statusText:t.statusText,text:e});let n;try{n=JSON.parse(e)}catch(r){console.log("JSON parsing failed:",r,"Original text:",e)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw t.status===400?new Error("Please check your information and try again."):t.status===401?new Error("Invalid email or password."):t.status===403?new Error("Access denied. Please contact support."):t.status===404?new Error("Service not available. Please try again later."):t.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function Zn(t,e,n){const r=e,s=localStorage.getItem("adminAccessToken"),i=localStorage.getItem("accessToken"),o=localStorage.getItem("user"),a=n?{"Content-Type":"application/json"}:{};s&&(a["x-admin-token"]=s),i&&(a["x-access-token"]=i,a.Authorization=`Bearer ${i}`),o&&(a["x-user-data"]=btoa(unescape(encodeURIComponent(o))));const l=await fetch(r,{method:t,headers:a,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(c=>{throw console.error("Fetch error for:",r,c),c});return await Ub(l),l}const kL=({on401:t})=>async({queryKey:e})=>{const[n,...r]=e,s=new URLSearchParams;let i=n;if(r.length>0)if(n==="/api/orders"&&r.length>=5){const[h,p,y,I,_]=r;h&&s.set("userId",String(h)),p&&p!=="all"&&s.set("status",String(p)),y&&y!=="all"&&s.set("customerId",String(y)),I&&s.set("page",String(I)),_&&s.set("limit",String(_))}else if(n==="/api/admin/shows"&&r.length>=2){const[h,p,y,I]=r;h&&s.set("page",String(h)),p&&s.set("limit",String(p)),y&&s.set("title",String(y)),I&&s.set("type",String(I))}else n==="/api/products"&&r.length===1&&typeof r[0]=="string"?i=`${n}/${r[0]}`:n==="/api/auction"&&r.length===1&&typeof r[0]=="string"?i=`${n}/${r[0]}`:r[0]&&typeof r[0]=="string"&&s.set("userId",r[0]);i=`${i}${s.toString()?"?"+s.toString():""}`;const o=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),l=localStorage.getItem("user"),c={"Content-Type":"application/json"};o&&(c["x-admin-token"]=o),a&&(c["x-access-token"]=a,c.Authorization=`Bearer ${a}`),l&&(c["x-user-data"]=btoa(unescape(encodeURIComponent(l))));const d=await fetch(i,{credentials:"include",headers:c});return await Ub(d),await d.json()},PL=new CL({defaultOptions:{queries:{queryFn:kL({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),NL=1,OL=1e6;let Bp=0;function DL(){return Bp=(Bp+1)%Number.MAX_SAFE_INTEGER,Bp.toString()}const $p=new Map,hT=t=>{if($p.has(t))return;const e=setTimeout(()=>{$p.delete(t),Zl({type:"REMOVE_TOAST",toastId:t})},OL);$p.set(t,e)},LL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,NL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?hT(n):t.toasts.forEach(r=>{hT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vd=[];let wd={toasts:[]};function Zl(t){wd=LL(wd,t),vd.forEach(e=>{e(wd)})}function ML({...t}){const e=DL(),n=s=>Zl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Zl({type:"DISMISS_TOAST",toastId:e});return Zl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function jb(){const[t,e]=g.useState(wd);return g.useEffect(()=>(vd.push(e),()=>{const n=vd.indexOf(e);n>-1&&vd.splice(n,1)}),[t]),{...t,toast:ML,dismiss:n=>Zl({type:"DISMISS_TOAST",toastId:n})}}function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function fT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hu(...t){return e=>{let n=!1;const r=t.map(s=>{const i=fT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():fT(t[s],null)}}}}function kt(...t){return g.useCallback(Hu(...t),t)}function VL(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return C.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ma(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:y,...I}=h,_=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,T=g.useMemo(()=>I,Object.values(I));return C.jsx(_.Provider,{value:T,children:y})};c.displayName=i+"Provider";function d(h,p){var _;const y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,I=g.useContext(y);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,FL(s,...e)]}function FL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function pT(t){const e=UL(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(BL);if(l){const c=l.props.children,d=a.map(h=>h===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function UL(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=zL(s),a=$L(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Hu(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jL=Symbol("radix.slottable");function BL(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jL}function $L(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function zL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qL(t){const e=t+"CollectionProvider",[n,r]=Ma(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:T,children:v}=_,w=fs.useRef(null),E=fs.useRef(new Map).current;return C.jsx(s,{scope:T,itemMap:E,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=pT(a),c=fs.forwardRef((_,T)=>{const{scope:v,children:w}=_,E=i(a,v),N=kt(T,E.collectionRef);return C.jsx(l,{ref:N,children:w})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=pT(d),y=fs.forwardRef((_,T)=>{const{scope:v,children:w,...E}=_,N=fs.useRef(null),L=kt(T,N),M=i(d,v);return fs.useEffect(()=>(M.itemMap.set(N,{ref:N,...E}),()=>void M.itemMap.delete(N))),C.jsx(p,{[h]:"",ref:L,children:w})});y.displayName=d;function I(_){const T=i(t+"CollectionConsumer",_);return fs.useCallback(()=>{const w=T.collectionRef.current;if(!w)return[];const E=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((M,A)=>E.indexOf(M.ref.current)-E.indexOf(A.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:y},I,r]}function WL(t){const e=HL(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(KL);if(l){const c=l.props.children,d=a.map(h=>h===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function HL(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=XL(s),a=QL(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Hu(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var GL=Symbol("radix.slottable");function KL(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GL}function QL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function XL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=YL.reduce((t,e)=>{const n=WL(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Bb(t,e){t&&Wu.flushSync(()=>t.dispatchEvent(e))}function _r(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ZL(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var JL="DismissableLayer",wg="dismissableLayer.update",e2="dismissableLayer.pointerDownOutside",t2="dismissableLayer.focusOutside",mT,$b=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lf=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext($b),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),I=kt(e,A=>h(A)),_=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(T),w=d?_.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,N=w>=v,L=r2(A=>{const S=A.target,x=[...c.branches].some(k=>k.contains(S));!N||x||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),M=s2(A=>{const S=A.target;[...c.branches].some(k=>k.contains(S))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return ZL(A=>{w===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(mT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),gT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mT)}},[d,p,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),gT())},[d,c]),g.useEffect(()=>{const A=()=>y({});return document.addEventListener(wg,A),()=>document.removeEventListener(wg,A)},[]),C.jsx(lt.div,{...l,ref:I,style:{pointerEvents:E?N?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,L.onPointerDownCapture)})});lf.displayName=JL;var n2="DismissableLayerBranch",zb=g.forwardRef((t,e)=>{const n=g.useContext($b),r=g.useRef(null),s=kt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),C.jsx(lt.div,{...t,ref:s})});zb.displayName=n2;function r2(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){qb(e2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function s2(t,e=globalThis==null?void 0:globalThis.document){const n=_r(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&qb(t2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gT(){const t=new CustomEvent(wg);document.dispatchEvent(t)}function qb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bb(s,i):s.dispatchEvent(i)}var i2=lf,o2=zb,Wr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},a2="Portal",g_=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Wr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ID.createPortal(C.jsx(lt.div,{...r,ref:e}),o):null});g_.displayName=a2;function l2(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Va=t=>{const{present:e,children:n}=t,r=u2(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=kt(r.ref,c2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Va.displayName="Presence";function u2(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=l2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Bc(r.current);i.current=a==="mounted"?c:"none"},[a]),Wr(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,y=Bc(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Wr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=y=>{const _=Bc(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&_&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=y=>{y.target===e&&(i.current=Bc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Bc(t){return(t==null?void 0:t.animationName)||"none"}function c2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var d2=$h[" useInsertionEffect ".trim().toString()]||Wr;function Wb({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=h2({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=g.useCallback(d=>{var h;if(a){const p=f2(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function h2({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return d2(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function f2(t){return typeof t=="function"}var p2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),m2="VisuallyHidden",y_=g.forwardRef((t,e)=>C.jsx(lt.span,{...t,ref:e,style:{...p2,...t.style}}));y_.displayName=m2;var __="ToastProvider",[v_,g2,y2]=qL("Toast"),[Hb]=Ma("Toast",[y2]),[_2,uf]=Hb(__),Gb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[c,d]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${__}\`. Expected non-empty \`string\`.`),C.jsx(v_.Provider,{scope:e,children:C.jsx(_2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(y=>y+1),[]),onToastRemove:g.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Gb.displayName=__;var Kb="ToastViewport",v2=["F8"],Eg="toast.viewportPause",Tg="toast.viewportResume",Qb=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=v2,label:s="Notifications ({hotkey})",...i}=t,o=uf(Kb,n),a=g2(n),l=g.useRef(null),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=kt(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;g.useEffect(()=>{const T=v=>{var E;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),g.useEffect(()=>{const T=l.current,v=h.current;if(I&&T&&v){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Eg);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Tg);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!T.contains(M.relatedTarget)&&E()},L=()=>{T.contains(document.activeElement)||E()};return T.addEventListener("focusin",w),T.addEventListener("focusout",N),T.addEventListener("pointermove",w),T.addEventListener("pointerleave",L),window.addEventListener("blur",w),window.addEventListener("focus",E),()=>{T.removeEventListener("focusin",w),T.removeEventListener("focusout",N),T.removeEventListener("pointermove",w),T.removeEventListener("pointerleave",L),window.removeEventListener("blur",w),window.removeEventListener("focus",E)}}},[I,o.isClosePausedRef]);const _=g.useCallback(({tabbingDirection:T})=>{const w=a().map(E=>{const N=E.ref.current,L=[N,...N2(N)];return T==="forwards"?L:L.reverse()});return(T==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const T=h.current;if(T){const v=w=>{var L,M,A;const E=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!E){const S=document.activeElement,x=w.shiftKey;if(w.target===T&&x){(L=c.current)==null||L.focus();return}const D=_({tabbingDirection:x?"backwards":"forwards"}),P=D.findIndex(U=>U===S);zp(D.slice(P+1))?w.preventDefault():x?(M=c.current)==null||M.focus():(A=d.current)==null||A.focus()}};return T.addEventListener("keydown",v),()=>T.removeEventListener("keydown",v)}},[a,_]),C.jsxs(o2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&C.jsx(Sg,{ref:c,onFocusFromOutsideViewport:()=>{const T=_({tabbingDirection:"forwards"});zp(T)}}),C.jsx(v_.Slot,{scope:n,children:C.jsx(lt.ol,{tabIndex:-1,...i,ref:p})}),I&&C.jsx(Sg,{ref:d,onFocusFromOutsideViewport:()=>{const T=_({tabbingDirection:"backwards"});zp(T)}})]})});Qb.displayName=Kb;var Xb="ToastFocusProxy",Sg=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=uf(Xb,n);return C.jsx(y_,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Sg.displayName=Xb;var Gu="Toast",w2="toast.swipeStart",E2="toast.swipeMove",T2="toast.swipeCancel",S2="toast.swipeEnd",Yb=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Wb({prop:r,defaultProp:s??!0,onChange:i,caller:Gu});return C.jsx(Va,{present:n||a,children:C.jsx(b2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:_r(t.onPause),onResume:_r(t.onResume),onSwipeStart:qe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:qe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Yb.displayName=Gu;var[I2,A2]=Hb(Gu,{onClose(){}}),b2=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:y,...I}=t,_=uf(Gu,n),[T,v]=g.useState(null),w=kt(e,U=>v(U)),E=g.useRef(null),N=g.useRef(null),L=s||_.duration,M=g.useRef(0),A=g.useRef(L),S=g.useRef(0),{onToastAdd:x,onToastRemove:k}=_,O=_r(()=>{var G;(T==null?void 0:T.contains(document.activeElement))&&((G=_.viewport)==null||G.focus()),o()}),D=g.useCallback(U=>{!U||U===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(O,U))},[O]);g.useEffect(()=>{const U=_.viewport;if(U){const G=()=>{D(A.current),c==null||c()},Y=()=>{const le=new Date().getTime()-M.current;A.current=A.current-le,window.clearTimeout(S.current),l==null||l()};return U.addEventListener(Eg,Y),U.addEventListener(Tg,G),()=>{U.removeEventListener(Eg,Y),U.removeEventListener(Tg,G)}}},[_.viewport,L,l,c,D]),g.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(L)},[i,L,_.isClosePausedRef,D]),g.useEffect(()=>(x(),()=>k()),[x,k]);const P=g.useMemo(()=>T?sR(T):null,[T]);return _.viewport?C.jsxs(C.Fragment,{children:[P&&C.jsx(R2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),C.jsx(I2,{scope:n,onClose:O,children:Wu.createPortal(C.jsx(v_.ItemSlot,{scope:n,children:C.jsx(i2,{asChild:!0,onEscapeKeyDown:qe(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||O(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(lt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...I,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qe(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:qe(t.onPointerDown,U=>{U.button===0&&(E.current={x:U.clientX,y:U.clientY})}),onPointerMove:qe(t.onPointerMove,U=>{if(!E.current)return;const G=U.clientX-E.current.x,Y=U.clientY-E.current.y,le=!!N.current,F=["left","right"].includes(_.swipeDirection),$=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,K=F?$(0,G):0,ae=F?0:$(0,Y),Ee=U.pointerType==="touch"?10:2,ve={x:K,y:ae},Ue={originalEvent:U,delta:ve};le?(N.current=ve,$c(E2,h,Ue,{discrete:!1})):yT(ve,_.swipeDirection,Ee)?(N.current=ve,$c(w2,d,Ue,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(G)>Ee||Math.abs(Y)>Ee)&&(E.current=null)}),onPointerUp:qe(t.onPointerUp,U=>{const G=N.current,Y=U.target;if(Y.hasPointerCapture(U.pointerId)&&Y.releasePointerCapture(U.pointerId),N.current=null,E.current=null,G){const le=U.currentTarget,F={originalEvent:U,delta:G};yT(G,_.swipeDirection,_.swipeThreshold)?$c(S2,y,F,{discrete:!0}):$c(T2,p,F,{discrete:!0}),le.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),R2=t=>{const{__scopeToast:e,children:n,...r}=t,s=uf(Gu,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return k2(()=>o(!0)),g.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:C.jsx(g_,{asChild:!0,children:C.jsx(y_,{...r,children:i&&C.jsxs(C.Fragment,{children:[s.label," ",n]})})})},C2="ToastTitle",Zb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(lt.div,{...r,ref:e})});Zb.displayName=C2;var x2="ToastDescription",Jb=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(lt.div,{...r,ref:e})});Jb.displayName=x2;var eR="ToastAction",tR=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(rR,{altText:n,asChild:!0,children:C.jsx(w_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${eR}\`. Expected non-empty \`string\`.`),null)});tR.displayName=eR;var nR="ToastClose",w_=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=A2(nR,n);return C.jsx(rR,{asChild:!0,children:C.jsx(lt.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,s.onClose)})})});w_.displayName=nR;var rR=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return C.jsx(lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function sR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),P2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...sR(r))}}),e}function $c(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bb(s,i):s.dispatchEvent(i)}var yT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function k2(t=()=>{}){const e=_r(t);Wr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function P2(t){return t.nodeType===t.ELEMENT_NODE}function N2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var O2=Gb,iR=Qb,oR=Yb,aR=Zb,lR=Jb,uR=tR,cR=w_;function dR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dR(t))&&(r&&(r+=" "),r+=e);return r}const _T=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vT=hR,E_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return vT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=_T(d)||_T(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...y}=d;return Object.entries(y).every(I=>{let[_,T]=I;return Array.isArray(T)?T.includes({...i,...a}[_]):{...i,...a}[_]===T})?[...c,h,p]:c},[]);return vT(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...L2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fR("lucide",s),...a},[...o.map(([c,d])=>g.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(M2,{ref:i,iconNode:e,className:fR(`lucide-${D2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=pR("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=pR("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),T_="-",U2=t=>{const e=B2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(T_);return a[0]===""&&a.length!==1&&a.shift(),mR(a,e)||j2(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},mR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(T_);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},wT=/^\[(.+)\]$/,j2=t=>{if(wT.test(t)){const e=wT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},B2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return z2(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ig(o,r,i,e)}),r},Ig=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ET(e,s);i.classGroupId=n;return}if(typeof s=="function"){if($2(s)){Ig(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ig(o,ET(e,i),n,r)})})},ET=(t,e)=>{let n=t;return e.split(T_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$2=t=>t.isThemeGetter,z2=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,q2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},gR="!",W2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let v=a[T];if(c===0){if(v===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(v==="/"){h=T;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),y=p.startsWith(gR),I=y?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:I,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},H2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},G2=t=>({cache:q2(t.cacheSize),parseClassName:W2(t),...U2(t)}),K2=/\s+/,Q2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(K2);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(c);let I=!!y,_=r(I?p.substring(0,y):p);if(!_){if(!I){a=c+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=c+(a.length>0?" "+a:a);continue}I=!1}const T=H2(d).join(":"),v=h?T+gR:T,w=v+_;if(i.includes(w))continue;i.push(w);const E=s(_,I);for(let N=0;N<E.length;++N){const L=E[N];i.push(v+L)}a=c+(a.length>0?" "+a:a)}return a};function X2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yR(e))&&(r&&(r+=" "),r+=n);return r}const yR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yR(t[r]))&&(n&&(n+=" "),n+=e);return n};function Y2(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=G2(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=Q2(l,n);return s(l,d),d}return function(){return i(X2.apply(null,arguments))}}const $e=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_R=/^\[(?:([a-z-]+):)?(.+)\]$/i,Z2=/^\d+\/\d+$/,J2=new Set(["px","full","screen"]),eM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,br=t=>qo(t)||J2.has(t)||Z2.test(t),cs=t=>Fa(t,"length",hM),qo=t=>!!t&&!Number.isNaN(Number(t)),qp=t=>Fa(t,"number",qo),Rl=t=>!!t&&Number.isInteger(Number(t)),iM=t=>t.endsWith("%")&&qo(t.slice(0,-1)),ge=t=>_R.test(t),ds=t=>eM.test(t),oM=new Set(["length","size","percentage"]),aM=t=>Fa(t,oM,vR),lM=t=>Fa(t,"position",vR),uM=new Set(["image","url"]),cM=t=>Fa(t,uM,pM),dM=t=>Fa(t,"",fM),Cl=()=>!0,Fa=(t,e,n)=>{const r=_R.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hM=t=>tM.test(t)&&!nM.test(t),vR=()=>!1,fM=t=>rM.test(t),pM=t=>sM.test(t),mM=()=>{const t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),c=$e("grayscale"),d=$e("hueRotate"),h=$e("invert"),p=$e("gap"),y=$e("gradientColorStops"),I=$e("gradientColorStopPositions"),_=$e("inset"),T=$e("margin"),v=$e("opacity"),w=$e("padding"),E=$e("saturate"),N=$e("scale"),L=$e("sepia"),M=$e("skew"),A=$e("space"),S=$e("translate"),x=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ge,e],D=()=>[ge,e],P=()=>["",br,cs],U=()=>["auto",qo,ge],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ge],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[qo,ge];return{cacheSize:500,separator:":",theme:{colors:[Cl],spacing:[br,cs],blur:["none","",ds,ge],brightness:ae(),borderColor:[t],borderRadius:["none","","full",ds,ge],borderSpacing:D(),borderWidth:P(),contrast:ae(),grayscale:$(),hueRotate:ae(),invert:$(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[iM,cs],inset:O(),margin:O(),opacity:ae(),padding:D(),saturate:ae(),scale:ae(),sepia:$(),skew:ae(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ds]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ge]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,ge]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Rl,ge]}],"grid-cols":[{"grid-cols":[Cl]}],"col-start-end":[{col:["auto",{span:["full",Rl,ge]},ge]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Cl]}],"row-start-end":[{row:["auto",{span:[Rl,ge]},ge]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[ds]},ds]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ds,cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qp]}],"font-family":[{font:[Cl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",qo,qp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",br,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",br,cs]}],"underline-offset":[{"underline-offset":["auto",br,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),lM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[br,ge]}],"outline-w":[{outline:[br,cs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[br,cs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ds,dM]}],"shadow-color":[{shadow:[Cl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ds,ge]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Rl,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[br,cs,qp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gM=Y2(mM);function vt(...t){return gM(hR(t))}const yM=O2,wR=g.forwardRef(({className:t,...e},n)=>C.jsx(iR,{ref:n,className:vt("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",t),...e}));wR.displayName=iR.displayName;const _M=E_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ER=g.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(oR,{ref:r,className:vt(_M({variant:e}),t),...n}));ER.displayName=oR.displayName;const vM=g.forwardRef(({className:t,...e},n)=>C.jsx(uR,{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vM.displayName=uR.displayName;const TR=g.forwardRef(({className:t,...e},n)=>C.jsx(cR,{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(F2,{className:"h-4 w-4"})}));TR.displayName=cR.displayName;const SR=g.forwardRef(({className:t,...e},n)=>C.jsx(aR,{ref:n,className:vt("text-sm font-semibold",t),...e}));SR.displayName=aR.displayName;const IR=g.forwardRef(({className:t,...e},n)=>C.jsx(lR,{ref:n,className:vt("text-sm opacity-90",t),...e}));IR.displayName=lR.displayName;function wM(){const{toasts:t}=jb();return C.jsxs(yM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return C.jsxs(ER,{...i,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(SR,{children:n}),r&&C.jsx(IR,{children:r})]}),s,C.jsx(TR,{})]},e)}),C.jsx(wR,{})]})}var EM=$h[" useId ".trim().toString()]||(()=>{}),TM=0;function Wp(t){const[e,n]=g.useState(EM());return Wr(()=>{n(r=>r??String(TM++))},[t]),t||(e?`radix-${e}`:"")}const SM=["top","right","bottom","left"],Ys=Math.min,un=Math.max,ch=Math.round,zc=Math.floor,cr=t=>({x:t,y:t}),IM={left:"right",right:"left",bottom:"top",top:"bottom"},AM={start:"end",end:"start"};function Ag(t,e,n){return un(t,Ys(e,n))}function Hr(t,e){return typeof t=="function"?t(e):t}function Gr(t){return t.split("-")[0]}function Ua(t){return t.split("-")[1]}function S_(t){return t==="x"?"y":"x"}function I_(t){return t==="y"?"height":"width"}const bM=new Set(["top","bottom"]);function or(t){return bM.has(Gr(t))?"y":"x"}function A_(t){return S_(or(t))}function RM(t,e,n){n===void 0&&(n=!1);const r=Ua(t),s=A_(t),i=I_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=dh(o)),[o,dh(o)]}function CM(t){const e=dh(t);return[bg(t),e,bg(e)]}function bg(t){return t.replace(/start|end/g,e=>AM[e])}const TT=["left","right"],ST=["right","left"],xM=["top","bottom"],kM=["bottom","top"];function PM(t,e,n){switch(t){case"top":case"bottom":return n?e?ST:TT:e?TT:ST;case"left":case"right":return e?xM:kM;default:return[]}}function NM(t,e,n,r){const s=Ua(t);let i=PM(Gr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(bg)))),i}function dh(t){return t.replace(/left|right|bottom|top/g,e=>IM[e])}function OM(t){return{top:0,right:0,bottom:0,left:0,...t}}function AR(t){return typeof t!="number"?OM(t):{top:t,right:t,bottom:t,left:t}}function hh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function IT(t,e,n){let{reference:r,floating:s}=t;const i=or(e),o=A_(e),a=I_(o),l=Gr(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-s.width,y:h};break;default:y={x:r.x,y:r.y}}switch(Ua(e)){case"start":y[o]-=p*(n&&c?-1:1);break;case"end":y[o]+=p*(n&&c?-1:1);break}return y}const DM=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=IT(c,r,l),p=r,y={},I=0;for(let _=0;_<a.length;_++){const{name:T,fn:v}=a[_],{x:w,y:E,data:N,reset:L}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});d=w??d,h=E??h,y={...y,[T]:{...y[T],...N}},L&&I<=50&&(I++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(c=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:d,y:h}=IT(c,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:y}};async function bu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=Hr(e,t),I=AR(y),T=a[p?h==="floating"?"reference":"floating":h],v=hh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},L=hh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(v.top-L.top+I.top)/N.y,bottom:(L.bottom-v.bottom+I.bottom)/N.y,left:(v.left-L.left+I.left)/N.x,right:(L.right-v.right+I.right)/N.x}}const LM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Hr(t,e)||{};if(c==null)return{};const h=AR(d),p={x:n,y:r},y=A_(s),I=I_(y),_=await o.getDimensions(c),T=y==="y",v=T?"top":"left",w=T?"bottom":"right",E=T?"clientHeight":"clientWidth",N=i.reference[I]+i.reference[y]-p[y]-i.floating[I],L=p[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=M?M[E]:0;(!A||!await(o.isElement==null?void 0:o.isElement(M)))&&(A=a.floating[E]||i.floating[I]);const S=N/2-L/2,x=A/2-_[I]/2-1,k=Ys(h[v],x),O=Ys(h[w],x),D=k,P=A-_[I]-O,U=A/2-_[I]/2+S,G=Ag(D,U,P),Y=!l.arrow&&Ua(s)!=null&&U!==G&&i.reference[I]/2-(U<D?k:O)-_[I]/2<0,le=Y?U<D?U-D:U-P:0;return{[y]:p[y]+le,data:{[y]:G,centerOffset:U-G-le,...Y&&{alignmentOffset:le}},reset:Y}}}),MM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:_=!0,...T}=Hr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Gr(s),w=or(a),E=Gr(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=p||(E||!_?[dh(a)]:CM(a)),M=I!=="none";!p&&M&&L.push(...NM(a,_,I,N));const A=[a,...L],S=await bu(e,T),x=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&x.push(S[v]),h){const U=RM(s,o,N);x.push(S[U[0]],S[U[1]])}if(k=[...k,{placement:s,overflows:x}],!x.every(U=>U<=0)){var O,D;const U=(((O=i.flip)==null?void 0:O.index)||0)+1,G=A[U];if(G&&(!(h==="alignment"?w!==or(G):!1)||k.every(F=>or(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:U,overflows:k},reset:{placement:G}};let Y=(D=k.filter(le=>le.overflows[0]<=0).sort((le,F)=>le.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(y){case"bestFit":{var P;const le=(P=k.filter(F=>{if(M){const $=or(F.placement);return $===w||$==="y"}return!0}).map(F=>[F.placement,F.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((F,$)=>F[1]-$[1])[0])==null?void 0:P[0];le&&(Y=le);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function AT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bT(t){return SM.some(e=>t[e]>=0)}const VM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Hr(t,e);switch(r){case"referenceHidden":{const i=await bu(e,{...s,elementContext:"reference"}),o=AT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bT(o)}}}case"escaped":{const i=await bu(e,{...s,altBoundary:!0}),o=AT(i,n.floating);return{data:{escapedOffsets:o,escaped:bT(o)}}}default:return{}}}}},bR=new Set(["left","top"]);async function FM(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Gr(n),a=Ua(n),l=or(n)==="y",c=bR.has(o)?-1:1,d=i&&l?-1:1,h=Hr(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:I}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof I=="number"&&(y=a==="end"?I*-1:I),l?{x:y*d,y:p*c}:{x:p*c,y:y*d}}const UM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await FM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},jM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:v,y:w}=T;return{x:v,y:w}}},...l}=Hr(t,e),c={x:n,y:r},d=await bu(e,l),h=or(Gr(s)),p=S_(h);let y=c[p],I=c[h];if(i){const T=p==="y"?"top":"left",v=p==="y"?"bottom":"right",w=y+d[T],E=y-d[v];y=Ag(w,y,E)}if(o){const T=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=I+d[T],E=I-d[v];I=Ag(w,I,E)}const _=a.fn({...e,[p]:y,[h]:I});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},BM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hr(t,e),d={x:n,y:r},h=or(s),p=S_(h);let y=d[p],I=d[h];const _=Hr(a,e),T=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const E=p==="y"?"height":"width",N=i.reference[p]-i.floating[E]+T.mainAxis,L=i.reference[p]+i.reference[E]-T.mainAxis;y<N?y=N:y>L&&(y=L)}if(c){var v,w;const E=p==="y"?"width":"height",N=bR.has(Gr(s)),L=i.reference[h]-i.floating[E]+(N&&((v=o.offset)==null?void 0:v[h])||0)+(N?0:T.crossAxis),M=i.reference[h]+i.reference[E]+(N?0:((w=o.offset)==null?void 0:w[h])||0)-(N?T.crossAxis:0);I<L?I=L:I>M&&(I=M)}return{[p]:y,[h]:I}}}},$M=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Hr(t,e),d=await bu(e,c),h=Gr(s),p=Ua(s),y=or(s)==="y",{width:I,height:_}=i.floating;let T,v;h==="top"||h==="bottom"?(T=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,T=p==="end"?"top":"bottom");const w=_-d.top-d.bottom,E=I-d.left-d.right,N=Ys(_-d[T],w),L=Ys(I-d[v],E),M=!e.middlewareData.shift;let A=N,S=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=w),M&&!p){const k=un(d.left,0),O=un(d.right,0),D=un(d.top,0),P=un(d.bottom,0);y?S=I-2*(k!==0||O!==0?k+O:un(d.left,d.right)):A=_-2*(D!==0||P!==0?D+P:un(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:A});const x=await o.getDimensions(a.floating);return I!==x.width||_!==x.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function ja(t){return RR(t)?(t.nodeName||"").toLowerCase():"#document"}function mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){var e;return(e=(RR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RR(t){return cf()?t instanceof Node||t instanceof mn(t).Node:!1}function Wn(t){return cf()?t instanceof Element||t instanceof mn(t).Element:!1}function vr(t){return cf()?t instanceof HTMLElement||t instanceof mn(t).HTMLElement:!1}function RT(t){return!cf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mn(t).ShadowRoot}const zM=new Set(["inline","contents"]);function Ku(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Hn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zM.has(s)}const qM=new Set(["table","td","th"]);function WM(t){return qM.has(ja(t))}const HM=[":popover-open",":modal"];function df(t){return HM.some(e=>{try{return t.matches(e)}catch{return!1}})}const GM=["transform","translate","scale","rotate","perspective"],KM=["transform","translate","scale","rotate","perspective","filter"],QM=["paint","layout","strict","content"];function b_(t){const e=R_(),n=Wn(t)?Hn(t):t;return GM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KM.some(r=>(n.willChange||"").includes(r))||QM.some(r=>(n.contain||"").includes(r))}function XM(t){let e=Zs(t);for(;vr(e)&&!ga(e);){if(b_(e))return e;if(df(e))return null;e=Zs(e)}return null}function R_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YM=new Set(["html","body","#document"]);function ga(t){return YM.has(ja(t))}function Hn(t){return mn(t).getComputedStyle(t)}function hf(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zs(t){if(ja(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RT(t)&&t.host||Sr(t);return RT(e)?e.host:e}function CR(t){const e=Zs(t);return ga(e)?t.ownerDocument?t.ownerDocument.body:t.body:vr(e)&&Ku(e)?e:CR(e)}function Ru(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=CR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=mn(s);if(i){const a=Rg(o);return e.concat(o,o.visualViewport||[],Ku(s)?s:[],a&&n?Ru(a):[])}return e.concat(s,Ru(s,[],n))}function Rg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xR(t){const e=Hn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=vr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ch(n)!==i||ch(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function C_(t){return Wn(t)?t:t.contextElement}function Wo(t){const e=C_(t);if(!vr(e))return cr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xR(e);let o=(i?ch(n.width):n.width)/r,a=(i?ch(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ZM=cr(0);function kR(t){const e=mn(t);return!R_()||!e.visualViewport?ZM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mn(t)?!1:e}function Qi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=C_(t);let o=cr(1);e&&(r?Wn(r)&&(o=Wo(r)):o=Wo(t));const a=JM(i,n,r)?kR(i):cr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=mn(i),y=r&&Wn(r)?mn(r):r;let I=p,_=Rg(I);for(;_&&r&&y!==I;){const T=Wo(_),v=_.getBoundingClientRect(),w=Hn(_),E=v.left+(_.clientLeft+parseFloat(w.paddingLeft))*T.x,N=v.top+(_.clientTop+parseFloat(w.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,h*=T.y,l+=E,c+=N,I=mn(_),_=Rg(I)}}return hh({width:d,height:h,x:l,y:c})}function ff(t,e){const n=hf(t).scrollLeft;return e?e.left+n:Qi(Sr(t)).left+n}function PR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-ff(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function eV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Sr(r),a=e?df(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=cr(1);const d=cr(0),h=vr(r);if((h||!h&&!i)&&((ja(r)!=="body"||Ku(o))&&(l=hf(r)),vr(r))){const y=Qi(r);c=Wo(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const p=o&&!h&&!i?PR(o,l):cr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function tV(t){return Array.from(t.getClientRects())}function nV(t){const e=Sr(t),n=hf(t),r=t.ownerDocument.body,s=un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ff(t);const a=-n.scrollTop;return Hn(r).direction==="rtl"&&(o+=un(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const CT=25;function rV(t,e){const n=mn(t),r=Sr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=R_();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=ff(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),y=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,I=Math.abs(r.clientWidth-h.clientWidth-y);I<=CT&&(i-=I)}else c<=CT&&(i+=c);return{width:i,height:o,x:a,y:l}}const sV=new Set(["absolute","fixed"]);function iV(t,e){const n=Qi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=vr(t)?Wo(t):cr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function xT(t,e,n){let r;if(e==="viewport")r=rV(t,n);else if(e==="document")r=nV(Sr(t));else if(Wn(e))r=iV(e,n);else{const s=kR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hh(r)}function NR(t,e){const n=Zs(t);return n===e||!Wn(n)||ga(n)?!1:Hn(n).position==="fixed"||NR(n,e)}function oV(t,e){const n=e.get(t);if(n)return n;let r=Ru(t,[],!1).filter(a=>Wn(a)&&ja(a)!=="body"),s=null;const i=Hn(t).position==="fixed";let o=i?Zs(t):t;for(;Wn(o)&&!ga(o);){const a=Hn(o),l=b_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&sV.has(s.position)||Ku(o)&&!l&&NR(t,o))?r=r.filter(d=>d!==o):s=a,o=Zs(o)}return e.set(t,r),r}function aV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?df(e)?[]:oV(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=xT(e,d,s);return c.top=un(h.top,c.top),c.right=Ys(h.right,c.right),c.bottom=Ys(h.bottom,c.bottom),c.left=un(h.left,c.left),c},xT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lV(t){const{width:e,height:n}=xR(t);return{width:e,height:n}}function uV(t,e,n){const r=vr(e),s=Sr(e),i=n==="fixed",o=Qi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=cr(0);function c(){l.x=ff(s)}if(r||!r&&!i)if((ja(e)!=="body"||Ku(s))&&(a=hf(e)),r){const y=Qi(e,!0,i,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?PR(s,a):cr(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Hp(t){return Hn(t).position==="static"}function kT(t,e){if(!vr(t)||Hn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sr(t)===n&&(n=n.ownerDocument.body),n}function OR(t,e){const n=mn(t);if(df(t))return n;if(!vr(t)){let s=Zs(t);for(;s&&!ga(s);){if(Wn(s)&&!Hp(s))return s;s=Zs(s)}return n}let r=kT(t,e);for(;r&&WM(r)&&Hp(r);)r=kT(r,e);return r&&ga(r)&&Hp(r)&&!b_(r)?n:r||XM(t)||n}const cV=async function(t){const e=this.getOffsetParent||OR,n=this.getDimensions,r=await n(t.floating);return{reference:uV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dV(t){return Hn(t).direction==="rtl"}const hV={convertOffsetParentRelativeRectToViewportRelativeRect:eV,getDocumentElement:Sr,getClippingRect:aV,getOffsetParent:OR,getElementRects:cV,getClientRects:tV,getDimensions:lV,getScale:Wo,isElement:Wn,isRTL:dV};function DR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fV(t,e){let n=null,r;const s=Sr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:y}=c;if(a||e(),!p||!y)return;const I=zc(h),_=zc(s.clientWidth-(d+p)),T=zc(s.clientHeight-(h+y)),v=zc(d),E={rootMargin:-I+"px "+-_+"px "+-T+"px "+-v+"px",threshold:un(0,Ys(1,l))||1};let N=!0;function L(M){const A=M[0].intersectionRatio;if(A!==l){if(!N)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!DR(c,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(L,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,E)}n.observe(t)}return o(!0),i}function pV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=C_(t),d=s||i?[...c?Ru(c):[],...Ru(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?fV(c,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),n()}),c&&!l&&y.observe(c),y.observe(e));let I,_=l?Qi(t):null;l&&T();function T(){const v=Qi(t);_&&!DR(_,v)&&n(),_=v,I=requestAnimationFrame(T)}return n(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(v=y)==null||v.disconnect(),y=null,l&&cancelAnimationFrame(I)}}const mV=UM,gV=jM,yV=MM,_V=$M,vV=VM,PT=LM,wV=BM,EV=(t,e,n)=>{const r=new Map,s={platform:hV,...n},i={...s.platform,_c:r};return DM(t,e,{...s,platform:i})};var TV=typeof document<"u",SV=function(){},Ed=TV?g.useLayoutEffect:SV;function fh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!fh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function LR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NT(t,e){const n=LR(t);return Math.round(e*n)/n}function Gp(t){const e=g.useRef(t);return Ed(()=>{e.current=t}),e}function IV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=g.useState(r);fh(p,r)||y(r);const[I,_]=g.useState(null),[T,v]=g.useState(null),w=g.useCallback(F=>{F!==M.current&&(M.current=F,_(F))},[]),E=g.useCallback(F=>{F!==A.current&&(A.current=F,v(F))},[]),N=i||I,L=o||T,M=g.useRef(null),A=g.useRef(null),S=g.useRef(d),x=l!=null,k=Gp(l),O=Gp(s),D=Gp(c),P=g.useCallback(()=>{if(!M.current||!A.current)return;const F={placement:e,strategy:n,middleware:p};O.current&&(F.platform=O.current),EV(M.current,A.current,F).then($=>{const K={...$,isPositioned:D.current!==!1};U.current&&!fh(S.current,K)&&(S.current=K,Wu.flushSync(()=>{h(K)}))})},[p,e,n,O,D]);Ed(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const U=g.useRef(!1);Ed(()=>(U.current=!0,()=>{U.current=!1}),[]),Ed(()=>{if(N&&(M.current=N),L&&(A.current=L),N&&L){if(k.current)return k.current(N,L,P);P()}},[N,L,P,k,x]);const G=g.useMemo(()=>({reference:M,floating:A,setReference:w,setFloating:E}),[w,E]),Y=g.useMemo(()=>({reference:N,floating:L}),[N,L]),le=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!Y.floating)return F;const $=NT(Y.floating,d.x),K=NT(Y.floating,d.y);return a?{...F,transform:"translate("+$+"px, "+K+"px)",...LR(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,a,Y.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:P,refs:G,elements:Y,floatingStyles:le}),[d,P,G,Y,le])}const AV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PT({element:r.current,padding:s}).fn(n):{}:r?PT({element:r,padding:s}).fn(n):{}}}},bV=(t,e)=>({...mV(t),options:[t,e]}),RV=(t,e)=>({...gV(t),options:[t,e]}),CV=(t,e)=>({...wV(t),options:[t,e]}),xV=(t,e)=>({...yV(t),options:[t,e]}),kV=(t,e)=>({..._V(t),options:[t,e]}),PV=(t,e)=>({...vV(t),options:[t,e]}),NV=(t,e)=>({...AV(t),options:[t,e]});var OV="Arrow",MR=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return C.jsx(lt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});MR.displayName=OV;var DV=MR;function LV(t){const[e,n]=g.useState(void 0);return Wr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var x_="Popper",[VR,FR]=Ma(x_),[MV,UR]=VR(x_),jR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return C.jsx(MV,{scope:e,anchor:r,onAnchorChange:s,children:n})};jR.displayName=x_;var BR="PopperAnchor",$R=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=UR(BR,n),o=g.useRef(null),a=kt(e,o),l=g.useRef(null);return g.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||o.current,c!==l.current&&i.onAnchorChange(l.current)}),r?null:C.jsx(lt.div,{...s,ref:a})});$R.displayName=BR;var k_="PopperContent",[VV,FV]=VR(k_),zR=g.forwardRef((t,e)=>{var je,ho,Za,oc,ac,Ja;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:I,..._}=t,T=UR(k_,n),[v,w]=g.useState(null),E=kt(e,Ar=>w(Ar)),[N,L]=g.useState(null),M=LV(N),A=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,x=r+(i!=="center"?"-"+i:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],D=O.length>0,P={padding:k,boundary:O.filter(jV),altBoundary:D},{refs:U,floatingStyles:G,placement:Y,isPositioned:le,middlewareData:F}=IV({strategy:"fixed",placement:x,whileElementsMounted:(...Ar)=>pV(...Ar,{animationFrame:y==="always"}),elements:{reference:T.anchor},middleware:[bV({mainAxis:s+S,alignmentAxis:o}),l&&RV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?CV():void 0,...P}),l&&xV({...P}),kV({...P,apply:({elements:Ar,rects:el,availableWidth:Qf,availableHeight:tl})=>{const{width:nl,height:lc}=el.reference,it=Ar.floating.style;it.setProperty("--radix-popper-available-width",`${Qf}px`),it.setProperty("--radix-popper-available-height",`${tl}px`),it.setProperty("--radix-popper-anchor-width",`${nl}px`),it.setProperty("--radix-popper-anchor-height",`${lc}px`)}}),N&&NV({element:N,padding:a}),BV({arrowWidth:A,arrowHeight:S}),p&&PV({strategy:"referenceHidden",...P})]}),[$,K]=HR(Y),ae=_r(I);Wr(()=>{le&&(ae==null||ae())},[le,ae]);const Ee=(je=F.arrow)==null?void 0:je.x,ve=(ho=F.arrow)==null?void 0:ho.y,Ue=((Za=F.arrow)==null?void 0:Za.centerOffset)!==0,[on,Te]=g.useState();return Wr(()=>{v&&Te(window.getComputedStyle(v).zIndex)},[v]),C.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:le?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:on,"--radix-popper-transform-origin":[(oc=F.transformOrigin)==null?void 0:oc.x,(ac=F.transformOrigin)==null?void 0:ac.y].join(" "),...((Ja=F.hide)==null?void 0:Ja.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(VV,{scope:n,placedSide:$,onArrowChange:L,arrowX:Ee,arrowY:ve,shouldHideArrow:Ue,children:C.jsx(lt.div,{"data-side":$,"data-align":K,..._,ref:E,style:{..._.style,animation:le?void 0:"none"}})})})});zR.displayName=k_;var qR="PopperArrow",UV={top:"bottom",right:"left",bottom:"top",left:"right"},WR=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FV(qR,r),o=UV[i.placedSide];return C.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:C.jsx(DV,{...s,ref:n,style:{...s.style,display:"block"}})})});WR.displayName=qR;function jV(t){return t!==null}var BV=t=>({name:"transformOrigin",options:t,fn(e){var T,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=HR(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let I="",_="";return c==="bottom"?(I=o?h:`${p}px`,_=`${-l}px`):c==="top"?(I=o?h:`${p}px`,_=`${r.floating.height+l}px`):c==="right"?(I=`${-l}px`,_=o?h:`${y}px`):c==="left"&&(I=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:I,y:_}}}});function HR(t){const[e,n="center"]=t.split("-");return[e,n]}var hW=jR,$V=$R,zV=zR,qV=WR,WV=Symbol("radix.slottable");function HV(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=WV,e}var GV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KV="VisuallyHidden",GR=g.forwardRef((t,e)=>C.jsx(lt.span,{...t,ref:e,style:{...GV,...t.style}}));GR.displayName=KV;var QV=GR,[pf]=Ma("Tooltip",[FR]),P_=FR(),KR="TooltipProvider",XV=700,OT="tooltip.open",[YV,QR]=pf(KR),XR=t=>{const{__scopeTooltip:e,delayDuration:n=XV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),C.jsx(YV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};XR.displayName=KR;var YR="Tooltip",[fW,mf]=pf(YR),Cg="TooltipTrigger",ZV=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mf(Cg,n),i=QR(Cg,n),o=P_(n),a=g.useRef(null),l=kt(e,a,s.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),C.jsx($V,{asChild:!0,...o,children:C.jsx(lt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:qe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:qe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:qe(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:qe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:qe(t.onBlur,s.onClose),onClick:qe(t.onClick,s.onClose)})})});ZV.displayName=Cg;var JV="TooltipPortal",[pW,eF]=pf(JV,{forceMount:void 0}),ya="TooltipContent",ZR=g.forwardRef((t,e)=>{const n=eF(ya,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=mf(ya,t.__scopeTooltip);return C.jsx(Va,{present:r||o.open,children:o.disableHoverableContent?C.jsx(JR,{side:s,...i,ref:e}):C.jsx(tF,{side:s,...i,ref:e})})}),tF=g.forwardRef((t,e)=>{const n=mf(ya,t.__scopeTooltip),r=QR(ya,t.__scopeTooltip),s=g.useRef(null),i=kt(e,s),[o,a]=g.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),y=g.useCallback((I,_)=>{const T=I.currentTarget,v={x:I.clientX,y:I.clientY},w=oF(v,T.getBoundingClientRect()),E=aF(v,w),N=lF(_.getBoundingClientRect()),L=cF([...E,...N]);a(L),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const I=T=>y(T,d),_=T=>y(T,l);return l.addEventListener("pointerleave",I),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",_)}}},[l,d,y,p]),g.useEffect(()=>{if(o){const I=_=>{const T=_.target,v={x:_.clientX,y:_.clientY},w=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),E=!uF(v,o);w?p():E&&(p(),c())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[l,d,o,c,p]),C.jsx(JR,{...t,ref:i})}),[nF,rF]=pf(YR,{isInside:!1}),sF=HV("TooltipContent"),JR=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=mf(ya,n),c=P_(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(OT,d),()=>document.removeEventListener(OT,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const y=p.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),C.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:C.jsxs(zV,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(sF,{children:r}),C.jsx(nF,{scope:n,isInside:!0,children:C.jsx(QV,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ZR.displayName=ya;var eC="TooltipArrow",iF=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=P_(n);return rF(eC,n).isInside?null:C.jsx(qV,{...s,...r,ref:e})});iF.displayName=eC;function oF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function lF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function uF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function cF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),dF(e)}function dF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var hF=XR,tC=ZR;const fF=hF,pF=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(tC,{ref:r,sideOffset:e,className:vt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));pF.displayName=tC.displayName;const mF=()=>{};var DT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new yF;const p=i<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const I=c<<6&192|h;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _F=function(t){const e=nC(t);return rC.encodeByteArray(e,!0)},ph=function(t){return _F(t).replace(/\./g,"")},sC=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=()=>vF().__FIREBASE_DEFAULTS__,EF=()=>{if(typeof process>"u"||typeof DT>"u")return;const t=DT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sC(t[1]);return e&&JSON.parse(e)},gf=()=>{try{return mF()||wF()||EF()||TF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iC=t=>{var e,n;return(n=(e=gf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oC=t=>{const e=iC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aC=()=>{var t;return(t=gf())==null?void 0:t.config},lC=t=>{var e;return(e=gf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ph(JSON.stringify(n)),ph(JSON.stringify(o)),""].join(".")}const Jl={};function IF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?t.emulator.push(e):t.prod.push(e);return t}function AF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let LT=!1;function O_(t,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||Jl[t]===e||Jl[t]||LT)return;Jl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=IF().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{LT=!0,o()},p}function d(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=AF(r),y=n("text"),I=document.getElementById(y)||document.createElement("span"),_=n("learnmore"),T=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(T,_);const N=c();l(w,v),E.append(w,I,T,N),document.body.appendChild(E)}i?(I.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function RF(){var e;const t=(e=gf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PF(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NF(){return!RF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OF(){try{return typeof indexedDB=="object"}catch{return!1}}function DF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LF,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?MF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ir(s,a,r)}}function MF(t,e){return t.replace(VF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VF=/\{\$([^}]+)}/g;function FF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(MT(i)&&MT(o)){if(!Kr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function MT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UF(t,e){const n=new jF(t,e);return n.subscribe.bind(n)}class jF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kp),s.error===void 0&&(s.error=Kp),s.complete===void 0&&(s.complete=Kp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qF(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zF(t){return t===bi?void 0:t}function qF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $F(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const HF={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},GF=Ie.INFO,KF={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},QF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=KF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D_{constructor(e){this.name=e,this._logLevel=GF,this._logHandler=QF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const XF=(t,e)=>e.some(n=>t instanceof n);let VT,FT;function YF(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZF(){return FT||(FT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cC=new WeakMap,xg=new WeakMap,dC=new WeakMap,Qp=new WeakMap,L_=new WeakMap;function JF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cC.set(n,t)}).catch(()=>{}),L_.set(e,t),e}function e4(t){if(xg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});xg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t4(t){kg=t(kg)}function n4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xp(this),e,...n);return dC.set(r,e.sort?e.sort():[e]),$s(r)}:ZF().includes(t)?function(...e){return t.apply(Xp(this),e),$s(cC.get(this))}:function(...e){return $s(t.apply(Xp(this),e))}}function r4(t){return typeof t=="function"?n4(t):(t instanceof IDBTransaction&&e4(t),XF(t,YF())?new Proxy(t,kg):t)}function $s(t){if(t instanceof IDBRequest)return JF(t);if(Qp.has(t))return Qp.get(t);const e=r4(t);return e!==t&&(Qp.set(t,e),L_.set(e,t)),e}const Xp=t=>L_.get(t);function s4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",l=>{r($s(o.result),l.oldVersion,l.newVersion,$s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const i4=["get","getKey","getAll","getAllKeys","count"],o4=["put","add","delete","clear"],Yp=new Map;function UT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=o4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Yp.set(e,i),i}t4(t=>({...t,get:(e,n,r)=>UT(e,n)||t.get(e,n,r),has:(e,n)=>!!UT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pg="@firebase/app",jT="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new D_("@firebase/app"),u4="@firebase/app-compat",c4="@firebase/analytics-compat",d4="@firebase/analytics",h4="@firebase/app-check-compat",f4="@firebase/app-check",p4="@firebase/auth",m4="@firebase/auth-compat",g4="@firebase/database",y4="@firebase/data-connect",_4="@firebase/database-compat",v4="@firebase/functions",w4="@firebase/functions-compat",E4="@firebase/installations",T4="@firebase/installations-compat",S4="@firebase/messaging",I4="@firebase/messaging-compat",A4="@firebase/performance",b4="@firebase/performance-compat",R4="@firebase/remote-config",C4="@firebase/remote-config-compat",x4="@firebase/storage",k4="@firebase/storage-compat",P4="@firebase/firestore",N4="@firebase/ai",O4="@firebase/firestore-compat",D4="firebase",L4="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",M4={[Pg]:"fire-core",[u4]:"fire-core-compat",[d4]:"fire-analytics",[c4]:"fire-analytics-compat",[f4]:"fire-app-check",[h4]:"fire-app-check-compat",[p4]:"fire-auth",[m4]:"fire-auth-compat",[g4]:"fire-rtdb",[y4]:"fire-data-connect",[_4]:"fire-rtdb-compat",[v4]:"fire-fn",[w4]:"fire-fn-compat",[E4]:"fire-iid",[T4]:"fire-iid-compat",[S4]:"fire-fcm",[I4]:"fire-fcm-compat",[A4]:"fire-perf",[b4]:"fire-perf-compat",[R4]:"fire-rc",[C4]:"fire-rc-compat",[x4]:"fire-gcs",[k4]:"fire-gcs-compat",[P4]:"fire-fst",[O4]:"fire-fst-compat",[N4]:"fire-vertex","fire-js":"fire-js",[D4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,V4=new Map,Og=new Map;function BT(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xi(t){const e=t.name;if(Og.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(const n of mh.values())BT(n,t);for(const n of V4.values())BT(n,t);return!0}function yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Qu("app","Firebase",F4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=L4;function hC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ng,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zs.create("bad-app-name",{appName:String(s)});if(n||(n=aC()),!n)throw zs.create("no-options");const i=mh.get(s);if(i){if(Kr(n,i.options)&&Kr(r,i.config))return i;throw zs.create("duplicate-app",{appName:s})}const o=new WF(s);for(const l of Og.values())o.addComponent(l);const a=new U4(n,r,o);return mh.set(s,a),a}function M_(t=Ng){const e=mh.get(t);if(!e&&t===Ng&&aC())return hC();if(!e)throw zs.create("no-app",{appName:t});return e}function dr(t,e,n){let r=M4[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(o.join(" "));return}Xi(new Js(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebase-heartbeat-database",B4=1,Cu="firebase-heartbeat-store";let Zp=null;function fC(){return Zp||(Zp=s4(j4,B4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function $4(t){try{const n=(await fC()).transaction(Cu),r=await n.objectStore(Cu).get(pC(t));return await n.done,r}catch(e){if(e instanceof Ir)Qr.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function $T(t,e){try{const r=(await fC()).transaction(Cu,"readwrite");await r.objectStore(Cu).put(e,pC(t)),await r.done}catch(n){if(n instanceof Ir)Qr.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function pC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=1024,q4=30;class W4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>q4){const o=K4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zT(),{heartbeatsToSend:r,unsentEntries:s}=H4(this._heartbeatsCache.heartbeats),i=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qr.warn(n),""}}}function zT(){return new Date().toISOString().substring(0,10)}function H4(t,e=z4){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),qT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OF()?DF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $T(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $T(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qT(t){return ph(JSON.stringify({version:2,heartbeats:t})).length}function K4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){Xi(new Js("platform-logger",e=>new a4(e),"PRIVATE")),Xi(new Js("heartbeat",e=>new W4(e),"PRIVATE")),dr(Pg,jT,t),dr(Pg,jT,"esm2020"),dr("fire-js","")}Q4("");var X4="firebase",Y4="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(X4,Y4,"app");function mC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z4=mC,gC=new Qu("auth","Firebase",mC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new D_("@firebase/auth");function J4(t,...e){gh.logLevel<=Ie.WARN&&gh.warn(`Auth (${ao}): ${t}`,...e)}function Td(t,...e){gh.logLevel<=Ie.ERROR&&gh.error(`Auth (${ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw F_(t,...e)}function $n(t,...e){return F_(t,...e)}function V_(t,e,n){const r={...Z4(),[e]:n};return new Qu("auth","Firebase",r).create(e,{appName:t.name})}function qs(t){return V_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wr(t,"argument-error"),V_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gC.create(t,...e)}function ue(t,e,...n){if(!t)throw F_(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Xr(t,e){t||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function eU(){return WT()==="http:"||WT()==="https:"}function WT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eU()||xF()||"connection"in navigator)?navigator.onLine:!0}function nU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=bF()||kF()}get(){return tU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iU=new Yu(3e4,6e4);function j_(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ba(t,e,n,r,s={}){return vC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Xu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return CF()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&fi(t.emulatorConfig.host)&&(c.credentials="include"),_C.fetch()(await wC(t,t.config.apiHost,n,a),c)})}async function vC(t,e,n){t._canInitEmulator=!1;const r={...rU,...e};try{const s=new aU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw qc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw V_(t,d,c);wr(t,d)}}catch(s){if(s instanceof Ir)throw s;wr(t,"network-request-failed",{message:String(s)})}}async function oU(t,e,n,r,s={}){const i=await Ba(t,e,n,r,s);return"mfaPendingCredential"in i&&wr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function wC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?U_(t.config,s):`${t.config.apiScheme}://${s}`;return sU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class aU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),iU.get())})}}function qc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$n(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){return Ba(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return Ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uU(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),s=B_(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:eu(Jp(s.auth_time)),issuedAtTime:eu(Jp(s.iat)),expirationTime:eu(Jp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jp(t){return Number(t)*1e3}function B_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const s=sC(n);return s?JSON.parse(s):(Td("Failed to decode base64 JWT payload"),null)}catch(s){return Td("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HT(t){const e=B_(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&cU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(t){var h;const e=t.auth,n=await t.getIdToken(),r=await xu(t,yh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?EC(s.providerUserInfo):[],o=fU(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Lg(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function hU(t){const e=Ze(t);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function EC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){const n=await vC(t,{},async()=>{const r=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await wC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&fi(t.emulatorConfig.host)&&(l.credentials="include"),_C.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mU(t,e){return Ba(t,"POST","/v2/accounts:revokeToken",j_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=HT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await pU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ho;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new dU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uU(this,e)}reload(){return hU(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await xu(this,lU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:y,providerData:I,stsTokenManager:_}=n;ue(h&&_,e,"internal-error");const T=Ho.fromJSON(this.name,_);ue(typeof h=="string",e,"internal-error"),hs(r,e.name),hs(s,e.name),ue(typeof p=="boolean",e,"internal-error"),ue(typeof y=="boolean",e,"internal-error"),hs(i,e.name),hs(o,e.name),hs(a,e.name),hs(l,e.name),hs(c,e.name),hs(d,e.name);const v=new Un({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:c,lastLoginAt:d});return I&&Array.isArray(I)&&(v.providerData=I.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ho;s.updateFromServerResponse(n);const i=new Un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _h(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?EC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ho;a.updateFromIdToken(r);const l=new Un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;function Mr(t){Xr(t instanceof Function,"Expected a class definition");let e=GT.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TC.type="NONE";const KT=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Sd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Sd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Go(Mr(KT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Mr(KT);const o=Sd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await yh(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Un._fromGetAccountInfoResponse(e,p,d)}else h=Un._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Go(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Go(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CC(e))return"Blackberry";if(xC(e))return"Webos";if(IC(e))return"Safari";if((e.includes("chrome/")||AC(e))&&!e.includes("edge/"))return"Chrome";if(RC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SC(t=jt()){return/firefox\//i.test(t)}function IC(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AC(t=jt()){return/crios\//i.test(t)}function bC(t=jt()){return/iemobile/i.test(t)}function RC(t=jt()){return/android/i.test(t)}function CC(t=jt()){return/blackberry/i.test(t)}function xC(t=jt()){return/webos/i.test(t)}function $_(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gU(t=jt()){var e;return $_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yU(){return PF()&&document.documentMode===10}function kC(t=jt()){return $_(t)||RC(t)||xC(t)||CC(t)||/windows phone/i.test(t)||bC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e=[]){let n;switch(t){case"Browser":n=QT(jt());break;case"Worker":n=`${QT(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e={}){return Ba(t,"GET","/v2/passwordPolicy",j_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=6;class EU{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XT(this),this.idTokenSubscription=new XT(this),this.beforeStateQueue=new _U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(qs(this));const n=e?Ze(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vU(this),n=new EU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&J4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $a(t){return Ze(t)}class XT{constructor(e){this.auth=e,this.observer=null,this.addObserver=UF(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SU(t){z_=t}function IU(t){return z_.loadJS(t)}function AU(){return z_.gapiScript}function bU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){const n=yf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Kr(i,e??{}))return s;wr(s,"already-initialized")}return n.initialize({options:e})}function CU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xU(t,e,n){const r=$a(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=NC(e),{host:o,port:a}=kU(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Kr(c,r.config.emulator)&&Kr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,fi(o)?(N_(`${i}//${o}${l}`),O_("Auth",!0)):PU()}function NC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kU(t){const e=NC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:YT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:YT(o)}}}function YT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e){return oU(t,"POST","/v1/accounts:signInWithIdp",j_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="http://localhost";class Yr extends OC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Yr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:NU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends _f{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tu extends za{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ue("providerId"in n&&"signInMethod"in n,"argument-error"),Yr._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ue(e.idToken||e.accessToken,"argument-error"),Yr._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:i,nonce:o,providerId:a}=e;if(!r&&!s&&!n&&!i||!a)return null;try{return new tu(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends za{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends za{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends za{constructor(){super("twitter.com")}static credential(e,n){return Yr._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Un._fromIdTokenResponse(e,r,s),o=ZT(r);return new _a({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ZT(r);return new _a({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ZT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Ir{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vh(e,n,r,s)}}function DC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,i,e,r):i})}async function OU(t,e,n=!1){const r=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e,n=!1){const{auth:r}=t;if(cn(r.app))return Promise.reject(qs(r));const s="reauthenticate";try{const i=await xu(t,DC(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=B_(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),_a._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e,n=!1){if(cn(t.app))return Promise.reject(qs(t));const r="signIn",s=await DC(t,r,e),i=await _a._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function MU(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function VU(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function FU(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function UU(t){return Ze(t).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=1e3,BU=10;class MC extends LC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);yU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MC.type="LOCAL";const $U=MC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends LC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VC.type="SESSION";const FC=VC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await zU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=q_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function WU(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function HU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KU(){return UC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="firebaseLocalStorageDb",QU=1,Eh="firebaseLocalStorage",BC="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function XU(){const t=indexedDB.deleteDatabase(jC);return new Zu(t).toPromise()}function Mg(){const t=indexedDB.open(jC,QU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eh,{keyPath:BC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await XU(),e(await Mg()))})})}async function JT(t,e,n){const r=wf(t,!0).put({[BC]:e,value:n});return new Zu(r).toPromise()}async function YU(t,e){const n=wf(t,!1).get(e),r=await new Zu(n).toPromise();return r===void 0?null:r.value}function e0(t,e){const n=wf(t,!0).delete(e);return new Zu(n).toPromise()}const ZU=800,JU=3;class $C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(KU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await HU(),!this.activeServiceWorker)return;this.sender=new qU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mg();return await JT(e,wh,"1"),await e0(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wf(s,!1).getAll();return new Zu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$C.type="LOCAL";const ej=$C;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t,e){return e?Mr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends OC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tj(t){return LU(t.auth,new H_(t),t.bypassAuthState)}function nj(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),DU(n,new H_(t),t.bypassAuthState)}async function rj(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),OU(n,new H_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tj;case"linkViaPopup":case"linkViaRedirect":return rj;case"reauthViaPopup":case"reauthViaRedirect":return nj;default:wr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new Yu(2e3,1e4);async function qC(t,e,n){if(cn(t.app))return Promise.reject($n(t,"operation-not-supported-in-this-environment"));const r=$a(t);yC(t,e,_f);const s=W_(r,n);return new Pi(r,"signInViaPopup",e,s).executeNotNull()}class Pi extends zC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sj.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="pendingRedirect",Id=new Map;class oj extends zC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aj(t,e){const n=HC(e),r=WC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function lj(t,e){return WC(t)._set(HC(e),"true")}function uj(t,e){Id.set(t._key(),e)}function WC(t){return Mr(t._redirectPersistence)}function HC(t){return Sd(ij,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e,n){return cj(t,e,n)}async function cj(t,e,n){if(cn(t.app))return Promise.reject(qs(t));const r=$a(t);yC(t,e,_f),await r._initializationPromise;const s=W_(r,n);return await lj(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function dj(t,e){return await $a(t)._initializationPromise,KC(t,e,!1)}async function KC(t,e,n=!1){if(cn(t.app))return Promise.reject(qs(t));const r=$a(t),s=W_(r,e),o=await new oj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=10*60*1e3;class fj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(e))}saveEventToCache(e){this.cachedEventUids.add(t0(e)),this.lastProcessedEventTime=Date.now()}}function t0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e={}){return Ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yj=/^https?/;async function _j(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mj(t);for(const n of e)try{if(vj(n))return}catch{}wr(t,"unauthorized-domain")}function vj(t){const e=Dg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yj.test(n))return!1;if(gj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Yu(3e4,6e4);function n0(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ej(t){return new Promise((e,n)=>{var s,i,o;function r(){n0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n0(),n($n(t,"network-request-failed"))},timeout:wj.get()})}if((i=(s=hr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=hr().gapi)!=null&&o.load)r();else{const a=bU("iframefcb");return hr()[a]=()=>{gapi.load?r():n($n(t,"network-request-failed"))},IU(`${AU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function Tj(t){return Ad=Ad||Ej(t),Ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Yu(5e3,15e3),Ij="__/auth/iframe",Aj="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cj(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?U_(e,Aj):`https://${t.config.authDomain}/${Ij}`,r={apiKey:e.apiKey,appName:t.name,v:ao},s=Rj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Xu(r).slice(1)}`}async function xj(t){const e=await Tj(t),n=hr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:Cj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$n(t,"network-request-failed"),a=hr().setTimeout(()=>{i(o)},Sj.get());function l(){hr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pj=500,Nj=600,Oj="_blank",Dj="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lj(t,e,n,r=Pj,s=Nj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...kj,width:r.toString(),height:s.toString(),top:i,left:o},c=jt().toLowerCase();n&&(a=AC(c)?Oj:n),SC(c)&&(e=e||Dj,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,I])=>`${p}${y}=${I},`,"");if(gU(c)&&a!=="_self")return Mj(e||"",a),new r0(null);const h=window.open(e||"",a,d);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new r0(h)}function Mj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="__/auth/handler",Fj="emulator/auth/handler",Uj=encodeURIComponent("fac");async function s0(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ao,eventId:s};if(e instanceof _f){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof za){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Uj}=${encodeURIComponent(l)}`:"";return`${jj(t)}?${Xu(a).slice(1)}${c}`}function jj({config:t}){return t.emulator?U_(t,Fj):`https://${t.authDomain}/${Vj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class Bj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FC,this._completeRedirectFn=KC,this._overrideRedirectResult=uj}async _openPopup(e,n,r,s){var o;Xr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await s0(e,n,r,Dg(),s);return Lj(e,i,q_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await s0(e,n,r,Dg(),s);return WU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Xr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xj(e),r=new fj(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[em];i!==void 0&&n(!!i),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_j(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kC()||IC()||$_()}}const $j=Bj;var i0="@firebase/auth",o0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wj(t){Xi(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(t)},c=new TU(r,s,i,l);return CU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new Js("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new zj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(i0,o0,qj(t)),dr(i0,o0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=5*60,Gj=lC("authIdTokenMaxAge")||Hj;let a0=null;const Kj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Gj)return;const s=n==null?void 0:n.token;a0!==s&&(a0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Qj(t=M_()){const e=yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RU(t,{popupRedirectResolver:$j,persistence:[ej,$U,FC]}),r=lC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Kj(i.toString());VU(n,o,()=>o(n.currentUser)),MU(n,a=>o(a))}}const s=iC("auth");return s&&xU(n,`http://${s}`),n}function Xj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$n("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Xj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firebasestorage.googleapis.com",YC="storageBucket",Yj=2*60*1e3,Zj=10*60*1e3,Jj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Ir{constructor(e,n,r=0){super(tm(e),`Firebase Storage: ${n} (${tm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function tm(t){return"storage/"+t}function G_(){const t="An unknown error occurred, please check the error payload for server response.";return new et(Ge.UNKNOWN,t)}function e3(t){return new et(Ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function t3(t){return new et(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ge.UNAUTHENTICATED,t)}function r3(){return new et(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s3(t){return new et(Ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZC(){return new et(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JC(){return new et(Ge.CANCELED,"User canceled the upload/download.")}function i3(t){return new et(Ge.INVALID_URL,"Invalid URL '"+t+"'.")}function o3(t){return new et(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a3(){return new et(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YC+"' property when initializing the app?")}function ex(){return new et(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l3(){return new et(Ge.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function u3(){return new et(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c3(t){return new et(Ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vg(t){return new et(Ge.INVALID_ARGUMENT,t)}function tx(){return new et(Ge.APP_DELETED,"The Firebase app was deleted.")}function d3(t){return new et(Ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(t,e){return new et(Ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xl(t){throw new et(Ge.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hn.makeFromUrl(e,n)}catch{return new hn(e,"")}if(r.path==="")return r;throw o3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),I={bucket:1,path:3},_=n===XC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",v=new RegExp(`^https?://${_}/${s}/${T}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:y,indices:I,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<E.length;N++){const L=E[N],M=L.regex.exec(e);if(M){const A=M[L.indices.bucket];let S=M[L.indices.path];S||(S=""),r=new hn(A,S),L.postModify(r);break}}if(r==null)throw i3(e);return r}}class h3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...T){c||(c=!0,e.apply(null,T))}function h(T){s=setTimeout(()=>{s=null,t(y,l())},T)}function p(){i&&clearTimeout(i)}function y(T,...v){if(c){p();return}if(T){p(),d.call(null,T,...v);return}if(l()||o){p(),d.call(null,T,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let I=!1;function _(T){I||(I=!0,p(),!c&&(s!==null?(T||(a=2),clearTimeout(s),h(0)):T||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function p3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){return t!==void 0}function g3(t){return typeof t=="function"}function y3(t){return typeof t=="object"&&!Array.isArray(t)}function Ef(t){return typeof t=="string"||t instanceof String}function l0(t){return K_()&&t instanceof Blob}function K_(){return typeof Blob<"u"}function u0(t,e,n,r){if(r<e)throw Vg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bi||(Bi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n,r,s,i,o,a,l,c,d,h,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,_)=>{this.resolve_=I,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Bi.NO_ERROR,l=i.getStatus();if(!a||rx(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Bi.ABORT;r(!1,new Wc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Wc(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());m3(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=G_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?tx():JC();o(l)}else{const l=ZC();o(l)}};this.canceled_?n(!1,new Wc(!1,null,!0)):this.backoffId_=f3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S3(t,e,n,r,s,i,o=!0,a=!1){const l=nx(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return E3(d,e),v3(d,n),w3(d,i),T3(d,r),new _3(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function A3(...t){const e=I3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(K_())return new Blob(t);throw new et(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){if(typeof atob>"u")throw c3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nm{constructor(e,n){this.data=e,this.contentType=n||null}}function C3(t,e){switch(t){case ar.RAW:return new nm(sx(e));case ar.BASE64:case ar.BASE64URL:return new nm(ix(t,e));case ar.DATA_URL:return new nm(k3(e),P3(e))}throw G_()}function sx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function x3(t){let e;try{e=decodeURIComponent(t)}catch{throw nu(ar.DATA_URL,"Malformed data URL.")}return sx(e)}function ix(t,e){switch(t){case ar.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw nu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ar.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw nu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R3(e)}catch(s){throw s.message.includes("polyfill")?s:nu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ox{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nu(ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=N3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k3(t){const e=new ox(t);return e.base64?ix(ar.BASE64,e.rest):x3(e.rest)}function P3(t){return new ox(t).contentType}function N3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){let r=0,s="";l0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(l0(this.data_)){const r=this.data_,s=b3(r,e,n);return s===null?null:new Nr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Nr(r,!0)}}static getBlob(...e){if(K_()){const n=e.map(r=>r instanceof Nr?r.data_:r);return new Nr(A3.apply(null,n))}else{const n=e.map(o=>Ef(o)?C3(ar.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Nr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){let e;try{e=JSON.parse(t)}catch{return null}return y3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e){return e}class zt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||L3}}let Hc=null;function M3(t){return!Ef(t)||t.length<2?t:lx(t)}function Q_(){if(Hc)return Hc;const t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(i,o){return M3(o)}const n=new zt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new zt("size");return s.xform=r,t.push(s),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),Hc=t,Hc}function V3(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new hn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function F3(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return V3(r,t),r}function ux(t,e,n){const r=ax(e);return r===null?null:F3(t,r,n)}function U3(t,e,n,r){const s=ax(e);if(s===null||!Ef(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),y=Ju(p,n,r),I=nx({alt:"media",token:c});return y+I})[0]}function cx(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class qa{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){if(!t)throw G_()}function X_(t,e){function n(r,s){const i=ux(t,s,e);return Ur(i!==null),i}return n}function j3(t,e){function n(r,s){const i=ux(t,s,e);return Ur(i!==null),U3(i,s,t.host,t._protocol)}return n}function ec(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=r3():s=n3():n.getStatus()===402?s=t3(t.bucket):n.getStatus()===403?s=s3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function dx(t){const e=ec(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=e3(t.path)),i.serverResponse=s.serverResponse,i}return n}function B3(t,e,n){const r=e.fullServerUrl(),s=Ju(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new qa(s,i,X_(t,n),o);return a.errorHandler=dx(e),a}function $3(t,e,n){const r=e.fullServerUrl(),s=Ju(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new qa(s,i,j3(t,n),o);return a.errorHandler=dx(e),a}function z3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hx(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z3(null,e)),r}function fx(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let N=0;N<2;N++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=hx(e,r,s),d=cx(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",y=Nr.getBlob(h,r,p);if(y===null)throw ex();const I={name:c.fullPath},_=Ju(i,t.host,t._protocol),T="POST",v=t.maxUploadRetryTime,w=new qa(_,T,X_(t,n),v);return w.urlParams=I,w.headers=o,w.body=y.uploadData(),w.errorHandler=ec(e),w}class Th{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Y_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ur(!1)}return Ur(!!n&&(e||["active"]).indexOf(n)!==-1),n}function q3(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=hx(e,r,s),a={name:o.fullPath},l=Ju(i,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=cx(o,n),p=t.maxUploadRetryTime;function y(_){Y_(_);let T;try{T=_.getResponseHeader("X-Goog-Upload-URL")}catch{Ur(!1)}return Ur(Ef(T)),T}const I=new qa(l,c,y,p);return I.urlParams=a,I.headers=d,I.body=h,I.errorHandler=ec(e),I}function W3(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(c){const d=Y_(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ur(!1)}h||Ur(!1);const p=Number(h);return Ur(!isNaN(p)),new Th(p,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new qa(n,o,i,a);return l.headers=s,l.errorHandler=ec(e),l}const c0=256*1024;function H3(t,e,n,r,s,i,o,a){const l=new Th(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw l3();const c=l.total-l.current;let d=c;s>0&&(d=Math.min(d,s));const h=l.current,p=h+d;let y="";d===0?y="finalize":c===d?y="upload, finalize":y="upload";const I={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(h,p);if(_===null)throw ex();function T(N,L){const M=Y_(N,["active","final"]),A=l.current+d,S=r.size();let x;return M==="final"?x=X_(e,i)(N,L):x=null,new Th(A,S,M==="final",x)}const v="POST",w=e.maxUploadRetryTime,E=new qa(n,v,T,w);return E.headers=I,E.body=_.uploadData(),E.progressCallback=a||null,E.errorHandler=ec(t),E}const Yt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rm(t){switch(t){case"running":case"pausing":case"canceling":return Yt.RUNNING;case"paused":return Yt.PAUSED;case"success":return Yt.SUCCESS;case"canceled":return Yt.CANCELED;case"error":return Yt.ERROR;default:return Yt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r){if(g3(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class K3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw xl("cannot .send() more than once");if(fi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Q3 extends K3{initXhr(){this.xhr_.responseType="text"}}function Ri(){return new Q3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Q_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ge.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(rx(s.status,[]))if(i)s=ZC();else{this.sleepTime=Math.max(this.sleepTime*2,Jj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ge.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=q3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ri,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=W3(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,Ri,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=c0*this._chunkMultiplier,n=new Th(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=H3(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ri,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){c0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=B3(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Ri,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ri,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=JC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=rm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new G3(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(rm(this._state)){case Yt.SUCCESS:yo(this._resolve.bind(null,this.snapshot))();break;case Yt.CANCELED:case Yt.ERROR:const n=this._reject;yo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rm(this._state)){case Yt.RUNNING:case Yt.PAUSED:e.next&&yo(e.next.bind(e,this.snapshot))();break;case Yt.SUCCESS:e.complete&&yo(e.complete.bind(e))();break;case Yt.CANCELED:case Yt.ERROR:e.error&&yo(e.error.bind(e,this._error))();break;default:e.error&&yo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){this._service=e,n instanceof hn?this._location=n:this._location=hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yi(e,n)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lx(this._location.path)}get storage(){return this._service}get parent(){const e=O3(this._location.path);if(e===null)return null;const n=new hn(this._location.bucket,e);return new Yi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d3(e)}}function Y3(t,e,n){t._throwIfRoot("uploadBytes");const r=fx(t.storage,t._location,Q_(),new Nr(e,!0),n);return t.storage.makeRequestWithTokens(r,Ri).then(s=>({metadata:s,ref:t}))}function Z3(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new X3(t,new Nr(e),n)}function J3(t){t._throwIfRoot("getDownloadURL");const e=$3(t.storage,t._location,Q_());return t.storage.makeRequestWithTokens(e,Ri).then(n=>{if(n===null)throw u3();return n})}function e6(t,e){const n=D3(t._location.path,e),r=new hn(t._location.bucket,n);return new Yi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){return/^[A-Za-z]+:\/\//.test(t)}function n6(t,e){return new Yi(t,e)}function px(t,e){if(t instanceof Z_){const n=t;if(n._bucket==null)throw a3();const r=new Yi(n,n._bucket);return e!=null?px(r,e):r}else return e!==void 0?e6(t,e):t}function r6(t,e){if(e&&t6(e)){if(t instanceof Z_)return n6(t,e);throw Vg("To use ref(service, url), the first argument must be a Storage instance.")}else return px(t,e)}function d0(t,e){const n=e==null?void 0:e[YC];return n==null?null:hn.makeFromBucketSpec(n,t)}function s6(t,e,n,r={}){t.host=`${e}:${n}`;const s=fi(e);s&&(N_(`https://${t.host}/b`),O_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:uC(i,t.app.options.projectId))}class Z_{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=XC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yj,this._maxUploadRetryTime=Zj,this._requests=new Set,s!=null?this._bucket=hn.makeFromBucketSpec(s,this._host):this._bucket=d0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=d0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new h3(tx());{const o=S3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const h0="@firebase/storage",f0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="storage";function mW(t,e,n){return t=Ze(t),Y3(t,e,n)}function gW(t,e,n){return t=Ze(t),Z3(t,e,n)}function yW(t){return t=Ze(t),J3(t)}function _W(t,e){return t=Ze(t),r6(t,e)}function i6(t=M_(),e){t=Ze(t);const r=yf(t,mx).getImmediate({identifier:e}),s=oC("storage");return s&&o6(r,...s),r}function o6(t,e,n,r={}){s6(t,e,n,r)}function a6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Z_(n,r,s,e,ao)}function l6(){Xi(new Js(mx,a6,"PUBLIC").setMultipleInstances(!0)),dr(h0,f0,""),dr(h0,f0,"esm2020")}l6();var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,gx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function x(){}x.prototype=S.prototype,A.F=S.prototype,A.prototype=new x,A.prototype.constructor=A,A.D=function(k,O,D){for(var P=Array(arguments.length-2),U=2;U<arguments.length;U++)P[U-2]=arguments[U];return S.prototype[O].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,x){x||(x=0);const k=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)k[O]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=A.g[0],x=A.g[1],O=A.g[2];let D=A.g[3],P;P=S+(D^x&(O^D))+k[0]+3614090360&4294967295,S=x+(P<<7&4294967295|P>>>25),P=D+(O^S&(x^O))+k[1]+3905402710&4294967295,D=S+(P<<12&4294967295|P>>>20),P=O+(x^D&(S^x))+k[2]+606105819&4294967295,O=D+(P<<17&4294967295|P>>>15),P=x+(S^O&(D^S))+k[3]+3250441966&4294967295,x=O+(P<<22&4294967295|P>>>10),P=S+(D^x&(O^D))+k[4]+4118548399&4294967295,S=x+(P<<7&4294967295|P>>>25),P=D+(O^S&(x^O))+k[5]+1200080426&4294967295,D=S+(P<<12&4294967295|P>>>20),P=O+(x^D&(S^x))+k[6]+2821735955&4294967295,O=D+(P<<17&4294967295|P>>>15),P=x+(S^O&(D^S))+k[7]+4249261313&4294967295,x=O+(P<<22&4294967295|P>>>10),P=S+(D^x&(O^D))+k[8]+1770035416&4294967295,S=x+(P<<7&4294967295|P>>>25),P=D+(O^S&(x^O))+k[9]+2336552879&4294967295,D=S+(P<<12&4294967295|P>>>20),P=O+(x^D&(S^x))+k[10]+4294925233&4294967295,O=D+(P<<17&4294967295|P>>>15),P=x+(S^O&(D^S))+k[11]+2304563134&4294967295,x=O+(P<<22&4294967295|P>>>10),P=S+(D^x&(O^D))+k[12]+1804603682&4294967295,S=x+(P<<7&4294967295|P>>>25),P=D+(O^S&(x^O))+k[13]+4254626195&4294967295,D=S+(P<<12&4294967295|P>>>20),P=O+(x^D&(S^x))+k[14]+2792965006&4294967295,O=D+(P<<17&4294967295|P>>>15),P=x+(S^O&(D^S))+k[15]+1236535329&4294967295,x=O+(P<<22&4294967295|P>>>10),P=S+(O^D&(x^O))+k[1]+4129170786&4294967295,S=x+(P<<5&4294967295|P>>>27),P=D+(x^O&(S^x))+k[6]+3225465664&4294967295,D=S+(P<<9&4294967295|P>>>23),P=O+(S^x&(D^S))+k[11]+643717713&4294967295,O=D+(P<<14&4294967295|P>>>18),P=x+(D^S&(O^D))+k[0]+3921069994&4294967295,x=O+(P<<20&4294967295|P>>>12),P=S+(O^D&(x^O))+k[5]+3593408605&4294967295,S=x+(P<<5&4294967295|P>>>27),P=D+(x^O&(S^x))+k[10]+38016083&4294967295,D=S+(P<<9&4294967295|P>>>23),P=O+(S^x&(D^S))+k[15]+3634488961&4294967295,O=D+(P<<14&4294967295|P>>>18),P=x+(D^S&(O^D))+k[4]+3889429448&4294967295,x=O+(P<<20&4294967295|P>>>12),P=S+(O^D&(x^O))+k[9]+568446438&4294967295,S=x+(P<<5&4294967295|P>>>27),P=D+(x^O&(S^x))+k[14]+3275163606&4294967295,D=S+(P<<9&4294967295|P>>>23),P=O+(S^x&(D^S))+k[3]+4107603335&4294967295,O=D+(P<<14&4294967295|P>>>18),P=x+(D^S&(O^D))+k[8]+1163531501&4294967295,x=O+(P<<20&4294967295|P>>>12),P=S+(O^D&(x^O))+k[13]+2850285829&4294967295,S=x+(P<<5&4294967295|P>>>27),P=D+(x^O&(S^x))+k[2]+4243563512&4294967295,D=S+(P<<9&4294967295|P>>>23),P=O+(S^x&(D^S))+k[7]+1735328473&4294967295,O=D+(P<<14&4294967295|P>>>18),P=x+(D^S&(O^D))+k[12]+2368359562&4294967295,x=O+(P<<20&4294967295|P>>>12),P=S+(x^O^D)+k[5]+4294588738&4294967295,S=x+(P<<4&4294967295|P>>>28),P=D+(S^x^O)+k[8]+2272392833&4294967295,D=S+(P<<11&4294967295|P>>>21),P=O+(D^S^x)+k[11]+1839030562&4294967295,O=D+(P<<16&4294967295|P>>>16),P=x+(O^D^S)+k[14]+4259657740&4294967295,x=O+(P<<23&4294967295|P>>>9),P=S+(x^O^D)+k[1]+2763975236&4294967295,S=x+(P<<4&4294967295|P>>>28),P=D+(S^x^O)+k[4]+1272893353&4294967295,D=S+(P<<11&4294967295|P>>>21),P=O+(D^S^x)+k[7]+4139469664&4294967295,O=D+(P<<16&4294967295|P>>>16),P=x+(O^D^S)+k[10]+3200236656&4294967295,x=O+(P<<23&4294967295|P>>>9),P=S+(x^O^D)+k[13]+681279174&4294967295,S=x+(P<<4&4294967295|P>>>28),P=D+(S^x^O)+k[0]+3936430074&4294967295,D=S+(P<<11&4294967295|P>>>21),P=O+(D^S^x)+k[3]+3572445317&4294967295,O=D+(P<<16&4294967295|P>>>16),P=x+(O^D^S)+k[6]+76029189&4294967295,x=O+(P<<23&4294967295|P>>>9),P=S+(x^O^D)+k[9]+3654602809&4294967295,S=x+(P<<4&4294967295|P>>>28),P=D+(S^x^O)+k[12]+3873151461&4294967295,D=S+(P<<11&4294967295|P>>>21),P=O+(D^S^x)+k[15]+530742520&4294967295,O=D+(P<<16&4294967295|P>>>16),P=x+(O^D^S)+k[2]+3299628645&4294967295,x=O+(P<<23&4294967295|P>>>9),P=S+(O^(x|~D))+k[0]+4096336452&4294967295,S=x+(P<<6&4294967295|P>>>26),P=D+(x^(S|~O))+k[7]+1126891415&4294967295,D=S+(P<<10&4294967295|P>>>22),P=O+(S^(D|~x))+k[14]+2878612391&4294967295,O=D+(P<<15&4294967295|P>>>17),P=x+(D^(O|~S))+k[5]+4237533241&4294967295,x=O+(P<<21&4294967295|P>>>11),P=S+(O^(x|~D))+k[12]+1700485571&4294967295,S=x+(P<<6&4294967295|P>>>26),P=D+(x^(S|~O))+k[3]+2399980690&4294967295,D=S+(P<<10&4294967295|P>>>22),P=O+(S^(D|~x))+k[10]+4293915773&4294967295,O=D+(P<<15&4294967295|P>>>17),P=x+(D^(O|~S))+k[1]+2240044497&4294967295,x=O+(P<<21&4294967295|P>>>11),P=S+(O^(x|~D))+k[8]+1873313359&4294967295,S=x+(P<<6&4294967295|P>>>26),P=D+(x^(S|~O))+k[15]+4264355552&4294967295,D=S+(P<<10&4294967295|P>>>22),P=O+(S^(D|~x))+k[6]+2734768916&4294967295,O=D+(P<<15&4294967295|P>>>17),P=x+(D^(O|~S))+k[13]+1309151649&4294967295,x=O+(P<<21&4294967295|P>>>11),P=S+(O^(x|~D))+k[4]+4149444226&4294967295,S=x+(P<<6&4294967295|P>>>26),P=D+(x^(S|~O))+k[11]+3174756917&4294967295,D=S+(P<<10&4294967295|P>>>22),P=O+(S^(D|~x))+k[2]+718787259&4294967295,O=D+(P<<15&4294967295|P>>>17),P=x+(D^(O|~S))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const x=S-this.blockSize,k=this.C;let O=this.h,D=0;for(;D<S;){if(O==0)for(;D<=x;)s(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<S;)if(k[O++]=A.charCodeAt(D++),O==this.blockSize){s(this,k),O=0;break}}else for(;D<S;)if(k[O++]=A[D++],O==this.blockSize){s(this,k),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var x=A.length-8;x<A.length;++x)A[x]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)A[S++]=this.g[x]>>>k&255;return A};function i(A,S){var x=a;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=S(A)}function o(A,S){this.h=S;const x=[];let k=!0;for(let O=A.length-1;O>=0;O--){const D=A[O]|0;k&&D==S||(x[O]=D,k=!1)}this.g=x}var a={};function l(A){return-128<=A&&A<128?i(A,function(S){return new o([S|0],S<0?-1:0)}):new o([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return T(c(-A));const S=[];let x=1;for(let k=0;A>=x;k++)S[k]=A/x|0,x*=4294967296;return new o(S,0)}function d(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return T(d(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=c(Math.pow(S,8));let k=h;for(let D=0;D<A.length;D+=8){var O=Math.min(8,A.length-D);const P=parseInt(A.substring(D,D+O),S);O<8?(O=c(Math.pow(S,O)),k=k.j(O).add(c(P))):(k=k.j(x),k=k.add(c(P)))}return k}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-T(this).m();let A=0,S=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);A+=(k>=0?k:4294967296+k)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I(this))return"0";if(_(this))return"-"+T(this).toString(A);const S=c(Math.pow(A,6));var x=this;let k="";for(;;){const O=N(x,S).g;x=v(x,O.j(S));let D=((x.g.length>0?x.g[0]:x.h)>>>0).toString(A);if(x=O,I(x))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function I(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=v(this,A),_(A)?-1:I(A)?0:1};function T(A){const S=A.g.length,x=[];for(let k=0;k<S;k++)x[k]=~A.g[k];return new o(x,~A.h).add(p)}t.abs=function(){return _(this)?T(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),x=[];let k=0;for(let O=0;O<=S;O++){let D=k+(this.i(O)&65535)+(A.i(O)&65535),P=(D>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);k=P>>>16,D&=65535,P&=65535,x[O]=P<<16|D}return new o(x,x[x.length-1]&-2147483648?-1:0)};function v(A,S){return A.add(T(S))}t.j=function(A){if(I(this)||I(A))return h;if(_(this))return _(A)?T(this).j(T(A)):T(T(this).j(A));if(_(A))return T(this.j(T(A)));if(this.l(y)<0&&A.l(y)<0)return c(this.m()*A.m());const S=this.g.length+A.g.length,x=[];for(var k=0;k<2*S;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<A.g.length;O++){const D=this.i(k)>>>16,P=this.i(k)&65535,U=A.i(O)>>>16,G=A.i(O)&65535;x[2*k+2*O]+=P*G,w(x,2*k+2*O),x[2*k+2*O+1]+=D*G,w(x,2*k+2*O+1),x[2*k+2*O+1]+=P*U,w(x,2*k+2*O+1),x[2*k+2*O+2]+=D*U,w(x,2*k+2*O+2)}for(A=0;A<S;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=S;A<2*S;A++)x[A]=0;return new o(x,0)};function w(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function E(A,S){this.g=A,this.h=S}function N(A,S){if(I(S))throw Error("division by zero");if(I(A))return new E(h,h);if(_(A))return S=N(T(A),S),new E(T(S.g),T(S.h));if(_(S))return S=N(A,T(S)),new E(T(S.g),S.h);if(A.g.length>30){if(_(A)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var x=p,k=S;k.l(A)<=0;)x=L(x),k=L(k);var O=M(x,1),D=M(k,1);for(k=M(k,2),x=M(x,2);!I(k);){var P=D.add(k);P.l(A)<=0&&(O=O.add(x),D=P),k=M(k,1),x=M(x,1)}return S=v(A,O.j(S)),new E(O,S)}for(O=h;A.l(S)>=0;){for(x=Math.max(1,Math.floor(A.m()/S.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=c(x),P=D.j(S);_(P)||P.l(A)>0;)x-=k,D=c(x),P=D.j(S);I(D)&&(D=p),O=O.add(D),A=v(A,P)}return new E(O,A)}t.B=function(A){return N(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let k=0;k<S;k++)x[k]=this.i(k)&A.i(k);return new o(x,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let k=0;k<S;k++)x[k]=this.i(k)|A.i(k);return new o(x,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let k=0;k<S;k++)x[k]=this.i(k)^A.i(k);return new o(x,this.h^A.h)};function L(A){const S=A.g.length+1,x=[];for(let k=0;k<S;k++)x[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o(x,A.h)}function M(A,S){const x=S>>5;S%=32;const k=A.g.length-x,O=[];for(let D=0;D<k;D++)O[D]=S>0?A.i(D+x)>>>S|A.i(D+x+1)<<32-S:A.i(D+x);return new o(O,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ws=o}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yx,Vl,_x,bd,Fg,vx,wx,Ex;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(u,f){if(f)e:{var m=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var V=u[b];if(!(V in m))break e;m=m[V]}u=u[u.length-1],b=m[u],f=f(b),f!=b&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(f){var m=[],b;for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&m.push([b,f[b]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function l(u,f,m){return u.call.apply(u.bind,arguments)}function c(u,f,m){return c=l,c.apply(null,arguments)}function d(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function h(u,f){function m(){}m.prototype=f.prototype,u.Z=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Ob=function(b,V,j){for(var Q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)Q[_e-2]=arguments[_e];return f.prototype[V].apply(b,Q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const f=u.length;if(f>0){const m=Array(f);for(let b=0;b<f;b++)m[b]=u[b];return m}return[]}function I(u,f){for(let b=1;b<arguments.length;b++){const V=arguments[b];var m=typeof V;if(m=m!="object"?m:V?Array.isArray(V)?"array":m:"null",m=="array"||m=="object"&&typeof V.length=="number"){m=u.length||0;const j=V.length||0;u.length=m+j;for(let Q=0;Q<j;Q++)u[m+Q]=V[Q]}else u.push(V)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function T(u){o.setTimeout(()=>{throw u},0)}function v(){var u=A;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class w{constructor(){this.h=this.g=null}add(f,m){const b=E.get();b.set(f,m),this.h?this.h.next=b:this.g=b,this.h=b}}var E=new _(()=>new N,u=>u.reset());class N{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let L,M=!1,A=new w,S=()=>{const u=Promise.resolve(void 0);L=()=>{u.then(x)}};function x(){for(var u;u=v();){try{u.h.call(u.g)}catch(m){T(m)}var f=E;f.j(u),f.h<100&&(f.h++,u.next=f.g,f.g=u)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function U(u,f){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,f)}h(U,O),U.prototype.init=function(u,f){const m=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget,f||(m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement)),this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),Y=0;function le(u,f,m,b,V){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!b,this.ha=V,this.key=++Y,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $(u,f,m){for(const b in u)f.call(m,u[b],b,u)}function K(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function ae(u){const f={};for(const m in u)f[m]=u[m];return f}const Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(u,f){let m,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(m in b)u[m]=b[m];for(let j=0;j<Ee.length;j++)m=Ee[j],Object.prototype.hasOwnProperty.call(b,m)&&(u[m]=b[m])}}function Ue(u){this.src=u,this.g={},this.h=0}Ue.prototype.add=function(u,f,m,b,V){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const Q=Te(u,f,b,V);return Q>-1?(f=u[Q],m||(f.fa=!1)):(f=new le(f,this.src,j,!!b,V),f.fa=m,u.push(f)),f};function on(u,f){const m=f.type;if(m in u.g){var b=u.g[m],V=Array.prototype.indexOf.call(b,f,void 0),j;(j=V>=0)&&Array.prototype.splice.call(b,V,1),j&&(F(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function Te(u,f,m,b){for(let V=0;V<u.length;++V){const j=u[V];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==b)return V}return-1}var je="closure_lm_"+(Math.random()*1e6|0),ho={};function Za(u,f,m,b,V){if(Array.isArray(f)){for(let j=0;j<f.length;j++)Za(u,f[j],m,b,V);return null}return m=lc(m),u&&u[G]?u.J(f,m,a(b)?!!b.capture:!1,V):oc(u,f,m,!1,b,V)}function oc(u,f,m,b,V,j){if(!f)throw Error("Invalid event type");const Q=a(V)?!!V.capture:!!V;let _e=tl(u);if(_e||(u[je]=_e=new Ue(u)),m=_e.add(f,m,b,Q,j),m.proxy)return m;if(b=ac(),m.proxy=b,b.src=u,b.listener=m,u.addEventListener)D||(V=Q),V===void 0&&(V=!1),u.addEventListener(f.toString(),b,V);else if(u.attachEvent)u.attachEvent(el(f.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ac(){function u(m){return f.call(u.src,u.listener,m)}const f=Qf;return u}function Ja(u,f,m,b,V){if(Array.isArray(f))for(var j=0;j<f.length;j++)Ja(u,f[j],m,b,V);else b=a(b)?!!b.capture:!!b,m=lc(m),u&&u[G]?(u=u.i,j=String(f).toString(),j in u.g&&(f=u.g[j],m=Te(f,m,b,V),m>-1&&(F(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete u.g[j],u.h--)))):u&&(u=tl(u))&&(f=u.g[f.toString()],u=-1,f&&(u=Te(f,m,b,V)),(m=u>-1?f[u]:null)&&Ar(m))}function Ar(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[G])on(f.i,u);else{var m=u.type,b=u.proxy;f.removeEventListener?f.removeEventListener(m,b,u.capture):f.detachEvent?f.detachEvent(el(m),b):f.addListener&&f.removeListener&&f.removeListener(b),(m=tl(f))?(on(m,u),m.h==0&&(m.src=null,f[je]=null)):F(u)}}}function el(u){return u in ho?ho[u]:ho[u]="on"+u}function Qf(u,f){if(u.da)u=!0;else{f=new U(f,this);const m=u.listener,b=u.ha||u.src;u.fa&&Ar(u),u=m.call(b,f)}return u}function tl(u){return u=u[je],u instanceof Ue?u:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function lc(u){return typeof u=="function"?u:(u[nl]||(u[nl]=function(f){return u.handleEvent(f)}),u[nl])}function it(){k.call(this),this.i=new Ue(this),this.M=this,this.G=null}h(it,k),it.prototype[G]=!0,it.prototype.removeEventListener=function(u,f,m,b){Ja(this,u,f,m,b)};function Bt(u,f){var m,b=u.G;if(b)for(m=[];b;b=b.G)m.push(b);if(u=u.M,b=f.type||f,typeof f=="string")f=new O(f,u);else if(f instanceof O)f.target=f.target||u;else{var V=f;f=new O(b,u),ve(f,V)}V=!0;let j,Q;if(m)for(Q=m.length-1;Q>=0;Q--)j=f.g=m[Q],V=uc(j,b,!0,f)&&V;if(j=f.g=u,V=uc(j,b,!0,f)&&V,V=uc(j,b,!1,f)&&V,m)for(Q=0;Q<m.length;Q++)j=f.g=m[Q],V=uc(j,b,!1,f)&&V}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const f in u.g){const m=u.g[f];for(let b=0;b<m.length;b++)F(m[b]);delete u.g[f],u.h--}}this.G=null},it.prototype.J=function(u,f,m,b){return this.i.add(String(u),f,!1,m,b)},it.prototype.K=function(u,f,m,b){return this.i.add(String(u),f,!0,m,b)};function uc(u,f,m,b){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();let V=!0;for(let j=0;j<f.length;++j){const Q=f[j];if(Q&&!Q.da&&Q.capture==m){const _e=Q.listener,mt=Q.ha||Q.src;Q.fa&&on(u.i,Q),V=_e.call(mt,b)!==!1&&V}}return V&&!b.defaultPrevented}function b1(u,f){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(u,f||0)}function Xv(u){u.g=b1(()=>{u.g=null,u.i&&(u.i=!1,Xv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class R1 extends k{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Xv(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rl(u){k.call(this),this.h=u,this.g={}}h(rl,k);var Yv=[];function Zv(u){$(u.g,function(f,m){this.g.hasOwnProperty(m)&&Ar(f)},u),u.g={}}rl.prototype.N=function(){rl.Z.N.call(this),Zv(this)},rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xf=o.JSON.stringify,C1=o.JSON.parse,x1=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Jv(){}function ew(){}var sl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yf(){O.call(this,"d")}h(Yf,O);function Zf(){O.call(this,"c")}h(Zf,O);var _i={},tw=null;function cc(){return tw=tw||new it}_i.Ia="serverreachability";function nw(u){O.call(this,_i.Ia,u)}h(nw,O);function il(u){const f=cc();Bt(f,new nw(f))}_i.STAT_EVENT="statevent";function rw(u,f){O.call(this,_i.STAT_EVENT,u),this.stat=f}h(rw,O);function $t(u){const f=cc();Bt(f,new rw(f,u))}_i.Ja="timingevent";function sw(u,f){O.call(this,_i.Ja,u),this.size=f}h(sw,O);function ol(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},f)}function al(){this.g=!0}al.prototype.ua=function(){this.g=!1};function k1(u,f,m,b,V,j){u.info(function(){if(u.g)if(j){var Q="",_e=j.split("&");for(let Le=0;Le<_e.length;Le++){var mt=_e[Le].split("=");if(mt.length>1){const wt=mt[0];mt=mt[1];const Xn=wt.split("_");Q=Xn.length>=2&&Xn[1]=="type"?Q+(wt+"="+mt+"&"):Q+(wt+"=redacted&")}}}else Q=null;else Q=j;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+f+`
`+m+`
`+Q})}function P1(u,f,m,b,V,j,Q){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+f+`
`+m+`
`+j+" "+Q})}function fo(u,f,m,b){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+O1(u,m)+(b?" "+b:"")})}function N1(u,f){u.info(function(){return"TIMEOUT: "+f})}al.prototype.info=function(){};function O1(u,f){if(!u.g)return f;if(!f)return null;try{const j=JSON.parse(f);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var m=j[u];if(!(m.length<2)){var b=m[1];if(Array.isArray(b)&&!(b.length<1)){var V=b[0];if(V!="noop"&&V!="stop"&&V!="close")for(let Q=1;Q<b.length;Q++)b[Q]=""}}}}return Xf(j)}catch{return f}}var dc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},iw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ow;function Jf(){}h(Jf,Jv),Jf.prototype.g=function(){return new XMLHttpRequest},ow=new Jf;function ll(u){return encodeURIComponent(String(u))}function D1(u){var f=1;u=u.split(":");const m=[];for(;f>0&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function rs(u,f,m,b){this.j=u,this.i=f,this.l=m,this.S=b||1,this.V=new rl(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new aw}function aw(){this.i=null,this.g="",this.h=!1}var lw={},ep={};function tp(u,f,m){u.M=1,u.A=fc(Qn(f)),u.u=m,u.R=!0,uw(u,null)}function uw(u,f){u.F=Date.now(),hc(u),u.B=Qn(u.A);var m=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Tw(m.i,"t",b),u.C=0,m=u.j.L,u.h=new aw,u.g=jw(u.j,m?f:null,!u.u),u.P>0&&(u.O=new R1(c(u.Y,u,u.g),u.P)),f=u.V,m=u.g,b=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(Yv[0]=V.toString()),V=Yv);for(let j=0;j<V.length;j++){const Q=Za(m,V[j],b||f.handleEvent,!1,f.h||f);if(!Q)break;f.g[Q.key]=Q}f=u.J?ae(u.J):{},u.u?(u.v||(u.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,f)):(u.v="GET",u.g.ea(u.B,u.v,null,f)),il(),k1(u.i,u.v,u.B,u.l,u.S,u.u)}rs.prototype.ba=function(u){u=u.target;const f=this.O;f&&os(u)==3?f.j():this.Y(u)},rs.prototype.Y=function(u){try{if(u==this.g)e:{const _e=os(this.g),mt=this.g.ya(),Le=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||xw(this.g)))){this.K||_e!=4||mt==7||(mt==8||Le<=0?il(3):il(2)),np(this);var f=this.g.ca();this.X=f;var m=L1(this);if(this.o=f==200,P1(this.i,this.v,this.B,this.l,this.S,_e,f),this.o){if(this.U&&!this.L){t:{if(this.g){var b,V=this.g;if((b=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(b)){var j=b;break t}}j=null}if(u=j)fo(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rp(this,u);else{this.o=!1,this.m=3,$t(12),vi(this),ul(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<m.length;)if(wt=M1(this,m),wt==ep){_e==4&&(this.m=4,$t(14),u=!1),fo(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==lw){this.m=4,$t(15),fo(this.i,this.l,m,"[Invalid Chunk]"),u=!1;break}else fo(this.i,this.l,wt,null),rp(this,wt);if(cw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||m.length!=0||this.h.h||(this.m=1,$t(16),u=!1),this.o=this.o&&u,!u)fo(this.i,this.l,m,"[Invalid Chunked Response]"),vi(this),ul(this);else if(m.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),dp(Q),Q.P=!0,$t(11))}}else fo(this.i,this.l,m,null),rp(this,m);_e==4&&vi(this),this.o&&!this.K&&(_e==4?Mw(this.j,this):(this.o=!1,hc(this)))}else X1(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),vi(this),ul(this)}}}catch{}finally{}};function L1(u){if(!cw(u))return u.g.la();const f=xw(u.g);if(f==="")return"";let m="";const b=f.length,V=os(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vi(u),ul(u),"";u.h.i=new o.TextDecoder}for(let j=0;j<b;j++)u.h.h=!0,m+=u.h.i.decode(f[j],{stream:!(V&&j==b-1)});return f.length=0,u.h.g+=m,u.C=0,u.h.g}function cw(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function M1(u,f){var m=u.C,b=f.indexOf(`
`,m);return b==-1?ep:(m=Number(f.substring(m,b)),isNaN(m)?lw:(b+=1,b+m>f.length?ep:(f=f.slice(b,b+m),u.C=b+m,f)))}rs.prototype.cancel=function(){this.K=!0,vi(this)};function hc(u){u.T=Date.now()+u.H,dw(u,u.H)}function dw(u,f){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ol(c(u.aa,u),f)}function np(u){u.D&&(o.clearTimeout(u.D),u.D=null)}rs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(N1(this.i,this.B),this.M!=2&&(il(),$t(17)),vi(this),this.m=2,ul(this)):dw(this,this.T-u)};function ul(u){u.j.I==0||u.K||Mw(u.j,u)}function vi(u){np(u);var f=u.O;f&&typeof f.dispose=="function"&&f.dispose(),u.O=null,Zv(u.V),u.g&&(f=u.g,u.g=null,f.abort(),f.dispose())}function rp(u,f){try{var m=u.j;if(m.I!=0&&(m.g==u||sp(m.h,u))){if(!u.L&&sp(m.h,u)&&m.I==3){try{var b=m.Ba.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<u.F)_c(m),gc(m);else break e;cp(m),$t(18)}}else m.xa=V[1],0<m.xa-m.K&&V[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=ol(c(m.Va,m),6e3));pw(m.h)<=1&&m.ta&&(m.ta=void 0)}else Ei(m,11)}else if((u.L||m.g==u)&&_c(m),!P(f))for(V=m.Ba.g.parse(f),f=0;f<V.length;f++){let Le=V[f];const wt=Le[0];if(!(wt<=m.K))if(m.K=wt,Le=Le[1],m.I==2)if(Le[0]=="c"){m.M=Le[1],m.ba=Le[2];const Xn=Le[3];Xn!=null&&(m.ka=Xn,m.j.info("VER="+m.ka));const Ti=Le[4];Ti!=null&&(m.za=Ti,m.j.info("SVER="+m.za));const as=Le[5];as!=null&&typeof as=="number"&&as>0&&(b=1.5*as,m.O=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const ls=u.g;if(ls){const wc=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var j=b.h;j.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ip(j,j.h),j.h=null))}if(b.G){const hp=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;hp&&(b.wa=hp,Be(b.J,b.G,hp))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-u.F,m.j.info("Handshake RTT: "+m.T+"ms")),b=m;var Q=u;if(b.na=Uw(b,b.L?b.ba:null,b.W),Q.L){mw(b.h,Q);var _e=Q,mt=b.O;mt&&(_e.H=mt),_e.D&&(np(_e),hc(_e)),b.g=Q}else Dw(b);m.i.length>0&&yc(m)}else Le[0]!="stop"&&Le[0]!="close"||Ei(m,7);else m.I==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ei(m,7):up(m):Le[0]!="noop"&&m.l&&m.l.qa(Le),m.A=0)}}il(4)}catch{}}var V1=class{constructor(u,f){this.g=u,this.map=f}};function hw(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pw(u){return u.h?1:u.g?u.g.size:0}function sp(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function ip(u,f){u.g?u.g.add(f):u.h=f}function mw(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}hw.prototype.cancel=function(){if(this.i=gw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gw(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.G);return f}return y(u.i)}var yw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F1(u,f){if(u){u=u.split("&");for(let m=0;m<u.length;m++){const b=u[m].indexOf("=");let V,j=null;b>=0?(V=u[m].substring(0,b),j=u[m].substring(b+1)):V=u[m],f(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ss(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;u instanceof ss?(this.l=u.l,cl(this,u.j),this.o=u.o,this.g=u.g,dl(this,u.u),this.h=u.h,op(this,Sw(u.i)),this.m=u.m):u&&(f=String(u).match(yw))?(this.l=!1,cl(this,f[1]||"",!0),this.o=hl(f[2]||""),this.g=hl(f[3]||"",!0),dl(this,f[4]),this.h=hl(f[5]||"",!0),op(this,f[6]||"",!0),this.m=hl(f[7]||"")):(this.l=!1,this.i=new pl(null,this.l))}ss.prototype.toString=function(){const u=[];var f=this.j;f&&u.push(fl(f,_w,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(fl(f,_w,!0),"@"),u.push(ll(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&u.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(fl(m,m.charAt(0)=="/"?B1:j1,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",fl(m,z1)),u.join("")},ss.prototype.resolve=function(u){const f=Qn(this);let m=!!u.j;m?cl(f,u.j):m=!!u.o,m?f.o=u.o:m=!!u.g,m?f.g=u.g:m=u.u!=null;var b=u.h;if(m)dl(f,u.u);else if(m=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var V=f.h.lastIndexOf("/");V!=-1&&(b=f.h.slice(0,V+1)+b)}if(V=b,V==".."||V==".")b="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){b=V.lastIndexOf("/",0)==0,V=V.split("/");const j=[];for(let Q=0;Q<V.length;){const _e=V[Q++];_e=="."?b&&Q==V.length&&j.push(""):_e==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&Q==V.length&&j.push("")):(j.push(_e),b=!0)}b=j.join("/")}else b=V}return m?f.h=b:m=u.i.toString()!=="",m?op(f,Sw(u.i)):m=!!u.m,m&&(f.m=u.m),f};function Qn(u){return new ss(u)}function cl(u,f,m){u.j=m?hl(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function dl(u,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);u.u=f}else u.u=null}function op(u,f,m){f instanceof pl?(u.i=f,q1(u.i,u.l)):(m||(f=fl(f,$1)),u.i=new pl(f,u.l))}function Be(u,f,m){u.i.set(f,m)}function fc(u){return Be(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hl(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fl(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,U1),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function U1(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _w=/[#\/\?@]/g,j1=/[#\?:]/g,B1=/[#\?]/g,$1=/[#\?@]/g,z1=/#/g;function pl(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function wi(u){u.g||(u.g=new Map,u.h=0,u.i&&F1(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=pl.prototype,t.add=function(u,f){wi(this),this.i=null,u=po(this,u);let m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function vw(u,f){wi(u),f=po(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function ww(u,f){return wi(u),f=po(u,f),u.g.has(f)}t.forEach=function(u,f){wi(this),this.g.forEach(function(m,b){m.forEach(function(V){u.call(f,V,b,this)},this)},this)};function Ew(u,f){wi(u);let m=[];if(typeof f=="string")ww(u,f)&&(m=m.concat(u.g.get(po(u,f))));else for(u=Array.from(u.g.values()),f=0;f<u.length;f++)m=m.concat(u[f]);return m}t.set=function(u,f){return wi(this),this.i=null,u=po(this,u),ww(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=Ew(this,u),u.length>0?String(u[0]):f):f};function Tw(u,f,m){vw(u,f),m.length>0&&(u.i=null,u.g.set(po(u,f),y(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(let b=0;b<f.length;b++){var m=f[b];const V=ll(m);m=Ew(this,m);for(let j=0;j<m.length;j++){let Q=V;m[j]!==""&&(Q+="="+ll(m[j])),u.push(Q)}}return this.i=u.join("&")};function Sw(u){const f=new pl;return f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),f}function po(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function q1(u,f){f&&!u.j&&(wi(u),u.i=null,u.g.forEach(function(m,b){const V=b.toLowerCase();b!=V&&(vw(this,b),Tw(this,V,m))},u)),u.j=f}function W1(u,f){const m=new al;if(o.Image){const b=new Image;b.onload=d(is,m,"TestLoadImage: loaded",!0,f,b),b.onerror=d(is,m,"TestLoadImage: error",!1,f,b),b.onabort=d(is,m,"TestLoadImage: abort",!1,f,b),b.ontimeout=d(is,m,"TestLoadImage: timeout",!1,f,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else f(!1)}function H1(u,f){const m=new al,b=new AbortController,V=setTimeout(()=>{b.abort(),is(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:b.signal}).then(j=>{clearTimeout(V),j.ok?is(m,"TestPingServer: ok",!0,f):is(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),is(m,"TestPingServer: error",!1,f)})}function is(u,f,m,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(m)}catch{}}function G1(){this.g=new x1}function ap(u){this.i=u.Sb||null,this.h=u.ab||!1}h(ap,Jv),ap.prototype.g=function(){return new pc(this.i,this.h)};function pc(u,f){it.call(this),this.H=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(pc,it),t=pc.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=f,this.readyState=1,gl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(f.body=u),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Iw(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Iw(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?ml(this):gl(this),this.readyState==3&&Iw(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ml(this))},t.Na=function(u){this.g&&(this.response=u,ml(this))},t.ga=function(){this.g&&ml(this)};function ml(u){u.readyState=4,u.l=null,u.j=null,u.B=null,gl(u)}t.setRequestHeader=function(u,f){this.A.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function gl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Aw(u){let f="";return $(u,function(m,b){f+=b,f+=":",f+=m,f+=`\r
`}),f}function lp(u,f,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=Aw(m),typeof u=="string"?m!=null&&ll(m):Be(u,f,m))}function tt(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(tt,it);var K1=/^https?$/i,Q1=["POST","PUT"];t=tt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,f,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ow.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(j){bw(this,j);return}if(u=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)m.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())m.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(Q1,f,void 0)>=0)||b||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Q]of m)this.g.setRequestHeader(j,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){bw(this,j)}};function bw(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.o=5,Rw(u),mc(u)}function Rw(u){u.A||(u.A=!0,Bt(u,"complete"),Bt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Bt(this,"complete"),Bt(this,"abort"),mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mc(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Cw(this):this.Xa())},t.Xa=function(){Cw(this)};function Cw(u){if(u.h&&typeof i<"u"){if(u.v&&os(u)==4)setTimeout(u.Ca.bind(u),0);else if(Bt(u,"readystatechange"),os(u)==4){u.h=!1;try{const j=u.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var b;if(b=j===0){let Q=String(u.D).match(yw)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),b=!K1.test(Q?Q.toLowerCase():"")}m=b}if(m)Bt(u,"complete"),Bt(u,"success");else{u.o=6;try{var V=os(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",Rw(u)}}finally{mc(u)}}}}function mc(u,f){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const m=u.g;u.g=null,f||Bt(u,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function os(u){return u.g?u.g.readyState:0}t.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),C1(f)}};function xw(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function X1(u){const f={};u=(u.g&&os(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(P(u[b]))continue;var m=D1(u[b]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[V]||[];f[V]=j,j.push(m)}K(f,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yl(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function kw(u){this.za=0,this.i=[],this.j=new al,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yl("baseRetryDelayMs",5e3,u),this.Za=yl("retryDelaySeedMs",1e4,u),this.Ta=yl("forwardChannelMaxRetries",2,u),this.va=yl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new hw(u&&u.concurrentRequestLimit),this.Ba=new G1,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kw.prototype,t.ka=8,t.I=1,t.connect=function(u,f,m,b){$t(0),this.W=u,this.H=f||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.J=Uw(this,null,this.W),yc(this)};function up(u){if(Pw(u),u.I==3){var f=u.V++,m=Qn(u.J);if(Be(m,"SID",u.M),Be(m,"RID",f),Be(m,"TYPE","terminate"),_l(u,m),f=new rs(u,u.j,f),f.M=2,f.A=fc(Qn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=jw(f.j,null),f.g.ea(f.A)),f.F=Date.now(),hc(f)}Fw(u)}function gc(u){u.g&&(dp(u),u.g.cancel(),u.g=null)}function Pw(u){gc(u),u.v&&(o.clearTimeout(u.v),u.v=null),_c(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function yc(u){if(!fw(u.h)&&!u.m){u.m=!0;var f=u.Ea;L||S(),M||(L(),M=!0),A.add(f,u),u.D=0}}function Y1(u,f){return pw(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=f.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ol(c(u.Ea,u,f),Vw(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new rs(this,this.j,u);let j=this.o;if(this.U&&(j?(j=ae(j),ve(j,this.U)):j=this.U),this.u!==null||this.R||(V.J=j,j=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ow(this,V,f),m=Qn(this.J),Be(m,"RID",u),Be(m,"CVER",22),this.G&&Be(m,"X-HTTP-Session-Id",this.G),_l(this,m),j&&(this.R?f="headers="+ll(Aw(j))+"&"+f:this.u&&lp(m,this.u,j)),ip(this.h,V),this.Ra&&Be(m,"TYPE","init"),this.S?(Be(m,"$req",f),Be(m,"SID","null"),V.U=!0,tp(V,m,null)):tp(V,m,f),this.I=2}}else this.I==3&&(u?Nw(this,u):this.i.length==0||fw(this.h)||Nw(this))};function Nw(u,f){var m;f?m=f.l:m=u.V++;const b=Qn(u.J);Be(b,"SID",u.M),Be(b,"RID",m),Be(b,"AID",u.K),_l(u,b),u.u&&u.o&&lp(b,u.u,u.o),m=new rs(u,u.j,m,u.D+1),u.u===null&&(m.J=u.o),f&&(u.i=f.G.concat(u.i)),f=Ow(u,m,1e3),m.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ip(u.h,m),tp(m,b,f)}function _l(u,f){u.H&&$(u.H,function(m,b){Be(f,b,m)}),u.l&&$({},function(m,b){Be(f,b,m)})}function Ow(u,f,m){m=Math.min(u.i.length,m);const b=u.l?c(u.l.Ka,u.l,u):null;e:{var V=u.i;let _e=-1;for(;;){const mt=["count="+m];_e==-1?m>0?(_e=V[0].g,mt.push("ofs="+_e)):_e=0:mt.push("ofs="+_e);let Le=!0;for(let wt=0;wt<m;wt++){var j=V[wt].g;const Xn=V[wt].map;if(j-=_e,j<0)_e=Math.max(0,V[wt].g-100),Le=!1;else try{j="req"+j+"_"||"";try{var Q=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Ti,as]of Q){let ls=as;a(as)&&(ls=Xf(as)),mt.push(j+Ti+"="+encodeURIComponent(ls))}}catch(Ti){throw mt.push(j+"type="+encodeURIComponent("_badmap")),Ti}}catch{b&&b(Xn)}}if(Le){Q=mt.join("&");break e}}Q=void 0}return u=u.i.splice(0,m),f.G=u,Q}function Dw(u){if(!u.g&&!u.v){u.Y=1;var f=u.Da;L||S(),M||(L(),M=!0),A.add(f,u),u.A=0}}function cp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ol(c(u.Da,u),Vw(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Lw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ol(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),gc(this),Lw(this))};function dp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Lw(u){u.g=new rs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var f=Qn(u.na);Be(f,"RID","rpc"),Be(f,"SID",u.M),Be(f,"AID",u.K),Be(f,"CI",u.F?"0":"1"),!u.F&&u.ia&&Be(f,"TO",u.ia),Be(f,"TYPE","xmlhttp"),_l(u,f),u.u&&u.o&&lp(f,u.u,u.o),u.O&&(u.g.H=u.O);var m=u.g;u=u.ba,m.M=1,m.A=fc(Qn(f)),m.u=null,m.R=!0,uw(m,u)}t.Va=function(){this.C!=null&&(this.C=null,gc(this),cp(this),$t(19))};function _c(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Mw(u,f){var m=null;if(u.g==f){_c(u),dp(u),u.g=null;var b=2}else if(sp(u.h,f))m=f.G,mw(u.h,f),b=1;else return;if(u.I!=0){if(f.o)if(b==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var V=u.D;b=cc(),Bt(b,new sw(b,m)),yc(u)}else Dw(u);else if(V=f.m,V==3||V==0&&f.X>0||!(b==1&&Y1(u,f)||b==2&&cp(u)))switch(m&&m.length>0&&(f=u.h,f.i=f.i.concat(m)),V){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Vw(u,f){let m=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(m*=2),m*f}function Ei(u,f){if(u.j.info("Error code "+f),f==2){var m=c(u.bb,u),b=u.Ua;const V=!b;b=new ss(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cl(b,"https"),fc(b),V?W1(b.toString(),m):H1(b.toString(),m)}else $t(2);u.I=0,u.l&&u.l.pa(f),Fw(u),Pw(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Fw(u){if(u.I=0,u.ja=[],u.l){const f=gw(u.h);(f.length!=0||u.i.length!=0)&&(I(u.ja,f),I(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function Uw(u,f,m){var b=m instanceof ss?Qn(m):new ss(m);if(b.g!="")f&&(b.g=f+"."+b.g),dl(b,b.u);else{var V=o.location;b=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;const j=new ss(null);b&&cl(j,b),f&&(j.g=f),V&&dl(j,V),m&&(j.h=m),b=j}return m=u.G,f=u.wa,m&&f&&Be(b,m,f),Be(b,"VER",u.ka),_l(u,b),b}function jw(u,f,m){if(f&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Aa&&!u.ma?new tt(new ap({ab:m})):new tt(u.ma),f.Fa(u.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bw(){}t=Bw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vc(){}vc.prototype.g=function(u,f){return new an(u,f)};function an(u,f){it.call(this),this.g=new kw(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(u?u["X-WebChannel-Client-Profile"]=f.sa:u={"X-WebChannel-Client-Profile":f.sa}),this.g.U=u,(u=f&&f.Qb)&&!P(u)&&(this.g.u=u),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!P(f)&&(this.g.G=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new mo(this)}h(an,it),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){up(this.g)},an.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.v&&(m={},m.__data__=Xf(u),u=m);f.i.push(new V1(f.Ya++,u)),f.I==3&&yc(f)},an.prototype.N=function(){this.g.l=null,delete this.j,up(this.g),delete this.g,an.Z.N.call(this)};function $w(u){Yf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}h($w,Yf);function zw(){Zf.call(this),this.status=1}h(zw,Zf);function mo(u){this.g=u}h(mo,Bw),mo.prototype.ra=function(){Bt(this.g,"a")},mo.prototype.qa=function(u){Bt(this.g,new $w(u))},mo.prototype.pa=function(u){Bt(this.g,new zw)},mo.prototype.oa=function(){Bt(this.g,"b")},vc.prototype.createWebChannel=vc.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Ex=function(){return new vc},wx=function(){return cc()},vx=_i,Fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dc.NO_ERROR=0,dc.TIMEOUT=8,dc.HTTP_ERROR=6,bd=dc,iw.COMPLETE="complete",_x=iw,ew.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",it.prototype.listen=it.prototype.J,Vl=ew,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,yx=tt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",g0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new D_("@firebase/firestore");function Eo(){return Zi.logLevel}function ee(t,...e){if(Zi.logLevel<=Ie.DEBUG){const n=e.map(J_);Zi.debug(`Firestore (${Wa}): ${t}`,...n)}}function Zr(t,...e){if(Zi.logLevel<=Ie.ERROR){const n=e.map(J_);Zi.error(`Firestore (${Wa}): ${t}`,...n)}}function va(t,...e){if(Zi.logLevel<=Ie.WARN){const n=e.map(J_);Zi.warn(`Firestore (${Wa}): ${t}`,...n)}}function J_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Tx(t,r,n)}function Tx(t,e,n){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Oe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Tx(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class c6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d6{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new Sx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class h6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new h6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function Ug(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return sm(s)===sm(i)?Ae(s,i):sm(s)?1:-1}return Ae(t.length,e.length)}const g6=55296,y6=57343;function sm(t){const e=t.charCodeAt(0);return e>=g6&&e<=y6}function wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__name__";class er{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=er.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ae(e.length,n.length)}static compareSegments(e,n){const r=er.isNumericId(e),s=er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?er.extractNumericId(e).compare(er.extractNumericId(n)):Ug(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class Ve extends er{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const _6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends er{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return _6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Rt([_0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ve.fromString(e))}static fromName(e){return new oe(Ve.fromString(e).popFirst(5))}static empty(){return new oe(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v6(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!oe.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w0(t){if(oe.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ax(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function tc(t,e){if(!Ax(t))throw new X(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-62135596800,T0=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*T0);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E0)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:ft("string",We._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new We(0,0))}static max(){return new he(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function w6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new ei(s,oe.empty(),e)}function E6(t){return new ei(t.readTime,t.key,ku)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(he.min(),oe.empty(),ku)}static max(){return new ei(he.max(),oe.empty(),ku)}}function T6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==S6)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function A6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-1;function If(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}function b6(t){return typeof t=="number"&&Number.isInteger(t)&&!Sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="";function R6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S0(e)),e=C6(t.get(n),e);return S0(e)}function C6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bx:n+="";break;default:n+=i}}return n}function S0(t){return t+bx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bt.RED,this.left=s??bt.EMPTY,this.right=i??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new bt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new _t(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Cx("Invalid base64 string: "+i):i}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const x6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=x6.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="server_timestamp",kx="__type__",Px="__previous_value__",Nx="__local_write_time__";function nv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kx])==null?void 0:r.stringValue)===xx}function Af(t){const e=t.mapValue.fields[Px];return nv(e)?Af(e):e}function Pu(t){const e=ti(t.mapValue.fields[Nx].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Ih="(default)";class Nu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="__type__",P6="__max__",Qc={mapValue:{}},Dx="__vector__",Ah="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:O6(t)?9007199254740991:N6(t)?10:11:ce(28295,{value:t})}function Er(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pu(t).isEqual(Pu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ti(s.timestampValue),a=ti(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ni(s.bytesValue).isEqual(ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ot(s.doubleValue),a=ot(i.doubleValue);return o===a?Sh(o)===Sh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(I0(o)!==I0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Er(o[l],a[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function Ou(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Ea(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ot(i.integerValue||i.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return b0(t.timestampValue,e.timestampValue);case 4:return b0(Pu(t),Pu(e));case 5:return Ug(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ni(i),l=ni(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ae(a[c],l[c]);if(d!==0)return d}return Ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ae(ot(i.latitude),ot(o.latitude));return a!==0?a:Ae(ot(i.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,y,I,_;const a=i.fields||{},l=o.fields||{},c=(p=a[Ah])==null?void 0:p.arrayValue,d=(y=l[Ah])==null?void 0:y.arrayValue,h=Ae(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:R0(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Qc.mapValue&&o===Qc.mapValue)return 0;if(i===Qc.mapValue)return 1;if(o===Qc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Ug(l[h],d[h]);if(p!==0)return p;const y=Ea(a[l[h]],c[d[h]]);if(y!==0)return y}return Ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function b0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=ti(t),r=ti(e),s=Ae(n.seconds,r.seconds);return s!==0?s:Ae(n.nanos,r.nanos)}function R0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ea(n[s],r[s]);if(i)return i}return Ae(n.length,r.length)}function Ta(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jg(n.fields[o])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function Rd(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(t);return e?16+Rd(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return pi(r.fields,(i,o)=>{s+=i.length+Rd(o)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function C0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bg(t){return!!t&&"integerValue"in t}function rv(t){return!!t&&"arrayValue"in t}function x0(t){return!!t&&"nullValue"in t}function k0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cd(t){return!!t&&"mapValue"in t}function N6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ox])==null?void 0:r.stringValue)===Dx}function ru(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return{...t}}function O6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ru(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Cd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){pi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new en(ru(this.value))}}function Lx(t){const e=[];return pi(t.fields,(n,r)=>{const s=new Rt([n]);if(Cd(r)){const i=Lx(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,he.min(),he.min(),he.min(),en.empty(),0)}static newFoundDocument(e,n,r,s){return new Ft(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Ft(e,2,n,he.min(),he.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,he.min(),he.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function P0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Ea(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function N0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n="asc"){this.field=e,this.dir=n}}function D6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class ht extends Mx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M6(e,n,r):n==="array-contains"?new U6(e,r):n==="in"?new j6(e,r):n==="not-in"?new B6(e,r):n==="array-contains-any"?new $6(e,r):new ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V6(e,r):new F6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ea(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends Mx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gn(e,n)}matches(e){return Vx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vx(t){return t.op==="and"}function Fx(t){return L6(t)&&Vx(t)}function L6(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function $g(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Ta(t.value);if(Fx(t))return t.filters.map(e=>$g(e)).join(",");{const e=t.filters.map(n=>$g(n)).join(",");return`${t.op}(${e})`}}function Ux(t,e){return t instanceof ht?function(r,s){return s instanceof ht&&r.op===s.op&&r.field.isEqual(s.field)&&Er(r.value,s.value)}(t,e):t instanceof Gn?function(r,s){return s instanceof Gn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Ux(o,s.filters[a]),!0):!1}(t,e):void ce(19439)}function jx(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ta(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(jx).join(" ,")+"}"}(t):"Filter"}class M6 extends ht{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class V6 extends ht{constructor(e,n){super(e,"in",n),this.keys=Bx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class F6 extends ht{constructor(e,n){super(e,"not-in",n),this.keys=Bx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class U6 extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rv(n)&&Ou(n.arrayValue,this.value)}}class j6 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class B6 extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class $6 extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function O0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new z6(t,e,n,r,s,i,o)}function sv(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),If(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),e.Te=n}return e.Te}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ux(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N0(t.startAt,e.startAt)&&N0(t.endAt,e.endAt)}function zg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q6(t,e,n,r,s,i,o,a){return new Ka(t,e,n,r,s,i,o,a)}function bf(t){return new Ka(t)}function D0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $x(t){return t.collectionGroup!==null}function su(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Du(i,r))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new Du(Rt.keyField(),r))}return e.Ie}function fr(t){const e=me(t);return e.Ee||(e.Ee=W6(e,su(t))),e.Ee}function W6(t,e){if(t.limitType==="F")return O0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Du(s.field,i)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return O0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qg(t,e){const n=t.filters.concat([e]);return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wg(t,e,n){return new Ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rf(t,e){return iv(fr(t),fr(e))&&t.limitType===e.limitType}function zx(t){return`${sv(fr(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jx(s)).join(", ")}]`),If(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ta(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ta(s)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of su(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=P0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,su(r),s)||r.endAt&&!function(o,a,l){const c=P0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,su(r),s))}(t,e)}function H6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qx(t){return(e,n)=>{let r=!1;for(const s of su(t)){const i=G6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function G6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ea(l,c):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new Je(oe.comparator);function Jr(){return K6}const Wx=new Je(oe.comparator);function Fl(...t){let e=Wx;for(const n of t)e=e.insert(n.key,n);return e}function Hx(t){let e=Wx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ni(){return iu()}function Gx(){return iu()}function iu(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q6=new Je(oe.comparator),X6=new _t(oe.comparator);function be(...t){let e=X6;for(const n of t)e=e.add(n);return e}const Y6=new _t(Ae);function Z6(){return Y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function Kx(t){return{integerValue:""+t}}function J6(t,e){return b6(e)?Kx(e):ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function e9(t,e,n){return t instanceof Lu?function(s,i){const o={fields:{[kx]:{stringValue:xx},[Nx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nv(i)&&(i=Af(i)),i&&(o.fields[Px]=i),{mapValue:o}}(n,e):t instanceof Sa?Xx(t,e):t instanceof Ia?Yx(t,e):function(s,i){const o=Qx(s,i),a=L0(o)+L0(s.Ae);return Bg(o)&&Bg(s.Ae)?Kx(a):ov(s.serializer,a)}(t,e)}function t9(t,e,n){return t instanceof Sa?Xx(t,e):t instanceof Ia?Yx(t,e):n}function Qx(t,e){return t instanceof Rh?function(r){return Bg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Lu extends xf{}class Sa extends xf{constructor(e){super(),this.elements=e}}function Xx(t,e){const n=Zx(e);for(const r of t.elements)n.some(s=>Er(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ia extends xf{constructor(e){super(),this.elements=e}}function Yx(t,e){let n=Zx(e);for(const r of t.elements)n=n.filter(s=>!Er(s,r));return{arrayValue:{values:n}}}class Rh extends xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function L0(t){return ot(t.integerValue||t.doubleValue)}function Zx(t){return rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.field=e,this.transform=n}}function n9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sa&&s instanceof Sa||r instanceof Ia&&s instanceof Ia?wa(r.elements,s.elements,Er):r instanceof Rh&&s instanceof Rh?Er(r.Ae,s.Ae):r instanceof Lu&&s instanceof Lu}(t.transform,e.transform)}class r9{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function Jx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tk(t.key,zn.none()):new nc(t.key,t.data,zn.none());{const n=t.data,r=en.empty();let s=new _t(Rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new mi(t.key,r,new fn(s.toArray()),zn.none())}}function s9(t,e,n){t instanceof nc?function(s,i,o){const a=s.value.clone(),l=V0(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mi?function(s,i,o){if(!xd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=V0(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ek(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof nc?function(i,o,a,l){if(!xd(i.precondition,o))return a;const c=i.value.clone(),d=F0(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof mi?function(i,o,a,l){if(!xd(i.precondition,o))return a;const c=F0(i.fieldTransforms,l,o),d=o.data;return d.setAll(ek(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return xd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Qx(r.transform,s||null);i!=null&&(n===null&&(n=en.empty()),n.set(r.field,i))}return n||null}function M0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wa(r,s,(i,o)=>n9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends kf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mi extends kf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ek(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function V0(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,t9(o,a,n[s]))}return r}function F0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,e9(i,o,e))}return r}class tk extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o9 extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&s9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Jx(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,r)=>M0(n,r))&&wa(this.baseMutations,e.baseMutations,(n,r)=>M0(n,r))}}class lv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Q6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new lv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,xe;function c9(t){switch(t){case z.OK:return ce(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function nk(t){if(t===void 0)return Zr("GRPC error has no .code"),z.UNKNOWN;switch(t){case ut.OK:return z.OK;case ut.CANCELLED:return z.CANCELLED;case ut.UNKNOWN:return z.UNKNOWN;case ut.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ut.INTERNAL:return z.INTERNAL;case ut.UNAVAILABLE:return z.UNAVAILABLE;case ut.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ut.NOT_FOUND:return z.NOT_FOUND;case ut.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ut.ABORTED:return z.ABORTED;case ut.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ut.DATA_LOSS:return z.DATA_LOSS;default:return ce(39323,{code:t})}}(xe=ut||(ut={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new Ws([4294967295,4294967295],0);function U0(t){const e=d9().encode(t),n=new gx;return n.update(e),new Uint8Array(n.digest())}function j0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,i],0)]}class uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ws.fromNumber(r)));return s.compare(h9)===1&&(s=new Ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=U0(e),[r,s]=j0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new uv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=U0(e),[r,s]=j0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pf(he.min(),s,new Je(Ae),Jr(),be())}}class rc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rk{constructor(e,n){this.targetId=e,this.Ce=n}}class sk{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class B0{constructor(){this.ve=0,this.Fe=$0(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new rc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class f9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=Xc(),this.He=Xc(),this.Ye=new Je(Ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(zg(i))if(r===0){const o=new oe(i.path);this.et(n,o,Ft.newNoDocument(o,he.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ni(r).toUint8Array()}catch(l){if(l instanceof Cx)return va("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uv(o,s,i)}catch(l){return va(l instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&zg(a.target)){const l=new oe(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ft.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=be();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Pf(e,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=Xc(),this.He=Xc(),this.Ye=new Je(Ae),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new B0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _t(Ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _t(Ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new Je(oe.comparator)}function $0(){return new Je(oe.comparator)}const p9={asc:"ASCENDING",desc:"DESCENDING"},m9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g9={and:"AND",or:"OR"};class y9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hg(t,e){return t.useProto3Json||If(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _9(t,e){return Ch(t,e.toTimestamp())}function pr(t){return Oe(!!t,49232),he.fromTimestamp(function(n){const r=ti(n);return new We(r.seconds,r.nanos)}(t))}function cv(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){const n=function(s){return new Ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ok(t){const e=Ve.fromString(t);return Oe(dk(e),10190,{key:e.toString()}),e}function Kg(t,e){return cv(t.databaseId,e.path)}function im(t,e){const n=ok(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(lk(n))}function ak(t,e){return cv(t.databaseId,e)}function v9(t){const e=ok(t);return e.length===4?Ve.emptyPath():lk(e)}function Qg(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lk(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function z0(t,e,n){return{name:Kg(t,e),fields:n.value.mapValue.fields}}function w9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Oe(d===void 0||typeof d=="string",58123),Pt.fromBase64String(d||"")):(Oe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Pt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:nk(c.code);return new X(d,c.message||"")}(o);n=new sk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=im(t,r.document.name),i=pr(r.document.updateTime),o=r.document.createTime?pr(r.document.createTime):he.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new kd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=im(t,r.document),i=r.readTime?pr(r.readTime):he.min(),o=Ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=im(t,r.document),i=r.removedTargetIds||[];n=new kd([],i,s,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new u9(s,i),a=r.targetId;n=new rk(a,o)}}return n}function E9(t,e){let n;if(e instanceof nc)n={update:z0(t,e.key,e.value)};else if(e instanceof tk)n={delete:Kg(t,e.key)};else if(e instanceof mi)n={update:z0(t,e.key,e.data),updateMask:k9(e.fieldMask)};else{if(!(e instanceof o9))return ce(16599,{Vt:e.type});n={verify:Kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ia)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_9(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function T9(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?pr(s.updateTime):pr(i);return o.isEqual(he.min())&&(o=pr(i)),new r9(o,s.transformResults||[])}(n,e))):[]}function S9(t,e){return{documents:[ak(t,e.path)]}}function I9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ak(t,s);const i=function(c){if(c.length!==0)return ck(Gn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:So(p.field),direction:R9(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function A9(t){let e=v9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=uk(h);return p instanceof Gn&&Fx(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(I){return new Du(Io(I.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,If(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new bh(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,y=h.values||[];return new bh(y,p)}(n.endAt)),q6(e,s,o,i,a,"F",l,c)}function b9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Io(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Io(n.unaryFilter.field);return ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Io(n.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(Io(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>uk(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function R9(t){return p9[t]}function C9(t){return m9[t]}function x9(t){return g9[t]}function So(t){return{fieldPath:t.canonicalString()}}function Io(t){return Rt.fromServerFormat(t.fieldPath)}function ck(t){return t instanceof ht?function(n){if(n.op==="=="){if(k0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(x0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(x0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:C9(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(s=>ck(s));return r.length===1?r[0]:{compositeFilter:{op:x9(n.op),filters:r}}}(t):ce(54877,{filter:t})}function k9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,s,i=he.min(),o=he.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.yt=e}}function N9(t){const e=A9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.Cn=new D9}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ei.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class D9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hk=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(hk,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Aa(0)}static cr(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="LruGarbageCollector",L9=1048576;function H0([t,e],[n,r]){const s=Ae(t,n);return s===0?Ae(e,r):s}class M9{constructor(e){this.Ir=e,this.buffer=new _t(H0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();H0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(W0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ga(n)?ee(W0,"Ignoring IndexedDB error during garbage collection: ",n):await Ha(n)}await this.Vr(3e5)})}}class F9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(Sf.ce);const r=new M9(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(q0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Eo()<=Ie.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function U9(t,e){return new F9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ou(r.mutation,s,fn.empty(),We.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const s=Ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Fl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Jr();const o=iu(),a=function(){return iu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof mi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ou(d.mutation,c,d.mutation.getFieldMask(),We.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new B9(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=iu();let s=new Je((o,a)=>o-a),i=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||fn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||be()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Gx();d.forEach(p=>{if(!i.has(p)){const y=Jx(n.get(p),r.get(p));y!==null&&h.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$x(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Ni());let a=ku,l=i;return o.next(c=>q.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,be())).next(d=>({batchId:a,changes:Hx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=Fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fl();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const c=function(h,p){return new Ka(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ft.newInvalidDocument(d)))});let a=Fl();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&ou(d.mutation,c,fn.empty(),We.now()),Cf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:pr(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:N9(s.bundledQuery),readTime:pr(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.overlays=new Je(oe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ni();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Ni(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ni(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ni(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return q.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l9(n,r));let i=this.qr.get(n);i===void 0&&(i=be(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.Qr=new _t(Tt.$r),this.Ur=new _t(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new oe(new Ve([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new oe(new Ve([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=be();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return oe.comparator(e.key,n.key)||Ae(e.Yr,n.Yr)}static Kr(e,n){return Ae(e.Yr,n.Yr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _t(Tt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a9(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?tv:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Ae);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new oe(i),0);let a=new _t(Ae);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),q.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.ri=e,this.docs=function(){return new Je(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ft.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jr();const o=n.path,a=new oe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||T6(E6(d),r)<=0||(s.has(d.key)||Cf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ii(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K9(this)}getSize(e){return q.resolve(this.size)}}class K9 extends j9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.persistence=e,this.si=new lo(n=>sv(n),iv),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new dv,this.targetCount=0,this.ai=Aa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new W9,this.referenceDelegate=e(this),this.Pi=new Q9(this),this.indexManager=new O9,this.remoteDocumentCache=function(s){return new G9(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new P9(n),this.Ii=new z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new H9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new X9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class X9 extends I6{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Ri=new dv,this.Vi=null}static mi(e){return new hv(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const s=oe.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.pi=new lo(r=>R6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=U9(this,n)}static mi(e,n){return new xh(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rd(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=be(),s=be();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new fv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return NF()?8:A6(jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Y9;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Eo()<=Ie.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Eo()<=Ie.DEBUG&&ee("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Eo()<=Ie.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):q.resolve())}ys(e,n){if(D0(n))return q.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Wg(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=be(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Wg(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return D0(n)||s.isEqual(he.min())?q.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?q.resolve(null):(Eo()<=Ie.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),To(n)),this.vs(e,o,n,w6(s,ku)).next(a=>a))})}Ds(e,n){let r=new _t(qx(e));return n.forEach((s,i)=>{Cf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Eo()<=Ie.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",To(n)),this.ps.getDocumentsMatchingQuery(e,n,ei.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LocalStore",J9=3e8;class eB{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Je(Ae),this.xs=new lo(i=>sv(i),iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tB(t,e,n,r){return new eB(t,e,n,r)}async function pk(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=be();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function nB(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let y=q.resolve();return p.forEach(I=>{y=y.next(()=>d.getEntry(l,I)).next(_=>{const T=c.docVersions.get(I);Oe(T!==null,48541),_.version.compareTo(T)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function mk(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rB(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Pt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(h,y),function(_,T,v){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=J9?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,d)&&a.push(n.Pi.updateTargetData(i,y))});let l=Jr(),c=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(sB(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(he.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function sB(t,e,n){let r=be(),s=be();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee(pv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function iB(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oB(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Xg(t,e,n){const r=me(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ga(o))throw o;ee(pv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function G0(t,e,n){const r=me(t);let s=he.min(),i=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=me(l),p=h.xs.get(d);return p!==void 0?q.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(r,o,fr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:be())).next(a=>(aB(r,H6(e),a),{documents:a,Qs:i})))}function aB(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class K0{constructor(){this.activeTargetIds=Z6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lB{constructor(){this.Mo=new K0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(Q0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(Q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Yg(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",cB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Yg(),a=this.zo(e,n.toUriEncodedString());ee(om,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=fi(c);return this.Jo(e,a,l,r,d).then(h=>(ee(om,`Received RPC '${e}' ${o}: `,h),h),h=>{throw va(om,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=cB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class fB extends dB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Yg();return new Promise((a,l)=>{const c=new yx;c.setWithCredentials(!0),c.listenOnce(_x.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case bd.NO_ERROR:const h=c.getResponseJson();ee(Lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case bd.TIMEOUT:ee(Lt,`RPC '${e}' ${o} timed out`),l(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const p=c.getStatus();if(ee(Lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const _=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(I.status);l(new X(_,I.message))}else l(new X(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(z.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ee(Lt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);ee(Lt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Yg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ex(),a=wx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ee(Lt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,y=!1;const I=new hB({Yo:T=>{y?ee(Lt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(ee(Lt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),ee(Lt,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},Zo:()=>h.close()}),_=(T,v,w)=>{T.listen(v,E=>{try{w(E)}catch(N){setTimeout(()=>{throw N},0)}})};return _(h,Vl.EventType.OPEN,()=>{y||(ee(Lt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),_(h,Vl.EventType.CLOSE,()=>{y||(y=!0,ee(Lt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(h))}),_(h,Vl.EventType.ERROR,T=>{y||(y=!0,va(Lt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),I.a_(new X(z.UNAVAILABLE,"The operation could not be completed")))}),_(h,Vl.EventType.MESSAGE,T=>{var v;if(!y){const w=T.data[0];Oe(!!w,16349);const E=w,N=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(N){ee(Lt,`RPC '${e}' stream ${s} received error:`,N);const L=N.status;let M=function(x){const k=ut[x];if(k!==void 0)return nk(k)}(L),A=N.message;M===void 0&&(M=z.INTERNAL,A="Unknown error status: "+L+" with message "+N.message),y=!0,I.a_(new X(M,A)),h.close()}else ee(Lt,`RPC '${e}' stream ${s} received:`,w),I.u_(w)}}),_(a,vx.STAT_EVENT,T=>{T.stat===Fg.PROXY?ee(Lt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Fg.NOPROXY&&ee(Lt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){return new y9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class yk{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ee(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ee(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pB extends yk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=w9(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?pr(o.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Qg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=zg(l)?{documents:S9(i,l)}:{query:I9(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ik(i,o.resumeToken);const c=Hg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Ch(i,o.snapshotVersion.toTimestamp());const c=Hg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=b9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Qg(this.serializer),n.removeTarget=e,this.q_(n)}}class mB extends yk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=T9(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{}class yB extends gB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Gg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Gg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _B{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="RemoteStore";class vB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{uo(this)&&(ee(Ji,"Restarting streams for network reachability change."),await async function(l){const c=me(l);c.Ea.add(4),await sc(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Of(c)}(this))})}),this.Ra=new _B(r,s)}}async function Of(t){if(uo(t))for(const e of t.da)await e(!0)}async function sc(t){for(const e of t.da)await e(!1)}function _k(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_v(n)?yv(n):Qa(n).O_()&&gv(n,e))}function mv(t,e){const n=me(t),r=Qa(n);n.Ia.delete(e),r.O_()&&vk(n,e),n.Ia.size===0&&(r.O_()?r.L_():uo(n)&&n.Ra.set("Unknown"))}function gv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qa(t).Y_(e)}function vk(t,e){t.Va.Ue(e),Qa(t).Z_(e)}function yv(t){t.Va=new f9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Qa(t).start(),t.Ra.ua()}function _v(t){return uo(t)&&!Qa(t).x_()&&t.Ia.size>0}function uo(t){return me(t).Ea.size===0}function wk(t){t.Va=void 0}async function wB(t){t.Ra.set("Online")}async function EB(t){t.Ia.forEach((e,n)=>{gv(t,e)})}async function TB(t,e){wk(t),_v(t)?(t.Ra.ha(e),yv(t)):t.Ra.set("Unknown")}async function SB(t,e,n){if(t.Ra.set("Online"),e instanceof sk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){ee(Ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(t,r)}else if(e instanceof kd?t.Va.Ze(e):e instanceof rk?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await mk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Pt.EMPTY_BYTE_STRING,d.snapshotVersion)),vk(i,l);const h=new Ns(d.target,l,c,d.sequenceNumber);gv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(Ji,"Failed to raise snapshot:",r),await kh(t,r)}}async function kh(t,e,n){if(!Ga(e))throw e;t.Ea.add(1),await sc(t),t.Ra.set("Offline"),n||(n=()=>mk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(Ji,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Of(t)})}function Ek(t,e){return e().catch(n=>kh(t,n,e))}async function Df(t){const e=me(t),n=si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tv;for(;IB(e);)try{const s=await iB(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,AB(e,s)}catch(s){await kh(e,s)}Tk(e)&&Sk(e)}function IB(t){return uo(t)&&t.Ta.length<10}function AB(t,e){t.Ta.push(e);const n=si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Tk(t){return uo(t)&&!si(t).x_()&&t.Ta.length>0}function Sk(t){si(t).start()}async function bB(t){si(t).ra()}async function RB(t){const e=si(t);for(const n of t.Ta)e.ea(n.mutations)}async function CB(t,e,n){const r=t.Ta.shift(),s=lv.from(r,e,n);await Ek(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Df(t)}async function xB(t,e){e&&si(t).X_&&await async function(r,s){if(function(o){return c9(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();si(r).B_(),await Ek(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Df(r)}}(t,e),Tk(t)&&Sk(t)}async function Z0(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ee(Ji,"RemoteStore received new credentials");const r=uo(n);n.Ea.add(3),await sc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Of(n)}async function kB(t,e){const n=me(t);e?(n.Ea.delete(2),await Of(n)):e||(n.Ea.add(2),await sc(n),n.Ra.set("Unknown"))}function Qa(t){return t.ma||(t.ma=function(n,r,s){const i=me(n);return i.sa(),new pB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:wB.bind(null,t),t_:EB.bind(null,t),r_:TB.bind(null,t),H_:SB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),_v(t)?yv(t):t.Ra.set("Unknown")):(await t.ma.stop(),wk(t))})),t.ma}function si(t){return t.fa||(t.fa=function(n,r,s){const i=me(n);return i.sa(),new mB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bB.bind(null,t),r_:xB.bind(null,t),ta:RB.bind(null,t),na:CB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Df(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(Ji,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new vv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),Ga(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.ga=new Je(oe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ba{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ba(e,n,Qo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NB{constructor(){this.queries=eS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=eS(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function eS(){return new lo(t=>zx(t),Rf)}async function Ev(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new PB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=wv(o,`Initialization of query '${To(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Sv(n)}async function Tv(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OB(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Sv(n)}function DB(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Sv(t){t.Ca.forEach(e=>{e.next()})}var Zg,tS;(tS=Zg||(Zg={})).Ma="default",tS.Cache="cache";class Iv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.key=e}}class Ak{constructor(e){this.key=e}}class LB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=qx(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new J0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),y=Cf(this.query,h)?h:null,I=!!p&&this.mutatedKeys.has(p.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;p&&y?p.data.isEqual(y.data)?I!==_&&(r.track({type:3,doc:y}),T=!0):this.su(p,y)||(r.track({type:2,doc:y}),T=!0,(l&&this.eu(y,l)>0||c&&this.eu(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),T=!0):p&&!y&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(y?(o=o.add(y),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(y,I){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:T})}};return _(y)-_(I)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new ba(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Ak(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Ik(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Av="SyncEngine";class MB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VB{constructor(e){this.key=e,this.hu=!1}}class FB{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new lo(a=>zx(a),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new Je(oe.comparator),this.Au=new Map,this.Ru=new dv,this.Vu={},this.mu=new Map,this.fu=Aa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UB(t,e,n=!0){const r=Pk(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await bk(r,e,n,!0),s}async function jB(t,e){const n=Pk(t);await bk(n,e,!0,!1)}async function bk(t,e,n,r){const s=await oB(t.localStore,fr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await BB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&_k(t.remoteStore,s),a}async function BB(t,e,n,r,s){t.pu=(h,p,y)=>async function(_,T,v,w){let E=T.view.ru(v);E.Cs&&(E=await G0(_.localStore,T.query,!1).then(({documents:A})=>T.view.ru(A,E)));const N=w&&w.targetChanges.get(T.targetId),L=w&&w.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(E,_.isPrimaryClient,N,L);return rS(_,T.targetId,M.au),M.snapshot}(t,h,p,y);const i=await G0(t.localStore,e,!0),o=new LB(e,i.Qs),a=o.ru(i.documents),l=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);rS(t,n,c.au);const d=new MB(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function $B(t,e,n){const r=me(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Rf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&mv(r.remoteStore,s.targetId),Jg(r,s.targetId)}).catch(Ha)):(Jg(r,s.targetId),await Xg(r.localStore,s.targetId,!0))}async function zB(t,e){const n=me(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mv(n.remoteStore,r.targetId))}async function qB(t,e,n){const r=YB(t);try{const s=await function(o,a){const l=me(o),c=We.now(),d=a.reduce((y,I)=>y.add(I.key),be());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Jr(),_=be();return l.Ns.getEntries(y,d).next(T=>{I=T,I.forEach((v,w)=>{w.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,I)).next(T=>{h=T;const v=[];for(const w of a){const E=i9(w,h.get(w.key).overlayedDocument);E!=null&&v.push(new mi(w.key,E,Lx(E.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,v,a)}).next(T=>{p=T;const v=T.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(y,T.batchId,v)})}).then(()=>({batchId:p.batchId,changes:Hx(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Je(Ae)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await ic(r,s.changes),await Df(r.remoteStore)}catch(s){const i=wv(s,"Failed to persist write");n.reject(i)}}async function Rk(t,e){const n=me(t);try{const r=await rB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Oe(o.hu,14607):s.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await ic(n,r,e)}catch(r){await Ha(r)}}function nS(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&Sv(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WB(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(oe.comparator);o=o.insert(i,Ft.newNoDocument(i,he.min()));const a=be().add(i),l=new Pf(he.min(),new Map,new Je(Ae),o,a);await Rk(r,l),r.du=r.du.remove(i),r.Au.delete(e),bv(r)}else await Xg(r.localStore,e,!1).then(()=>Jg(r,e,n)).catch(Ha)}async function HB(t,e){const n=me(t),r=e.batch.batchId;try{const s=await nB(n.localStore,e);xk(n,r,null),Ck(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,s)}catch(s){await Ha(s)}}async function GB(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Oe(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);xk(r,e,n),Ck(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,s)}catch(s){await Ha(s)}}function Ck(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function xk(t,e,n){const r=me(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||kk(t,r)})}function kk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bv(t))}function rS(t,e,n){for(const r of n)r instanceof Ik?(t.Ru.addReference(r.key,e),KB(t,r)):r instanceof Ak?(ee(Av,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kk(t,r.key)):ce(19791,{wu:r})}function KB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(Av,"New document in limbo: "+n),t.Eu.add(r),bv(t))}function bv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new oe(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new VB(n)),t.du=t.du.insert(n,r),_k(t.remoteStore,new Ns(fr(bf(n.path)),r,"TargetPurposeLimboResolution",Sf.ce))}}async function ic(t,e,n){const r=me(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=fv.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=me(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(c,p=>q.forEach(p.Es,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>q.forEach(p.ds,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!Ga(h))throw h;ee(pv,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const y=d.Ms.get(p),I=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function QB(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ee(Av,"User change. New user:",e.toKey());const r=await pk(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r.Ls)}}function XB(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let s=be();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Pk(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WB.bind(null,e),e.Pu.H_=OB.bind(null,e.eventManager),e.Pu.yu=DB.bind(null,e.eventManager),e}function YB(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GB.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tB(this.persistence,new Z9,e.initialUser,this.serializer)}Cu(e){return new fk(hv.mi,this.serializer)}Du(e){return new lB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class ZB extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new V9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new fk(r=>xh.mi(r,n),this.serializer)}}class ey{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QB.bind(null,this.syncEngine),await kB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NB}()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),r=function(i){return new fB(i)}(e.databaseInfo);return function(i,o,a,l){return new yB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new vB(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nS(this.syncEngine,n,0),function(){return X0.v()?new X0:new uB}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new FB(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);ee(Ji,"RemoteStore shutting down."),i.Ea.add(5),await sc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class JB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mt.UNAUTHENTICATED,this.clientId=ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ee(ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee(ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lm(t,e){t.asyncQueue.verifyOperationInProgress(),ee(ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e$(t);ee(ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Z0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Z0(e.remoteStore,s)),t._onlineComponents=e}async function e$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(ii,"Using user provided OfflineComponentProvider");try{await lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await lm(t,new Ph)}}else ee(ii,"Using default OfflineComponentProvider"),await lm(t,new ZB(void 0));return t._offlineComponents}async function Nk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(ii,"Using user provided OnlineComponentProvider"),await sS(t,t._uninitializedComponentsProvider._online)):(ee(ii,"Using default OnlineComponentProvider"),await sS(t,new ey))),t._onlineComponents}function t$(t){return Nk(t).then(e=>e.syncEngine)}async function Nh(t){const e=await Nk(t),n=e.eventManager;return n.onListen=UB.bind(null,e.syncEngine),n.onUnlisten=$B.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zB.bind(null,e.syncEngine),n}function n$(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new Rv({next:p=>{d.Nu(),o.enqueueAndForget(()=>Tv(i,h));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Iv(bf(a.path),d,{includeMetadataChanges:!0,qa:!0});return Ev(i,h)}(await Nh(t),t.asyncQueue,e,n,r)),r.promise}function r$(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new Rv({next:p=>{d.Nu(),o.enqueueAndForget(()=>Tv(i,h)),p.fromCache&&l.source==="server"?c.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new Iv(a,d,{includeMetadataChanges:!0,qa:!0});return Ev(i,h)}(await Nh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firestore.googleapis.com",oS=!0;class aS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dk,this.ssl=oS}else this.host=e.host,this.ssl=e.ssl??oS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L9)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u6;switch(r.type){case"firstParty":return new f6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iS.get(n);r&&(ee("ComponentProvider","Removing Datastore"),iS.delete(n),r.terminate())}(this),Promise.resolve()}}function s$(t,e,n,r={}){var c;t=gn(t,Lf);const s=fi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(N_(`https://${a}`),O_("Firestore",!0)),i.host!==Dk&&i.host!==a&&va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Kr(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Mt.MOCK_USER;else{d=uC(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mt(p)}t._authCredentials=new c6(new Sx(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tc(n,st._jsonSchema))return new st(e,r||null,new oe(Ve.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:ft("string",st._jsonSchemaVersion),referencePath:ft("string")};class Hs extends gi{constructor(e,n,r){super(e,n,bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new oe(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function EW(t,e,...n){if(t=Ze(t),Ix("collection","path",e),t instanceof Lf){const r=Ve.fromString(e,...n);return w0(r),new Hs(t,null,r)}{if(!(t instanceof st||t instanceof Hs))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return w0(r),new Hs(t.firestore,null,r)}}function i$(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=ev.newId()),Ix("doc","path",e),t instanceof Lf){const r=Ve.fromString(e,...n);return v0(r),new st(t,null,new oe(r))}{if(!(t instanceof st||t instanceof Hs))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return v0(r),new st(t.firestore,t instanceof Hs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="AsyncQueue";class uS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gk(this,"async_queue_retry"),this._c=()=>{const r=am();r&&ee(lS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ga(e))throw e;ee(lS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",cS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=vv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ce(47125,{Pc:cS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class oi extends Lf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new uS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uS(e),this._firestoreClient=void 0,await e}}}function o$(t,e){const n=typeof t=="object"?t:M_(),r=typeof t=="string"?t:Ih,s=yf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=oC("firestore");i&&s$(s,...i)}return s}function Mf(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a$(t),t._firestoreClient}function a$(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new k6(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ok(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Pt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new An(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:ft("string",An._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(tc(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:ft("string",mr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new X(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:ft("string",gr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=/^__.*__$/;class u${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}class Lk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Ff{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ff({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mk(this.Ac)&&l$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class c${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nf(e)}Cc(e,n,r,s=!1){return new Ff({Ac:e,methodName:n,Dc:r,path:Rt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(t){const e=t._freezeSettings(),n=Nf(t._databaseId);return new c$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vk(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Pv("Data must be an object, but it was:",o,r);const a=Uk(r,o);let l,c;if(i.merge)l=new fn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=ty(e,h,n);if(!o.contains(p))throw new X(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Bk(d,p)||d.push(p)}l=new fn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new u$(new en(a),l,c)}class jf extends Xa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jf}}function Fk(t,e,n){return new Ff({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cv extends Xa{_toFieldTransform(e){return new av(e.path,new Lu)}isEqual(e){return e instanceof Cv}}class xv extends Xa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Fk(this,e,!0),r=this.vc.map(i=>co(i,n)),s=new Sa(r);return new av(e.path,s)}isEqual(e){return e instanceof xv&&Kr(this.vc,e.vc)}}class kv extends Xa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Fk(this,e,!0),r=this.vc.map(i=>co(i,n)),s=new Ia(r);return new av(e.path,s)}isEqual(e){return e instanceof kv&&Kr(this.vc,e.vc)}}function d$(t,e,n,r){const s=t.Cc(1,e,n);Pv("Data must be an object, but it was:",s,r);const i=[],o=en.empty();pi(r,(l,c)=>{const d=Nv(e,l,n);c=Ze(c);const h=s.yc(d);if(c instanceof jf)i.push(d);else{const p=co(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new fn(i);return new Lk(o,a,s.fieldTransforms)}function h$(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[ty(e,r,n)],l=[s];if(i.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(ty(e,i[p])),l.push(i[p+1]);const c=[],d=en.empty();for(let p=a.length-1;p>=0;--p)if(!Bk(c,a[p])){const y=a[p];let I=l[p];I=Ze(I);const _=o.yc(y);if(I instanceof jf)c.push(y);else{const T=co(I,_);T!=null&&(c.push(y),d.set(y,T))}}const h=new fn(c);return new Lk(d,h,o.fieldTransforms)}function f$(t,e,n,r=!1){return co(n,t.Cc(r?4:3,e))}function co(t,e){if(jk(t=Ze(t)))return Pv("Unsupported field value:",e,t),Uk(t,e);if(t instanceof Xa)return function(r,s){if(!Mk(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=co(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=We.fromDate(r);return{timestampValue:Ch(s.serializer,i)}}if(r instanceof We){const i=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(s.serializer,i)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof An)return{bytesValue:ik(s.serializer,r._byteString)};if(r instanceof st){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gr)return function(o,a){return{mapValue:{fields:{[Ox]:{stringValue:Dx},[Ah]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ov(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Tf(r)}`)}(t,e)}function Uk(t,e){const n={};return Rx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(t,(r,s)=>{const i=co(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof mr||t instanceof An||t instanceof st||t instanceof Xa||t instanceof gr)}function Pv(t,e,n){if(!jk(n)||!Ax(n)){const r=Tf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ty(t,e,n){if((e=Ze(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return Nv(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const p$=new RegExp("[~\\*/\\[\\]]");function Nv(t,e,n){if(e.search(p$)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function Bk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m$ extends $k{data(){return super.data()}}function Bf(t,e){return typeof e=="string"?Nv(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class qk extends Ov{}function TW(t,e,...n){let r=[];e instanceof Ov&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Dv).length,a=i.filter(l=>l instanceof $f).length;if(o>1||o>0&&a>0)throw new X(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class $f extends qk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $f(e,n,r)}_apply(e){const n=this._parse(e);return Wk(e._query,n),new gi(e.firestore,e.converter,qg(e._query,n))}_parse(e){const n=Uf(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){fS(h,d);const I=[];for(const _ of h)I.push(hS(l,i,_));p={arrayValue:{values:I}}}else p=hS(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||fS(h,d),p=f$(a,o,h,d==="in"||d==="not-in");return ht.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SW(t,e,n){const r=e,s=Bf("where",t);return $f._create(s,r,n)}class Dv extends Ov{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Wk(o,l),o=qg(o,l)}(e._query,n),new gi(e.firestore,e.converter,qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lv extends qk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Du(i,o)}(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ka(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function IW(t,e="asc"){const n=e,r=Bf("orderBy",t);return Lv._create(r,n)}function hS(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new X(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$x(e)&&n.indexOf("/")!==-1)throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!oe.isDocumentKey(r))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C0(t,new oe(r))}if(n instanceof st)return C0(t,n._key);throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function fS(t,e){if(!Array.isArray(t)||t.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wk(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g${convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ah].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ot(o.doubleValue));return new gr(n)}convertGeoPoint(e){return new mr(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const n=ti(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Oe(dk(r),9688,{name:e});const s=new Nu(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $i extends $k{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$i._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$i._jsonSchemaVersion="firestore/documentSnapshot/1.0",$i._jsonSchema={type:ft("string",$i._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class Pd extends $i{data(e={}){return super.data(e)}}class zi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pd(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Pd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new jl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Pd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new jl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:y$(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ev.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){t=gn(t,st);const e=gn(t.firestore,oi);return n$(Mf(e),t._key).then(n=>Gk(e,t,n))}zi._jsonSchemaVersion="firestore/querySnapshot/1.0",zi._jsonSchema={type:ft("string",zi._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class Mv extends g${constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function bW(t){t=gn(t,gi);const e=gn(t.firestore,oi),n=Mf(e),r=new Mv(e);return zk(t._query),r$(n,t._query).then(s=>new zi(e,r,t,s))}function RW(t,e,n){t=gn(t,st);const r=gn(t.firestore,oi),s=Hk(t.converter,e,n);return Vv(r,[Vk(Uf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,zn.none())])}function CW(t,e,n,...r){t=gn(t,st);const s=gn(t.firestore,oi),i=Uf(s);let o;return o=typeof(e=Ze(e))=="string"||e instanceof Vf?h$(i,"updateDoc",t._key,e,n,r):d$(i,"updateDoc",t._key,e),Vv(s,[o.toMutation(t._key,zn.exists(!0))])}function xW(t,e){const n=gn(t.firestore,oi),r=i$(t),s=Hk(t.converter,e);return Vv(n,[Vk(Uf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function kW(t,...e){var l,c,d;t=Ze(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dS(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(c=h.error)==null?void 0:c.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof st)o=gn(t.firestore,oi),a=bf(t._key.path),i={next:h=>{e[r]&&e[r](Gk(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=gn(t,gi);o=gn(h.firestore,oi),a=h._query;const p=new Mv(o);i={next:y=>{e[r]&&e[r](new zi(o,p,h,y))},error:e[r+1],complete:e[r+2]},zk(t._query)}return function(p,y,I,_){const T=new Rv(_),v=new Iv(y,T,I);return p.asyncQueue.enqueueAndForget(async()=>Ev(await Nh(p),v)),()=>{T.Nu(),p.asyncQueue.enqueueAndForget(async()=>Tv(await Nh(p),v))}}(Mf(o),a,s,i)}function Vv(t,e){return function(r,s){const i=new jr;return r.asyncQueue.enqueueAndForget(async()=>qB(await t$(r),s,i)),i.promise}(Mf(t),e)}function Gk(t,e,n){const r=n.docs.get(e._key),s=new Mv(t);return new $i(t,s,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function PW(){return new Cv("serverTimestamp")}function NW(...t){return new xv("arrayUnion",t)}function OW(...t){return new kv("arrayRemove",t)}(function(e,n=!0){(function(s){Wa=s})(ao),Xi(new Js("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new oi(new d6(r.getProvider("auth-internal")),new p6(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),dr(m0,g0,e),dr(m0,g0,"esm2020")})();let Zc,Kk,Qk,Xk,Ra=!1;function _$(t){if(!t||t.projectId==="your-project-id"){console.warn(" Refusing to initialize Firebase with placeholder/missing config");return}if(Ra){console.log(" Firebase already initialized, skipping re-initialization");return}console.log(" Initializing Firebase with config:",{projectId:t.projectId}),Zc=hC(t),Kk=Qj(Zc),Qk=i6(Zc),Xk=o$(Zc),Ra=!0,console.log(" Firebase initialized successfully")}const yi=()=>{if(!Ra)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return Kk},v$=()=>{if(!Ra)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return Qk},w$=()=>{if(!Ra)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return Xk};new Proxy({},{get:(t,e)=>yi()[e]});new Proxy({},{get:(t,e)=>v$()[e]});new Proxy({},{get:(t,e)=>w$()[e]});const zf=new Pr,qf=new tu("apple.com");zf.addScope("email");zf.addScope("profile");qf.addScope("email");qf.addScope("name");const E$=async()=>{try{return await qC(yi(),zf)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await T$();throw t}},T$=()=>GC(yi(),zf),S$=()=>dj(yi()),I$=()=>UU(yi()),A$=async()=>{try{return await qC(yi(),qf)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await b$();throw t}},b$=()=>GC(yi(),qf),R$=t=>Ra?FU(yi(),t):(console.warn(" Firebase not initialized, cannot set up auth listener"),()=>{});var Ne;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var pS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(pS||(pS={}));const re=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_s=t=>{switch(typeof t){case"undefined":return re.undefined;case"string":return re.string;case"number":return Number.isNaN(t)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(t)?re.array:t===null?re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?re.promise:typeof Map<"u"&&t instanceof Map?re.map:typeof Set<"u"&&t instanceof Set?re.set:typeof Date<"u"&&t instanceof Date?re.date:re.object;default:return re.unknown}},H=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class es extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof es))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}es.create=t=>new es(t);const ny=(t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ne.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ne.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ne.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${Ne.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ne.assertNever(t)}return{message:n}};let C$=ny;function x$(){return C$}const k$=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function Z(t,e){const n=x$(),r=k$({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ny?void 0:ny].filter(s=>!!s)});t.common.issues.push(r)}class _n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return fe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return _n.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return fe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const fe=Object.freeze({status:"aborted"}),Bl=t=>({status:"dirty",value:t}),kn=t=>({status:"valid",value:t}),mS=t=>t.status==="aborted",gS=t=>t.status==="dirty",Ca=t=>t.status==="valid",Dh=t=>typeof Promise<"u"&&t instanceof Promise;var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));class ai{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yS=(t,e)=>{if(Ca(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new es(t.common.issues);return this._error=n,this._error}}};function we(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Pe{get description(){return this._def.description}_getType(e){return _s(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:_s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _n,ctx:{common:e.parent.common,data:e.data,parsedType:_s(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Dh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_s(e)},s=this._parseSync({data:e,path:r.path,parent:r});return yS(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_s(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ca(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ca(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_s(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Dh(s)?s:Promise.resolve(s));return yS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:H.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Pa({schema:this,typeName:pe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Gs.create(this,this._def)}nullable(){return Na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yr.create(this)}promise(){return Fh.create(this,this._def)}or(e){return Mh.create([this,e],this._def)}and(e){return Vh.create(this,e,this._def)}transform(e){return new Pa({...we(this._def),schema:this,typeName:pe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new oy({...we(this._def),innerType:this,defaultValue:n,typeName:pe.ZodDefault})}brand(){return new J$({typeName:pe.ZodBranded,type:this,...we(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ay({...we(this._def),innerType:this,catchValue:n,typeName:pe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Fv.create(this,e)}readonly(){return ly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const P$=/^c[^\s-]{8,}$/i,N$=/^[0-9a-z]+$/,O$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L$=/^[a-z0-9_-]{21}$/i,M$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,F$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let um;const j$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,z$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,W$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",H$=new RegExp(`^${Yk}$`);function Zk(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function G$(t){return new RegExp(`^${Zk(t)}$`)}function K$(t){let e=`${Yk}T${Zk(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Q$(t,e){return!!((e==="v4"||!e)&&j$.test(t)||(e==="v6"||!e)&&$$.test(t))}function X$(t,e){if(!M$.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Y$(t,e){return!!((e==="v4"||!e)&&B$.test(t)||(e==="v6"||!e)&&z$.test(t))}class Vr extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const i=this._getOrReturnCtx(e);return Z(i,{code:H.invalid_type,expected:re.string,received:i.parsedType}),fe}const r=new _n;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Z(s,{code:H.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Z(s,{code:H.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")F$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"email",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")um||(um=new RegExp(U$,"u")),um.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"emoji",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")D$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"uuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")L$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"nanoid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")P$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cuid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")N$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cuid2",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")O$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"ulid",code:H.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Z(s,{validation:"url",code:H.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"regex",code:H.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Z(s,{code:H.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Z(s,{code:H.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Z(s,{code:H.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?K$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:H.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?H$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:H.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?G$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:H.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?V$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"duration",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Q$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"ip",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?X$(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"jwt",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Y$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cidr",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?q$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"base64",code:H.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?W$.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"base64url",code:H.invalid_string,message:i.message}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:H.invalid_string,...se.errToObj(r)})}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...se.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...se.errToObj(n)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vr.create=t=>new Vr({checks:[],typeName:pe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...we(t)});function Z$(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class eo extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const i=this._getOrReturnCtx(e);return Z(i,{code:H.invalid_type,expected:re.number,received:i.parsedType}),fe}let r;const s=new _n;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:H.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:H.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:H.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Z$(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Z(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:H.not_finite,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,s){return new eo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(s)}]})}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}eo.create=t=>new eo({checks:[],typeName:pe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...we(t)});class to extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let r;const s=new _n;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:H.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:H.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:H.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ne.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Z(n,{code:H.invalid_type,expected:re.bigint,received:n.parsedType}),fe}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,s){return new to({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(s)}]})}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}to.create=t=>new to({checks:[],typeName:pe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...we(t)});class Lh extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){const r=this._getOrReturnCtx(e);return Z(r,{code:H.invalid_type,expected:re.boolean,received:r.parsedType}),fe}return kn(e.data)}}Lh.create=t=>new Lh({typeName:pe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...we(t)});class xa extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const i=this._getOrReturnCtx(e);return Z(i,{code:H.invalid_type,expected:re.date,received:i.parsedType}),fe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Z(i,{code:H.invalid_date}),fe}const r=new _n;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:H.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:H.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ne.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xa({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}xa.create=t=>new xa({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:pe.ZodDate,...we(t)});class _S extends Pe{_parse(e){if(this._getType(e)!==re.symbol){const r=this._getOrReturnCtx(e);return Z(r,{code:H.invalid_type,expected:re.symbol,received:r.parsedType}),fe}return kn(e.data)}}_S.create=t=>new _S({typeName:pe.ZodSymbol,...we(t)});class vS extends Pe{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:H.invalid_type,expected:re.undefined,received:r.parsedType}),fe}return kn(e.data)}}vS.create=t=>new vS({typeName:pe.ZodUndefined,...we(t)});class wS extends Pe{_parse(e){if(this._getType(e)!==re.null){const r=this._getOrReturnCtx(e);return Z(r,{code:H.invalid_type,expected:re.null,received:r.parsedType}),fe}return kn(e.data)}}wS.create=t=>new wS({typeName:pe.ZodNull,...we(t)});class ry extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return kn(e.data)}}ry.create=t=>new ry({typeName:pe.ZodAny,...we(t)});class ES extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return kn(e.data)}}ES.create=t=>new ES({typeName:pe.ZodUnknown,...we(t)});class li extends Pe{_parse(e){const n=this._getOrReturnCtx(e);return Z(n,{code:H.invalid_type,expected:re.never,received:n.parsedType}),fe}}li.create=t=>new li({typeName:pe.ZodNever,...we(t)});class TS extends Pe{_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:H.invalid_type,expected:re.void,received:r.parsedType}),fe}return kn(e.data)}}TS.create=t=>new TS({typeName:pe.ZodVoid,...we(t)});class yr extends Pe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==re.array)return Z(n,{code:H.invalid_type,expected:re.array,received:n.parsedType}),fe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(Z(n,{code:o?H.too_big:H.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Z(n,{code:H.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Z(n,{code:H.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ai(n,o,n.path,a)))).then(o=>_n.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ai(n,o,n.path,a)));return _n.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new yr({...this._def,minLength:{value:e,message:se.toString(n)}})}max(e,n){return new yr({...this._def,maxLength:{value:e,message:se.toString(n)}})}length(e,n){return new yr({...this._def,exactLength:{value:e,message:se.toString(n)}})}nonempty(e){return this.min(1,e)}}yr.create=(t,e)=>new yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:pe.ZodArray,...we(e)});function Ao(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Gs.create(Ao(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof yr?new yr({...t._def,type:Ao(t.element)}):t instanceof Gs?Gs.create(Ao(t.unwrap())):t instanceof Na?Na.create(Ao(t.unwrap())):t instanceof no?no.create(t.items.map(e=>Ao(e))):t}class ct extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ne.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==re.object){const c=this._getOrReturnCtx(e);return Z(c,{code:H.invalid_type,expected:re.object,received:c.parsedType}),fe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof li&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=i[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ai(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof li){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")a.length>0&&(Z(s,{code:H.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ai(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>_n.mergeObjectSync(r,c)):_n.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:se.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:pe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};for(const r of Ne.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ct({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ne.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ct({...this._def,shape:()=>n})}deepPartial(){return Ao(this)}partial(e){const n={};for(const r of Ne.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new ct({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ne.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Gs;)i=i._def.innerType;n[r]=i}return new ct({...this._def,shape:()=>n})}keyof(){return Jk(Ne.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:li.create(),typeName:pe.ZodObject,...we(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:li.create(),typeName:pe.ZodObject,...we(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:li.create(),typeName:pe.ZodObject,...we(e)});class Mh extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new es(a.ctx.common.issues));return Z(n,{code:H.invalid_union,unionErrors:o}),fe}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new es(l));return Z(n,{code:H.invalid_union,unionErrors:a}),fe}}get options(){return this._def.options}}Mh.create=(t,e)=>new Mh({options:t,typeName:pe.ZodUnion,...we(e)});function sy(t,e){const n=_s(t),r=_s(e);if(t===e)return{valid:!0,data:t};if(n===re.object&&r===re.object){const s=Ne.objectKeys(e),i=Ne.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=sy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===re.array&&r===re.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=sy(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===re.date&&r===re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vh extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(mS(i)||mS(o))return fe;const a=sy(i.value,o.value);return a.valid?((gS(i)||gS(o))&&n.dirty(),{status:n.value,value:a.data}):(Z(r,{code:H.invalid_intersection_types}),fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vh.create=(t,e,n)=>new Vh({left:t,right:e,typeName:pe.ZodIntersection,...we(n)});class no extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.array)return Z(r,{code:H.invalid_type,expected:re.array,received:r.parsedType}),fe;if(r.data.length<this._def.items.length)return Z(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),fe;!this._def.rest&&r.data.length>this._def.items.length&&(Z(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ai(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>_n.mergeArray(n,o)):_n.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new no({...this._def,rest:e})}}no.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new no({items:t,typeName:pe.ZodTuple,rest:null,...we(e)})};class SS extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.map)return Z(r,{code:H.invalid_type,expected:re.map,received:r.parsedType}),fe;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ai(r,a,r.path,[c,"key"])),value:i._parse(new ai(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return fe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return fe;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}SS.create=(t,e,n)=>new SS({valueType:e,keyType:t,typeName:pe.ZodMap,...we(n)});class Mu extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.set)return Z(r,{code:H.invalid_type,expected:re.set,received:r.parsedType}),fe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Z(r,{code:H.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Z(r,{code:H.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return fe;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ai(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Mu({...this._def,minSize:{value:e,message:se.toString(n)}})}max(e,n){return new Mu({...this._def,maxSize:{value:e,message:se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Mu.create=(t,e)=>new Mu({valueType:t,minSize:null,maxSize:null,typeName:pe.ZodSet,...we(e)});class iy extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}iy.create=(t,e)=>new iy({getter:t,typeName:pe.ZodLazy,...we(e)});class IS extends Pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Z(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}IS.create=(t,e)=>new IS({value:t,typeName:pe.ZodLiteral,...we(e)});function Jk(t,e){return new ka({values:t,typeName:pe.ZodEnum,...we(e)})}class ka extends Pe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{expected:Ne.joinValues(r),received:n.parsedType,code:H.invalid_type}),fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{received:n.data,code:H.invalid_enum_value,options:r}),fe}return kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ka.create(e,{...this._def,...n})}exclude(e,n=this._def){return ka.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ka.create=Jk;class AS extends Pe{_parse(e){const n=Ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==re.string&&r.parsedType!==re.number){const s=Ne.objectValues(n);return Z(r,{expected:Ne.joinValues(s),received:r.parsedType,code:H.invalid_type}),fe}if(this._cache||(this._cache=new Set(Ne.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ne.objectValues(n);return Z(r,{received:r.data,code:H.invalid_enum_value,options:s}),fe}return kn(e.data)}get enum(){return this._def.values}}AS.create=(t,e)=>new AS({values:t,typeName:pe.ZodNativeEnum,...we(e)});class Fh extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.promise&&n.common.async===!1)return Z(n,{code:H.invalid_type,expected:re.promise,received:n.parsedType}),fe;const r=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return kn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Fh.create=(t,e)=>new Fh({type:t,typeName:pe.ZodPromise,...we(e)});class Pa extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Z(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return fe;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?fe:l.status==="dirty"||n.value==="dirty"?Bl(l.value):l});{if(n.value==="aborted")return fe;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?fe:a.status==="dirty"||n.value==="dirty"?Bl(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?fe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?fe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ca(o))return fe;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ca(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):fe);Ne.assertNever(s)}}Pa.create=(t,e,n)=>new Pa({schema:t,typeName:pe.ZodEffects,effect:e,...we(n)});Pa.createWithPreprocess=(t,e,n)=>new Pa({schema:e,effect:{type:"preprocess",transform:t},typeName:pe.ZodEffects,...we(n)});class Gs extends Pe{_parse(e){return this._getType(e)===re.undefined?kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gs.create=(t,e)=>new Gs({innerType:t,typeName:pe.ZodOptional,...we(e)});class Na extends Pe{_parse(e){return this._getType(e)===re.null?kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Na.create=(t,e)=>new Na({innerType:t,typeName:pe.ZodNullable,...we(e)});class oy extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}oy.create=(t,e)=>new oy({innerType:t,typeName:pe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...we(e)});class ay extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Dh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new es(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new es(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ay.create=(t,e)=>new ay({innerType:t,typeName:pe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...we(e)});class bS extends Pe{_parse(e){if(this._getType(e)!==re.nan){const r=this._getOrReturnCtx(e);return Z(r,{code:H.invalid_type,expected:re.nan,received:r.parsedType}),fe}return{status:"valid",value:e.data}}}bS.create=t=>new bS({typeName:pe.ZodNaN,...we(t)});class J$ extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fv extends Pe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?fe:i.status==="dirty"?(n.dirty(),Bl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?fe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Fv({in:e,out:n,typeName:pe.ZodPipeline})}}class ly extends Pe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ca(s)&&(s.value=Object.freeze(s.value)),s);return Dh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}ly.create=(t,e)=>new ly({innerType:t,typeName:pe.ZodReadonly,...we(e)});var pe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(pe||(pe={}));const R=Vr.create,ye=eo.create;to.create;const Kt=Lh.create;xa.create;const Xo=ry.create;li.create;const Me=yr.create,ne=ct.create,Os=Mh.create;Vh.create;no.create;const ez=iy.create,ui=ka.create;Fh.create;Gs.create;Na.create;const Jc={string:t=>Vr.create({...t,coerce:!0}),number:t=>eo.create({...t,coerce:!0}),boolean:t=>Lh.create({...t,coerce:!0}),bigint:t=>to.create({...t,coerce:!0}),date:t=>xa.create({...t,coerce:!0})},tz=ne({email:R().email("Please enter a valid email address"),password:R().min(1,"Password is required")}),nz=ne({email:R().email("Please enter a valid email address"),password:R().min(6,"Password must be at least 6 characters"),firstName:R().min(1,"First name is required"),lastName:R().min(1,"Last name is required"),userName:R().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:R().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:R().min(1,"Country is required")});ne({email:R().optional(),firstName:R().optional(),lastName:R().optional(),type:ui(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:R().optional(),userName:R().optional(),country:R().optional(),phone:R().optional(),gender:R().optional(),uid:R().optional(),idToken:R().min(1,"Firebase ID token is required for authentication"),provider:R().optional(),profilePicture:R().optional()}).refine(t=>t.type==="google"?!!t.email&&!!t.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const rz=ne({firstName:R().min(1,"First name is required"),lastName:R().min(1,"Last name is required"),userName:R().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:R().min(1,"Country is required"),phone:R().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:R().optional()});ne({token:R().optional(),user:ne({id:R(),email:R(),name:R().optional()}).optional(),message:R().optional()});ne({success:Kt(),message:R().optional(),data:Xo(),accessToken:R().optional(),authtoken:R().optional(),newuser:Kt().optional()});ne({success:Kt().optional(),message:R(),error:R().optional(),details:Xo().optional()});const sz=ne({_id:R(),customer:ne({_id:R(),firstName:R(),lastName:R().optional(),userName:R().optional(),email:R(),profilePhoto:R().optional(),address:ne({_id:R(),name:R(),addrress1:R(),city:R(),state:R(),zipcode:R(),phone:R(),email:R()}).optional()}),seller:ne({_id:R(),firstName:R(),lastName:R().optional(),userName:R().optional(),email:R()}),need_label:Kt(),giveaway:ne({_id:R(),name:R(),description:R().optional(),quantity:ye(),images:Me(R()).optional(),category:ne({_id:R(),name:R()}).optional(),shipping_profile:ne({_id:R(),weight:ye(),name:R(),scale:R()}).optional(),height:R().optional(),width:R().optional(),length:R().optional(),status:R().optional(),participants:Me(R()).optional()}).optional(),ordertype:R().optional(),items:Me(ne({_id:R().optional(),orderId:R().optional(),productId:ne({_id:R().optional(),name:R().optional(),images:Me(R()).optional(),category:ne({_id:R().optional(),name:R().optional()}).optional()}).optional(),quantity:ye().optional(),price:ye().optional(),shipping_fee:ye().optional(),weight:R().optional(),height:R().optional(),width:R().optional(),length:R().optional(),scale:R().optional()})).optional(),total:ye().optional(),servicefee:ye().optional(),tax:ye().optional(),shipping_fee:ye().optional(),seller_shipping_fee_pay:ye().optional(),total_shipping_cost:ye().optional(),invoice:ye().optional(),status:R().optional(),tracking_number:R().optional(),label:R().optional(),weight:Os([ye(),R()]).optional(),date:ye().optional(),createdAt:R().optional(),updatedAt:R().optional(),bundleId:R().optional().nullable(),tokshow:ne({_id:R(),title:R().optional(),name:R().optional()}).optional(),height:R().optional(),width:R().optional(),length:R().optional(),scale:R().optional()});ne({orders:Me(sz),limits:ye(),pages:ye(),total:ye()});ne({totalOrder:ye(),totalAmount:R(),todayOrder:Me(Xo()),totalAmountOfThisMonth:R(),totalPendingOrder:ne({total:ye(),count:ye()}).optional(),totalDeliveredOrder:ye(),orders:Me(Xo()),weeklySaleReport:Me(Xo())});const iz=ne({_id:R(),name:R(),description:R().optional(),price:ye(),quantity:ye(),images:Me(R()).optional(),category:ne({_id:R(),name:R()}).optional(),seller:ne({_id:R(),firstName:R(),lastName:R().optional(),userName:R().optional(),email:R()}),status:R().optional(),weight:Os([ye(),R()]).optional(),height:R().optional(),width:R().optional(),length:R().optional(),scale:R().optional(),shipping_profile:ne({_id:R(),weight:ye(),name:R(),scale:R()}).optional(),colors:Me(R()).optional(),sizes:Me(R()).optional(),featured:Kt().optional(),createdAt:R().optional(),updatedAt:R().optional()});ne({products:Me(iz),limits:ye(),pages:ye(),totalDoc:ye()});const eP=ez(()=>ne({_id:R(),name:R(),description:R().optional(),status:R().optional(),icon:R().optional(),type:R().optional(),subCategories:Me(eP).optional()}));ne({categories:Me(eP),limits:ye().optional(),pages:ye().optional(),total:ye().optional()});const oz=ne({_id:R(),name:R(),weight:ye(),scale:R(),description:R().optional()});Me(oz);const az=ui(["auction","buy_now","giveaway"]),DW=ne({name:R().min(1,"Product name is required"),description:R().optional(),price:Jc.number().optional().nullable(),quantity:Jc.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:R().min(1,"Category is required"),status:ui(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:az,shippingProfile:R().nullable().optional(),images:Me(R()).optional(),startingPrice:Jc.number().optional().nullable(),duration:Jc.number().int().optional().nullable(),sudden:Kt().optional().default(!1),startTime:R().optional().nullable(),endTime:R().optional().nullable(),featured:Kt().optional().default(!1),whocanenter:ui(["everyone","followers"]).optional().default("everyone"),tokshow:R().optional()}).refine(t=>t.listingType==="auction"?t.startingPrice!==void 0&&t.startingPrice!==null&&t.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(t=>t.listingType==="auction"&&!t.featured?t.duration!==void 0&&t.duration!==null&&t.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(t=>t.listingType==="auction"&&t.featured?t.startTime!==void 0&&t.startTime!==null&&t.startTime!=="":!0,{message:"Auction start time is required for featured auctions",path:["startTime"]}).refine(t=>t.listingType==="auction"&&t.featured?t.endTime!==void 0&&t.endTime!==null&&t.endTime!=="":!0,{message:"Auction end time is required for featured auctions",path:["endTime"]}).refine(t=>t.listingType==="buy_now"?t.price!==void 0&&t.price!==null&&t.price>0:!0,{message:"Price must be greater than 0",path:["price"]}).refine(t=>t.listingType==="auction"&&!t.featured?t.tokshow!==void 0&&t.tokshow!==null&&t.tokshow!==""&&t.tokshow!=="general":!0,{message:"Live show auctions must be assigned to a show",path:["tokshow"]});ne({id:R(),customerId:R(),customerName:R(),orderIds:Me(R()),count:ye(),weight:R().optional(),dimensions:R().optional(),totalValue:ye(),status:ui(["pending","labeled"]).optional().default("pending"),createdAt:R().optional()});const lz=ne({name:R().min(1,"Address name is required"),addrress1:R().min(1,"Street address is required"),addrress2:R().optional().default(""),city:R().min(1,"City is required"),state:R().min(1,"State is required"),stateCode:R().optional().default(""),cityCode:R().optional().default(""),zipcode:R().min(1,"ZIP code is required"),countryCode:R().min(1,"Country is required"),country:R().optional(),phone:R().min(1,"Phone number is required"),email:R().email("Please enter a valid email address"),userId:R().min(1,"User ID is required")});lz.partial().extend({name:R().min(1,"Address name is required").optional(),addrress1:R().min(1,"Street address is required").optional(),city:R().min(1,"City is required").optional(),state:R().min(1,"State is required").optional(),zipcode:R().min(1,"ZIP code is required").optional(),countryCode:R().min(1,"Country is required").optional(),phone:R().min(1,"Phone number is required").optional(),email:R().email("Please enter a valid email address").optional()});ne({primary:Kt(),userId:R().min(1,"User ID is required")});ne({weight:Os([R(),ye()]).transform(String),unit:R().optional().default("oz"),product:R(),update:Kt().optional().default(!0),owner:R(),customer:R(),length:Os([R(),ye()]).transform(Number),width:Os([R(),ye()]).transform(Number),height:Os([R(),ye()]).transform(Number),buying_label:Kt().optional().default(!0)});ne({carrier:R(),service:R(),price:R(),deliveryTime:R(),objectId:R().min(1,"Rate ID is required")});ne({rate_id:R().min(1,"Rate ID is required"),order:Os([R(),ne({_id:R(),customer:ne({_id:R(),firstName:R(),lastName:R().optional(),email:R().email(),address:ne({name:R(),addrress1:R(),city:R(),state:R(),zipcode:R(),phone:R(),email:R().email()}).optional()}),seller:ne({_id:R(),firstName:R(),lastName:R().optional(),email:R().email()})})]),isBundle:Kt().optional(),shipping_fee:Os([R(),ye()]).transform(Number),servicelevel:R().min(1,"Service level is required"),carrier:R().optional(),deliveryTime:R().optional()});ne({success:Kt(),message:R(),data:ne({tracking_number:R(),label_url:R().optional(),label_data:R().optional(),carrier:R(),service:R(),cost:R(),delivery_time:R(),purchased_at:R()}).optional(),error:R().optional()});ne({orderIds:Me(R().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:R().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:R().min(1,"Rate ID is required")});ne({success:Kt(),message:R(),data:ne({tracking_number:R(),label_url:R().optional(),cost:ye(),carrier:R(),service:R(),affected_orders:Me(R()),update_results:Me(ne({orderId:R(),success:Kt(),error:R().optional(),data:Xo().optional()})),aggregated_weight:R().optional(),aggregated_dimensions:R().optional()}).optional(),error:R().optional()});const uz=ne({title:R().min(1,"Title is required"),subtitle:R().min(1,"Subtitle is required"),primaryButtonText:R().min(1,"Primary button text is required"),primaryButtonLink:R().min(1,"Primary button link is required"),secondaryButtonText:R().min(1,"Secondary button text is required"),heroImage:R().url("Must be a valid URL"),heroImageAlt:R().optional().default("Live shopping experience"),liveViewers:R().optional().default("12.5K watching")}),cz=ne({icon:ui(["Play","Zap","Shield","Star","TrendingUp"]),title:R().min(1,"Step title is required"),description:R().min(1,"Step description is required")}),dz=ne({icon:ui(["Play","Zap","Shield","Star","TrendingUp"]),title:R().min(1,"Feature title is required"),description:R().min(1,"Feature description is required")}),hz=ne({name:R().min(1,"Category name is required"),image:R().url("Must be a valid URL")}),fz=ne({name:R().min(1,"Brand name is required"),logo:R().optional()});ne({hero:uz,howItWorks:ne({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),steps:Me(cz).length(3,"Must have exactly 3 steps")}),joinFun:ne({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),image:R().url("Must be a valid URL"),imageAlt:R().optional().default("Auction excitement"),features:Me(dz).min(1,"Must have at least 1 feature"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),categories:ne({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),items:Me(hz).min(1,"Must have at least 1 category"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),brands:ne({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),items:Me(fz).min(1,"Must have at least 1 brand"),image:R().url("Must be a valid URL"),imageAlt:R().optional().default("Brand products"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),finalCTA:ne({title:R().min(1,"CTA title is required"),subtitle:R().min(1,"CTA subtitle is required"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),footer:ne({copyrightText:R().optional()})});ui(["landing","faq","about","privacy","terms","contact"]);const pz=ne({question:R().min(1,"Question is required"),answer:R().min(1,"Answer is required")});ne({title:R().min(1,"Page title is required"),subtitle:R().optional(),faqs:Me(pz).min(1,"Must have at least 1 FAQ item")});const tP=ne({title:R().min(1,"Section title is required"),content:R().min(1,"Section content is required"),order:ye().optional()});ne({title:R().min(1,"Page title is required"),subtitle:R().optional(),sections:Me(tP).min(1,"Must have at least 1 section")});const mz=ne({email:R().email("Must be a valid email").optional(),phone:R().optional(),address:R().optional()});ne({title:R().min(1,"Page title is required"),subtitle:R().optional(),description:R().optional(),contactInfo:mz,showContactForm:Kt().optional().default(!0),sections:Me(tP).optional()});const nP={app_name:"TokShop",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0},rP=g.createContext({settings:nP,isLoading:!0,isFirebaseReady:!1,appName:"TokShop"});function RS(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,s=Math.max(e,n,r),i=Math.min(e,n,r);let o=0,a=0,l=(s+i)/2;if(s!==i){const c=s-i;switch(a=l>.5?c/(2-s-i):c/(s+i),s){case e:o=((n-r)/c+(n<r?6:0))/6;break;case n:o=((r-e)/c+2)/6;break;case r:o=((e-n)/c+4)/6;break}}return o=Math.round(o*360),a=Math.round(a*100),l=Math.round(l*100),`${o} ${a}% ${l}%`}function CS(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,s=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*s+.7152*i+.0722*o}function gz(t,e){console.log(" Applying theme colors:",{primaryColor:t,secondaryColor:e});const n=document.documentElement,r=RS(t),s=RS(e);console.log(" Converted to HSL:",{primaryHSL:r,secondaryHSL:s});const i=CS(t),o=i>.5;console.log(" Luminance:",{luminance:i,isLightColor:o});const a=o?"0 0% 9%":"0 0% 100%";n.style.setProperty("--primary",r),n.style.setProperty("--primary-foreground",a),n.style.setProperty("--ring",r),n.style.setProperty("--chart-1",r),n.style.setProperty("--sidebar-primary",r),n.style.setProperty("--sidebar-primary-foreground",a),n.style.setProperty("--sidebar-ring",r);const d=CS(e)>.5?"0 0% 9%":"0 0% 100%";n.style.setProperty("--secondary",s),n.style.setProperty("--secondary-foreground",d),n.style.setProperty("--accent",s),n.style.setProperty("--accent-foreground",d),n.style.setProperty("--chart-2",s),console.log(" Theme colors applied successfully")}function yz({children:t}){const[e,n]=g.useState(nP),[r,s]=g.useState(!0),[i,o]=g.useState(!1);g.useEffect(()=>{async function c(){try{const d=await fetch("/api/settings");if(d.ok){const h=await d.json();if(console.log(" Settings fetched:",h),h.success&&h.data){console.log(" Settings data:",h.data),n(h.data);let p;h.data.firebase_config?(p=h.data.firebase_config,console.log(" Using nested firebase_config from API")):(h.data.firebase_auth_domain||h.data.firebase_project_id)&&(p={apiKey:h.data.firebase_api_key||h.data.FIREBASE_API_KEY||"",authDomain:h.data.firebase_auth_domain||"",projectId:h.data.firebase_project_id||"",storageBucket:h.data.firebase_storage_bucket||"",appId:h.data.firebase_app_id||""},console.log(" Built firebase_config from individual fields")),p&&p.apiKey&&p.projectId?(console.log(" Initializing Firebase with config:",{projectId:p.projectId}),_$(p),o(!0)):console.warn(" No valid Firebase config found in settings")}}}catch(d){console.error("Failed to fetch app settings:",d),console.warn(" Cannot initialize Firebase without settings")}finally{s(!1)}}c()},[]),g.useEffect(()=>{!r&&e.primary_color&&e.secondary_color&&gz(e.primary_color,e.secondary_color)},[r,e.primary_color,e.secondary_color]);const a=e.app_name||"TokShop",l=g.useMemo(()=>({settings:e,isLoading:r,isFirebaseReady:i,appName:a}),[e,r,i,a]);return C.jsx(rP.Provider,{value:l,children:t})}function Uv(){const t=g.useContext(rP);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}const sP=g.createContext(null);function _z({children:t}){console.log("[AuthProvider] Initializing AuthProvider");const{isFirebaseReady:e}=Uv(),[n,r]=g.useState(null),[s,i]=g.useState(!0),[o,a]=g.useState(!1),[l,c]=g.useState(null),[d,h]=g.useState(null),p=g.useRef(!1),y=g.useRef(!1),I=g.useRef(0),_=g.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",s,"user:",n?n.id:"null","isAuthenticated:",!!n,"isFirebaseReady:",e);const T=!!n,v=g.useRef();v.current=async(U,G,Y=!1)=>{var le,F;try{const $=await U.getIdToken(!0);let K=null;if(U.providerData&&U.providerData.length>0&&(U.providerData.some(je=>je.providerId==="apple.com")?K="apple":U.providerData.some(je=>je.providerId==="google.com")&&(K="google")),!K&&(G==null?void 0:G.providerId)==="apple.com"?K="apple":!K&&(G==null?void 0:G.providerId)==="google.com"&&(K="google"),!K)throw new Error("Unable to determine authentication provider");let ae="",Ee="",ve=U.email||"";if(K==="apple"&&(G!=null&&G.profile)){const je=G.profile;je.name&&(ae=je.name.firstName||"",Ee=je.name.lastName||""),je.email&&(ve=je.email)}else(K==="google"||!(G!=null&&G.profile))&&(ae=((le=U.displayName)==null?void 0:le.split(" ")[0])||"",Ee=((F=U.displayName)==null?void 0:F.split(" ").slice(1).join(" "))||"");const Ue={idToken:$,uid:U.uid,email:ve,firstName:ae,lastName:Ee,type:K,profilePhoto:U.photoURL||"",userName:K==="apple"?"":ve||U.uid,country:"",phone:"",gender:""},on=await Zn("POST","/api/auth/social",Ue),Te=await on.json();if(!on.ok)throw new Error(Te.error||`Authentication failed: ${on.status}`);if(Te.success){if(!Y&&Te.newuser===!0)return a(!0),c(U.email||""),h(U),Te;const je={id:Te.data._id||Te.data.id,email:Te.data.email,firstName:Te.data.firstName,lastName:Te.data.lastName||"",profilePhoto:Te.data.profilePhoto||U.photoURL||"",userName:Te.data.userName,country:Te.data.country||"",phone:Te.data.phone||"",date_of_birth:Te.data.date_of_birth||Te.data.dateOfBirth,seller:Te.data.seller||!1,admin:Te.data.admin||!1,authProvider:K,address:Te.data.address,defaultpaymentmethod:Te.data.defaultpaymentmethod};r(je),localStorage.setItem("userId",je.id),localStorage.setItem("user",JSON.stringify(je)),Te.accessToken&&localStorage.setItem("accessToken",Te.accessToken),a(!1),c(null),h(null)}else throw new Error(Te.message||"Authentication failed");return Te}catch($){throw console.error("Authentication failed:",($==null?void 0:$.message)||$),$}};const w=async(U,G,Y=!1)=>{if(v.current)return await v.current(U,G,Y)},E=async(U,G)=>await N(U,G),N=async(U,G)=>{try{i(!0);const Y=tz.parse({email:U,password:G}),F=await(await Zn("POST","/api/auth/login",Y)).json();if(F.success){const $={id:F.data._id||F.data.id,email:F.data.email,firstName:F.data.firstName,lastName:F.data.lastName||"",profilePhoto:F.data.profilePhoto||"",userName:F.data.userName,country:F.data.country||"",phone:F.data.phone||"",date_of_birth:F.data.date_of_birth||F.data.dateOfBirth,seller:F.data.seller||!1,admin:F.data.admin||!1,authProvider:"email",address:F.data.address,defaultpaymentmethod:F.data.defaultpaymentmethod};r($),localStorage.setItem("userId",$.id),localStorage.setItem("user",JSON.stringify($)),F.accessToken&&localStorage.setItem("accessToken",F.accessToken)}else{const $=F.message||F.error||"Login failed";throw new Error($)}}catch(Y){throw console.error("Email login failed:",Y),Y}finally{i(!1)}},L=async(U,G,Y,le,F,$,K)=>{try{i(!0);const ae=nz.parse({email:U,password:G,firstName:Y,lastName:le,userName:F,phone:$,country:K}),ve=await(await Zn("POST","/api/auth/signup",ae)).json();if(ve.success){const Ue={id:ve.data._id||ve.data.id,email:ve.data.email,firstName:ve.data.firstName,lastName:ve.data.lastName||"",profilePhoto:ve.data.profilePhoto||"",userName:ve.data.userName,country:ve.data.country||K,phone:ve.data.phone||"",date_of_birth:ve.data.date_of_birth||ve.data.dateOfBirth,seller:ve.data.seller||!1,admin:ve.data.admin||!1,authProvider:"email",address:ve.data.address,defaultpaymentmethod:ve.data.defaultpaymentmethod};r(Ue),localStorage.setItem("userId",Ue.id),localStorage.setItem("user",JSON.stringify(Ue)),ve.accessToken&&localStorage.setItem("accessToken",ve.accessToken)}else{const Ue=ve.message||ve.error||"Signup failed";throw new Error(Ue)}}catch(ae){throw console.error("Email signup failed:",ae),ae}finally{i(!1)}},M=async()=>{try{i(!0);const U=await E$();if(U!=null&&U.user){const G=U.user.email;if(!G)throw new Error("No email found in Google account");const le=await(await Zn("GET",`/api/users/userexists/email?email=${encodeURIComponent(G)}`)).json();console.log("[loginWithGoogle] User existence check:",le),le.exists?await w(U.user,U==null?void 0:U.additionalUserInfo,!0):(a(!0),c(G),h(U.user),console.log("[loginWithGoogle] New user detected, redirecting to data collection"))}}catch(U){throw console.error("Google login failed:",U),U}finally{i(!1)}},A=async()=>{try{i(!0);const U=await A$();U!=null&&U.user&&await w(U.user,U==null?void 0:U.additionalUserInfo)}catch(U){throw console.error("Apple login failed:",U),U}finally{i(!1)}},S=async U=>{try{if(i(!0),!d)throw new Error("No pending social authentication data found");const G=rz.parse(U);let Y="google";d.providerData&&d.providerData.length>0&&(d.providerData.some(K=>K.providerId==="apple.com")?Y="apple":d.providerData.some(K=>K.providerId==="google.com")&&(Y="google"));const le={email:d.email||"",firstName:G.firstName,lastName:G.lastName,userName:G.userName,type:Y,profilePhoto:d.photoURL||"",country:G.country||"",phone:G.phone||"",gender:G.gender||""},$=await(await Zn("POST","/api/auth/social/complete",le)).json();if($.success){const K={id:$.data._id||$.data.id,email:$.data.email,firstName:$.data.firstName,lastName:$.data.lastName||"",profilePhoto:$.data.profilePhoto||d.photoURL||"",userName:$.data.userName,country:$.data.country||"",phone:$.data.phone||"",date_of_birth:$.data.date_of_birth||$.data.dateOfBirth,seller:$.data.seller||!1,admin:$.data.admin||!1,authProvider:Y,address:$.data.address,defaultpaymentmethod:$.data.defaultpaymentmethod};r(K),localStorage.setItem("userId",K.id),localStorage.setItem("user",JSON.stringify(K)),$.accessToken&&localStorage.setItem("accessToken",$.accessToken),a(!1),c(null),h(null)}else throw new Error($.error||"Failed to complete social authentication")}catch(G){throw console.error("Social auth completion failed:",G),G}finally{i(!1)}},x=async()=>{try{await Zn("POST","/api/auth/logout",{}),await I$(),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),a(!1),c(null),h(null)}catch(U){console.error("Logout failed:",U),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),a(!1),c(null),h(null)}},k=g.useRef();k.current=async()=>{if(y.current){console.log("[checkAuth] Already checked, skipping");return}try{console.log("[checkAuth] Starting auth check...");const U=S$(),G=new Promise(F=>setTimeout(()=>F(null),2e3)),Y=await Promise.race([U,G]);if(Y!=null&&Y.user&&!p.current){p.current=!0;try{await w(Y.user,Y==null?void 0:Y.additionalUserInfo)}finally{p.current=!1}return}const le=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",le?"EXISTS":"NONE"),le)try{const F=JSON.parse(le);console.log("[checkAuth] Setting user from localStorage:",F.id),r(F),Zn("GET","/api/auth/session").then($=>$.json()).then($=>{$.success||console.log("Session validation failed but keeping localStorage user")}).catch($=>{console.log("Session validation error but keeping localStorage user:",$)})}catch(F){console.error("Failed to parse stored user data:",F),localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}catch(U){console.error("Auth check failed:",U);const G=localStorage.getItem("user");if(G)try{const Y=JSON.parse(G);r(Y)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),y.current=!0,i(!1)}};const O=async()=>{k.current&&await k.current()},D=async()=>{try{if(!(n!=null&&n.id)){console.log("[refreshUserData] No user logged in");return}if(_.current){console.log("[refreshUserData] Already refreshing, skipping...");return}const U=Date.now();if(U-I.current<2e3){console.log("[refreshUserData] Refreshed recently, skipping...");return}_.current=!0,I.current=U,console.log("[refreshUserData] Fetching latest user data for:",n.id);const Y=await(await Zn("GET",`/api/address/default/address/${n.id}`)).json(),le=(Y==null?void 0:Y.address)||null,$=await(await Zn("GET",`/api/users/paymentmethod/${n.id}`)).json(),ae=Array.isArray($)&&$.length>0?$[0]:null,Ee={...n,address:le||null,defaultpaymentmethod:ae||null};r(Ee),localStorage.setItem("user",JSON.stringify(Ee)),console.log("[refreshUserData] User data updated:",{hasAddress:!!Ee.address,hasPayment:!!Ee.defaultpaymentmethod})}catch(U){console.error("[refreshUserData] Failed to refresh user data:",U)}finally{_.current=!1}};g.useEffect(()=>{if(!e){console.log("[AuthProvider] Waiting for Firebase to be ready...");return}console.log("[AuthProvider] Firebase ready, setting up auth listener");const U=R$(async G=>{console.log("[Firebase Listener] Auth state changed, user:",G?"EXISTS":"NONE","hasCheckedAuth:",y.current),G||r(null),y.current?(console.log("[Firebase Listener] Setting isLoading = false"),i(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return O(),()=>U()},[e]);const P={user:n,isLoading:s,isAuthenticated:T,pendingSocialAuth:o,pendingSocialAuthEmail:l,pendingSocialAuthData:d,login:E,emailLogin:N,emailSignup:L,loginWithGoogle:M,loginWithApple:A,completeSocialAuth:S,logout:x,checkAuth:O,refreshUserData:D};return C.jsx(sP.Provider,{value:P,children:t})}function jv(){const t=g.useContext(sP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const Tr=Object.create(null);Tr.open="0";Tr.close="1";Tr.ping="2";Tr.pong="3";Tr.message="4";Tr.upgrade="5";Tr.noop="6";const Nd=Object.create(null);Object.keys(Tr).forEach(t=>{Nd[Tr[t]]=t});const uy={type:"error",data:"parser error"},iP=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",oP=typeof ArrayBuffer=="function",aP=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Bv=({type:t,data:e},n,r)=>iP&&e instanceof Blob?n?r(e):xS(e,r):oP&&(e instanceof ArrayBuffer||aP(e))?n?r(e):xS(new Blob([e]),r):r(Tr[t]+(e||"")),xS=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function kS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let cm;function vz(t,e){if(iP&&t.data instanceof Blob)return t.data.arrayBuffer().then(kS).then(e);if(oP&&(t.data instanceof ArrayBuffer||aP(t.data)))return e(kS(t.data));Bv(t,!1,n=>{cm||(cm=new TextEncoder),e(cm.encode(n))})}const PS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$l=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<PS.length;t++)$l[PS.charCodeAt(t)]=t;const wz=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(r=0;r<n;r+=4)i=$l[t.charCodeAt(r)],o=$l[t.charCodeAt(r+1)],a=$l[t.charCodeAt(r+2)],l=$l[t.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return c},Ez=typeof ArrayBuffer=="function",$v=(t,e)=>{if(typeof t!="string")return{type:"message",data:lP(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Tz(t.substring(1),e)}:Nd[n]?t.length>1?{type:Nd[n],data:t.substring(1)}:{type:Nd[n]}:uy},Tz=(t,e)=>{if(Ez){const n=wz(t);return lP(n,e)}else return{base64:!0,data:t}},lP=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},uP="",Sz=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Bv(i,!1,a=>{r[o]=a,++s===n&&e(r.join(uP))})})},Iz=(t,e)=>{const n=t.split(uP),r=[];for(let s=0;s<n.length;s++){const i=$v(n[s],e);if(r.push(i),i.type==="error")break}return r};function Az(){return new TransformStream({transform(t,e){vz(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let dm;function ed(t){return t.reduce((e,n)=>e+n.length,0)}function td(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function bz(t,e){dm||(dm=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ed(n)<1)break;const l=td(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ed(n)<2)break;const l=td(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(ed(n)<8)break;const l=td(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(uy);break}s=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(ed(n)<s)break;const l=td(n,s);a.enqueue($v(i?l:dm.decode(l),e)),r=0}if(s===0||s>t){a.enqueue(uy);break}}}})}const cP=4;function pt(t){if(t)return Rz(t)}function Rz(t){for(var e in pt.prototype)t[e]=pt.prototype[e];return t}pt.prototype.on=pt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};pt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};pt.prototype.off=pt.prototype.removeListener=pt.prototype.removeAllListeners=pt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};pt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};pt.prototype.emitReserved=pt.prototype.emit;pt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};pt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Wf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),In=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cz="arraybuffer";function dP(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const xz=In.setTimeout,kz=In.clearTimeout;function Hf(t,e){e.useNativeTimers?(t.setTimeoutFn=xz.bind(In),t.clearTimeoutFn=kz.bind(In)):(t.setTimeoutFn=In.setTimeout.bind(In),t.clearTimeoutFn=In.clearTimeout.bind(In))}const Pz=1.33;function Nz(t){return typeof t=="string"?Oz(t):Math.ceil((t.byteLength||t.size)*Pz)}function Oz(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function hP(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Dz(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Lz(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class Mz extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class zv extends pt{constructor(e){super(),this.writable=!1,Hf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Mz(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=$v(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Dz(e);return n.length?"?"+n:""}}class Vz extends zv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Iz(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Sz(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=hP()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let fP=!1;try{fP=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Fz=fP;function Uz(){}class jz extends Vz{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let Yo=class Od extends pt{constructor(e,n,r){super(),this.createRequest=e,Hf(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=dP(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Od.requestsCount++,Od.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Uz,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Od.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yo.requestsCount=0;Yo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",NS);else if(typeof addEventListener=="function"){const t="onpagehide"in In?"pagehide":"unload";addEventListener(t,NS,!1)}}function NS(){for(let t in Yo.requests)Yo.requests.hasOwnProperty(t)&&Yo.requests[t].abort()}const Bz=function(){const t=pP({xdomain:!1});return t&&t.responseType!==null}();class $z extends jz{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Bz&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Yo(pP,this.uri(),e)}}function pP(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Fz))return new XMLHttpRequest}catch{}if(!e)try{return new In[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const mP=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zz extends zv{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=mP?{}:dP(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Bv(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Wf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=hP()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const hm=In.WebSocket||In.MozWebSocket;class qz extends zz{createSocket(e,n,r){return mP?new hm(e,n,r):n?new hm(e,n):new hm(e)}doWrite(e,n){this.ws.send(n)}}class Wz extends zv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=bz(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=Az();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Wf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Hz={websocket:qz,webtransport:Wz,polling:$z},Gz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Kz=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function cy(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=Gz.exec(t||""),i={},o=14;for(;o--;)i[Kz[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Qz(i,i.path),i.queryKey=Xz(i,i.query),i}function Qz(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Xz(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const dy=typeof addEventListener=="function"&&typeof removeEventListener=="function",Dd=[];dy&&addEventListener("offline",()=>{Dd.forEach(t=>t())},!1);class Ks extends pt{constructor(e,n){if(super(),this.binaryType=Cz,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=cy(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=cy(n.host).host);Hf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Lz(this.opts.query)),dy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Dd.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=cP,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ks.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ks.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Nz(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Wf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Ks.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),dy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Dd.indexOf(this._offlineEventListener);r!==-1&&Dd.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ks.protocol=cP;class Yz extends Ks{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Ks.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ks.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=n.name,i(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){n&&h.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Zz=class extends Yz{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Hz[s]).filter(s=>!!s)),super(e,r)}};function Jz(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=cy(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const e5=typeof ArrayBuffer=="function",t5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,gP=Object.prototype.toString,n5=typeof Blob=="function"||typeof Blob<"u"&&gP.call(Blob)==="[object BlobConstructor]",r5=typeof File=="function"||typeof File<"u"&&gP.call(File)==="[object FileConstructor]";function qv(t){return e5&&(t instanceof ArrayBuffer||t5(t))||n5&&t instanceof Blob||r5&&t instanceof File}function Ld(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Ld(t[n]))return!0;return!1}if(qv(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ld(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ld(t[n]))return!0;return!1}function s5(t){const e=[],n=t.data,r=t;return r.data=hy(n,e),r.attachments=e.length,{packet:r,buffers:e}}function hy(t,e){if(!t)return t;if(qv(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=hy(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=hy(t[r],e));return n}return t}function i5(t,e){return t.data=fy(t.data,e),delete t.attachments,t}function fy(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=fy(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=fy(t[n],e));return t}const o5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],a5=5;var Ce;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ce||(Ce={}));class l5{constructor(e){this.replacer=e}encode(e){return(e.type===Ce.EVENT||e.type===Ce.ACK)&&Ld(e)?this.encodeAsBinary({type:e.type===Ce.EVENT?Ce.BINARY_EVENT:Ce.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ce.BINARY_EVENT||e.type===Ce.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=s5(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function OS(t){return Object.prototype.toString.call(t)==="[object Object]"}class Wv extends pt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Ce.BINARY_EVENT;r||n.type===Ce.BINARY_ACK?(n.type=r?Ce.EVENT:Ce.ACK,this.reconstructor=new u5(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(qv(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Ce[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ce.BINARY_EVENT||r.type===Ce.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Wv.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ce.CONNECT:return OS(n);case Ce.DISCONNECT:return n===void 0;case Ce.CONNECT_ERROR:return typeof n=="string"||OS(n);case Ce.EVENT:case Ce.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&o5.indexOf(n[0])===-1);case Ce.ACK:case Ce.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class u5{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=i5(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const c5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Wv,Encoder:l5,get PacketType(){return Ce},protocol:a5},Symbol.toStringTag,{value:"Module"}));function Vn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const d5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class yP extends pt{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Vn(e,"open",this.onopen.bind(this)),Vn(e,"packet",this.onpacket.bind(this)),Vn(e,"error",this.onerror.bind(this)),Vn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(d5.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ce.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ce.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ce.EVENT:case Ce.BINARY_EVENT:this.onevent(e);break;case Ce.ACK:case Ce.BINARY_ACK:this.onack(e);break;case Ce.DISCONNECT:this.ondisconnect();break;case Ce.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ce.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Ya(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ya.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ya.prototype.reset=function(){this.attempts=0};Ya.prototype.setMin=function(t){this.ms=t};Ya.prototype.setMax=function(t){this.max=t};Ya.prototype.setJitter=function(t){this.jitter=t};class py extends pt{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Hf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ya({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||c5;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Zz(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Vn(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Vn(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Vn(e,"ping",this.onping.bind(this)),Vn(e,"data",this.ondata.bind(this)),Vn(e,"error",this.onerror.bind(this)),Vn(e,"close",this.onclose.bind(this)),Vn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Wf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new yP(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const kl={};function Md(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Jz(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=kl[s]&&i in kl[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new py(r,e):(kl[s]||(kl[s]=new py(r,e)),l=kl[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Md,{Manager:py,Socket:yP,io:Md,connect:Md});const _P=g.createContext(void 0);function h5({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(!1),i=g.useRef(null),o=g.useRef(!1),{user:a}=jv();g.useEffect(()=>((async()=>{var y;try{const _=await(await fetch("/api/config")).json();if(!_.success||!((y=_.data)!=null&&y.externalApiUrl))throw new Error("Failed to fetch external API URL from config");const T=_.data.externalApiUrl;console.log(" Connecting to Socket.IO server at external API:",T);const v=Md(T,{transports:["websocket","polling"],autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});v.onAny((w,...E)=>{console.log(" [Socket Event Received]:",w,E)}),v.on("connect",()=>{if(console.log(" Socket.IO connected to external API:",T),console.log("Socket ID:",v.id),s(!0),i.current&&!o.current){console.log(" Reconnected! Auto-rejoining room:",i.current);const w=v.id||`temp_${Math.random().toString(36).substr(2,9)}`,E=a?a._id||a.id||a.id:`guest_${w}`,N=a?a.userName||a.firstName||a.email:`Guest_${w.slice(0,6)}`;v.emit("join-room",{roomId:i.current,userId:E,userName:N})}o.current=!1}),v.on("disconnect",()=>{console.log("Socket.IO disconnected"),s(!1)}),v.on("connect_error",w=>{console.error("Socket.IO connection error:",w)}),n(v)}catch(I){console.error("Failed to initialize Socket.IO:",I)}})(),()=>{e&&(console.log(" Disconnecting socket on unmount"),e.disconnect())}),[]);const l=()=>{if(!e){console.warn(" Cannot connect: socket not initialized");return}e.connected?console.log(" Socket already connected"):(console.log(" Manually connecting socket..."),e.connect())},c=()=>{if(!e){console.warn(" Cannot disconnect: socket not initialized");return}e.connected&&(console.log(" Manually disconnecting socket..."),e.disconnect())},d=p=>{if(!e){console.warn(" Cannot join room: socket not initialized");return}if(!e.connected){console.warn(" Cannot join room: socket not connected yet");return}i.current=p;const y=e.id||`temp_${Math.random().toString(36).substr(2,9)}`,I=a?a._id||a.id||a.id:`guest_${y}`,_=a?a.userName||a.firstName||a.email:`Guest_${y.slice(0,6)}`;console.log(" Emitting join-room event:",{roomId:p,userId:I,userName:_}),e.emit("join-room",{roomId:p,userId:I,userName:_})},h=p=>{if(!e){console.warn(" Cannot leave room: socket not initialized");return}i.current=null;const y=e.id||`temp_${Math.random().toString(36).substr(2,9)}`,I=a?a._id||a.id||a.id:`guest_${y}`,_=a?a.userName||a.firstName||a.email:`Guest_${y.slice(0,6)}`;console.log(" Emitting leave-room event:",{roomId:p,userId:I,userName:_}),e.emit("leave-room",{roomId:p,userId:I,userName:_})};return C.jsx(_P.Provider,{value:{socket:e,isConnected:r,connect:l,disconnect:c,joinRoom:d,leaveRoom:h},children:t})}function MW(){const t=g.useContext(_P);if(t===void 0)throw new Error("useSocket must be used within a SocketProvider");return t}function f5(t){const{settings:e}=Uv();g.useEffect(()=>{const n=e.seo_title||e.app_name;t?document.title=`${t} | ${n}`:document.title=n},[t,e.app_name,e.seo_title])}var fm="focusScope.autoFocusOnMount",pm="focusScope.autoFocusOnUnmount",DS={bubbles:!1,cancelable:!0},p5="FocusScope",vP=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),c=_r(s),d=_r(i),h=g.useRef(null),p=kt(e,_=>l(_)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let _=function(E){if(y.paused||!a)return;const N=E.target;a.contains(N)?h.current=N:ms(h.current,{select:!0})},T=function(E){if(y.paused||!a)return;const N=E.relatedTarget;N!==null&&(a.contains(N)||ms(h.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const L of E)L.removedNodes.length>0&&ms(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",T);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",T),w.disconnect()}}},[r,a,y.paused]),g.useEffect(()=>{if(a){MS.add(y);const _=document.activeElement;if(!a.contains(_)){const v=new CustomEvent(fm,DS);a.addEventListener(fm,c),a.dispatchEvent(v),v.defaultPrevented||(m5(w5(wP(a)),{select:!0}),document.activeElement===_&&ms(a))}return()=>{a.removeEventListener(fm,c),setTimeout(()=>{const v=new CustomEvent(pm,DS);a.addEventListener(pm,d),a.dispatchEvent(v),v.defaultPrevented||ms(_??document.body,{select:!0}),a.removeEventListener(pm,d),MS.remove(y)},0)}}},[a,c,d,y]);const I=g.useCallback(_=>{if(!n&&!r||y.paused)return;const T=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,v=document.activeElement;if(T&&v){const w=_.currentTarget,[E,N]=g5(w);E&&N?!_.shiftKey&&v===N?(_.preventDefault(),n&&ms(E,{select:!0})):_.shiftKey&&v===E&&(_.preventDefault(),n&&ms(N,{select:!0})):v===w&&_.preventDefault()}},[n,r,y.paused]);return C.jsx(lt.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});vP.displayName=p5;function m5(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ms(r,{select:e}),document.activeElement!==n)return}function g5(t){const e=wP(t),n=LS(e,t),r=LS(e.reverse(),t);return[n,r]}function wP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LS(t,e){for(const n of t)if(!y5(n,{upTo:e}))return n}function y5(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _5(t){return t instanceof HTMLInputElement&&"select"in t}function ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_5(t)&&e&&t.select()}}var MS=v5();function v5(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VS(t,e),t.unshift(e)},remove(e){var n;t=VS(t,e),(n=t[0])==null||n.resume()}}}function VS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w5(t){return t.filter(e=>e.tagName!=="A")}var mm=0;function E5(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FS()),document.body.insertAdjacentElement("beforeend",t[1]??FS()),mm++,()=>{mm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mm--}},[])}function FS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ir=function(){return ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ir.apply(this,arguments)};function EP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function T5(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Vd="right-scroll-bar-position",Fd="width-before-scroll-bar",S5="with-scroll-bars-hidden",I5="--removed-body-scroll-bar-size";function gm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function A5(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var b5=typeof window<"u"?g.useLayoutEffect:g.useEffect,US=new WeakMap;function R5(t,e){var n=A5(null,function(r){return t.forEach(function(s){return gm(s,r)})});return b5(function(){var r=US.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||gm(a,null)}),i.forEach(function(a){s.has(a)||gm(a,o)})}US.set(n,t)},[t]),n}function C5(t){return t}function x5(t,e){e===void 0&&(e=C5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function k5(t){t===void 0&&(t={});var e=x5(null);return e.options=ir({async:!0,ssr:!1},t),e}var TP=function(t){var e=t.sideCar,n=EP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,ir({},n))};TP.isSideCarExport=!0;function P5(t,e){return t.useMedium(e),TP}var SP=k5(),ym=function(){},Gf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:ym,onWheelCapture:ym,onTouchMoveCapture:ym}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,y=t.noRelative,I=t.noIsolation,_=t.inert,T=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,E=t.gapMode,N=EP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=p,M=R5([n,e]),A=ir(ir({},N),s);return g.createElement(g.Fragment,null,d&&g.createElement(L,{sideCar:SP,removeScrollBar:c,shards:h,noRelative:y,noIsolation:I,inert:_,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:E}),o?g.cloneElement(g.Children.only(a),ir(ir({},A),{ref:M})):g.createElement(w,ir({},A,{className:l,ref:M}),a))});Gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gf.classNames={fullWidth:Fd,zeroRight:Vd};var N5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function O5(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=N5();return e&&t.setAttribute("nonce",e),t}function D5(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function L5(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var M5=function(){var t=0,e=null;return{add:function(n){t==0&&(e=O5())&&(D5(e,n),L5(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V5=function(){var t=M5();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},IP=function(){var t=V5(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},F5={left:0,top:0,right:0,gap:0},_m=function(t){return parseInt(t||"",10)||0},U5=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[_m(n),_m(r),_m(s)]},j5=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F5;var e=U5(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},B5=IP(),Zo="data-scroll-locked",$5=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(S5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(I5,": ").concat(a,`px;
  }
`)},jS=function(){var t=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(t)?t:0},z5=function(){g.useEffect(function(){return document.body.setAttribute(Zo,(jS()+1).toString()),function(){var t=jS()-1;t<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,t.toString())}},[])},q5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;z5();var i=g.useMemo(function(){return j5(s)},[s]);return g.createElement(B5,{styles:$5(i,!e,s,n?"":"!important")})},my=!1;if(typeof window<"u")try{var nd=Object.defineProperty({},"passive",{get:function(){return my=!0,!0}});window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{my=!1}var _o=my?{passive:!1}:!1,W5=function(t){return t.tagName==="TEXTAREA"},AP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!W5(t)&&n[e]==="visible")},H5=function(t){return AP(t,"overflowY")},G5=function(t){return AP(t,"overflowX")},BS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=bP(t,r);if(s){var i=RP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},K5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Q5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bP=function(t,e){return t==="v"?H5(e):G5(e)},RP=function(t,e){return t==="v"?K5(e):Q5(e)},X5=function(t,e){return t==="h"&&e==="rtl"?-1:1},Y5=function(t,e,n,r,s){var i=X5(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var y=RP(t,a),I=y[0],_=y[1],T=y[2],v=_-T-i*I;(I||v)&&bP(t,a)&&(h+=v,p+=I);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},rd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$S=function(t){return[t.deltaX,t.deltaY]},zS=function(t){return t&&"current"in t?t.current:t},Z5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},J5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},eq=0,vo=[];function tq(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(eq++)[0],i=g.useState(IP)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=T5([t.lockRef.current],(t.shards||[]).map(zS),!0).filter(Boolean);return _.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(_,T){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var v=rd(_),w=n.current,E="deltaX"in _?_.deltaX:w[0]-v[0],N="deltaY"in _?_.deltaY:w[1]-v[1],L,M=_.target,A=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in _&&A==="h"&&M.type==="range")return!1;var S=BS(A,M);if(!S)return!0;if(S?L=A:(L=A==="v"?"h":"v",S=BS(A,M)),!S)return!1;if(!r.current&&"changedTouches"in _&&(E||N)&&(r.current=L),!L)return!0;var x=r.current||L;return Y5(x,T,_,x==="h"?E:N)},[]),l=g.useCallback(function(_){var T=_;if(!(!vo.length||vo[vo.length-1]!==i)){var v="deltaY"in T?$S(T):rd(T),w=e.current.filter(function(L){return L.name===T.type&&(L.target===T.target||T.target===L.shadowParent)&&Z5(L.delta,v)})[0];if(w&&w.should){T.cancelable&&T.preventDefault();return}if(!w){var E=(o.current.shards||[]).map(zS).filter(Boolean).filter(function(L){return L.contains(T.target)}),N=E.length>0?a(T,E[0]):!o.current.noIsolation;N&&T.cancelable&&T.preventDefault()}}},[]),c=g.useCallback(function(_,T,v,w){var E={name:_,delta:T,target:v,should:w,shadowParent:nq(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(N){return N!==E})},1)},[]),d=g.useCallback(function(_){n.current=rd(_),r.current=void 0},[]),h=g.useCallback(function(_){c(_.type,$S(_),_.target,a(_,t.lockRef.current))},[]),p=g.useCallback(function(_){c(_.type,rd(_),_.target,a(_,t.lockRef.current))},[]);g.useEffect(function(){return vo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,_o),document.addEventListener("touchmove",l,_o),document.addEventListener("touchstart",d,_o),function(){vo=vo.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,_o),document.removeEventListener("touchmove",l,_o),document.removeEventListener("touchstart",d,_o)}},[]);var y=t.removeScrollBar,I=t.inert;return g.createElement(g.Fragment,null,I?g.createElement(i,{styles:J5(s)}):null,y?g.createElement(q5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rq=P5(SP,tq);var CP=g.forwardRef(function(t,e){return g.createElement(Gf,ir({},t,{ref:e,sideCar:rq}))});CP.classNames=Gf.classNames;var sq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wo=new WeakMap,sd=new WeakMap,id={},vm=0,xP=function(t){return t&&(t.host||xP(t.parentNode))},iq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oq=function(t,e,n,r){var s=iq(e,Array.isArray(t)?t:[t]);id[n]||(id[n]=new WeakMap);var i=id[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var y=p.getAttribute(r),I=y!==null&&y!=="false",_=(wo.get(p)||0)+1,T=(i.get(p)||0)+1;wo.set(p,_),i.set(p,T),o.push(p),_===1&&I&&sd.set(p,!0),T===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),vm++,function(){o.forEach(function(h){var p=wo.get(h)-1,y=i.get(h)-1;wo.set(h,p),i.set(h,y),p||(sd.has(h)||h.removeAttribute(r),sd.delete(h)),y||h.removeAttribute(n)}),vm--,vm||(wo=new WeakMap,wo=new WeakMap,sd=new WeakMap,id={})}},aq=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=sq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),oq(r,s,n,"aria-hidden")):function(){return null}};function lq(t){const e=uq(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(dq);if(l){const c=l.props.children,d=a.map(h=>h===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function uq(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=fq(s),a=hq(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Hu(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cq=Symbol("radix.slottable");function dq(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cq}function hq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Kf="Dialog",[kP,PP]=Ma(Kf),[pq,Kn]=kP(Kf),NP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[c,d]=Wb({prop:r,defaultProp:s??!1,onChange:i,caller:Kf});return C.jsx(pq,{scope:e,triggerRef:a,contentRef:l,contentId:Wp(),titleId:Wp(),descriptionId:Wp(),open:c,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};NP.displayName=Kf;var OP="DialogTrigger",DP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kn(OP,n),i=kt(e,s.triggerRef);return C.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Kv(s.open),...r,ref:i,onClick:qe(t.onClick,s.onOpenToggle)})});DP.displayName=OP;var Hv="DialogPortal",[mq,LP]=kP(Hv,{forceMount:void 0}),MP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Kn(Hv,e);return C.jsx(mq,{scope:e,forceMount:n,children:g.Children.map(r,o=>C.jsx(Va,{present:n||i.open,children:C.jsx(g_,{asChild:!0,container:s,children:o})}))})};MP.displayName=Hv;var Uh="DialogOverlay",VP=g.forwardRef((t,e)=>{const n=LP(Uh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Kn(Uh,t.__scopeDialog);return i.modal?C.jsx(Va,{present:r||i.open,children:C.jsx(yq,{...s,ref:e})}):null});VP.displayName=Uh;var gq=lq("DialogOverlay.RemoveScroll"),yq=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kn(Uh,n);return C.jsx(CP,{as:gq,allowPinchZoom:!0,shards:[s.contentRef],children:C.jsx(lt.div,{"data-state":Kv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ro="DialogContent",FP=g.forwardRef((t,e)=>{const n=LP(ro,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Kn(ro,t.__scopeDialog);return C.jsx(Va,{present:r||i.open,children:i.modal?C.jsx(_q,{...s,ref:e}):C.jsx(vq,{...s,ref:e})})});FP.displayName=ro;var _q=g.forwardRef((t,e)=>{const n=Kn(ro,t.__scopeDialog),r=g.useRef(null),s=kt(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return aq(i)},[]),C.jsx(UP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,i=>i.preventDefault())})}),vq=g.forwardRef((t,e)=>{const n=Kn(ro,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return C.jsx(UP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),UP=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Kn(ro,n),l=g.useRef(null),c=kt(e,l);return E5(),C.jsxs(C.Fragment,{children:[C.jsx(vP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:C.jsx(lf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Kv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(Eq,{titleId:a.titleId}),C.jsx(Sq,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Gv="DialogTitle",jP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kn(Gv,n);return C.jsx(lt.h2,{id:s.titleId,...r,ref:e})});jP.displayName=Gv;var BP="DialogDescription",$P=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kn(BP,n);return C.jsx(lt.p,{id:s.descriptionId,...r,ref:e})});$P.displayName=BP;var zP="DialogClose",qP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kn(zP,n);return C.jsx(lt.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,()=>s.onOpenChange(!1))})});qP.displayName=zP;function Kv(t){return t?"open":"closed"}var WP="DialogTitleWarning",[wq,HP]=VL(WP,{contentName:ro,titleName:Gv,docsSlug:"dialog"}),Eq=({titleId:t})=>{const e=HP(WP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Tq="DialogDescriptionWarning",Sq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HP(Tq).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Iq=NP,Aq=DP,bq=MP,Rq=VP,Cq=FP,xq=jP,kq=$P,GP=qP,Pq=Symbol("radix.slottable");function Nq(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Pq,e}var KP="AlertDialog",[Oq]=Ma(KP,[PP]),ns=PP(),QP=t=>{const{__scopeAlertDialog:e,...n}=t,r=ns(e);return C.jsx(Iq,{...r,...n,modal:!0})};QP.displayName=KP;var Dq="AlertDialogTrigger",XP=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return C.jsx(Aq,{...s,...r,ref:e})});XP.displayName=Dq;var Lq="AlertDialogPortal",YP=t=>{const{__scopeAlertDialog:e,...n}=t,r=ns(e);return C.jsx(bq,{...r,...n})};YP.displayName=Lq;var Mq="AlertDialogOverlay",ZP=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return C.jsx(Rq,{...s,...r,ref:e})});ZP.displayName=Mq;var Jo="AlertDialogContent",[Vq,Fq]=Oq(Jo),Uq=Nq("AlertDialogContent"),JP=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ns(n),o=g.useRef(null),a=kt(e,o),l=g.useRef(null);return C.jsx(wq,{contentName:Jo,titleName:e1,docsSlug:"alert-dialog",children:C.jsx(Vq,{scope:n,cancelRef:l,children:C.jsxs(Cq,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:qe(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[C.jsx(Uq,{children:r}),C.jsx(Bq,{contentRef:o})]})})})});JP.displayName=Jo;var e1="AlertDialogTitle",t1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return C.jsx(xq,{...s,...r,ref:e})});t1.displayName=e1;var n1="AlertDialogDescription",r1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return C.jsx(kq,{...s,...r,ref:e})});r1.displayName=n1;var jq="AlertDialogAction",s1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ns(n);return C.jsx(GP,{...s,...r,ref:e})});s1.displayName=jq;var i1="AlertDialogCancel",o1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Fq(i1,n),i=ns(n),o=kt(e,s);return C.jsx(GP,{...i,...r,ref:o})});o1.displayName=i1;var Bq=({contentRef:t})=>{const e=`\`${Jo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jo}\` by passing a \`${n1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},$q=QP,zq=XP,qq=YP,a1=ZP,l1=JP,u1=s1,c1=o1,d1=t1,h1=r1,Wq=Symbol.for("react.lazy"),jh=$h[" use ".trim().toString()];function Hq(t){return typeof t=="object"&&t!==null&&"then"in t}function f1(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Wq&&"_payload"in t&&Hq(t._payload)}function p1(t){const e=Kq(t),n=g.forwardRef((r,s)=>{let{children:i,...o}=r;f1(i)&&typeof jh=="function"&&(i=jh(i._payload));const a=g.Children.toArray(i),l=a.find(Xq);if(l){const c=l.props.children,d=a.map(h=>h===l?g.Children.count(c)>1?g.Children.only(null):g.isValidElement(c)?c.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(c)?g.cloneElement(c,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Gq=p1("Slot");function Kq(t){const e=g.forwardRef((n,r)=>{let{children:s,...i}=n;if(f1(s)&&typeof jh=="function"&&(s=jh(s._payload)),g.isValidElement(s)){const o=Zq(s),a=Yq(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Hu(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Qq=Symbol("radix.slottable");function Xq(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Qq}function Yq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Zq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Qv=E_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jq=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Gq:"button";return C.jsx(o,{className:vt(Qv({variant:e,size:n,className:t})),ref:i,...s})});Jq.displayName="Button";const e8=$q,VW=zq,t8=qq,m1=g.forwardRef(({className:t,...e},n)=>C.jsx(a1,{className:vt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));m1.displayName=a1.displayName;const g1=g.forwardRef(({className:t,...e},n)=>C.jsxs(t8,{children:[C.jsx(m1,{}),C.jsx(l1,{ref:n,className:vt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));g1.displayName=l1.displayName;const y1=({className:t,...e})=>C.jsx("div",{className:vt("flex flex-col space-y-2 text-center sm:text-left",t),...e});y1.displayName="AlertDialogHeader";const _1=({className:t,...e})=>C.jsx("div",{className:vt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_1.displayName="AlertDialogFooter";const v1=g.forwardRef(({className:t,...e},n)=>C.jsx(d1,{ref:n,className:vt("text-lg font-semibold",t),...e}));v1.displayName=d1.displayName;const w1=g.forwardRef(({className:t,...e},n)=>C.jsx(h1,{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));w1.displayName=h1.displayName;const E1=g.forwardRef(({className:t,...e},n)=>C.jsx(u1,{ref:n,className:vt(Qv(),t),...e}));E1.displayName=u1.displayName;const n8=g.forwardRef(({className:t,...e},n)=>C.jsx(c1,{ref:n,className:vt(Qv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));n8.displayName=c1.displayName;const T1=g.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:vt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));T1.displayName="Input";var r8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],s8=r8.reduce((t,e)=>{const n=p1(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),i8="Label",S1=g.forwardRef((t,e)=>C.jsx(s8.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));S1.displayName=i8;var I1=S1;const o8=E_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),A1=g.forwardRef(({className:t,...e},n)=>C.jsx(I1,{ref:n,className:vt(o8(),t),...e}));A1.displayName=I1.displayName;function a8(){const{user:t,logout:e,refreshUserData:n}=jv(),{settings:r}=Uv(),{toast:s}=jb(),[i,o]=g.useState(!1),[a,l]=g.useState(""),[c,d]=g.useState(!1);g.useEffect(()=>{if(!r.agerestricted){console.log("[AgeVerification] Age restriction disabled in settings");return}if(!t){console.log("[AgeVerification] No user logged in");return}if(console.log("[AgeVerification] User data:",{userId:t.id,date_of_birth:t.date_of_birth,hasDateOfBirth:!!t.date_of_birth}),!t.date_of_birth){console.log("[AgeVerification] No date_of_birth found - showing dialog"),o(!0);return}const p=new Date(t.date_of_birth),y=new Date;let I=y.getFullYear()-p.getFullYear();const _=y.getMonth()-p.getMonth();(_<0||_===0&&y.getDate()<p.getDate())&&I--,console.log("[AgeVerification] Age calculated:",{birthDate:t.date_of_birth,age:I,isOver18:I>=18}),I<18?(console.log("[AgeVerification] User is under 18 - logging out"),s({title:"Age Requirement Not Met",description:"You must be at least 18 years old to use this platform.",variant:"destructive"}),setTimeout(()=>{e()},2e3)):console.log("[AgeVerification] User is 18+ - no action needed")},[t,e,s,r.agerestricted]);const h=async()=>{if(!a){s({title:"Date Required",description:"Please enter your date of birth to continue.",variant:"destructive"});return}const p=new Date(a),y=new Date;if(isNaN(p.getTime())){s({title:"Invalid Date",description:"Please enter a valid date.",variant:"destructive"});return}if(p>y){s({title:"Invalid Date",description:"Date of birth cannot be in the future.",variant:"destructive"});return}let I=y.getFullYear()-p.getFullYear();const _=y.getMonth()-p.getMonth();if((_<0||_===0&&y.getDate()<p.getDate())&&I--,I<18){s({title:"Age Requirement Not Met",description:"You must be at least 18 years old to use this platform.",variant:"destructive"}),setTimeout(()=>{e()},2e3);return}try{d(!0);const T=t==null?void 0:t.id;if(!T)throw new Error("User ID not found");const v=await Zn("PUT",`/api/users/${T}`,{date_of_birth:a}),w=await v.json();if(!v.ok)throw new Error(w.error||"Failed to update date of birth");if(w.data){const E=localStorage.getItem("user");if(E){const N={...JSON.parse(E),date_of_birth:a};localStorage.setItem("user",JSON.stringify(N))}}await n(),s({title:"Date of Birth Set",description:"Your date of birth has been recorded."}),o(!1)}catch(T){const v=T instanceof Error?T.message:"Failed to update";s({title:"Update Failed",description:v,variant:"destructive"})}finally{d(!1)}};return C.jsx(e8,{open:i,children:C.jsxs(g1,{className:"max-w-md",children:[C.jsxs(y1,{children:[C.jsx(v1,{children:"Age Verification Required"}),C.jsx(w1,{children:"To continue using this platform, please provide your date of birth. You must be at least 18 years old."})]}),C.jsxs("div",{className:"space-y-2 py-4",children:[C.jsx(A1,{htmlFor:"date-of-birth",children:"Date of Birth"}),C.jsx(T1,{id:"date-of-birth",type:"date",value:a,onChange:p=>l(p.target.value),max:new Date().toISOString().split("T")[0],disabled:c,"data-testid":"input-date-of-birth"})]}),C.jsx(_1,{children:C.jsx(E1,{onClick:h,disabled:c||!a,"data-testid":"button-submit-dob",children:c?C.jsxs(C.Fragment,{children:[C.jsx(V2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Continue"})})]})})}const Pl=g.lazy(()=>ie(()=>import("./sidebar-vD9iVcjQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(t=>({default:t.Sidebar}))),od=g.lazy(()=>ie(()=>import("./app-header-kYWGl4hI.js"),__vite__mapDeps([16,1,17,3,2,18,19,20,4,6,13,5,21,12,8,9,22,23,24,25,26,27,28,29,30,15])).then(t=>({default:t.AppHeader}))),l8=g.lazy(()=>ie(()=>import("./social-auth-complete-form-BVemS-aH.js"),__vite__mapDeps([31,32,33,34,35,20,36,37,26,38,39,40,41,42,43])).then(t=>({default:t.SocialAuthCompleteForm}))),u8=g.lazy(()=>ie(()=>import("./dashboard-By12KARF.js"),__vite__mapDeps([44,4,33,22,43,7,45,46,17,47,48,49,29,9,8]))),c8=g.lazy(()=>ie(()=>import("./orders-DFT4fo5n.js"),__vite__mapDeps([50,4,51,33,17,18,19,20,34,35,36,37,26,38,52,53,54,5,3,2,55,8,15,9,56,47,28]))),d8=g.lazy(()=>ie(()=>import("./purchases-BmNkh0F5.js"),__vite__mapDeps([57,4,33,17,34,35,20,36,37,26,38,25,19,5,27,58,52,53,54,28,8,59,60,9,47]))),h8=g.lazy(()=>ie(()=>import("./thank-you-BWiuLaP7.js"),__vite__mapDeps([61,4,33,2,62,8,49]))),f8=g.lazy(()=>ie(()=>import("./inventory-BvzTIgPK.js"),__vite__mapDeps([63,4,51,33,17,34,35,20,36,37,26,38,25,19,5,27,64,58,53,54,39,65,18,66,67,68,14,48,8,29,28,69,59,70,71,72]))),p8=g.lazy(()=>ie(()=>import("./add-product-CD2D17ON.js"),__vite__mapDeps([73,51,74,32,4,33,75,34,35,20,36,37,26,38,17,76,58,77,19,27,78,66,28,79,80]))),m8=g.lazy(()=>ie(()=>import("./edit-product-DeFlRdhw.js"),__vite__mapDeps([81,4,51,74,32,33,75,34,35,20,36,37,26,38,17,76,58,77,19,27,78,66,28,79,80]))),g8=g.lazy(()=>ie(()=>import("./shipping-C8h-Sokg.js"),__vite__mapDeps([82,4,51,33,17,64,36,26,18,19,20,34,35,37,38,3,2,83,58,39,56,43,8,71,9,60,47,10,84,67,13,25,5,27,53,54,28,59,70,69]))),y8=g.lazy(()=>ie(()=>import("./shipping-profiles-Bwf2SIq4.js"),__vite__mapDeps([85,4,51,33,75,34,35,20,36,37,26,38,58,25,19,5,27,29,8,59,69,72]))),_8=g.lazy(()=>ie(()=>import("./addresses-D1781N_R.js"),__vite__mapDeps([86,4,51,87,88,33,58,25,20,19,5,26,27,17,29,13,89,90]))),v8=g.lazy(()=>ie(()=>import("./analytics-CPzkepvL.js"),__vite__mapDeps([91,4,33,45,46,92]))),w8=g.lazy(()=>ie(()=>import("./live-shows-DWnbA3A_.js"),__vite__mapDeps([93,4,51,18,19,20,34,35,36,37,26,38,29,28,7,54,5,47]))),E8=g.lazy(()=>ie(()=>import("./settings-CxHqUFuh.js"),__vite__mapDeps([94,33,95,36,23,96,43,70]))),T8=g.lazy(()=>ie(()=>import("./profile-CX5yQRbU.js"),__vite__mapDeps([97,32,33,1,39,2,4,69,40,79,98,42,13]))),wm=g.lazy(()=>ie(()=>import("./profile-view-JZ01zbhd.js"),__vite__mapDeps([99,1,17,18,19,20,25,5,26,27,58,75,4,51,100,47,101,55,102,89,23,90,103,104,6,38,37]))),S8=g.lazy(()=>ie(()=>import("./product-detail-sh63jfLR.js"),__vite__mapDeps([105,4,51,1,33,2,55,80,6,54,5,23,89,106,104,37,11]))),I8=g.lazy(()=>ie(()=>import("./auction-detail-BcMk630a.js"),__vite__mapDeps([107,4,51,17,1,33,2,80,54,5,108,40,109]))),A8=g.lazy(()=>ie(()=>import("./account-DwHTeewS.js"),__vite__mapDeps([110,33,2,48,12,98,5,111,72]))),b8=g.lazy(()=>ie(()=>import("./payments-b_dJteiQ.js"),__vite__mapDeps([112,4,51,33,2,25,20,19,5,26,27,113,58,46,29,11,90,72]))),Em=g.lazy(()=>ie(()=>import("./login-D8Hzl9o2.js"),__vite__mapDeps([114,32,33,39,2,115,98,70]))),R8=g.lazy(()=>ie(()=>import("./signup-CUd3owlf.js"),__vite__mapDeps([116,32,33,34,35,20,36,37,26,38,39,2,115,98,40,42,41,70]))),C8=g.lazy(()=>ie(()=>import("./transactions-BcllDHIo.js"),__vite__mapDeps([117,4,33,65,17,34,35,20,36,37,26,38,58,11,28,70,54,5,60]))),Nl=g.lazy(()=>ie(()=>import("./home-BLWeH_b-.js"),__vite__mapDeps([118,4,100,1,47,101,41,119,33,17,8,120,108,48,5]))),x8=g.lazy(()=>ie(()=>import("./browse-Cf3FgyDW.js"),__vite__mapDeps([121,4,122]))),k8=g.lazy(()=>ie(()=>import("./category-UL2XnqAp.js"),__vite__mapDeps([123,4,51,100,1,47,101,122,5]))),P8=g.lazy(()=>ie(()=>import("./search-results-CgpCDhP3.js"),__vite__mapDeps([124,100,4,1,47,101,33,64,36,26,122,38,37,28,8,6]))),N8=g.lazy(()=>ie(()=>import("./trending-products-CQ8MRwjc.js"),__vite__mapDeps([125,4,119,33,17,8,80]))),O8=g.lazy(()=>ie(()=>import("./trending-auctions-Cpp0JK1G.js"),__vite__mapDeps([126,4,120,33,17,8,108,48,80]))),D8=g.lazy(()=>ie(()=>import("./deals-Dm1WjaHx.js"),__vite__mapDeps([127,4,120,33,17,8,108,48,119,5]))),L8=g.lazy(()=>ie(()=>import("./deals-auctions-KBD2Kjdi.js"),__vite__mapDeps([128,4,120,33,17,8,108,48,80]))),M8=g.lazy(()=>ie(()=>import("./deals-trending-DJbg4xqD.js"),__vite__mapDeps([129,4,119,33,17,8,80]))),qS=g.lazy(()=>ie(()=>import("./landing-page-BQ4gvbmA.js"),__vite__mapDeps([130,4,49,131,92,89,106,132]))),V8=g.lazy(()=>ie(()=>import("./landing-page-2-BrDKV80N.js"),__vite__mapDeps([133,33,17,49,131,7,6,23,106,5,89]))),F8=g.lazy(()=>ie(()=>import("./landing-page-3-c-cevjaU.js"),__vite__mapDeps([134,33,17,92,49,7,26,43,6,135,108,106,136,137,132,89]))),U8=g.lazy(()=>ie(()=>import("./landing-page-4-CJHsR7V1.js"),__vite__mapDeps([138,33,17,132,49,43,7,96,106,41,111,139,131,6,89,62]))),j8=g.lazy(()=>ie(()=>import("./landing-page-5-Dq6X34bz.js"),__vite__mapDeps([140,33,17,137,49,131,62,43,7,8,89,132,106,136,23,96,22,41,9,11,141,142]))),B8=g.lazy(()=>ie(()=>import("./landing-page-6-Dd9Zow1z.js"),__vite__mapDeps([143,33,17,92,49,43,135,6,96,7,132,23,106,111,5,144,71,136,142,139,89,62,41]))),$8=g.lazy(()=>ie(()=>import("./landing-page-7-CVG0cteI.js"),__vite__mapDeps([145,33,17,49,131,7,43,6,106,5,70,132,136,22,23,9,89,96,144,111,142,141,48,41]))),z8=g.lazy(()=>ie(()=>import("./seller-login-BwUJZRKq.js"),__vite__mapDeps([146,114,32,33,39,2,115,98,70]))),q8=g.lazy(()=>ie(()=>import("./show-view-BDndftiP.js").then(t=>t.s),__vite__mapDeps([147,39,58,4,51,55,148,2,5,29,11,13,56,17,90,108,96,8,1,95,36,89,21,69,137,7,14,131,6,101,47,149,102,76,20,35,22,32,75,34,37,26,38,150,9])).then(t=>({default:t.default}))),WS=g.lazy(()=>ie(()=>import("./privacy-policy-BVdMOc11.js"),__vite__mapDeps([151,4,33]))),HS=g.lazy(()=>ie(()=>import("./terms-of-service-DLZreD1p.js"),__vite__mapDeps([152,4,33]))),GS=g.lazy(()=>ie(()=>import("./contact-BHLpb7cE.js"),__vite__mapDeps([153,4,33,75,15,149,98,42,13]))),W8=g.lazy(()=>ie(()=>import("./user-reports-B14PW9WD.js"),__vite__mapDeps([154,33,75,34,35,20,36,37,26,38,14,149]))),KS=g.lazy(()=>ie(()=>import("./faq-DGOjjX4u.js"),__vite__mapDeps([155,4,156,83,20,37,33]))),QS=g.lazy(()=>ie(()=>import("./about-BCWktcqo.js"),__vite__mapDeps([157,4,33]))),H8=g.lazy(()=>ie(()=>import("./hub-DPQLPpFq.js"),__vite__mapDeps([158,33,4,29,30,21,9]))),G8=g.lazy(()=>ie(()=>import("./inbox-DJ00aRjT.js"),__vite__mapDeps([159,1,17,76,20,35,25,19,5,26,27,58,55,28,80,90,106,103,78,149]))),K8=g.lazy(()=>ie(()=>import("./friends-D9HTDJrb.js"),__vite__mapDeps([160,33,1,17,4,43,28,23]))),Q8=g.lazy(()=>ie(()=>import("./help-Cyeua-93.js"),__vite__mapDeps([161,33,75,156,83,20,37,24,68,106,23,5,28,98,84]))),X8=g.lazy(()=>ie(()=>import("./setup-BsbYKOU1.js"),__vite__mapDeps([162,33,4,51,34,35,20,36,37,26,38,108,109,13,49,11,62]))),Y8=g.lazy(()=>ie(()=>import("./schedule-show-B-5F5fDk.js"),__vite__mapDeps([163,32,4,75,34,35,20,36,37,26,38,95,33,77,19,27,150,80,66]))),XS=g.lazy(()=>ie(()=>import("./not-found-Cx5d-qid.js"),__vite__mapDeps([164,33,109])));function Si(){return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),C.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}function Z8(){const{isAuthenticated:t,isLoading:e,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:s,pendingSocialAuthData:i,completeSocialAuth:o}=jv(),[a,l]=g.useState(!1),[c,d]=g.useState(!1),[h,p]=xb(),[y,I]=g.useState(!1);f5();const _=()=>{l(!a)},T=()=>{d(!c)},v=()=>{d(!1)},w=async D=>{try{await o(D),I(!0)}catch(P){console.error("Social auth completion failed:",P)}};if(g.useEffect(()=>{y&&t&&!r&&n&&(p("/marketplace"),I(!1))},[y,t,r,n,p]),e)return C.jsx(Si,{});if(r&&s&&i)return C.jsx(g.Suspense,{fallback:C.jsx(Si,{}),children:C.jsx(l8,{userEmail:s,socialAuthData:i,onComplete:w,isLoading:e})});const N=["/","/landing-2","/landing-3","/landing-4","/landing-5","/landing-6","/landing-7","/login","/signup","/seller/login","/privacy-policy","/terms-of-service","/contact","/faq"].includes(h);if(!t&&!N)return C.jsx(g.Suspense,{fallback:C.jsx(Si,{}),children:C.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[C.jsx(od,{hideLogo:!1,onMobileMenuToggle:T,mobileMenuOpen:c,onMobileMenuClose:v}),C.jsx("div",{className:"lg:hidden",children:C.jsx(Pl,{isCollapsed:!1,onToggle:_,isMobileOpen:c,onMobileClose:v})}),C.jsx("main",{className:"flex-1 overflow-y-auto",children:C.jsxs(Uc,{children:[C.jsx(J,{path:"/login",component:Em}),C.jsx(J,{component:Em})]})})]})});if(!t)return C.jsx(g.Suspense,{fallback:C.jsx(Si,{}),children:C.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[C.jsx(od,{hideLogo:!1,onMobileMenuToggle:T,mobileMenuOpen:c,onMobileMenuClose:v}),C.jsx("div",{className:"lg:hidden",children:C.jsx(Pl,{isCollapsed:!1,onToggle:_,isMobileOpen:c,onMobileClose:v})}),C.jsx("main",{className:"flex-1 overflow-y-auto",children:C.jsxs(Uc,{children:[C.jsx(J,{path:"/",component:qS}),C.jsx(J,{path:"/landing-2",component:V8}),C.jsx(J,{path:"/landing-3",component:F8}),C.jsx(J,{path:"/landing-4",component:U8}),C.jsx(J,{path:"/landing-5",component:j8}),C.jsx(J,{path:"/landing-6",component:B8}),C.jsx(J,{path:"/landing-7",component:$8}),C.jsx(J,{path:"/seller/login",component:z8}),C.jsx(J,{path:"/login",component:Em}),C.jsx(J,{path:"/signup",component:R8}),C.jsx(J,{path:"/privacy-policy",component:WS}),C.jsx(J,{path:"/terms-of-service",component:HS}),C.jsx(J,{path:"/contact",component:GS}),C.jsx(J,{path:"/faq",component:KS}),C.jsx(J,{path:"/about",component:QS}),C.jsx(J,{component:qS})]})})]})});const M=["/inventory","/add-product","/edit-product","/shipping","/shipping-profiles","/analytics","/live-shows","/schedule-show","/seller/hub"].some(D=>h.startsWith(D)),A=(n==null?void 0:n.seller)===!0;if(M&&!A)return p("/marketplace"),C.jsx(Si,{});if(h.startsWith("/orders")||h.startsWith("/purchases")||h.startsWith("/thank-you")||h.startsWith("/inventory")||h.startsWith("/add-product")||h.startsWith("/edit-product")||h.startsWith("/shipping")||h.startsWith("/addresses")||h.startsWith("/transactions")||h.startsWith("/profile-view")||h==="/profile"||h.startsWith("/account")||h.startsWith("/payments")||h.startsWith("/seller/hub")||h.startsWith("/friends")||h==="/settings"||h.startsWith("/analytics")||h.startsWith("/dashboard")||h.startsWith("/live-shows")||h.startsWith("/schedule-show"))return C.jsx(g.Suspense,{fallback:C.jsx(Si,{}),children:C.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[C.jsx(od,{onMobileMenuToggle:T,mobileMenuOpen:c,hideLogo:!1,hideSearch:!0,isDashboard:!0}),C.jsxs("div",{className:"flex flex-1 min-h-0",children:[C.jsx("div",{className:"hidden lg:block",children:C.jsx(Pl,{isCollapsed:a,onToggle:_,isMobileOpen:!1,onMobileClose:v})}),c&&C.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-background",children:C.jsx(Pl,{isCollapsed:!1,onToggle:_,isMobileOpen:!0,onMobileClose:v})}),C.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:C.jsxs(Uc,{children:[C.jsx(J,{path:"/dashboard",component:u8}),C.jsx(J,{path:"/orders",component:c8}),C.jsx(J,{path:"/purchases",component:d8}),C.jsx(J,{path:"/thank-you/:orderId",component:h8}),C.jsx(J,{path:"/inventory",component:f8}),C.jsx(J,{path:"/add-product",component:p8}),C.jsx(J,{path:"/edit-product/:id",component:m8}),C.jsx(J,{path:"/shipping",component:g8}),C.jsx(J,{path:"/shipping-profiles",component:y8}),C.jsx(J,{path:"/addresses",component:_8}),C.jsx(J,{path:"/transactions",component:C8}),C.jsx(J,{path:"/profile",component:T8}),C.jsx(J,{path:"/profile-view",component:wm}),C.jsx(J,{path:"/account",component:A8}),C.jsx(J,{path:"/payments",component:b8}),C.jsx(J,{path:"/settings",component:E8}),C.jsx(J,{path:"/analytics",component:v8}),C.jsx(J,{path:"/live-shows",component:w8}),C.jsx(J,{path:"/schedule-show",component:Y8}),C.jsx(J,{path:"/seller/hub",component:H8}),C.jsx(J,{path:"/friends",component:K8}),C.jsx(J,{component:XS})]})})]})]})});const x=h.startsWith("/show/"),k=h.split("?")[0],O=k==="/"||k==="/marketplace"||k==="/browse"||k.startsWith("/deals")||k.startsWith("/category")||k==="/search"||k.startsWith("/trending");return C.jsx(g.Suspense,{fallback:C.jsx(Si,{}),children:C.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[C.jsx("div",{className:vt(x&&"hidden lg:block"),children:C.jsx(od,{hideLogo:!1,hideSearch:!O,onMobileMenuToggle:T,mobileMenuOpen:c,onMobileMenuClose:v})}),C.jsx("div",{className:"lg:hidden",children:C.jsx(Pl,{isCollapsed:!1,onToggle:_,isMobileOpen:c,onMobileClose:v})}),C.jsx("main",{className:"flex-1 min-h-0 overflow-y-auto",children:C.jsxs(Uc,{children:[C.jsx(J,{path:"/",component:Nl}),C.jsx(J,{path:"/marketplace",component:Nl}),C.jsx(J,{path:"/browse",component:x8}),C.jsx(J,{path:"/deals",component:D8}),C.jsx(J,{path:"/deals/auctions",component:L8}),C.jsx(J,{path:"/deals/trending",component:M8}),C.jsx(J,{path:"/category/:id",component:k8}),C.jsx(J,{path:"/search",component:P8}),C.jsx(J,{path:"/trending/products",component:N8}),C.jsx(J,{path:"/trending/auctions",component:O8}),C.jsx(J,{path:"/show/:id",component:q8}),C.jsx(J,{path:"/product/:productId",component:S8}),C.jsx(J,{path:"/auction/:auctionId",component:I8}),C.jsx(J,{path:"/user",component:wm}),C.jsx(J,{path:"/profile/:userId",component:wm}),C.jsx(J,{path:"/inbox/:userId?",component:G8}),C.jsx(J,{path:"/seller/setup",component:X8}),C.jsx(J,{path:"/login",component:Nl}),C.jsx(J,{path:"/signup",component:Nl}),C.jsx(J,{path:"/seller/login",component:Nl}),C.jsx(J,{path:"/privacy-policy",component:WS}),C.jsx(J,{path:"/terms-of-service",component:HS}),C.jsx(J,{path:"/contact",component:GS}),C.jsx(J,{path:"/reports",component:W8}),C.jsx(J,{path:"/faq",component:KS}),C.jsx(J,{path:"/about",component:QS}),C.jsx(J,{path:"/help",component:Q8}),C.jsx(J,{component:XS})]})})]})})}function J8(){return C.jsx(xL,{client:PL,children:C.jsx(yz,{children:C.jsx(_z,{children:C.jsx(h5,{children:C.jsxs(fF,{children:[C.jsx(a8,{}),C.jsx(wM,{}),C.jsx(Z8,{})]})})})})})}vb(document.getElementById("root")).render(C.jsx(J8,{}));export{kt as $,e8 as A,Jq as B,y1 as C,v1 as D,w1 as E,_1 as F,n8 as G,E1 as H,T1 as I,hR as J,gW as K,sW as L,ne as M,R as N,f5 as O,Wb as P,Ma as Q,fs as R,Wp as S,lt as T,qe as U,Va as V,MW as W,F2 as X,nz as Y,nW as Z,ie as _,jv as a,OW as a$,LV as a0,dT as a1,uW as a2,lW as a3,VD as a4,_r as a5,Wr as a6,Iq as a7,Aq as a8,bq as a9,g_ as aA,aq as aB,Bb as aC,E5 as aD,CP as aE,vP as aF,lf as aG,zV as aH,qV as aI,Gq as aJ,Iu as aK,AL as aL,EW as aM,w$ as aN,kW as aO,TW as aP,SW as aQ,i$ as aR,IW as aS,bW as aT,We as aU,CW as aV,AW as aW,RW as aX,PW as aY,xW as aZ,NW as a_,Cq as aa,GP as ab,E_ as ac,xq as ad,kq as ae,Rq as af,of as ag,yL as ah,cL as ai,iW as aj,gg as ak,On as al,af as am,lL as an,uL as ao,mg as ap,Ob as aq,SL as ar,fL as as,Ht as at,oW as au,Hu as av,qL as aw,FR as ax,hW as ay,$V as az,Uv as b,tz as b0,tL as b1,ui as b2,Kt as b3,pR as c,vt as d,Wu as e,jb as f,rW as g,oI as h,tW as i,C as j,p1 as k,A1 as l,V2 as m,Zn as n,v$ as o,_W as p,PL as q,g as r,rz as s,mW as t,xb as u,yW as v,DW as w,dW as x,VW as y,g1 as z};
