import{u as h,r as j,j as e}from"./index-FVTY5sKH.js";import{C as v,b as g}from"./card-CF4CqaN2.js";import{B as i}from"./badge-BTf7a5Ku.js";import{P as N}from"./package-dXPzRBiL.js";function k({product:s,layout:n="grid"}){const[,c]=h(),[l,o]=j.useState(!1),m=s._id||s.id,a=(s.images||s.productImages||[])[0]||"",d=Number(s.price)||0,r=s.name||"Untitled Product",x=s.condition||"New",t=Number(s.quantity)||0,u=()=>{c(`/product/${m}`)},f=n==="carousel"?"hover-elevate active-elevate-2 cursor-pointer overflow-hidden flex-shrink-0 w-52 sm:w-60":"hover-elevate active-elevate-2 cursor-pointer overflow-hidden w-full min-w-0";return e.jsxs(v,{className:f,onClick:u,children:[e.jsxs("div",{className:"relative aspect-square bg-muted",children:[!l&&a?e.jsx("img",{src:a,alt:r,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",onError:()=>o(!0)}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(N,{className:"h-16 w-16 text-muted-foreground/40"})}),t===0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx(i,{variant:"destructive",children:"Sold Out"})})]}),e.jsxs(g,{className:"p-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2 mb-1",children:e.jsx("h3",{className:"text-sm font-semibold line-clamp-2 flex-1",children:r})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",d.toFixed(0)]}),e.jsx(i,{variant:"secondary",className:"text-xs",children:x})]}),t>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t," in stock"]})]})]})}export{k as P};
