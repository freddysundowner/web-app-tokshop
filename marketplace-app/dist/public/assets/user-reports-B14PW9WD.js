import{a as T,b as w,f as C,O as F,r as m,j as e,l as a,I as R,B as D}from"./index-FVTY5sKH.js";import{C as h,a as x,d as j,c as O,b as y}from"./card-CF4CqaN2.js";import{T as P}from"./textarea-CeR6uy7m.js";import{S as f,a as v,b as g,c as b,d as t}from"./select-D3ZFUKhx.js";import{T as S}from"./triangle-alert-Bl8aPyMx.js";import{S as k}from"./send-Bsu1P8_-.js";import"./index-BdQq_4o_.js";import"./index-BaZiuLT8.js";import"./index-Cbw5mxKQ.js";import"./chevron-down-BD1mluAZ.js";import"./check-DWjWNqF1.js";import"./chevron-up-D8QnUA5s.js";function G(){const{user:o}=T(),{settings:I}=w(),{toast:l}=C();F("Report an Issue");const[c,d]=m.useState(!1),[r,i]=m.useState({reportType:"",reportedItem:"",reason:"",description:""}),p=s=>{i({...r,[s.target.name]:s.target.value})},u=(s,n)=>{i({...r,[s]:n})},N=async s=>{s.preventDefault(),d(!0);try{if((await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportType:r.reportType,reportedItem:r.reportedItem,reason:r.reason,description:r.description,reportedBy:o==null?void 0:o.id})})).ok)l({title:"Report submitted",description:"Thank you for your report. Our team will review it shortly."}),i({reportType:"",reportedItem:"",reason:"",description:""});else throw new Error("Failed to submit report")}catch{l({title:"Error",description:"Failed to submit report. Please try again.",variant:"destructive"})}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsx("main",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"w-full lg:w-[90%] px-4 sm:px-6 py-8 sm:py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 flex items-center gap-3","data-testid":"text-reports-title",children:[e.jsx(S,{className:"h-8 w-8"}),"Report an Issue"]}),e.jsxs("p",{className:"text-muted-foreground text-sm sm:text-base",children:["Help us maintain a safe and respectful community on ",I.app_name,". If you've encountered inappropriate content, behavior, or have concerns about a user, product, or show, please let us know."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"Submit a Report"]}),e.jsx(O,{children:"Please provide as much detail as possible to help us investigate your report."})]}),e.jsx(y,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"reportType",children:"What are you reporting? *"}),e.jsxs(f,{name:"reportType",value:r.reportType,onValueChange:s=>u("reportType",s),required:!0,children:[e.jsx(v,{"data-testid":"select-report-type",children:e.jsx(g,{placeholder:"Select report type"})}),e.jsxs(b,{children:[e.jsx(t,{value:"user",children:"User"}),e.jsx(t,{value:"product",children:"Product"}),e.jsx(t,{value:"show",children:"Live Show"}),e.jsx(t,{value:"order",children:"Order Issue"}),e.jsx(t,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"reportedItem",children:"Item ID or Username *"}),e.jsx(R,{id:"reportedItem",name:"reportedItem",value:r.reportedItem,onChange:p,placeholder:"Enter the username, product ID, or order number",required:!0,"data-testid":"input-reported-item"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"reason",children:"Reason for Report *"}),e.jsxs(f,{name:"reason",value:r.reason,onValueChange:s=>u("reason",s),required:!0,children:[e.jsx(v,{"data-testid":"select-reason",children:e.jsx(g,{placeholder:"Select a reason"})}),e.jsxs(b,{children:[e.jsx(t,{value:"spam",children:"Spam or Scam"}),e.jsx(t,{value:"harassment",children:"Harassment or Bullying"}),e.jsx(t,{value:"inappropriate",children:"Inappropriate Content"}),e.jsx(t,{value:"counterfeit",children:"Counterfeit Products"}),e.jsx(t,{value:"fraud",children:"Fraud or Deception"}),e.jsx(t,{value:"violence",children:"Violence or Threats"}),e.jsx(t,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description *"}),e.jsx(P,{id:"description",name:"description",value:r.description,onChange:p,placeholder:"Please provide details about why you're reporting this...",rows:6,required:!0,"data-testid":"input-description"})]}),e.jsxs(D,{type:"submit",disabled:c||!r.reportType||!r.reportedItem||!r.reason||!r.description,className:"w-full","data-testid":"button-submit-report",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),c?"Submitting...":"Submit Report"]})]})})]}),e.jsxs(h,{className:"bg-muted/50",children:[e.jsx(x,{children:e.jsx(j,{className:"text-base",children:"Important Information"})}),e.jsxs(y,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Reports are reviewed by our team within 24-48 hours"}),e.jsx("p",{children:"• False or malicious reports may result in account restrictions"}),e.jsx("p",{children:"• We take all reports seriously and may take action including content removal or account suspension"}),e.jsx("p",{children:"• For urgent safety concerns, please contact us immediately through our support channels"})]})]})]})]})})})}export{G as default};
