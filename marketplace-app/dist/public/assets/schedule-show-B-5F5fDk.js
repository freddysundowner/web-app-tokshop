import{u as he,f as ue,a as me,r as S,j as e,B as I,I as U,X as xe,l as ge,q as W,M as je,N as w,b2 as Q,b3 as q}from"./index-FVTY5sKH.js";import{u as fe,F as ye,a as d,b as r,f as o,c as i,g as f,d as m,t as be}from"./form-CqTjZ3qa.js";import{u as z}from"./useQuery-DsZx8GVA.js";import{T as we}from"./textarea-CeR6uy7m.js";import{S as X,a as Z,b as ee,c as se,d as _}from"./select-D3ZFUKhx.js";import{S as L}from"./switch-B5JTowSg.js";import{C as P,a as k,d as A,c as T,b as E}from"./card-CF4CqaN2.js";import{R as H,a as y}from"./radio-group-UroE5lc1.js";import{a as ve}from"./upload-images-DI0qo6Eh.js";import{A as Ne}from"./arrow-left-C3R-C2jj.js";import{C as te}from"./chevron-up-D8QnUA5s.js";import{C as ae}from"./chevron-down-BD1mluAZ.js";import{U as Ce}from"./upload-tXxaR6JU.js";import"./index-BdQq_4o_.js";import"./index-BaZiuLT8.js";import"./index-Cbw5mxKQ.js";import"./check-DWjWNqF1.js";import"./index-CoWBA0E_.js";import"./circle-tm_CQXKA.js";const Se=je({title:w().min(1,"Show title is required"),scheduledAt:w().min(1,"Date and time is required"),category:w().min(1,"Category is required"),description:w().optional(),thumbnail:w().optional(),freePickup:q().default(!1),uspsPriorityMail:q().default(!0),uspsGroundAdvantage:q().default(!0),shippingProfile:w().optional(),shippingCoverage:Q(["seller_pays_all","buyer_pays_up_to","buyer_pays_all"]),maxBuyerPays:w().optional(),roomType:Q(["public","private"]),explicitContent:q().default(!1),repeatShow:Q(["none","daily","weekly","monthly"]),repeatCount:w().optional()});function Qe(){const[,B]=he(),{toast:C}=ue(),{user:c}=me(),[J,M]=S.useState(null),[G,Y]=S.useState(!1),[R,re]=S.useState(!1),[$,ie]=S.useState(!1),v=new URLSearchParams(window.location.search).get("edit"),N=!!v,{data:l,isLoading:_e}=z({queryKey:["/api/rooms",v],queryFn:async()=>{if(!v)return null;const s=await fetch(`/api/rooms/${v}`);if(!s.ok)throw new Error("Failed to fetch show");return s.json()},enabled:N}),{data:p,isLoading:D}=z({queryKey:["/api/categories"],queryFn:async()=>{const s=await fetch("/api/categories?status=active&page=1&limit=100");if(!s.ok)throw new Error("Failed to fetch categories");return s.json()}}),O=S.useMemo(()=>{if(!(p!=null&&p.categories))return[];const s=[];return p.categories.forEach(a=>{s.push(a),a.subCategories&&Array.isArray(a.subCategories)&&a.subCategories.length>0&&s.push(...a.subCategories)}),console.log("ðŸ“¦ Flattened categories:",s.map(a=>({id:a._id,name:a.name}))),s},[p]),{data:V,isLoading:K}=z({queryKey:["external-shipping-profiles",c==null?void 0:c.id],queryFn:async()=>{if(!(c!=null&&c.id))throw new Error("User ID required");const s=await fetch(`/api/shipping/profiles/${c.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch shipping profiles: ${s.status}`);return s.json()},enabled:!!(c!=null&&c.id)}),t=fe({resolver:be(Se),defaultValues:{title:"",scheduledAt:"",category:"",description:"",freePickup:!1,uspsPriorityMail:!0,uspsGroundAdvantage:!0,shippingProfile:"",shippingCoverage:"buyer_pays_all",maxBuyerPays:"",roomType:"public",explicitContent:!1,repeatShow:"none",repeatCount:""}});S.useEffect(()=>{var s,a,h;if(l&&N&&!D&&!K){console.log("ðŸ“ Populating form with show data:",l),console.log("ðŸ“¦ Categories loaded:",(s=p==null?void 0:p.categories)==null?void 0:s.length),console.log("ðŸ“¦ Shipping profiles loaded:",V==null?void 0:V.length);const j=new Date(l.date).toISOString().slice(0,16),n=l.shipping_settings||{};console.log("ðŸšš Shipping settings from API:",n);let x="buyer_pays_all";n.shippingCostMode?x=n.shippingCostMode:n.seller_pays?x="seller_pays_all":n.reducedShippingCapAmount>0&&(x="buyer_pays_up_to"),console.log("ðŸšš Calculated shipping coverage:",x);const u=typeof l.category=="object"?((a=l.category)==null?void 0:a._id)||((h=l.category)==null?void 0:h.id)||"":l.category||"";console.log("ðŸ“Œ Category value:",{raw:l.category,extracted:u}),console.log("ðŸ“Œ Available categories:",O.map(b=>({id:b._id,name:b.name})));const F=O.some(b=>b._id===u);console.log("ðŸ“Œ Category exists in list?",F),setTimeout(()=>{t.setValue("title",l.title||""),t.setValue("scheduledAt",j),t.setValue("category",u),console.log('ðŸ“Œ After setValue, form.getValues("category"):',t.getValues("category")),t.setValue("description",l.description||""),t.setValue("freePickup",!!n.freePickupEnabled),t.setValue("uspsPriorityMail",!!n.priorityMailEnabled),t.setValue("uspsGroundAdvantage",!!n.groundAdvantageEnabled),t.setValue("shippingProfile",n.shippingProfile||""),console.log("ðŸšš Set shipping values:",{freePickup:!!n.freePickupEnabled,uspsPriorityMail:!!n.priorityMailEnabled,uspsGroundAdvantage:!!n.groundAdvantageEnabled,shippingProfile:n.shippingProfile}),t.setValue("shippingCoverage",x),t.setValue("maxBuyerPays",n.reducedShippingCapAmount?String(n.reducedShippingCapAmount):""),t.setValue("roomType",l.roomType||"public"),t.setValue("explicitContent",l.explicit_content||!1),t.setValue("repeatShow",l.repeat||"none"),t.setValue("repeatCount",l.repeat_count?String(l.repeat_count):""),l.thumbnail&&(t.setValue("thumbnail",l.thumbnail),M(l.thumbnail)),console.log("âœ… Form values set with category:",u)},100)}},[l,N,t,D,K,O,V]);const oe=async s=>{var h;const a=(h=s.target.files)==null?void 0:h[0];if(a)try{Y(!0);const g=new FileReader;g.onloadend=()=>{M(g.result)},g.readAsDataURL(a);const j=v||`show_${Date.now()}`,n=await ve(a,j);t.setValue("thumbnail",n),console.log("ðŸ“¸ Image uploaded to Firebase:",n),C({title:"Image Uploaded",description:"Thumbnail uploaded successfully!"})}catch(g){console.error("Error uploading image:",g),C({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"}),M(null),t.setValue("thumbnail","")}finally{Y(!1)}},le=()=>{M(null),t.setValue("thumbnail","")},ne=async s=>{try{if(!(c!=null&&c.id)){C({title:"Authentication Required",description:"Please log in to schedule a show.",variant:"destructive"});return}const h=new Date(s.scheduledAt).getTime(),g=s.maxBuyerPays?parseFloat(s.maxBuyerPays):0;let j=s.shippingCoverage;g>0&&(j="buyer_pays_up_to");const n={priorityMailEnabled:s.uspsPriorityMail,groundAdvantageEnabled:s.uspsGroundAdvantage,shippingCostMode:j,reducedShippingCapAmount:g,buyer_pays:j==="buyer_pays_all"||j==="buyer_pays_up_to",seller_pays:j==="seller_pays_all",freePickupEnabled:s.freePickup,shippingProfile:s.shippingProfile||null},x={title:s.title,roomType:s.roomType,userId:c.id,category:s.category,activeTime:Date.now(),status:!0,repeat:s.repeatShow,repeat_count:s.repeatCount?parseInt(s.repeatCount):0,date:h,shipping_settings:n,explicit_content:s.explicitContent,description:s.description||"",thumbnail:s.thumbnail||""};if(N&&v){console.log("Updating show with data:",x);const u=await fetch(`/api/rooms/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!u.ok){const b=await u.json();throw new Error(b.error||"Failed to update show")}const F=await u.json();console.log("Show updated successfully:",F),await W.invalidateQueries({queryKey:["/api/rooms"]}),C({title:"Show Updated Successfully",description:`Your show "${s.title}" has been updated.`})}else{console.log("Creating show with data:",x);const u=await fetch("/api/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!u.ok){const b=await u.json();throw new Error(b.error||"Failed to create show")}const F=await u.json();console.log("Show created successfully:",F),await W.invalidateQueries({queryKey:["/api/rooms"]}),C({title:"Show Scheduled Successfully",description:`Your show "${s.title}" has been scheduled.`})}B("/live-shows")}catch(a){console.error("Error creating show:",a),C({title:"Failed to Schedule Show",description:a instanceof Error?a.message:"An error occurred",variant:"destructive"})}},de=t.watch("shippingCoverage"),ce=t.watch("repeatShow"),pe=V||[];return e.jsxs("div",{className:"h-full flex flex-col bg-background",children:[e.jsx("div",{className:"border-b border-border bg-background px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx(I,{variant:"ghost",size:"icon",onClick:()=>B("/live-shows"),"data-testid":"button-back",children:e.jsx(Ne,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground","data-testid":"text-schedule-show-title",children:N?"Edit Show":"Schedule a Show"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:N?"Update your show details and settings":"Set up your live selling show with shipping and content settings"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto px-4 sm:px-6 py-4 sm:py-6",children:e.jsx("div",{className:"w-full max-w-7xl mx-auto",children:e.jsx(ye,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(ne),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"Basic Information"}),e.jsx(T,{children:"Core details about your show"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"title",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:"Show Title *"}),e.jsx(i,{children:e.jsx(U,{placeholder:"e.g., $100 in giveaways. $1 pre-loved Lululemon",...s,"data-testid":"input-show-title"})}),e.jsx(f,{children:"Make it descriptive to tell viewers what you're selling"}),e.jsx(m,{})]})}),e.jsx(d,{control:t.control,name:"scheduledAt",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:"Date & Time *"}),e.jsx(i,{children:e.jsx(U,{type:"datetime-local",...s,"data-testid":"input-scheduled-at"})}),e.jsx(f,{children:"Schedule 1 week in advance for maximum bookmarks"}),e.jsx(m,{})]})}),e.jsx(d,{control:t.control,name:"category",render:({field:s})=>(console.log("ðŸŽ¯ Category field.value:",s.value),e.jsxs(r,{children:[e.jsx(o,{children:"Category *"}),e.jsxs(X,{onValueChange:s.onChange,value:s.value,children:[e.jsx(i,{children:e.jsx(Z,{"data-testid":"select-category",children:e.jsx(ee,{placeholder:D?"Loading categories...":"Select a category"})})}),e.jsx(se,{children:D?e.jsx(_,{value:"loading",disabled:!0,children:"Loading..."}):p!=null&&p.categories&&p.categories.length>0?e.jsx(e.Fragment,{children:p.categories.map(a=>[e.jsx(_,{value:a._id||a.id,className:"font-semibold",children:a.name},a._id||a.id),...a.subCategories&&a.subCategories.length>0?a.subCategories.map(h=>e.jsxs(_,{value:h._id||h.id,className:"pl-6",children:["â†³ ",h.name]},h._id||h.id)):[]])}):e.jsx(_,{value:"none",disabled:!0,children:"No categories available"})})]}),e.jsx(f,{children:"Helps buyers discover your show"}),e.jsx(m,{})]}))})]})]}),e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"Shipping Settings"}),e.jsx(T,{children:"Adjust your defaults for domestic shipments, shipping costs, and local pickup for this show"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"shippingProfile",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:"Shipping Profile"}),e.jsxs(X,{onValueChange:s.onChange,value:s.value,disabled:K,"data-testid":"select-shipping-profile",children:[e.jsx(i,{children:e.jsx(Z,{children:e.jsx(ee,{placeholder:"Select shipping profile"})})}),e.jsxs(se,{position:"popper",children:[e.jsx(_,{value:"skip",children:"No Shipping Profile"}),pe.map(a=>e.jsx(_,{value:a._id,children:a.name},a._id))]})]}),e.jsx(m,{})]})}),e.jsx(d,{control:t.control,name:"freePickup",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(o,{className:"text-base",children:"Free pickup"})}),e.jsx(i,{children:e.jsx(L,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-free-pickup"})})]})}),e.jsxs("div",{className:"rounded-lg border border-border",children:[e.jsxs("button",{type:"button",onClick:()=>re(!R),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors","data-testid":"button-domestic-shipments",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Domestic Shipments"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All orders falling outside of your shipping preferences will default to USPS Ground Advantage. Eligible sellers will default to Media Mail shipping."})]}),R?e.jsx(te,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"}):e.jsx(ae,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"})]}),R&&e.jsxs("div",{className:"p-4 pt-0 border-t border-border space-y-3",children:[e.jsx(d,{control:t.control,name:"uspsPriorityMail",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{className:"text-base font-semibold",children:"USPS Priority Mail"}),e.jsx(f,{className:"text-xs",children:"Arrives in 1-3 business days. Best for time-sensitive shipments."})]}),e.jsx(i,{children:e.jsx(L,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-usps-priority"})})]})}),e.jsx(d,{control:t.control,name:"uspsGroundAdvantage",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{className:"text-base font-semibold",children:"USPS Ground Advantage"}),e.jsx(f,{className:"text-xs",children:"Best for shipping heavier items that aren't time-sensitive."})]}),e.jsx(i,{children:e.jsx(L,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-usps-ground"})})]})})]})]}),e.jsxs("div",{className:"rounded-lg border border-border",children:[e.jsxs("button",{type:"button",onClick:()=>ie(!$),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors","data-testid":"button-shipping-costs",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Shipping Costs"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Costs calculated based on buyer's location and shipment weight. Only applies to shipments within the contiguous U.S."})]}),$?e.jsx(te,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"}):e.jsx(ae,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"})]}),$&&e.jsx("div",{className:"p-4 pt-0 border-t border-border",children:e.jsx(d,{control:t.control,name:"shippingCoverage",render:({field:s})=>e.jsxs(r,{className:"space-y-3",children:[e.jsx(i,{children:e.jsxs(H,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-3",children:[e.jsx(r,{className:"flex flex-col space-y-2 rounded-lg border border-border p-3",children:e.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"seller_pays_all","data-testid":"radio-seller-pays-all",className:"mt-1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(o,{className:"font-semibold cursor-pointer",children:"Seller pays all shipping costs"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This only applies to domestic orders. Buyers have to pay for shipping on international orders."})]})]})}),e.jsxs(r,{className:"flex flex-col space-y-2 rounded-lg border border-border p-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"buyer_pays_up_to","data-testid":"radio-buyer-pays-up-to",className:"mt-1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(o,{className:"font-semibold cursor-pointer",children:"Buyer pays up to a set shipping cost"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set a maximum shipping cost buyers will pay for unlimited orders within your show."})]})]}),de==="buyer_pays_up_to"&&e.jsx("div",{className:"ml-9 mt-2",children:e.jsx(d,{control:t.control,name:"maxBuyerPays",render:({field:a})=>e.jsxs(r,{children:[e.jsx(o,{className:"text-sm",children:"Amount"}),e.jsx(i,{children:e.jsx(U,{type:"number",step:"0.01",placeholder:"e.g., 9.21",...a,"data-testid":"input-max-buyer-pays",className:"max-w-[200px]"})}),e.jsx(m,{})]})})})]}),e.jsx(r,{className:"flex flex-col space-y-2 rounded-lg border border-border p-3",children:e.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"buyer_pays_all","data-testid":"radio-buyer-pays-all",className:"mt-1"})}),e.jsx("div",{className:"flex-1",children:e.jsx(o,{className:"font-semibold cursor-pointer",children:"Buyer pays all shipping costs"})})]})})]})}),e.jsx(m,{})]})})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"Thumbnail/Cover Photo"}),e.jsx(T,{children:"Upload an eye-catching image or video"})]}),e.jsx(E,{children:e.jsx(d,{control:t.control,name:"thumbnail",render:({field:s})=>e.jsxs(r,{children:[e.jsx(i,{children:e.jsx("div",{className:"space-y-4",children:J?e.jsxs("div",{className:"relative w-full max-w-[180px]",children:[e.jsx("img",{src:J,alt:"Thumbnail preview",className:"w-full aspect-[9/16] object-cover rounded-lg border border-border"}),e.jsx(I,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:le,"data-testid":"button-remove-thumbnail",children:e.jsx(xe,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[e.jsx(Ce,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx(ge,{htmlFor:"thumbnail-upload",className:`cursor-pointer text-primary hover:underline ${G?"opacity-50 pointer-events-none":""}`,children:G?"Uploading to Firebase...":"Click to upload thumbnail"}),e.jsx(U,{id:"thumbnail-upload",type:"file",accept:"image/*,video/*",onChange:oe,className:"hidden","data-testid":"input-thumbnail",disabled:G}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Recommended: 1080x1920px (9:16 ratio)"})]})})}),e.jsx(f,{children:"Video thumbnails enable Instagram sharing"}),e.jsx(m,{})]})})})]}),e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"Description"}),e.jsx(T,{children:"Add more details about your show"})]}),e.jsx(E,{children:e.jsx(d,{control:t.control,name:"description",render:({field:s})=>e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(we,{placeholder:"Add more details about what you'll be selling...",...s,className:"min-h-[200px]","data-testid":"textarea-description"})}),e.jsx(m,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"Content Settings"}),e.jsx(T,{children:"Control show visibility and moderation"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"roomType",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:"Room Type *"}),e.jsx(i,{children:e.jsxs(H,{onValueChange:s.onChange,value:s.value,className:"flex flex-col space-y-2",children:[e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"public","data-testid":"radio-public"})}),e.jsx(o,{className:"font-normal cursor-pointer",children:"Public - Visible to everyone"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"private","data-testid":"radio-private"})}),e.jsx(o,{className:"font-normal cursor-pointer",children:"Private - Only accessible via share link (no notifications)"})]})]})}),e.jsx(f,{children:"Use private mode for test shows or practice runs"}),e.jsx(m,{})]})}),e.jsx(d,{control:t.control,name:"explicitContent",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(o,{className:"text-base",children:"Explicit Content"}),e.jsx(f,{children:"Toggle if strong language will be used"})]}),e.jsx(i,{children:e.jsx(L,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-explicit-content"})})]})})]})]}),e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(A,{children:"Repeat Settings"}),e.jsx(T,{children:"Schedule recurring shows"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"repeatShow",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:"Repeat Frequency *"}),e.jsx(i,{children:e.jsxs(H,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"none","data-testid":"radio-none"})}),e.jsx(o,{className:"font-normal cursor-pointer",children:"No repeat (one-time show)"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"daily","data-testid":"radio-daily"})}),e.jsx(o,{className:"font-normal cursor-pointer",children:"Daily"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"weekly","data-testid":"radio-weekly"})}),e.jsx(o,{className:"font-normal cursor-pointer",children:"Weekly"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(i,{children:e.jsx(y,{value:"monthly","data-testid":"radio-monthly"})}),e.jsx(o,{className:"font-normal cursor-pointer",children:"Monthly"})]})]})}),e.jsx(m,{})]})}),ce!=="none"&&e.jsx(d,{control:t.control,name:"repeatCount",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:"Number of Occurrences"}),e.jsx(i,{children:e.jsx(U,{type:"number",placeholder:"e.g., 4",...s,"data-testid":"input-repeat-count"})}),e.jsx(f,{children:"Leave empty to repeat indefinitely"}),e.jsx(m,{})]})})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 sm:gap-4 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>B("/live-shows"),"data-testid":"button-cancel",className:"w-full sm:w-auto",children:"Cancel"}),e.jsx(I,{type:"submit","data-testid":"button-schedule",className:"w-full sm:w-auto",children:N?"Update Show":"Schedule Show"})]})]})})})})]})}export{Qe as default};
