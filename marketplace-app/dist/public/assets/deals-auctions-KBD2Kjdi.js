import{O as c,r as n,q as o,j as e,L as i,B as r,m as d}from"./index-FVTY5sKH.js";import{u as m}from"./useQuery-DsZx8GVA.js";import{A as u}from"./auction-card-D137QEZZ.js";import{A as x}from"./arrow-left-C3R-C2jj.js";import"./card-CF4CqaN2.js";import"./badge-BTf7a5Ku.js";import"./package-dXPzRBiL.js";import"./clock-BQ-aHkQg.js";import"./circle-check-big-btKq8keq.js";function A(){c("All Auctions"),n.useEffect(()=>{o.invalidateQueries({queryKey:["/api/products","all","auction"]})},[]);const{data:a,isLoading:l}=m({queryKey:["/api/products","all","auction"],queryFn:async()=>{const s=new URLSearchParams({saletype:"auction",status:"active",limit:"100",sortBy:"views",featured:"true",type:"scheduled"});return(await fetch(`/api/products?${s.toString()}`)).json()}}),t=(a==null?void 0:a.products)||[];return e.jsx("div",{className:"flex flex-col min-h-screen bg-background","data-testid":"page-deals-auctions",children:e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"w-full lg:w-[90%] px-4 md:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(i,{href:"/deals",children:e.jsx(r,{variant:"ghost",size:"icon","data-testid":"button-back",children:e.jsx(x,{className:"h-5 w-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"All Auctions"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t.length," ",t.length===1?"auction":"auctions"," available"]})]})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(d,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No auctions available"}),e.jsx(i,{href:"/deals",children:e.jsx(r,{variant:"outline",children:"Back to Deals"})})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4 md:gap-6",children:t.map(s=>e.jsx(u,{auction:s},s._id||s.id))})]})})})})}export{A as default};
