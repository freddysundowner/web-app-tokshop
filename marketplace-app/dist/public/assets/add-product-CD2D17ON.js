import{u as n,a as c,f as d,j as t,B as m,q as p,n as u}from"./index-FVTY5sKH.js";import{u as l}from"./useMutation-DKG1zDtN.js";import{I as x}from"./inventory-product-form-DHaSYoPD.js";import{A as y}from"./arrow-left-C3R-C2jj.js";import"./form-CqTjZ3qa.js";import"./useQuery-DsZx8GVA.js";import"./card-CF4CqaN2.js";import"./textarea-CeR6uy7m.js";import"./select-D3ZFUKhx.js";import"./index-BdQq_4o_.js";import"./index-BaZiuLT8.js";import"./index-Cbw5mxKQ.js";import"./chevron-down-BD1mluAZ.js";import"./check-DWjWNqF1.js";import"./chevron-up-D8QnUA5s.js";import"./badge-BTf7a5Ku.js";import"./scroll-area-BXmfGVKf.js";import"./dialog-A2pFZcsY.js";import"./radio-group-UroE5lc1.js";import"./index-CoWBA0E_.js";import"./circle-tm_CQXKA.js";import"./image-D492slPc.js";import"./upload-tXxaR6JU.js";import"./search-zDcbIzzp.js";import"./save-DQ6UIs6d.js";function $(){const[,o]=n(),{user:s}=c(),{toast:r}=d(),i=l({mutationFn:async e=>{const a=e.listingType==="giveaway"?"/api/giveaways":`/api/products/${s==null?void 0:s.id}`;return(await u("POST",a,e)).json()},onSuccess:()=>{p.invalidateQueries({queryKey:["external-products"]}),r({title:"Product Created",description:"Your product has been created successfully."}),o("/inventory")},onError:e=>{r({title:"Failed to Create Product",description:e.message,variant:"destructive"})}});return t.jsxs("div",{className:"space-y-6","data-testid":"page-add-product",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs(m,{variant:"outline",onClick:()=>o("/inventory"),"data-testid":"button-back-to-inventory",className:"w-full sm:w-auto",children:[t.jsx(y,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"sm:inline",children:"Back to Inventory"})]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground","data-testid":"text-page-title",children:"Add New Product"}),t.jsx("p",{className:"text-sm sm:text-base text-muted-foreground","data-testid":"text-page-description",children:"Create a new product for your inventory"})]})]}),t.jsx(x,{mode:"create",onSubmit:e=>i.mutate(e),onCancel:()=>o("/inventory"),isPending:i.isPending})]})}export{$ as default};
