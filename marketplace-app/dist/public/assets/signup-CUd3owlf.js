import{b as L,r as p,f as M,a as U,u as B,Y as w,j as e,B as u,I as i,L as D}from"./index-FVTY5sKH.js";import{u as O,F as V,a as r,b as o,c as n,d as l,t as R}from"./form-CqTjZ3qa.js";import{C as T,a as K,b as W}from"./card-CF4CqaN2.js";import{S as H,a as J,b as Y,c as Z,d as $}from"./select-D3ZFUKhx.js";import{A as q,a as Q}from"./alert-_3QEPDXW.js";import{S as X}from"./separator-QabP-acS.js";import{C as _,A as ee,E as y}from"./eye-off-BQUxFnnq.js";import{M as te}from"./mail-CxzT5chc.js";import{U as g}from"./user-DBElIW39.js";import{P as se}from"./phone-BQAxbi5Q.js";import{G as ae}from"./globe-DqUT5fHj.js";import{E as v}from"./eye-BQkOkbVm.js";import"./index-BdQq_4o_.js";import"./index-BaZiuLT8.js";import"./index-Cbw5mxKQ.js";import"./chevron-down-BD1mluAZ.js";import"./check-DWjWNqF1.js";import"./chevron-up-D8QnUA5s.js";const re=["United States","Canada","United Kingdom","Australia","Germany","France","Italy","Spain","Netherlands","Sweden","Norway","Denmark","Finland","Belgium","Switzerland","Austria","Japan","South Korea","Singapore","New Zealand","Ireland","Portugal","Poland","Czech Republic","Brazil","Mexico","Argentina","Chile","Colombia","India","Other"].sort();function Se(){const{settings:oe}=L(),[x,S]=p.useState(!1),[h,C]=p.useState(!1),[f,d]=p.useState(""),[j,c]=p.useState(!1),{toast:m}=M(),{emailSignup:P,loginWithGoogle:k,loginWithApple:A}=U(),[,F]=B(),E=w.extend({confirmPassword:w.shape.password}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),a=O({resolver:R(E),defaultValues:{email:"",firstName:"",lastName:"",userName:"",phone:"",country:"",password:"",confirmPassword:""}}),z=async()=>{try{c(!0),d(""),await k()}catch(t){let s="Google signup failed";t.code==="auth/unauthorized-domain"?s="Domain not authorized for Firebase authentication. Please contact support.":t.code==="auth/popup-blocked"?s="Popup was blocked. Please allow popups and try again.":t.message&&(s=t.message),d(s),m({title:"Signup failed",description:s,variant:"destructive"})}finally{c(!1)}},G=async()=>{try{c(!0),d(""),await A()}catch(t){let s="Apple signup failed";t.code==="auth/unauthorized-domain"?s="Domain not authorized for Firebase authentication. Please contact support.":t.code==="auth/popup-blocked"?s="Popup was blocked. Please allow popups and try again.":t.message&&(s=t.message),d(s),m({title:"Signup failed",description:s,variant:"destructive"})}finally{c(!1)}},b=t=>{t==="Google"?z():t==="Apple"?G():m({title:"Coming Soon",description:`${t} signup will be available soon!`,variant:"default"})},I=async t=>{try{c(!0),d(""),await P(t.email,t.password,t.firstName,t.lastName,t.userName,t.phone||"",t.country),m({title:"Account created successfully!"}),F("/")}catch(s){const N=s instanceof Error?s.message:"Signup failed";d(N),m({title:"Signup failed",description:N,variant:"destructive"})}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 sm:px-6 md:px-8 pt-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("div",{className:"space-y-2",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold",children:[e.jsx("span",{className:"text-primary",children:"Shop Live."}),e.jsx("br",{}),e.jsx("span",{className:"text-accent",children:"Stream. Sell. Connect."})]})})}),e.jsxs(T,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsx(K,{className:"pb-4",children:e.jsx("div",{className:"text-center mb-4",children:e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Create your account"})})}),e.jsxs(W,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(u,{type:"button",variant:"outline",className:"w-full !bg-white hover:!bg-gray-50 !text-gray-900 !border-gray-300 dark:!bg-white dark:hover:!bg-gray-100 dark:!text-gray-900",onClick:()=>b("Google"),"data-testid":"button-google-signup",children:[e.jsx(_,{className:"h-4 w-4 mr-2 !text-gray-900"}),"Continue with Google"]}),e.jsxs(u,{type:"button",variant:"outline",className:"w-full bg-black hover:bg-gray-900 text-white border-gray-800",onClick:()=>b("Apple"),"data-testid":"button-apple-signup",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"my-4"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"px-3 bg-card text-muted-foreground text-sm",children:"or"})})]}),f&&e.jsx(q,{variant:"destructive",className:"mb-4","data-testid":"alert-signup-error",children:e.jsx(Q,{children:f})}),e.jsx(V,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(I),className:"space-y-4",children:[e.jsx(r,{control:a.control,name:"email",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"email",placeholder:"Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-email",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"firstName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"text",placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-firstname",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"lastName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"text",placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-lastname",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"userName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"text",placeholder:"Username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-username",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"phone",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"tel",placeholder:"Phone Number (Optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-phone",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"country",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs(H,{onValueChange:t.onChange,defaultValue:t.value,"data-testid":"select-country",children:[e.jsx(J,{className:"bg-input border-border text-foreground",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(Y,{placeholder:"Select your country"})]})}),e.jsx(Z,{children:re.map(s=>e.jsx($,{value:s,children:s},s))})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"password",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(i,{type:x?"text":"password",placeholder:"Password",className:"bg-input border-border text-foreground placeholder:text-muted-foreground pr-10","data-testid":"input-password",...t}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!x),"data-testid":"button-toggle-password",children:x?e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"confirmPassword",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(i,{type:h?"text":"password",placeholder:"Confirm Password",className:"bg-input border-border text-foreground placeholder:text-muted-foreground pr-10","data-testid":"input-confirm-password",...t}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!h),"data-testid":"button-toggle-confirm-password",children:h?e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(v,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(l,{})]})}),e.jsx(u,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium py-3 rounded-lg transition-all duration-200",disabled:j,"data-testid":"button-signup",children:j?"Creating account...":"Create Account"})]})}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Already have an account?"," ",e.jsx(D,{href:"/login",children:e.jsx("button",{className:"text-primary hover:text-primary/80 font-medium","data-testid":"link-login",children:"Sign in"})})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-muted-foreground text-sm",children:e.jsx("p",{children:"Need help? Contact our support team"})})]})]})}export{Se as default};
