var Ab=t=>{throw TypeError(t)};var Qp=(t,e,n)=>e.has(t)||Ab("Cannot "+n);var U=(t,e,n)=>(Qp(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?Ab("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ne=(t,e,n,r)=>(Qp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Je=(t,e,n)=>(Qp(t,e,"access private method"),n);var mh=(t,e,n,r)=>({set _(i){Ne(t,e,i,n)},get _(){return U(t,e,r)}});function $4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function M1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O1={exports:{}},Sm={},F1={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.element"),U4=Symbol.for("react.portal"),V4=Symbol.for("react.fragment"),z4=Symbol.for("react.strict_mode"),B4=Symbol.for("react.profiler"),W4=Symbol.for("react.provider"),H4=Symbol.for("react.context"),q4=Symbol.for("react.forward_ref"),K4=Symbol.for("react.suspense"),G4=Symbol.for("react.memo"),Y4=Symbol.for("react.lazy"),Ib=Symbol.iterator;function Q4(t){return t===null||typeof t!="object"?null:(t=Ib&&t[Ib]||t["@@iterator"],typeof t=="function"?t:null)}var L1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$1=Object.assign,U1={};function Ic(t,e,n){this.props=t,this.context=e,this.refs=U1,this.updater=n||L1}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V1(){}V1.prototype=Ic.prototype;function uy(t,e,n){this.props=t,this.context=e,this.refs=U1,this.updater=n||L1}var hy=uy.prototype=new V1;hy.constructor=uy;$1(hy,Ic.prototype);hy.isPureReactComponent=!0;var Rb=Array.isArray,z1=Object.prototype.hasOwnProperty,fy={current:null},B1={key:!0,ref:!0,__self:!0,__source:!0};function W1(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)z1.call(e,r)&&!B1.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pu,type:t,key:a,ref:o,props:i,_owner:fy.current}}function X4(t,e){return{$$typeof:Pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function my(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pu}function Z4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Db=/\/+/g;function Xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Z4(""+t.key):e.toString(36)}function Gh(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pu:case U4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Xp(o,0):r,Rb(i)?(n="",t!=null&&(n=t.replace(Db,"$&/")+"/"),Gh(i,e,n,"",function(d){return d})):i!=null&&(my(i)&&(i=X4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Db,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Rb(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Xp(a,l);o+=Gh(a,e,n,c,i)}else if(c=Q4(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Xp(a,l++),o+=Gh(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ph(t,e,n){if(t==null)return t;var r=[],i=0;return Gh(t,r,"","",function(a){return e.call(n,a,i++)}),r}function J4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},Yh={transition:null},eR={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Yh,ReactCurrentOwner:fy};function H1(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:ph,forEach:function(t,e,n){ph(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ph(t,function(){e++}),e},toArray:function(t){return ph(t,function(e){return e})||[]},only:function(t){if(!my(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Ic;st.Fragment=V4;st.Profiler=B4;st.PureComponent=uy;st.StrictMode=z4;st.Suspense=K4;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eR;st.act=H1;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$1({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)z1.call(e,c)&&!B1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Pu,type:t.type,key:i,ref:a,props:r,_owner:o}};st.createContext=function(t){return t={$$typeof:H4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:W4,_context:t},t.Consumer=t};st.createElement=W1;st.createFactory=function(t){var e=W1.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:q4,render:t}};st.isValidElement=my;st.lazy=function(t){return{$$typeof:Y4,_payload:{_status:-1,_result:t},_init:J4}};st.memo=function(t,e){return{$$typeof:G4,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=Yh.transition;Yh.transition={};try{t()}finally{Yh.transition=e}};st.unstable_act=H1;st.useCallback=function(t,e){return Bn.current.useCallback(t,e)};st.useContext=function(t){return Bn.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};st.useEffect=function(t,e){return Bn.current.useEffect(t,e)};st.useId=function(){return Bn.current.useId()};st.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Bn.current.useMemo(t,e)};st.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};st.useRef=function(t){return Bn.current.useRef(t)};st.useState=function(t){return Bn.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return Bn.current.useTransition()};st.version="18.3.1";F1.exports=st;var p=F1.exports;const Ee=M1(p),Cm=$4({__proto__:null,default:Ee},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=p,nR=Symbol.for("react.element"),sR=Symbol.for("react.fragment"),rR=Object.prototype.hasOwnProperty,iR=tR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aR={key:!0,ref:!0,__self:!0,__source:!0};function q1(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rR.call(e,r)&&!aR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nR,type:t,key:a,ref:o,props:i,_owner:iR.current}}Sm.Fragment=sR;Sm.jsx=q1;Sm.jsxs=q1;O1.exports=Sm;var s=O1.exports,K1={exports:{}},ys={},G1={exports:{}},Y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var oe=L.length;L.push(B);e:for(;0<oe;){var le=oe-1>>>1,W=L[le];if(0<i(W,B))L[le]=B,L[oe]=W,oe=le;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],oe=L.pop();if(oe!==B){L[0]=oe;e:for(var le=0,W=L.length,fe=W>>>1;le<fe;){var de=2*(le+1)-1,Ue=L[de],qe=de+1,ge=L[qe];if(0>i(Ue,oe))qe<W&&0>i(ge,Ue)?(L[le]=ge,L[qe]=oe,le=qe):(L[le]=Ue,L[de]=oe,le=de);else if(qe<W&&0>i(ge,oe))L[le]=ge,L[qe]=oe,le=qe;else break e}}return B}function i(L,B){var oe=L.sortIndex-B.sortIndex;return oe!==0?oe:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,g=null,m=3,w=!1,f=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=L)r(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(d)}}function y(L){if(x=!1,S(L),!f)if(n(c)!==null)f=!0,z(E);else{var B=n(d);B!==null&&V(y,B.startTime-L)}}function E(L,B){f=!1,x&&(x=!1,j(_),_=-1),w=!0;var oe=m;try{for(S(B),g=n(c);g!==null&&(!(g.expirationTime>B)||L&&!A());){var le=g.callback;if(typeof le=="function"){g.callback=null,m=g.priorityLevel;var W=le(g.expirationTime<=B);B=t.unstable_now(),typeof W=="function"?g.callback=W:g===n(c)&&r(c),S(B)}else r(c);g=n(c)}if(g!==null)var fe=!0;else{var de=n(d);de!==null&&V(y,de.startTime-B),fe=!1}return fe}finally{g=null,m=oe,w=!1}}var D=!1,k=null,_=-1,C=5,R=-1;function A(){return!(t.unstable_now()-R<C)}function T(){if(k!==null){var L=t.unstable_now();R=L;var B=!0;try{B=k(!0,L)}finally{B?I():(D=!1,k=null)}}else D=!1}var I;if(typeof v=="function")I=function(){v(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=T,I=function(){K.postMessage(null)}}else I=function(){N(T,0)};function z(L){k=L,D||(D=!0,I())}function V(L,B){_=N(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){f||w||(f=!0,z(E))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var oe=m;m=B;try{return L()}finally{m=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=m;m=L;try{return B()}finally{m=oe}},t.unstable_scheduleCallback=function(L,B,oe){var le=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?le+oe:le):oe=le,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=oe+W,L={id:h++,callback:B,priorityLevel:L,startTime:oe,expirationTime:W,sortIndex:-1},oe>le?(L.sortIndex=oe,e(d,L),n(c)===null&&L===n(d)&&(x?(j(_),_=-1):x=!0,V(y,oe-le))):(L.sortIndex=W,e(c,L),f||w||(f=!0,z(E))),L},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(L){var B=m;return function(){var oe=m;m=B;try{return L.apply(this,arguments)}finally{m=oe}}}})(Y1);G1.exports=Y1;var oR=G1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=p,ps=oR;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q1=new Set,Gd={};function Yo(t,e){dc(t,e),dc(t+"Capture",e)}function dc(t,e){for(Gd[t]=e,t=0;t<e.length;t++)Q1.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hx=Object.prototype.hasOwnProperty,cR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mb={},Ob={};function dR(t){return hx.call(Ob,t)?!0:hx.call(Mb,t)?!1:cR.test(t)?Ob[t]=!0:(Mb[t]=!0,!1)}function uR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hR(t,e,n,r){if(e===null||typeof e>"u"||uR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Sn[t]=new Wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Sn[e]=new Wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Sn[t]=new Wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Sn[t]=new Wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Sn[t]=new Wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Sn[t]=new Wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Sn[t]=new Wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Sn[t]=new Wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Sn[t]=new Wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function gy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(py,gy);Sn[e]=new Wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(py,gy);Sn[e]=new Wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(py,gy);Sn[e]=new Wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Sn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new Wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Sn[t]=new Wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xy(t,e,n,r){var i=Sn.hasOwnProperty(e)?Sn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hR(e,n,i,r)&&(n=null),r||i===null?dR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=lR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),mx=Symbol.for("react.suspense"),px=Symbol.for("react.suspense_list"),wy=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),J1=Symbol.for("react.offscreen"),Fb=Symbol.iterator;function dd(t){return t===null||typeof t!="object"?null:(t=Fb&&t[Fb]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,Zp;function Nd(t){if(Zp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zp=e&&e[1]||""}return`
`+Zp+t}var Jp=!1;function eg(t,e){if(!t||Jp)return"";Jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nd(t):""}function fR(t){switch(t.tag){case 5:return Nd(t.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return t=eg(t.type,!1),t;case 11:return t=eg(t.type.render,!1),t;case 1:return t=eg(t.type,!0),t;default:return""}}function gx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wl:return"Fragment";case yl:return"Portal";case fx:return"Profiler";case vy:return"StrictMode";case mx:return"Suspense";case px:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z1:return(t.displayName||"Context")+".Consumer";case X1:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wy:return e=t.displayName||null,e!==null?e:gx(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return gx(t(e))}catch{}}return null}function mR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gx(e);case 8:return e===vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ka(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pR(t){var e=eS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=pR(t))}function tS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xx(t,e){var n=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ka(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nS(t,e){e=e.checked,e!=null&&xy(t,"checked",e,!1)}function vx(t,e){nS(t,e);var n=ka(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yx(t,e.type,n):e.hasOwnProperty("defaultValue")&&yx(t,e.type,ka(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $b(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yx(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _d=Array.isArray;function Il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ka(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ub(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(_d(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ka(n)}}function sS(t,e){var n=ka(e.value),r=ka(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,iS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gR=["Webkit","ms","Moz","O"];Object.keys(Ad).forEach(function(t){gR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ad[e]=Ad[t]})});function aS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ad.hasOwnProperty(t)&&Ad[t]?(""+e).trim():e+"px"}function oS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xR=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bx(t,e){if(e){if(xR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Nx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _x=null;function jy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sx=null,Rl=null,Dl=null;function zb(t){if(t=Ru(t)){if(typeof Sx!="function")throw Error(he(280));var e=t.stateNode;e&&(e=Am(e),Sx(t.stateNode,t.type,e))}}function lS(t){Rl?Dl?Dl.push(t):Dl=[t]:Rl=t}function cS(){if(Rl){var t=Rl,e=Dl;if(Dl=Rl=null,zb(t),e)for(t=0;t<e.length;t++)zb(e[t])}}function dS(t,e){return t(e)}function uS(){}var tg=!1;function hS(t,e,n){if(tg)return t(e,n);tg=!0;try{return dS(t,e,n)}finally{tg=!1,(Rl!==null||Dl!==null)&&(uS(),cS())}}function Qd(t,e){var n=t.stateNode;if(n===null)return null;var r=Am(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Cx=!1;if(pi)try{var ud={};Object.defineProperty(ud,"passive",{get:function(){Cx=!0}}),window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{Cx=!1}function vR(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Id=!1,wf=null,jf=!1,kx=null,yR={onError:function(t){Id=!0,wf=t}};function wR(t,e,n,r,i,a,o,l,c){Id=!1,wf=null,vR.apply(yR,arguments)}function jR(t,e,n,r,i,a,o,l,c){if(wR.apply(this,arguments),Id){if(Id){var d=wf;Id=!1,wf=null}else throw Error(he(198));jf||(jf=!0,kx=d)}}function Qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bb(t){if(Qo(t)!==t)throw Error(he(188))}function bR(t){var e=t.alternate;if(!e){if(e=Qo(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Bb(i),t;if(a===r)return Bb(i),e;a=a.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function mS(t){return t=bR(t),t!==null?pS(t):null}function pS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pS(t);if(e!==null)return e;t=t.sibling}return null}var gS=ps.unstable_scheduleCallback,Wb=ps.unstable_cancelCallback,NR=ps.unstable_shouldYield,_R=ps.unstable_requestPaint,Gt=ps.unstable_now,SR=ps.unstable_getCurrentPriorityLevel,by=ps.unstable_ImmediatePriority,xS=ps.unstable_UserBlockingPriority,bf=ps.unstable_NormalPriority,CR=ps.unstable_LowPriority,vS=ps.unstable_IdlePriority,km=null,Er=null;function kR(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var Ys=Math.clz32?Math.clz32:PR,ER=Math.log,TR=Math.LN2;function PR(t){return t>>>=0,t===0?32:31-(ER(t)/TR|0)|0}var yh=64,wh=4194304;function Sd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Sd(l):(a&=o,a!==0&&(r=Sd(a)))}else o=n&~i,o!==0?r=Sd(o):a!==0&&(r=Sd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ys(e),i=1<<n,r|=t[n],e&=~i;return r}function AR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Ys(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=AR(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Ex(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yS(){var t=yh;return yh<<=1,!(yh&4194240)&&(yh=64),t}function ng(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ys(e),t[e]=n}function RR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ys(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Ny(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ys(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Nt=0;function wS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jS,_y,bS,NS,_S,Tx=!1,jh=[],ua=null,ha=null,fa=null,Xd=new Map,Zd=new Map,Ki=[],DR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hb(t,e){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(e.pointerId)}}function hd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ru(e),e!==null&&_y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MR(t,e,n,r,i){switch(e){case"focusin":return ua=hd(ua,t,e,n,r,i),!0;case"dragenter":return ha=hd(ha,t,e,n,r,i),!0;case"mouseover":return fa=hd(fa,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Xd.set(a,hd(Xd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Zd.set(a,hd(Zd.get(a)||null,t,e,n,r,i)),!0}return!1}function SS(t){var e=co(t.target);if(e!==null){var n=Qo(e);if(n!==null){if(e=n.tag,e===13){if(e=fS(n),e!==null){t.blockedOn=e,_S(t.priority,function(){bS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Px(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_x=r,n.target.dispatchEvent(r),_x=null}else return e=Ru(n),e!==null&&_y(e),t.blockedOn=n,!1;e.shift()}return!0}function qb(t,e,n){Qh(t)&&n.delete(e)}function OR(){Tx=!1,ua!==null&&Qh(ua)&&(ua=null),ha!==null&&Qh(ha)&&(ha=null),fa!==null&&Qh(fa)&&(fa=null),Xd.forEach(qb),Zd.forEach(qb)}function fd(t,e){t.blockedOn===e&&(t.blockedOn=null,Tx||(Tx=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,OR)))}function Jd(t){function e(i){return fd(i,t)}if(0<jh.length){fd(jh[0],t);for(var n=1;n<jh.length;n++){var r=jh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ua!==null&&fd(ua,t),ha!==null&&fd(ha,t),fa!==null&&fd(fa,t),Xd.forEach(e),Zd.forEach(e),n=0;n<Ki.length;n++)r=Ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)SS(n),n.blockedOn===null&&Ki.shift()}var Ml=ki.ReactCurrentBatchConfig,_f=!0;function FR(t,e,n,r){var i=Nt,a=Ml.transition;Ml.transition=null;try{Nt=1,Sy(t,e,n,r)}finally{Nt=i,Ml.transition=a}}function LR(t,e,n,r){var i=Nt,a=Ml.transition;Ml.transition=null;try{Nt=4,Sy(t,e,n,r)}finally{Nt=i,Ml.transition=a}}function Sy(t,e,n,r){if(_f){var i=Px(t,e,n,r);if(i===null)hg(t,e,r,Sf,n),Hb(t,r);else if(MR(i,t,e,n,r))r.stopPropagation();else if(Hb(t,r),e&4&&-1<DR.indexOf(t)){for(;i!==null;){var a=Ru(i);if(a!==null&&jS(a),a=Px(t,e,n,r),a===null&&hg(t,e,r,Sf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else hg(t,e,r,null,n)}}var Sf=null;function Px(t,e,n,r){if(Sf=null,t=jy(r),t=co(t),t!==null)if(e=Qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sf=t,null}function CS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SR()){case by:return 1;case xS:return 4;case bf:case CR:return 16;case vS:return 536870912;default:return 16}default:return 16}}var la=null,Cy=null,Xh=null;function kS(){if(Xh)return Xh;var t,e=Cy,n=e.length,r,i="value"in la?la.value:la.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Xh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bh(){return!0}function Kb(){return!1}function ws(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bh:Kb,this.isPropagationStopped=Kb,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bh)},persist:function(){},isPersistent:bh}),e}var Rc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ky=ws(Rc),Iu=Ut({},Rc,{view:0,detail:0}),$R=ws(Iu),sg,rg,md,Em=Ut({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==md&&(md&&t.type==="mousemove"?(sg=t.screenX-md.screenX,rg=t.screenY-md.screenY):rg=sg=0,md=t),sg)},movementY:function(t){return"movementY"in t?t.movementY:rg}}),Gb=ws(Em),UR=Ut({},Em,{dataTransfer:0}),VR=ws(UR),zR=Ut({},Iu,{relatedTarget:0}),ig=ws(zR),BR=Ut({},Rc,{animationName:0,elapsedTime:0,pseudoElement:0}),WR=ws(BR),HR=Ut({},Rc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qR=ws(HR),KR=Ut({},Rc,{data:0}),Yb=ws(KR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QR[t])?!!e[t]:!1}function Ey(){return XR}var ZR=Ut({},Iu,{key:function(t){if(t.key){var e=GR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ey,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JR=ws(ZR),eD=Ut({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qb=ws(eD),tD=Ut({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ey}),nD=ws(tD),sD=Ut({},Rc,{propertyName:0,elapsedTime:0,pseudoElement:0}),rD=ws(sD),iD=Ut({},Em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aD=ws(iD),oD=[9,13,27,32],Ty=pi&&"CompositionEvent"in window,Rd=null;pi&&"documentMode"in document&&(Rd=document.documentMode);var lD=pi&&"TextEvent"in window&&!Rd,ES=pi&&(!Ty||Rd&&8<Rd&&11>=Rd),Xb=" ",Zb=!1;function TS(t,e){switch(t){case"keyup":return oD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jl=!1;function cD(t,e){switch(t){case"compositionend":return PS(e);case"keypress":return e.which!==32?null:(Zb=!0,Xb);case"textInput":return t=e.data,t===Xb&&Zb?null:t;default:return null}}function dD(t,e){if(jl)return t==="compositionend"||!Ty&&TS(t,e)?(t=kS(),Xh=Cy=la=null,jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ES&&e.locale!=="ko"?null:e.data;default:return null}}var uD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uD[t.type]:e==="textarea"}function AS(t,e,n,r){lS(r),e=Cf(e,"onChange"),0<e.length&&(n=new ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dd=null,eu=null;function hD(t){zS(t,0)}function Tm(t){var e=_l(t);if(tS(e))return t}function fD(t,e){if(t==="change")return e}var IS=!1;if(pi){var ag;if(pi){var og="oninput"in document;if(!og){var eN=document.createElement("div");eN.setAttribute("oninput","return;"),og=typeof eN.oninput=="function"}ag=og}else ag=!1;IS=ag&&(!document.documentMode||9<document.documentMode)}function tN(){Dd&&(Dd.detachEvent("onpropertychange",RS),eu=Dd=null)}function RS(t){if(t.propertyName==="value"&&Tm(eu)){var e=[];AS(e,eu,t,jy(t)),hS(hD,e)}}function mD(t,e,n){t==="focusin"?(tN(),Dd=e,eu=n,Dd.attachEvent("onpropertychange",RS)):t==="focusout"&&tN()}function pD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(eu)}function gD(t,e){if(t==="click")return Tm(e)}function xD(t,e){if(t==="input"||t==="change")return Tm(e)}function vD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:vD;function tu(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hx.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function nN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sN(t,e){var n=nN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nN(n)}}function DS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MS(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yD(t){var e=MS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DS(n.ownerDocument.documentElement,n)){if(r!==null&&Py(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=sN(n,a);var o=sN(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wD=pi&&"documentMode"in document&&11>=document.documentMode,bl=null,Ax=null,Md=null,Ix=!1;function rN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ix||bl==null||bl!==yf(r)||(r=bl,"selectionStart"in r&&Py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Md&&tu(Md,r)||(Md=r,r=Cf(Ax,"onSelect"),0<r.length&&(e=new ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bl)))}function Nh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nl={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},lg={},OS={};pi&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Pm(t){if(lg[t])return lg[t];if(!Nl[t])return t;var e=Nl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OS)return lg[t]=e[n];return t}var FS=Pm("animationend"),LS=Pm("animationiteration"),$S=Pm("animationstart"),US=Pm("transitionend"),VS=new Map,iN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $a(t,e){VS.set(t,e),Yo(e,[t])}for(var cg=0;cg<iN.length;cg++){var dg=iN[cg],jD=dg.toLowerCase(),bD=dg[0].toUpperCase()+dg.slice(1);$a(jD,"on"+bD)}$a(FS,"onAnimationEnd");$a(LS,"onAnimationIteration");$a($S,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(US,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ND=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cd));function aN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jR(r,e,void 0,t),t.currentTarget=null}function zS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;aN(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;aN(i,l,d),a=c}}}if(jf)throw t=kx,jf=!1,kx=null,t}function Dt(t,e){var n=e[Fx];n===void 0&&(n=e[Fx]=new Set);var r=t+"__bubble";n.has(r)||(BS(e,t,2,!1),n.add(r))}function ug(t,e,n){var r=0;e&&(r|=4),BS(n,t,r,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[_h]){t[_h]=!0,Q1.forEach(function(n){n!=="selectionchange"&&(ND.has(n)||ug(n,!1,t),ug(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,ug("selectionchange",!1,e))}}function BS(t,e,n,r){switch(CS(e)){case 1:var i=FR;break;case 4:i=LR;break;default:i=Sy}n=i.bind(null,e,n,t),i=void 0,!Cx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=co(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}hS(function(){var d=a,h=jy(n),g=[];e:{var m=VS.get(t);if(m!==void 0){var w=ky,f=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":w=JR;break;case"focusin":f="focus",w=ig;break;case"focusout":f="blur",w=ig;break;case"beforeblur":case"afterblur":w=ig;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=VR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=nD;break;case FS:case LS:case $S:w=WR;break;case US:w=rD;break;case"scroll":w=$R;break;case"wheel":w=aD;break;case"copy":case"cut":case"paste":w=qR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Qb}var x=(e&4)!==0,N=!x&&t==="scroll",j=x?m!==null?m+"Capture":null:m;x=[];for(var v=d,S;v!==null;){S=v;var y=S.stateNode;if(S.tag===5&&y!==null&&(S=y,j!==null&&(y=Qd(v,j),y!=null&&x.push(su(v,y,S)))),N)break;v=v.return}0<x.length&&(m=new w(m,f,null,n,h),g.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==_x&&(f=n.relatedTarget||n.fromElement)&&(co(f)||f[gi]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(f=n.relatedTarget||n.toElement,w=d,f=f?co(f):null,f!==null&&(N=Qo(f),f!==N||f.tag!==5&&f.tag!==6)&&(f=null)):(w=null,f=d),w!==f)){if(x=Gb,y="onMouseLeave",j="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=Qb,y="onPointerLeave",j="onPointerEnter",v="pointer"),N=w==null?m:_l(w),S=f==null?m:_l(f),m=new x(y,v+"leave",w,n,h),m.target=N,m.relatedTarget=S,y=null,co(h)===d&&(x=new x(j,v+"enter",f,n,h),x.target=S,x.relatedTarget=N,y=x),N=y,w&&f)t:{for(x=w,j=f,v=0,S=x;S;S=dl(S))v++;for(S=0,y=j;y;y=dl(y))S++;for(;0<v-S;)x=dl(x),v--;for(;0<S-v;)j=dl(j),S--;for(;v--;){if(x===j||j!==null&&x===j.alternate)break t;x=dl(x),j=dl(j)}x=null}else x=null;w!==null&&oN(g,m,w,x,!1),f!==null&&N!==null&&oN(g,N,f,x,!0)}}e:{if(m=d?_l(d):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var E=fD;else if(Jb(m))if(IS)E=xD;else{E=pD;var D=mD}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=gD);if(E&&(E=E(t,d))){AS(g,E,n,h);break e}D&&D(t,m,d),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&yx(m,"number",m.value)}switch(D=d?_l(d):window,t){case"focusin":(Jb(D)||D.contentEditable==="true")&&(bl=D,Ax=d,Md=null);break;case"focusout":Md=Ax=bl=null;break;case"mousedown":Ix=!0;break;case"contextmenu":case"mouseup":case"dragend":Ix=!1,rN(g,n,h);break;case"selectionchange":if(wD)break;case"keydown":case"keyup":rN(g,n,h)}var k;if(Ty)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jl?TS(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ES&&n.locale!=="ko"&&(jl||_!=="onCompositionStart"?_==="onCompositionEnd"&&jl&&(k=kS()):(la=h,Cy="value"in la?la.value:la.textContent,jl=!0)),D=Cf(d,_),0<D.length&&(_=new Yb(_,t,null,n,h),g.push({event:_,listeners:D}),k?_.data=k:(k=PS(n),k!==null&&(_.data=k)))),(k=lD?cD(t,n):dD(t,n))&&(d=Cf(d,"onBeforeInput"),0<d.length&&(h=new Yb("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:d}),h.data=k))}zS(g,e)})}function su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Qd(t,n),a!=null&&r.unshift(su(t,a,i)),a=Qd(t,e),a!=null&&r.push(su(t,a,i))),t=t.return}return r}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oN(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Qd(n,a),c!=null&&o.unshift(su(n,c,l))):i||(c=Qd(n,a),c!=null&&o.push(su(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _D=/\r\n?/g,SD=/\u0000|\uFFFD/g;function lN(t){return(typeof t=="string"?t:""+t).replace(_D,`
`).replace(SD,"")}function Sh(t,e,n){if(e=lN(e),lN(t)!==e&&n)throw Error(he(425))}function kf(){}var Rx=null,Dx=null;function Mx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ox=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,kD=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(t){return cN.resolve(null).then(t).catch(ED)}:Ox;function ED(t){setTimeout(function(){throw t})}function fg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jd(e)}function ma(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),wr="__reactFiber$"+Dc,ru="__reactProps$"+Dc,gi="__reactContainer$"+Dc,Fx="__reactEvents$"+Dc,TD="__reactListeners$"+Dc,PD="__reactHandles$"+Dc;function co(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gi]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dN(t);t!==null;){if(n=t[wr])return n;t=dN(t)}return e}t=n,n=t.parentNode}return null}function Ru(t){return t=t[wr]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _l(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function Am(t){return t[ru]||null}var Lx=[],Sl=-1;function Ua(t){return{current:t}}function Ot(t){0>Sl||(t.current=Lx[Sl],Lx[Sl]=null,Sl--)}function Pt(t,e){Sl++,Lx[Sl]=t.current,t.current=e}var Ea={},Pn=Ua(Ea),es=Ua(!1),Po=Ea;function uc(t,e){var n=t.type.contextTypes;if(!n)return Ea;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ts(t){return t=t.childContextTypes,t!=null}function Ef(){Ot(es),Ot(Pn)}function uN(t,e,n){if(Pn.current!==Ea)throw Error(he(168));Pt(Pn,e),Pt(es,n)}function WS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,mR(t)||"Unknown",i));return Ut({},n,r)}function Tf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,Po=Pn.current,Pt(Pn,t),Pt(es,es.current),!0}function hN(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=WS(t,e,Po),r.__reactInternalMemoizedMergedChildContext=t,Ot(es),Ot(Pn),Pt(Pn,t)):Ot(es),Pt(es,n)}var ei=null,Im=!1,mg=!1;function HS(t){ei===null?ei=[t]:ei.push(t)}function AD(t){Im=!0,HS(t)}function Va(){if(!mg&&ei!==null){mg=!0;var t=0,e=Nt;try{var n=ei;for(Nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,Im=!1}catch(i){throw ei!==null&&(ei=ei.slice(t+1)),gS(by,Va),i}finally{Nt=e,mg=!1}}return null}var Cl=[],kl=0,Pf=null,Af=0,_s=[],Ss=0,Ao=null,li=1,ci="";function to(t,e){Cl[kl++]=Af,Cl[kl++]=Pf,Pf=t,Af=e}function qS(t,e,n){_s[Ss++]=li,_s[Ss++]=ci,_s[Ss++]=Ao,Ao=t;var r=li;t=ci;var i=32-Ys(r)-1;r&=~(1<<i),n+=1;var a=32-Ys(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,li=1<<32-Ys(e)+i|n<<i|r,ci=a+t}else li=1<<a|n<<i|r,ci=t}function Ay(t){t.return!==null&&(to(t,1),qS(t,1,0))}function Iy(t){for(;t===Pf;)Pf=Cl[--kl],Cl[kl]=null,Af=Cl[--kl],Cl[kl]=null;for(;t===Ao;)Ao=_s[--Ss],_s[Ss]=null,ci=_s[--Ss],_s[Ss]=null,li=_s[--Ss],_s[Ss]=null}var hs=null,us=null,Ft=!1,Us=null;function KS(t,e){var n=ks(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hs=t,us=ma(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hs=t,us=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ks(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hs=t,us=null,!0):!1;default:return!1}}function $x(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ux(t){if(Ft){var e=us;if(e){var n=e;if(!fN(t,e)){if($x(t))throw Error(he(418));e=ma(n.nextSibling);var r=hs;e&&fN(t,e)?KS(r,n):(t.flags=t.flags&-4097|2,Ft=!1,hs=t)}}else{if($x(t))throw Error(he(418));t.flags=t.flags&-4097|2,Ft=!1,hs=t}}}function mN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hs=t}function Ch(t){if(t!==hs)return!1;if(!Ft)return mN(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mx(t.type,t.memoizedProps)),e&&(e=us)){if($x(t))throw GS(),Error(he(418));for(;e;)KS(t,e),e=ma(e.nextSibling)}if(mN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){us=ma(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}us=null}}else us=hs?ma(t.stateNode.nextSibling):null;return!0}function GS(){for(var t=us;t;)t=ma(t.nextSibling)}function hc(){us=hs=null,Ft=!1}function Ry(t){Us===null?Us=[t]:Us.push(t)}var ID=ki.ReactCurrentBatchConfig;function pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function kh(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pN(t){var e=t._init;return e(t._payload)}function YS(t){function e(j,v){if(t){var S=j.deletions;S===null?(j.deletions=[v],j.flags|=16):S.push(v)}}function n(j,v){if(!t)return null;for(;v!==null;)e(j,v),v=v.sibling;return null}function r(j,v){for(j=new Map;v!==null;)v.key!==null?j.set(v.key,v):j.set(v.index,v),v=v.sibling;return j}function i(j,v){return j=va(j,v),j.index=0,j.sibling=null,j}function a(j,v,S){return j.index=S,t?(S=j.alternate,S!==null?(S=S.index,S<v?(j.flags|=2,v):S):(j.flags|=2,v)):(j.flags|=1048576,v)}function o(j){return t&&j.alternate===null&&(j.flags|=2),j}function l(j,v,S,y){return v===null||v.tag!==6?(v=jg(S,j.mode,y),v.return=j,v):(v=i(v,S),v.return=j,v)}function c(j,v,S,y){var E=S.type;return E===wl?h(j,v,S.props.children,y,S.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wi&&pN(E)===v.type)?(y=i(v,S.props),y.ref=pd(j,v,S),y.return=j,y):(y=af(S.type,S.key,S.props,null,j.mode,y),y.ref=pd(j,v,S),y.return=j,y)}function d(j,v,S,y){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=bg(S,j.mode,y),v.return=j,v):(v=i(v,S.children||[]),v.return=j,v)}function h(j,v,S,y,E){return v===null||v.tag!==7?(v=ko(S,j.mode,y,E),v.return=j,v):(v=i(v,S),v.return=j,v)}function g(j,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jg(""+v,j.mode,S),v.return=j,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gh:return S=af(v.type,v.key,v.props,null,j.mode,S),S.ref=pd(j,null,v),S.return=j,S;case yl:return v=bg(v,j.mode,S),v.return=j,v;case Wi:var y=v._init;return g(j,y(v._payload),S)}if(_d(v)||dd(v))return v=ko(v,j.mode,S,null),v.return=j,v;kh(j,v)}return null}function m(j,v,S,y){var E=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:l(j,v,""+S,y);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gh:return S.key===E?c(j,v,S,y):null;case yl:return S.key===E?d(j,v,S,y):null;case Wi:return E=S._init,m(j,v,E(S._payload),y)}if(_d(S)||dd(S))return E!==null?null:h(j,v,S,y,null);kh(j,S)}return null}function w(j,v,S,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return j=j.get(S)||null,l(v,j,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gh:return j=j.get(y.key===null?S:y.key)||null,c(v,j,y,E);case yl:return j=j.get(y.key===null?S:y.key)||null,d(v,j,y,E);case Wi:var D=y._init;return w(j,v,S,D(y._payload),E)}if(_d(y)||dd(y))return j=j.get(S)||null,h(v,j,y,E,null);kh(v,y)}return null}function f(j,v,S,y){for(var E=null,D=null,k=v,_=v=0,C=null;k!==null&&_<S.length;_++){k.index>_?(C=k,k=null):C=k.sibling;var R=m(j,k,S[_],y);if(R===null){k===null&&(k=C);break}t&&k&&R.alternate===null&&e(j,k),v=a(R,v,_),D===null?E=R:D.sibling=R,D=R,k=C}if(_===S.length)return n(j,k),Ft&&to(j,_),E;if(k===null){for(;_<S.length;_++)k=g(j,S[_],y),k!==null&&(v=a(k,v,_),D===null?E=k:D.sibling=k,D=k);return Ft&&to(j,_),E}for(k=r(j,k);_<S.length;_++)C=w(k,j,_,S[_],y),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?_:C.key),v=a(C,v,_),D===null?E=C:D.sibling=C,D=C);return t&&k.forEach(function(A){return e(j,A)}),Ft&&to(j,_),E}function x(j,v,S,y){var E=dd(S);if(typeof E!="function")throw Error(he(150));if(S=E.call(S),S==null)throw Error(he(151));for(var D=E=null,k=v,_=v=0,C=null,R=S.next();k!==null&&!R.done;_++,R=S.next()){k.index>_?(C=k,k=null):C=k.sibling;var A=m(j,k,R.value,y);if(A===null){k===null&&(k=C);break}t&&k&&A.alternate===null&&e(j,k),v=a(A,v,_),D===null?E=A:D.sibling=A,D=A,k=C}if(R.done)return n(j,k),Ft&&to(j,_),E;if(k===null){for(;!R.done;_++,R=S.next())R=g(j,R.value,y),R!==null&&(v=a(R,v,_),D===null?E=R:D.sibling=R,D=R);return Ft&&to(j,_),E}for(k=r(j,k);!R.done;_++,R=S.next())R=w(k,j,_,R.value,y),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?_:R.key),v=a(R,v,_),D===null?E=R:D.sibling=R,D=R);return t&&k.forEach(function(T){return e(j,T)}),Ft&&to(j,_),E}function N(j,v,S,y){if(typeof S=="object"&&S!==null&&S.type===wl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gh:e:{for(var E=S.key,D=v;D!==null;){if(D.key===E){if(E=S.type,E===wl){if(D.tag===7){n(j,D.sibling),v=i(D,S.props.children),v.return=j,j=v;break e}}else if(D.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wi&&pN(E)===D.type){n(j,D.sibling),v=i(D,S.props),v.ref=pd(j,D,S),v.return=j,j=v;break e}n(j,D);break}else e(j,D);D=D.sibling}S.type===wl?(v=ko(S.props.children,j.mode,y,S.key),v.return=j,j=v):(y=af(S.type,S.key,S.props,null,j.mode,y),y.ref=pd(j,v,S),y.return=j,j=y)}return o(j);case yl:e:{for(D=S.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(j,v.sibling),v=i(v,S.children||[]),v.return=j,j=v;break e}else{n(j,v);break}else e(j,v);v=v.sibling}v=bg(S,j.mode,y),v.return=j,j=v}return o(j);case Wi:return D=S._init,N(j,v,D(S._payload),y)}if(_d(S))return f(j,v,S,y);if(dd(S))return x(j,v,S,y);kh(j,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(j,v.sibling),v=i(v,S),v.return=j,j=v):(n(j,v),v=jg(S,j.mode,y),v.return=j,j=v),o(j)):n(j,v)}return N}var fc=YS(!0),QS=YS(!1),If=Ua(null),Rf=null,El=null,Dy=null;function My(){Dy=El=Rf=null}function Oy(t){var e=If.current;Ot(If),t._currentValue=e}function Vx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ol(t,e){Rf=t,Dy=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xn=!0),t.firstContext=null)}function Ps(t){var e=t._currentValue;if(Dy!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(Rf===null)throw Error(he(308));El=t,Rf.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var uo=null;function Fy(t){uo===null?uo=[t]:uo.push(t)}function XS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fy(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hi=!1;function Ly(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,Fy(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function Jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}function gN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Df(t,e,n,r){var i=t.updateQueue;Hi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var g=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,w=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=t,x=l;switch(m=e,w=n,x.tag){case 1:if(f=x.payload,typeof f=="function"){g=f.call(w,g,m);break e}g=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=x.payload,m=typeof f=="function"?f.call(w,g,m):f,m==null)break e;g=Ut({},g,m);break e;case 2:Hi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=w,c=g):h=h.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=g),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ro|=o,t.lanes=o,t.memoizedState=g}}function xN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var Du={},Tr=Ua(Du),iu=Ua(Du),au=Ua(Du);function ho(t){if(t===Du)throw Error(he(174));return t}function $y(t,e){switch(Pt(au,e),Pt(iu,t),Pt(Tr,Du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jx(e,t)}Ot(Tr),Pt(Tr,e)}function mc(){Ot(Tr),Ot(iu),Ot(au)}function JS(t){ho(au.current);var e=ho(Tr.current),n=jx(e,t.type);e!==n&&(Pt(iu,t),Pt(Tr,n))}function Uy(t){iu.current===t&&(Ot(Tr),Ot(iu))}var Lt=Ua(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pg=[];function Vy(){for(var t=0;t<pg.length;t++)pg[t]._workInProgressVersionPrimary=null;pg.length=0}var ef=ki.ReactCurrentDispatcher,gg=ki.ReactCurrentBatchConfig,Io=0,$t=null,ln=null,yn=null,Of=!1,Od=!1,ou=0,RD=0;function Cn(){throw Error(he(321))}function zy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function By(t,e,n,r,i,a){if(Io=a,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ef.current=t===null||t.memoizedState===null?FD:LD,t=n(r,i),Od){a=0;do{if(Od=!1,ou=0,25<=a)throw Error(he(301));a+=1,yn=ln=null,e.updateQueue=null,ef.current=$D,t=n(r,i)}while(Od)}if(ef.current=Ff,e=ln!==null&&ln.next!==null,Io=0,yn=ln=$t=null,Of=!1,e)throw Error(he(300));return t}function Wy(){var t=ou!==0;return ou=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?$t.memoizedState=yn=t:yn=yn.next=t,yn}function As(){if(ln===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=yn===null?$t.memoizedState:yn.next;if(e!==null)yn=e,ln=t;else{if(t===null)throw Error(he(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?$t.memoizedState=yn=t:yn=yn.next=t}return yn}function lu(t,e){return typeof e=="function"?e(t):e}function xg(t){var e=As(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=ln,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((Io&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=g,o=r):c=c.next=g,$t.lanes|=h,Ro|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,sr(r,e.memoizedState)||(Xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,$t.lanes|=a,Ro|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vg(t){var e=As(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);sr(a,e.memoizedState)||(Xn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function eC(){}function tC(t,e){var n=$t,r=As(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,Xn=!0),r=r.queue,Hy(rC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,cu(9,sC.bind(null,n,r,i,e),void 0,null),jn===null)throw Error(he(349));Io&30||nC(n,e,i)}return i}function nC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sC(t,e,n,r){e.value=n,e.getSnapshot=r,iC(e)&&aC(t)}function rC(t,e,n){return n(function(){iC(e)&&aC(t)})}function iC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function aC(t){var e=xi(t,1);e!==null&&Qs(e,t,1,-1)}function vN(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=OD.bind(null,$t,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oC(){return As().memoizedState}function tf(t,e,n,r){var i=mr();$t.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function Rm(t,e,n,r){var i=As();r=r===void 0?null:r;var a=void 0;if(ln!==null){var o=ln.memoizedState;if(a=o.destroy,r!==null&&zy(r,o.deps)){i.memoizedState=cu(e,n,a,r);return}}$t.flags|=t,i.memoizedState=cu(1|e,n,a,r)}function yN(t,e){return tf(8390656,8,t,e)}function Hy(t,e){return Rm(2048,8,t,e)}function lC(t,e){return Rm(4,2,t,e)}function cC(t,e){return Rm(4,4,t,e)}function dC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uC(t,e,n){return n=n!=null?n.concat([t]):null,Rm(4,4,dC.bind(null,e,t),n)}function qy(){}function hC(t,e){var n=As();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fC(t,e){var n=As();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mC(t,e,n){return Io&21?(sr(n,e)||(n=yS(),$t.lanes|=n,Ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xn=!0),t.memoizedState=n)}function DD(t,e){var n=Nt;Nt=n!==0&&4>n?n:4,t(!0);var r=gg.transition;gg.transition={};try{t(!1),e()}finally{Nt=n,gg.transition=r}}function pC(){return As().memoizedState}function MD(t,e,n){var r=xa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gC(t))xC(e,n);else if(n=XS(t,e,n,r),n!==null){var i=$n();Qs(n,t,r,i),vC(n,e,r)}}function OD(t,e,n){var r=xa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gC(t))xC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,sr(l,o)){var c=e.interleaved;c===null?(i.next=i,Fy(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=XS(t,e,i,r),n!==null&&(i=$n(),Qs(n,t,r,i),vC(n,e,r))}}function gC(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function xC(t,e){Od=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}var Ff={readContext:Ps,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},FD={readContext:Ps,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Ps,useEffect:yN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tf(4194308,4,dC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return tf(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MD.bind(null,$t,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:vN,useDebugValue:qy,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=vN(!1),e=t[0];return t=DD.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$t,i=mr();if(Ft){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),jn===null)throw Error(he(349));Io&30||nC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,yN(rC.bind(null,r,a,t),[t]),r.flags|=2048,cu(9,sC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=mr(),e=jn.identifierPrefix;if(Ft){var n=ci,r=li;n=(r&~(1<<32-Ys(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LD={readContext:Ps,useCallback:hC,useContext:Ps,useEffect:Hy,useImperativeHandle:uC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:fC,useReducer:xg,useRef:oC,useState:function(){return xg(lu)},useDebugValue:qy,useDeferredValue:function(t){var e=As();return mC(e,ln.memoizedState,t)},useTransition:function(){var t=xg(lu)[0],e=As().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:pC,unstable_isNewReconciler:!1},$D={readContext:Ps,useCallback:hC,useContext:Ps,useEffect:Hy,useImperativeHandle:uC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:fC,useReducer:vg,useRef:oC,useState:function(){return vg(lu)},useDebugValue:qy,useDeferredValue:function(t){var e=As();return ln===null?e.memoizedState=t:mC(e,ln.memoizedState,t)},useTransition:function(){var t=vg(lu)[0],e=As().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:pC,unstable_isNewReconciler:!1};function Os(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dm={isMounted:function(t){return(t=t._reactInternals)?Qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),i=xa(t),a=fi(r,i);a.payload=e,n!=null&&(a.callback=n),e=pa(t,a,i),e!==null&&(Qs(e,t,i,r),Jh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),i=xa(t),a=fi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=pa(t,a,i),e!==null&&(Qs(e,t,i,r),Jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=xa(t),i=fi(n,r);i.tag=2,e!=null&&(i.callback=e),e=pa(t,i,r),e!==null&&(Qs(e,t,r,n),Jh(e,t,r))}};function wN(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,a):!0}function yC(t,e,n){var r=!1,i=Ea,a=e.contextType;return typeof a=="object"&&a!==null?a=Ps(a):(i=ts(e)?Po:Pn.current,r=e.contextTypes,a=(r=r!=null)?uc(t,i):Ea),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function jN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Dm.enqueueReplaceState(e,e.state,null)}function Bx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ly(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ps(a):(a=ts(e)?Po:Pn.current,i.context=uc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(zx(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dm.enqueueReplaceState(i,i.state,null),Df(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pc(t,e){try{var n="",r=e;do n+=fR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function yg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UD=typeof WeakMap=="function"?WeakMap:Map;function wC(t,e,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$f||($f=!0,ev=r),Wx(t,e)},n}function jC(t,e,n){n=fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Wx(t,e),typeof r!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eM.bind(null,t,e,n),e.then(t,t))}function NN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _N(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fi(-1,1),e.tag=2,pa(n,e,1))),n.lanes|=1),t)}var VD=ki.ReactCurrentOwner,Xn=!1;function Mn(t,e,n,r){e.child=t===null?QS(e,null,n,r):fc(e,t.child,n,r)}function SN(t,e,n,r,i){n=n.render;var a=e.ref;return Ol(e,i),r=By(t,e,n,r,a,i),n=Wy(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(Ft&&n&&Ay(e),e.flags|=1,Mn(t,e,r,i),e.child)}function CN(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!ew(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,bC(t,e,a,r,i)):(t=af(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(o,r)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=va(a,r),t.ref=e.ref,t.return=e,e.child=t}function bC(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(tu(a,r)&&t.ref===e.ref)if(Xn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Xn=!0);else return e.lanes=t.lanes,vi(t,e,i)}return Hx(t,e,n,r,i)}function NC(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Pl,as),as|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Pl,as),as|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Pt(Pl,as),as|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Pt(Pl,as),as|=r;return Mn(t,e,i,n),e.child}function _C(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hx(t,e,n,r,i){var a=ts(n)?Po:Pn.current;return a=uc(e,a),Ol(e,i),n=By(t,e,n,r,a,i),r=Wy(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(Ft&&r&&Ay(e),e.flags|=1,Mn(t,e,n,i),e.child)}function kN(t,e,n,r,i){if(ts(n)){var a=!0;Tf(e)}else a=!1;if(Ol(e,i),e.stateNode===null)nf(t,e),yC(e,n,r),Bx(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ps(d):(d=ts(n)?Po:Pn.current,d=uc(e,d));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&jN(e,o,r,d),Hi=!1;var m=e.memoizedState;o.state=m,Df(e,r,o,i),c=e.memoizedState,l!==r||m!==c||es.current||Hi?(typeof h=="function"&&(zx(e,n,h,r),c=e.memoizedState),(l=Hi||wN(e,n,l,r,m,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZS(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Os(e.type,l),o.props=d,g=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ps(c):(c=ts(n)?Po:Pn.current,c=uc(e,c));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||m!==c)&&jN(e,o,r,c),Hi=!1,m=e.memoizedState,o.state=m,Df(e,r,o,i);var f=e.memoizedState;l!==g||m!==f||es.current||Hi?(typeof w=="function"&&(zx(e,n,w,r),f=e.memoizedState),(d=Hi||wN(e,n,d,r,m,f,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return qx(t,e,n,r,a,i)}function qx(t,e,n,r,i,a){_C(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hN(e,n,!1),vi(t,e,a);r=e.stateNode,VD.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fc(e,t.child,null,a),e.child=fc(e,null,l,a)):Mn(t,e,l,a),e.memoizedState=r.state,i&&hN(e,n,!0),e.child}function SC(t){var e=t.stateNode;e.pendingContext?uN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uN(t,e.context,!1),$y(t,e.containerInfo)}function EN(t,e,n,r,i){return hc(),Ry(i),e.flags|=256,Mn(t,e,n,r),e.child}var Kx={dehydrated:null,treeContext:null,retryLane:0};function Gx(t){return{baseLanes:t,cachePool:null,transitions:null}}function CC(t,e,n){var r=e.pendingProps,i=Lt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Lt,i&1),t===null)return Ux(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Fm(o,r,0,null),t=ko(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Gx(n),e.memoizedState=Kx,t):Ky(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return zD(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=va(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=va(l,a):(a=ko(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Gx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Kx,r}return a=t.child,t=a.sibling,r=va(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ky(t,e){return e=Fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,n,r){return r!==null&&Ry(r),fc(e,t.child,null,n),t=Ky(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zD(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=yg(Error(he(422))),Eh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Fm({mode:"visible",children:r.children},i,0,null),a=ko(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&fc(e,t.child,null,o),e.child.memoizedState=Gx(o),e.memoizedState=Kx,a);if(!(e.mode&1))return Eh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(he(419)),r=yg(a,r,void 0),Eh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Xn||l){if(r=jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xi(t,i),Qs(r,t,i,-1))}return Jy(),r=yg(Error(he(421))),Eh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tM.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,us=ma(i.nextSibling),hs=e,Ft=!0,Us=null,t!==null&&(_s[Ss++]=li,_s[Ss++]=ci,_s[Ss++]=Ao,li=t.id,ci=t.overflow,Ao=e),e=Ky(e,r.children),e.flags|=4096,e)}function TN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vx(t.return,e,n)}function wg(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function kC(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Mn(t,e,r.children,n),r=Lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TN(t,n,e);else if(t.tag===19)TN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Lt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wg(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wg(e,!0,n,null,a);break;case"together":wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=va(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=va(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BD(t,e,n){switch(e.tag){case 3:SC(e),hc();break;case 5:JS(e);break;case 1:ts(e.type)&&Tf(e);break;case 4:$y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(If,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Lt,Lt.current&1),e.flags|=128,null):n&e.child.childLanes?CC(t,e,n):(Pt(Lt,Lt.current&1),t=vi(t,e,n),t!==null?t.sibling:null);Pt(Lt,Lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Lt,Lt.current),r)break;return null;case 22:case 23:return e.lanes=0,NC(t,e,n)}return vi(t,e,n)}var EC,Yx,TC,PC;EC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yx=function(){};TC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ho(Tr.current);var a=null;switch(n){case"input":i=xx(t,i),r=xx(t,r),a=[];break;case"select":i=Ut({},i,{value:void 0}),r=Ut({},r,{value:void 0}),a=[];break;case"textarea":i=wx(t,i),r=wx(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}bx(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gd.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Dt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};PC=function(t,e,n,r){n!==r&&(e.flags|=4)};function gd(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WD(t,e,n){var r=e.pendingProps;switch(Iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return ts(e.type)&&Ef(),kn(e),null;case 3:return r=e.stateNode,mc(),Ot(es),Ot(Pn),Vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ch(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Us!==null&&(sv(Us),Us=null))),Yx(t,e),kn(e),null;case 5:Uy(e);var i=ho(au.current);if(n=e.type,t!==null&&e.stateNode!=null)TC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return kn(e),null}if(t=ho(Tr.current),Ch(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[wr]=e,r[ru]=a,t=(e.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(i=0;i<Cd.length;i++)Dt(Cd[i],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":Lb(r,a),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dt("invalid",r);break;case"textarea":Ub(r,a),Dt("invalid",r)}bx(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Sh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Sh(r.textContent,l,t),i=["children",""+l]):Gd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Dt("scroll",r)}switch(n){case"input":xh(r),$b(r,a,!0);break;case"textarea":xh(r),Vb(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[ru]=r,EC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nx(n,r),n){case"dialog":Dt("cancel",t),Dt("close",t),i=r;break;case"iframe":case"object":case"embed":Dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cd.length;i++)Dt(Cd[i],t);i=r;break;case"source":Dt("error",t),i=r;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=r;break;case"details":Dt("toggle",t),i=r;break;case"input":Lb(t,r),i=xx(t,r),Dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ut({},r,{value:void 0}),Dt("invalid",t);break;case"textarea":Ub(t,r),i=wx(t,r),Dt("invalid",t);break;default:i=r}bx(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?oS(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iS(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yd(t,c):typeof c=="number"&&Yd(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Gd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Dt("scroll",t):c!=null&&xy(t,a,c,o))}switch(n){case"input":xh(t),$b(t,r,!1);break;case"textarea":xh(t),Vb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ka(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Il(t,!!r.multiple,a,!1):r.defaultValue!=null&&Il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)PC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=ho(au.current),ho(Tr.current),Ch(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(a=r.nodeValue!==n)&&(t=hs,t!==null))switch(t.tag){case 3:Sh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return kn(e),null;case 13:if(Ot(Lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&us!==null&&e.mode&1&&!(e.flags&128))GS(),hc(),e.flags|=98560,a=!1;else if(a=Ch(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(he(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[wr]=e}else hc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),a=!1}else Us!==null&&(sv(Us),Us=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Lt.current&1?fn===0&&(fn=3):Jy())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return mc(),Yx(t,e),t===null&&nu(e.stateNode.containerInfo),kn(e),null;case 10:return Oy(e.type._context),kn(e),null;case 17:return ts(e.type)&&Ef(),kn(e),null;case 19:if(Ot(Lt),a=e.memoizedState,a===null)return kn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)gd(a,!1);else{if(fn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mf(t),o!==null){for(e.flags|=128,gd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Lt,Lt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Gt()>gc&&(e.flags|=128,r=!0,gd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ft)return kn(e),null}else 2*Gt()-a.renderingStartTime>gc&&n!==1073741824&&(e.flags|=128,r=!0,gd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Gt(),e.sibling=null,n=Lt.current,Pt(Lt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return Zy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?as&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function HD(t,e){switch(Iy(e),e.tag){case 1:return ts(e.type)&&Ef(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(),Ot(es),Ot(Pn),Vy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uy(e),null;case 13:if(Ot(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));hc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ot(Lt),null;case 4:return mc(),null;case 10:return Oy(e.type._context),null;case 22:case 23:return Zy(),null;case 24:return null;default:return null}}var Th=!1,Tn=!1,qD=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Tl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(t,e,r)}else n.current=null}function Qx(t,e,n){try{n()}catch(r){Wt(t,e,r)}}var PN=!1;function KD(t,e){if(Rx=_f,t=MS(),Py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,g=t,m=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==a||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(w=g.firstChild)!==null;)m=g,g=w;for(;;){if(g===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(w=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dx={focusedElem:t,selectionRange:n},_f=!1,ke=e;ke!==null;)if(e=ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ke=t;else for(;ke!==null;){e=ke;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var x=f.memoizedProps,N=f.memoizedState,j=e.stateNode,v=j.getSnapshotBeforeUpdate(e.elementType===e.type?x:Os(e.type,x),N);j.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(y){Wt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}return f=PN,PN=!1,f}function Fd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Qx(e,n,a)}i=i.next}while(i!==r)}}function Mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AC(t){var e=t.alternate;e!==null&&(t.alternate=null,AC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[ru],delete e[Fx],delete e[TD],delete e[PD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function AN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(Zx(t,e,n),t=t.sibling;t!==null;)Zx(t,e,n),t=t.sibling}function Jx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jx(t,e,n),t=t.sibling;t!==null;)Jx(t,e,n),t=t.sibling}var Nn=null,$s=!1;function Oi(t,e,n){for(n=n.child;n!==null;)RC(t,e,n),n=n.sibling}function RC(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:Tn||Tl(n,e);case 6:var r=Nn,i=$s;Nn=null,Oi(t,e,n),Nn=r,$s=i,Nn!==null&&($s?(t=Nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nn.removeChild(n.stateNode));break;case 18:Nn!==null&&($s?(t=Nn,n=n.stateNode,t.nodeType===8?fg(t.parentNode,n):t.nodeType===1&&fg(t,n),Jd(t)):fg(Nn,n.stateNode));break;case 4:r=Nn,i=$s,Nn=n.stateNode.containerInfo,$s=!0,Oi(t,e,n),Nn=r,$s=i;break;case 0:case 11:case 14:case 15:if(!Tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Qx(n,e,o),i=i.next}while(i!==r)}Oi(t,e,n);break;case 1:if(!Tn&&(Tl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Wt(n,e,l)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(Tn=(r=Tn)||n.memoizedState!==null,Oi(t,e,n),Tn=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function IN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qD),e.forEach(function(r){var i=nM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ds(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nn=l.stateNode,$s=!1;break e;case 3:Nn=l.stateNode.containerInfo,$s=!0;break e;case 4:Nn=l.stateNode.containerInfo,$s=!0;break e}l=l.return}if(Nn===null)throw Error(he(160));RC(a,o,i),Nn=null,$s=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Wt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DC(e,t),e=e.sibling}function DC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ds(e,t),fr(t),r&4){try{Fd(3,t,t.return),Mm(3,t)}catch(x){Wt(t,t.return,x)}try{Fd(5,t,t.return)}catch(x){Wt(t,t.return,x)}}break;case 1:Ds(e,t),fr(t),r&512&&n!==null&&Tl(n,n.return);break;case 5:if(Ds(e,t),fr(t),r&512&&n!==null&&Tl(n,n.return),t.flags&32){var i=t.stateNode;try{Yd(i,"")}catch(x){Wt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&nS(i,a),Nx(l,o);var d=Nx(l,a);for(o=0;o<c.length;o+=2){var h=c[o],g=c[o+1];h==="style"?oS(i,g):h==="dangerouslySetInnerHTML"?iS(i,g):h==="children"?Yd(i,g):xy(i,h,g,d)}switch(l){case"input":vx(i,a);break;case"textarea":sS(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Il(i,!!a.multiple,w,!1):m!==!!a.multiple&&(a.defaultValue!=null?Il(i,!!a.multiple,a.defaultValue,!0):Il(i,!!a.multiple,a.multiple?[]:"",!1))}i[ru]=a}catch(x){Wt(t,t.return,x)}}break;case 6:if(Ds(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){Wt(t,t.return,x)}}break;case 3:if(Ds(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(x){Wt(t,t.return,x)}break;case 4:Ds(e,t),fr(t);break;case 13:Ds(e,t),fr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Qy=Gt())),r&4&&IN(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tn=(d=Tn)||h,Ds(e,t),Tn=d):Ds(e,t),fr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ke=t,h=t.child;h!==null;){for(g=ke=h;ke!==null;){switch(m=ke,w=m.child,m.tag){case 0:case 11:case 14:case 15:Fd(4,m,m.return);break;case 1:Tl(m,m.return);var f=m.stateNode;if(typeof f.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(x){Wt(r,n,x)}}break;case 5:Tl(m,m.return);break;case 22:if(m.memoizedState!==null){DN(g);continue}}w!==null?(w.return=m,ke=w):DN(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=aS("display",o))}catch(x){Wt(t,t.return,x)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(x){Wt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ds(e,t),fr(t),r&4&&IN(t);break;case 21:break;default:Ds(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IC(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yd(i,""),r.flags&=-33);var a=AN(t);Jx(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=AN(t);Zx(t,l,o);break;default:throw Error(he(161))}}catch(c){Wt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GD(t,e,n){ke=t,MC(t)}function MC(t,e,n){for(var r=(t.mode&1)!==0;ke!==null;){var i=ke,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Th;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Tn;l=Th;var d=Tn;if(Th=o,(Tn=c)&&!d)for(ke=i;ke!==null;)o=ke,c=o.child,o.tag===22&&o.memoizedState!==null?MN(i):c!==null?(c.return=o,ke=c):MN(i);for(;a!==null;)ke=a,MC(a),a=a.sibling;ke=i,Th=l,Tn=d}RN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ke=a):RN(t)}}function RN(t){for(;ke!==null;){var e=ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Os(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&xN(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xN(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Jd(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Tn||e.flags&512&&Xx(e)}catch(m){Wt(e,e.return,m)}}if(e===t){ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}}function DN(t){for(;ke!==null;){var e=ke;if(e===t){ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ke=n;break}ke=e.return}}function MN(t){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mm(4,e)}catch(c){Wt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Wt(e,i,c)}}var a=e.return;try{Xx(e)}catch(c){Wt(e,a,c)}break;case 5:var o=e.return;try{Xx(e)}catch(c){Wt(e,o,c)}}}catch(c){Wt(e,e.return,c)}if(e===t){ke=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ke=l;break}ke=e.return}}var YD=Math.ceil,Lf=ki.ReactCurrentDispatcher,Gy=ki.ReactCurrentOwner,Es=ki.ReactCurrentBatchConfig,ft=0,jn=null,Zt=null,_n=0,as=0,Pl=Ua(0),fn=0,du=null,Ro=0,Om=0,Yy=0,Ld=null,Qn=null,Qy=0,gc=1/0,Jr=null,$f=!1,ev=null,ga=null,Ph=!1,ca=null,Uf=0,$d=0,tv=null,sf=-1,rf=0;function $n(){return ft&6?Gt():sf!==-1?sf:sf=Gt()}function xa(t){return t.mode&1?ft&2&&_n!==0?_n&-_n:ID.transition!==null?(rf===0&&(rf=yS()),rf):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:CS(t.type)),t):1}function Qs(t,e,n,r){if(50<$d)throw $d=0,tv=null,Error(he(185));Au(t,n,r),(!(ft&2)||t!==jn)&&(t===jn&&(!(ft&2)&&(Om|=n),fn===4&&Gi(t,_n)),ns(t,r),n===1&&ft===0&&!(e.mode&1)&&(gc=Gt()+500,Im&&Va()))}function ns(t,e){var n=t.callbackNode;IR(t,e);var r=Nf(t,t===jn?_n:0);if(r===0)n!==null&&Wb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wb(n),e===1)t.tag===0?AD(ON.bind(null,t)):HS(ON.bind(null,t)),kD(function(){!(ft&6)&&Va()}),n=null;else{switch(wS(r)){case 1:n=by;break;case 4:n=xS;break;case 16:n=bf;break;case 536870912:n=vS;break;default:n=bf}n=BC(n,OC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OC(t,e){if(sf=-1,rf=0,ft&6)throw Error(he(327));var n=t.callbackNode;if(Fl()&&t.callbackNode!==n)return null;var r=Nf(t,t===jn?_n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vf(t,r);else{e=r;var i=ft;ft|=2;var a=LC();(jn!==t||_n!==e)&&(Jr=null,gc=Gt()+500,Co(t,e));do try{ZD();break}catch(l){FC(t,l)}while(!0);My(),Lf.current=a,ft=i,Zt!==null?e=0:(jn=null,_n=0,e=fn)}if(e!==0){if(e===2&&(i=Ex(t),i!==0&&(r=i,e=nv(t,i))),e===1)throw n=du,Co(t,0),Gi(t,r),ns(t,Gt()),n;if(e===6)Gi(t,r);else{if(i=t.current.alternate,!(r&30)&&!QD(i)&&(e=Vf(t,r),e===2&&(a=Ex(t),a!==0&&(r=a,e=nv(t,a))),e===1))throw n=du,Co(t,0),Gi(t,r),ns(t,Gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:no(t,Qn,Jr);break;case 3:if(Gi(t,r),(r&130023424)===r&&(e=Qy+500-Gt(),10<e)){if(Nf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ox(no.bind(null,t,Qn,Jr),e);break}no(t,Qn,Jr);break;case 4:if(Gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ys(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YD(r/1960))-r,10<r){t.timeoutHandle=Ox(no.bind(null,t,Qn,Jr),r);break}no(t,Qn,Jr);break;case 5:no(t,Qn,Jr);break;default:throw Error(he(329))}}}return ns(t,Gt()),t.callbackNode===n?OC.bind(null,t):null}function nv(t,e){var n=Ld;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=Vf(t,e),t!==2&&(e=Qn,Qn=n,e!==null&&sv(e)),t}function sv(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function QD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~Yy,e&=~Om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ys(e),r=1<<n;t[n]=-1,e&=~r}}function ON(t){if(ft&6)throw Error(he(327));Fl();var e=Nf(t,0);if(!(e&1))return ns(t,Gt()),null;var n=Vf(t,e);if(t.tag!==0&&n===2){var r=Ex(t);r!==0&&(e=r,n=nv(t,r))}if(n===1)throw n=du,Co(t,0),Gi(t,e),ns(t,Gt()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,no(t,Qn,Jr),ns(t,Gt()),null}function Xy(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(gc=Gt()+500,Im&&Va())}}function Do(t){ca!==null&&ca.tag===0&&!(ft&6)&&Fl();var e=ft;ft|=1;var n=Es.transition,r=Nt;try{if(Es.transition=null,Nt=1,t)return t()}finally{Nt=r,Es.transition=n,ft=e,!(ft&6)&&Va()}}function Zy(){as=Pl.current,Ot(Pl)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CD(n)),Zt!==null)for(n=Zt.return;n!==null;){var r=n;switch(Iy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ef();break;case 3:mc(),Ot(es),Ot(Pn),Vy();break;case 5:Uy(r);break;case 4:mc();break;case 13:Ot(Lt);break;case 19:Ot(Lt);break;case 10:Oy(r.type._context);break;case 22:case 23:Zy()}n=n.return}if(jn=t,Zt=t=va(t.current,null),_n=as=e,fn=0,du=null,Yy=Om=Ro=0,Qn=Ld=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}uo=null}return t}function FC(t,e){do{var n=Zt;try{if(My(),ef.current=Ff,Of){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Of=!1}if(Io=0,yn=ln=$t=null,Od=!1,ou=0,Gy.current=null,n===null||n.return===null){fn=1,du=e,Zt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=_n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=NN(o);if(w!==null){w.flags&=-257,_N(w,o,l,a,e),w.mode&1&&bN(a,d,e),e=w,c=d;var f=e.updateQueue;if(f===null){var x=new Set;x.add(c),e.updateQueue=x}else f.add(c);break e}else{if(!(e&1)){bN(a,d,e),Jy();break e}c=Error(he(426))}}else if(Ft&&l.mode&1){var N=NN(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),_N(N,o,l,a,e),Ry(pc(c,l));break e}}a=c=pc(c,l),fn!==4&&(fn=2),Ld===null?Ld=[a]:Ld.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var j=wC(a,c,e);gN(a,j);break e;case 1:l=c;var v=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ga===null||!ga.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var y=jC(a,l,e);gN(a,y);break e}}a=a.return}while(a!==null)}UC(n)}catch(E){e=E,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(!0)}function LC(){var t=Lf.current;return Lf.current=Ff,t===null?Ff:t}function Jy(){(fn===0||fn===3||fn===2)&&(fn=4),jn===null||!(Ro&268435455)&&!(Om&268435455)||Gi(jn,_n)}function Vf(t,e){var n=ft;ft|=2;var r=LC();(jn!==t||_n!==e)&&(Jr=null,Co(t,e));do try{XD();break}catch(i){FC(t,i)}while(!0);if(My(),ft=n,Lf.current=r,Zt!==null)throw Error(he(261));return jn=null,_n=0,fn}function XD(){for(;Zt!==null;)$C(Zt)}function ZD(){for(;Zt!==null&&!NR();)$C(Zt)}function $C(t){var e=zC(t.alternate,t,as);t.memoizedProps=t.pendingProps,e===null?UC(t):Zt=e,Gy.current=null}function UC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HD(n,e),n!==null){n.flags&=32767,Zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fn=6,Zt=null;return}}else if(n=WD(n,e,as),n!==null){Zt=n;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);fn===0&&(fn=5)}function no(t,e,n){var r=Nt,i=Es.transition;try{Es.transition=null,Nt=1,JD(t,e,n,r)}finally{Es.transition=i,Nt=r}return null}function JD(t,e,n,r){do Fl();while(ca!==null);if(ft&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(RR(t,a),t===jn&&(Zt=jn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,BC(bf,function(){return Fl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Es.transition,Es.transition=null;var o=Nt;Nt=1;var l=ft;ft|=4,Gy.current=null,KD(t,n),DC(n,t),yD(Dx),_f=!!Rx,Dx=Rx=null,t.current=n,GD(n),_R(),ft=l,Nt=o,Es.transition=a}else t.current=n;if(Ph&&(Ph=!1,ca=t,Uf=i),a=t.pendingLanes,a===0&&(ga=null),kR(n.stateNode),ns(t,Gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($f)throw $f=!1,t=ev,ev=null,t;return Uf&1&&t.tag!==0&&Fl(),a=t.pendingLanes,a&1?t===tv?$d++:($d=0,tv=t):$d=0,Va(),null}function Fl(){if(ca!==null){var t=wS(Uf),e=Es.transition,n=Nt;try{if(Es.transition=null,Nt=16>t?16:t,ca===null)var r=!1;else{if(t=ca,ca=null,Uf=0,ft&6)throw Error(he(331));var i=ft;for(ft|=4,ke=t.current;ke!==null;){var a=ke,o=a.child;if(ke.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ke=d;ke!==null;){var h=ke;switch(h.tag){case 0:case 11:case 15:Fd(8,h,a)}var g=h.child;if(g!==null)g.return=h,ke=g;else for(;ke!==null;){h=ke;var m=h.sibling,w=h.return;if(AC(h),h===d){ke=null;break}if(m!==null){m.return=w,ke=m;break}ke=w}}}var f=a.alternate;if(f!==null){var x=f.child;if(x!==null){f.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}ke=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ke=o;else e:for(;ke!==null;){if(a=ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fd(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,ke=j;break e}ke=a.return}}var v=t.current;for(ke=v;ke!==null;){o=ke;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ke=S;else e:for(o=v;ke!==null;){if(l=ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mm(9,l)}}catch(E){Wt(l,l.return,E)}if(l===o){ke=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,ke=y;break e}ke=l.return}}if(ft=i,Va(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(km,t)}catch{}r=!0}return r}finally{Nt=n,Es.transition=e}}return!1}function FN(t,e,n){e=pc(n,e),e=wC(t,e,1),t=pa(t,e,1),e=$n(),t!==null&&(Au(t,1,e),ns(t,e))}function Wt(t,e,n){if(t.tag===3)FN(t,t,n);else for(;e!==null;){if(e.tag===3){FN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ga===null||!ga.has(r))){t=pc(n,t),t=jC(e,t,1),e=pa(e,t,1),t=$n(),e!==null&&(Au(e,1,t),ns(e,t));break}}e=e.return}}function eM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,jn===t&&(_n&n)===n&&(fn===4||fn===3&&(_n&130023424)===_n&&500>Gt()-Qy?Co(t,0):Yy|=n),ns(t,e)}function VC(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var n=$n();t=xi(t,e),t!==null&&(Au(t,e,n),ns(t,n))}function tM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VC(t,n)}function nM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),VC(t,n)}var zC;zC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||es.current)Xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xn=!1,BD(t,e,n);Xn=!!(t.flags&131072)}else Xn=!1,Ft&&e.flags&1048576&&qS(e,Af,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nf(t,e),t=e.pendingProps;var i=uc(e,Pn.current);Ol(e,n),i=By(null,e,r,t,i,n);var a=Wy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ts(r)?(a=!0,Tf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ly(e),i.updater=Dm,e.stateNode=i,i._reactInternals=e,Bx(e,r,t,n),e=qx(null,e,r,!0,a,n)):(e.tag=0,Ft&&a&&Ay(e),Mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rM(r),t=Os(r,t),i){case 0:e=Hx(null,e,r,t,n);break e;case 1:e=kN(null,e,r,t,n);break e;case 11:e=SN(null,e,r,t,n);break e;case 14:e=CN(null,e,r,Os(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),Hx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),kN(t,e,r,i,n);case 3:e:{if(SC(e),t===null)throw Error(he(387));r=e.pendingProps,a=e.memoizedState,i=a.element,ZS(t,e),Df(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=pc(Error(he(423)),e),e=EN(t,e,r,n,i);break e}else if(r!==i){i=pc(Error(he(424)),e),e=EN(t,e,r,n,i);break e}else for(us=ma(e.stateNode.containerInfo.firstChild),hs=e,Ft=!0,Us=null,n=QS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hc(),r===i){e=vi(t,e,n);break e}Mn(t,e,r,n)}e=e.child}return e;case 5:return JS(e),t===null&&Ux(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Mx(r,i)?o=null:a!==null&&Mx(r,a)&&(e.flags|=32),_C(t,e),Mn(t,e,o,n),e.child;case 6:return t===null&&Ux(e),null;case 13:return CC(t,e,n);case 4:return $y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fc(e,null,r,n):Mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),SN(t,e,r,i,n);case 7:return Mn(t,e,e.pendingProps,n),e.child;case 8:return Mn(t,e,e.pendingProps.children,n),e.child;case 12:return Mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Pt(If,r._currentValue),r._currentValue=o,a!==null)if(sr(a.value,o)){if(a.children===i.children&&!es.current){e=vi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=fi(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Vx(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vx(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ol(e,n),i=Ps(i),r=r(i),e.flags|=1,Mn(t,e,r,n),e.child;case 14:return r=e.type,i=Os(r,e.pendingProps),i=Os(r.type,i),CN(t,e,r,i,n);case 15:return bC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),nf(t,e),e.tag=1,ts(r)?(t=!0,Tf(e)):t=!1,Ol(e,n),yC(e,r,i),Bx(e,r,i,n),qx(null,e,r,!0,t,n);case 19:return kC(t,e,n);case 22:return NC(t,e,n)}throw Error(he(156,e.tag))};function BC(t,e){return gS(t,e)}function sM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(t,e,n,r){return new sM(t,e,n,r)}function ew(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rM(t){if(typeof t=="function")return ew(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===wy)return 14}return 2}function va(t,e){var n=t.alternate;return n===null?(n=ks(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function af(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")ew(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wl:return ko(n.children,i,a,e);case vy:o=8,i|=8;break;case fx:return t=ks(12,n,e,i|2),t.elementType=fx,t.lanes=a,t;case mx:return t=ks(13,n,e,i),t.elementType=mx,t.lanes=a,t;case px:return t=ks(19,n,e,i),t.elementType=px,t.lanes=a,t;case J1:return Fm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X1:o=10;break e;case Z1:o=9;break e;case yy:o=11;break e;case wy:o=14;break e;case Wi:o=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ks(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ko(t,e,n,r){return t=ks(7,t,r,e),t.lanes=n,t}function Fm(t,e,n,r){return t=ks(22,t,r,e),t.elementType=J1,t.lanes=n,t.stateNode={isHidden:!1},t}function jg(t,e,n){return t=ks(6,t,null,e),t.lanes=n,t}function bg(t,e,n){return e=ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tw(t,e,n,r,i,a,o,l,c){return t=new iM(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ks(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(a),t}function aM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WC(t){if(!t)return Ea;t=t._reactInternals;e:{if(Qo(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(ts(n))return WS(t,n,e)}return e}function HC(t,e,n,r,i,a,o,l,c){return t=tw(n,r,!0,t,i,a,o,l,c),t.context=WC(null),n=t.current,r=$n(),i=xa(n),a=fi(r,i),a.callback=e??null,pa(n,a,i),t.current.lanes=i,Au(t,i,r),ns(t,r),t}function Lm(t,e,n,r){var i=e.current,a=$n(),o=xa(i);return n=WC(n),e.context===null?e.context=n:e.pendingContext=n,e=fi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pa(i,e,o),t!==null&&(Qs(t,i,o,a),Jh(t,i,o)),o}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nw(t,e){LN(t,e),(t=t.alternate)&&LN(t,e)}function oM(){return null}var qC=typeof reportError=="function"?reportError:function(t){console.error(t)};function sw(t){this._internalRoot=t}$m.prototype.render=sw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Lm(t,e,null,null)};$m.prototype.unmount=sw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Do(function(){Lm(null,t,null,null)}),e[gi]=null}};function $m(t){this._internalRoot=t}$m.prototype.unstable_scheduleHydration=function(t){if(t){var e=NS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&SS(t)}};function rw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $N(){}function lM(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=zf(o);a.call(d)}}var o=HC(e,r,t,0,null,!1,!1,"",$N);return t._reactRootContainer=o,t[gi]=o.current,nu(t.nodeType===8?t.parentNode:t),Do(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=zf(c);l.call(d)}}var c=tw(t,0,!1,null,null,!1,!1,"",$N);return t._reactRootContainer=c,t[gi]=c.current,nu(t.nodeType===8?t.parentNode:t),Do(function(){Lm(e,c,n,r)}),c}function Vm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=zf(o);l.call(c)}}Lm(e,o,t,i)}else o=lM(n,e,t,i,r);return zf(o)}jS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sd(e.pendingLanes);n!==0&&(Ny(e,n|1),ns(e,Gt()),!(ft&6)&&(gc=Gt()+500,Va()))}break;case 13:Do(function(){var r=xi(t,1);if(r!==null){var i=$n();Qs(r,t,1,i)}}),nw(t,1)}};_y=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=$n();Qs(e,t,134217728,n)}nw(t,134217728)}};bS=function(t){if(t.tag===13){var e=xa(t),n=xi(t,e);if(n!==null){var r=$n();Qs(n,t,e,r)}nw(t,e)}};NS=function(){return Nt};_S=function(t,e){var n=Nt;try{return Nt=t,e()}finally{Nt=n}};Sx=function(t,e,n){switch(e){case"input":if(vx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Am(r);if(!i)throw Error(he(90));tS(r),vx(r,i)}}}break;case"textarea":sS(t,n);break;case"select":e=n.value,e!=null&&Il(t,!!n.multiple,e,!1)}};dS=Xy;uS=Do;var cM={usingClientEntryPoint:!1,Events:[Ru,_l,Am,lS,cS,Xy]},xd={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dM={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mS(t),t===null?null:t.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||oM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{km=Ah.inject(dM),Er=Ah}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cM;ys.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rw(e))throw Error(he(200));return aM(t,e,null,n)};ys.createRoot=function(t,e){if(!rw(t))throw Error(he(299));var n=!1,r="",i=qC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tw(t,1,!1,null,null,n,!1,r,i),t[gi]=e.current,nu(t.nodeType===8?t.parentNode:t),new sw(e)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=mS(e),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return Do(t)};ys.hydrate=function(t,e,n){if(!Um(e))throw Error(he(200));return Vm(null,t,e,!0,n)};ys.hydrateRoot=function(t,e,n){if(!rw(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=qC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HC(e,null,t,1,n??null,i,!1,a,o),t[gi]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $m(e)};ys.render=function(t,e,n){if(!Um(e))throw Error(he(200));return Vm(null,t,e,!1,n)};ys.unmountComponentAtNode=function(t){if(!Um(t))throw Error(he(40));return t._reactRootContainer?(Do(function(){Vm(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};ys.unstable_batchedUpdates=Xy;ys.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Um(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return Vm(t,e,n,!1,r)};ys.version="18.3.1-next-f1338f8080-20240426";function KC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KC)}catch(t){console.error(t)}}KC(),K1.exports=ys;var Xo=K1.exports;const uM=M1(Xo);var GC,UN=Xo;GC=UN.createRoot,UN.hydrateRoot;function hM(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var YC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=p;function fM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mM=typeof Object.is=="function"?Object.is:fM,pM=xc.useState,gM=xc.useEffect,xM=xc.useLayoutEffect,vM=xc.useDebugValue;function yM(t,e){var n=e(),r=pM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return xM(function(){i.value=n,i.getSnapshot=e,Ng(i)&&a({inst:i})},[t,n,e]),gM(function(){return Ng(i)&&a({inst:i}),t(function(){Ng(i)&&a({inst:i})})},[t]),vM(n),n}function Ng(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mM(t,n)}catch{return!0}}function wM(t,e){return e()}var jM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wM:yM;QC.useSyncExternalStore=xc.useSyncExternalStore!==void 0?xc.useSyncExternalStore:jM;YC.exports=QC;var XC=YC.exports;const bM=Cm.useInsertionEffect,NM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_M=NM?p.useLayoutEffect:p.useEffect,SM=bM||_M,ZC=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return SM(()=>{e[0]=t}),e[1]},CM="popstate",iw="pushState",aw="replaceState",kM="hashchange",VN=[CM,iw,aw,kM],EM=t=>{for(const e of VN)addEventListener(e,t);return()=>{for(const e of VN)removeEventListener(e,t)}},JC=(t,e)=>XC.useSyncExternalStore(EM,t,e),TM=()=>location.search,PM=({ssrSearch:t=""}={})=>JC(TM,()=>t),zN=()=>location.pathname,AM=({ssrPath:t}={})=>JC(zN,t?()=>t:zN),IM=(t,{replace:e=!1,state:n=null}={})=>history[e?aw:iw](n,"",t),RM=(t={})=>[AM(t),IM],BN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[BN]>"u"){for(const t of[iw,aw]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,BN,{value:!0})}const DM=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ek=(t="")=>t==="/"?"":t,MM=(t,e)=>t[0]==="~"?t.slice(1):ek(e)+t,OM=(t="",e)=>DM(WN(ek(t)),WN(e)),WN=t=>{try{return decodeURI(t)}catch{return t}},tk={hook:RM,searchHook:PM,parser:hM,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},nk=p.createContext(tk),Mc=()=>p.useContext(nk),sk={},rk=p.createContext(sk),FM=()=>p.useContext(rk),zm=t=>{const[e,n]=t.hook(t);return[OM(t.base,e),ZC((r,i)=>n(MM(r,t.base),i))]},an=()=>zm(Mc()),ow=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((g,m)=>[g,c[m]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},Zo=t=>ow(Mc().parser,t,an()[0]),LM=({children:t,...e})=>{var h,g;const n=Mc(),r=e.hook?tk:n;let i=r;const[a,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((g=e.hook)==null?void 0:g.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let m in r){const w=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&w!==d[m]&&(l.current=d={...d}),d[m]=w,(w!==r[m]||w!==i[m])&&(i=d)}return p.createElement(nk.Provider,{value:i,children:t})},HN=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,$M=t=>{let e=p.useRef(sk);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,i])=>i!==n[r])?t:n},gt=({path:t,nest:e,match:n,...r})=>{const i=Mc(),[a]=zm(i),[o,l,c]=n??ow(i.parser,t,a,e),d=$M({...FM(),...l});if(!o)return null;const h=c?p.createElement(LM,{base:c},HN(r,d)):HN(r,d);return p.createElement(rk.Provider,{value:d,children:h})},Ll=p.forwardRef((t,e)=>{const n=Mc(),[r,i]=zm(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:g,state:m,...w}=t,f=ZC(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(l==null||l(N),N.defaultPrevented||(N.preventDefault(),i(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:f,href:x}):p.createElement("a",{...w,onClick:f,href:x,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),ik=t=>Array.isArray(t)?t.flatMap(e=>ik(e&&e.type===p.Fragment?e.props.children:e)):[t],qN=({children:t,location:e})=>{const n=Mc(),[r]=zm(n);for(const i of ik(t)){let a=0;if(p.isValidElement(i)&&(a=ow(n.parser,i.props.path,e||r,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null};var Oc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},UM={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ji,dy,_1,VM=(_1=class{constructor(){De(this,Ji,UM);De(this,dy,!1)}setTimeoutProvider(t){Ne(this,Ji,t)}setTimeout(t,e){return U(this,Ji).setTimeout(t,e)}clearTimeout(t){U(this,Ji).clearTimeout(t)}setInterval(t,e){return U(this,Ji).setInterval(t,e)}clearInterval(t){U(this,Ji).clearInterval(t)}},Ji=new WeakMap,dy=new WeakMap,_1),fo=new VM;function zM(t){setTimeout(t,0)}var Mo=typeof window>"u"||"Deno"in globalThis;function On(){}function BM(t,e){return typeof t=="function"?t(e):t}function rv(t){return typeof t=="number"&&t>=0&&t!==1/0}function ak(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ya(t,e){return typeof t=="function"?t(e):t}function Ns(t,e){return typeof t=="function"?t(e):t}function KN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==lw(o,e.options))return!1}else if(!uu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function GN(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Oo(e.options.mutationKey)!==Oo(a))return!1}else if(!uu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function lw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oo)(t)}function Oo(t){return JSON.stringify(t,(e,n)=>iv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function uu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>uu(t[n],e[n])):!1}var WM=Object.prototype.hasOwnProperty;function ok(t,e){if(t===e)return t;const n=YN(t)&&YN(e);if(!n&&!(iv(t)&&iv(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=n?d:a[d],g=t[h],m=e[h];if(g===m){l[h]=g,(n?d<i:WM.call(t,h))&&c++;continue}if(g===null||m===null||typeof g!="object"||typeof m!="object"){l[h]=m;continue}const w=ok(g,m);l[h]=w,w===g&&c++}return i===o&&c===i?t:l}function Bf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function YN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function iv(t){if(!QN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!QN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QN(t){return Object.prototype.toString.call(t)==="[object Object]"}function HM(t){return new Promise(e=>{fo.setTimeout(e,t)})}function av(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ok(t,e):e}function qM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function KM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cw=Symbol();function lk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ck(t,e){return typeof t=="function"?t(...e):!!t}var xo,ea,Zl,S1,GM=(S1=class extends Oc{constructor(){super();De(this,xo);De(this,ea);De(this,Zl);Ne(this,Zl,e=>{if(!Mo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ea)||this.setEventListener(U(this,Zl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ea))==null||e.call(this),Ne(this,ea,void 0))}setEventListener(e){var n;Ne(this,Zl,e),(n=U(this,ea))==null||n.call(this),Ne(this,ea,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,xo)!==e&&(Ne(this,xo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,xo)=="boolean"?U(this,xo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xo=new WeakMap,ea=new WeakMap,Zl=new WeakMap,S1),dw=new GM;function ov(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var YM=zM;function QM(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=YM;const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var cn=QM(),Jl,ta,ec,C1,XM=(C1=class extends Oc{constructor(){super();De(this,Jl,!0);De(this,ta);De(this,ec);Ne(this,ec,e=>{if(!Mo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,ta)||this.setEventListener(U(this,ec))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ta))==null||e.call(this),Ne(this,ta,void 0))}setEventListener(e){var n;Ne(this,ec,e),(n=U(this,ta))==null||n.call(this),Ne(this,ta,e(this.setOnline.bind(this)))}setOnline(e){U(this,Jl)!==e&&(Ne(this,Jl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Jl)}},Jl=new WeakMap,ta=new WeakMap,ec=new WeakMap,C1),Wf=new XM;function ZM(t){return Math.min(1e3*2**t,3e4)}function dk(t){return(t??"online")==="online"?Wf.isOnline():!0}var lv=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function uk(t){let e=!1,n=0,r;const i=ov(),a=()=>i.status!=="pending",o=x=>{var N;if(!a()){const j=new lv(x);m(j),(N=t.onCancel)==null||N.call(t,j)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>dw.isFocused()&&(t.networkMode==="always"||Wf.isOnline())&&t.canRun(),h=()=>dk(t.networkMode)&&t.canRun(),g=x=>{a()||(r==null||r(),i.resolve(x))},m=x=>{a()||(r==null||r(),i.reject(x))},w=()=>new Promise(x=>{var N;r=j=>{(a()||d())&&x(j)},(N=t.onPause)==null||N.call(t)}).then(()=>{var x;r=void 0,a()||(x=t.onContinue)==null||x.call(t)}),f=()=>{if(a())return;let x;const N=n===0?t.initialPromise:void 0;try{x=N??t.fn()}catch(j){x=Promise.reject(j)}Promise.resolve(x).then(g).catch(j=>{var D;if(a())return;const v=t.retry??(Mo?0:3),S=t.retryDelay??ZM,y=typeof S=="function"?S(n,j):S,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,j);if(e||!E){m(j);return}n++,(D=t.onFail)==null||D.call(t,n,j),HM(y).then(()=>d()?void 0:w()).then(()=>{e?m(j):f()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?f():w().then(f),i)}}var vo,k1,hk=(k1=class{constructor(){De(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rv(this.gcTime)&&Ne(this,vo,fo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mo?1/0:5*60*1e3))}clearGcTimeout(){U(this,vo)&&(fo.clearTimeout(U(this,vo)),Ne(this,vo,void 0))}},vo=new WeakMap,k1),yo,tc,bs,wo,vn,Su,jo,Fs,Zr,E1,JM=(E1=class extends hk{constructor(n){super();De(this,Fs);De(this,yo);De(this,tc);De(this,bs);De(this,wo);De(this,vn);De(this,Su);De(this,jo);Ne(this,jo,!1),Ne(this,Su,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ne(this,wo,n.client),Ne(this,bs,U(this,wo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ne(this,yo,ZN(this.options)),this.state=n.state??U(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,vn))==null?void 0:n.promise}setOptions(n){if(this.options={...U(this,Su),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ZN(this.options);r.data!==void 0&&(this.setState(XN(r.data,r.dataUpdatedAt)),Ne(this,yo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,bs).remove(this)}setData(n,r){const i=av(this.state.data,n,this.options);return Je(this,Fs,Zr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Je(this,Fs,Zr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=U(this,vn))==null?void 0:i.promise;return(a=U(this,vn))==null||a.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,yo))}isActive(){return this.observers.some(n=>Ns(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ya(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ak(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,vn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,vn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,bs).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,vn)&&(U(this,jo)?U(this,vn).cancel({revert:!0}):U(this,vn).cancelRetry()),this.scheduleGc()),U(this,bs).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Fs,Zr).call(this,{type:"invalidate"})}async fetch(n,r){var d,h,g,m,w,f,x,N,j,v,S,y;if(this.state.fetchStatus!=="idle"&&((d=U(this,vn))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,vn))return U(this,vn).continueRetry(),U(this,vn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const E=this.observers.find(D=>D.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,a=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Ne(this,jo,!0),i.signal)})},o=()=>{const E=lk(this.options,r),k=(()=>{const _={client:U(this,wo),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return Ne(this,jo,!1),this.options.persister?this.options.persister(E,k,this):E(k)},c=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,wo),state:this.state,fetchFn:o};return a(E),E})();(h=this.options.behavior)==null||h.onFetch(c,this),Ne(this,tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&Je(this,Fs,Zr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),Ne(this,vn,uk({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:E=>{E instanceof lv&&E.revert&&this.setState({...U(this,tc),fetchStatus:"idle"}),i.abort()},onFail:(E,D)=>{Je(this,Fs,Zr).call(this,{type:"failed",failureCount:E,error:D})},onPause:()=>{Je(this,Fs,Zr).call(this,{type:"pause"})},onContinue:()=>{Je(this,Fs,Zr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const E=await U(this,vn).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(f=(w=U(this,bs).config).onSuccess)==null||f.call(w,E,this),(N=(x=U(this,bs).config).onSettled)==null||N.call(x,E,this.state.error,this),E}catch(E){if(E instanceof lv){if(E.silent)return U(this,vn).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw Je(this,Fs,Zr).call(this,{type:"error",error:E}),(v=(j=U(this,bs).config).onError)==null||v.call(j,E,this),(y=(S=U(this,bs).config).onSettled)==null||y.call(S,this.state.data,E,this),E}finally{this.scheduleGc()}}},yo=new WeakMap,tc=new WeakMap,bs=new WeakMap,wo=new WeakMap,vn=new WeakMap,Su=new WeakMap,jo=new WeakMap,Fs=new WeakSet,Zr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...fk(i.data,this.options),fetchMeta:n.meta??null};case"success":const a={...i,...XN(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ne(this,tc,n.manual?a:void 0),a;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,bs).notify({query:this,type:"updated",action:n})})},E1);function fk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function XN(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ZN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kn,at,Cu,Rn,bo,nc,ti,na,ku,sc,rc,No,_o,sa,ic,jt,kd,cv,dv,uv,hv,fv,mv,pv,mk,T1,eO=(T1=class extends Oc{constructor(e,n){super();De(this,jt);De(this,Kn);De(this,at);De(this,Cu);De(this,Rn);De(this,bo);De(this,nc);De(this,ti);De(this,na);De(this,ku);De(this,sc);De(this,rc);De(this,No);De(this,_o);De(this,sa);De(this,ic,new Set);this.options=n,Ne(this,Kn,e),Ne(this,na,null),Ne(this,ti,ov()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,at).addObserver(this),JN(U(this,at),this.options)?Je(this,jt,kd).call(this):this.updateResult(),Je(this,jt,hv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gv(U(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gv(U(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,jt,fv).call(this),Je(this,jt,mv).call(this),U(this,at).removeObserver(this)}setOptions(e){const n=this.options,r=U(this,at);if(this.options=U(this,Kn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ns(this.options.enabled,U(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,jt,pv).call(this),U(this,at).setOptions(this.options),n._defaulted&&!Bf(this.options,n)&&U(this,Kn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,at),observer:this});const i=this.hasListeners();i&&e0(U(this,at),r,this.options,n)&&Je(this,jt,kd).call(this),this.updateResult(),i&&(U(this,at)!==r||Ns(this.options.enabled,U(this,at))!==Ns(n.enabled,U(this,at))||ya(this.options.staleTime,U(this,at))!==ya(n.staleTime,U(this,at)))&&Je(this,jt,cv).call(this);const a=Je(this,jt,dv).call(this);i&&(U(this,at)!==r||Ns(this.options.enabled,U(this,at))!==Ns(n.enabled,U(this,at))||a!==U(this,sa))&&Je(this,jt,uv).call(this,a)}getOptimisticResult(e){const n=U(this,Kn).getQueryCache().build(U(this,Kn),e),r=this.createResult(n,e);return nO(this,r)&&(Ne(this,Rn,r),Ne(this,nc,this.options),Ne(this,bo,U(this,at).state)),r}getCurrentResult(){return U(this,Rn)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&U(this,ti).status==="pending"&&U(this,ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){U(this,ic).add(e)}getCurrentQuery(){return U(this,at)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,Kn).defaultQueryOptions(e),r=U(this,Kn).getQueryCache().build(U(this,Kn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Je(this,jt,kd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Rn)))}createResult(e,n){var C;const r=U(this,at),i=this.options,a=U(this,Rn),o=U(this,bo),l=U(this,nc),d=e!==r?e.state:U(this,Cu),{state:h}=e;let g={...h},m=!1,w;if(n._optimisticResults){const R=this.hasListeners(),A=!R&&JN(e,n),T=R&&e0(e,r,n,i);(A||T)&&(g={...g,...fk(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:f,errorUpdatedAt:x,status:N}=g;w=g.data;let j=!1;if(n.placeholderData!==void 0&&w===void 0&&N==="pending"){let R;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=a.data,j=!0):R=typeof n.placeholderData=="function"?n.placeholderData((C=U(this,rc))==null?void 0:C.state.data,U(this,rc)):n.placeholderData,R!==void 0&&(N="success",w=av(a==null?void 0:a.data,R,n),m=!0)}if(n.select&&w!==void 0&&!j)if(a&&w===(o==null?void 0:o.data)&&n.select===U(this,ku))w=U(this,sc);else try{Ne(this,ku,n.select),w=n.select(w),w=av(a==null?void 0:a.data,w,n),Ne(this,sc,w),Ne(this,na,null)}catch(R){Ne(this,na,R)}U(this,na)&&(f=U(this,na),w=U(this,sc),x=Date.now(),N="error");const v=g.fetchStatus==="fetching",S=N==="pending",y=N==="error",E=S&&v,D=w!==void 0,_={status:N,fetchStatus:g.fetchStatus,isPending:S,isSuccess:N==="success",isError:y,isInitialLoading:E,isLoading:E,data:w,dataUpdatedAt:g.dataUpdatedAt,error:f,errorUpdatedAt:x,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!S,isLoadingError:y&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:y&&D,isStale:uw(e,n),refetch:this.refetch,promise:U(this,ti),isEnabled:Ns(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=I=>{_.status==="error"?I.reject(_.error):_.data!==void 0&&I.resolve(_.data)},A=()=>{const I=Ne(this,ti,_.promise=ov());R(I)},T=U(this,ti);switch(T.status){case"pending":e.queryHash===r.queryHash&&R(T);break;case"fulfilled":(_.status==="error"||_.data!==T.value)&&A();break;case"rejected":(_.status!=="error"||_.error!==T.reason)&&A();break}}return _}updateResult(){const e=U(this,Rn),n=this.createResult(U(this,at),this.options);if(Ne(this,bo,U(this,at).state),Ne(this,nc,this.options),U(this,bo).data!==void 0&&Ne(this,rc,U(this,at)),Bf(n,e))return;Ne(this,Rn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!U(this,ic).size)return!0;const o=new Set(a??U(this,ic));return this.options.throwOnError&&o.add("error"),Object.keys(U(this,Rn)).some(l=>{const c=l;return U(this,Rn)[c]!==e[c]&&o.has(c)})};Je(this,jt,mk).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,jt,hv).call(this)}},Kn=new WeakMap,at=new WeakMap,Cu=new WeakMap,Rn=new WeakMap,bo=new WeakMap,nc=new WeakMap,ti=new WeakMap,na=new WeakMap,ku=new WeakMap,sc=new WeakMap,rc=new WeakMap,No=new WeakMap,_o=new WeakMap,sa=new WeakMap,ic=new WeakMap,jt=new WeakSet,kd=function(e){Je(this,jt,pv).call(this);let n=U(this,at).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(On)),n},cv=function(){Je(this,jt,fv).call(this);const e=ya(this.options.staleTime,U(this,at));if(Mo||U(this,Rn).isStale||!rv(e))return;const r=ak(U(this,Rn).dataUpdatedAt,e)+1;Ne(this,No,fo.setTimeout(()=>{U(this,Rn).isStale||this.updateResult()},r))},dv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,at)):this.options.refetchInterval)??!1},uv=function(e){Je(this,jt,mv).call(this),Ne(this,sa,e),!(Mo||Ns(this.options.enabled,U(this,at))===!1||!rv(U(this,sa))||U(this,sa)===0)&&Ne(this,_o,fo.setInterval(()=>{(this.options.refetchIntervalInBackground||dw.isFocused())&&Je(this,jt,kd).call(this)},U(this,sa)))},hv=function(){Je(this,jt,cv).call(this),Je(this,jt,uv).call(this,Je(this,jt,dv).call(this))},fv=function(){U(this,No)&&(fo.clearTimeout(U(this,No)),Ne(this,No,void 0))},mv=function(){U(this,_o)&&(fo.clearInterval(U(this,_o)),Ne(this,_o,void 0))},pv=function(){const e=U(this,Kn).getQueryCache().build(U(this,Kn),this.options);if(e===U(this,at))return;const n=U(this,at);Ne(this,at,e),Ne(this,Cu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},mk=function(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,Rn))}),U(this,Kn).getQueryCache().notify({query:U(this,at),type:"observerResultsUpdated"})})},T1);function tO(t,e){return Ns(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function JN(t,e){return tO(t,e)||t.state.data!==void 0&&gv(t,e,e.refetchOnMount)}function gv(t,e,n){if(Ns(e.enabled,t)!==!1&&ya(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&uw(t,e)}return!1}function e0(t,e,n,r){return(t!==e||Ns(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&uw(t,n)}function uw(t,e){return Ns(e.enabled,t)!==!1&&t.isStaleByTime(ya(e.staleTime,t))}function nO(t,e){return!Bf(t.getCurrentResult(),e)}function t0(t){return{onFetch:(e,n)=>{var h,g,m,w,f;const r=e.options,i=(m=(g=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,a=((w=e.state.data)==null?void 0:w.pages)||[],o=((f=e.state.data)==null?void 0:f.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const N=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},j=lk(e.options,e.fetchOptions),v=async(S,y,E)=>{if(x)return Promise.reject();if(y==null&&S.pages.length)return Promise.resolve(S);const k=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:y,direction:E?"backward":"forward",meta:e.options.meta};return N(A),A})(),_=await j(k),{maxPages:C}=e.options,R=E?KM:qM;return{pages:R(S.pages,_,C),pageParams:R(S.pageParams,y,C)}};if(i&&a.length){const S=i==="backward",y=S?sO:n0,E={pages:a,pageParams:o},D=y(r,E);l=await v(E,D,S)}else{const S=t??a.length;do{const y=c===0?o[0]??r.initialPageParam:n0(r,l);if(c>0&&y==null)break;l=await v(l,y),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var x,N;return(N=(x=e.options).persister)==null?void 0:N.call(x,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function n0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function sO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Eu,gr,Dn,So,xr,zi,P1,rO=(P1=class extends hk{constructor(e){super();De(this,xr);De(this,Eu);De(this,gr);De(this,Dn);De(this,So);Ne(this,Eu,e.client),this.mutationId=e.mutationId,Ne(this,Dn,e.mutationCache),Ne(this,gr,[]),this.state=e.state||pk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,gr).includes(e)||(U(this,gr).push(e),this.clearGcTimeout(),U(this,Dn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ne(this,gr,U(this,gr).filter(n=>n!==e)),this.scheduleGc(),U(this,Dn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,gr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Dn).remove(this))}continue(){var e;return((e=U(this,So))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,h,g,m,w,f,x,N,j,v,S,y,E,D,k,_,C;const n=()=>{Je(this,xr,zi).call(this,{type:"continue"})},r={client:U(this,Eu),meta:this.options.meta,mutationKey:this.options.mutationKey};Ne(this,So,uk({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{Je(this,xr,zi).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{Je(this,xr,zi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Dn).canRun(this)}));const i=this.state.status==="pending",a=!U(this,So).canStart();try{if(i)n();else{Je(this,xr,zi).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=U(this,Dn).config).onMutate)==null?void 0:l.call(o,e,this,r));const A=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,r));A!==this.state.context&&Je(this,xr,zi).call(this,{type:"pending",context:A,variables:e,isPaused:a})}const R=await U(this,So).start();return await((g=(h=U(this,Dn).config).onSuccess)==null?void 0:g.call(h,R,e,this.state.context,this,r)),await((w=(m=this.options).onSuccess)==null?void 0:w.call(m,R,e,this.state.context,r)),await((x=(f=U(this,Dn).config).onSettled)==null?void 0:x.call(f,R,null,this.state.variables,this.state.context,this,r)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,R,null,e,this.state.context,r)),Je(this,xr,zi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((S=(v=U(this,Dn).config).onError)==null?void 0:S.call(v,R,e,this.state.context,this,r)),await((E=(y=this.options).onError)==null?void 0:E.call(y,R,e,this.state.context,r)),await((k=(D=U(this,Dn).config).onSettled)==null?void 0:k.call(D,void 0,R,this.state.variables,this.state.context,this,r)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,R,e,this.state.context,r)),R}finally{Je(this,xr,zi).call(this,{type:"error",error:R})}}finally{U(this,Dn).runNext(this)}}},Eu=new WeakMap,gr=new WeakMap,Dn=new WeakMap,So=new WeakMap,xr=new WeakSet,zi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{U(this,gr).forEach(r=>{r.onMutationUpdate(e)}),U(this,Dn).notify({mutation:this,type:"updated",action:e})})},P1);function pk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,Ls,Tu,A1,iO=(A1=class extends Oc{constructor(e={}){super();De(this,ni);De(this,Ls);De(this,Tu);this.config=e,Ne(this,ni,new Set),Ne(this,Ls,new Map),Ne(this,Tu,0)}build(e,n,r){const i=new rO({client:e,mutationCache:this,mutationId:++mh(this,Tu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){U(this,ni).add(e);const n=Ih(e);if(typeof n=="string"){const r=U(this,Ls).get(n);r?r.push(e):U(this,Ls).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,ni).delete(e)){const n=Ih(e);if(typeof n=="string"){const r=U(this,Ls).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&U(this,Ls).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ih(e);if(typeof n=="string"){const r=U(this,Ls).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Ih(e);if(typeof n=="string"){const i=(r=U(this,Ls).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{U(this,ni).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,ni).clear(),U(this,Ls).clear()})}getAll(){return Array.from(U(this,ni))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GN(n,r))}findAll(e={}){return this.getAll().filter(n=>GN(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},ni=new WeakMap,Ls=new WeakMap,Tu=new WeakMap,A1);function Ih(t){var e;return(e=t.options.scope)==null?void 0:e.id}var si,ra,Gn,ri,mi,of,xv,I1,aO=(I1=class extends Oc{constructor(n,r){super();De(this,mi);De(this,si);De(this,ra);De(this,Gn);De(this,ri);Ne(this,si,n),this.setOptions(r),this.bindMethods(),Je(this,mi,of).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=U(this,si).defaultMutationOptions(n),Bf(this.options,r)||U(this,si).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Gn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oo(r.mutationKey)!==Oo(this.options.mutationKey)?this.reset():((i=U(this,Gn))==null?void 0:i.state.status)==="pending"&&U(this,Gn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,Gn))==null||n.removeObserver(this)}onMutationUpdate(n){Je(this,mi,of).call(this),Je(this,mi,xv).call(this,n)}getCurrentResult(){return U(this,ra)}reset(){var n;(n=U(this,Gn))==null||n.removeObserver(this),Ne(this,Gn,void 0),Je(this,mi,of).call(this),Je(this,mi,xv).call(this)}mutate(n,r){var i;return Ne(this,ri,r),(i=U(this,Gn))==null||i.removeObserver(this),Ne(this,Gn,U(this,si).getMutationCache().build(U(this,si),this.options)),U(this,Gn).addObserver(this),U(this,Gn).execute(n)}},si=new WeakMap,ra=new WeakMap,Gn=new WeakMap,ri=new WeakMap,mi=new WeakSet,of=function(){var r;const n=((r=U(this,Gn))==null?void 0:r.state)??pk();Ne(this,ra,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xv=function(n){cn.batch(()=>{var r,i,a,o,l,c,d,h;if(U(this,ri)&&this.hasListeners()){const g=U(this,ra).variables,m=U(this,ra).context,w={client:U(this,si),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=U(this,ri)).onSuccess)==null||i.call(r,n.data,g,m,w),(o=(a=U(this,ri)).onSettled)==null||o.call(a,n.data,null,g,m,w)):(n==null?void 0:n.type)==="error"&&((c=(l=U(this,ri)).onError)==null||c.call(l,n.error,g,m,w),(h=(d=U(this,ri)).onSettled)==null||h.call(d,void 0,n.error,g,m,w))}this.listeners.forEach(g=>{g(U(this,ra))})})},I1),vr,R1,oO=(R1=class extends Oc{constructor(e={}){super();De(this,vr);this.config=e,Ne(this,vr,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??lw(i,n);let o=this.get(a);return o||(o=new JM({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,vr).has(e.queryHash)||(U(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,vr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,vr).get(e)}getAll(){return[...U(this,vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>KN(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,R1),Bt,ia,aa,ac,oc,oa,lc,cc,D1,lO=(D1=class{constructor(t={}){De(this,Bt);De(this,ia);De(this,aa);De(this,ac);De(this,oc);De(this,oa);De(this,lc);De(this,cc);Ne(this,Bt,t.queryCache||new oO),Ne(this,ia,t.mutationCache||new iO),Ne(this,aa,t.defaultOptions||{}),Ne(this,ac,new Map),Ne(this,oc,new Map),Ne(this,oa,0)}mount(){mh(this,oa)._++,U(this,oa)===1&&(Ne(this,lc,dw.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Bt).onFocus())})),Ne(this,cc,Wf.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Bt).onOnline())})))}unmount(){var t,e;mh(this,oa)._--,U(this,oa)===0&&((t=U(this,lc))==null||t.call(this),Ne(this,lc,void 0),(e=U(this,cc))==null||e.call(this),Ne(this,cc,void 0))}isFetching(t){return U(this,Bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,ia).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Bt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Bt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ya(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Bt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,Bt).get(r.queryHash),a=i==null?void 0:i.state.data,o=BM(e,a);if(o!==void 0)return U(this,Bt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>U(this,Bt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Bt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Bt);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Bt);return cn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=cn.batch(()=>U(this,Bt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t,e={}){return cn.batch(()=>(U(this,Bt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=cn.batch(()=>U(this,Bt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(On)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Bt).build(this,e);return n.isStaleByTime(ya(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=t0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=t0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wf.isOnline()?U(this,ia).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Bt)}getMutationCache(){return U(this,ia)}getDefaultOptions(){return U(this,aa)}setDefaultOptions(t){Ne(this,aa,t)}setQueryDefaults(t,e){U(this,ac).set(Oo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,ac).values()],n={};return e.forEach(r=>{uu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,oc).set(Oo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,oc).values()],n={};return e.forEach(r=>{uu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,aa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,aa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Bt).clear(),U(this,ia).clear()}},Bt=new WeakMap,ia=new WeakMap,aa=new WeakMap,ac=new WeakMap,oc=new WeakMap,oa=new WeakMap,lc=new WeakMap,cc=new WeakMap,D1),gk=p.createContext(void 0),xk=t=>{const e=p.useContext(gk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},cO=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(gk.Provider,{value:t,children:e})),vk=p.createContext(!1),dO=()=>p.useContext(vk);vk.Provider;function uO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var hO=p.createContext(uO()),fO=()=>p.useContext(hO),mO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},pO=t=>{p.useEffect(()=>{t.clearReset()},[t])},gO=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||ck(n,[t.error,r])),xO=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},vO=(t,e)=>t.isLoading&&t.isFetching&&!e,yO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,s0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function wO(t,e,n){var g,m,w,f,x;const r=dO(),i=fO(),a=xk(),o=a.defaultQueryOptions(t);(m=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||m.call(g,o),o._optimisticResults=r?"isRestoring":"optimistic",xO(o),mO(o,i),pO(i);const l=!a.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(a,o)),d=c.getOptimisticResult(o),h=!r&&t.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(N=>{const j=h?c.subscribe(cn.batchCalls(N)):On;return c.updateResult(),j},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),yO(o,d))throw s0(o,c,i);if(gO({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((f=(w=a.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||f.call(w,o,d),o.experimental_prefetchInRender&&!Mo&&vO(d,r)){const N=l?s0(o,c,i):(x=a.getQueryCache().get(o.queryHash))==null?void 0:x.promise;N==null||N.catch(On).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function $e(t,e){return wO(t,eO)}function rt(t,e){const n=xk(),[r]=p.useState(()=>new aO(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const i=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(cn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,l)=>{r.mutate(o,l).catch(On)},[r]);if(i.error&&ck(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function yk(t){if(!t.ok){const e=await t.text()||t.statusText;console.error(`API Error: ${t.status} - ${t.statusText}`,{url:t.url,status:t.status,statusText:t.statusText,text:e});let n;try{n=JSON.parse(e)}catch(r){console.log("JSON parsing failed:",r,"Original text:",e)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw t.status===400?new Error("Please check your information and try again."):t.status===401?new Error("Invalid email or password."):t.status===403?new Error("Access denied. Please contact support."):t.status===404?new Error("Service not available. Please try again later."):t.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function wt(t,e,n){const r=e,i=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),o=localStorage.getItem("user");e.includes("/api/admin/users")&&(console.log("[apiRequest] Calling /api/admin/users:"),console.log("  - adminAccessToken:",i?"present":"missing"),console.log("  - accessToken:",a?"present":"missing"),console.log("  - user:",o?"present":"missing"));const l=n?{"Content-Type":"application/json"}:{};i&&(l["x-admin-token"]=i),a&&(l["x-access-token"]=a),o&&(l["x-user-data"]=btoa(unescape(encodeURIComponent(o)))),e.includes("/api/admin/users")&&console.log("  - Headers:",Object.keys(l));const c=await fetch(r,{method:t,headers:l,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(d=>{throw console.error("Fetch error for:",r,d),d});return await yk(c),c}const jO=({on401:t})=>async({queryKey:e})=>{const[n,...r]=e,i=new URLSearchParams;if(r.length>0)if(n==="/api/admin/shows"&&r.length>=2){const[g,m,w,f]=r;g&&i.set("page",String(g)),m&&i.set("limit",String(m)),w&&i.set("title",String(w)),f&&i.set("type",String(f))}else if(n==="/api/admin/users"&&r.length>=2){const[g,m,w]=r;g&&i.set("page",String(g)),m&&i.set("limit",String(m)),w&&i.set("title",String(w))}else r[0]&&typeof r[0]=="string"&&i.set("userId",r[0]);const a=`${n}${i.toString()?"?"+i.toString():""}`,o=localStorage.getItem("adminAccessToken"),l=localStorage.getItem("accessToken"),c=localStorage.getItem("user");n==="/api/admin/users"&&(console.log("[QueryClient] Fetching /api/admin/users:"),console.log("  - adminAccessToken:",o?"present":"missing"),console.log("  - accessToken:",l?"present":"missing"),console.log("  - user:",c?"present":"missing"));const d={"Content-Type":"application/json"};o&&(d["x-admin-token"]=o),l&&(d["x-access-token"]=l),c&&(d["x-user-data"]=btoa(unescape(encodeURIComponent(c)))),n==="/api/admin/users"&&console.log("  - Headers:",Object.keys(d));const h=await fetch(a,{credentials:"include",headers:d});return await yk(h),await h.json()},Ye=new lO({defaultOptions:{queries:{queryFn:jO({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),bO=1,NO=1e6;let _g=0;function _O(){return _g=(_g+1)%Number.MAX_SAFE_INTEGER,_g.toString()}const Sg=new Map,r0=t=>{if(Sg.has(t))return;const e=setTimeout(()=>{Sg.delete(t),Ud({type:"REMOVE_TOAST",toastId:t})},NO);Sg.set(t,e)},SO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?r0(n):t.toasts.forEach(r=>{r0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lf=[];let cf={toasts:[]};function Ud(t){cf=SO(cf,t),lf.forEach(e=>{e(cf)})}function CO({...t}){const e=_O(),n=i=>Ud({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ud({type:"DISMISS_TOAST",toastId:e});return Ud({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Vt(){const[t,e]=p.useState(cf);return p.useEffect(()=>(lf.push(e),()=>{const n=lf.indexOf(e);n>-1&&lf.splice(n,1)}),[t]),{...t,toast:CO,dismiss:n=>Ud({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function i0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zr(...t){return e=>{let n=!1;const r=t.map(i=>{const a=i0(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():i0(t[i],null)}}}}function et(...t){return p.useCallback(zr(...t),t)}function kO(t,e){const n=p.createContext(e),r=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function rs(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const d=g=>{var j;const{scope:m,children:w,...f}=g,x=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,N=p.useMemo(()=>f,Object.values(f));return s.jsx(x.Provider,{value:N,children:w})};d.displayName=a+"Provider";function h(g,m){var x;const w=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,f=p.useContext(w);if(f)return f;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,EO(i,...e)]}function EO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const g=c(a)[`__scope${d}`];return{...l,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function a0(t){const e=TO(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(AO);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function TO(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=RO(i),l=IO(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PO=Symbol("radix.slottable");function AO(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PO}function IO(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function RO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Bm(t){const e=t+"CollectionProvider",[n,r]=rs(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:N,children:j}=x,v=Ee.useRef(null),S=Ee.useRef(new Map).current;return s.jsx(i,{scope:N,itemMap:S,collectionRef:v,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=a0(l),d=Ee.forwardRef((x,N)=>{const{scope:j,children:v}=x,S=a(l,j),y=et(N,S.collectionRef);return s.jsx(c,{ref:y,children:v})});d.displayName=l;const h=t+"CollectionItemSlot",g="data-radix-collection-item",m=a0(h),w=Ee.forwardRef((x,N)=>{const{scope:j,children:v,...S}=x,y=Ee.useRef(null),E=et(N,y),D=a(h,j);return Ee.useEffect(()=>(D.itemMap.set(y,{ref:y,...S}),()=>void D.itemMap.delete(y))),s.jsx(m,{[g]:"",ref:E,children:v})});w.displayName=h;function f(x){const N=a(t+"CollectionConsumer",x);return Ee.useCallback(()=>{const v=N.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((D,k)=>S.indexOf(D.ref.current)-S.indexOf(k.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:d,ItemSlot:w},f,r]}function DO(t){const e=MO(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(FO);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function MO(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=$O(i),l=LO(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OO=Symbol("radix.slottable");function FO(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OO}function LO(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function $O(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=UO.reduce((t,e)=>{const n=DO(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hw(t,e){t&&Xo.flushSync(()=>t.dispatchEvent(e))}function Un(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function VO(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var zO="DismissableLayer",vv="dismissableLayer.update",BO="dismissableLayer.pointerDownOutside",WO="dismissableLayer.focusOutside",o0,wk=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jo=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(wk),[h,g]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=p.useState({}),f=et(e,k=>g(k)),x=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(N),v=h?x.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,y=v>=j,E=qO(k=>{const _=k.target,C=[...d.branches].some(R=>R.contains(_));!y||C||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},m),D=KO(k=>{const _=k.target;[...d.branches].some(R=>R.contains(_))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},m);return VO(k=>{v===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(o0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),l0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=o0)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),l0())},[h,d]),p.useEffect(()=>{const k=()=>w({});return document.addEventListener(vv,k),()=>document.removeEventListener(vv,k)},[]),s.jsx(Oe.div,{...c,ref:f,style:{pointerEvents:S?y?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,D.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,E.onPointerDownCapture)})});Jo.displayName=zO;var HO="DismissableLayerBranch",jk=p.forwardRef((t,e)=>{const n=p.useContext(wk),r=p.useRef(null),i=et(e,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Oe.div,{...t,ref:i})});jk.displayName=HO;function qO(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){bk(BO,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function KO(t,e=globalThis==null?void 0:globalThis.document){const n=Un(t),r=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!r.current&&bk(WO,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l0(){const t=new CustomEvent(vv);document.dispatchEvent(t)}function bk(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hw(i,a):i.dispatchEvent(a)}var GO=Jo,YO=jk,rn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},QO="Portal",Fc=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=p.useState(!1);rn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?uM.createPortal(s.jsx(Oe.div,{...r,ref:e}),o):null});Fc.displayName=QO;function XO(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var is=t=>{const{present:e,children:n}=t,r=ZO(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=et(r.ref,JO(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};is.displayName="Presence";function ZO(t){const[e,n]=p.useState(),r=p.useRef(null),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=XO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Rh(r.current);a.current=l==="mounted"?d:"none"},[l]),rn(()=>{const d=r.current,h=i.current;if(h!==t){const m=a.current,w=Rh(d);t?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),rn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,g=w=>{const x=Rh(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&x&&(c("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},m=w=>{w.target===e&&(a.current=Rh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Rh(t){return(t==null?void 0:t.animationName)||"none"}function JO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eF=Cm[" useInsertionEffect ".trim().toString()]||rn;function Or({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=tF({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const g=h.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=p.useCallback(h=>{var g;if(l){const m=nF(h)?h(t):h;m!==t&&((g=o.current)==null||g.call(o,m))}else a(h)},[l,t,a,o]);return[c,d]}function tF({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),i=p.useRef(n),a=p.useRef(e);return eF(()=>{a.current=e},[e]),p.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function nF(t){return typeof t=="function"}var sF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rF="VisuallyHidden",fw=p.forwardRef((t,e)=>s.jsx(Oe.span,{...t,ref:e,style:{...sF,...t.style}}));fw.displayName=rF;var mw="ToastProvider",[pw,iF,aF]=Bm("Toast"),[Nk]=rs("Toast",[aF]),[oF,Wm]=Nk(mw),_k=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,h]=p.useState(0),g=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mw}\`. Expected non-empty \`string\`.`),s.jsx(pw.Provider,{scope:e,children:s.jsx(oF,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(w=>w+1),[]),onToastRemove:p.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:m,children:o})})};_k.displayName=mw;var Sk="ToastViewport",lF=["F8"],yv="toast.viewportPause",wv="toast.viewportResume",Ck=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=lF,label:i="Notifications ({hotkey})",...a}=t,o=Wm(Sk,n),l=iF(n),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),g=p.useRef(null),m=et(e,g,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=o.toastCount>0;p.useEffect(()=>{const N=j=>{var S;r.length!==0&&r.every(y=>j[y]||j.code===y)&&((S=g.current)==null||S.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[r]),p.useEffect(()=>{const N=c.current,j=g.current;if(f&&N&&j){const v=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(yv);j.dispatchEvent(D),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(wv);j.dispatchEvent(D),o.isClosePausedRef.current=!1}},y=D=>{!N.contains(D.relatedTarget)&&S()},E=()=>{N.contains(document.activeElement)||S()};return N.addEventListener("focusin",v),N.addEventListener("focusout",y),N.addEventListener("pointermove",v),N.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{N.removeEventListener("focusin",v),N.removeEventListener("focusout",y),N.removeEventListener("pointermove",v),N.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[f,o.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:N})=>{const v=l().map(S=>{const y=S.ref.current,E=[y,...jF(y)];return N==="forwards"?E:E.reverse()});return(N==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const N=g.current;if(N){const j=v=>{var E,D,k;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const _=document.activeElement,C=v.shiftKey;if(v.target===N&&C){(E=d.current)==null||E.focus();return}const T=x({tabbingDirection:C?"backwards":"forwards"}),I=T.findIndex(F=>F===_);Cg(T.slice(I+1))?v.preventDefault():C?(D=d.current)==null||D.focus():(k=h.current)==null||k.focus()}};return N.addEventListener("keydown",j),()=>N.removeEventListener("keydown",j)}},[l,x]),s.jsxs(YO,{ref:c,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&s.jsx(jv,{ref:d,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"forwards"});Cg(N)}}),s.jsx(pw.Slot,{scope:n,children:s.jsx(Oe.ol,{tabIndex:-1,...a,ref:m})}),f&&s.jsx(jv,{ref:h,onFocusFromOutsideViewport:()=>{const N=x({tabbingDirection:"backwards"});Cg(N)}})]})});Ck.displayName=Sk;var kk="ToastFocusProxy",jv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Wm(kk,n);return s.jsx(fw,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});jv.displayName=kk;var Mu="Toast",cF="toast.swipeStart",dF="toast.swipeMove",uF="toast.swipeCancel",hF="toast.swipeEnd",Ek=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=Or({prop:r,defaultProp:i??!0,onChange:a,caller:Mu});return s.jsx(is,{present:n||l,children:s.jsx(pF,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Un(t.onPause),onResume:Un(t.onResume),onSwipeStart:pe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,d=>{const{x:h,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:pe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,d=>{const{x:h,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),c(!1)})})})});Ek.displayName=Mu;var[fF,mF]=Nk(Mu,{onClose(){}}),pF=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:g,onSwipeCancel:m,onSwipeEnd:w,...f}=t,x=Wm(Mu,n),[N,j]=p.useState(null),v=et(e,F=>j(F)),S=p.useRef(null),y=p.useRef(null),E=i||x.duration,D=p.useRef(0),k=p.useRef(E),_=p.useRef(0),{onToastAdd:C,onToastRemove:R}=x,A=Un(()=>{var K;(N==null?void 0:N.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),o()}),T=p.useCallback(F=>{!F||F===1/0||(window.clearTimeout(_.current),D.current=new Date().getTime(),_.current=window.setTimeout(A,F))},[A]);p.useEffect(()=>{const F=x.viewport;if(F){const K=()=>{T(k.current),d==null||d()},z=()=>{const V=new Date().getTime()-D.current;k.current=k.current-V,window.clearTimeout(_.current),c==null||c()};return F.addEventListener(yv,z),F.addEventListener(wv,K),()=>{F.removeEventListener(yv,z),F.removeEventListener(wv,K)}}},[x.viewport,E,c,d,T]),p.useEffect(()=>{a&&!x.isClosePausedRef.current&&T(E)},[a,E,x.isClosePausedRef,T]),p.useEffect(()=>(C(),()=>R()),[C,R]);const I=p.useMemo(()=>N?Mk(N):null,[N]);return x.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(gF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:I}),s.jsx(fF,{scope:n,onClose:A,children:Xo.createPortal(s.jsx(pw.ItemSlot,{scope:n,children:s.jsx(GO,{asChild:!0,onEscapeKeyDown:pe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||A(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Oe.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...f,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:pe(t.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:pe(t.onPointerMove,F=>{if(!S.current)return;const K=F.clientX-S.current.x,z=F.clientY-S.current.y,V=!!y.current,L=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,oe=L?B(0,K):0,le=L?0:B(0,z),W=F.pointerType==="touch"?10:2,fe={x:oe,y:le},de={originalEvent:F,delta:fe};V?(y.current=fe,Dh(dF,g,de,{discrete:!1})):c0(fe,x.swipeDirection,W)?(y.current=fe,Dh(cF,h,de,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>W||Math.abs(z)>W)&&(S.current=null)}),onPointerUp:pe(t.onPointerUp,F=>{const K=y.current,z=F.target;if(z.hasPointerCapture(F.pointerId)&&z.releasePointerCapture(F.pointerId),y.current=null,S.current=null,K){const V=F.currentTarget,L={originalEvent:F,delta:K};c0(K,x.swipeDirection,x.swipeThreshold)?Dh(hF,w,L,{discrete:!0}):Dh(uF,m,L,{discrete:!0}),V.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),gF=t=>{const{__scopeToast:e,children:n,...r}=t,i=Wm(Mu,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return yF(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Fc,{asChild:!0,children:s.jsx(fw,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},xF="ToastTitle",Tk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Oe.div,{...r,ref:e})});Tk.displayName=xF;var vF="ToastDescription",Pk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Oe.div,{...r,ref:e})});Pk.displayName=vF;var Ak="ToastAction",Ik=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(Dk,{altText:n,asChild:!0,children:s.jsx(gw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ak}\`. Expected non-empty \`string\`.`),null)});Ik.displayName=Ak;var Rk="ToastClose",gw=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=mF(Rk,n);return s.jsx(Dk,{asChild:!0,children:s.jsx(Oe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});gw.displayName=Rk;var Dk=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Mk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),wF(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Mk(r))}}),e}function Dh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?hw(i,a):i.dispatchEvent(a)}var c0=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function yF(t=()=>{}){const e=Un(t);rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function wF(t){return t.nodeType===t.ELEMENT_NODE}function jF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var bF=_k,Ok=Ck,Fk=Ek,Lk=Tk,$k=Pk,Uk=Ik,Vk=gw;function zk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Bk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zk(t))&&(r&&(r+=" "),r+=e);return r}const d0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,u0=Bk,Ou=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return u0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],g=a==null?void 0:a[d];if(h===null)return null;const m=d0(h)||d0(g);return i[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[g,m]=h;return m===void 0||(d[g]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:g,className:m,...w}=h;return Object.entries(w).every(f=>{let[x,N]=f;return Array.isArray(N)?N.includes({...a,...l}[x]):{...a,...l}[x]===N})?[...d,g,m]:d},[]);return u0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,..._F,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Wk("lucide",i),...l},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=p.forwardRef(({className:r,...i},a)=>p.createElement(SF,{ref:a,iconNode:e,className:Wk(`lucide-${NF(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=je("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=je("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=je("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=je("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=je("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=je("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=je("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=je("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=je("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=je("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=je("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=je("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=je("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=je("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=je("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=je("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=je("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=je("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=je("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=je("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=je("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=je("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=je("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=je("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=je("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=je("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=je("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=je("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=je("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=je("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=je("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bw="-",ZF=t=>{const e=eL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(bw);return l[0]===""&&l.length!==1&&l.shift(),e2(l,e)||JF(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},e2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?e2(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(bw);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},g0=/^\[(.+)\]$/,JF=t=>{if(g0.test(t)){const e=g0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},eL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nL(Object.entries(t.classGroups),n).forEach(([a,o])=>{Cv(o,r,a,e)}),r},Cv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:x0(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(tL(i)){Cv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Cv(o,x0(e,a),n,r)})})},x0=(t,e)=>{let n=t;return e.split(bw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tL=t=>t.isThemeGetter,nL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,sL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},t2="!",rL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,h=0,g;for(let N=0;N<l.length;N++){let j=l[N];if(d===0){if(j===i&&(r||l.slice(N,N+a)===e)){c.push(l.slice(h,N)),h=N+a;continue}if(j==="/"){g=N;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(h),w=m.startsWith(t2),f=w?m.substring(1):m,x=g&&g>h?g-h:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:f,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},iL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},aL=t=>({cache:sL(t.cacheSize),parseClassName:rL(t),...ZF(t)}),oL=/\s+/,lL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(oL);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:w}=n(d);let f=!!w,x=r(f?m.substring(0,w):m);if(!x){if(!f){l=d+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=d+(l.length>0?" "+l:l);continue}f=!1}const N=iL(h).join(":"),j=g?N+t2:N,v=j+x;if(a.includes(v))continue;a.push(v);const S=i(x,f);for(let y=0;y<S.length;++y){const E=S[y];a.push(j+E)}l=d+(l.length>0?" "+l:l)}return l};function cL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=n2(e))&&(r&&(r+=" "),r+=n);return r}const n2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=n2(t[r]))&&(n&&(n+=" "),n+=e);return n};function dL(t,...e){let n,r,i,a=o;function o(c){const d=e.reduce((h,g)=>g(h),t());return n=aL(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=lL(c,n);return i(c,h),h}return function(){return a(cL.apply(null,arguments))}}const Rt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},s2=/^\[(?:([a-z-]+):)?(.+)\]$/i,uL=/^\d+\/\d+$/,hL=new Set(["px","full","screen"]),fL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=t=>Vl(t)||hL.has(t)||uL.test(t),Fi=t=>Uc(t,"length",SL),Vl=t=>!!t&&!Number.isNaN(Number(t)),kg=t=>Uc(t,"number",Vl),vd=t=>!!t&&Number.isInteger(Number(t)),vL=t=>t.endsWith("%")&&Vl(t.slice(0,-1)),Ke=t=>s2.test(t),Li=t=>fL.test(t),yL=new Set(["length","size","percentage"]),wL=t=>Uc(t,yL,r2),jL=t=>Uc(t,"position",r2),bL=new Set(["image","url"]),NL=t=>Uc(t,bL,kL),_L=t=>Uc(t,"",CL),yd=()=>!0,Uc=(t,e,n)=>{const r=s2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},SL=t=>mL.test(t)&&!pL.test(t),r2=()=>!1,CL=t=>gL.test(t),kL=t=>xL.test(t),EL=()=>{const t=Rt("colors"),e=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),i=Rt("borderColor"),a=Rt("borderRadius"),o=Rt("borderSpacing"),l=Rt("borderWidth"),c=Rt("contrast"),d=Rt("grayscale"),h=Rt("hueRotate"),g=Rt("invert"),m=Rt("gap"),w=Rt("gradientColorStops"),f=Rt("gradientColorStopPositions"),x=Rt("inset"),N=Rt("margin"),j=Rt("opacity"),v=Rt("padding"),S=Rt("saturate"),y=Rt("scale"),E=Rt("sepia"),D=Rt("skew"),k=Rt("space"),_=Rt("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ke,e],T=()=>[Ke,e],I=()=>["",Yr,Fi],F=()=>["auto",Vl,Ke],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ke],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Vl,Ke];return{cacheSize:500,separator:":",theme:{colors:[yd],spacing:[Yr,Fi],blur:["none","",Li,Ke],brightness:le(),borderColor:[t],borderRadius:["none","","full",Li,Ke],borderSpacing:T(),borderWidth:I(),contrast:le(),grayscale:B(),hueRotate:le(),invert:B(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[vL,Fi],inset:A(),margin:A(),opacity:le(),padding:T(),saturate:le(),scale:le(),sepia:B(),skew:le(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Ke]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vd,Ke]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",vd,Ke]}],"grid-cols":[{"grid-cols":[yd]}],"col-start-end":[{col:["auto",{span:["full",vd,Ke]},Ke]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[yd]}],"row-start-end":[{row:["auto",{span:[vd,Ke]},Ke]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[Li]},Li]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Li,Fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kg]}],"font-family":[{font:[yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",Vl,kg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Fi]}],"underline-offset":[{"underline-offset":["auto",Yr,Ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),jL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Yr,Ke]}],"outline-w":[{outline:[Yr,Fi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Yr,Fi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Li,_L]}],"shadow-color":[{shadow:[yd]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Li,Ke]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[S]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[vd,Ke]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,Fi,kg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TL=dL(EL);function ve(...t){return TL(Bk(t))}const PL=bF,i2=p.forwardRef(({className:t,...e},n)=>s.jsx(Ok,{ref:n,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",t),...e}));i2.displayName=Ok.displayName;const AL=Ou("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),a2=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(Fk,{ref:r,className:ve(AL({variant:e}),t),...n}));a2.displayName=Fk.displayName;const IL=p.forwardRef(({className:t,...e},n)=>s.jsx(Uk,{ref:n,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));IL.displayName=Uk.displayName;const o2=p.forwardRef(({className:t,...e},n)=>s.jsx(Vk,{ref:n,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Is,{className:"h-4 w-4"})}));o2.displayName=Vk.displayName;const l2=p.forwardRef(({className:t,...e},n)=>s.jsx(Lk,{ref:n,className:ve("text-sm font-semibold",t),...e}));l2.displayName=Lk.displayName;const c2=p.forwardRef(({className:t,...e},n)=>s.jsx($k,{ref:n,className:ve("text-sm opacity-90",t),...e}));c2.displayName=$k.displayName;function RL(){const{toasts:t}=Vt();return s.jsxs(PL,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(a2,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(l2,{children:n}),r&&s.jsx(c2,{children:r})]}),i,s.jsx(o2,{})]},e)}),s.jsx(i2,{})]})}var DL=Cm[" useId ".trim().toString()]||(()=>{}),ML=0;function Zs(t){const[e,n]=p.useState(DL());return rn(()=>{n(r=>r??String(ML++))},[t]),e?`radix-${e}`:""}const OL=["top","right","bottom","left"],Aa=Math.min,ls=Math.max,Gf=Math.round,Fh=Math.floor,Ir=t=>({x:t,y:t}),FL={left:"right",right:"left",bottom:"top",top:"bottom"},LL={start:"end",end:"start"};function kv(t,e,n){return ls(t,Aa(e,n))}function wi(t,e){return typeof t=="function"?t(e):t}function ji(t){return t.split("-")[0]}function Vc(t){return t.split("-")[1]}function Nw(t){return t==="x"?"y":"x"}function _w(t){return t==="y"?"height":"width"}const $L=new Set(["top","bottom"]);function Sr(t){return $L.has(ji(t))?"y":"x"}function Sw(t){return Nw(Sr(t))}function UL(t,e,n){n===void 0&&(n=!1);const r=Vc(t),i=Sw(t),a=_w(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Yf(o)),[o,Yf(o)]}function VL(t){const e=Yf(t);return[Ev(t),e,Ev(e)]}function Ev(t){return t.replace(/start|end/g,e=>LL[e])}const v0=["left","right"],y0=["right","left"],zL=["top","bottom"],BL=["bottom","top"];function WL(t,e,n){switch(t){case"top":case"bottom":return n?e?y0:v0:e?v0:y0;case"left":case"right":return e?zL:BL;default:return[]}}function HL(t,e,n,r){const i=Vc(t);let a=WL(ji(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Ev)))),a}function Yf(t){return t.replace(/left|right|bottom|top/g,e=>FL[e])}function qL(t){return{top:0,right:0,bottom:0,left:0,...t}}function d2(t){return typeof t!="number"?qL(t):{top:t,right:t,bottom:t,left:t}}function Qf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function w0(t,e,n){let{reference:r,floating:i}=t;const a=Sr(e),o=Sw(e),l=_w(o),c=ji(e),d=a==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let w;switch(c){case"top":w={x:h,y:r.y-i.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-i.width,y:g};break;default:w={x:r.x,y:r.y}}switch(Vc(e)){case"start":w[o]-=m*(n&&d?-1:1);break;case"end":w[o]+=m*(n&&d?-1:1);break}return w}const KL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:g}=w0(d,r,c),m=r,w={},f=0;for(let x=0;x<l.length;x++){const{name:N,fn:j}=l[x],{x:v,y:S,data:y,reset:E}=await j({x:h,y:g,initialPlacement:r,placement:m,strategy:i,middlewareData:w,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,g=S??g,w={...w,[N]:{...w[N],...y}},E&&f<=50&&(f++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(d=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:h,y:g}=w0(d,m,c)),x=-1)}return{x:h,y:g,placement:m,strategy:i,middlewareData:w}};async function mu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:w=0}=wi(e,t),f=d2(w),N=l[m?g==="floating"?"reference":"floating":g],j=Qf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(N)))==null||n?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=g==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),y=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Qf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:S,strategy:c}):v);return{top:(j.top-E.top+f.top)/y.y,bottom:(E.bottom-j.bottom+f.bottom)/y.y,left:(j.left-E.left+f.left)/y.x,right:(E.right-j.right+f.right)/y.x}}const GL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=wi(t,e)||{};if(d==null)return{};const g=d2(h),m={x:n,y:r},w=Sw(i),f=_w(w),x=await o.getDimensions(d),N=w==="y",j=N?"top":"left",v=N?"bottom":"right",S=N?"clientHeight":"clientWidth",y=a.reference[f]+a.reference[w]-m[w]-a.floating[f],E=m[w]-a.reference[w],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=D?D[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(D)))&&(k=l.floating[S]||a.floating[f]);const _=y/2-E/2,C=k/2-x[f]/2-1,R=Aa(g[j],C),A=Aa(g[v],C),T=R,I=k-x[f]-A,F=k/2-x[f]/2+_,K=kv(T,F,I),z=!c.arrow&&Vc(i)!=null&&F!==K&&a.reference[f]/2-(F<T?R:A)-x[f]/2<0,V=z?F<T?F-T:F-I:0;return{[w]:m[w]+V,data:{[w]:K,centerOffset:F-K-V,...z&&{alignmentOffset:V}},reset:z}}}),YL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:x=!0,...N}=wi(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=ji(i),v=Sr(l),S=ji(l)===l,y=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=m||(S||!x?[Yf(l)]:VL(l)),D=f!=="none";!m&&D&&E.push(...HL(l,x,f,y));const k=[l,...E],_=await mu(e,N),C=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&C.push(_[j]),g){const F=UL(i,o,y);C.push(_[F[0]],_[F[1]])}if(R=[...R,{placement:i,overflows:C}],!C.every(F=>F<=0)){var A,T;const F=(((A=a.flip)==null?void 0:A.index)||0)+1,K=k[F];if(K&&(!(g==="alignment"?v!==Sr(K):!1)||R.every(L=>Sr(L.placement)===v?L.overflows[0]>0:!0)))return{data:{index:F,overflows:R},reset:{placement:K}};let z=(T=R.filter(V=>V.overflows[0]<=0).sort((V,L)=>V.overflows[1]-L.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(w){case"bestFit":{var I;const V=(I=R.filter(L=>{if(D){const B=Sr(L.placement);return B===v||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,oe)=>B+oe,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:I[0];V&&(z=V);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function j0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b0(t){return OL.some(e=>t[e]>=0)}const QL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=wi(t,e);switch(r){case"referenceHidden":{const a=await mu(e,{...i,elementContext:"reference"}),o=j0(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:b0(o)}}}case"escaped":{const a=await mu(e,{...i,altBoundary:!0}),o=j0(a,n.floating);return{data:{escapedOffsets:o,escaped:b0(o)}}}default:return{}}}}},u2=new Set(["left","top"]);async function XL(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ji(n),l=Vc(n),c=Sr(n)==="y",d=u2.has(o)?-1:1,h=a&&c?-1:1,g=wi(e,t);let{mainAxis:m,crossAxis:w,alignmentAxis:f}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof f=="number"&&(w=l==="end"?f*-1:f),c?{x:w*h,y:m*d}:{x:m*d,y:w*h}}const ZL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await XL(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},JL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:j,y:v}=N;return{x:j,y:v}}},...c}=wi(t,e),d={x:n,y:r},h=await mu(e,c),g=Sr(ji(i)),m=Nw(g);let w=d[m],f=d[g];if(a){const N=m==="y"?"top":"left",j=m==="y"?"bottom":"right",v=w+h[N],S=w-h[j];w=kv(v,w,S)}if(o){const N=g==="y"?"top":"left",j=g==="y"?"bottom":"right",v=f+h[N],S=f-h[j];f=kv(v,f,S)}const x=l.fn({...e,[m]:w,[g]:f});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[g]:o}}}}}},e3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=wi(t,e),h={x:n,y:r},g=Sr(i),m=Nw(g);let w=h[m],f=h[g];const x=wi(l,e),N=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=m==="y"?"height":"width",y=a.reference[m]-a.floating[S]+N.mainAxis,E=a.reference[m]+a.reference[S]-N.mainAxis;w<y?w=y:w>E&&(w=E)}if(d){var j,v;const S=m==="y"?"width":"height",y=u2.has(ji(i)),E=a.reference[g]-a.floating[S]+(y&&((j=o.offset)==null?void 0:j[g])||0)+(y?0:N.crossAxis),D=a.reference[g]+a.reference[S]+(y?0:((v=o.offset)==null?void 0:v[g])||0)-(y?N.crossAxis:0);f<E?f=E:f>D&&(f=D)}return{[m]:w,[g]:f}}}},t3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=wi(t,e),h=await mu(e,d),g=ji(i),m=Vc(i),w=Sr(i)==="y",{width:f,height:x}=a.floating;let N,j;g==="top"||g==="bottom"?(N=g,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=g,N=m==="end"?"top":"bottom");const v=x-h.top-h.bottom,S=f-h.left-h.right,y=Aa(x-h[N],v),E=Aa(f-h[j],S),D=!e.middlewareData.shift;let k=y,_=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=v),D&&!m){const R=ls(h.left,0),A=ls(h.right,0),T=ls(h.top,0),I=ls(h.bottom,0);w?_=f-2*(R!==0||A!==0?R+A:ls(h.left,h.right)):k=x-2*(T!==0||I!==0?T+I:ls(h.top,h.bottom))}await c({...e,availableWidth:_,availableHeight:k});const C=await o.getDimensions(l.floating);return f!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Hm(){return typeof window<"u"}function zc(t){return h2(t)?(t.nodeName||"").toLowerCase():"#document"}function ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(t){var e;return(e=(h2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function h2(t){return Hm()?t instanceof Node||t instanceof ms(t).Node:!1}function rr(t){return Hm()?t instanceof Element||t instanceof ms(t).Element:!1}function Lr(t){return Hm()?t instanceof HTMLElement||t instanceof ms(t).HTMLElement:!1}function N0(t){return!Hm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ms(t).ShadowRoot}const n3=new Set(["inline","contents"]);function Lu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!n3.has(i)}const s3=new Set(["table","td","th"]);function r3(t){return s3.has(zc(t))}const i3=[":popover-open",":modal"];function qm(t){return i3.some(e=>{try{return t.matches(e)}catch{return!1}})}const a3=["transform","translate","scale","rotate","perspective"],o3=["transform","translate","scale","rotate","perspective","filter"],l3=["paint","layout","strict","content"];function Cw(t){const e=kw(),n=rr(t)?ir(t):t;return a3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||o3.some(r=>(n.willChange||"").includes(r))||l3.some(r=>(n.contain||"").includes(r))}function c3(t){let e=Ia(t);for(;Lr(e)&&!wc(e);){if(Cw(e))return e;if(qm(e))return null;e=Ia(e)}return null}function kw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d3=new Set(["html","body","#document"]);function wc(t){return d3.has(zc(t))}function ir(t){return ms(t).getComputedStyle(t)}function Km(t){return rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ia(t){if(zc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N0(t)&&t.host||Wr(t);return N0(e)?e.host:e}function f2(t){const e=Ia(t);return wc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&Lu(e)?e:f2(e)}function pu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=f2(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=ms(i);if(a){const l=Tv(o);return e.concat(o,o.visualViewport||[],Lu(i)?i:[],l&&n?pu(l):[])}return e.concat(i,pu(i,[],n))}function Tv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function m2(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Lr(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Gf(n)!==a||Gf(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Ew(t){return rr(t)?t:t.contextElement}function zl(t){const e=Ew(t);if(!Lr(e))return Ir(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=m2(e);let o=(a?Gf(n.width):n.width)/r,l=(a?Gf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const u3=Ir(0);function p2(t){const e=ms(t);return!kw()||!e.visualViewport?u3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ms(t)?!1:e}function Fo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Ew(t);let o=Ir(1);e&&(r?rr(r)&&(o=zl(r)):o=zl(t));const l=h3(a,n,r)?p2(a):Ir(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,g=i.height/o.y;if(a){const m=ms(a),w=r&&rr(r)?ms(r):r;let f=m,x=Tv(f);for(;x&&r&&w!==f;){const N=zl(x),j=x.getBoundingClientRect(),v=ir(x),S=j.left+(x.clientLeft+parseFloat(v.paddingLeft))*N.x,y=j.top+(x.clientTop+parseFloat(v.paddingTop))*N.y;c*=N.x,d*=N.y,h*=N.x,g*=N.y,c+=S,d+=y,f=ms(x),x=Tv(f)}}return Qf({width:h,height:g,x:c,y:d})}function Gm(t,e){const n=Km(t).scrollLeft;return e?e.left+n:Fo(Wr(t)).left+n}function g2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Gm(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function f3(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Wr(r),l=e?qm(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Ir(1);const h=Ir(0),g=Lr(r);if((g||!g&&!a)&&((zc(r)!=="body"||Lu(o))&&(c=Km(r)),Lr(r))){const w=Fo(r);d=zl(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const m=o&&!g&&!a?g2(o,c):Ir(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function m3(t){return Array.from(t.getClientRects())}function p3(t){const e=Wr(t),n=Km(t),r=t.ownerDocument.body,i=ls(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ls(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Gm(t);const l=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=ls(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const _0=25;function g3(t,e){const n=ms(t),r=Wr(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const h=kw();(!h||h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=Gm(r);if(d<=0){const h=r.ownerDocument,g=h.body,m=getComputedStyle(g),w=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,f=Math.abs(r.clientWidth-g.clientWidth-w);f<=_0&&(a-=f)}else d<=_0&&(a+=d);return{width:a,height:o,x:l,y:c}}const x3=new Set(["absolute","fixed"]);function v3(t,e){const n=Fo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Lr(t)?zl(t):Ir(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function S0(t,e,n){let r;if(e==="viewport")r=g3(t,n);else if(e==="document")r=p3(Wr(t));else if(rr(e))r=v3(e,n);else{const i=p2(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Qf(r)}function x2(t,e){const n=Ia(t);return n===e||!rr(n)||wc(n)?!1:ir(n).position==="fixed"||x2(n,e)}function y3(t,e){const n=e.get(t);if(n)return n;let r=pu(t,[],!1).filter(l=>rr(l)&&zc(l)!=="body"),i=null;const a=ir(t).position==="fixed";let o=a?Ia(t):t;for(;rr(o)&&!wc(o);){const l=ir(o),c=Cw(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&x3.has(i.position)||Lu(o)&&!c&&x2(t,o))?r=r.filter(h=>h!==o):i=l,o=Ia(o)}return e.set(t,r),r}function w3(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?qm(e)?[]:y3(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const g=S0(e,h,i);return d.top=ls(g.top,d.top),d.right=Aa(g.right,d.right),d.bottom=Aa(g.bottom,d.bottom),d.left=ls(g.left,d.left),d},S0(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function j3(t){const{width:e,height:n}=m2(t);return{width:e,height:n}}function b3(t,e,n){const r=Lr(e),i=Wr(e),a=n==="fixed",o=Fo(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Ir(0);function d(){c.x=Gm(i)}if(r||!r&&!a)if((zc(e)!=="body"||Lu(i))&&(l=Km(e)),r){const w=Fo(e,!0,a,e);c.x=w.x+e.clientLeft,c.y=w.y+e.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?g2(i,l):Ir(0),g=o.left+l.scrollLeft-c.x-h.x,m=o.top+l.scrollTop-c.y-h.y;return{x:g,y:m,width:o.width,height:o.height}}function Eg(t){return ir(t).position==="static"}function C0(t,e){if(!Lr(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wr(t)===n&&(n=n.ownerDocument.body),n}function v2(t,e){const n=ms(t);if(qm(t))return n;if(!Lr(t)){let i=Ia(t);for(;i&&!wc(i);){if(rr(i)&&!Eg(i))return i;i=Ia(i)}return n}let r=C0(t,e);for(;r&&r3(r)&&Eg(r);)r=C0(r,e);return r&&wc(r)&&Eg(r)&&!Cw(r)?n:r||c3(t)||n}const N3=async function(t){const e=this.getOffsetParent||v2,n=this.getDimensions,r=await n(t.floating);return{reference:b3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _3(t){return ir(t).direction==="rtl"}const S3={convertOffsetParentRelativeRectToViewportRelativeRect:f3,getDocumentElement:Wr,getClippingRect:w3,getOffsetParent:v2,getElementRects:N3,getClientRects:m3,getDimensions:j3,getScale:zl,isElement:rr,isRTL:_3};function y2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function C3(t,e){let n=null,r;const i=Wr(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:h,top:g,width:m,height:w}=d;if(l||e(),!m||!w)return;const f=Fh(g),x=Fh(i.clientWidth-(h+m)),N=Fh(i.clientHeight-(g+w)),j=Fh(h),S={rootMargin:-f+"px "+-x+"px "+-N+"px "+-j+"px",threshold:ls(0,Aa(1,c))||1};let y=!0;function E(D){const k=D[0].intersectionRatio;if(k!==c){if(!y)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!y2(d,t.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(E,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(t)}return o(!0),a}function k3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Ew(t),h=i||a?[...d?pu(d):[],...pu(e)]:[];h.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const g=d&&l?C3(d,n):null;let m=-1,w=null;o&&(w=new ResizeObserver(j=>{let[v]=j;v&&v.target===d&&w&&(w.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(e)})),n()}),d&&!c&&w.observe(d),w.observe(e));let f,x=c?Fo(t):null;c&&N();function N(){const j=Fo(t);x&&!y2(x,j)&&n(),x=j,f=requestAnimationFrame(N)}return n(),()=>{var j;h.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),g==null||g(),(j=w)==null||j.disconnect(),w=null,c&&cancelAnimationFrame(f)}}const E3=ZL,T3=JL,P3=YL,A3=t3,I3=QL,k0=GL,R3=e3,D3=(t,e,n)=>{const r=new Map,i={platform:S3,...n},a={...i.platform,_c:r};return KL(t,e,{...i,platform:a})};var M3=typeof document<"u",O3=function(){},df=M3?p.useLayoutEffect:O3;function Xf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Xf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Xf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function w2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E0(t,e){const n=w2(t);return Math.round(e*n)/n}function Tg(t){const e=p.useRef(t);return df(()=>{e.current=t}),e}function F3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,g]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,w]=p.useState(r);Xf(m,r)||w(r);const[f,x]=p.useState(null),[N,j]=p.useState(null),v=p.useCallback(L=>{L!==D.current&&(D.current=L,x(L))},[]),S=p.useCallback(L=>{L!==k.current&&(k.current=L,j(L))},[]),y=a||f,E=o||N,D=p.useRef(null),k=p.useRef(null),_=p.useRef(h),C=c!=null,R=Tg(c),A=Tg(i),T=Tg(d),I=p.useCallback(()=>{if(!D.current||!k.current)return;const L={placement:e,strategy:n,middleware:m};A.current&&(L.platform=A.current),D3(D.current,k.current,L).then(B=>{const oe={...B,isPositioned:T.current!==!1};F.current&&!Xf(_.current,oe)&&(_.current=oe,Xo.flushSync(()=>{g(oe)}))})},[m,e,n,A,T]);df(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,g(L=>({...L,isPositioned:!1})))},[d]);const F=p.useRef(!1);df(()=>(F.current=!0,()=>{F.current=!1}),[]),df(()=>{if(y&&(D.current=y),E&&(k.current=E),y&&E){if(R.current)return R.current(y,E,I);I()}},[y,E,I,R,C]);const K=p.useMemo(()=>({reference:D,floating:k,setReference:v,setFloating:S}),[v,S]),z=p.useMemo(()=>({reference:y,floating:E}),[y,E]),V=p.useMemo(()=>{const L={position:n,left:0,top:0};if(!z.floating)return L;const B=E0(z.floating,h.x),oe=E0(z.floating,h.y);return l?{...L,transform:"translate("+B+"px, "+oe+"px)",...w2(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:oe}},[n,l,z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:I,refs:K,elements:z,floatingStyles:V}),[h,I,K,z,V])}const L3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k0({element:r.current,padding:i}).fn(n):{}:r?k0({element:r,padding:i}).fn(n):{}}}},$3=(t,e)=>({...E3(t),options:[t,e]}),U3=(t,e)=>({...T3(t),options:[t,e]}),V3=(t,e)=>({...R3(t),options:[t,e]}),z3=(t,e)=>({...P3(t),options:[t,e]}),B3=(t,e)=>({...A3(t),options:[t,e]}),W3=(t,e)=>({...I3(t),options:[t,e]}),H3=(t,e)=>({...L3(t),options:[t,e]});var q3="Arrow",j2=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Oe.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});j2.displayName=q3;var K3=j2;function Tw(t){const[e,n]=p.useState(void 0);return rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Pw="Popper",[b2,Ba]=rs(Pw),[G3,N2]=b2(Pw),_2=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return s.jsx(G3,{scope:e,anchor:r,onAnchorChange:i,children:n})};_2.displayName=Pw;var S2="PopperAnchor",C2=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=N2(S2,n),o=p.useRef(null),l=et(e,o),c=p.useRef(null);return p.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(Oe.div,{...i,ref:l})});C2.displayName=S2;var Aw="PopperContent",[Y3,Q3]=b2(Aw),k2=p.forwardRef((t,e)=>{var ge,He,ze,H,_e,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:w="optimized",onPlaced:f,...x}=t,N=N2(Aw,n),[j,v]=p.useState(null),S=et(e,Qe=>v(Qe)),[y,E]=p.useState(null),D=Tw(y),k=(D==null?void 0:D.width)??0,_=(D==null?void 0:D.height)??0,C=r+(a!=="center"?"-"+a:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},A=Array.isArray(d)?d:[d],T=A.length>0,I={padding:R,boundary:A.filter(Z3),altBoundary:T},{refs:F,floatingStyles:K,placement:z,isPositioned:V,middlewareData:L}=F3({strategy:"fixed",placement:C,whileElementsMounted:(...Qe)=>k3(...Qe,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[$3({mainAxis:i+_,alignmentAxis:o}),c&&U3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?V3():void 0,...I}),c&&z3({...I}),B3({...I,apply:({elements:Qe,rects:_t,availableWidth:kt,availableHeight:gn})=>{const{width:An,height:cr}=_t.reference,Et=Qe.floating.style;Et.setProperty("--radix-popper-available-width",`${kt}px`),Et.setProperty("--radix-popper-available-height",`${gn}px`),Et.setProperty("--radix-popper-anchor-width",`${An}px`),Et.setProperty("--radix-popper-anchor-height",`${cr}px`)}}),y&&H3({element:y,padding:l}),J3({arrowWidth:k,arrowHeight:_}),m&&W3({strategy:"referenceHidden",...I})]}),[B,oe]=P2(z),le=Un(f);rn(()=>{V&&(le==null||le())},[V,le]);const W=(ge=L.arrow)==null?void 0:ge.x,fe=(He=L.arrow)==null?void 0:He.y,de=((ze=L.arrow)==null?void 0:ze.centerOffset)!==0,[Ue,qe]=p.useState();return rn(()=>{j&&qe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(H=L.transformOrigin)==null?void 0:H.x,(_e=L.transformOrigin)==null?void 0:_e.y].join(" "),...((Pe=L.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Y3,{scope:n,placedSide:B,onArrowChange:E,arrowX:W,arrowY:fe,shouldHideArrow:de,children:s.jsx(Oe.div,{"data-side":B,"data-align":oe,...x,ref:S,style:{...x.style,animation:V?void 0:"none"}})})})});k2.displayName=Aw;var E2="PopperArrow",X3={top:"bottom",right:"left",bottom:"top",left:"right"},T2=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Q3(E2,r),o=X3[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(K3,{...i,ref:n,style:{...i.style,display:"block"}})})});T2.displayName=E2;function Z3(t){return t!==null}var J3=t=>({name:"transformOrigin",options:t,fn(e){var N,j,v;const{placement:n,rects:r,middlewareData:i}=e,o=((N=i.arrow)==null?void 0:N.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=P2(n),g={start:"0%",center:"50%",end:"100%"}[h],m=(((j=i.arrow)==null?void 0:j.x)??0)+l/2,w=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let f="",x="";return d==="bottom"?(f=o?g:`${m}px`,x=`${-c}px`):d==="top"?(f=o?g:`${m}px`,x=`${r.floating.height+c}px`):d==="right"?(f=`${-c}px`,x=o?g:`${w}px`):d==="left"&&(f=`${r.floating.width+c}px`,x=o?g:`${w}px`),{data:{x:f,y:x}}}});function P2(t){const[e,n="center"]=t.split("-");return[e,n]}var Iw=_2,$u=C2,Ym=k2,Qm=T2,e6=Symbol("radix.slottable");function t6(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=e6,e}var n6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),s6="VisuallyHidden",A2=p.forwardRef((t,e)=>s.jsx(Oe.span,{...t,ref:e,style:{...n6,...t.style}}));A2.displayName=s6;var r6=A2,[Xm]=rs("Tooltip",[Ba]),Rw=Ba(),I2="TooltipProvider",i6=700,T0="tooltip.open",[a6,R2]=Xm(I2),D2=t=>{const{__scopeTooltip:e,delayDuration:n=i6,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(a6,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};D2.displayName=I2;var M2="Tooltip",[nY,Zm]=Xm(M2),Pv="TooltipTrigger",o6=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Zm(Pv,n),a=R2(Pv,n),o=Rw(n),l=p.useRef(null),c=et(e,l,i.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),g=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx($u,{asChild:!0,...o,children:s.jsx(Oe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:pe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});o6.displayName=Pv;var l6="TooltipPortal",[sY,c6]=Xm(l6,{forceMount:void 0}),jc="TooltipContent",O2=p.forwardRef((t,e)=>{const n=c6(jc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=Zm(jc,t.__scopeTooltip);return s.jsx(is,{present:r||o.open,children:o.disableHoverableContent?s.jsx(F2,{side:i,...a,ref:e}):s.jsx(d6,{side:i,...a,ref:e})})}),d6=p.forwardRef((t,e)=>{const n=Zm(jc,t.__scopeTooltip),r=R2(jc,t.__scopeTooltip),i=p.useRef(null),a=et(e,i),[o,l]=p.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:g}=r,m=p.useCallback(()=>{l(null),g(!1)},[g]),w=p.useCallback((f,x)=>{const N=f.currentTarget,j={x:f.clientX,y:f.clientY},v=p6(j,N.getBoundingClientRect()),S=g6(j,v),y=x6(x.getBoundingClientRect()),E=y6([...S,...y]);l(E),g(!0)},[g]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const f=N=>w(N,h),x=N=>w(N,c);return c.addEventListener("pointerleave",f),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",f),h.removeEventListener("pointerleave",x)}}},[c,h,w,m]),p.useEffect(()=>{if(o){const f=x=>{const N=x.target,j={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(N))||(h==null?void 0:h.contains(N)),S=!v6(j,o);v?m():S&&(m(),d())};return document.addEventListener("pointermove",f),()=>document.removeEventListener("pointermove",f)}},[c,h,o,d,m]),s.jsx(F2,{...t,ref:a})}),[u6,h6]=Xm(M2,{isInside:!1}),f6=t6("TooltipContent"),F2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Zm(jc,n),d=Rw(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(T0,h),()=>document.removeEventListener(T0,h)),[h]),p.useEffect(()=>{if(c.trigger){const g=m=>{const w=m.target;w!=null&&w.contains(c.trigger)&&h()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[c.trigger,h]),s.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:h,children:s.jsxs(Ym,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(f6,{children:r}),s.jsx(u6,{scope:n,isInside:!0,children:s.jsx(r6,{id:c.contentId,role:"tooltip",children:i||r})})]})})});O2.displayName=jc;var L2="TooltipArrow",m6=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Rw(n);return h6(L2,n).isInside?null:s.jsx(Qm,{...i,...r,ref:e})});m6.displayName=L2;function p6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function g6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function x6(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function v6(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,h=l.y,g=c.x,m=c.y;h>r!=m>r&&n<(g-d)*(r-h)/(m-h)+d&&(i=!i)}return i}function y6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),w6(e)}function w6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var j6=D2,$2=O2;const b6=j6,N6=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx($2,{ref:r,sideOffset:e,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));N6.displayName=$2.displayName;const _6=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},V2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,g=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,w=d&63;c||(w=64,o||(m=64)),r.push(n[h],n[g],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||g==null)throw new C6;const m=a<<2|l>>4;if(r.push(m),d!==64){const w=l<<4&240|d>>2;if(r.push(w),g!==64){const f=d<<6&192|g;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k6=function(t){const e=U2(t);return V2.encodeByteArray(e,!0)},Zf=function(t){return k6(t).replace(/\./g,"")},z2=function(t){try{return V2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=()=>E6().__FIREBASE_DEFAULTS__,P6=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z2(t[1]);return e&&JSON.parse(e)},Dw=()=>{try{return _6()||T6()||P6()||A6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B2=t=>{var e,n;return(n=(e=Dw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},W2=t=>{const e=B2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H2=()=>{var t;return(t=Dw())==null?void 0:t.config},q2=t=>{var e;return(e=Dw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zf(JSON.stringify(n)),Zf(JSON.stringify(o)),""].join(".")}const zd={};function R6(){const t={prod:[],emulator:[]};for(const e of Object.keys(zd))zd[e]?t.emulator.push(e):t.prod.push(e);return t}function D6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A0=!1;function Ow(t,e){if(typeof window>"u"||typeof document>"u"||!Bc(window.location.host)||zd[t]===e||zd[t]||A0)return;zd[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=R6().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,w){m.setAttribute("width","24"),m.setAttribute("id",w),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{A0=!0,o()},m}function h(m,w){m.setAttribute("id",w),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=D6(r),w=n("text"),f=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),N=document.getElementById(x)||document.createElement("a"),j=n("preprendIcon"),v=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),h(N,x);const y=d();c(v,j),S.append(v,f,N,y),document.body.appendChild(S)}a?(f.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,f.innerText="Preview backend running in this workspace."),f.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function O6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function L6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $6(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U6(){try{return typeof indexedDB=="object"}catch{return!1}}function V6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z6,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?B6(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Hr(i,l,r)}}function B6(t,e){return t.replace(W6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const W6=/\{\$([^}]+)}/g;function H6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(I0(a)&&I0(o)){if(!Lo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function q6(t,e){const n=new K6(t,e);return n.subscribe.bind(n)}class K6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pg),i.error===void 0&&(i.error=Pg),i.complete===void 0&&(i.complete=Pg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X6(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q6(t){return t===so?void 0:t}function X6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const J6={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},e5=yt.INFO,t5={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},n5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fw{constructor(e){this.name=e,this._logLevel=e5,this._logHandler=n5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const s5=(t,e)=>e.some(n=>t instanceof n);let R0,D0;function r5(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i5(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G2=new WeakMap,Av=new WeakMap,Y2=new WeakMap,Ag=new WeakMap,Lw=new WeakMap;function a5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ba(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G2.set(n,t)}).catch(()=>{}),Lw.set(e,t),e}function o5(t){if(Av.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Av.set(t,e)}let Iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Av.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l5(t){Iv=t(Iv)}function c5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ig(this),e,...n);return Y2.set(r,e.sort?e.sort():[e]),ba(r)}:i5().includes(t)?function(...e){return t.apply(Ig(this),e),ba(G2.get(this))}:function(...e){return ba(t.apply(Ig(this),e))}}function d5(t){return typeof t=="function"?c5(t):(t instanceof IDBTransaction&&o5(t),s5(t,r5())?new Proxy(t,Iv):t)}function ba(t){if(t instanceof IDBRequest)return a5(t);if(Ag.has(t))return Ag.get(t);const e=d5(t);return e!==t&&(Ag.set(t,e),Lw.set(e,t)),e}const Ig=t=>Lw.get(t);function u5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=ba(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ba(o.result),c.oldVersion,c.newVersion,ba(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const h5=["get","getKey","getAll","getAllKeys","count"],f5=["put","add","delete","clear"],Rg=new Map;function M0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=f5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h5.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return Rg.set(e,a),a}l5(t=>({...t,get:(e,n,r)=>M0(e,n)||t.get(e,n,r),has:(e,n)=>!!M0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rv="@firebase/app",O0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Fw("@firebase/app"),g5="@firebase/app-compat",x5="@firebase/analytics-compat",v5="@firebase/analytics",y5="@firebase/app-check-compat",w5="@firebase/app-check",j5="@firebase/auth",b5="@firebase/auth-compat",N5="@firebase/database",_5="@firebase/data-connect",S5="@firebase/database-compat",C5="@firebase/functions",k5="@firebase/functions-compat",E5="@firebase/installations",T5="@firebase/installations-compat",P5="@firebase/messaging",A5="@firebase/messaging-compat",I5="@firebase/performance",R5="@firebase/performance-compat",D5="@firebase/remote-config",M5="@firebase/remote-config-compat",O5="@firebase/storage",F5="@firebase/storage-compat",L5="@firebase/firestore",$5="@firebase/ai",U5="@firebase/firestore-compat",V5="firebase",z5="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="[DEFAULT]",B5={[Rv]:"fire-core",[g5]:"fire-core-compat",[v5]:"fire-analytics",[x5]:"fire-analytics-compat",[w5]:"fire-app-check",[y5]:"fire-app-check-compat",[j5]:"fire-auth",[b5]:"fire-auth-compat",[N5]:"fire-rtdb",[_5]:"fire-data-connect",[S5]:"fire-rtdb-compat",[C5]:"fire-fn",[k5]:"fire-fn-compat",[E5]:"fire-iid",[T5]:"fire-iid-compat",[P5]:"fire-fcm",[A5]:"fire-fcm-compat",[I5]:"fire-perf",[R5]:"fire-perf-compat",[D5]:"fire-rc",[M5]:"fire-rc-compat",[O5]:"fire-gcs",[F5]:"fire-gcs-compat",[L5]:"fire-fst",[U5]:"fire-fst-compat",[$5]:"fire-vertex","fire-js":"fire-js",[V5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,W5=new Map,Mv=new Map;function F0(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(Mv.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Mv.set(e,t);for(const n of Jf.values())F0(n,t);for(const n of W5.values())F0(n,t);return!0}function Jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Uu("app","Firebase",H5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=z5;function Q2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Dv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=H2()),!n)throw Na.create("no-options");const a=Jf.get(i);if(a){if(Lo(n,a.options)&&Lo(r,a.config))return a;throw Na.create("duplicate-app",{appName:i})}const o=new Z6(i);for(const c of Mv.values())o.addComponent(c);const l=new q5(n,r,o);return Jf.set(i,l),l}function $w(t=Dv){const e=Jf.get(t);if(!e&&t===Dv&&H2())return Q2();if(!e)throw Na.create("no-app",{appName:t});return e}function Rr(t,e,n){let r=B5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(o.join(" "));return}$o(new Ra(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="firebase-heartbeat-database",G5=1,gu="firebase-heartbeat-store";let Dg=null;function X2(){return Dg||(Dg=u5(K5,G5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),Dg}async function Y5(t){try{const n=(await X2()).transaction(gu),r=await n.objectStore(gu).get(Z2(t));return await n.done,r}catch(e){if(e instanceof Hr)bi.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function L0(t,e){try{const r=(await X2()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,Z2(t)),await r.done}catch(n){if(n instanceof Hr)bi.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function Z2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=1024,X5=30;class Z5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>X5){const o=t$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$0(),{heartbeatsToSend:r,unsentEntries:i}=J5(this._heartbeatsCache.heartbeats),a=Zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return bi.warn(n),""}}}function $0(){return new Date().toISOString().substring(0,10)}function J5(t,e=Q5){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),U0(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),U0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U6()?V6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U0(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}function t$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t){$o(new Ra("platform-logger",e=>new m5(e),"PRIVATE")),$o(new Ra("heartbeat",e=>new Z5(e),"PRIVATE")),Rr(Rv,O0,t),Rr(Rv,O0,"esm2020"),Rr("fire-js","")}n$("");var s$="firebase",r$="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(s$,r$,"app");function J2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i$=J2,eE=new Uu("auth","Firebase",J2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Fw("@firebase/auth");function a$(t,...e){em.logLevel<=yt.WARN&&em.warn(`Auth (${el}): ${t}`,...e)}function uf(t,...e){em.logLevel<=yt.ERROR&&em.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw Vw(t,...e)}function Js(t,...e){return Vw(t,...e)}function Uw(t,e,n){const r={...i$(),[e]:n};return new Uu("auth","Firebase",r).create(e,{appName:t.name})}function _a(t){return Uw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tE(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$r(t,"argument-error"),Uw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eE.create(t,...e)}function Fe(t,e,...n){if(!t)throw Vw(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function Ni(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function o$(){return V0()==="http:"||V0()==="https:"}function V0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o$()||F6()||"connection"in navigator)?navigator.onLine:!0}function c$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=M6()||L6()}get(){return l$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h$=new zu(3e4,6e4);function Bw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wc(t,e,n,r,i={}){return sE(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Vu({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return O6()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Bc(t.emulatorConfig.host)&&(d.credentials="include"),nE.fetch()(await rE(t,t.config.apiHost,n,l),d)})}async function sE(t,e,n){t._canInitEmulator=!1;const r={...d$,...e};try{const i=new m$(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Lh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lh(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Uw(t,h,d);$r(t,h)}}catch(i){if(i instanceof Hr)throw i;$r(t,"network-request-failed",{message:String(i)})}}async function f$(t,e,n,r,i={}){const a=await Wc(t,e,n,r,i);return"mfaPendingCredential"in a&&$r(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rE(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?zw(t.config,i):`${t.config.apiScheme}://${i}`;return u$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class m${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Js(this.auth,"network-request-failed")),h$.get())})}}function Lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Js(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e){return Wc(t,"POST","/v1/accounts:delete",e)}async function tm(t,e){return Wc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g$(t,e=!1){const n=Ei(t),r=await n.getIdToken(e),i=Ww(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Bd(Mg(i.auth_time)),issuedAtTime:Bd(Mg(i.iat)),expirationTime:Bd(Mg(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Mg(t){return Number(t)*1e3}function Ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const i=z2(n);return i?JSON.parse(i):(uf("Failed to decode base64 JWT payload"),null)}catch(i){return uf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z0(t){const e=Ww(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&x$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var g;const e=t.auth,n=await t.getIdToken(),r=await xu(t,tm(e,{idToken:n}));Fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(g=i.providerUserInfo)!=null&&g.length?iE(i.providerUserInfo):[],o=w$(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function y$(t){const e=Ei(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t,e){const n=await sE(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await rE(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Bc(t.emulatorConfig.host)&&(c.credentials="include"),nE.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b$(t,e){return Wc(t,"POST","/v2/accounts:revokeToken",Bw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await j$(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Bl;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new v$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g$(this,e)}reload(){return y$(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(_a(this.auth));const e=await this.getIdToken();return await xu(this,p$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:w,providerData:f,stsTokenManager:x}=n;Fe(g&&x,e,"internal-error");const N=Bl.fromJSON(this.name,x);Fe(typeof g=="string",e,"internal-error"),$i(r,e.name),$i(i,e.name),Fe(typeof m=="boolean",e,"internal-error"),Fe(typeof w=="boolean",e,"internal-error"),$i(a,e.name),$i(o,e.name),$i(l,e.name),$i(c,e.name),$i(d,e.name),$i(h,e.name);const j=new Hs({uid:g,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:N,createdAt:d,lastLoginAt:h});return f&&Array.isArray(f)&&(j.providerData=f.map(v=>({...v}))),c&&(j._redirectEventId=c),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bl;i.updateFromServerResponse(n);const a=new Hs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?iE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Bl;l.updateFromIdToken(r);const c=new Hs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Fv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;function ui(t){Ni(t instanceof Function,"Expected a class definition");let e=B0.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aE.type="NONE";const W0=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e,n){return`firebase:${t}:${e}:${n}`}class Wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=hf(this.userKey,i.apiKey,a),this.fullPersistenceKey=hf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tm(this.auth,{idToken:e}).catch(()=>{});return n?Hs._fromGetAccountInfoResponse(this.auth,n,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wl(ui(W0),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||ui(W0);const o=hf(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let g;if(typeof h=="string"){const m=await tm(e,{idToken:h}).catch(()=>{});if(!m)break;g=await Hs._fromGetAccountInfoResponse(e,m,h)}else g=Hs._fromJSON(e,h);d!==a&&(l=g),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Wl(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Wl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hE(e))return"Blackberry";if(fE(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||cE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oE(t=Vn()){return/firefox\//i.test(t)}function lE(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cE(t=Vn()){return/crios\//i.test(t)}function dE(t=Vn()){return/iemobile/i.test(t)}function uE(t=Vn()){return/android/i.test(t)}function hE(t=Vn()){return/blackberry/i.test(t)}function fE(t=Vn()){return/webos/i.test(t)}function Hw(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N$(t=Vn()){var e;return Hw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _$(){return $6()&&document.documentMode===10}function mE(t=Vn()){return Hw(t)||uE(t)||fE(t)||hE(t)||/windows phone/i.test(t)||dE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e=[]){let n;switch(t){case"Browser":n=H0(Vn());break;case"Worker":n=`${H0(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C$(t,e={}){return Wc(t,"GET","/v2/passwordPolicy",Bw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=6;class E${constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??k$,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new S$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tm(this,{idToken:e}),r=await Hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(_a(this));const n=e?Ei(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C$(this),n=new E$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&a$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Hc(t){return Ei(t)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=q6(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P$(t){qw=t}function A$(t){return qw.loadJS(t)}function I$(){return qw.gapiScript}function R$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(t,e){const n=Jm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Lo(a,e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}function M$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O$(t,e,n){const r=Hc(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=gE(e),{host:o,port:l}=F$(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(Lo(d,r.config.emulator)&&Lo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Bc(o)?(Mw(`${a}//${o}${c}`),Ow("Auth",!0)):L$()}function gE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F$(t){const e=gE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:K0(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:K0(o)}}}function K0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t,e){return f$(t,"POST","/v1/accounts:signInWithIdp",Bw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="http://localhost";class _i extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new _i(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hl(e,n)}buildRequest(){const e={requestUri:$$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wd extends qc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Fe("providerId"in n&&"signInMethod"in n,"argument-error"),_i._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Fe(e.idToken||e.accessToken,"argument-error"),_i._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Wd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:o,providerId:l}=e;if(!r&&!i&&!n&&!a||!l)return null;try{return new Wd(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends qc{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _i._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends qc{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends qc{constructor(){super("twitter.com")}static credential(e,n){return _i._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Hs._fromIdTokenResponse(e,r,i),o=G0(r);return new bc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=G0(r);return new bc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function G0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Hr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sm(e,n,r,i)}}function vE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,a,e,r):a})}async function U$(t,e,n=!1){const r=await xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e,n=!1){const{auth:r}=t;if(cs(r.app))return Promise.reject(_a(r));const i="reauthenticate";try{const a=await xu(t,vE(r,i,e,t),n);Fe(a.idToken,r,"internal-error");const o=Ww(a.idToken);Fe(o,r,"internal-error");const{sub:l}=o;return Fe(t.uid===l,r,"user-mismatch"),bc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z$(t,e,n=!1){if(cs(t.app))return Promise.reject(_a(t));const r="signIn",i=await vE(t,r,e),a=await bc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function B$(t,e,n,r){return Ei(t).onIdTokenChanged(e,n,r)}function W$(t,e,n){return Ei(t).beforeAuthStateChanged(e,n)}function H$(t,e,n,r){return Ei(t).onAuthStateChanged(e,n,r)}function q$(t){return Ei(t).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$=1e3,G$=10;class wE extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);_$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},K$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const Y$=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const bE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await Q$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Kw("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function Z$(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function J$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function t9(){return NE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firebaseLocalStorageDb",n9=1,im="firebaseLocalStorage",SE="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function np(t,e){return t.transaction([im],e?"readwrite":"readonly").objectStore(im)}function s9(){const t=indexedDB.deleteDatabase(_E);return new Bu(t).toPromise()}function Lv(){const t=indexedDB.open(_E,n9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(im,{keyPath:SE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(im)?e(r):(r.close(),await s9(),e(await Lv()))})})}async function Y0(t,e,n){const r=np(t,!0).put({[SE]:e,value:n});return new Bu(r).toPromise()}async function r9(t,e){const n=np(t,!1).get(e),r=await new Bu(n).toPromise();return r===void 0?null:r.value}function Q0(t,e){const n=np(t,!0).delete(e);return new Bu(n).toPromise()}const i9=800,a9=3;class CE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>a9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(t9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await J$(),!this.activeServiceWorker)return;this.sender=new X$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lv();return await Y0(e,rm,"1"),await Q0(e,rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=np(i,!1).getAll();return new Bu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CE.type="LOCAL";const o9=CE;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e){return e?ui(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends xE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l9(t){return z$(t.auth,new Yw(t),t.bypassAuthState)}function c9(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),V$(n,new Yw(t),t.bypassAuthState)}async function d9(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),U$(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l9;case"linkViaPopup":case"linkViaRedirect":return d9;case"reauthViaPopup":case"reauthViaRedirect":return c9;default:$r(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new zu(2e3,1e4);async function EE(t,e,n){if(cs(t.app))return Promise.reject(Js(t,"operation-not-supported-in-this-environment"));const r=Hc(t);tE(t,e,ep);const i=Gw(r,n);return new mo(r,"signInViaPopup",e,i).executeNotNull()}class mo extends kE{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u9.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="pendingRedirect",ff=new Map;class f9 extends kE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const r=await m9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m9(t,e){const n=PE(e),r=TE(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function p9(t,e){return TE(t)._set(PE(e),"true")}function g9(t,e){ff.set(t._key(),e)}function TE(t){return ui(t._redirectPersistence)}function PE(t){return hf(h9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t,e,n){return x9(t,e,n)}async function x9(t,e,n){if(cs(t.app))return Promise.reject(_a(t));const r=Hc(t);tE(t,e,ep),await r._initializationPromise;const i=Gw(r,n);return await p9(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function v9(t,e){return await Hc(t)._initializationPromise,IE(t,e,!1)}async function IE(t,e,n=!1){if(cs(t.app))return Promise.reject(_a(t));const r=Hc(t),i=Gw(r,e),o=await new f9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=10*60*1e3;class w9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y9&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e={}){return Wc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_9=/^https?/;async function S9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b9(t);for(const n of e)try{if(C9(n))return}catch{}$r(t,"unauthorized-domain")}function C9(t){const e=Ov(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_9.test(n))return!1;if(N9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new zu(3e4,6e4);function Z0(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E9(t){return new Promise((e,n)=>{var i,a,o;function r(){Z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z0(),n(Js(t,"network-request-failed"))},timeout:k9.get()})}if((a=(i=Dr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Dr().gapi)!=null&&o.load)r();else{const l=R$("iframefcb");return Dr()[l]=()=>{gapi.load?r():n(Js(t,"network-request-failed"))},A$(`${I$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw mf=null,e})}let mf=null;function T9(t){return mf=mf||E9(t),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new zu(5e3,15e3),A9="__/auth/iframe",I9="emulator/auth/iframe",R9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M9(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zw(e,I9):`https://${t.config.authDomain}/${A9}`,r={apiKey:e.apiKey,appName:t.name,v:el},i=D9.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vu(r).slice(1)}`}async function O9(t){const e=await T9(t),n=Dr().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:M9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Js(t,"network-request-failed"),l=Dr().setTimeout(()=>{a(o)},P9.get());function c(){Dr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L9=500,$9=600,U9="_blank",V9="http://localhost";class J0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z9(t,e,n,r=L9,i=$9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...F9,width:r.toString(),height:i.toString(),top:a,left:o},d=Vn().toLowerCase();n&&(l=cE(d)?U9:n),oE(d)&&(e=e||V9,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[w,f])=>`${m}${w}=${f},`,"");if(N$(d)&&l!=="_self")return B9(e||"",l),new J0(null);const g=window.open(e||"",l,h);Fe(g,t,"popup-blocked");try{g.focus()}catch{}return new J0(g)}function B9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="__/auth/handler",H9="emulator/auth/handler",q9=encodeURIComponent("fac");async function e_(t,e,n,r,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:i};if(e instanceof ep){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",H6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))o[h]=g}if(e instanceof qc){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${q9}=${encodeURIComponent(c)}`:"";return`${K9(t)}?${Vu(l).slice(1)}${d}`}function K9({config:t}){return t.emulator?zw(t,H9):`https://${t.authDomain}/${W9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class G9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=IE,this._overrideRedirectResult=g9}async _openPopup(e,n,r,i){var o;Ni((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await e_(e,n,r,Ov(),i);return z9(e,a,Kw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await e_(e,n,r,Ov(),i);return Z$(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O9(e),r=new w9(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Og];a!==void 0&&n(!!a),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mE()||lE()||Hw()}}const Y9=G9;var t_="@firebase/auth",n_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z9(t){$o(new Ra("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pE(t)},d=new T$(r,i,a,c);return M$(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Ra("auth-internal",e=>{const n=Hc(e.getProvider("auth").getImmediate());return(r=>new Q9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(t_,n_,X9(t)),Rr(t_,n_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=5*60,e8=q2("authIdTokenMaxAge")||J9;let s_=null;const t8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e8)return;const i=n==null?void 0:n.token;s_!==i&&(s_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function n8(t=$w()){const e=Jm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D$(t,{popupRedirectResolver:Y9,persistence:[o9,Y$,bE]}),r=q2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=t8(a.toString());W$(n,o,()=>o(n.currentUser)),B$(n,l=>o(l))}}const i=B2("auth");return i&&O$(n,`http://${i}`),n}function s8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}P$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Js("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",s8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebasestorage.googleapis.com",r8="storageBucket",i8=2*60*1e3,a8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Hr{constructor(e,n,r=0){super(Fg(e),`Firebase Storage: ${n} (${Fg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ur||(Ur={}));function Fg(t){return"storage/"+t}function o8(){const t="An unknown error occurred, please check the error payload for server response.";return new qr(Ur.UNKNOWN,t)}function l8(){return new qr(Ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c8(){return new qr(Ur.CANCELED,"User canceled the upload/download.")}function d8(t){return new qr(Ur.INVALID_URL,"Invalid URL '"+t+"'.")}function u8(t){return new qr(Ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function r_(t){return new qr(Ur.INVALID_ARGUMENT,t)}function ME(){return new qr(Ur.APP_DELETED,"The Firebase app was deleted.")}function h8(t){return new qr(Ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qs.makeFromUrl(e,n)}catch{return new qs(e,"")}if(r.path==="")return r;throw u8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(y){y.path_=decodeURIComponent(y.path)}const h="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${h}/b/${i}/o${m}`,"i"),f={bucket:1,path:3},x=n===DE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",j=new RegExp(`^https?://${x}/${i}/${N}`,"i"),S=[{regex:l,indices:c,postModify:a},{regex:w,indices:f,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let y=0;y<S.length;y++){const E=S[y],D=E.regex.exec(e);if(D){const k=D[E.indices.bucket];let _=D[E.indices.path];_||(_=""),r=new qs(k,_),E.postModify(r);break}}if(r==null)throw d8(e);return r}}class f8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...N){d||(d=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(w,c())},N)}function m(){a&&clearTimeout(a)}function w(N,...j){if(d){m();return}if(N){m(),h.call(null,N,...j);return}if(c()||o){m(),h.call(null,N,...j);return}r<64&&(r*=2);let S;l===1?(l=2,S=0):S=(r+Math.random())*1e3,g(S)}let f=!1;function x(N){f||(f=!0,m(),!d&&(i!==null?(N||(l=2),clearTimeout(i),g(0)):N||(l=1)))}return g(0),a=setTimeout(()=>{o=!0,x(!0)},n),x}function p8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){return t!==void 0}function i_(t,e,n,r){if(r<e)throw r_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw r_(`Invalid value for '${t}'. Expected ${n} or less.`)}function x8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var am;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(am||(am={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,i,a,o,l,c,d,h,g,m=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=g,this.retry=m,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,x)=>{this.resolve_=f,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $h(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===am.NO_ERROR,c=a.getStatus();if(!l||v8(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===am.ABORT;r(!1,new $h(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new $h(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());g8(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=o8();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?ME():c8();o(c)}else{const c=l8();o(c)}};this.canceled_?n(!1,new $h(!1,null,!0)):this.backoffId_=m8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $h{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function w8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function j8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function N8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _8(t,e,n,r,i,a,o=!0,l=!1){const c=x8(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return b8(h,e),w8(h,n),j8(h,a),N8(h,r),new y8(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this._service=e,n instanceof qs?this._location=n:this._location=qs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new om(e,n)}get root(){const e=new qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C8(this._location.path)}get storage(){return this._service}get parent(){const e=S8(this._location.path);if(e===null)return null;const n=new qs(this._location.bucket,e);return new om(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw h8(e)}}function a_(t,e){const n=e==null?void 0:e[r8];return n==null?null:qs.makeFromBucketSpec(n,t)}function k8(t,e,n,r={}){t.host=`${e}:${n}`;const i=Bc(e);i&&(Mw(`https://${t.host}/b`),Ow("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:K2(a,t.app.options.projectId))}class E8{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=DE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i8,this._maxUploadRetryTime=a8,this._requests=new Set,i!=null?this._bucket=qs.makeFromBucketSpec(i,this._host):this._bucket=a_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qs.makeFromBucketSpec(this._url,e):this._bucket=a_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){i_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new om(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new f8(ME());{const o=_8(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const o_="@firebase/storage",l_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="storage";function T8(t=$w(),e){t=Ei(t);const r=Jm(t,OE).getImmediate({identifier:e}),i=W2("storage");return i&&P8(r,...i),r}function P8(t,e,n,r={}){k8(t,e,n,r)}function A8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new E8(n,r,i,e,el)}function I8(){$o(new Ra(OE,A8,"PUBLIC").setMultipleInstances(!0)),Rr(o_,l_,""),Rr(o_,l_,"esm2020")}I8();var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,_){function C(){}C.prototype=_.prototype,k.F=_.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(R,A,T){for(var I=Array(arguments.length-2),F=2;F<arguments.length;F++)I[F-2]=arguments[F];return _.prototype[A].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,_,C){C||(C=0);const R=Array(16);if(typeof _=="string")for(var A=0;A<16;++A)R[A]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(A=0;A<16;++A)R[A]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=k.g[0],C=k.g[1],A=k.g[2];let T=k.g[3],I;I=_+(T^C&(A^T))+R[0]+3614090360&4294967295,_=C+(I<<7&4294967295|I>>>25),I=T+(A^_&(C^A))+R[1]+3905402710&4294967295,T=_+(I<<12&4294967295|I>>>20),I=A+(C^T&(_^C))+R[2]+606105819&4294967295,A=T+(I<<17&4294967295|I>>>15),I=C+(_^A&(T^_))+R[3]+3250441966&4294967295,C=A+(I<<22&4294967295|I>>>10),I=_+(T^C&(A^T))+R[4]+4118548399&4294967295,_=C+(I<<7&4294967295|I>>>25),I=T+(A^_&(C^A))+R[5]+1200080426&4294967295,T=_+(I<<12&4294967295|I>>>20),I=A+(C^T&(_^C))+R[6]+2821735955&4294967295,A=T+(I<<17&4294967295|I>>>15),I=C+(_^A&(T^_))+R[7]+4249261313&4294967295,C=A+(I<<22&4294967295|I>>>10),I=_+(T^C&(A^T))+R[8]+1770035416&4294967295,_=C+(I<<7&4294967295|I>>>25),I=T+(A^_&(C^A))+R[9]+2336552879&4294967295,T=_+(I<<12&4294967295|I>>>20),I=A+(C^T&(_^C))+R[10]+4294925233&4294967295,A=T+(I<<17&4294967295|I>>>15),I=C+(_^A&(T^_))+R[11]+2304563134&4294967295,C=A+(I<<22&4294967295|I>>>10),I=_+(T^C&(A^T))+R[12]+1804603682&4294967295,_=C+(I<<7&4294967295|I>>>25),I=T+(A^_&(C^A))+R[13]+4254626195&4294967295,T=_+(I<<12&4294967295|I>>>20),I=A+(C^T&(_^C))+R[14]+2792965006&4294967295,A=T+(I<<17&4294967295|I>>>15),I=C+(_^A&(T^_))+R[15]+1236535329&4294967295,C=A+(I<<22&4294967295|I>>>10),I=_+(A^T&(C^A))+R[1]+4129170786&4294967295,_=C+(I<<5&4294967295|I>>>27),I=T+(C^A&(_^C))+R[6]+3225465664&4294967295,T=_+(I<<9&4294967295|I>>>23),I=A+(_^C&(T^_))+R[11]+643717713&4294967295,A=T+(I<<14&4294967295|I>>>18),I=C+(T^_&(A^T))+R[0]+3921069994&4294967295,C=A+(I<<20&4294967295|I>>>12),I=_+(A^T&(C^A))+R[5]+3593408605&4294967295,_=C+(I<<5&4294967295|I>>>27),I=T+(C^A&(_^C))+R[10]+38016083&4294967295,T=_+(I<<9&4294967295|I>>>23),I=A+(_^C&(T^_))+R[15]+3634488961&4294967295,A=T+(I<<14&4294967295|I>>>18),I=C+(T^_&(A^T))+R[4]+3889429448&4294967295,C=A+(I<<20&4294967295|I>>>12),I=_+(A^T&(C^A))+R[9]+568446438&4294967295,_=C+(I<<5&4294967295|I>>>27),I=T+(C^A&(_^C))+R[14]+3275163606&4294967295,T=_+(I<<9&4294967295|I>>>23),I=A+(_^C&(T^_))+R[3]+4107603335&4294967295,A=T+(I<<14&4294967295|I>>>18),I=C+(T^_&(A^T))+R[8]+1163531501&4294967295,C=A+(I<<20&4294967295|I>>>12),I=_+(A^T&(C^A))+R[13]+2850285829&4294967295,_=C+(I<<5&4294967295|I>>>27),I=T+(C^A&(_^C))+R[2]+4243563512&4294967295,T=_+(I<<9&4294967295|I>>>23),I=A+(_^C&(T^_))+R[7]+1735328473&4294967295,A=T+(I<<14&4294967295|I>>>18),I=C+(T^_&(A^T))+R[12]+2368359562&4294967295,C=A+(I<<20&4294967295|I>>>12),I=_+(C^A^T)+R[5]+4294588738&4294967295,_=C+(I<<4&4294967295|I>>>28),I=T+(_^C^A)+R[8]+2272392833&4294967295,T=_+(I<<11&4294967295|I>>>21),I=A+(T^_^C)+R[11]+1839030562&4294967295,A=T+(I<<16&4294967295|I>>>16),I=C+(A^T^_)+R[14]+4259657740&4294967295,C=A+(I<<23&4294967295|I>>>9),I=_+(C^A^T)+R[1]+2763975236&4294967295,_=C+(I<<4&4294967295|I>>>28),I=T+(_^C^A)+R[4]+1272893353&4294967295,T=_+(I<<11&4294967295|I>>>21),I=A+(T^_^C)+R[7]+4139469664&4294967295,A=T+(I<<16&4294967295|I>>>16),I=C+(A^T^_)+R[10]+3200236656&4294967295,C=A+(I<<23&4294967295|I>>>9),I=_+(C^A^T)+R[13]+681279174&4294967295,_=C+(I<<4&4294967295|I>>>28),I=T+(_^C^A)+R[0]+3936430074&4294967295,T=_+(I<<11&4294967295|I>>>21),I=A+(T^_^C)+R[3]+3572445317&4294967295,A=T+(I<<16&4294967295|I>>>16),I=C+(A^T^_)+R[6]+76029189&4294967295,C=A+(I<<23&4294967295|I>>>9),I=_+(C^A^T)+R[9]+3654602809&4294967295,_=C+(I<<4&4294967295|I>>>28),I=T+(_^C^A)+R[12]+3873151461&4294967295,T=_+(I<<11&4294967295|I>>>21),I=A+(T^_^C)+R[15]+530742520&4294967295,A=T+(I<<16&4294967295|I>>>16),I=C+(A^T^_)+R[2]+3299628645&4294967295,C=A+(I<<23&4294967295|I>>>9),I=_+(A^(C|~T))+R[0]+4096336452&4294967295,_=C+(I<<6&4294967295|I>>>26),I=T+(C^(_|~A))+R[7]+1126891415&4294967295,T=_+(I<<10&4294967295|I>>>22),I=A+(_^(T|~C))+R[14]+2878612391&4294967295,A=T+(I<<15&4294967295|I>>>17),I=C+(T^(A|~_))+R[5]+4237533241&4294967295,C=A+(I<<21&4294967295|I>>>11),I=_+(A^(C|~T))+R[12]+1700485571&4294967295,_=C+(I<<6&4294967295|I>>>26),I=T+(C^(_|~A))+R[3]+2399980690&4294967295,T=_+(I<<10&4294967295|I>>>22),I=A+(_^(T|~C))+R[10]+4293915773&4294967295,A=T+(I<<15&4294967295|I>>>17),I=C+(T^(A|~_))+R[1]+2240044497&4294967295,C=A+(I<<21&4294967295|I>>>11),I=_+(A^(C|~T))+R[8]+1873313359&4294967295,_=C+(I<<6&4294967295|I>>>26),I=T+(C^(_|~A))+R[15]+4264355552&4294967295,T=_+(I<<10&4294967295|I>>>22),I=A+(_^(T|~C))+R[6]+2734768916&4294967295,A=T+(I<<15&4294967295|I>>>17),I=C+(T^(A|~_))+R[13]+1309151649&4294967295,C=A+(I<<21&4294967295|I>>>11),I=_+(A^(C|~T))+R[4]+4149444226&4294967295,_=C+(I<<6&4294967295|I>>>26),I=T+(C^(_|~A))+R[11]+3174756917&4294967295,T=_+(I<<10&4294967295|I>>>22),I=A+(_^(T|~C))+R[2]+718787259&4294967295,A=T+(I<<15&4294967295|I>>>17),I=C+(T^(A|~_))+R[9]+3951481745&4294967295,k.g[0]=k.g[0]+_&4294967295,k.g[1]=k.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+A&4294967295,k.g[3]=k.g[3]+T&4294967295}r.prototype.v=function(k,_){_===void 0&&(_=k.length);const C=_-this.blockSize,R=this.C;let A=this.h,T=0;for(;T<_;){if(A==0)for(;T<=C;)i(this,k,T),T+=this.blockSize;if(typeof k=="string"){for(;T<_;)if(R[A++]=k.charCodeAt(T++),A==this.blockSize){i(this,R),A=0;break}}else for(;T<_;)if(R[A++]=k[T++],A==this.blockSize){i(this,R),A=0;break}}this.h=A,this.o+=_},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var _=1;_<k.length-8;++_)k[_]=0;_=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=_&255,_/=256;for(this.v(k),k=Array(16),_=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)k[_++]=this.g[C]>>>R&255;return k};function a(k,_){var C=l;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=_(k)}function o(k,_){this.h=_;const C=[];let R=!0;for(let A=k.length-1;A>=0;A--){const T=k[A]|0;R&&T==_||(C[A]=T,R=!1)}this.g=C}var l={};function c(k){return-128<=k&&k<128?a(k,function(_){return new o([_|0],_<0?-1:0)}):new o([k|0],k<0?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return N(d(-k));const _=[];let C=1;for(let R=0;k>=C;R++)_[R]=k/C|0,C*=4294967296;return new o(_,0)}function h(k,_){if(k.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(k.charAt(0)=="-")return N(h(k.substring(1),_));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(_,8));let R=g;for(let T=0;T<k.length;T+=8){var A=Math.min(8,k.length-T);const I=parseInt(k.substring(T,T+A),_);A<8?(A=d(Math.pow(_,A)),R=R.j(A).add(d(I))):(R=R.j(C),R=R.add(d(I)))}return R}var g=c(0),m=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();let k=0,_=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);k+=(R>=0?R:4294967296+R)*_,_*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(f(this))return"0";if(x(this))return"-"+N(this).toString(k);const _=d(Math.pow(k,6));var C=this;let R="";for(;;){const A=y(C,_).g;C=j(C,A.j(_));let T=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=A,f(C))return T+R;for(;T.length<6;)T="0"+T;R=T+R}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function f(k){if(k.h!=0)return!1;for(let _=0;_<k.g.length;_++)if(k.g[_]!=0)return!1;return!0}function x(k){return k.h==-1}t.l=function(k){return k=j(this,k),x(k)?-1:f(k)?0:1};function N(k){const _=k.g.length,C=[];for(let R=0;R<_;R++)C[R]=~k.g[R];return new o(C,~k.h).add(m)}t.abs=function(){return x(this)?N(this):this},t.add=function(k){const _=Math.max(this.g.length,k.g.length),C=[];let R=0;for(let A=0;A<=_;A++){let T=R+(this.i(A)&65535)+(k.i(A)&65535),I=(T>>>16)+(this.i(A)>>>16)+(k.i(A)>>>16);R=I>>>16,T&=65535,I&=65535,C[A]=I<<16|T}return new o(C,C[C.length-1]&-2147483648?-1:0)};function j(k,_){return k.add(N(_))}t.j=function(k){if(f(this)||f(k))return g;if(x(this))return x(k)?N(this).j(N(k)):N(N(this).j(k));if(x(k))return N(this.j(N(k)));if(this.l(w)<0&&k.l(w)<0)return d(this.m()*k.m());const _=this.g.length+k.g.length,C=[];for(var R=0;R<2*_;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let A=0;A<k.g.length;A++){const T=this.i(R)>>>16,I=this.i(R)&65535,F=k.i(A)>>>16,K=k.i(A)&65535;C[2*R+2*A]+=I*K,v(C,2*R+2*A),C[2*R+2*A+1]+=T*K,v(C,2*R+2*A+1),C[2*R+2*A+1]+=I*F,v(C,2*R+2*A+1),C[2*R+2*A+2]+=T*F,v(C,2*R+2*A+2)}for(k=0;k<_;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=_;k<2*_;k++)C[k]=0;return new o(C,0)};function v(k,_){for(;(k[_]&65535)!=k[_];)k[_+1]+=k[_]>>>16,k[_]&=65535,_++}function S(k,_){this.g=k,this.h=_}function y(k,_){if(f(_))throw Error("division by zero");if(f(k))return new S(g,g);if(x(k))return _=y(N(k),_),new S(N(_.g),N(_.h));if(x(_))return _=y(k,N(_)),new S(N(_.g),_.h);if(k.g.length>30){if(x(k)||x(_))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=_;R.l(k)<=0;)C=E(C),R=E(R);var A=D(C,1),T=D(R,1);for(R=D(R,2),C=D(C,2);!f(R);){var I=T.add(R);I.l(k)<=0&&(A=A.add(C),T=I),R=D(R,1),C=D(C,1)}return _=j(k,A.j(_)),new S(A,_)}for(A=g;k.l(_)>=0;){for(C=Math.max(1,Math.floor(k.m()/_.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),T=d(C),I=T.j(_);x(I)||I.l(k)>0;)C-=R,T=d(C),I=T.j(_);f(T)&&(T=m),A=A.add(T),k=j(k,I)}return new S(A,k)}t.B=function(k){return y(this,k).h},t.and=function(k){const _=Math.max(this.g.length,k.g.length),C=[];for(let R=0;R<_;R++)C[R]=this.i(R)&k.i(R);return new o(C,this.h&k.h)},t.or=function(k){const _=Math.max(this.g.length,k.g.length),C=[];for(let R=0;R<_;R++)C[R]=this.i(R)|k.i(R);return new o(C,this.h|k.h)},t.xor=function(k){const _=Math.max(this.g.length,k.g.length),C=[];for(let R=0;R<_;R++)C[R]=this.i(R)^k.i(R);return new o(C,this.h^k.h)};function E(k){const _=k.g.length+1,C=[];for(let R=0;R<_;R++)C[R]=k.i(R)<<1|k.i(R-1)>>>31;return new o(C,k.h)}function D(k,_){const C=_>>5;_%=32;const R=k.g.length-C,A=[];for(let T=0;T<R;T++)A[T]=_>0?k.i(T+C)>>>_|k.i(T+C+1)<<32-_:k.i(T+C);return new o(A,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Qw=o}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var b=0;b<u.length;++b){var P=u[b];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(u,b){if(b)e:{var P=r;u=u.split(".");for(var M=0;M<u.length-1;M++){var q=u[M];if(!(q in P))break e;P=P[q]}u=u[u.length-1],M=P[u],b=b(M),b!=M&&b!=null&&e(P,u,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(b){var P=[],M;for(M in b)Object.prototype.hasOwnProperty.call(b,M)&&P.push([M,b[M]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function c(u,b,P){return u.call.apply(u.bind,arguments)}function d(u,b,P){return d=c,d.apply(null,arguments)}function h(u,b){var P=Array.prototype.slice.call(arguments,1);return function(){var M=P.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function g(u,b){function P(){}P.prototype=b.prototype,u.Z=b.prototype,u.prototype=new P,u.prototype.constructor=u,u.Ob=function(M,q,X){for(var we=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)we[Ze-2]=arguments[Ze];return b.prototype[q].apply(M,we)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function w(u){const b=u.length;if(b>0){const P=Array(b);for(let M=0;M<b;M++)P[M]=u[M];return P}return[]}function f(u,b){for(let M=1;M<arguments.length;M++){const q=arguments[M];var P=typeof q;if(P=P!="object"?P:q?Array.isArray(q)?"array":P:"null",P=="array"||P=="object"&&typeof q.length=="number"){P=u.length||0;const X=q.length||0;u.length=P+X;for(let we=0;we<X;we++)u[P+we]=q[we]}else u.push(q)}}class x{constructor(b,P){this.i=b,this.j=P,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(u){o.setTimeout(()=>{throw u},0)}function j(){var u=k;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class v{constructor(){this.h=this.g=null}add(b,P){const M=S.get();M.set(b,P),this.h?this.h.next=M:this.g=M,this.h=M}}var S=new x(()=>new y,u=>u.reset());class y{constructor(){this.next=this.g=this.h=null}set(b,P){this.h=b,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let E,D=!1,k=new v,_=()=>{const u=Promise.resolve(void 0);E=()=>{u.then(C)}};function C(){for(var u;u=j();){try{u.h.call(u.g)}catch(P){N(P)}var b=S;b.j(u),b.h<100&&(b.h++,u.next=b.g,b.g=u)}D=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const P=()=>{};o.addEventListener("test",P,b),o.removeEventListener("test",P,b)}catch{}return u}();function I(u){return/^[\s\xa0]*$/.test(u)}function F(u,b){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,b)}g(F,A),F.prototype.init=function(u,b){const P=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget,b||(P=="mouseover"?b=u.fromElement:P=="mouseout"&&(b=u.toElement)),this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),z=0;function V(u,b,P,M,q){this.listener=u,this.proxy=null,this.src=b,this.type=P,this.capture=!!M,this.ha=q,this.key=++z,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function B(u,b,P){for(const M in u)b.call(P,u[M],M,u)}function oe(u,b){for(const P in u)b.call(void 0,u[P],P,u)}function le(u){const b={};for(const P in u)b[P]=u[P];return b}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(u,b){let P,M;for(let q=1;q<arguments.length;q++){M=arguments[q];for(P in M)u[P]=M[P];for(let X=0;X<W.length;X++)P=W[X],Object.prototype.hasOwnProperty.call(M,P)&&(u[P]=M[P])}}function de(u){this.src=u,this.g={},this.h=0}de.prototype.add=function(u,b,P,M,q){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const we=qe(u,b,M,q);return we>-1?(b=u[we],P||(b.fa=!1)):(b=new V(b,this.src,X,!!M,q),b.fa=P,u.push(b)),b};function Ue(u,b){const P=b.type;if(P in u.g){var M=u.g[P],q=Array.prototype.indexOf.call(M,b,void 0),X;(X=q>=0)&&Array.prototype.splice.call(M,q,1),X&&(L(b),u.g[P].length==0&&(delete u.g[P],u.h--))}}function qe(u,b,P,M){for(let q=0;q<u.length;++q){const X=u[q];if(!X.da&&X.listener==b&&X.capture==!!P&&X.ha==M)return q}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),He={};function ze(u,b,P,M,q){if(Array.isArray(b)){for(let X=0;X<b.length;X++)ze(u,b[X],P,M,q);return null}return P=cr(P),u&&u[K]?u.J(b,P,l(M)?!!M.capture:!1,q):H(u,b,P,!1,M,q)}function H(u,b,P,M,q,X){if(!b)throw Error("Invalid event type");const we=l(q)?!!q.capture:!!q;let Ze=gn(u);if(Ze||(u[ge]=Ze=new de(u)),P=Ze.add(b,P,M,we,X),P.proxy)return P;if(M=_e(),P.proxy=M,M.src=u,M.listener=P,u.addEventListener)T||(q=we),q===void 0&&(q=!1),u.addEventListener(b.toString(),M,q);else if(u.attachEvent)u.attachEvent(_t(b.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return P}function _e(){function u(P){return b.call(u.src,u.listener,P)}const b=kt;return u}function Pe(u,b,P,M,q){if(Array.isArray(b))for(var X=0;X<b.length;X++)Pe(u,b[X],P,M,q);else M=l(M)?!!M.capture:!!M,P=cr(P),u&&u[K]?(u=u.i,X=String(b).toString(),X in u.g&&(b=u.g[X],P=qe(b,P,M,q),P>-1&&(L(b[P]),Array.prototype.splice.call(b,P,1),b.length==0&&(delete u.g[X],u.h--)))):u&&(u=gn(u))&&(b=u.g[b.toString()],u=-1,b&&(u=qe(b,P,M,q)),(P=u>-1?b[u]:null)&&Qe(P))}function Qe(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[K])Ue(b.i,u);else{var P=u.type,M=u.proxy;b.removeEventListener?b.removeEventListener(P,M,u.capture):b.detachEvent?b.detachEvent(_t(P),M):b.addListener&&b.removeListener&&b.removeListener(M),(P=gn(b))?(Ue(P,u),P.h==0&&(P.src=null,b[ge]=null)):L(u)}}}function _t(u){return u in He?He[u]:He[u]="on"+u}function kt(u,b){if(u.da)u=!0;else{b=new F(b,this);const P=u.listener,M=u.ha||u.src;u.fa&&Qe(u),u=P.call(M,b)}return u}function gn(u){return u=u[ge],u instanceof de?u:null}var An="__closure_events_fn_"+(Math.random()*1e9>>>0);function cr(u){return typeof u=="function"?u:(u[An]||(u[An]=function(b){return u.handleEvent(b)}),u[An])}function Et(){R.call(this),this.i=new de(this),this.M=this,this.G=null}g(Et,R),Et.prototype[K]=!0,Et.prototype.removeEventListener=function(u,b,P,M){Pe(this,u,b,P,M)};function $(u,b){var P,M=u.G;if(M)for(P=[];M;M=M.G)P.push(M);if(u=u.M,M=b.type||b,typeof b=="string")b=new A(b,u);else if(b instanceof A)b.target=b.target||u;else{var q=b;b=new A(M,u),fe(b,q)}q=!0;let X,we;if(P)for(we=P.length-1;we>=0;we--)X=b.g=P[we],q=G(X,M,!0,b)&&q;if(X=b.g=u,q=G(X,M,!0,b)&&q,q=G(X,M,!1,b)&&q,P)for(we=0;we<P.length;we++)X=b.g=P[we],q=G(X,M,!1,b)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const b in u.g){const P=u.g[b];for(let M=0;M<P.length;M++)L(P[M]);delete u.g[b],u.h--}}this.G=null},Et.prototype.J=function(u,b,P,M){return this.i.add(String(u),b,!1,P,M)},Et.prototype.K=function(u,b,P,M){return this.i.add(String(u),b,!0,P,M)};function G(u,b,P,M){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let X=0;X<b.length;++X){const we=b[X];if(we&&!we.da&&we.capture==P){const Ze=we.listener,on=we.ha||we.src;we.fa&&Ue(u.i,we),q=Ze.call(on,M)!==!1&&q}}return q&&!M.defaultPrevented}function J(u,b){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(u,b||0)}function be(u){u.g=J(()=>{u.g=null,u.i&&(u.i=!1,be(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class ye extends R{constructor(b,P){super(),this.m=b,this.l=P,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(u){R.call(this),this.h=u,this.g={}}g(ue,R);var Re=[];function it(u){B(u.g,function(b,P){this.g.hasOwnProperty(P)&&Qe(b)},u),u.g={}}ue.prototype.N=function(){ue.Z.N.call(this),it(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=o.JSON.stringify,bn=o.JSON.parse,ce=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Xe(){}function dr(){}var zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qn(){A.call(this,"d")}g(qn,A);function Kr(){A.call(this,"c")}g(Kr,A);var Gr={},ih=null;function al(){return ih=ih||new Et}Gr.Ia="serverreachability";function Wj(u){A.call(this,Gr.Ia,u)}g(Wj,A);function Qc(u){const b=al();$(b,new Wj(b))}Gr.STAT_EVENT="statevent";function Hj(u,b){A.call(this,Gr.STAT_EVENT,u),this.stat=b}g(Hj,A);function In(u){const b=al();$(b,new Hj(b,u))}Gr.Ja="timingevent";function qj(u,b){A.call(this,Gr.Ja,u),this.size=b}g(qj,A);function Xc(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},b)}function Zc(){this.g=!0}Zc.prototype.ua=function(){this.g=!1};function g4(u,b,P,M,q,X){u.info(function(){if(u.g)if(X){var we="",Ze=X.split("&");for(let St=0;St<Ze.length;St++){var on=Ze[St].split("=");if(on.length>1){const xn=on[0];on=on[1];const hr=xn.split("_");we=hr.length>=2&&hr[1]=="type"?we+(xn+"="+on+"&"):we+(xn+"=redacted&")}}}else we=null;else we=X;return"XMLHTTP REQ ("+M+") [attempt "+q+"]: "+b+`
`+P+`
`+we})}function x4(u,b,P,M,q,X,we){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+q+"]: "+b+`
`+P+`
`+X+" "+we})}function ol(u,b,P,M){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+y4(u,P)+(M?" "+M:"")})}function v4(u,b){u.info(function(){return"TIMEOUT: "+b})}Zc.prototype.info=function(){};function y4(u,b){if(!u.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var P=X[u];if(!(P.length<2)){var M=P[1];if(Array.isArray(M)&&!(M.length<1)){var q=M[0];if(q!="noop"&&q!="stop"&&q!="close")for(let we=1;we<M.length;we++)M[we]=""}}}}return dt(X)}catch{return b}}var Mp={NO_ERROR:0,TIMEOUT:8},w4={},Kj;function Op(){}g(Op,Xe),Op.prototype.g=function(){return new XMLHttpRequest},Kj=new Op;function Jc(u){return encodeURIComponent(String(u))}function j4(u){var b=1;u=u.split(":");const P=[];for(;b>0&&u.length;)P.push(u.shift()),b--;return u.length&&P.push(u.join(":")),P}function Pi(u,b,P,M){this.j=u,this.i=b,this.l=P,this.S=M||1,this.V=new ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gj}function Gj(){this.i=null,this.g="",this.h=!1}var Yj={},Fp={};function Lp(u,b,P){u.M=1,u.A=oh(ur(b)),u.u=P,u.R=!0,Qj(u,null)}function Qj(u,b){u.F=Date.now(),ah(u),u.B=ur(u.A);var P=u.B,M=u.S;Array.isArray(M)||(M=[String(M)]),cb(P.i,"t",M),u.C=0,P=u.j.L,u.h=new Gj,u.g=kb(u.j,P?b:null,!u.u),u.P>0&&(u.O=new ye(d(u.Y,u,u.g),u.P)),b=u.V,P=u.g,M=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Re[0]=q.toString()),q=Re);for(let X=0;X<q.length;X++){const we=ze(P,q[X],M||b.handleEvent,!1,b.h||b);if(!we)break;b.g[we.key]=we}b=u.J?le(u.J):{},u.u?(u.v||(u.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,b)):(u.v="GET",u.g.ea(u.B,u.v,null,b)),Qc(),g4(u.i,u.v,u.B,u.l,u.S,u.u)}Pi.prototype.ba=function(u){u=u.target;const b=this.O;b&&Ri(u)==3?b.j():this.Y(u)},Pi.prototype.Y=function(u){try{if(u==this.g)e:{const Ze=Ri(this.g),on=this.g.ya(),St=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||gb(this.g)))){this.K||Ze!=4||on==7||(on==8||St<=0?Qc(3):Qc(2)),$p(this);var b=this.g.ca();this.X=b;var P=b4(this);if(this.o=b==200,x4(this.i,this.v,this.B,this.l,this.S,Ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var M,q=this.g;if((M=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(M)){var X=M;break t}}X=null}if(u=X)ol(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Up(this,u);else{this.o=!1,this.m=3,In(12),Xa(this),ed(this);break e}}if(this.R){u=!0;let xn;for(;!this.K&&this.C<P.length;)if(xn=N4(this,P),xn==Fp){Ze==4&&(this.m=4,In(14),u=!1),ol(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Yj){this.m=4,In(15),ol(this.i,this.l,P,"[Invalid Chunk]"),u=!1;break}else ol(this.i,this.l,xn,null),Up(this,xn);if(Xj(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||P.length!=0||this.h.h||(this.m=1,In(16),u=!1),this.o=this.o&&u,!u)ol(this.i,this.l,P,"[Invalid Chunked Response]"),Xa(this),ed(this);else if(P.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Gp(we),we.P=!0,In(11))}}else ol(this.i,this.l,P,null),Up(this,P);Ze==4&&Xa(this),this.o&&!this.K&&(Ze==4?Nb(this.j,this):(this.o=!1,ah(this)))}else F4(this.g),b==400&&P.indexOf("Unknown SID")>0?(this.m=3,In(12)):(this.m=0,In(13)),Xa(this),ed(this)}}}catch{}finally{}};function b4(u){if(!Xj(u))return u.g.la();const b=gb(u.g);if(b==="")return"";let P="";const M=b.length,q=Ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Xa(u),ed(u),"";u.h.i=new o.TextDecoder}for(let X=0;X<M;X++)u.h.h=!0,P+=u.h.i.decode(b[X],{stream:!(q&&X==M-1)});return b.length=0,u.h.g+=P,u.C=0,u.h.g}function Xj(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function N4(u,b){var P=u.C,M=b.indexOf(`
`,P);return M==-1?Fp:(P=Number(b.substring(P,M)),isNaN(P)?Yj:(M+=1,M+P>b.length?Fp:(b=b.slice(M,M+P),u.C=M+P,b)))}Pi.prototype.cancel=function(){this.K=!0,Xa(this)};function ah(u){u.T=Date.now()+u.H,Zj(u,u.H)}function Zj(u,b){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xc(d(u.aa,u),b)}function $p(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Pi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(v4(this.i,this.B),this.M!=2&&(Qc(),In(17)),Xa(this),this.m=2,ed(this)):Zj(this,this.T-u)};function ed(u){u.j.I==0||u.K||Nb(u.j,u)}function Xa(u){$p(u);var b=u.O;b&&typeof b.dispose=="function"&&b.dispose(),u.O=null,it(u.V),u.g&&(b=u.g,u.g=null,b.abort(),b.dispose())}function Up(u,b){try{var P=u.j;if(P.I!=0&&(P.g==u||Vp(P.h,u))){if(!u.L&&Vp(P.h,u)&&P.I==3){try{var M=P.Ba.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var q=M;if(q[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<u.F)hh(P),dh(P);else break e;Kp(P),In(18)}}else P.xa=q[1],0<P.xa-P.K&&q[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Xc(d(P.Va,P),6e3));tb(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ja(P,11)}else if((u.L||P.g==u)&&hh(P),!I(b))for(q=P.Ba.g.parse(b),b=0;b<q.length;b++){let St=q[b];const xn=St[0];if(!(xn<=P.K))if(P.K=xn,St=St[1],P.I==2)if(St[0]=="c"){P.M=St[1],P.ba=St[2];const hr=St[3];hr!=null&&(P.ka=hr,P.j.info("VER="+P.ka));const eo=St[4];eo!=null&&(P.za=eo,P.j.info("SVER="+P.za));const Di=St[5];Di!=null&&typeof Di=="number"&&Di>0&&(M=1.5*Di,P.O=M,P.j.info("backChannelRequestTimeoutMs_="+M)),M=P;const Mi=u.g;if(Mi){const fh=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var X=M.h;X.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(zp(X,X.h),X.h=null))}if(M.G){const Yp=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Yp&&(M.wa=Yp,It(M.J,M.G,Yp))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-u.F,P.j.info("Handshake RTT: "+P.T+"ms")),M=P;var we=u;if(M.na=Cb(M,M.L?M.ba:null,M.W),we.L){nb(M.h,we);var Ze=we,on=M.O;on&&(Ze.H=on),Ze.D&&($p(Ze),ah(Ze)),M.g=we}else jb(M);P.i.length>0&&uh(P)}else St[0]!="stop"&&St[0]!="close"||Ja(P,7);else P.I==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Ja(P,7):qp(P):St[0]!="noop"&&P.l&&P.l.qa(St),P.A=0)}}Qc(4)}catch{}}var _4=class{constructor(u,b){this.g=u,this.map=b}};function Jj(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eb(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function tb(u){return u.h?1:u.g?u.g.size:0}function Vp(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function zp(u,b){u.g?u.g.add(b):u.h=b}function nb(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Jj.prototype.cancel=function(){if(this.i=sb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sb(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const P of u.g.values())b=b.concat(P.G);return b}return w(u.i)}var rb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S4(u,b){if(u){u=u.split("&");for(let P=0;P<u.length;P++){const M=u[P].indexOf("=");let q,X=null;M>=0?(q=u[P].substring(0,M),X=u[P].substring(M+1)):q=u[P],b(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Ai(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;u instanceof Ai?(this.l=u.l,td(this,u.j),this.o=u.o,this.g=u.g,nd(this,u.u),this.h=u.h,Bp(this,db(u.i)),this.m=u.m):u&&(b=String(u).match(rb))?(this.l=!1,td(this,b[1]||"",!0),this.o=sd(b[2]||""),this.g=sd(b[3]||"",!0),nd(this,b[4]),this.h=sd(b[5]||"",!0),Bp(this,b[6]||"",!0),this.m=sd(b[7]||"")):(this.l=!1,this.i=new id(null,this.l))}Ai.prototype.toString=function(){const u=[];var b=this.j;b&&u.push(rd(b,ib,!0),":");var P=this.g;return(P||b=="file")&&(u.push("//"),(b=this.o)&&u.push(rd(b,ib,!0),"@"),u.push(Jc(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&u.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&u.push("/"),u.push(rd(P,P.charAt(0)=="/"?E4:k4,!0))),(P=this.i.toString())&&u.push("?",P),(P=this.m)&&u.push("#",rd(P,P4)),u.join("")},Ai.prototype.resolve=function(u){const b=ur(this);let P=!!u.j;P?td(b,u.j):P=!!u.o,P?b.o=u.o:P=!!u.g,P?b.g=u.g:P=u.u!=null;var M=u.h;if(P)nd(b,u.u);else if(P=!!u.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var q=b.h.lastIndexOf("/");q!=-1&&(M=b.h.slice(0,q+1)+M)}if(q=M,q==".."||q==".")M="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){M=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let we=0;we<q.length;){const Ze=q[we++];Ze=="."?M&&we==q.length&&X.push(""):Ze==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),M&&we==q.length&&X.push("")):(X.push(Ze),M=!0)}M=X.join("/")}else M=q}return P?b.h=M:P=u.i.toString()!=="",P?Bp(b,db(u.i)):P=!!u.m,P&&(b.m=u.m),b};function ur(u){return new Ai(u)}function td(u,b,P){u.j=P?sd(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function nd(u,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);u.u=b}else u.u=null}function Bp(u,b,P){b instanceof id?(u.i=b,A4(u.i,u.l)):(P||(b=rd(b,T4)),u.i=new id(b,u.l))}function It(u,b,P){u.i.set(b,P)}function oh(u){return It(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function sd(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rd(u,b,P){return typeof u=="string"?(u=encodeURI(u).replace(b,C4),P&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function C4(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ib=/[#\/\?@]/g,k4=/[#\?:]/g,E4=/[#\?]/g,T4=/[#\?@]/g,P4=/#/g;function id(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function Za(u){u.g||(u.g=new Map,u.h=0,u.i&&S4(u.i,function(b,P){u.add(decodeURIComponent(b.replace(/\+/g," ")),P)}))}t=id.prototype,t.add=function(u,b){Za(this),this.i=null,u=ll(this,u);let P=this.g.get(u);return P||this.g.set(u,P=[]),P.push(b),this.h+=1,this};function ab(u,b){Za(u),b=ll(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function ob(u,b){return Za(u),b=ll(u,b),u.g.has(b)}t.forEach=function(u,b){Za(this),this.g.forEach(function(P,M){P.forEach(function(q){u.call(b,q,M,this)},this)},this)};function lb(u,b){Za(u);let P=[];if(typeof b=="string")ob(u,b)&&(P=P.concat(u.g.get(ll(u,b))));else for(u=Array.from(u.g.values()),b=0;b<u.length;b++)P=P.concat(u[b]);return P}t.set=function(u,b){return Za(this),this.i=null,u=ll(this,u),ob(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},t.get=function(u,b){return u?(u=lb(this,u),u.length>0?String(u[0]):b):b};function cb(u,b,P){ab(u,b),P.length>0&&(u.i=null,u.g.set(ll(u,b),w(P)),u.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(let M=0;M<b.length;M++){var P=b[M];const q=Jc(P);P=lb(this,P);for(let X=0;X<P.length;X++){let we=q;P[X]!==""&&(we+="="+Jc(P[X])),u.push(we)}}return this.i=u.join("&")};function db(u){const b=new id;return b.i=u.i,u.g&&(b.g=new Map(u.g),b.h=u.h),b}function ll(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function A4(u,b){b&&!u.j&&(Za(u),u.i=null,u.g.forEach(function(P,M){const q=M.toLowerCase();M!=q&&(ab(this,M),cb(this,q,P))},u)),u.j=b}function I4(u,b){const P=new Zc;if(o.Image){const M=new Image;M.onload=h(Ii,P,"TestLoadImage: loaded",!0,b,M),M.onerror=h(Ii,P,"TestLoadImage: error",!1,b,M),M.onabort=h(Ii,P,"TestLoadImage: abort",!1,b,M),M.ontimeout=h(Ii,P,"TestLoadImage: timeout",!1,b,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else b(!1)}function R4(u,b){const P=new Zc,M=new AbortController,q=setTimeout(()=>{M.abort(),Ii(P,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:M.signal}).then(X=>{clearTimeout(q),X.ok?Ii(P,"TestPingServer: ok",!0,b):Ii(P,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Ii(P,"TestPingServer: error",!1,b)})}function Ii(u,b,P,M,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),M(P)}catch{}}function D4(){this.g=new ce}function Wp(u){this.i=u.Sb||null,this.h=u.ab||!1}g(Wp,Xe),Wp.prototype.g=function(){return new lh(this.i,this.h)};function lh(u,b){Et.call(this),this.H=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(lh,Et),t=lh.prototype,t.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=b,this.readyState=1,od(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(b.body=u),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ad(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ub(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ub(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?ad(this):od(this),this.readyState==3&&ub(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ad(this))},t.Na=function(u){this.g&&(this.response=u,ad(this))},t.ga=function(){this.g&&ad(this)};function ad(u){u.readyState=4,u.l=null,u.j=null,u.B=null,od(u)}t.setRequestHeader=function(u,b){this.A.append(u,b)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var P=b.next();!P.done;)P=P.value,u.push(P[0]+": "+P[1]),P=b.next();return u.join(`\r
`)};function od(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hb(u){let b="";return B(u,function(P,M){b+=M,b+=":",b+=P,b+=`\r
`}),b}function Hp(u,b,P){e:{for(M in P){var M=!1;break e}M=!0}M||(P=hb(P),typeof u=="string"?P!=null&&Jc(P):It(u,b,P))}function qt(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(qt,Et);var M4=/^https?$/i,O4=["POST","PUT"];t=qt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,b,P,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kj.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(X){fb(this,X);return}if(u=P||"",P=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var q in M)P.set(q,M[q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const X of M.keys())P.set(X,M.get(X));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(P.keys()).find(X=>X.toLowerCase()=="content-type"),q=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(O4,b,void 0)>=0)||M||q||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,we]of P)this.g.setRequestHeader(X,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){fb(this,X)}};function fb(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.o=5,mb(u),ch(u)}function mb(u){u.A||(u.A=!0,$(u,"complete"),$(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,$(this,"complete"),$(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),qt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?pb(this):this.Xa())},t.Xa=function(){pb(this)};function pb(u){if(u.h&&typeof a<"u"){if(u.v&&Ri(u)==4)setTimeout(u.Ca.bind(u),0);else if($(u,"readystatechange"),Ri(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var P;if(!(P=b)){var M;if(M=X===0){let we=String(u.D).match(rb)[1]||null;!we&&o.self&&o.self.location&&(we=o.self.location.protocol.slice(0,-1)),M=!M4.test(we?we.toLowerCase():"")}P=M}if(P)$(u,"complete"),$(u,"success");else{u.o=6;try{var q=Ri(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",mb(u)}}finally{ch(u)}}}}function ch(u,b){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const P=u.g;u.g=null,b||$(u,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ri(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),bn(b)}};function gb(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function F4(u){const b={};u=(u.g&&Ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(I(u[M]))continue;var P=j4(u[M]);const q=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const X=b[q]||[];b[q]=X,X.push(P)}oe(b,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ld(u,b,P){return P&&P.internalChannelParams&&P.internalChannelParams[u]||b}function xb(u){this.za=0,this.i=[],this.j=new Zc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ld("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ld("baseRetryDelayMs",5e3,u),this.Za=ld("retryDelaySeedMs",1e4,u),this.Ta=ld("forwardChannelMaxRetries",2,u),this.va=ld("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Jj(u&&u.concurrentRequestLimit),this.Ba=new D4,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=xb.prototype,t.ka=8,t.I=1,t.connect=function(u,b,P,M){In(0),this.W=u,this.H=b||{},P&&M!==void 0&&(this.H.OSID=P,this.H.OAID=M),this.F=this.X,this.J=Cb(this,null,this.W),uh(this)};function qp(u){if(vb(u),u.I==3){var b=u.V++,P=ur(u.J);if(It(P,"SID",u.M),It(P,"RID",b),It(P,"TYPE","terminate"),cd(u,P),b=new Pi(u,u.j,b),b.M=2,b.A=oh(ur(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=b.A,P=!0),P||(b.g=kb(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ah(b)}Sb(u)}function dh(u){u.g&&(Gp(u),u.g.cancel(),u.g=null)}function vb(u){dh(u),u.v&&(o.clearTimeout(u.v),u.v=null),hh(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function uh(u){if(!eb(u.h)&&!u.m){u.m=!0;var b=u.Ea;E||_(),D||(E(),D=!0),k.add(b,u),u.D=0}}function L4(u,b){return tb(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=b.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xc(d(u.Ea,u,b),_b(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Pi(this,this.j,u);let X=this.o;if(this.U&&(X?(X=le(X),fe(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var b=0,P=0;P<this.i.length;P++){t:{var M=this.i[P];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,b>4096){b=P;break e}if(b===4096||P===this.i.length-1){b=P+1;break e}}b=1e3}else b=1e3;b=wb(this,q,b),P=ur(this.J),It(P,"RID",u),It(P,"CVER",22),this.G&&It(P,"X-HTTP-Session-Id",this.G),cd(this,P),X&&(this.R?b="headers="+Jc(hb(X))+"&"+b:this.u&&Hp(P,this.u,X)),zp(this.h,q),this.Ra&&It(P,"TYPE","init"),this.S?(It(P,"$req",b),It(P,"SID","null"),q.U=!0,Lp(q,P,null)):Lp(q,P,b),this.I=2}}else this.I==3&&(u?yb(this,u):this.i.length==0||eb(this.h)||yb(this))};function yb(u,b){var P;b?P=b.l:P=u.V++;const M=ur(u.J);It(M,"SID",u.M),It(M,"RID",P),It(M,"AID",u.K),cd(u,M),u.u&&u.o&&Hp(M,u.u,u.o),P=new Pi(u,u.j,P,u.D+1),u.u===null&&(P.J=u.o),b&&(u.i=b.G.concat(u.i)),b=wb(u,P,1e3),P.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zp(u.h,P),Lp(P,M,b)}function cd(u,b){u.H&&B(u.H,function(P,M){It(b,M,P)}),u.l&&B({},function(P,M){It(b,M,P)})}function wb(u,b,P){P=Math.min(u.i.length,P);const M=u.l?d(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ze=-1;for(;;){const on=["count="+P];Ze==-1?P>0?(Ze=q[0].g,on.push("ofs="+Ze)):Ze=0:on.push("ofs="+Ze);let St=!0;for(let xn=0;xn<P;xn++){var X=q[xn].g;const hr=q[xn].map;if(X-=Ze,X<0)Ze=Math.max(0,q[xn].g-100),St=!1;else try{X="req"+X+"_"||"";try{var we=hr instanceof Map?hr:Object.entries(hr);for(const[eo,Di]of we){let Mi=Di;l(Di)&&(Mi=dt(Di)),on.push(X+eo+"="+encodeURIComponent(Mi))}}catch(eo){throw on.push(X+"type="+encodeURIComponent("_badmap")),eo}}catch{M&&M(hr)}}if(St){we=on.join("&");break e}}we=void 0}return u=u.i.splice(0,P),b.G=u,we}function jb(u){if(!u.g&&!u.v){u.Y=1;var b=u.Da;E||_(),D||(E(),D=!0),k.add(b,u),u.A=0}}function Kp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xc(d(u.Da,u),_b(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,bb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xc(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,In(10),dh(this),bb(this))};function Gp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function bb(u){u.g=new Pi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var b=ur(u.na);It(b,"RID","rpc"),It(b,"SID",u.M),It(b,"AID",u.K),It(b,"CI",u.F?"0":"1"),!u.F&&u.ia&&It(b,"TO",u.ia),It(b,"TYPE","xmlhttp"),cd(u,b),u.u&&u.o&&Hp(b,u.u,u.o),u.O&&(u.g.H=u.O);var P=u.g;u=u.ba,P.M=1,P.A=oh(ur(b)),P.u=null,P.R=!0,Qj(P,u)}t.Va=function(){this.C!=null&&(this.C=null,dh(this),Kp(this),In(19))};function hh(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Nb(u,b){var P=null;if(u.g==b){hh(u),Gp(u),u.g=null;var M=2}else if(Vp(u.h,b))P=b.G,nb(u.h,b),M=1;else return;if(u.I!=0){if(b.o)if(M==1){P=b.u?b.u.length:0,b=Date.now()-b.F;var q=u.D;M=al(),$(M,new qj(M,P)),uh(u)}else jb(u);else if(q=b.m,q==3||q==0&&b.X>0||!(M==1&&L4(u,b)||M==2&&Kp(u)))switch(P&&P.length>0&&(b=u.h,b.i=b.i.concat(P)),q){case 1:Ja(u,5);break;case 4:Ja(u,10);break;case 3:Ja(u,6);break;default:Ja(u,2)}}}function _b(u,b){let P=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(P*=2),P*b}function Ja(u,b){if(u.j.info("Error code "+b),b==2){var P=d(u.bb,u),M=u.Ua;const q=!M;M=new Ai(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||td(M,"https"),oh(M),q?I4(M.toString(),P):R4(M.toString(),P)}else In(2);u.I=0,u.l&&u.l.pa(b),Sb(u),vb(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function Sb(u){if(u.I=0,u.ja=[],u.l){const b=sb(u.h);(b.length!=0||u.i.length!=0)&&(f(u.ja,b),f(u.ja,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.oa()}}function Cb(u,b,P){var M=P instanceof Ai?ur(P):new Ai(P);if(M.g!="")b&&(M.g=b+"."+M.g),nd(M,M.u);else{var q=o.location;M=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const X=new Ai(null);M&&td(X,M),b&&(X.g=b),q&&nd(X,q),P&&(X.h=P),M=X}return P=u.G,b=u.wa,P&&b&&It(M,P,b),It(M,"VER",u.ka),cd(u,M),M}function kb(u,b,P){if(b&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Aa&&!u.ma?new qt(new Wp({ab:P})):new qt(u.ma),b.Fa(u.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eb(){}t=Eb.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function js(u,b){Et.call(this),this.g=new xb(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(u?u["X-WebChannel-Client-Profile"]=b.sa:u={"X-WebChannel-Client-Profile":b.sa}),this.g.U=u,(u=b&&b.Qb)&&!I(u)&&(this.g.u=u),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new cl(this)}g(js,Et),js.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},js.prototype.close=function(){qp(this.g)},js.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var P={};P.__data__=u,u=P}else this.v&&(P={},P.__data__=dt(u),u=P);b.i.push(new _4(b.Ya++,u)),b.I==3&&uh(b)},js.prototype.N=function(){this.g.l=null,delete this.j,qp(this.g),delete this.g,js.Z.N.call(this)};function Tb(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const P in b){u=P;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}g(Tb,qn);function Pb(){Kr.call(this),this.status=1}g(Pb,Kr);function cl(u){this.g=u}g(cl,Eb),cl.prototype.ra=function(){$(this.g,"a")},cl.prototype.qa=function(u){$(this.g,new Tb(u))},cl.prototype.pa=function(u){$(this.g,new Pb)},cl.prototype.oa=function(){$(this.g,"b")},js.prototype.send=js.prototype.o,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,Mp.NO_ERROR=0,Mp.TIMEOUT=8,Mp.HTTP_ERROR=6,w4.COMPLETE="complete",dr.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",Et.prototype.listen=Et.prototype.J,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",u_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Fw("@firebase/firestore");function Ks(t,...e){if(Nc.logLevel<=yt.DEBUG){const n=e.map(Xw);Nc.debug(`Firestore (${Wu}): ${t}`,...n)}}function FE(t,...e){if(Nc.logLevel<=yt.ERROR){const n=e.map(Xw);Nc.error(`Firestore (${Wu}): ${t}`,...n)}}function R8(t,...e){if(Nc.logLevel<=yt.WARN){const n=e.map(Xw);Nc.warn(`Firestore (${Wu}): ${t}`,...n)}}function Xw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,LE(t,r,n)}function LE(t,e,n){let r=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw FE(r),new Error(r)}function Hd(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||LE(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ct extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class M8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O8{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Hd(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new qd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qd,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ks("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ks("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qd)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ks("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hd(typeof r.accessToken=="string",31837,{l:r}),new $E(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hd(e===null||typeof e=="string",2055,{h:e}),new Fn(e)}}class F8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Hd(this.o===void 0,3512);const r=a=>{a.error!=null&&Ks("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ks("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ks("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ks("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Hd(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=U8(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Da(t,e){return t<e?-1:t>e?1:0}function z8(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Lg(i)===Lg(a)?Da(i,a):Lg(i)?1:-1}return Da(t.length,e.length)}const B8=55296,W8=57343;function Lg(t){const e=t.charCodeAt(0);return e>=B8&&e<=W8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="__name__";class pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&vu(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&vu(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=pr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Da(e.length,n.length)}static compareSegments(e,n){const r=pr.isNumericId(e),i=pr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pr.extractNumericId(e).compare(pr.extractNumericId(n)):z8(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qw.fromString(e.substring(4,e.length-2))}}class Vs extends pr{construct(e,n,r){return new Vs(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vs(n)}static emptyPath(){return new Vs([])}}const H8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lo extends pr{construct(e,n,r){return new lo(e,n,r)}static isValidIdentifier(e){return H8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new lo([f_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ct(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ct(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ct(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new ct(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lo(n)}static emptyPath(){return new lo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.path=e}static fromPath(e){return new po(Vs.fromString(e))}static fromName(e){return new po(Vs.fromString(e).popFirst(5))}static empty(){return new po(Vs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vs.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vs.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new po(new Vs(e.slice()))}}function q8(t,e,n,r){if(e===!0&&r===!0)throw new ct(lt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function G8(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vu(12329,{type:typeof t})}function Y8(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=G8(t);throw new ct(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!K8(t))throw new ct(lt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ct(lt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,p_=1e6;class yr{static now(){return yr.fromMillis(Date.now())}static fromDate(e){return yr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p_);return new yr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new ct(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Da(this.nanoseconds,e.nanoseconds):Da(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,yr._jsonSchema))return new yr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yr._jsonSchemaVersion="firestore/timestamp/1.0",yr._jsonSchema={type:en("string",yr._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};function Q8(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new X8("Invalid base64 string: "+a):a}}(e);return new Uo(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Uo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Da(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Uo.EMPTY_BYTE_STRING=new Uo("");const $v="(default)";class lm{constructor(e,n){this.projectId=e,this.database=n||$v}static empty(){return new lm("","")}get isDefaultDatabase(){return this.database===$v}isEqual(e){return e instanceof lm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J8(t){return new Z8(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_,ot;(ot=g_||(g_={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Qw([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=1048576;function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ks("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new Zw(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var x_,v_;(v_=x_||(x_={})).Ma="default",v_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",w_=!0;class j_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=w_}else this.host=e.host,this.ssl=e.ssl??w_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tU)throw new ct(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sU(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class VE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D8;switch(r.type){case"firstParty":return new L8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y_.get(n);r&&(Ks("ComponentProvider","Removing Datastore"),y_.delete(n),r.terminate())}(this),Promise.resolve()}}function rU(t,e,n,r={}){var d;t=Y8(t,VE);const i=Bc(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Mw(`https://${l}`),Ow("Firestore",!0)),a.host!==UE&&a.host!==l&&R8("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Lo(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Fn.MOCK_USER;else{h=K2(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ct(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Fn(m)}t._authCredentials=new M8(new $E(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jw(this.firestore,e,this._query)}}class Cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ej(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}toJSON(){return{type:Cr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hu(n,Cr._jsonSchema))return new Cr(e,r||null,new po(Vs.fromString(n.referencePath)))}}Cr._jsonSchemaVersion="firestore/documentReference/1.0",Cr._jsonSchema={type:en("string",Cr._jsonSchemaVersion),referencePath:en("string")};class ej extends Jw{constructor(e,n,r){super(e,n,J8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new po(e))}withConverter(e){return new ej(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nU(this,"async_queue_retry"),this._c=()=>{const r=$g();r&&Ks(b_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qd;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Q8(e))throw e;Ks(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,FE("INTERNAL UNHANDLED ERROR: ",__(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Zw.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&vu(47125,{Pc:__(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function __(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iU extends VE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function aU(t,e){const n=typeof t=="object"?t:$w(),r=typeof t=="string"?t:$v,i=Jm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=W2("firestore");a&&rU(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Uo.fromBase64String(e))}catch(n){throw new ct(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(Uo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:en("string",ai._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ct(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Da(this._lat,e._lat)||Da(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Eo._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,Eo._jsonSchema))return new Eo(e.latitude,e.longitude)}}Eo._jsonSchemaVersion="firestore/geoPoint/1.0",Eo._jsonSchema={type:en("string",Eo._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:To._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,To._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new To(e.vectorValues);throw new ct(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}To._jsonSchemaVersion="firestore/vectorValue/1.0",To._jsonSchema={type:en("string",To._jsonSchemaVersion),vectorValues:en("object")};const oU=new RegExp("[~\\*/\\[\\]]");function lU(t,e,n){if(e.search(oU)>=0)throw S_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new zE(...e.split("."))._internalPath}catch{throw S_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function S_(t,e,n,r,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new ct(lt.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cU extends BE{data(){return super.data()}}function WE(t,e){return typeof e=="string"?lU(t,e):e instanceof zE?e._internalPath:e._delegate._internalPath}class Vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends BE{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(WE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",ql._jsonSchema={type:en("string",ql._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class pf extends ql{data(e={}){return super.data(e)}}class Kd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pf(this._firestore,this._userDataWriter,r.key,r,new Vh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new pf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new pf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:dU(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=V8.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vu(61501,{type:t})}}Kd._jsonSchemaVersion="firestore/querySnapshot/1.0",Kd._jsonSchema={type:en("string",Kd._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};(function(e,n=!0){(function(i){Wu=i})(el),$o(new Ra("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new iU(new O8(r.getProvider("auth-internal")),new $8(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ct(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lm(d.options.projectId,h)}(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Rr(d_,u_,e),Rr(d_,u_,"esm2020")})();let zh,HE,qE,KE,yu=!1;function uU(t){if(!t||t.projectId==="your-project-id"){console.warn(" Refusing to initialize Firebase with placeholder/missing config");return}if(yu){console.log(" Firebase already initialized, skipping re-initialization");return}console.log(" Initializing Firebase with config:",{projectId:t.projectId}),zh=Q2(t),HE=n8(zh),qE=T8(zh),KE=aU(zh),yu=!0,console.log(" Firebase initialized successfully")}const Wa=()=>{if(!yu)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return HE},hU=()=>{if(!yu)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return qE},fU=()=>{if(!yu)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return KE};new Proxy({},{get:(t,e)=>Wa()[e]});new Proxy({},{get:(t,e)=>hU()[e]});new Proxy({},{get:(t,e)=>fU()[e]});const sp=new ii,rp=new Wd("apple.com");sp.addScope("email");sp.addScope("profile");rp.addScope("email");rp.addScope("name");const mU=async()=>{try{return await EE(Wa(),sp)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await pU();throw t}},pU=()=>AE(Wa(),sp),gU=()=>v9(Wa()),xU=()=>q$(Wa()),vU=async()=>{try{return await EE(Wa(),rp)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await yU();throw t}},yU=()=>AE(Wa(),rp),wU=t=>H$(Wa(),t);var xt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(xt||(xt={}));var C_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(C_||(C_={}));const Ae=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qi=t=>{switch(typeof t){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return Number.isNaN(t)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(t)?Ae.array:t===null?Ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ae.promise:typeof Map<"u"&&t instanceof Map?Ae.map:typeof Set<"u"&&t instanceof Set?Ae.set:typeof Date<"u"&&t instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},me=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Si extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Si))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Si.create=t=>new Si(t);const Uv=(t,e)=>{let n;switch(t.code){case me.invalid_type:t.received===Ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,xt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${xt.joinValues(t.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xt.joinValues(t.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${xt.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:xt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=e.defaultError,xt.assertNever(t)}return{message:n}};let jU=Uv;function bU(){return jU}const NU=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function Se(t,e){const n=bU(),r=NU({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Uv?void 0:Uv].filter(i=>!!i)});t.common.issues.push(r)}class xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return xs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Be;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),Ed=t=>({status:"dirty",value:t}),Rs=t=>({status:"valid",value:t}),k_=t=>t.status==="aborted",E_=t=>t.status==="dirty",_c=t=>t.status==="valid",cm=t=>typeof Promise<"u"&&t instanceof Promise;var Ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ie||(Ie={}));class Ma{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const T_=(t,e)=>{if(_c(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Si(t.common.issues);return this._error=n,this._error}}};function tt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class pt{get description(){return this._def.description}_getType(e){return qi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xs,ctx:{common:e.parent.common,data:e.data,parsedType:qi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(cm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)},i=this._parseSync({data:e,path:r.path,parent:r});return T_(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return _c(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>_c(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qi(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(cm(i)?i:Promise.resolve(i));return T_(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:me.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new kc({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sa.create(this,this._def)}nullable(){return Ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mr.create(this)}promise(){return fm.create(this,this._def)}or(e){return um.create([this,e],this._def)}and(e){return hm.create(this,e,this._def)}transform(e){return new kc({...tt(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Wv({...tt(this._def),innerType:this,defaultValue:n,typeName:We.ZodDefault})}brand(){return new qU({typeName:We.ZodBranded,type:this,...tt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hv({...tt(this._def),innerType:this,catchValue:n,typeName:We.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return tj.create(this,e)}readonly(){return qv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _U=/^c[^\s-]{8,}$/i,SU=/^[0-9a-z]+$/,CU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,EU=/^[a-z0-9_-]{21}$/i,TU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ug;const RU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$U=new RegExp(`^${GE}$`);function YE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function UU(t){return new RegExp(`^${YE(t)}$`)}function VU(t){let e=`${GE}T${YE(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function zU(t,e){return!!((e==="v4"||!e)&&RU.test(t)||(e==="v6"||!e)&&MU.test(t))}function BU(t,e){if(!TU.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function WU(t,e){return!!((e==="v4"||!e)&&DU.test(t)||(e==="v6"||!e)&&OU.test(t))}class hi extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ae.string){const a=this._getOrReturnCtx(e);return Se(a,{code:me.invalid_type,expected:Ae.string,received:a.parsedType}),Be}const r=new xs;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Se(i,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Se(i,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")AU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"email",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Ug||(Ug=new RegExp(IU,"u")),Ug.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"emoji",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")kU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"uuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")EU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"nanoid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")_U.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cuid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")SU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cuid2",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")CU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"ulid",code:me.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Se(i,{validation:"url",code:me.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"regex",code:me.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?VU(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?$U.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?UU(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?PU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"duration",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?zU(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"ip",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?BU(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"jwt",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?WU(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"cidr",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?FU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"base64",code:me.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?LU.test(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{validation:"base64url",code:me.invalid_string,message:a.message}),r.dirty()):xt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:me.invalid_string,...Ie.errToObj(r)})}_addCheck(e){return new hi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ie.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ie.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ie.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ie.errToObj(n)})}nonempty(e){return this.min(1,Ie.errToObj(e))}trim(){return new hi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}hi.create=t=>new hi({checks:[],typeName:We.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...tt(t)});function HU(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Vo extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ae.number){const a=this._getOrReturnCtx(e);return Se(a,{code:me.invalid_type,expected:Ae.number,received:a.parsedType}),Be}let r;const i=new xs;for(const a of this._def.checks)a.kind==="int"?xt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Se(r,{code:me.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?HU(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Se(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Se(r,{code:me.not_finite,message:a.message}),i.dirty()):xt.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ie.toString(n))}setLimit(e,n,r,i){return new Vo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ie.toString(i)}]})}_addCheck(e){return new Vo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vo.create=t=>new Vo({checks:[],typeName:We.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class zo extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ae.bigint)return this._getInvalidInput(e);let r;const i=new xs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Se(r,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):xt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Ae.bigint,received:n.parsedType}),Be}gte(e,n){return this.setLimit("min",e,!0,Ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ie.toString(n))}setLimit(e,n,r,i){return new zo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ie.toString(i)}]})}_addCheck(e){return new zo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zo.create=t=>new zo({checks:[],typeName:We.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...tt(t)});class dm extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ae.boolean){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Ae.boolean,received:r.parsedType}),Be}return Rs(e.data)}}dm.create=t=>new dm({typeName:We.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...tt(t)});class Sc extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ae.date){const a=this._getOrReturnCtx(e);return Se(a,{code:me.invalid_type,expected:Ae.date,received:a.parsedType}),Be}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Se(a,{code:me.invalid_date}),Be}const r=new xs;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):xt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Sc.create=t=>new Sc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:We.ZodDate,...tt(t)});class P_ extends pt{_parse(e){if(this._getType(e)!==Ae.symbol){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Ae.symbol,received:r.parsedType}),Be}return Rs(e.data)}}P_.create=t=>new P_({typeName:We.ZodSymbol,...tt(t)});class A_ extends pt{_parse(e){if(this._getType(e)!==Ae.undefined){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Ae.undefined,received:r.parsedType}),Be}return Rs(e.data)}}A_.create=t=>new A_({typeName:We.ZodUndefined,...tt(t)});class I_ extends pt{_parse(e){if(this._getType(e)!==Ae.null){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Ae.null,received:r.parsedType}),Be}return Rs(e.data)}}I_.create=t=>new I_({typeName:We.ZodNull,...tt(t)});class Vv extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return Rs(e.data)}}Vv.create=t=>new Vv({typeName:We.ZodAny,...tt(t)});class R_ extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rs(e.data)}}R_.create=t=>new R_({typeName:We.ZodUnknown,...tt(t)});class Oa extends pt{_parse(e){const n=this._getOrReturnCtx(e);return Se(n,{code:me.invalid_type,expected:Ae.never,received:n.parsedType}),Be}}Oa.create=t=>new Oa({typeName:We.ZodNever,...tt(t)});class D_ extends pt{_parse(e){if(this._getType(e)!==Ae.undefined){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Ae.void,received:r.parsedType}),Be}return Rs(e.data)}}D_.create=t=>new D_({typeName:We.ZodVoid,...tt(t)});class Mr extends pt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ae.array)return Se(n,{code:me.invalid_type,expected:Ae.array,received:n.parsedType}),Be;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Se(n,{code:o?me.too_big:me.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Se(n,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Se(n,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Ma(n,o,n.path,l)))).then(o=>xs.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Ma(n,o,n.path,l)));return xs.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Mr({...this._def,minLength:{value:e,message:Ie.toString(n)}})}max(e,n){return new Mr({...this._def,maxLength:{value:e,message:Ie.toString(n)}})}length(e,n){return new Mr({...this._def,exactLength:{value:e,message:Ie.toString(n)}})}nonempty(e){return this.min(1,e)}}Mr.create=(t,e)=>new Mr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...tt(e)});function xl(t){if(t instanceof Xt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sa.create(xl(r))}return new Xt({...t._def,shape:()=>e})}else return t instanceof Mr?new Mr({...t._def,type:xl(t.element)}):t instanceof Sa?Sa.create(xl(t.unwrap())):t instanceof Ec?Ec.create(xl(t.unwrap())):t instanceof Bo?Bo.create(t.items.map(e=>xl(e))):t}class Xt extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=xt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ae.object){const d=this._getOrReturnCtx(e);return Se(d,{code:me.invalid_type,expected:Ae.object,received:d.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Oa&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],g=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ma(i,g,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Oa){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Se(i,{code:me.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const g=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ma(i,g,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const g=await h.key,m=await h.value;d.push({key:g,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>xs.mergeObjectSync(r,d)):xs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ie.errToObj,new Xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ie.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Xt({...this._def,unknownKeys:"strip"})}passthrough(){return new Xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:We.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Xt({...this._def,catchall:e})}pick(e){const n={};for(const r of xt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Xt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of xt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Xt({...this._def,shape:()=>n})}deepPartial(){return xl(this)}partial(e){const n={};for(const r of xt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Xt({...this._def,shape:()=>n})}required(e){const n={};for(const r of xt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Sa;)a=a._def.innerType;n[r]=a}return new Xt({...this._def,shape:()=>n})}keyof(){return QE(xt.objectKeys(this.shape))}}Xt.create=(t,e)=>new Xt({shape:()=>t,unknownKeys:"strip",catchall:Oa.create(),typeName:We.ZodObject,...tt(e)});Xt.strictCreate=(t,e)=>new Xt({shape:()=>t,unknownKeys:"strict",catchall:Oa.create(),typeName:We.ZodObject,...tt(e)});Xt.lazycreate=(t,e)=>new Xt({shape:t,unknownKeys:"strip",catchall:Oa.create(),typeName:We.ZodObject,...tt(e)});class um extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Si(l.ctx.common.issues));return Se(n,{code:me.invalid_union,unionErrors:o}),Be}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Si(c));return Se(n,{code:me.invalid_union,unionErrors:l}),Be}}get options(){return this._def.options}}um.create=(t,e)=>new um({options:t,typeName:We.ZodUnion,...tt(e)});function zv(t,e){const n=qi(t),r=qi(e);if(t===e)return{valid:!0,data:t};if(n===Ae.object&&r===Ae.object){const i=xt.objectKeys(e),a=xt.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=zv(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ae.array&&r===Ae.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=zv(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ae.date&&r===Ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hm extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(k_(a)||k_(o))return Be;const l=zv(a.value,o.value);return l.valid?((E_(a)||E_(o))&&n.dirty(),{status:n.value,value:l.data}):(Se(r,{code:me.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}hm.create=(t,e,n)=>new hm({left:t,right:e,typeName:We.ZodIntersection,...tt(n)});class Bo extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.array)return Se(r,{code:me.invalid_type,expected:Ae.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return Se(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(Se(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ma(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>xs.mergeArray(n,o)):xs.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Bo({...this._def,rest:e})}}Bo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bo({items:t,typeName:We.ZodTuple,rest:null,...tt(e)})};class M_ extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.map)return Se(r,{code:me.invalid_type,expected:Ae.map,received:r.parsedType}),Be;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Ma(r,l,r.path,[d,"key"])),value:a._parse(new Ma(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Be;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Be;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}M_.create=(t,e,n)=>new M_({valueType:e,keyType:t,typeName:We.ZodMap,...tt(n)});class wu extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ae.set)return Se(r,{code:me.invalid_type,expected:Ae.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Se(r,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Se(r,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Be;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ma(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new wu({...this._def,minSize:{value:e,message:Ie.toString(n)}})}max(e,n){return new wu({...this._def,maxSize:{value:e,message:Ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}wu.create=(t,e)=>new wu({valueType:t,minSize:null,maxSize:null,typeName:We.ZodSet,...tt(e)});class Bv extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Bv.create=(t,e)=>new Bv({getter:t,typeName:We.ZodLazy,...tt(e)});class O_ extends pt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Se(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}O_.create=(t,e)=>new O_({value:t,typeName:We.ZodLiteral,...tt(e)});function QE(t,e){return new Cc({values:t,typeName:We.ZodEnum,...tt(e)})}class Cc extends pt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Se(n,{expected:xt.joinValues(r),received:n.parsedType,code:me.invalid_type}),Be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Se(n,{received:n.data,code:me.invalid_enum_value,options:r}),Be}return Rs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Cc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Cc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cc.create=QE;class F_ extends pt{_parse(e){const n=xt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ae.string&&r.parsedType!==Ae.number){const i=xt.objectValues(n);return Se(r,{expected:xt.joinValues(i),received:r.parsedType,code:me.invalid_type}),Be}if(this._cache||(this._cache=new Set(xt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=xt.objectValues(n);return Se(r,{received:r.data,code:me.invalid_enum_value,options:i}),Be}return Rs(e.data)}get enum(){return this._def.values}}F_.create=(t,e)=>new F_({values:t,typeName:We.ZodNativeEnum,...tt(e)});class fm extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ae.promise&&n.common.async===!1)return Se(n,{code:me.invalid_type,expected:Ae.promise,received:n.parsedType}),Be;const r=n.parsedType===Ae.promise?n.data:Promise.resolve(n.data);return Rs(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fm.create=(t,e)=>new fm({type:t,typeName:We.ZodPromise,...tt(e)});class kc extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Be;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Be:c.status==="dirty"||n.value==="dirty"?Ed(c.value):c});{if(n.value==="aborted")return Be;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||n.value==="dirty"?Ed(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Be:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Be:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_c(o))return Be;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>_c(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):Be);xt.assertNever(i)}}kc.create=(t,e,n)=>new kc({schema:t,typeName:We.ZodEffects,effect:e,...tt(n)});kc.createWithPreprocess=(t,e,n)=>new kc({schema:e,effect:{type:"preprocess",transform:t},typeName:We.ZodEffects,...tt(n)});class Sa extends pt{_parse(e){return this._getType(e)===Ae.undefined?Rs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sa.create=(t,e)=>new Sa({innerType:t,typeName:We.ZodOptional,...tt(e)});class Ec extends pt{_parse(e){return this._getType(e)===Ae.null?Rs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ec.create=(t,e)=>new Ec({innerType:t,typeName:We.ZodNullable,...tt(e)});class Wv extends pt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wv.create=(t,e)=>new Wv({innerType:t,typeName:We.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class Hv extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return cm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Si(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Si(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hv.create=(t,e)=>new Hv({innerType:t,typeName:We.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class L_ extends pt{_parse(e){if(this._getType(e)!==Ae.nan){const r=this._getOrReturnCtx(e);return Se(r,{code:me.invalid_type,expected:Ae.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}L_.create=t=>new L_({typeName:We.ZodNaN,...tt(t)});class qU extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class tj extends pt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"?(n.dirty(),Ed(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new tj({in:e,out:n,typeName:We.ZodPipeline})}}class qv extends pt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(_c(i)&&(i.value=Object.freeze(i.value)),i);return cm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}qv.create=(t,e)=>new qv({innerType:t,typeName:We.ZodReadonly,...tt(e)});var We;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(We||(We={}));const O=hi.create,Ge=Vo.create;zo.create;const zn=dm.create;Sc.create;const Kl=Vv.create;Oa.create;const Ct=Mr.create,Te=Xt.create,da=um.create;hm.create;Bo.create;const KU=Bv.create,Fa=Cc.create;fm.create;Sa.create;Ec.create;const Bh={string:t=>hi.create({...t,coerce:!0}),number:t=>Vo.create({...t,coerce:!0}),boolean:t=>dm.create({...t,coerce:!0}),bigint:t=>zo.create({...t,coerce:!0}),date:t=>Sc.create({...t,coerce:!0})},GU=Te({email:O().email("Please enter a valid email address"),password:O().min(1,"Password is required")}),YU=Te({email:O().email("Please enter a valid email address"),password:O().min(6,"Password must be at least 6 characters"),firstName:O().min(1,"First name is required"),lastName:O().min(1,"Last name is required"),userName:O().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:O().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:O().min(1,"Country is required")});Te({email:O().optional(),firstName:O().optional(),lastName:O().optional(),type:Fa(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:O().optional(),userName:O().optional(),country:O().optional(),phone:O().optional(),gender:O().optional(),uid:O().optional(),idToken:O().min(1,"Firebase ID token is required for authentication"),provider:O().optional(),profilePicture:O().optional()}).refine(t=>t.type==="google"?!!t.email&&!!t.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const XE=Te({firstName:O().min(1,"First name is required"),lastName:O().min(1,"Last name is required"),userName:O().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:O().min(1,"Country is required"),phone:O().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:O().optional()});Te({token:O().optional(),user:Te({id:O(),email:O(),name:O().optional()}).optional(),message:O().optional()});Te({success:zn(),message:O().optional(),data:Kl(),accessToken:O().optional(),authtoken:O().optional(),newuser:zn().optional()});Te({success:zn().optional(),message:O(),error:O().optional(),details:Kl().optional()});const QU=Te({_id:O(),customer:Te({_id:O(),firstName:O(),lastName:O().optional(),userName:O().optional(),email:O(),profilePhoto:O().optional(),address:Te({_id:O(),name:O(),addrress1:O(),city:O(),state:O(),zipcode:O(),phone:O(),email:O()}).optional()}),seller:Te({_id:O(),firstName:O(),lastName:O().optional(),userName:O().optional(),email:O()}),need_label:zn(),giveaway:Te({_id:O(),name:O(),description:O().optional(),quantity:Ge(),images:Ct(O()).optional(),category:Te({_id:O(),name:O()}).optional(),shipping_profile:Te({_id:O(),weight:Ge(),name:O(),scale:O()}).optional(),height:O().optional(),width:O().optional(),length:O().optional(),status:O().optional(),participants:Ct(O()).optional()}).optional(),ordertype:O().optional(),items:Ct(Te({_id:O().optional(),orderId:O().optional(),productId:Te({_id:O().optional(),name:O().optional(),images:Ct(O()).optional(),category:Te({_id:O().optional(),name:O().optional()}).optional()}).optional(),quantity:Ge().optional(),price:Ge().optional(),shipping_fee:Ge().optional(),weight:O().optional(),height:O().optional(),width:O().optional(),length:O().optional(),scale:O().optional()})).optional(),total:Ge().optional(),servicefee:Ge().optional(),tax:Ge().optional(),shipping_fee:Ge().optional(),seller_shipping_fee_pay:Ge().optional(),total_shipping_cost:Ge().optional(),invoice:Ge().optional(),status:O().optional(),tracking_number:O().optional(),label:O().optional(),weight:da([Ge(),O()]).optional(),date:Ge().optional(),createdAt:O().optional(),updatedAt:O().optional(),bundleId:O().optional().nullable(),tokshow:Te({_id:O(),title:O().optional(),name:O().optional()}).optional(),height:O().optional(),width:O().optional(),length:O().optional(),scale:O().optional()});Te({orders:Ct(QU),limits:Ge(),pages:Ge(),total:Ge()});Te({totalOrder:Ge(),totalAmount:O(),todayOrder:Ct(Kl()),totalAmountOfThisMonth:O(),totalPendingOrder:Te({total:Ge(),count:Ge()}).optional(),totalDeliveredOrder:Ge(),orders:Ct(Kl()),weeklySaleReport:Ct(Kl())});const XU=Te({_id:O(),name:O(),description:O().optional(),price:Ge(),quantity:Ge(),images:Ct(O()).optional(),category:Te({_id:O(),name:O()}).optional(),seller:Te({_id:O(),firstName:O(),lastName:O().optional(),userName:O().optional(),email:O()}),status:O().optional(),weight:da([Ge(),O()]).optional(),height:O().optional(),width:O().optional(),length:O().optional(),scale:O().optional(),shipping_profile:Te({_id:O(),weight:Ge(),name:O(),scale:O()}).optional(),colors:Ct(O()).optional(),sizes:Ct(O()).optional(),featured:zn().optional(),createdAt:O().optional(),updatedAt:O().optional()});Te({products:Ct(XU),limits:Ge(),pages:Ge(),totalDoc:Ge()});const ZE=KU(()=>Te({_id:O(),name:O(),description:O().optional(),status:O().optional(),icon:O().optional(),type:O().optional(),subCategories:Ct(ZE).optional()}));Te({categories:Ct(ZE),limits:Ge().optional(),pages:Ge().optional(),total:Ge().optional()});const ZU=Te({_id:O(),name:O(),weight:Ge(),scale:O(),description:O().optional()});Ct(ZU);const JU=Fa(["auction","buy_now","giveaway"]);Te({name:O().min(1,"Product name is required"),description:O().optional(),price:Bh.number().optional().nullable(),quantity:Bh.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:O().min(1,"Category is required"),status:Fa(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:JU,shippingProfile:O().nullable().optional(),images:Ct(O()).optional(),startingPrice:Bh.number().optional().nullable(),duration:Bh.number().int().optional().nullable(),sudden:zn().optional().default(!1),startTime:O().optional().nullable(),endTime:O().optional().nullable(),featured:zn().optional().default(!1),whocanenter:Fa(["everyone","followers"]).optional().default("everyone"),tokshow:O().optional()}).refine(t=>t.listingType==="auction"?t.startingPrice!==void 0&&t.startingPrice!==null&&t.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(t=>t.listingType==="auction"&&!t.featured?t.duration!==void 0&&t.duration!==null&&t.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(t=>t.listingType==="auction"&&t.featured?t.startTime!==void 0&&t.startTime!==null&&t.startTime!=="":!0,{message:"Auction start time is required for featured auctions",path:["startTime"]}).refine(t=>t.listingType==="auction"&&t.featured?t.endTime!==void 0&&t.endTime!==null&&t.endTime!=="":!0,{message:"Auction end time is required for featured auctions",path:["endTime"]}).refine(t=>t.listingType==="buy_now"?t.price!==void 0&&t.price!==null&&t.price>0:!0,{message:"Price must be greater than 0",path:["price"]}).refine(t=>t.listingType==="auction"&&!t.featured?t.tokshow!==void 0&&t.tokshow!==null&&t.tokshow!==""&&t.tokshow!=="general":!0,{message:"Live show auctions must be assigned to a show",path:["tokshow"]});Te({id:O(),customerId:O(),customerName:O(),orderIds:Ct(O()),count:Ge(),weight:O().optional(),dimensions:O().optional(),totalValue:Ge(),status:Fa(["pending","labeled"]).optional().default("pending"),createdAt:O().optional()});const eV=Te({name:O().min(1,"Address name is required"),addrress1:O().min(1,"Street address is required"),addrress2:O().optional().default(""),city:O().min(1,"City is required"),state:O().min(1,"State is required"),stateCode:O().optional().default(""),cityCode:O().optional().default(""),zipcode:O().min(1,"ZIP code is required"),countryCode:O().min(1,"Country is required"),country:O().optional(),phone:O().min(1,"Phone number is required"),email:O().email("Please enter a valid email address"),userId:O().min(1,"User ID is required")});eV.partial().extend({name:O().min(1,"Address name is required").optional(),addrress1:O().min(1,"Street address is required").optional(),city:O().min(1,"City is required").optional(),state:O().min(1,"State is required").optional(),zipcode:O().min(1,"ZIP code is required").optional(),countryCode:O().min(1,"Country is required").optional(),phone:O().min(1,"Phone number is required").optional(),email:O().email("Please enter a valid email address").optional()});Te({primary:zn(),userId:O().min(1,"User ID is required")});Te({weight:da([O(),Ge()]).transform(String),unit:O().optional().default("oz"),product:O(),update:zn().optional().default(!0),owner:O(),customer:O(),length:da([O(),Ge()]).transform(Number),width:da([O(),Ge()]).transform(Number),height:da([O(),Ge()]).transform(Number),buying_label:zn().optional().default(!0)});Te({carrier:O(),service:O(),price:O(),deliveryTime:O(),objectId:O().min(1,"Rate ID is required")});Te({rate_id:O().min(1,"Rate ID is required"),order:da([O(),Te({_id:O(),customer:Te({_id:O(),firstName:O(),lastName:O().optional(),email:O().email(),address:Te({name:O(),addrress1:O(),city:O(),state:O(),zipcode:O(),phone:O(),email:O().email()}).optional()}),seller:Te({_id:O(),firstName:O(),lastName:O().optional(),email:O().email()})})]),isBundle:zn().optional(),shipping_fee:da([O(),Ge()]).transform(Number),servicelevel:O().min(1,"Service level is required"),carrier:O().optional(),deliveryTime:O().optional()});Te({success:zn(),message:O(),data:Te({tracking_number:O(),label_url:O().optional(),label_data:O().optional(),carrier:O(),service:O(),cost:O(),delivery_time:O(),purchased_at:O()}).optional(),error:O().optional()});Te({orderIds:Ct(O().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:O().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:O().min(1,"Rate ID is required")});Te({success:zn(),message:O(),data:Te({tracking_number:O(),label_url:O().optional(),cost:Ge(),carrier:O(),service:O(),affected_orders:Ct(O()),update_results:Ct(Te({orderId:O(),success:zn(),error:O().optional(),data:Kl().optional()})),aggregated_weight:O().optional(),aggregated_dimensions:O().optional()}).optional(),error:O().optional()});const tV=Te({title:O().min(1,"Title is required"),subtitle:O().min(1,"Subtitle is required"),primaryButtonText:O().min(1,"Primary button text is required"),primaryButtonLink:O().min(1,"Primary button link is required"),secondaryButtonText:O().min(1,"Secondary button text is required"),heroImage:O().url("Must be a valid URL"),heroImageAlt:O().optional().default("Live shopping experience"),liveViewers:O().optional().default("12.5K watching")}),nV=Te({icon:Fa(["Play","Zap","Shield","Star","TrendingUp"]),title:O().min(1,"Step title is required"),description:O().min(1,"Step description is required")}),sV=Te({icon:Fa(["Play","Zap","Shield","Star","TrendingUp"]),title:O().min(1,"Feature title is required"),description:O().min(1,"Feature description is required")}),rV=Te({name:O().min(1,"Category name is required"),image:O().url("Must be a valid URL")}),iV=Te({name:O().min(1,"Brand name is required"),logo:O().optional()});Te({hero:tV,howItWorks:Te({title:O().min(1,"Section title is required"),subtitle:O().min(1,"Section subtitle is required"),steps:Ct(nV).length(3,"Must have exactly 3 steps")}),joinFun:Te({title:O().min(1,"Section title is required"),subtitle:O().min(1,"Section subtitle is required"),image:O().url("Must be a valid URL"),imageAlt:O().optional().default("Auction excitement"),features:Ct(sV).min(1,"Must have at least 1 feature"),buttonText:O().min(1,"Button text is required"),buttonLink:O().min(1,"Button link is required")}),categories:Te({title:O().min(1,"Section title is required"),subtitle:O().min(1,"Section subtitle is required"),items:Ct(rV).min(1,"Must have at least 1 category"),buttonText:O().min(1,"Button text is required"),buttonLink:O().min(1,"Button link is required")}),brands:Te({title:O().min(1,"Section title is required"),subtitle:O().min(1,"Section subtitle is required"),items:Ct(iV).min(1,"Must have at least 1 brand"),image:O().url("Must be a valid URL"),imageAlt:O().optional().default("Brand products"),buttonText:O().min(1,"Button text is required"),buttonLink:O().min(1,"Button link is required")}),finalCTA:Te({title:O().min(1,"CTA title is required"),subtitle:O().min(1,"CTA subtitle is required"),buttonText:O().min(1,"Button text is required"),buttonLink:O().min(1,"Button link is required")}),footer:Te({copyrightText:O().optional()})});Fa(["landing","faq","about","privacy","terms","contact"]);const aV=Te({question:O().min(1,"Question is required"),answer:O().min(1,"Answer is required")}),oV=Te({title:O().min(1,"Page title is required"),subtitle:O().optional(),faqs:Ct(aV).min(1,"Must have at least 1 FAQ item")}),JE=Te({title:O().min(1,"Section title is required"),content:O().min(1,"Section content is required"),order:Ge().optional()}),nj=Te({title:O().min(1,"Page title is required"),subtitle:O().optional(),sections:Ct(JE).min(1,"Must have at least 1 section")}),lV=Te({email:O().email("Must be a valid email").optional(),phone:O().optional(),address:O().optional()}),cV=Te({title:O().min(1,"Page title is required"),subtitle:O().optional(),description:O().optional(),contactInfo:lV,showContactForm:zn().optional().default(!0),sections:Ct(JE).optional()}),eT={app_name:"TokShop",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0,demoMode:!1},tT=p.createContext({settings:eT,isLoading:!0,isFirebaseReady:!1,appName:"TokShop"});function $_(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,i=Math.max(e,n,r),a=Math.min(e,n,r);let o=0,l=0,c=(i+a)/2;if(i!==a){const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case e:o=((n-r)/d+(n<r?6:0))/6;break;case n:o=((r-e)/d+2)/6;break;case r:o=((e-n)/d+4)/6;break}}return o=Math.round(o*360),l=Math.round(l*100),c=Math.round(c*100),`${o} ${l}% ${c}%`}function U_(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*i+.7152*a+.0722*o}function dV(t,e){console.log(" Applying theme colors:",{primaryColor:t,secondaryColor:e});const n=document.documentElement,r=$_(t),i=$_(e);console.log(" Converted to HSL:",{primaryHSL:r,secondaryHSL:i});const a=U_(t),o=a>.5;console.log(" Luminance:",{luminance:a,isLightColor:o});const l=o?"0 0% 9%":"0 0% 100%";n.style.setProperty("--primary",r),n.style.setProperty("--primary-foreground",l),n.style.setProperty("--ring",r),n.style.setProperty("--chart-1",r),n.style.setProperty("--sidebar-primary",r),n.style.setProperty("--sidebar-primary-foreground",l),n.style.setProperty("--sidebar-ring",r);const h=U_(e)>.5?"0 0% 9%":"0 0% 100%";n.style.setProperty("--secondary",i),n.style.setProperty("--secondary-foreground",h),n.style.setProperty("--accent",i),n.style.setProperty("--accent-foreground",h),n.style.setProperty("--chart-2",i),console.log(" Theme colors applied successfully")}function uV({children:t}){const[e,n]=p.useState(eT),[r,i]=p.useState(!0),[a,o]=p.useState(!1);p.useEffect(()=>{async function c(){try{const d=await fetch("/api/settings");if(d.ok){const h=await d.json();if(console.log(" Settings fetched:",h),h.success&&h.data){console.log(" Settings data:",h.data),n(h.data);let g;h.data.firebase_config?(g=h.data.firebase_config,console.log(" Using nested firebase_config from API")):(h.data.firebase_auth_domain||h.data.firebase_project_id)&&(g={apiKey:h.data.firebase_api_key||h.data.FIREBASE_API_KEY||"",authDomain:h.data.firebase_auth_domain||"",projectId:h.data.firebase_project_id||"",storageBucket:h.data.firebase_storage_bucket||"",appId:h.data.firebase_app_id||""},console.log(" Built firebase_config from individual fields")),g&&g.apiKey&&g.projectId?(console.log(" Initializing Firebase with config:",{projectId:g.projectId}),uU(g),console.log(" Firebase initialized successfully"),o(!0)):(console.warn(" No valid Firebase config found in settings"),o(!1))}}}catch(d){console.error("Failed to fetch app settings:",d),console.warn(" Cannot initialize Firebase without settings")}finally{i(!1)}}c()},[]),p.useEffect(()=>{e.primary_color&&e.secondary_color&&dV(e.primary_color,e.secondary_color)},[e.primary_color,e.secondary_color]);const l=e.app_name||"TokShop";return s.jsx(tT.Provider,{value:{settings:e,isLoading:r,isFirebaseReady:a,appName:l},children:t})}function tl(){const t=p.useContext(tT);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}const nT=p.createContext(null);function hV({children:t}){console.log("[AuthProvider] Initializing AuthProvider");const{isFirebaseReady:e}=tl(),[n,r]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(!1),[c,d]=p.useState(null),[h,g]=p.useState(null),m=p.useRef(!1),w=p.useRef(!1),f=p.useRef(0),x=p.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",i,"user:",n?n.id:"null","isAuthenticated:",!!n,"isFirebaseReady:",e);const N=!!n,j=async(T,I,F=!1)=>{var K,z;try{const V=await T.getIdToken(!0);let L=null;if(T.providerData&&T.providerData.length>0&&(T.providerData.some(Ue=>Ue.providerId==="apple.com")?L="apple":T.providerData.some(Ue=>Ue.providerId==="google.com")&&(L="google")),!L&&(I==null?void 0:I.providerId)==="apple.com"?L="apple":!L&&(I==null?void 0:I.providerId)==="google.com"&&(L="google"),!L)throw new Error("Unable to determine authentication provider");let B="",oe="",le=T.email||"";if(L==="apple"&&(I!=null&&I.profile)){const Ue=I.profile;Ue.name&&(B=Ue.name.firstName||"",oe=Ue.name.lastName||""),Ue.email&&(le=Ue.email)}else(L==="google"||!(I!=null&&I.profile))&&(B=((K=T.displayName)==null?void 0:K.split(" ")[0])||"",oe=((z=T.displayName)==null?void 0:z.split(" ").slice(1).join(" "))||"");const W={idToken:V,uid:T.uid,email:le,firstName:B,lastName:oe,type:L,profilePhoto:T.photoURL||"",userName:L==="apple"?"":le||T.uid,country:"",phone:"",gender:""},fe=await wt("POST","/api/auth/social",W),de=await fe.json();if(!fe.ok)throw new Error(de.error||`Authentication failed: ${fe.status}`);if(de.success){if(!F&&de.newuser===!0)return l(!0),d(T.email||""),g(T),de;const Ue={id:de.data._id||de.data.id,email:de.data.email,firstName:de.data.firstName,lastName:de.data.lastName||"",profilePhoto:de.data.profilePhoto||T.photoURL||"",userName:de.data.userName,country:de.data.country||"",phone:de.data.phone||"",seller:de.data.seller||!1,admin:de.data.admin||!1,authProvider:L,address:de.data.address,defaultpaymentmethod:de.data.defaultpaymentmethod};r(Ue),localStorage.setItem("userId",Ue.id),localStorage.setItem("user",JSON.stringify(Ue)),de.accessToken&&localStorage.setItem("accessToken",de.accessToken),l(!1),d(null),g(null)}else throw new Error(de.message||"Authentication failed");return de}catch(V){throw console.error("Authentication failed:",(V==null?void 0:V.message)||V),V}},v=async(T,I)=>await S(T,I),S=async(T,I)=>{try{a(!0);const F=GU.parse({email:T,password:I}),z=await(await wt("POST","/api/auth/login",F)).json();if(z.success){const V={id:z.data._id||z.data.id,email:z.data.email,firstName:z.data.firstName,lastName:z.data.lastName||"",profilePhoto:z.data.profilePhoto||"",userName:z.data.userName,country:z.data.country||"",phone:z.data.phone||"",seller:z.data.seller||!1,admin:z.data.admin||!1,authProvider:"email",address:z.data.address,defaultpaymentmethod:z.data.defaultpaymentmethod};r(V),localStorage.setItem("userId",V.id),localStorage.setItem("user",JSON.stringify(V)),z.accessToken&&localStorage.setItem("accessToken",z.accessToken)}else{const V=z.message||z.error||"Login failed";throw new Error(V)}}catch(F){throw console.error("Email login failed:",F),F}finally{a(!1)}},y=async(T,I,F,K,z,V,L)=>{try{a(!0);const B=YU.parse({email:T,password:I,firstName:F,lastName:K,userName:z,phone:V,country:L}),le=await(await wt("POST","/api/auth/signup",B)).json();if(le.success){const W={id:le.data._id||le.data.id,email:le.data.email,firstName:le.data.firstName,lastName:le.data.lastName||"",profilePhoto:le.data.profilePhoto||"",userName:le.data.userName,country:le.data.country||L,phone:le.data.phone||"",seller:le.data.seller||!1,admin:le.data.admin||!1,authProvider:"email",address:le.data.address,defaultpaymentmethod:le.data.defaultpaymentmethod};r(W),localStorage.setItem("userId",W.id),localStorage.setItem("user",JSON.stringify(W)),le.accessToken&&localStorage.setItem("accessToken",le.accessToken)}else{const W=le.message||le.error||"Signup failed";throw new Error(W)}}catch(B){throw console.error("Email signup failed:",B),B}finally{a(!1)}},E=async()=>{try{a(!0);const T=await mU();if(T!=null&&T.user){const I=T.user.email;if(!I)throw new Error("No email found in Google account");const K=await(await wt("GET",`/api/users/userexists/email?email=${encodeURIComponent(I)}`)).json();console.log("[loginWithGoogle] User existence check:",K),K.exists?await j(T.user,T==null?void 0:T.additionalUserInfo,!0):(l(!0),d(I),g(T.user),console.log("[loginWithGoogle] New user detected, redirecting to data collection"))}}catch(T){throw console.error("Google login failed:",T),T}finally{a(!1)}},D=async()=>{try{a(!0);const T=await vU();T!=null&&T.user&&await j(T.user,T==null?void 0:T.additionalUserInfo)}catch(T){throw console.error("Apple login failed:",T),T}finally{a(!1)}},k=async T=>{try{if(a(!0),!h)throw new Error("No pending social authentication data found");const I=XE.parse(T);let F="google";h.providerData&&h.providerData.length>0&&(h.providerData.some(L=>L.providerId==="apple.com")?F="apple":h.providerData.some(L=>L.providerId==="google.com")&&(F="google"));const K={email:h.email||"",firstName:I.firstName,lastName:I.lastName,userName:I.userName,type:F,profilePhoto:h.photoURL||"",country:I.country||"",phone:I.phone||"",gender:I.gender||""},V=await(await wt("POST","/api/auth/social/complete",K)).json();if(V.success){const L={id:V.data._id||V.data.id,email:V.data.email,firstName:V.data.firstName,lastName:V.data.lastName||"",profilePhoto:V.data.profilePhoto||h.photoURL||"",userName:V.data.userName,country:V.data.country||"",phone:V.data.phone||"",seller:V.data.seller||!1,admin:V.data.admin||!1,authProvider:F,address:V.data.address,defaultpaymentmethod:V.data.defaultpaymentmethod};r(L),localStorage.setItem("userId",L.id),localStorage.setItem("user",JSON.stringify(L)),V.accessToken&&localStorage.setItem("accessToken",V.accessToken),l(!1),d(null),g(null)}else throw new Error(V.error||"Failed to complete social authentication")}catch(I){throw console.error("Social auth completion failed:",I),I}finally{a(!1)}},_=async()=>{try{await wt("POST","/api/auth/logout",{}),await xU(),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),l(!1),d(null),g(null)}catch(T){console.error("Logout failed:",T),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),l(!1),d(null),g(null)}},C=async()=>{try{console.log("[checkAuth] Starting auth check...");const T=gU(),I=new Promise(z=>setTimeout(()=>z(null),2e3)),F=await Promise.race([T,I]);if(F!=null&&F.user&&!m.current){m.current=!0;try{await j(F.user,F==null?void 0:F.additionalUserInfo)}finally{m.current=!1}return}const K=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",K?"EXISTS":"NONE"),K)try{const z=JSON.parse(K);console.log("[checkAuth] Setting user from localStorage:",z.id),r(z),wt("GET","/api/auth/session").then(V=>V.json()).then(V=>{V.success||console.log("Session validation failed but keeping localStorage user")}).catch(V=>{console.log("Session validation error but keeping localStorage user:",V)})}catch(z){console.error("Failed to parse stored user data:",z),localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}catch(T){console.error("Auth check failed:",T);const I=localStorage.getItem("user");if(I)try{const F=JSON.parse(I);r(F)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),w.current=!0,a(!1)}},R=async()=>{try{if(!(n!=null&&n.id)){console.log("[refreshUserData] No user logged in");return}if(x.current){console.log("[refreshUserData] Already refreshing, skipping...");return}const T=Date.now();if(T-f.current<2e3){console.log("[refreshUserData] Refreshed recently, skipping...");return}x.current=!0,f.current=T,console.log("[refreshUserData] Fetching latest user data for:",n.id);const F=await(await wt("GET",`/api/address/default/address/${n.id}`)).json(),K=(F==null?void 0:F.address)||null,V=await(await wt("GET",`/api/users/paymentmethod/${n.id}`)).json(),L=(V==null?void 0:V.data)||null,B={...n,address:K||n.address,defaultpaymentmethod:L||n.defaultpaymentmethod};r(B),localStorage.setItem("user",JSON.stringify(B)),console.log("[refreshUserData] User data updated:",{hasAddress:!!B.address,hasPayment:!!B.defaultpaymentmethod})}catch(T){console.error("[refreshUserData] Failed to refresh user data:",T)}finally{x.current=!1}};p.useEffect(()=>{if(!e){console.log("[AuthProvider] Firebase not configured yet - admin can still access panel to configure it"),w.current||C();return}console.log("[AuthProvider] Firebase ready, setting up auth listener");const T=wU(async I=>{console.log("[Firebase Listener] Auth state changed, user:",I?"EXISTS":"NONE","hasCheckedAuth:",w.current),I||r(null),w.current?(console.log("[Firebase Listener] Setting isLoading = false"),a(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return C(),()=>T()},[e]);const A={user:n,isLoading:i,isAuthenticated:N,pendingSocialAuth:o,pendingSocialAuthEmail:c,pendingSocialAuthData:h,login:v,emailLogin:S,emailSignup:y,loginWithGoogle:E,loginWithApple:D,completeSocialAuth:k,logout:_,checkAuth:C,refreshUserData:R};return s.jsx(nT.Provider,{value:A,children:t})}function Ha(){const t=p.useContext(nT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}var qu=t=>t.type==="checkbox",go=t=>t instanceof Date,Yn=t=>t==null;const sT=t=>typeof t=="object";var tn=t=>!Yn(t)&&!Array.isArray(t)&&sT(t)&&!go(t),rT=t=>tn(t)&&t.target?qu(t.target)?t.target.checked:t.target.value:t,fV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iT=(t,e)=>t.has(fV(e)),mV=t=>{const e=t.constructor&&t.constructor.prototype;return tn(e)&&e.hasOwnProperty("isPrototypeOf")},sj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(sj&&(t instanceof Blob||r))&&(n||tn(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!mV(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Mt(t[i]));else return t;return e}var ip=t=>/^\w*$/.test(t),Tt=t=>t===void 0,ap=t=>Array.isArray(t)?t.filter(Boolean):[],rj=t=>ap(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(t,e,n)=>{if(!e||!tn(t))return n;const r=(ip(e)?[e]:rj(e)).reduce((i,a)=>Yn(i)?i:i[a],t);return Tt(r)||r===t?Tt(t[e])?n:t[e]:r},os=t=>typeof t=="boolean",vt=(t,e,n)=>{let r=-1;const i=ip(e)?[e]:rj(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=tn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const mm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ij=Ee.createContext(null);ij.displayName="HookFormContext";const Ku=()=>Ee.useContext(ij),pV=t=>{const{children:e,...n}=t;return Ee.createElement(ij.Provider,{value:n},e)};var aT=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Cs.all&&(e._proxyFormState[o]=!r||Cs.all),n&&(n[o]=!0),t[o]}});return i};const op=typeof window<"u"?Ee.useLayoutEffect:Ee.useEffect;function gV(t){const e=Ku(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=Ee.useState(n._formState),c=Ee.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return op(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,a]),Ee.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Ee.useMemo(()=>aT(o,n,c.current,!1),[o,n])}var ds=t=>typeof t=="string",Kv=(t,e,n,r,i)=>ds(t)?(r&&e.watch.add(t),xe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),xe(n,a))):(r&&(e.watchAll=!0),n),Gv=t=>Yn(t)||!sT(t);function Bs(t,e,n=new WeakSet){if(Gv(t)||Gv(e))return t===e;if(go(t)&&go(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(go(o)&&go(l)||tn(o)&&tn(l)||Array.isArray(o)&&Array.isArray(l)?!Bs(o,l,n):o!==l)return!1}}return!0}function xV(t){const e=Ku(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},c=Ee.useRef(i),d=Ee.useRef(l),h=Ee.useRef(void 0),g=Ee.useRef(n),m=Ee.useRef(r);d.current=l;const[w,f]=Ee.useState(()=>{const y=n._getWatch(r,c.current);return d.current?d.current(y):y}),x=Ee.useCallback(y=>{const E=Kv(r,n._names,y||n._formValues,!1,c.current);return d.current?d.current(E):E},[n._formValues,n._names,r]),N=Ee.useCallback(y=>{if(!a){const E=Kv(r,n._names,y||n._formValues,!1,c.current);if(d.current){const D=d.current(E);Bs(D,h.current)||(f(D),h.current=D)}else f(E)}},[n._formValues,n._names,a,r]);op(()=>((g.current!==n||!Bs(m.current,r))&&(g.current=n,m.current=r,N()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{N(y.values)}})),[n,o,r,N]),Ee.useEffect(()=>n._removeUnmounted());const j=g.current!==n,v=m.current,S=Ee.useMemo(()=>{if(a)return null;const y=!j&&!Bs(v,r);return j||y?x():null},[a,j,r,v,x]);return S!==null?S:w}function vV(t){const e=Ku(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a,defaultValue:o}=t,l=iT(i._names.array,n),c=Ee.useMemo(()=>xe(i._formValues,n,xe(i._defaultValues,n,o)),[i,n,o]),d=xV({control:i,name:n,defaultValue:c,exact:!0}),h=gV({control:i,name:n,exact:!0}),g=Ee.useRef(t),m=Ee.useRef(void 0),w=Ee.useRef(i.register(n,{...t.rules,value:d,...os(t.disabled)?{disabled:t.disabled}:{}}));g.current=t;const f=Ee.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!xe(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!xe(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!xe(h.validatingFields,n)},error:{enumerable:!0,get:()=>xe(h.errors,n)}}),[h,n]),x=Ee.useCallback(S=>w.current.onChange({target:{value:rT(S),name:n},type:mm.CHANGE}),[n]),N=Ee.useCallback(()=>w.current.onBlur({target:{value:xe(i._formValues,n),name:n},type:mm.BLUR}),[n,i._formValues]),j=Ee.useCallback(S=>{const y=xe(i._fields,n);y&&S&&(y._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:E=>S.setCustomValidity(E),reportValidity:()=>S.reportValidity()})},[i._fields,n]),v=Ee.useMemo(()=>({name:n,value:d,...os(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:x,onBlur:N,ref:j}),[n,r,h.disabled,x,N,j,d]);return Ee.useEffect(()=>{const S=i._options.shouldUnregister||a,y=m.current;y&&y!==n&&!l&&i.unregister(y),i.register(n,{...g.current.rules,...os(g.current.disabled)?{disabled:g.current.disabled}:{}});const E=(D,k)=>{const _=xe(i._fields,D);_&&_._f&&(_._f.mount=k)};if(E(n,!0),S){const D=Mt(xe(i._options.defaultValues,n,g.current.defaultValue));vt(i._defaultValues,n,D),Tt(xe(i._formValues,n))&&vt(i._formValues,n,D)}return!l&&i.register(n),m.current=n,()=>{(l?S&&!i._state.action:S)?i.unregister(n):E(n,!1)}},[n,i,l,a]),Ee.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Ee.useMemo(()=>({field:v,formState:h,fieldState:f}),[v,h,f])}const yV=t=>t.render(vV(t));var oT=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Zn=t=>Array.isArray(t)?t:[t],V_=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function lT(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],a=e[r];if(i&&tn(i)&&a){const o=lT(i,a);tn(o)&&(n[r]=o)}else t[r]&&(n[r]=a)}return n}var En=t=>tn(t)&&!Object.keys(t).length,aj=t=>t.type==="file",Ws=t=>typeof t=="function",pm=t=>{if(!sj)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cT=t=>t.type==="select-multiple",oj=t=>t.type==="radio",wV=t=>oj(t)||qu(t),Vg=t=>pm(t)&&t.isConnected;function jV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Tt(t)?r++:t[e[r++]];return t}function bV(t){for(const e in t)if(t.hasOwnProperty(e)&&!Tt(t[e]))return!1;return!0}function Kt(t,e){const n=Array.isArray(e)?e:ip(e)?[e]:rj(e),r=n.length===1?t:jV(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(tn(r)&&En(r)||Array.isArray(r)&&bV(r))&&Kt(t,n.slice(0,-1)),t}var NV=t=>{for(const e in t)if(Ws(t[e]))return!0;return!1};function dT(t){return Array.isArray(t)||tn(t)&&!NV(t)}function Yv(t,e={}){for(const n in t)dT(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Yv(t[n],e[n])):Tt(t[n])||(e[n]=!0);return e}function vl(t,e,n){n||(n=Yv(e));for(const r in t)dT(t[r])?Tt(e)||Gv(n[r])?n[r]=Yv(t[r],Array.isArray(t[r])?[]:{}):vl(t[r],Yn(e)?{}:e[r],n[r]):n[r]=!Bs(t[r],e[r]);return n}const z_={value:!1,isValid:!1},B_={value:!0,isValid:!0};var uT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Tt(t[0].attributes.value)?Tt(t[0].value)||t[0].value===""?B_:{value:t[0].value,isValid:!0}:B_:z_}return z_},hT=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Tt(t)?t:e?t===""?NaN:t&&+t:n&&ds(t)?new Date(t):r?r(t):t;const W_={isValid:!1,value:null};var fT=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,W_):W_;function H_(t){const e=t.ref;return aj(e)?e.files:oj(e)?fT(t.refs).value:cT(e)?[...e.selectedOptions].map(({value:n})=>n):qu(e)?uT(t.refs).value:hT(Tt(e.value)?t.ref.value:e.value,t)}var _V=(t,e,n,r)=>{const i={};for(const a of t){const o=xe(e,a);o&&vt(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},gm=t=>t instanceof RegExp,wd=t=>Tt(t)?t:gm(t)?t.source:tn(t)?gm(t.value)?t.value.source:t.value:t,Al=t=>({isOnSubmit:!t||t===Cs.onSubmit,isOnBlur:t===Cs.onBlur,isOnChange:t===Cs.onChange,isOnAll:t===Cs.all,isOnTouch:t===Cs.onTouched});const q_="AsyncFunction";var SV=t=>!!t&&!!t.validate&&!!(Ws(t.validate)&&t.validate.constructor.name===q_||tn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===q_)),CV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Qv=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Gl=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=xe(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Gl(l,e))break}else if(tn(l)&&Gl(l,e))break}}};function K_(t,e,n){const r=xe(t,n);if(r||ip(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=xe(e,a),l=xe(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var kV=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return En(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Cs.all))},EV=(t,e,n)=>!t||!e||t===e||Zn(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),TV=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,PV=(t,e)=>!ap(xe(t,e)).length&&Kt(t,e),mT=(t,e,n)=>{const r=Zn(xe(t,n));return vt(r,"root",e[n]),vt(t,n,r),t};function G_(t,e,n="validate"){if(ds(t)||Array.isArray(t)&&t.every(ds)||os(t)&&!t)return{type:n,message:ds(t)?t:"",ref:e}}var ul=t=>tn(t)&&!gm(t)?t:{value:t,message:""},Xv=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:g,max:m,pattern:w,validate:f,name:x,valueAsNumber:N,mount:j}=t._f,v=xe(n,x);if(!j||e.has(x))return{};const S=l?l[0]:o,y=T=>{i&&S.reportValidity&&(S.setCustomValidity(os(T)?"":T||""),S.reportValidity())},E={},D=oj(o),k=qu(o),_=D||k,C=(N||aj(o))&&Tt(o.value)&&Tt(v)||pm(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,R=oT.bind(null,x,r,E),A=(T,I,F,K=Qr.maxLength,z=Qr.minLength)=>{const V=T?I:F;E[x]={type:T?K:z,message:V,ref:o,...R(T?K:z,V)}};if(a?!Array.isArray(v)||!v.length:c&&(!_&&(C||Yn(v))||os(v)&&!v||k&&!uT(l).isValid||D&&!fT(l).isValid)){const{value:T,message:I}=ds(c)?{value:!!c,message:c}:ul(c);if(T&&(E[x]={type:Qr.required,message:I,ref:S,...R(Qr.required,I)},!r))return y(I),E}if(!C&&(!Yn(g)||!Yn(m))){let T,I;const F=ul(m),K=ul(g);if(!Yn(v)&&!isNaN(v)){const z=o.valueAsNumber||v&&+v;Yn(F.value)||(T=z>F.value),Yn(K.value)||(I=z<K.value)}else{const z=o.valueAsDate||new Date(v),V=oe=>new Date(new Date().toDateString()+" "+oe),L=o.type=="time",B=o.type=="week";ds(F.value)&&v&&(T=L?V(v)>V(F.value):B?v>F.value:z>new Date(F.value)),ds(K.value)&&v&&(I=L?V(v)<V(K.value):B?v<K.value:z<new Date(K.value))}if((T||I)&&(A(!!T,F.message,K.message,Qr.max,Qr.min),!r))return y(E[x].message),E}if((d||h)&&!C&&(ds(v)||a&&Array.isArray(v))){const T=ul(d),I=ul(h),F=!Yn(T.value)&&v.length>+T.value,K=!Yn(I.value)&&v.length<+I.value;if((F||K)&&(A(F,T.message,I.message),!r))return y(E[x].message),E}if(w&&!C&&ds(v)){const{value:T,message:I}=ul(w);if(gm(T)&&!v.match(T)&&(E[x]={type:Qr.pattern,message:I,ref:o,...R(Qr.pattern,I)},!r))return y(I),E}if(f){if(Ws(f)){const T=await f(v,n),I=G_(T,S);if(I&&(E[x]={...I,...R(Qr.validate,I.message)},!r))return y(I.message),E}else if(tn(f)){let T={};for(const I in f){if(!En(T)&&!r)break;const F=G_(await f[I](v,n),S,I);F&&(T={...F,...R(I,F.message)},y(F.message),r&&(E[x]=T))}if(!En(T)&&(E[x]={ref:S,...T},!r))return E}}return y(!0),E};const AV={mode:Cs.onSubmit,reValidateMode:Cs.onChange,shouldFocusError:!0};function IV(t={}){let e={...AV,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ws(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=tn(e.defaultValues)||tn(e.values)?Mt(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Mt(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...h};const m={array:V_(),state:V_()},w=e.criteriaMode===Cs.all,f=$=>G=>{clearTimeout(d),d=setTimeout($,G)},x=async $=>{if(!e.disabled&&(h.isValid||g.isValid||$)){const G=e.resolver?En((await k()).errors):await C(r,!0);G!==n.isValid&&m.state.next({isValid:G})}},N=($,G)=>{!e.disabled&&(h.isValidating||h.validatingFields||g.isValidating||g.validatingFields)&&(($||Array.from(l.mount)).forEach(J=>{J&&(G?vt(n.validatingFields,J,G):Kt(n.validatingFields,J))}),m.state.next({validatingFields:n.validatingFields,isValidating:!En(n.validatingFields)}))},j=($,G=[],J,be,ye=!0,ue=!0)=>{if(be&&J&&!e.disabled){if(o.action=!0,ue&&Array.isArray(xe(r,$))){const Re=J(xe(r,$),be.argA,be.argB);ye&&vt(r,$,Re)}if(ue&&Array.isArray(xe(n.errors,$))){const Re=J(xe(n.errors,$),be.argA,be.argB);ye&&vt(n.errors,$,Re),PV(n.errors,$)}if((h.touchedFields||g.touchedFields)&&ue&&Array.isArray(xe(n.touchedFields,$))){const Re=J(xe(n.touchedFields,$),be.argA,be.argB);ye&&vt(n.touchedFields,$,Re)}(h.dirtyFields||g.dirtyFields)&&(n.dirtyFields=vl(i,a)),m.state.next({name:$,isDirty:A($,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(a,$,G)},v=($,G)=>{vt(n.errors,$,G),m.state.next({errors:n.errors})},S=$=>{n.errors=$,m.state.next({errors:n.errors,isValid:!1})},y=($,G,J,be)=>{const ye=xe(r,$);if(ye){const ue=xe(a,$,Tt(J)?xe(i,$):J);Tt(ue)||be&&be.defaultChecked||G?vt(a,$,G?ue:H_(ye._f)):F($,ue),o.mount&&x()}},E=($,G,J,be,ye)=>{let ue=!1,Re=!1;const it={name:$};if(!e.disabled){if(!J||be){(h.isDirty||g.isDirty)&&(Re=n.isDirty,n.isDirty=it.isDirty=A(),ue=Re!==it.isDirty);const dt=Bs(xe(i,$),G);Re=!!xe(n.dirtyFields,$),dt?Kt(n.dirtyFields,$):vt(n.dirtyFields,$,!0),it.dirtyFields=n.dirtyFields,ue=ue||(h.dirtyFields||g.dirtyFields)&&Re!==!dt}if(J){const dt=xe(n.touchedFields,$);dt||(vt(n.touchedFields,$,J),it.touchedFields=n.touchedFields,ue=ue||(h.touchedFields||g.touchedFields)&&dt!==J)}ue&&ye&&m.state.next(it)}return ue?it:{}},D=($,G,J,be)=>{const ye=xe(n.errors,$),ue=(h.isValid||g.isValid)&&os(G)&&n.isValid!==G;if(e.delayError&&J?(c=f(()=>v($,J)),c(e.delayError)):(clearTimeout(d),c=null,J?vt(n.errors,$,J):Kt(n.errors,$)),(J?!Bs(ye,J):ye)||!En(be)||ue){const Re={...be,...ue&&os(G)?{isValid:G}:{},errors:n.errors,name:$};n={...n,...Re},m.state.next(Re)}},k=async $=>{N($,!0);const G=await e.resolver(a,e.context,_V($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return N($),G},_=async $=>{const{errors:G}=await k($);if($)for(const J of $){const be=xe(G,J);be?vt(n.errors,J,be):Kt(n.errors,J)}else n.errors=G;return G},C=async($,G,J={valid:!0})=>{for(const be in $){const ye=$[be];if(ye){const{_f:ue,...Re}=ye;if(ue){const it=l.array.has(ue.name),dt=ye._f&&SV(ye._f);dt&&h.validatingFields&&N([ue.name],!0);const bn=await Xv(ye,l.disabled,a,w,e.shouldUseNativeValidation&&!G,it);if(dt&&h.validatingFields&&N([ue.name]),bn[ue.name]&&(J.valid=!1,G))break;!G&&(xe(bn,ue.name)?it?mT(n.errors,bn,ue.name):vt(n.errors,ue.name,bn[ue.name]):Kt(n.errors,ue.name))}!En(Re)&&await C(Re,G,J)}}return J.valid},R=()=>{for(const $ of l.unMount){const G=xe(r,$);G&&(G._f.refs?G._f.refs.every(J=>!Vg(J)):!Vg(G._f.ref))&&ge($)}l.unMount=new Set},A=($,G)=>!e.disabled&&($&&G&&vt(a,$,G),!Bs(oe(),i)),T=($,G,J)=>Kv($,l,{...o.mount?a:Tt(G)?i:ds($)?{[$]:G}:G},J,G),I=$=>ap(xe(o.mount?a:i,$,e.shouldUnregister?xe(i,$,[]):[])),F=($,G,J={})=>{const be=xe(r,$);let ye=G;if(be){const ue=be._f;ue&&(!ue.disabled&&vt(a,$,hT(G,ue)),ye=pm(ue.ref)&&Yn(G)?"":G,cT(ue.ref)?[...ue.ref.options].forEach(Re=>Re.selected=ye.includes(Re.value)):ue.refs?qu(ue.ref)?ue.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(ye)?Re.checked=!!ye.find(it=>it===Re.value):Re.checked=ye===Re.value||!!ye)}):ue.refs.forEach(Re=>Re.checked=Re.value===ye):aj(ue.ref)?ue.ref.value="":(ue.ref.value=ye,ue.ref.type||m.state.next({name:$,values:Mt(a)})))}(J.shouldDirty||J.shouldTouch)&&E($,ye,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&B($)},K=($,G,J)=>{for(const be in G){if(!G.hasOwnProperty(be))return;const ye=G[be],ue=$+"."+be,Re=xe(r,ue);(l.array.has($)||tn(ye)||Re&&!Re._f)&&!go(ye)?K(ue,ye,J):F(ue,ye,J)}},z=($,G,J={})=>{const be=xe(r,$),ye=l.array.has($),ue=Mt(G);vt(a,$,ue),ye?(m.array.next({name:$,values:Mt(a)}),(h.isDirty||h.dirtyFields||g.isDirty||g.dirtyFields)&&J.shouldDirty&&m.state.next({name:$,dirtyFields:vl(i,a),isDirty:A($,ue)})):be&&!be._f&&!Yn(ue)?K($,ue,J):F($,ue,J),Qv($,l)&&m.state.next({...n,name:$}),m.state.next({name:o.mount?$:void 0,values:Mt(a)})},V=async $=>{o.mount=!0;const G=$.target;let J=G.name,be=!0;const ye=xe(r,J),ue=dt=>{be=Number.isNaN(dt)||go(dt)&&isNaN(dt.getTime())||Bs(dt,xe(a,J,dt))},Re=Al(e.mode),it=Al(e.reValidateMode);if(ye){let dt,bn;const ce=G.type?H_(ye._f):rT($),Xe=$.type===mm.BLUR||$.type===mm.FOCUS_OUT,dr=!CV(ye._f)&&!e.resolver&&!xe(n.errors,J)&&!ye._f.deps||TV(Xe,xe(n.touchedFields,J),n.isSubmitted,it,Re),zt=Qv(J,l,Xe);vt(a,J,ce),Xe?(!G||!G.readOnly)&&(ye._f.onBlur&&ye._f.onBlur($),c&&c(0)):ye._f.onChange&&ye._f.onChange($);const qn=E(J,ce,Xe),Kr=!En(qn)||zt;if(!Xe&&m.state.next({name:J,type:$.type,values:Mt(a)}),dr)return(h.isValid||g.isValid)&&(e.mode==="onBlur"?Xe&&x():Xe||x()),Kr&&m.state.next({name:J,...zt?{}:qn});if(!Xe&&zt&&m.state.next({...n}),e.resolver){const{errors:Gr}=await k([J]);if(ue(ce),be){const ih=K_(n.errors,r,J),al=K_(Gr,r,ih.name||J);dt=al.error,J=al.name,bn=En(Gr)}}else N([J],!0),dt=(await Xv(ye,l.disabled,a,w,e.shouldUseNativeValidation))[J],N([J]),ue(ce),be&&(dt?bn=!1:(h.isValid||g.isValid)&&(bn=await C(r,!0)));be&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&B(ye._f.deps),D(J,bn,dt,qn))}},L=($,G)=>{if(xe(n.errors,G)&&$.focus)return $.focus(),1},B=async($,G={})=>{let J,be;const ye=Zn($);if(e.resolver){const ue=await _(Tt($)?$:ye);J=En(ue),be=$?!ye.some(Re=>xe(ue,Re)):J}else $?(be=(await Promise.all(ye.map(async ue=>{const Re=xe(r,ue);return await C(Re&&Re._f?{[ue]:Re}:Re)}))).every(Boolean),!(!be&&!n.isValid)&&x()):be=J=await C(r);return m.state.next({...!ds($)||(h.isValid||g.isValid)&&J!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:J}:{},errors:n.errors}),G.shouldFocus&&!be&&Gl(r,L,$?ye:l.mount),be},oe=($,G)=>{let J={...o.mount?a:i};return G&&(J=lT(G.dirtyFields?n.dirtyFields:n.touchedFields,J)),Tt($)?J:ds($)?xe(J,$):$.map(be=>xe(J,be))},le=($,G)=>({invalid:!!xe((G||n).errors,$),isDirty:!!xe((G||n).dirtyFields,$),error:xe((G||n).errors,$),isValidating:!!xe(n.validatingFields,$),isTouched:!!xe((G||n).touchedFields,$)}),W=$=>{$&&Zn($).forEach(G=>Kt(n.errors,G)),m.state.next({errors:$?n.errors:{}})},fe=($,G,J)=>{const be=(xe(r,$,{_f:{}})._f||{}).ref,ye=xe(n.errors,$)||{},{ref:ue,message:Re,type:it,...dt}=ye;vt(n.errors,$,{...dt,...G,ref:be}),m.state.next({name:$,errors:n.errors,isValid:!1}),J&&J.shouldFocus&&be&&be.focus&&be.focus()},de=($,G)=>Ws($)?m.state.subscribe({next:J=>"values"in J&&$(T(void 0,G),J)}):T($,G,!0),Ue=$=>m.state.subscribe({next:G=>{EV($.name,G.name,$.exact)&&kV(G,$.formState||h,An,$.reRenderRoot)&&$.callback({values:{...a},...n,...G,defaultValues:i})}}).unsubscribe,qe=$=>(o.mount=!0,g={...g,...$.formState},Ue({...$,formState:g})),ge=($,G={})=>{for(const J of $?Zn($):l.mount)l.mount.delete(J),l.array.delete(J),G.keepValue||(Kt(r,J),Kt(a,J)),!G.keepError&&Kt(n.errors,J),!G.keepDirty&&Kt(n.dirtyFields,J),!G.keepTouched&&Kt(n.touchedFields,J),!G.keepIsValidating&&Kt(n.validatingFields,J),!e.shouldUnregister&&!G.keepDefaultValue&&Kt(i,J);m.state.next({values:Mt(a)}),m.state.next({...n,...G.keepDirty?{isDirty:A()}:{}}),!G.keepIsValid&&x()},He=({disabled:$,name:G})=>{(os($)&&o.mount||$||l.disabled.has(G))&&($?l.disabled.add(G):l.disabled.delete(G))},ze=($,G={})=>{let J=xe(r,$);const be=os(G.disabled)||os(e.disabled);return vt(r,$,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:$}},name:$,mount:!0,...G}}),l.mount.add($),J?He({disabled:os(G.disabled)?G.disabled:e.disabled,name:$}):y($,!0,G.value),{...be?{disabled:G.disabled||e.disabled}:{},...e.progressive?{required:!!G.required,min:wd(G.min),max:wd(G.max),minLength:wd(G.minLength),maxLength:wd(G.maxLength),pattern:wd(G.pattern)}:{},name:$,onChange:V,onBlur:V,ref:ye=>{if(ye){ze($,G),J=xe(r,$);const ue=Tt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Re=wV(ue),it=J._f.refs||[];if(Re?it.find(dt=>dt===ue):ue===J._f.ref)return;vt(r,$,{_f:{...J._f,...Re?{refs:[...it.filter(Vg),ue,...Array.isArray(xe(i,$))?[{}]:[]],ref:{type:ue.type,name:$}}:{ref:ue}}}),y($,!1,void 0,ue)}else J=xe(r,$,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(iT(l.array,$)&&o.action)&&l.unMount.add($)}}},H=()=>e.shouldFocusError&&Gl(r,L,l.mount),_e=$=>{os($)&&(m.state.next({disabled:$}),Gl(r,(G,J)=>{const be=xe(r,J);be&&(G.disabled=be._f.disabled||$,Array.isArray(be._f.refs)&&be._f.refs.forEach(ye=>{ye.disabled=be._f.disabled||$}))},0,!1))},Pe=($,G)=>async J=>{let be;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ye=Mt(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:Re}=await k();n.errors=ue,ye=Mt(Re)}else await C(r);if(l.disabled.size)for(const ue of l.disabled)Kt(ye,ue);if(Kt(n.errors,"root"),En(n.errors)){m.state.next({errors:{}});try{await $(ye,J)}catch(ue){be=ue}}else G&&await G({...n.errors},J),H(),setTimeout(H);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(n.errors)&&!be,submitCount:n.submitCount+1,errors:n.errors}),be)throw be},Qe=($,G={})=>{xe(r,$)&&(Tt(G.defaultValue)?z($,Mt(xe(i,$))):(z($,G.defaultValue),vt(i,$,Mt(G.defaultValue))),G.keepTouched||Kt(n.touchedFields,$),G.keepDirty||(Kt(n.dirtyFields,$),n.isDirty=G.defaultValue?A($,Mt(xe(i,$))):A()),G.keepError||(Kt(n.errors,$),h.isValid&&x()),m.state.next({...n}))},_t=($,G={})=>{const J=$?Mt($):i,be=Mt(J),ye=En($),ue=ye?i:be;if(G.keepDefaultValues||(i=J),!G.keepValues){if(G.keepDirtyValues){const Re=new Set([...l.mount,...Object.keys(vl(i,a))]);for(const it of Array.from(Re))xe(n.dirtyFields,it)?vt(ue,it,xe(a,it)):z(it,xe(ue,it))}else{if(sj&&Tt($))for(const Re of l.mount){const it=xe(r,Re);if(it&&it._f){const dt=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(pm(dt)){const bn=dt.closest("form");if(bn){bn.reset();break}}}}if(G.keepFieldsRef)for(const Re of l.mount)z(Re,xe(ue,Re));else r={}}a=e.shouldUnregister?G.keepDefaultValues?Mt(i):{}:Mt(ue),m.array.next({values:{...ue}}),m.state.next({values:{...ue}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!e.shouldUnregister&&!En(ue),o.watch=!!e.shouldUnregister,m.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:ye?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!Bs($,i)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ye?{}:G.keepDirtyValues?G.keepDefaultValues&&a?vl(i,a):n.dirtyFields:G.keepDefaultValues&&$?vl(i,$):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},kt=($,G)=>_t(Ws($)?$(a):$,G),gn=($,G={})=>{const J=xe(r,$),be=J&&J._f;if(be){const ye=be.refs?be.refs[0]:be.ref;ye.focus&&(ye.focus(),G.shouldSelect&&Ws(ye.select)&&ye.select())}},An=$=>{n={...n,...$}},Et={control:{register:ze,unregister:ge,getFieldState:le,handleSubmit:Pe,setError:fe,_subscribe:Ue,_runSchema:k,_focusError:H,_getWatch:T,_getDirty:A,_setValid:x,_setFieldArray:j,_setDisabledField:He,_setErrors:S,_getFieldArray:I,_reset:_t,_resetDefaultValues:()=>Ws(e.defaultValues)&&e.defaultValues().then($=>{kt($,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:_e,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:qe,trigger:B,register:ze,handleSubmit:Pe,watch:de,setValue:z,getValues:oe,reset:kt,resetField:Qe,clearErrors:W,unregister:ge,setError:fe,setFocus:gn,getFieldState:le};return{...Et,formControl:Et}}var Ui=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},zg=(t,e,n={})=>n.shouldFocus||Tt(n.shouldFocus)?n.focusName||`${t}.${Tt(n.focusIndex)?e:n.focusIndex}.`:"",Bg=(t,e)=>[...t,...Zn(e)],Wg=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Hg(t,e,n){return[...t.slice(0,e),...Zn(n),...t.slice(e)]}var qg=(t,e,n)=>Array.isArray(t)?(Tt(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Kg=(t,e)=>[...Zn(e),...Zn(t)];function RV(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return ap(r).length?r:[]}var Gg=(t,e)=>Tt(e)?[]:RV(t,Zn(e).sort((n,r)=>n-r)),Yg=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},Y_=(t,e,n)=>(t[e]=n,t);function Gu(t){const e=Ku(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:a,rules:o}=t,[l,c]=Ee.useState(n._getFieldArray(r)),d=Ee.useRef(n._getFieldArray(r).map(Ui)),h=Ee.useRef(!1);n._names.array.add(r),Ee.useMemo(()=>o&&l.length>=0&&n.register(r,o),[n,r,l.length,o]),op(()=>n._subjects.array.subscribe({next:({values:y,name:E})=>{if(E===r||!E){const D=xe(y,r);Array.isArray(D)&&(c(D),d.current=D.map(Ui))}}}).unsubscribe,[n,r]);const g=Ee.useCallback(y=>{h.current=!0,n._setFieldArray(r,y)},[n,r]),m=(y,E)=>{const D=Zn(Mt(y)),k=Bg(n._getFieldArray(r),D);n._names.focus=zg(r,k.length-1,E),d.current=Bg(d.current,D.map(Ui)),g(k),c(k),n._setFieldArray(r,k,Bg,{argA:Wg(y)})},w=(y,E)=>{const D=Zn(Mt(y)),k=Kg(n._getFieldArray(r),D);n._names.focus=zg(r,0,E),d.current=Kg(d.current,D.map(Ui)),g(k),c(k),n._setFieldArray(r,k,Kg,{argA:Wg(y)})},f=y=>{const E=Gg(n._getFieldArray(r),y);d.current=Gg(d.current,y),g(E),c(E),!Array.isArray(xe(n._fields,r))&&vt(n._fields,r,void 0),n._setFieldArray(r,E,Gg,{argA:y})},x=(y,E,D)=>{const k=Zn(Mt(E)),_=Hg(n._getFieldArray(r),y,k);n._names.focus=zg(r,y,D),d.current=Hg(d.current,y,k.map(Ui)),g(_),c(_),n._setFieldArray(r,_,Hg,{argA:y,argB:Wg(E)})},N=(y,E)=>{const D=n._getFieldArray(r);Yg(D,y,E),Yg(d.current,y,E),g(D),c(D),n._setFieldArray(r,D,Yg,{argA:y,argB:E},!1)},j=(y,E)=>{const D=n._getFieldArray(r);qg(D,y,E),qg(d.current,y,E),g(D),c(D),n._setFieldArray(r,D,qg,{argA:y,argB:E},!1)},v=(y,E)=>{const D=Mt(E),k=Y_(n._getFieldArray(r),y,D);d.current=[...k].map((_,C)=>!_||C===y?Ui():d.current[C]),g(k),c([...k]),n._setFieldArray(r,k,Y_,{argA:y,argB:D},!0,!1)},S=y=>{const E=Zn(Mt(y));d.current=E.map(Ui),g([...E]),c([...E]),n._setFieldArray(r,[...E],D=>D,{},!0,!1)};return Ee.useEffect(()=>{if(n._state.action=!1,Qv(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!Al(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Al(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(y=>{const E=xe(y.errors,r),D=xe(n._formState.errors,r);(D?!E&&D.type||E&&(D.type!==E.type||D.message!==E.message):E&&E.type)&&(E?vt(n._formState.errors,r,E):Kt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const y=xe(n._fields,r);y&&y._f&&!(Al(n._options.reValidateMode).isOnSubmit&&Al(n._options.mode).isOnSubmit)&&Xv(y,n._names.disabled,n._formValues,n._options.criteriaMode===Cs.all,n._options.shouldUseNativeValidation,!0).then(E=>!En(E)&&n._subjects.state.next({errors:mT(n._formState.errors,E,r)}))}n._subjects.state.next({name:r,values:Mt(n._formValues)}),n._names.focus&&Gl(n._fields,(y,E)=>{if(n._names.focus&&E.startsWith(n._names.focus)&&y.focus)return y.focus(),1}),n._names.focus="",n._setValid(),h.current=!1},[l,r,n]),Ee.useEffect(()=>(!xe(n._formValues,r)&&n._setFieldArray(r),()=>{const y=(E,D)=>{const k=xe(n._fields,E);k&&k._f&&(k._f.mount=D)};n._options.shouldUnregister||a?n.unregister(r):y(r,!1)}),[r,n,i,a]),{swap:Ee.useCallback(N,[g,r,n]),move:Ee.useCallback(j,[g,r,n]),prepend:Ee.useCallback(w,[g,r,n]),append:Ee.useCallback(m,[g,r,n]),remove:Ee.useCallback(f,[g,r,n]),insert:Ee.useCallback(x,[g,r,n]),update:Ee.useCallback(v,[g,r,n]),replace:Ee.useCallback(S,[g,r,n]),fields:Ee.useMemo(()=>l.map((y,E)=>({...y,[i]:d.current[E]||Ui()})),[l,i])}}function Kc(t={}){const e=Ee.useRef(void 0),n=Ee.useRef(void 0),[r,i]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:Ws(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ws(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ws(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=IV(t);e.current={...l,formState:r}}const a=e.current.control;return a._options=t,op(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Ee.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ee.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Ee.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Ee.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Ee.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ee.useEffect(()=>{t.values&&!Bs(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),Ee.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=aT(r,a),e.current}const Q_=(t,e,n)=>{if(t&&"reportValidity"in t){const r=xe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},pT=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Q_(r.ref,n,t):r.refs&&r.refs.forEach(i=>Q_(i,n,t))}},DV=(t,e)=>{e.shouldUseNativeValidation&&pT(t,e);const n={};for(const r in t){const i=xe(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(MV(e.names||Object.keys(t),r)){const o=Object.assign({},xe(n,r));vt(o,"root",a),vt(n,r,o)}else vt(n,r,a)}return n},MV=(t,e)=>t.some(n=>n.startsWith(e+"."));var OV=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(g){return t.push(g)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=oT(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},Gc=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&pT({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:DV(OV(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const Z=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Z.displayName="Card";const re=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",t),...e}));re.displayName="CardHeader";const ie=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));ie.displayName="CardTitle";const Ce=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Ce.displayName="CardDescription";const te=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("p-6 pt-0",t),...e}));te.displayName="CardContent";const FV=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",t),...e}));FV.displayName="CardFooter";var LV=Symbol.for("react.lazy"),xm=Cm[" use ".trim().toString()];function $V(t){return typeof t=="object"&&t!==null&&"then"in t}function gT(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===LV&&"_payload"in t&&$V(t._payload)}function lp(t){const e=UV(t),n=p.forwardRef((r,i)=>{let{children:a,...o}=r;gT(a)&&typeof xm=="function"&&(a=xm(a._payload));const l=p.Children.toArray(a),c=l.find(zV);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var xT=lp("Slot");function UV(t){const e=p.forwardRef((n,r)=>{let{children:i,...a}=n;if(gT(i)&&typeof xm=="function"&&(i=xm(i._payload)),p.isValidElement(i)){const o=WV(i),l=BV(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VV=Symbol("radix.slottable");function zV(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VV}function BV(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function WV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const ju=Ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?xT:"button";return s.jsx(o,{className:ve(ju({variant:e,size:n,className:t})),ref:a,...i})});Y.displayName="Button";const ee=p.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ee.displayName="Input";var HV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qV=HV.reduce((t,e)=>{const n=lp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),KV="Label",vT=p.forwardRef((t,e)=>s.jsx(qV.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vT.displayName=KV;var yT=vT;const GV=Ou("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=p.forwardRef(({className:t,...e},n)=>s.jsx(yT,{ref:n,className:ve(GV(),t),...e}));Q.displayName=yT.displayName;const YV=pV,wT=p.createContext({}),hl=({...t})=>s.jsx(wT.Provider,{value:{name:t.name},children:s.jsx(yV,{...t})}),cp=()=>{const t=p.useContext(wT),e=p.useContext(jT),{getFieldState:n,formState:r}=Ku(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},jT=p.createContext({}),ro=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return s.jsx(jT.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:ve("space-y-2",t),...e})})});ro.displayName="FormItem";const QV=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=cp();return s.jsx(Q,{ref:n,className:ve(r&&"text-destructive",t),htmlFor:i,...e})});QV.displayName="FormLabel";const io=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=cp();return s.jsx(xT,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});io.displayName="FormControl";const XV=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=cp();return s.jsx("p",{ref:n,id:r,className:ve("text-sm text-muted-foreground",t),...e})});XV.displayName="FormDescription";const ao=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=cp(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:ve("text-sm font-medium text-destructive",t),...n,children:o}):null});ao.displayName="FormMessage";function X_(t,[e,n]){return Math.min(n,Math.max(e,t))}var ZV=p.createContext(void 0);function dp(t){const e=p.useContext(ZV);return t||e||"ltr"}var Qg=0;function up(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Z_()),document.body.insertAdjacentElement("beforeend",t[1]??Z_()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qg--}},[])}function Z_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xg="focusScope.autoFocusOnMount",Zg="focusScope.autoFocusOnUnmount",J_={bubbles:!1,cancelable:!0},JV="FocusScope",Yu=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=Un(i),h=Un(a),g=p.useRef(null),m=et(e,x=>c(x)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(S){if(w.paused||!l)return;const y=S.target;l.contains(y)?g.current=y:Bi(g.current,{select:!0})},N=function(S){if(w.paused||!l)return;const y=S.relatedTarget;y!==null&&(l.contains(y)||Bi(g.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Bi(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",N);const v=new MutationObserver(j);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",N),v.disconnect()}}},[r,l,w.paused]),p.useEffect(()=>{if(l){t1.add(w);const x=document.activeElement;if(!l.contains(x)){const j=new CustomEvent(Xg,J_);l.addEventListener(Xg,d),l.dispatchEvent(j),j.defaultPrevented||(e7(i7(bT(l)),{select:!0}),document.activeElement===x&&Bi(l))}return()=>{l.removeEventListener(Xg,d),setTimeout(()=>{const j=new CustomEvent(Zg,J_);l.addEventListener(Zg,h),l.dispatchEvent(j),j.defaultPrevented||Bi(x??document.body,{select:!0}),l.removeEventListener(Zg,h),t1.remove(w)},0)}}},[l,d,h,w]);const f=p.useCallback(x=>{if(!n&&!r||w.paused)return;const N=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(N&&j){const v=x.currentTarget,[S,y]=t7(v);S&&y?!x.shiftKey&&j===y?(x.preventDefault(),n&&Bi(S,{select:!0})):x.shiftKey&&j===S&&(x.preventDefault(),n&&Bi(y,{select:!0})):j===v&&x.preventDefault()}},[n,r,w.paused]);return s.jsx(Oe.div,{tabIndex:-1,...o,ref:m,onKeyDown:f})});Yu.displayName=JV;function e7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Bi(r,{select:e}),document.activeElement!==n)return}function t7(t){const e=bT(t),n=e1(e,t),r=e1(e.reverse(),t);return[n,r]}function bT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function e1(t,e){for(const n of t)if(!n7(n,{upTo:e}))return n}function n7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function s7(t){return t instanceof HTMLInputElement&&"select"in t}function Bi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&s7(t)&&e&&t.select()}}var t1=r7();function r7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=n1(t,e),t.unshift(e)},remove(e){var n;t=n1(t,e),(n=t[0])==null||n.resume()}}}function n1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function i7(t){return t.filter(e=>e.tagName!=="A")}function a7(t){const e=o7(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(c7);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function o7(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=u7(i),l=d7(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var l7=Symbol("radix.slottable");function c7(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===l7}function d7(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function u7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lj(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var NT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h7="VisuallyHidden",f7=p.forwardRef((t,e)=>s.jsx(Oe.span,{...t,ref:e,style:{...NT,...t.style}}));f7.displayName=h7;var m7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fl=new WeakMap,Wh=new WeakMap,Hh={},Jg=0,_T=function(t){return t&&(t.host||_T(t.parentNode))},p7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=_T(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},g7=function(t,e,n,r){var i=p7(e,Array.isArray(t)?t:[t]);Hh[n]||(Hh[n]=new WeakMap);var a=Hh[n],o=[],l=new Set,c=new Set(i),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};i.forEach(d);var h=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(m){if(l.has(m))h(m);else try{var w=m.getAttribute(r),f=w!==null&&w!=="false",x=(fl.get(m)||0)+1,N=(a.get(m)||0)+1;fl.set(m,x),a.set(m,N),o.push(m),x===1&&f&&Wh.set(m,!0),N===1&&m.setAttribute(n,"true"),f||m.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return h(e),l.clear(),Jg++,function(){o.forEach(function(g){var m=fl.get(g)-1,w=a.get(g)-1;fl.set(g,m),a.set(g,w),m||(Wh.has(g)||g.removeAttribute(r),Wh.delete(g)),w||g.removeAttribute(n)}),Jg--,Jg||(fl=new WeakMap,fl=new WeakMap,Wh=new WeakMap,Hh={})}},hp=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=m7(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),g7(r,i,n,"aria-hidden")):function(){return null}},jr=function(){return jr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jr.apply(this,arguments)};function ST(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function x7(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var gf="right-scroll-bar-position",xf="width-before-scroll-bar",v7="with-scroll-bars-hidden",y7="--removed-body-scroll-bar-size";function ex(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function w7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var j7=typeof window<"u"?p.useLayoutEffect:p.useEffect,s1=new WeakMap;function b7(t,e){var n=w7(null,function(r){return t.forEach(function(i){return ex(i,r)})});return j7(function(){var r=s1.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||ex(l,null)}),a.forEach(function(l){i.has(l)||ex(l,o)})}s1.set(n,t)},[t]),n}function N7(t){return t}function _7(t,e){e===void 0&&(e=N7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function S7(t){t===void 0&&(t={});var e=_7(null);return e.options=jr({async:!0,ssr:!1},t),e}var CT=function(t){var e=t.sideCar,n=ST(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,jr({},n))};CT.isSideCarExport=!0;function C7(t,e){return t.useMedium(e),CT}var kT=S7(),tx=function(){},fp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:tx,onWheelCapture:tx,onTouchMoveCapture:tx}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,g=t.shards,m=t.sideCar,w=t.noRelative,f=t.noIsolation,x=t.inert,N=t.allowPinchZoom,j=t.as,v=j===void 0?"div":j,S=t.gapMode,y=ST(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,D=b7([n,e]),k=jr(jr({},y),i);return p.createElement(p.Fragment,null,h&&p.createElement(E,{sideCar:kT,removeScrollBar:d,shards:g,noRelative:w,noIsolation:f,inert:x,setCallbacks:a,allowPinchZoom:!!N,lockRef:n,gapMode:S}),o?p.cloneElement(p.Children.only(l),jr(jr({},k),{ref:D})):p.createElement(v,jr({},k,{className:c,ref:D}),l))});fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fp.classNames={fullWidth:xf,zeroRight:gf};var k7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function E7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=k7();return e&&t.setAttribute("nonce",e),t}function T7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var A7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=E7())&&(T7(e,n),P7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},I7=function(){var t=A7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ET=function(){var t=I7(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},R7={left:0,top:0,right:0,gap:0},nx=function(t){return parseInt(t||"",10)||0},D7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[nx(n),nx(r),nx(i)]},M7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R7;var e=D7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},O7=ET(),Yl="data-scroll-locked",F7=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(v7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Yl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yl,`] {
    `).concat(y7,": ").concat(l,`px;
  }
`)},r1=function(){var t=parseInt(document.body.getAttribute(Yl)||"0",10);return isFinite(t)?t:0},L7=function(){p.useEffect(function(){return document.body.setAttribute(Yl,(r1()+1).toString()),function(){var t=r1()-1;t<=0?document.body.removeAttribute(Yl):document.body.setAttribute(Yl,t.toString())}},[])},$7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;L7();var a=p.useMemo(function(){return M7(i)},[i]);return p.createElement(O7,{styles:F7(a,!e,i,n?"":"!important")})},Zv=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return Zv=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{Zv=!1}var ml=Zv?{passive:!1}:!1,U7=function(t){return t.tagName==="TEXTAREA"},TT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!U7(t)&&n[e]==="visible")},V7=function(t){return TT(t,"overflowY")},z7=function(t){return TT(t,"overflowX")},i1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=PT(t,r);if(i){var a=AT(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},B7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},W7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PT=function(t,e){return t==="v"?V7(e):z7(e)},AT=function(t,e){return t==="v"?B7(e):W7(e)},H7=function(t,e){return t==="h"&&e==="rtl"?-1:1},q7=function(t,e,n,r,i){var a=H7(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),d=!1,h=o>0,g=0,m=0;do{if(!l)break;var w=AT(t,l),f=w[0],x=w[1],N=w[2],j=x-N-a*f;(f||j)&&PT(t,l)&&(g+=j,m+=f);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(g)<1||!h&&Math.abs(m)<1)&&(d=!0),d},Kh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},a1=function(t){return[t.deltaX,t.deltaY]},o1=function(t){return t&&"current"in t?t.current:t},K7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},G7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Y7=0,pl=[];function Q7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(Y7++)[0],a=p.useState(ET)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=x7([t.lockRef.current],(t.shards||[]).map(o1),!0).filter(Boolean);return x.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,N){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var j=Kh(x),v=n.current,S="deltaX"in x?x.deltaX:v[0]-j[0],y="deltaY"in x?x.deltaY:v[1]-j[1],E,D=x.target,k=Math.abs(S)>Math.abs(y)?"h":"v";if("touches"in x&&k==="h"&&D.type==="range")return!1;var _=i1(k,D);if(!_)return!0;if(_?E=k:(E=k==="v"?"h":"v",_=i1(k,D)),!_)return!1;if(!r.current&&"changedTouches"in x&&(S||y)&&(r.current=E),!E)return!0;var C=r.current||E;return q7(C,N,x,C==="h"?S:y)},[]),c=p.useCallback(function(x){var N=x;if(!(!pl.length||pl[pl.length-1]!==a)){var j="deltaY"in N?a1(N):Kh(N),v=e.current.filter(function(E){return E.name===N.type&&(E.target===N.target||N.target===E.shadowParent)&&K7(E.delta,j)})[0];if(v&&v.should){N.cancelable&&N.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(o1).filter(Boolean).filter(function(E){return E.contains(N.target)}),y=S.length>0?l(N,S[0]):!o.current.noIsolation;y&&N.cancelable&&N.preventDefault()}}},[]),d=p.useCallback(function(x,N,j,v){var S={name:x,delta:N,target:j,should:v,shadowParent:X7(j)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(y){return y!==S})},1)},[]),h=p.useCallback(function(x){n.current=Kh(x),r.current=void 0},[]),g=p.useCallback(function(x){d(x.type,a1(x),x.target,l(x,t.lockRef.current))},[]),m=p.useCallback(function(x){d(x.type,Kh(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return pl.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ml),document.addEventListener("touchmove",c,ml),document.addEventListener("touchstart",h,ml),function(){pl=pl.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,ml),document.removeEventListener("touchmove",c,ml),document.removeEventListener("touchstart",h,ml)}},[]);var w=t.removeScrollBar,f=t.inert;return p.createElement(p.Fragment,null,f?p.createElement(a,{styles:G7(i)}):null,w?p.createElement($7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function X7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Z7=C7(kT,Q7);var Qu=p.forwardRef(function(t,e){return p.createElement(fp,jr({},t,{ref:e,sideCar:Z7}))});Qu.classNames=fp.classNames;var J7=[" ","Enter","ArrowUp","ArrowDown"],ez=[" ","Enter"],Wo="Select",[mp,pp,tz]=Bm(Wo),[Yc]=rs(Wo,[tz,Ba]),gp=Ba(),[nz,qa]=Yc(Wo),[sz,rz]=Yc(Wo),IT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:g,disabled:m,required:w,form:f}=t,x=gp(e),[N,j]=p.useState(null),[v,S]=p.useState(null),[y,E]=p.useState(!1),D=dp(d),[k,_]=Or({prop:r,defaultProp:i??!1,onChange:a,caller:Wo}),[C,R]=Or({prop:o,defaultProp:l,onChange:c,caller:Wo}),A=p.useRef(null),T=N?f||!!N.closest("form"):!0,[I,F]=p.useState(new Set),K=Array.from(I).map(z=>z.props.value).join(";");return s.jsx(Iw,{...x,children:s.jsxs(nz,{required:w,scope:e,trigger:N,onTriggerChange:j,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:y,onValueNodeHasChildrenChange:E,contentId:Zs(),value:C,onValueChange:R,open:k,onOpenChange:_,dir:D,triggerPointerDownPosRef:A,disabled:m,children:[s.jsx(mp.Provider,{scope:e,children:s.jsx(sz,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{F(V=>new Set(V).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{F(V=>{const L=new Set(V);return L.delete(z),L})},[]),children:n})}),T?s.jsxs(nP,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:g,value:C,onChange:z=>R(z.target.value),disabled:m,form:f,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},K):null]})})};IT.displayName=Wo;var RT="SelectTrigger",DT=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=gp(n),o=qa(RT,n),l=o.disabled||r,c=et(e,o.onTriggerChange),d=pp(n),h=p.useRef("touch"),[g,m,w]=rP(x=>{const N=d().filter(S=>!S.disabled),j=N.find(S=>S.value===o.value),v=iP(N,x,j);v!==void 0&&o.onValueChange(v.value)}),f=x=>{l||(o.onOpenChange(!0),w()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx($u,{asChild:!0,...a,children:s.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sP(o.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&f(x)}),onPointerDown:pe(i.onPointerDown,x=>{h.current=x.pointerType;const N=x.target;N.hasPointerCapture(x.pointerId)&&N.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(f(x),x.preventDefault())}),onKeyDown:pe(i.onKeyDown,x=>{const N=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(N&&x.key===" ")&&J7.includes(x.key)&&(f(),x.preventDefault())})})})});DT.displayName=RT;var MT="SelectValue",OT=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=qa(MT,n),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,g=et(e,c.onValueNodeChange);return rn(()=>{d(h)},[d,h]),s.jsx(Oe.span,{...l,ref:g,style:{pointerEvents:"none"},children:sP(c.value)?s.jsx(s.Fragment,{children:o}):a})});OT.displayName=MT;var iz="SelectIcon",FT=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Oe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});FT.displayName=iz;var az="SelectPortal",LT=t=>s.jsx(Fc,{asChild:!0,...t});LT.displayName=az;var Ho="SelectContent",$T=p.forwardRef((t,e)=>{const n=qa(Ho,t.__scopeSelect),[r,i]=p.useState();if(rn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Xo.createPortal(s.jsx(UT,{scope:t.__scopeSelect,children:s.jsx(mp.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(VT,{...t,ref:e})});$T.displayName=Ho;var Ms=10,[UT,Ka]=Yc(Ho),oz="SelectContentImpl",lz=a7("SelectContent.RemoveScroll"),VT=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:w,sticky:f,hideWhenDetached:x,avoidCollisions:N,...j}=t,v=qa(Ho,n),[S,y]=p.useState(null),[E,D]=p.useState(null),k=et(e,ge=>y(ge)),[_,C]=p.useState(null),[R,A]=p.useState(null),T=pp(n),[I,F]=p.useState(!1),K=p.useRef(!1);p.useEffect(()=>{if(S)return hp(S)},[S]),up();const z=p.useCallback(ge=>{const[He,...ze]=T().map(Pe=>Pe.ref.current),[H]=ze.slice(-1),_e=document.activeElement;for(const Pe of ge)if(Pe===_e||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===He&&E&&(E.scrollTop=0),Pe===H&&E&&(E.scrollTop=E.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==_e))return},[T,E]),V=p.useCallback(()=>z([_,S]),[z,_,S]);p.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:L,triggerPointerDownPosRef:B}=v;p.useEffect(()=>{if(S){let ge={x:0,y:0};const He=H=>{var _e,Pe;ge={x:Math.abs(Math.round(H.pageX)-(((_e=B.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(H.pageY)-(((Pe=B.current)==null?void 0:Pe.y)??0))}},ze=H=>{ge.x<=10&&ge.y<=10?H.preventDefault():S.contains(H.target)||L(!1),document.removeEventListener("pointermove",He),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",ze,{capture:!0})}}},[S,L,B]),p.useEffect(()=>{const ge=()=>L(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[L]);const[oe,le]=rP(ge=>{const He=T().filter(_e=>!_e.disabled),ze=He.find(_e=>_e.ref.current===document.activeElement),H=iP(He,ge,ze);H&&setTimeout(()=>H.ref.current.focus())}),W=p.useCallback((ge,He,ze)=>{const H=!K.current&&!ze;(v.value!==void 0&&v.value===He||H)&&(C(ge),H&&(K.current=!0))},[v.value]),fe=p.useCallback(()=>S==null?void 0:S.focus(),[S]),de=p.useCallback((ge,He,ze)=>{const H=!K.current&&!ze;(v.value!==void 0&&v.value===He||H)&&A(ge)},[v.value]),Ue=r==="popper"?Jv:zT,qe=Ue===Jv?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:g,collisionBoundary:m,collisionPadding:w,sticky:f,hideWhenDetached:x,avoidCollisions:N}:{};return s.jsx(UT,{scope:n,content:S,viewport:E,onViewportChange:D,itemRefCallback:W,selectedItem:_,onItemLeave:fe,itemTextRefCallback:de,focusSelectedItem:V,selectedItemText:R,position:r,isPositioned:I,searchRef:oe,children:s.jsx(Qu,{as:lz,allowPinchZoom:!0,children:s.jsx(Yu,{asChild:!0,trapped:v.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:pe(i,ge=>{var He;(He=v.trigger)==null||He.focus({preventScroll:!0}),ge.preventDefault()}),children:s.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(Ue,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ge=>ge.preventDefault(),...j,...qe,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:pe(j.onKeyDown,ge=>{const He=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!He&&ge.key.length===1&&le(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let H=T().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const _e=ge.target,Pe=H.indexOf(_e);H=H.slice(Pe+1)}setTimeout(()=>z(H)),ge.preventDefault()}})})})})})})});VT.displayName=oz;var cz="SelectItemAlignedPosition",zT=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=qa(Ho,n),o=Ka(Ho,n),[l,c]=p.useState(null),[d,h]=p.useState(null),g=et(e,k=>h(k)),m=pp(n),w=p.useRef(!1),f=p.useRef(!0),{viewport:x,selectedItem:N,selectedItemText:j,focusSelectedItem:v}=o,S=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&N&&j){const k=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),R=j.getBoundingClientRect();if(a.dir!=="rtl"){const _e=R.left-_.left,Pe=C.left-_e,Qe=k.left-Pe,_t=k.width+Qe,kt=Math.max(_t,_.width),gn=window.innerWidth-Ms,An=X_(Pe,[Ms,Math.max(Ms,gn-kt)]);l.style.minWidth=_t+"px",l.style.left=An+"px"}else{const _e=_.right-R.right,Pe=window.innerWidth-C.right-_e,Qe=window.innerWidth-k.right-Pe,_t=k.width+Qe,kt=Math.max(_t,_.width),gn=window.innerWidth-Ms,An=X_(Pe,[Ms,Math.max(Ms,gn-kt)]);l.style.minWidth=_t+"px",l.style.right=An+"px"}const A=m(),T=window.innerHeight-Ms*2,I=x.scrollHeight,F=window.getComputedStyle(d),K=parseInt(F.borderTopWidth,10),z=parseInt(F.paddingTop,10),V=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),B=K+z+I+L+V,oe=Math.min(N.offsetHeight*5,B),le=window.getComputedStyle(x),W=parseInt(le.paddingTop,10),fe=parseInt(le.paddingBottom,10),de=k.top+k.height/2-Ms,Ue=T-de,qe=N.offsetHeight/2,ge=N.offsetTop+qe,He=K+z+ge,ze=B-He;if(He<=de){const _e=A.length>0&&N===A[A.length-1].ref.current;l.style.bottom="0px";const Pe=d.clientHeight-x.offsetTop-x.offsetHeight,Qe=Math.max(Ue,qe+(_e?fe:0)+Pe+V),_t=He+Qe;l.style.height=_t+"px"}else{const _e=A.length>0&&N===A[0].ref.current;l.style.top="0px";const Qe=Math.max(de,K+x.offsetTop+(_e?W:0)+qe)+ze;l.style.height=Qe+"px",x.scrollTop=He-de+x.offsetTop}l.style.margin=`${Ms}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[m,a.trigger,a.valueNode,l,d,x,N,j,a.dir,r]);rn(()=>S(),[S]);const[y,E]=p.useState();rn(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const D=p.useCallback(k=>{k&&f.current===!0&&(S(),v==null||v(),f.current=!1)},[S,v]);return s.jsx(uz,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:s.jsx(Oe.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});zT.displayName=cz;var dz="SelectPopperPosition",Jv=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ms,...a}=t,o=gp(n);return s.jsx(Ym,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jv.displayName=dz;var[uz,cj]=Yc(Ho,{}),ey="SelectViewport",BT=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Ka(ey,n),o=cj(ey,n),l=et(e,a.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(mp.Slot,{scope:n,children:s.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&g){const w=Math.abs(c.current-h.scrollTop);if(w>0){const f=window.innerHeight-Ms*2,x=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),j=Math.max(x,N);if(j<f){const v=j+w,S=Math.min(f,v),y=v-S;g.style.height=S+"px",g.style.bottom==="0px"&&(h.scrollTop=y>0?y:0,g.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});BT.displayName=ey;var WT="SelectGroup",[hz,fz]=Yc(WT),mz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zs();return s.jsx(hz,{scope:n,id:i,children:s.jsx(Oe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});mz.displayName=WT;var HT="SelectLabel",qT=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fz(HT,n);return s.jsx(Oe.div,{id:i.id,...r,ref:e})});qT.displayName=HT;var vm="SelectItem",[pz,KT]=Yc(vm),GT=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=qa(vm,n),c=Ka(vm,n),d=l.value===r,[h,g]=p.useState(a??""),[m,w]=p.useState(!1),f=et(e,v=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,v,r,i)}),x=Zs(),N=p.useRef("touch"),j=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(pz,{scope:n,value:r,disabled:i,textId:x,isSelected:d,onItemTextChange:p.useCallback(v=>{g(S=>S||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(mp.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx(Oe.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:f,onFocus:pe(o.onFocus,()=>w(!0)),onBlur:pe(o.onBlur,()=>w(!1)),onClick:pe(o.onClick,()=>{N.current!=="mouse"&&j()}),onPointerUp:pe(o.onPointerUp,()=>{N.current==="mouse"&&j()}),onPointerDown:pe(o.onPointerDown,v=>{N.current=v.pointerType}),onPointerMove:pe(o.onPointerMove,v=>{var S;N.current=v.pointerType,i?(S=c.onItemLeave)==null||S.call(c):N.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,v=>{var S;v.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:pe(o.onKeyDown,v=>{var y;((y=c.searchRef)==null?void 0:y.current)!==""&&v.key===" "||(ez.includes(v.key)&&j(),v.key===" "&&v.preventDefault())})})})})});GT.displayName=vm;var Td="SelectItemText",YT=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=qa(Td,n),l=Ka(Td,n),c=KT(Td,n),d=rz(Td,n),[h,g]=p.useState(null),m=et(e,j=>g(j),c.onItemTextChange,j=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,j,c.value,c.disabled)}),w=h==null?void 0:h.textContent,f=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:N}=d;return rn(()=>(x(f),()=>N(f)),[x,N,f]),s.jsxs(s.Fragment,{children:[s.jsx(Oe.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xo.createPortal(a.children,o.valueNode):null]})});YT.displayName=Td;var QT="SelectItemIndicator",XT=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return KT(QT,n).isSelected?s.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});XT.displayName=QT;var ty="SelectScrollUpButton",ZT=p.forwardRef((t,e)=>{const n=Ka(ty,t.__scopeSelect),r=cj(ty,t.__scopeSelect),[i,a]=p.useState(!1),o=et(e,r.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(eP,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZT.displayName=ty;var ny="SelectScrollDownButton",JT=p.forwardRef((t,e)=>{const n=Ka(ny,t.__scopeSelect),r=cj(ny,t.__scopeSelect),[i,a]=p.useState(!1),o=et(e,r.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(eP,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});JT.displayName=ny;var eP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Ka("SelectScrollButton",n),o=p.useRef(null),l=pp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),rn(()=>{var h;const d=l().find(g=>g.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Oe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),gz="SelectSeparator",tP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});tP.displayName=gz;var sy="SelectArrow",xz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=gp(n),a=qa(sy,n),o=Ka(sy,n);return a.open&&o.position==="popper"?s.jsx(Qm,{...i,...r,ref:e}):null});xz.displayName=sy;var vz="SelectBubbleInput",nP=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=p.useRef(null),a=et(r,i),o=lj(e);return p.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const g=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(g)}},[o,e]),s.jsx(Oe.select,{...n,style:{...NT,...n.style},ref:a,defaultValue:e})});nP.displayName=vz;function sP(t){return t===""||t===void 0}function rP(t){const e=Un(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function iP(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=yz(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function yz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wz=IT,aP=DT,jz=OT,bz=FT,Nz=LT,oP=$T,_z=BT,lP=qT,cP=GT,Sz=YT,Cz=XT,dP=ZT,uP=JT,hP=tP;const mn=wz,pn=jz,nn=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(aP,{ref:r,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(bz,{asChild:!0,children:s.jsx(Hk,{className:"h-4 w-4 opacity-50"})})]}));nn.displayName=aP.displayName;const fP=p.forwardRef(({className:t,...e},n)=>s.jsx(dP,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(AF,{className:"h-4 w-4"})}));fP.displayName=dP.displayName;const mP=p.forwardRef(({className:t,...e},n)=>s.jsx(uP,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Hk,{className:"h-4 w-4"})}));mP.displayName=uP.displayName;const sn=p.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(Nz,{children:s.jsxs(oP,{ref:i,className:ve("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(fP,{}),s.jsx(_z,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(mP,{})]})}));sn.displayName=oP.displayName;const kz=p.forwardRef(({className:t,...e},n)=>s.jsx(lP,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));kz.displayName=lP.displayName;const ae=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(cP,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Cz,{children:s.jsx(vw,{className:"h-4 w-4"})})}),s.jsx(Sz,{children:e})]}));ae.displayName=cP.displayName;const Ez=p.forwardRef(({className:t,...e},n)=>s.jsx(hP,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",t),...e}));Ez.displayName=hP.displayName;const Tz=Ou("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yt=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ve(Tz({variant:e}),t),...n}));Yt.displayName="Alert";const Pz=p.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",t),...e}));Pz.displayName="AlertTitle";const Qt=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",t),...e}));Qt.displayName="AlertDescription";function Az({userEmail:t,socialAuthData:e,onComplete:n,isLoading:r=!1}){var g,m;const[i,a]=p.useState(""),{toast:o}=Vt(),l=((g=e.displayName)==null?void 0:g.split(" ")[0])||"",c=((m=e.displayName)==null?void 0:m.split(" ").slice(1).join(" "))||"",d=Kc({resolver:Gc(XE),defaultValues:{firstName:l,lastName:c,userName:"",country:"",phone:"",gender:""}}),h=async w=>{try{a(""),await n(w),o({title:"Account setup complete!",description:"Welcome to your account."})}catch(f){console.error("Social auth completion failed:",f);const x=(f==null?void 0:f.message)||"Failed to complete account setup. Please try again.";a(x),o({variant:"destructive",title:"Setup failed",description:x})}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-6 md:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 overflow-hidden",children:[e.photoURL?s.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:w=>{var x;const f=w.target;f.style.display="none",(x=f.nextElementSibling)==null||x.classList.remove("hidden")}}):null,s.jsx(Kk,{className:`h-8 w-8 text-primary ${e.photoURL?"hidden":""}`})]}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Just a few more details to finish setting up your account"}),s.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Signed in as: ",t]})]}),s.jsxs(Z,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm","data-testid":"card-social-auth-complete",children:[s.jsx(re,{className:"pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Setup your profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose your unique username to complete your account"})]})}),s.jsxs(te,{className:"space-y-6 pb-8",children:[i&&s.jsx(Yt,{variant:"destructive",className:"mb-4","data-testid":"alert-submit-error",children:s.jsx(Qt,{children:i})}),s.jsx(YV,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-6","data-testid":"form-social-auth-complete",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(hl,{control:d.control,name:"firstName",render:({field:w})=>s.jsxs(ro,{children:[s.jsx(io,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{...w,placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-firstName"})]})}),s.jsx(ao,{})]})}),s.jsx(hl,{control:d.control,name:"lastName",render:({field:w})=>s.jsxs(ro,{children:[s.jsx(io,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{...w,placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-lastName"})]})}),s.jsx(ao,{})]})})]}),s.jsx(hl,{control:d.control,name:"userName",render:({field:w})=>s.jsxs(ro,{children:[s.jsx(io,{children:s.jsxs("div",{className:"relative",children:[s.jsx(TF,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{...w,placeholder:"Choose your unique username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-userName"})]})}),s.jsx(ao,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(hl,{control:d.control,name:"country",render:({field:w})=>s.jsxs(ro,{children:[s.jsxs(mn,{name:w.name,onValueChange:w.onChange,value:w.value,disabled:r,children:[s.jsx(io,{children:s.jsx(nn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-country",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(LF,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(pn,{placeholder:"Select Country"})]})})}),s.jsxs(sn,{className:"max-h-60",children:[s.jsx(ae,{value:"Afghanistan",children:"Afghanistan"}),s.jsx(ae,{value:"Albania",children:"Albania"}),s.jsx(ae,{value:"Algeria",children:"Algeria"}),s.jsx(ae,{value:"Argentina",children:"Argentina"}),s.jsx(ae,{value:"Australia",children:"Australia"}),s.jsx(ae,{value:"Austria",children:"Austria"}),s.jsx(ae,{value:"Bangladesh",children:"Bangladesh"}),s.jsx(ae,{value:"Belgium",children:"Belgium"}),s.jsx(ae,{value:"Brazil",children:"Brazil"}),s.jsx(ae,{value:"Canada",children:"Canada"}),s.jsx(ae,{value:"Chile",children:"Chile"}),s.jsx(ae,{value:"China",children:"China"}),s.jsx(ae,{value:"Colombia",children:"Colombia"}),s.jsx(ae,{value:"Denmark",children:"Denmark"}),s.jsx(ae,{value:"Egypt",children:"Egypt"}),s.jsx(ae,{value:"Ethiopia",children:"Ethiopia"}),s.jsx(ae,{value:"Finland",children:"Finland"}),s.jsx(ae,{value:"France",children:"France"}),s.jsx(ae,{value:"Germany",children:"Germany"}),s.jsx(ae,{value:"Ghana",children:"Ghana"}),s.jsx(ae,{value:"Greece",children:"Greece"}),s.jsx(ae,{value:"India",children:"India"}),s.jsx(ae,{value:"Indonesia",children:"Indonesia"}),s.jsx(ae,{value:"Iran",children:"Iran"}),s.jsx(ae,{value:"Iraq",children:"Iraq"}),s.jsx(ae,{value:"Ireland",children:"Ireland"}),s.jsx(ae,{value:"Israel",children:"Israel"}),s.jsx(ae,{value:"Italy",children:"Italy"}),s.jsx(ae,{value:"Japan",children:"Japan"}),s.jsx(ae,{value:"Jordan",children:"Jordan"}),s.jsx(ae,{value:"Kenya",children:"Kenya"}),s.jsx(ae,{value:"Malaysia",children:"Malaysia"}),s.jsx(ae,{value:"Mexico",children:"Mexico"}),s.jsx(ae,{value:"Morocco",children:"Morocco"}),s.jsx(ae,{value:"Netherlands",children:"Netherlands"}),s.jsx(ae,{value:"New Zealand",children:"New Zealand"}),s.jsx(ae,{value:"Nigeria",children:"Nigeria"}),s.jsx(ae,{value:"Norway",children:"Norway"}),s.jsx(ae,{value:"Pakistan",children:"Pakistan"}),s.jsx(ae,{value:"Philippines",children:"Philippines"}),s.jsx(ae,{value:"Poland",children:"Poland"}),s.jsx(ae,{value:"Portugal",children:"Portugal"}),s.jsx(ae,{value:"Russia",children:"Russia"}),s.jsx(ae,{value:"Saudi Arabia",children:"Saudi Arabia"}),s.jsx(ae,{value:"Singapore",children:"Singapore"}),s.jsx(ae,{value:"South Africa",children:"South Africa"}),s.jsx(ae,{value:"South Korea",children:"South Korea"}),s.jsx(ae,{value:"Spain",children:"Spain"}),s.jsx(ae,{value:"Sweden",children:"Sweden"}),s.jsx(ae,{value:"Switzerland",children:"Switzerland"}),s.jsx(ae,{value:"Thailand",children:"Thailand"}),s.jsx(ae,{value:"Turkey",children:"Turkey"}),s.jsx(ae,{value:"Ukraine",children:"Ukraine"}),s.jsx(ae,{value:"United Arab Emirates",children:"United Arab Emirates"}),s.jsx(ae,{value:"United Kingdom",children:"United Kingdom"}),s.jsx(ae,{value:"United States",children:"United States"}),s.jsx(ae,{value:"Venezuela",children:"Venezuela"}),s.jsx(ae,{value:"Vietnam",children:"Vietnam"})]})]}),s.jsx(ao,{})]})}),s.jsx(hl,{control:d.control,name:"phone",render:({field:w})=>s.jsxs(ro,{children:[s.jsx(io,{children:s.jsxs("div",{className:"relative",children:[s.jsx(qF,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{...w,placeholder:"Phone Number (optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-phone",type:"tel"})]})}),s.jsx(ao,{})]})})]}),s.jsx(hl,{control:d.control,name:"gender",render:({field:w})=>s.jsxs(ro,{children:[s.jsxs(mn,{onValueChange:w.onChange,defaultValue:w.value,disabled:r,children:[s.jsx(io,{children:s.jsx(nn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-gender",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(pn,{placeholder:"Select Gender (optional)"})]})})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"male",children:"Male"}),s.jsx(ae,{value:"female",children:"Female"}),s.jsx(ae,{value:"other",children:"Other"}),s.jsx(ae,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),s.jsx(ao,{})]})}),s.jsx(Y,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium h-12 text-lg",disabled:r,"data-testid":"button-complete-setup",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent mr-3"}),"Setting up your account..."]}):"Complete Setup"})]})})]})]})]})]})}function sx(){const[,t]=an(),{user:e,checkAuth:n,logout:r}=Ha(),{settings:i}=tl(),{toast:a}=Vt(),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,g]=p.useState(!1),[m,w]=p.useState(!1);p.useEffect(()=>{i.demoMode&&(l("admin@gmail.com"),d("123456"))},[i.demoMode]),p.useEffect(()=>{e!=null&&e.admin&&t("/admin")},[e==null?void 0:e.admin,t]);const f=async()=>{w(!0);try{await r(),a({title:"Logged Out",description:"You can now login as an admin"}),await n()}catch(N){a({title:"Logout Failed",description:N.message||"Failed to logout",variant:"destructive"})}finally{w(!1)}};if(e&&!e.admin)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(_v,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(Z,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[s.jsx(re,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(ie,{className:"text-xl font-semibold text-foreground",children:"Already Logged In"})})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("p",{className:"text-muted-foreground",children:["You are currently logged in as ",s.jsx("span",{className:"font-medium text-foreground",children:e.email})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To access the admin portal, please logout from your current account first."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{onClick:f,className:"w-full",disabled:m,"data-testid":"button-logout-to-admin",children:m?s.jsxs(s.Fragment,{children:[s.jsx(m0,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging out..."]}):"Logout to Continue"}),s.jsx(Y,{onClick:()=>t("/"),variant:"outline",className:"w-full",disabled:m,"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})]})]})]});const x=async N=>{N.preventDefault(),g(!0);try{const j=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c}),credentials:"include"}),v=await j.json();if(!j.ok||!v.success)throw new Error(v.message||v.error||"Admin login failed");if(!v.data)throw new Error("Invalid response: missing user data");const S=v.data._id||v.data.id;if(!S)throw new Error("Invalid response: missing user ID");localStorage.setItem("userId",S),localStorage.setItem("user",JSON.stringify({id:S,email:v.data.email||o,firstName:v.data.firstName||"",lastName:v.data.lastName||"",profilePhoto:v.data.profilePhoto||"",userName:v.data.userName||v.data.email||o,country:v.data.country||"",phone:v.data.phone||"",seller:v.data.seller||!1,admin:!0,authProvider:"email"})),v.accessToken&&localStorage.setItem("adminAccessToken",v.accessToken),await n(),a({title:"Admin Login Successful",description:"Welcome to the admin dashboard"}),t("/admin")}catch(j){a({title:"Login Failed",description:j.message||"Invalid credentials",variant:"destructive"})}finally{g(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(_v,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(Z,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm relative",children:[h&&s.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-lg","data-testid":"loading-overlay",children:[s.jsx(m0,{className:"h-8 w-8 animate-spin text-primary mb-4"}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-foreground",children:"Signing you in..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin credentials"})]})]}),s.jsx(re,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(ie,{className:"text-xl font-semibold text-foreground",children:"Admin Login"})})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"email",type:"email",placeholder:"Admin Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:o,onChange:N=>l(N.target.value),required:!0,disabled:h,"data-testid":"input-admin-email"})]})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"password",type:"password",placeholder:"Password",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:c,onChange:N=>d(N.target.value),required:!0,disabled:h,"data-testid":"input-admin-password"})]})}),s.jsx(Y,{type:"submit",className:"w-full",disabled:h,"data-testid":"button-admin-login",children:h?"Signing in...":"Sign In as Admin"}),i.demoMode&&s.jsx("div",{className:"mt-4 p-3 bg-primary/10 border border-primary/20 rounded-md","data-testid":"demo-credentials",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wa,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Demo Mode Enabled"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," admin@gmail.com"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Password:"})," 123456"]})]})]})]})})]})})]})]})]})}function Iz(){var l;const[,t]=an(),{toast:e}=Vt(),{settings:n}=tl(),[r,i]=p.useState({email:"",password:"",confirmPassword:"",username:"admin",full_name:"Admin"}),a=rt({mutationFn:async c=>{const d=await fetch("/api/admin/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const h=await d.json().catch(()=>({error:"Failed to create admin"}));throw new Error(h.error||h.message||"Failed to create admin")}return d.json()},onSuccess:async c=>{console.log("Admin created successfully:",c),e({title:"Admin account created!",description:"Verifying setup..."}),await new Promise(d=>setTimeout(d,1e3));try{const h=await(await fetch("/api/admin/exists",{credentials:"include"})).json();h.success&&h.exists?(e({title:"Setup complete!",description:"Redirecting to login page..."}),await new Promise(g=>setTimeout(g,800)),t("/admin/login")):(e({title:"Admin created",description:"Please try logging in.",variant:"default"}),await new Promise(g=>setTimeout(g,500)),t("/admin/login"))}catch(d){console.error("Error checking admin existence:",d),await new Promise(h=>setTimeout(h,500)),t("/admin/login")}},onError:c=>{e({title:"Setup failed",description:c.message||"Failed to create admin account. Please try again.",variant:"destructive"})}}),o=c=>{if(c.preventDefault(),!r.email||!r.password){e({title:"Missing fields",description:"Email and password are required.",variant:"destructive"});return}if(r.password!==r.confirmPassword){e({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(r.password.length<6){e({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}a.mutate({email:r.email,password:r.password,username:r.username,full_name:r.full_name,role:"admin"})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(Z,{children:[s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:s.jsx(_v,{className:"h-12 w-12 text-primary"})})}),s.jsx(ie,{className:"text-2xl",children:"Admin Setup"}),s.jsx(Ce,{className:"text-center max-w-md mx-auto mt-2",children:"This is a one-time setup. Create your first administrator account to access the platform."})]}),s.jsx(te,{children:s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"full_name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"full_name",type:"text",value:r.full_name,onChange:c=>i({...r,full_name:c.target.value}),placeholder:"Admin",className:"pl-10","data-testid":"input-setup-fullname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"username",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"username",type:"text",value:r.username,onChange:c=>i({...r,username:c.target.value}),placeholder:"admin",className:"pl-10","data-testid":"input-setup-username"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"email",children:["Email Address ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Fu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"email",type:"email",value:r.email,onChange:c=>i({...r,email:c.target.value}),placeholder:"admin@example.com",className:"pl-10",required:!0,"data-testid":"input-setup-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"password",children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"password",type:"password",value:r.password,onChange:c=>i({...r,password:c.target.value}),placeholder:"Min 6 characters",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-password"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Q,{htmlFor:"confirmPassword",children:["Confirm Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:c=>i({...r,confirmPassword:c.target.value}),placeholder:"Confirm password",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-confirm-password"})]})]})]}),a.isError&&s.jsxs(Yt,{variant:"destructive",children:[s.jsx(Hf,{className:"h-4 w-4"}),s.jsx(Qt,{children:((l=a.error)==null?void 0:l.message)||"Failed to create admin account. Please try again."})]}),s.jsx(Y,{type:"submit",className:"w-full",disabled:a.isPending,"data-testid":"button-setup-submit",children:a.isPending?"Creating Account...":"Create Admin Account"})]})})]})})})}const Rz=[{section:"User Management",items:[{name:"Users",href:"/admin/users",icon:Ar},{name:"Reported Cases",href:"/admin/reported-cases",icon:Nv}]},{section:"Commerce",items:[{name:"Inventory",href:"/admin/inventory",icon:Jt},{name:"Orders",href:"/admin/orders",icon:ja},{name:"Disputes",href:"/admin/disputes",icon:Ul},{name:"Transactions",href:"/admin/transactions",icon:vc},{name:"Payouts",href:"/admin/payouts",icon:bv}]},{section:"Platform",items:[{name:"Revenue",href:"/admin/application-fees",icon:DF},{name:"Categories",href:"/admin/categories",icon:FF},{name:"Shows",href:"/admin/shows",icon:yc},{name:"Emails",href:"/admin/emails",icon:Fu}]},{section:"Pages",items:[{name:"Landing Page",href:"/admin/pages/landing",icon:$F},{name:"FAQ",href:"/admin/pages/faq",icon:qk},{name:"About Us",href:"/admin/pages/about",icon:wa},{name:"Privacy Policy",href:"/admin/pages/privacy",icon:Qk},{name:"Terms of Service",href:"/admin/pages/terms",icon:OF},{name:"Contact Us",href:"/admin/pages/contact",icon:HF}]},{section:"Account",items:[{name:"Profile",href:"/admin/profile",icon:Kk},{name:"Settings",href:"/admin/settings",icon:ww}]}];function Dz({isOpen:t,onClose:e}){const[n]=an(),{data:r}=$e({queryKey:["/api/admin/settings"]}),i=(r==null?void 0:r.data)||r;return i!=null&&i.app_name,s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e,"data-testid":"sidebar-overlay"}),s.jsxs("div",{className:ve("flex flex-col w-64 bg-card border-r border-border h-full transition-transform duration-300 ease-in-out","lg:relative lg:translate-x-0","fixed inset-y-0 left-0 z-50",t?"translate-x-0":"-translate-x-full"),children:[s.jsx("div",{className:"lg:hidden flex justify-end p-3 border-b border-border",children:s.jsx(Y,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-close-sidebar",children:s.jsx(Is,{className:"h-5 w-5"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:Rz.map((a,o)=>s.jsxs("div",{children:[s.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:a.section}),s.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const c=l.icon,d=n===l.href;return s.jsx(Ll,{href:l.href,children:s.jsxs(Y,{variant:d?"secondary":"ghost",className:ve("w-full justify-start",d&&"bg-primary/10 text-primary hover:bg-primary/20 hover:text-primary"),onClick:e,"data-testid":`link-admin-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(c,{className:"h-4 w-4 mr-3"}),l.name]})},l.href)})})]},o))})]})]})}const Mz=Ou("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:t,variant:e,...n}){return s.jsx("div",{className:ve(Mz({variant:e}),t),...n})}function Oz(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=g=>{var j;const{scope:m,children:w,...f}=g,x=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,N=p.useMemo(()=>f,Object.values(f));return s.jsx(x.Provider,{value:N,children:w})};d.displayName=a+"Provider";function h(g,m){var x;const w=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,f=p.useContext(w);if(f)return f;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Fz(i,...e)]}function Fz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const g=c(a)[`__scope${d}`];return{...l,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Lz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dj=Lz.reduce((t,e)=>{const n=lp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $z(){return XC.useSyncExternalStore(Uz,()=>!0,()=>!1)}function Uz(){return()=>{}}var uj="Avatar",[Vz]=Oz(uj),[zz,pP]=Vz(uj),gP=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=p.useState("idle");return s.jsx(zz,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(dj.span,{...r,ref:e})})});gP.displayName=uj;var xP="AvatarImage",vP=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=pP(xP,n),l=Bz(r,a),c=Un(d=>{i(d),o.onImageLoadingStatusChange(d)});return rn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(dj.img,{...a,ref:e,src:r}):null});vP.displayName=xP;var yP="AvatarFallback",wP=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=pP(yP,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(dj.span,{...i,ref:e}):null});wP.displayName=yP;function l1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Bz(t,{referrerPolicy:e,crossOrigin:n}){const r=$z(),i=p.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=p.useState(()=>l1(a,t));return rn(()=>{l(l1(a,t))},[a,t]),rn(()=>{const c=g=>()=>{l(g)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,n,e]),o}var jP=gP,bP=vP,NP=wP;const er=p.forwardRef(({className:t,...e},n)=>s.jsx(jP,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));er.displayName=jP.displayName;const tr=p.forwardRef(({className:t,...e},n)=>s.jsx(bP,{ref:n,className:ve("aspect-square h-full w-full",t),...e}));tr.displayName=bP.displayName;const nr=p.forwardRef(({className:t,...e},n)=>s.jsx(NP,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));nr.displayName=NP.displayName;var rx="rovingFocusGroup.onEntryFocus",Wz={bubbles:!1,cancelable:!0},Xu="RovingFocusGroup",[ry,_P,Hz]=Bm(Xu),[qz,xp]=rs(Xu,[Hz]),[Kz,Gz]=qz(Xu),SP=p.forwardRef((t,e)=>s.jsx(ry.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(ry.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Yz,{...t,ref:e})})}));SP.displayName=Xu;var Yz=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...g}=t,m=p.useRef(null),w=et(e,m),f=dp(a),[x,N]=Or({prop:o,defaultProp:l??null,onChange:c,caller:Xu}),[j,v]=p.useState(!1),S=Un(d),y=_P(n),E=p.useRef(!1),[D,k]=p.useState(0);return p.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(rx,S),()=>_.removeEventListener(rx,S)},[S]),s.jsx(Kz,{scope:n,orientation:r,dir:f,loop:i,currentTabStopId:x,onItemFocus:p.useCallback(_=>N(_),[N]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>k(_=>_-1),[]),children:s.jsx(Oe.div,{tabIndex:j||D===0?-1:0,"data-orientation":r,...g,ref:w,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{E.current=!0}),onFocus:pe(t.onFocus,_=>{const C=!E.current;if(_.target===_.currentTarget&&C&&!j){const R=new CustomEvent(rx,Wz);if(_.currentTarget.dispatchEvent(R),!R.defaultPrevented){const A=y().filter(z=>z.focusable),T=A.find(z=>z.active),I=A.find(z=>z.id===x),K=[T,I,...A].filter(Boolean).map(z=>z.ref.current);EP(K,h)}}E.current=!1}),onBlur:pe(t.onBlur,()=>v(!1))})})}),CP="RovingFocusGroupItem",kP=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Zs(),d=a||c,h=Gz(CP,n),g=h.currentTabStopId===d,m=_P(n),{onFocusableItemAdd:w,onFocusableItemRemove:f,currentTabStopId:x}=h;return p.useEffect(()=>{if(r)return w(),()=>f()},[r,w,f]),s.jsx(ry.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx(Oe.span,{tabIndex:g?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:pe(t.onMouseDown,N=>{r?h.onItemFocus(d):N.preventDefault()}),onFocus:pe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:pe(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){h.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const j=Zz(N,h.orientation,h.dir);if(j!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let S=m().filter(y=>y.focusable).map(y=>y.ref.current);if(j==="last")S.reverse();else if(j==="prev"||j==="next"){j==="prev"&&S.reverse();const y=S.indexOf(N.currentTarget);S=h.loop?Jz(S,y+1):S.slice(y+1)}setTimeout(()=>EP(S))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:x!=null}):o})})});kP.displayName=CP;var Qz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Zz(t,e,n){const r=Xz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qz[r]}function EP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Jz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TP=SP,PP=kP;function eB(t){const e=tB(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(sB);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function tB(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=iB(i),l=rB(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nB=Symbol("radix.slottable");function sB(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nB}function rB(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function iB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iy=["Enter"," "],aB=["ArrowDown","PageUp","Home"],AP=["ArrowUp","PageDown","End"],oB=[...aB,...AP],lB={ltr:[...iy,"ArrowRight"],rtl:[...iy,"ArrowLeft"]},cB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zu="Menu",[bu,dB,uB]=Bm(Zu),[nl,IP]=rs(Zu,[uB,Ba,xp]),vp=Ba(),RP=xp(),[hB,sl]=nl(Zu),[fB,Ju]=nl(Zu),DP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=vp(e),[c,d]=p.useState(null),h=p.useRef(!1),g=Un(a),m=dp(i);return p.useEffect(()=>{const w=()=>{h.current=!0,document.addEventListener("pointerdown",f,{capture:!0,once:!0}),document.addEventListener("pointermove",f,{capture:!0,once:!0})},f=()=>h.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",f,{capture:!0}),document.removeEventListener("pointermove",f,{capture:!0})}},[]),s.jsx(Iw,{...l,children:s.jsx(hB,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:d,children:s.jsx(fB,{scope:e,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};DP.displayName=Zu;var mB="MenuAnchor",hj=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vp(n);return s.jsx($u,{...i,...r,ref:e})});hj.displayName=mB;var fj="MenuPortal",[pB,MP]=nl(fj,{forceMount:void 0}),OP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=sl(fj,e);return s.jsx(pB,{scope:e,forceMount:n,children:s.jsx(is,{present:n||a.open,children:s.jsx(Fc,{asChild:!0,container:i,children:r})})})};OP.displayName=fj;var Ts="MenuContent",[gB,mj]=nl(Ts),FP=p.forwardRef((t,e)=>{const n=MP(Ts,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=sl(Ts,t.__scopeMenu),o=Ju(Ts,t.__scopeMenu);return s.jsx(bu.Provider,{scope:t.__scopeMenu,children:s.jsx(is,{present:r||a.open,children:s.jsx(bu.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(xB,{...i,ref:e}):s.jsx(vB,{...i,ref:e})})})})}),xB=p.forwardRef((t,e)=>{const n=sl(Ts,t.__scopeMenu),r=p.useRef(null),i=et(e,r);return p.useEffect(()=>{const a=r.current;if(a)return hp(a)},[]),s.jsx(pj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vB=p.forwardRef((t,e)=>{const n=sl(Ts,t.__scopeMenu);return s.jsx(pj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yB=eB("MenuContent.ScrollLock"),pj=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:w,disableOutsideScroll:f,...x}=t,N=sl(Ts,n),j=Ju(Ts,n),v=vp(n),S=RP(n),y=dB(n),[E,D]=p.useState(null),k=p.useRef(null),_=et(e,k,N.onContentChange),C=p.useRef(0),R=p.useRef(""),A=p.useRef(0),T=p.useRef(null),I=p.useRef("right"),F=p.useRef(0),K=f?Qu:p.Fragment,z=f?{as:yB,allowPinchZoom:!0}:void 0,V=B=>{var ge,He;const oe=R.current+B,le=y().filter(ze=>!ze.disabled),W=document.activeElement,fe=(ge=le.find(ze=>ze.ref.current===W))==null?void 0:ge.textValue,de=le.map(ze=>ze.textValue),Ue=AB(de,oe,fe),qe=(He=le.find(ze=>ze.textValue===Ue))==null?void 0:He.ref.current;(function ze(H){R.current=H,window.clearTimeout(C.current),H!==""&&(C.current=window.setTimeout(()=>ze(""),1e3))})(oe),qe&&setTimeout(()=>qe.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),up();const L=p.useCallback(B=>{var le,W;return I.current===((le=T.current)==null?void 0:le.side)&&RB(B,(W=T.current)==null?void 0:W.area)},[]);return s.jsx(gB,{scope:n,searchRef:R,onItemEnter:p.useCallback(B=>{L(B)&&B.preventDefault()},[L]),onItemLeave:p.useCallback(B=>{var oe;L(B)||((oe=k.current)==null||oe.focus(),D(null))},[L]),onTriggerLeave:p.useCallback(B=>{L(B)&&B.preventDefault()},[L]),pointerGraceTimerRef:A,onPointerGraceIntentChange:p.useCallback(B=>{T.current=B},[]),children:s.jsx(K,{...z,children:s.jsx(Yu,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,B=>{var oe;B.preventDefault(),(oe=k.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:m,onDismiss:w,children:s.jsx(TP,{asChild:!0,...S,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:D,onEntryFocus:pe(c,B=>{j.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ym,{role:"menu","aria-orientation":"vertical","data-state":JP(N.open),"data-radix-menu-content":"",dir:j.dir,...v,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:pe(x.onKeyDown,B=>{const le=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,fe=B.key.length===1;le&&(B.key==="Tab"&&B.preventDefault(),!W&&fe&&V(B.key));const de=k.current;if(B.target!==de||!oB.includes(B.key))return;B.preventDefault();const qe=y().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);AP.includes(B.key)&&qe.reverse(),TB(qe)}),onBlur:pe(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:pe(t.onPointerMove,Nu(B=>{const oe=B.target,le=F.current!==B.clientX;if(B.currentTarget.contains(oe)&&le){const W=B.clientX>F.current?"right":"left";I.current=W,F.current=B.clientX}}))})})})})})})});FP.displayName=Ts;var wB="MenuGroup",gj=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Oe.div,{role:"group",...r,ref:e})});gj.displayName=wB;var jB="MenuLabel",LP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Oe.div,{...r,ref:e})});LP.displayName=jB;var ym="MenuItem",c1="menu.itemSelect",yp=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=p.useRef(null),o=Ju(ym,t.__scopeMenu),l=mj(ym,t.__scopeMenu),c=et(e,a),d=p.useRef(!1),h=()=>{const g=a.current;if(!n&&g){const m=new CustomEvent(c1,{bubbles:!0,cancelable:!0});g.addEventListener(c1,w=>r==null?void 0:r(w),{once:!0}),hw(g,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx($P,{...i,ref:c,disabled:n,onClick:pe(t.onClick,h),onPointerDown:g=>{var m;(m=t.onPointerDown)==null||m.call(t,g),d.current=!0},onPointerUp:pe(t.onPointerUp,g=>{var m;d.current||(m=g.currentTarget)==null||m.click()}),onKeyDown:pe(t.onKeyDown,g=>{const m=l.searchRef.current!=="";n||m&&g.key===" "||iy.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});yp.displayName=ym;var $P=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=mj(ym,n),l=RP(n),c=p.useRef(null),d=et(e,c),[h,g]=p.useState(!1),[m,w]=p.useState("");return p.useEffect(()=>{const f=c.current;f&&w((f.textContent??"").trim())},[a.children]),s.jsx(bu.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(PP,{asChild:!0,...l,focusable:!r,children:s.jsx(Oe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:pe(t.onPointerMove,Nu(f=>{r?o.onItemLeave(f):(o.onItemEnter(f),f.defaultPrevented||f.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,Nu(f=>o.onItemLeave(f))),onFocus:pe(t.onFocus,()=>g(!0)),onBlur:pe(t.onBlur,()=>g(!1))})})})}),bB="MenuCheckboxItem",UP=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(HP,{scope:t.__scopeMenu,checked:n,children:s.jsx(yp,{role:"menuitemcheckbox","aria-checked":wm(n)?"mixed":n,...i,ref:e,"data-state":vj(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(wm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UP.displayName=bB;var VP="MenuRadioGroup",[NB,_B]=nl(VP,{value:void 0,onValueChange:()=>{}}),zP=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=Un(r);return s.jsx(NB,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(gj,{...i,ref:e})})});zP.displayName=VP;var BP="MenuRadioItem",WP=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=_B(BP,t.__scopeMenu),a=n===i.value;return s.jsx(HP,{scope:t.__scopeMenu,checked:a,children:s.jsx(yp,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":vj(a),onSelect:pe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});WP.displayName=BP;var xj="MenuItemIndicator",[HP,SB]=nl(xj,{checked:!1}),qP=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=SB(xj,n);return s.jsx(is,{present:r||wm(a.checked)||a.checked===!0,children:s.jsx(Oe.span,{...i,ref:e,"data-state":vj(a.checked)})})});qP.displayName=xj;var CB="MenuSeparator",KP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});KP.displayName=CB;var kB="MenuArrow",GP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vp(n);return s.jsx(Qm,{...i,...r,ref:e})});GP.displayName=kB;var EB="MenuSub",[rY,YP]=nl(EB),Pd="MenuSubTrigger",QP=p.forwardRef((t,e)=>{const n=sl(Pd,t.__scopeMenu),r=Ju(Pd,t.__scopeMenu),i=YP(Pd,t.__scopeMenu),a=mj(Pd,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),c(null)}},[l,c]),s.jsx(hj,{asChild:!0,...d,children:s.jsx($P,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":JP(n.open),...t,ref:zr(e,i.onTriggerChange),onClick:g=>{var m;(m=t.onClick)==null||m.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,Nu(g=>{a.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:pe(t.onPointerLeave,Nu(g=>{var w,f;h();const m=(w=n.content)==null?void 0:w.getBoundingClientRect();if(m){const x=(f=n.content)==null?void 0:f.dataset.side,N=x==="right",j=N?-5:5,v=m[N?"left":"right"],S=m[N?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+j,y:g.clientY},{x:v,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:v,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,g=>{var w;const m=a.searchRef.current!=="";t.disabled||m&&g.key===" "||lB[r.dir].includes(g.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),g.preventDefault())})})})});QP.displayName=Pd;var XP="MenuSubContent",ZP=p.forwardRef((t,e)=>{const n=MP(Ts,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=sl(Ts,t.__scopeMenu),o=Ju(Ts,t.__scopeMenu),l=YP(XP,t.__scopeMenu),c=p.useRef(null),d=et(e,c);return s.jsx(bu.Provider,{scope:t.__scopeMenu,children:s.jsx(is,{present:r||a.open,children:s.jsx(bu.Slot,{scope:t.__scopeMenu,children:s.jsx(pj,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var g;o.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pe(t.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{var w;const g=h.currentTarget.contains(h.target),m=cB[o.dir].includes(h.key);g&&m&&(a.onOpenChange(!1),(w=l.trigger)==null||w.focus(),h.preventDefault())})})})})})});ZP.displayName=XP;function JP(t){return t?"open":"closed"}function wm(t){return t==="indeterminate"}function vj(t){return wm(t)?"indeterminate":t?"checked":"unchecked"}function TB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function PB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function AB(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=PB(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function IB(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,h=l.y,g=c.x,m=c.y;h>r!=m>r&&n<(g-d)*(r-h)/(m-h)+d&&(i=!i)}return i}function RB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return IB(n,e)}function Nu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var DB=DP,MB=hj,OB=OP,FB=FP,LB=gj,$B=LP,UB=yp,VB=UP,zB=zP,BB=WP,WB=qP,HB=KP,qB=GP,KB=QP,GB=ZP,wp="DropdownMenu",[YB]=rs(wp,[IP]),Hn=IP(),[QB,eA]=YB(wp),tA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Hn(e),d=p.useRef(null),[h,g]=Or({prop:i,defaultProp:a??!1,onChange:o,caller:wp});return s.jsx(QB,{scope:e,triggerId:Zs(),triggerRef:d,contentId:Zs(),open:h,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(m=>!m),[g]),modal:l,children:s.jsx(DB,{...c,open:h,onOpenChange:g,dir:r,modal:l,children:n})})};tA.displayName=wp;var nA="DropdownMenuTrigger",sA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=eA(nA,n),o=Hn(n);return s.jsx(MB,{asChild:!0,...o,children:s.jsx(Oe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:zr(e,a.triggerRef),onPointerDown:pe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:pe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});sA.displayName=nA;var XB="DropdownMenuPortal",rA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Hn(e);return s.jsx(OB,{...r,...n})};rA.displayName=XB;var iA="DropdownMenuContent",aA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=eA(iA,n),a=Hn(n),o=p.useRef(!1);return s.jsx(FB,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aA.displayName=iA;var ZB="DropdownMenuGroup",JB=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(LB,{...i,...r,ref:e})});JB.displayName=ZB;var eW="DropdownMenuLabel",oA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx($B,{...i,...r,ref:e})});oA.displayName=eW;var tW="DropdownMenuItem",lA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(UB,{...i,...r,ref:e})});lA.displayName=tW;var nW="DropdownMenuCheckboxItem",cA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(VB,{...i,...r,ref:e})});cA.displayName=nW;var sW="DropdownMenuRadioGroup",rW=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(zB,{...i,...r,ref:e})});rW.displayName=sW;var iW="DropdownMenuRadioItem",dA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(BB,{...i,...r,ref:e})});dA.displayName=iW;var aW="DropdownMenuItemIndicator",uA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(WB,{...i,...r,ref:e})});uA.displayName=aW;var oW="DropdownMenuSeparator",hA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(HB,{...i,...r,ref:e})});hA.displayName=oW;var lW="DropdownMenuArrow",cW=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(qB,{...i,...r,ref:e})});cW.displayName=lW;var dW="DropdownMenuSubTrigger",fA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(KB,{...i,...r,ref:e})});fA.displayName=dW;var uW="DropdownMenuSubContent",mA=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Hn(n);return s.jsx(GB,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mA.displayName=uW;var hW=tA,fW=sA,mW=rA,pA=aA,gA=oA,xA=lA,vA=cA,yA=dA,wA=uA,jA=hA,bA=fA,NA=mA;const rl=hW,il=fW,pW=p.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(bA,{ref:i,className:ve("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(Fr,{className:"ml-auto"})]}));pW.displayName=bA.displayName;const gW=p.forwardRef(({className:t,...e},n)=>s.jsx(NA,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));gW.displayName=NA.displayName;const Ga=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(mW,{children:s.jsx(pA,{ref:r,sideOffset:e,className:ve("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Ga.displayName=pA.displayName;const wn=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(xA,{ref:r,className:ve("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));wn.displayName=xA.displayName;const xW=p.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(vA,{ref:i,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(wA,{children:s.jsx(vw,{className:"h-4 w-4"})})}),e]}));xW.displayName=vA.displayName;const vW=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(yA,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(wA,{children:s.jsx(RF,{className:"h-2 w-2 fill-current"})})}),e]}));vW.displayName=yA.displayName;const _A=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(gA,{ref:r,className:ve("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));_A.displayName=gA.displayName;const Ci=p.forwardRef(({className:t,...e},n)=>s.jsx(jA,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",t),...e}));Ci.displayName=jA.displayName;function Me({children:t}){const{user:e,logout:n}=Ha(),{settings:r}=tl(),[,i]=an(),[a,o]=p.useState(!1),l=async()=>{await n(),i("/admin/login")},c=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`.toUpperCase():e!=null&&e.firstName?e.firstName[0].toUpperCase():e!=null&&e.email?e.email[0].toUpperCase():"A";return s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"bg-card border-b border-border px-3 sm:px-6 py-3 flex justify-between items-center h-14 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"lg:hidden h-9 w-9 p-0","data-testid":"button-mobile-menu",children:s.jsx(WF,{className:"h-5 w-5"})}),s.jsx(Ll,{href:"/admin","data-testid":"link-admin-home",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("div",{className:"h-7 w-7 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:r.app_name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"hidden sm:flex flex-col",children:[s.jsx("span",{className:"text-base font-bold text-foreground leading-tight",children:r.app_name}),s.jsx("span",{className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Panel"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right hidden md:block mr-2",children:[s.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-admin-email",children:e==null?void 0:e.email}),s.jsx(Ve,{variant:"secondary",className:"mt-0.5 text-xs",children:"Admin"})]}),e&&s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,"data-testid":"button-profile-dropdown",children:s.jsxs(er,{className:"h-9 w-9 cursor-pointer hover-elevate",children:[s.jsx(tr,{src:e.profilePhoto,alt:`${e.firstName||e.email}`}),s.jsx(nr,{className:"bg-primary text-primary-foreground text-sm font-bold",children:c()})]})}),s.jsxs(Ga,{align:"end",className:"w-56",children:[s.jsx(_A,{children:"My Account"}),s.jsx(Ci,{}),s.jsx(wn,{asChild:!0,children:s.jsxs(Ll,{href:"/admin/profile",className:"cursor-pointer","data-testid":"dropdown-profile",children:[s.jsx(gs,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(wn,{asChild:!0,children:s.jsxs(Ll,{href:"/admin/settings",className:"cursor-pointer","data-testid":"dropdown-settings",children:[s.jsx(ww,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(Ci,{}),s.jsxs(wn,{onClick:l,className:"cursor-pointer text-destructive focus:text-destructive","data-testid":"dropdown-logout",children:[s.jsx(BF,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(Dz,{isOpen:a,onClose:()=>o(!1)}),s.jsx("div",{className:"flex-1 overflow-auto",children:t})]})]})}const dn=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",t),...e})}));dn.displayName="Table";const un=p.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",t),...e}));un.displayName="TableHeader";const hn=p.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",t),...e}));hn.displayName="TableBody";const yW=p.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));yW.displayName="TableFooter";const nt=p.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));nt.displayName="TableRow";const ne=p.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ne.displayName="TableHead";const se=p.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));se.displayName="TableCell";const wW=p.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",t),...e}));wW.displayName="TableCaption";function d1(){var f;const[,t]=an(),{user:e}=Ha(),{toast:n}=Vt(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{e!=null&&e.admin||t("/")},[e==null?void 0:e.admin,t]);const c=`/api/admin/users?page=${a}&limit=${l}${r?`&title=${encodeURIComponent(r)}`:""}`,{data:d,isLoading:h}=$e({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const x=await fetch(c,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch users");return await x.json()}}),g=((f=d==null?void 0:d.data)==null?void 0:f.users)||[],m=d!=null&&d.data?{currentPage:a,totalPages:d.data.pages,totalItems:d.data.totalDoc,hasNextPage:a<d.data.pages,hasPrevPage:a>1}:void 0,w=rt({mutationFn:async({userId:x,blocked:N})=>wt("PATCH",`/api/admin/users/${x}/block`,{blocked:N}),onSuccess:(x,N)=>{Ye.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${N.blocked?"blocked":"unblocked"} successfully`})},onError:(x,N)=>{n({title:"Error",description:x.message||`Failed to ${N.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(m==null?void 0:m.totalItems)||g.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:g.filter(x=>x.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Customers"}),s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:g.filter(x=>!x.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"All Users"}),s.jsx(Ce,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search users...",value:r,onChange:x=>i(x.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(te,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):g.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[200px]",children:"User"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(ne,{className:"text-right",children:"Wallet"}),s.jsx(ne,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:g.map(x=>{var N,j;return s.jsxs(nt,{"data-testid":`row-user-${x._id||x.id}`,children:[s.jsx(se,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(er,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(tr,{src:x.profilePhoto}),s.jsxs(nr,{children:[(N=x.firstName)==null?void 0:N[0],(j=x.lastName)==null?void 0:j[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[x.firstName," ",x.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:x.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:x.phone||"No phone"})]})]})}),s.jsx(se,{className:"hidden md:table-cell","data-testid":`text-email-${x._id||x.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:x.email})}),s.jsx(se,{className:"hidden lg:table-cell","data-testid":`text-username-${x._id||x.id}`,children:x.userName||"N/A"}),s.jsx(se,{className:"hidden xl:table-cell",children:x.country||"N/A"}),s.jsx(se,{children:s.jsx(Ve,{variant:x.seller?"default":"secondary",children:x.seller?"Seller":"Customer"})}),s.jsx(se,{className:"hidden sm:table-cell",children:s.jsx(Ve,{variant:x.system_blocked?"destructive":"secondary","data-testid":`badge-status-${x._id||x.id}`,children:x.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Yk,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(hu,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(se,{className:"text-right","data-testid":`text-wallet-${x._id||x.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(Jk,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(x.wallet||0).toFixed(2)]})]})}),s.jsx(se,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${x._id||x.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(x.walletPending||0).toFixed(2)]})}),s.jsx(se,{className:"text-right",children:s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,children:s.jsx(Y,{variant:"ghost",size:"sm","data-testid":`button-actions-${x._id||x.id}`,children:s.jsx(Lc,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[s.jsxs(wn,{onClick:()=>t(`/admin/users/${x._id||x.id}`),"data-testid":`menu-view-user-${x._id||x.id}`,children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Ci,{}),s.jsx(wn,{onClick:()=>{w.mutate({userId:x._id||x.id,blocked:!x.system_blocked})},disabled:w.isPending,"data-testid":`menu-block-user-${x._id||x.id}`,className:x.system_blocked?"":"text-destructive focus:text-destructive",children:x.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(xw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},x._id||x.id)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Fr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function jW(){var w;const[,t]=an(),{user:e}=Ha(),{toast:n}=Vt(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{e!=null&&e.admin||t("/")},[e==null?void 0:e.admin,t]);const{data:c,isLoading:d}=$e({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const f=new URLSearchParams;f.set("page",String(a)),f.set("limit",String(l)),r&&f.set("title",r);const x=`/api/admin/users?${f.toString()}`;return await(await wt("GET",x)).json()}}),h=((w=c==null?void 0:c.data)==null?void 0:w.users)||[],g=c!=null&&c.data?{currentPage:a,totalPages:c.data.pages,totalItems:c.data.totalDoc,hasNextPage:a<c.data.pages,hasPrevPage:a>1}:void 0,m=rt({mutationFn:async({userId:f,blocked:x})=>wt("PATCH",`/api/admin/users/${f}/block`,{blocked:x}),onSuccess:(f,x)=>{Ye.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${x.blocked?"blocked":"unblocked"} successfully`})},onError:(f,x)=>{n({title:"Error",description:f.message||`Failed to ${x.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(g==null?void 0:g.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:h.filter(f=>f.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Customers"}),s.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:h.filter(f=>!f.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"All Users"}),s.jsx(Ce,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search users...",value:r,onChange:f=>i(f.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(te,{children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[200px]",children:"User"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(ne,{className:"text-right",children:"Wallet"}),s.jsx(ne,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:h.map(f=>{var x,N;return s.jsxs(nt,{"data-testid":`row-user-${f._id||f.id}`,children:[s.jsx(se,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(er,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(tr,{src:f.profilePhoto}),s.jsxs(nr,{children:[(x=f.firstName)==null?void 0:x[0],(N=f.lastName)==null?void 0:N[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[f.firstName," ",f.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:f.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:f.phone||"No phone"})]})]})}),s.jsx(se,{className:"hidden md:table-cell","data-testid":`text-email-${f._id||f.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:f.email})}),s.jsx(se,{className:"hidden lg:table-cell","data-testid":`text-username-${f._id||f.id}`,children:f.userName||"N/A"}),s.jsx(se,{className:"hidden xl:table-cell",children:f.country||"N/A"}),s.jsx(se,{children:s.jsx(Ve,{variant:f.seller?"default":"secondary",children:f.seller?"Seller":"Customer"})}),s.jsx(se,{className:"hidden sm:table-cell",children:s.jsx(Ve,{variant:f.system_blocked?"destructive":"secondary","data-testid":`badge-status-${f._id||f.id}`,children:f.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Yk,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(hu,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(se,{className:"text-right","data-testid":`text-wallet-${f._id||f.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(Jk,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(f.wallet||0).toFixed(2)]})]})}),s.jsx(se,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${f._id||f.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(f.walletPending||0).toFixed(2)]})}),s.jsx(se,{className:"text-right",children:s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,children:s.jsx(Y,{variant:"ghost",size:"sm","data-testid":`button-actions-${f._id||f.id}`,children:s.jsx(Lc,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[s.jsxs(wn,{onClick:()=>t(`/admin/users/${f._id||f.id}`),"data-testid":`menu-view-user-${f._id||f.id}`,children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Ci,{}),s.jsx(wn,{onClick:()=>{m.mutate({userId:f._id||f.id,blocked:!f.system_blocked})},disabled:m.isPending,"data-testid":`menu-block-user-${f._id||f.id}`,className:f.system_blocked?"":"text-destructive focus:text-destructive",children:f.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(xw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},f._id||f.id)})})]})}),g&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",g.currentPage," of ",g.totalPages," (",g.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[g.currentPage," / ",g.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!g.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!g.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Fr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}var jp="Tabs",[bW]=rs(jp,[xp]),SA=xp(),[NW,yj]=bW(jp),CA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=dp(l),[g,m]=Or({prop:r,onChange:i,defaultProp:a??"",caller:jp});return s.jsx(NW,{scope:n,baseId:Zs(),value:g,onValueChange:m,orientation:o,dir:h,activationMode:c,children:s.jsx(Oe.div,{dir:h,"data-orientation":o,...d,ref:e})})});CA.displayName=jp;var kA="TabsList",EA=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=yj(kA,n),o=SA(n);return s.jsx(TP,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Oe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});EA.displayName=kA;var TA="TabsTrigger",PA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=yj(TA,n),l=SA(n),c=RA(o.baseId,r),d=DA(o.baseId,r),h=r===o.value;return s.jsx(PP,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Oe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:pe(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?o.onValueChange(r):g.preventDefault()}),onKeyDown:pe(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const g=o.activationMode!=="manual";!h&&!i&&g&&o.onValueChange(r)})})})});PA.displayName=TA;var AA="TabsContent",IA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=yj(AA,n),c=RA(l.baseId,r),d=DA(l.baseId,r),h=r===l.value,g=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(is,{present:i||h,children:({present:m})=>s.jsx(Oe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:m&&a})})});IA.displayName=AA;function RA(t,e){return`${t}-trigger-${e}`}function DA(t,e){return`${t}-content-${e}`}var _W=CA,MA=EA,OA=PA,FA=IA;const qo=_W,La=p.forwardRef(({className:t,...e},n)=>s.jsx(MA,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));La.displayName=MA.displayName;const ut=p.forwardRef(({className:t,...e},n)=>s.jsx(OA,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ut.displayName=OA.displayName;const ht=p.forwardRef(({className:t,...e},n)=>s.jsx(FA,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ht.displayName=FA.displayName;var bp="Switch",[SW]=rs(bp),[CW,kW]=SW(bp),LA=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...g}=t,[m,w]=p.useState(null),f=et(e,S=>w(S)),x=p.useRef(!1),N=m?h||!!m.closest("form"):!0,[j,v]=Or({prop:i,defaultProp:a??!1,onChange:d,caller:bp});return s.jsxs(CW,{scope:n,checked:j,disabled:l,children:[s.jsx(Oe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":zA(j),"data-disabled":l?"":void 0,disabled:l,value:c,...g,ref:f,onClick:pe(t.onClick,S=>{v(y=>!y),N&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),N&&s.jsx(VA,{control:m,bubbles:!x.current,name:r,value:c,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});LA.displayName=bp;var $A="SwitchThumb",UA=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=kW($A,n);return s.jsx(Oe.span,{"data-state":zA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});UA.displayName=$A;var EW="SwitchBubbleInput",VA=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=p.useRef(null),l=et(o,a),c=lj(n),d=Tw(e);return p.useEffect(()=>{const h=o.current;if(!h)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(c!==n&&w){const f=new Event("click",{bubbles:r});w.call(h,n),h.dispatchEvent(f)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VA.displayName=EW;function zA(t){return t?"checked":"unchecked"}var BA=LA,TW=UA;const Ql=p.forwardRef(({className:t,...e},n)=>s.jsx(BA,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(TW,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ql.displayName=BA.displayName;function PW(t){const e=AW(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(RW);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function AW(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=MW(i),l=DW(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IW=Symbol("radix.slottable");function RW(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IW}function DW(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function MW(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Np="Dialog",[WA,HA]=rs(Np),[OW,lr]=WA(Np),qA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d,h]=Or({prop:r,defaultProp:i??!1,onChange:a,caller:Np});return s.jsx(OW,{scope:e,triggerRef:l,contentRef:c,contentId:Zs(),titleId:Zs(),descriptionId:Zs(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(g=>!g),[h]),modal:o,children:n})};qA.displayName=Np;var KA="DialogTrigger",GA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(KA,n),a=et(e,i.triggerRef);return s.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bj(i.open),...r,ref:a,onClick:pe(t.onClick,i.onOpenToggle)})});GA.displayName=KA;var wj="DialogPortal",[FW,YA]=WA(wj,{forceMount:void 0}),QA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=lr(wj,e);return s.jsx(FW,{scope:e,forceMount:n,children:p.Children.map(r,o=>s.jsx(is,{present:n||a.open,children:s.jsx(Fc,{asChild:!0,container:i,children:o})}))})};QA.displayName=wj;var jm="DialogOverlay",XA=p.forwardRef((t,e)=>{const n=YA(jm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=lr(jm,t.__scopeDialog);return a.modal?s.jsx(is,{present:r||a.open,children:s.jsx($W,{...i,ref:e})}):null});XA.displayName=jm;var LW=PW("DialogOverlay.RemoveScroll"),$W=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(jm,n);return s.jsx(Qu,{as:LW,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Oe.div,{"data-state":bj(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ko="DialogContent",ZA=p.forwardRef((t,e)=>{const n=YA(Ko,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=lr(Ko,t.__scopeDialog);return s.jsx(is,{present:r||a.open,children:a.modal?s.jsx(UW,{...i,ref:e}):s.jsx(VW,{...i,ref:e})})});ZA.displayName=Ko;var UW=p.forwardRef((t,e)=>{const n=lr(Ko,t.__scopeDialog),r=p.useRef(null),i=et(e,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return hp(a)},[]),s.jsx(JA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),VW=p.forwardRef((t,e)=>{const n=lr(Ko,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(JA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),JA=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=lr(Ko,n),c=p.useRef(null),d=et(e,c);return up(),s.jsxs(s.Fragment,{children:[s.jsx(Yu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Jo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bj(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(BW,{titleId:l.titleId}),s.jsx(HW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),jj="DialogTitle",eI=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(jj,n);return s.jsx(Oe.h2,{id:i.titleId,...r,ref:e})});eI.displayName=jj;var tI="DialogDescription",nI=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(tI,n);return s.jsx(Oe.p,{id:i.descriptionId,...r,ref:e})});nI.displayName=tI;var sI="DialogClose",rI=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=lr(sI,n);return s.jsx(Oe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});rI.displayName=sI;function bj(t){return t?"open":"closed"}var iI="DialogTitleWarning",[zW,aI]=kO(iI,{contentName:Ko,titleName:jj,docsSlug:"dialog"}),BW=({titleId:t})=>{const e=aI(iI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},WW="DialogDescriptionWarning",HW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aI(WW).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},oI=qA,lI=GA,cI=QA,Nj=XA,_j=ZA,Sj=eI,Cj=nI,kj=rI;const oi=oI,bm=lI,qW=cI,dI=p.forwardRef(({className:t,...e},n)=>s.jsx(Nj,{ref:n,className:ve("fixed inset-0 z-[9998] bg-black/40 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dI.displayName=Nj.displayName;const br=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(qW,{children:[s.jsx(dI,{}),s.jsxs(_j,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(kj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Is,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));br.displayName=_j.displayName;const Nr=({className:t,...e})=>s.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Nr.displayName="DialogHeader";const _r=p.forwardRef(({className:t,...e},n)=>s.jsx(Sj,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",t),...e}));_r.displayName=Sj.displayName;const Zi=p.forwardRef(({className:t,...e},n)=>s.jsx(Cj,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Zi.displayName=Cj.displayName;function KW(){var ge,He,ze;const[,t]=an(),[,e]=Zo("/admin/users/:userId"),{user:n}=Ha(),{settings:r}=tl(),{toast:i}=Vt(),a=e==null?void 0:e.userId,[o,l]=p.useState("orders"),[c,d]=p.useState(null),[h,g]=p.useState(!1);p.useEffect(()=>{n!=null&&n.admin||t("/")},[n==null?void 0:n.admin,t]);const m=rt({mutationFn:async H=>await wt("PATCH",`/api/admin/users/${a}/approve-seller`,{email:H}),onSuccess:()=>{Ye.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User approved as seller successfully"})},onError:H=>{i({title:"Error",description:H.message||"Failed to approve seller",variant:"destructive"})}}),w=rt({mutationFn:async H=>await wt("PATCH",`/api/admin/users/${a}`,H),onSuccess:()=>{Ye.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User updated successfully"})},onError:H=>{i({title:"Error",description:H.message||"Failed to update user",variant:"destructive"})}}),f=H=>{if(H){const _e=(F==null?void 0:F.email)||"";m.mutate(_e)}else w.mutate({seller:!1})},{data:x,isLoading:N}=$e({queryKey:[`/api/admin/users/${a}`],enabled:!!a,refetchOnMount:"always",staleTime:0}),{data:j,isLoading:v}=$e({queryKey:[`/api/address/all/${a}`],enabled:!!a}),{data:S,isLoading:y}=$e({queryKey:[`/api/shipping/profiles/${a}`],enabled:!!a}),{data:E,isLoading:D}=$e({queryKey:["/api/products",a],enabled:!!a}),{data:k,isLoading:_}=$e({queryKey:["/api/orders",a,o],enabled:!!a&&(o==="orders"||o==="giveaways"),refetchOnMount:"always",staleTime:0}),{data:C,isLoading:R}=$e({queryKey:["purchases-for-customer",a,o],queryFn:async()=>{const H=await fetch(`/api/orders?customer=${a}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch purchases");return await H.json()},enabled:!!a&&(o==="purchases"||o==="giveaways")}),{data:A,isLoading:T}=$e({queryKey:["/api/admin/transactions",a,o],queryFn:async()=>{const H=await fetch(`/api/admin/transactions?userId=${a}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch transactions");return await H.json()},enabled:!!a&&o==="transactions"}),{data:I}=$e({queryKey:["admin-settings"],queryFn:async()=>{const H=await fetch("/api/admin/settings",{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch settings");const _e=await H.json();return _e.success?_e.data:_e}}),F=x==null?void 0:x.data,K=(j==null?void 0:j.data)||j||[],z=(S==null?void 0:S.data)||S||[],V=(E==null?void 0:E.products)||(E==null?void 0:E.data)||[],L=(k==null?void 0:k.orders)||(k==null?void 0:k.data)||[],B=(C==null?void 0:C.orders)||(C==null?void 0:C.data)||[],oe=((ge=A==null?void 0:A.data)==null?void 0:ge.data)||(A==null?void 0:A.transactions)||(A==null?void 0:A.data)||[],le=Array.isArray(oe)?oe:[],W=(I==null?void 0:I.support_email)||"",fe=(I==null?void 0:I.stripe_fee)||"0",de=(I==null?void 0:I.extra_charges)||"0",qe=[...L,...B].filter(H=>H.ordertype==="giveaway"||H.orderType==="giveaway");return N?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading user details..."})]})})}):F?s.jsxs(Me,{children:[s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Y,{variant:"ghost",onClick:()=>t("/admin"),"data-testid":"button-back-to-admin",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),s.jsxs(Z,{className:"mb-8",children:[s.jsxs(re,{children:[s.jsx(ie,{children:"User Profile"}),s.jsx(Ce,{children:"Complete user information"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs(er,{className:"h-20 w-20",children:[s.jsx(tr,{src:F.profilePhoto}),s.jsxs(nr,{className:"text-2xl",children:[(He=F.firstName)==null?void 0:He[0],(ze=F.lastName)==null?void 0:ze[0]]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium","data-testid":"text-user-name",children:[F.firstName," ",F.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-email",children:F.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-username",children:F.userName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:F.country||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:F.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Default Payment Method"}),s.jsx("p",{className:"font-medium","data-testid":"text-default-payment-method",children:typeof F.defaultpaymentmethod=="object"&&F.defaultpaymentmethod?`${(F.defaultpaymentmethod.type||"Card").replace(/_/g," ")} ending in ${F.defaultpaymentmethod.last4||"****"}`:F.defaultpaymentmethod?String(F.defaultpaymentmethod).replace(/_/g," "):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(Ve,{variant:F.seller?"default":"secondary",children:F.seller?"Seller":"Customer"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Admin Controls"}),s.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Q,{htmlFor:"seller-toggle",className:"text-base",children:"Seller Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this user to sell products on the platform"})]}),s.jsx(Ql,{id:"seller-toggle",checked:F.seller,onCheckedChange:f,disabled:m.isPending||w.isPending,"data-testid":"switch-seller-status"})]})]})]})]}),s.jsxs(qo,{defaultValue:"addresses",className:"w-full",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(La,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ut,{value:"addresses","data-testid":"tab-addresses",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(yw,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Addresses (",K.length,")"]}),s.jsxs(ut,{value:"shipping","data-testid":"tab-shipping",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(fu,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Shipping Profiles (",z.length,")"]}),s.jsxs(ut,{value:"inventory","data-testid":"tab-inventory",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Jt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Inventory (",V.length,")"]}),s.jsxs(ut,{value:"activities","data-testid":"tab-activities",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(CF,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Activities"]})]})}),s.jsx(ht,{value:"addresses",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"User Addresses"}),s.jsx(Ce,{children:"All saved addresses for this user"})]}),s.jsx(te,{children:v?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading addresses..."})]}):K.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No addresses found"}):s.jsx("div",{className:"space-y-4",children:K.map((H,_e)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`address-${_e}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h4",{className:"font-medium",children:H.name}),s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/addresses/${H._id}`),"data-testid":`button-view-address-${_e}`,children:"View Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:H.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:H.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:H.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City/Region"}),s.jsxs("p",{className:"font-medium",children:[H.city,", ",H.region]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:H.country})]})]})]},H._id||_e))})})]})}),s.jsx(ht,{value:"shipping",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Shipping Profiles"}),s.jsx(Ce,{children:"User's shipping configurations"})]}),s.jsx(te,{children:y?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading shipping profiles..."})]}):z.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No shipping profiles found"}):s.jsx("div",{className:"space-y-4",children:z.map((H,_e)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`shipping-profile-${_e}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["Shipping Profile #",_e+1]}),s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/shipping-profiles/${H._id}`),"data-testid":`button-view-shipping-${_e}`,children:"View Details"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(H).map(([Pe,Qe])=>Pe==="_id"||Pe==="__v"||Pe==="userId"||Pe==="user"||Pe==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground capitalize",children:Pe.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"break-words",children:typeof Qe=="object"&&Qe!==null?JSON.stringify(Qe):String(Qe||"N/A")})]},Pe))})]},H._id||_e))})})]})}),s.jsx(ht,{value:"inventory",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Product Inventory"}),s.jsx(Ce,{children:"All products listed by this user"})]}),s.jsx(te,{children:D?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading inventory..."})]}):V.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No inventory found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Product"}),s.jsx(ne,{children:"Price"}),s.jsx(ne,{children:"Stock"}),s.jsx(ne,{children:"Category"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(hn,{children:V.map(H=>{var _e,Pe,Qe;return s.jsxs(nt,{"data-testid":`product-${H._id||H.id}`,children:[s.jsx(se,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[((_e=H.images)==null?void 0:_e[0])&&s.jsx("img",{src:H.images[0],alt:H.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{children:H.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(Pe=H.description)==null?void 0:Pe.substring(0,50),"..."]})]})]})}),s.jsxs(se,{children:["$",H.price]}),s.jsx(se,{children:H.quantity||0}),s.jsx(se,{children:((Qe=H.category)==null?void 0:Qe.name)||"N/A"}),s.jsx(se,{children:s.jsx(Ve,{variant:H.active?"default":"secondary",children:H.active?"Active":"Inactive"})}),s.jsx(se,{children:s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/inventory/${H._id||H.id}`),"data-testid":`button-view-product-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})})]})}),s.jsx(ht,{value:"activities",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"User Activities"}),s.jsx(Ce,{children:"Orders, purchases, and giveaways"})]}),s.jsx(te,{children:s.jsxs(qo,{defaultValue:"orders",className:"w-full",onValueChange:l,children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(La,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(ut,{value:"orders","data-testid":"tab-activities-orders",className:"flex-shrink-0 sm:flex-shrink",children:"Orders"}),s.jsx(ut,{value:"purchases","data-testid":"tab-activities-purchases",className:"flex-shrink-0 sm:flex-shrink",children:"Purchases"}),s.jsx(ut,{value:"giveaways","data-testid":"tab-activities-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:"Giveaways"}),s.jsxs(ut,{value:"transactions","data-testid":"tab-activities-transactions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(vc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Transactions"]})]})}),s.jsx(ht,{value:"orders",children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."})]}):L.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No orders found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(hn,{children:L.map(H=>{var Pe,Qe;const _e=((Pe=H.items)==null?void 0:Pe.reduce((_t,kt)=>_t+(kt.total||kt.totalPrice||kt.price||0),0))||0;return s.jsxs(nt,{"data-testid":`order-${H._id||H.id}`,children:[s.jsx(se,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(se,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(se,{children:[((Qe=H.items)==null?void 0:Qe.length)||0," items"]}),s.jsxs(se,{children:["$",_e.toFixed(2)]}),s.jsx(se,{children:s.jsx(Ve,{children:H.status||"pending"})}),s.jsx(se,{children:s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-order-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(ht,{value:"purchases",children:R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading purchases..."})]}):B.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No purchases found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(hn,{children:B.map(H=>{var Pe,Qe;const _e=((Pe=H.items)==null?void 0:Pe.reduce((_t,kt)=>_t+(kt.total||kt.totalPrice||kt.price||0),0))||0;return s.jsxs(nt,{"data-testid":`purchase-${H._id||H.id}`,children:[s.jsx(se,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(se,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(se,{children:[((Qe=H.items)==null?void 0:Qe.length)||0," items"]}),s.jsxs(se,{children:["$",_e.toFixed(2)]}),s.jsx(se,{children:s.jsx(Ve,{children:H.status||"pending"})}),s.jsx(se,{children:s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-purchase-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(ht,{value:"giveaways",children:_||R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading giveaways..."})]}):qe.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No giveaways found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(hn,{children:qe.map(H=>{var Pe,Qe;const _e=((Pe=H.items)==null?void 0:Pe.reduce((_t,kt)=>_t+(kt.total||kt.totalPrice||kt.price||0),0))||0;return s.jsxs(nt,{"data-testid":`giveaway-${H._id||H.id}`,children:[s.jsx(se,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(se,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(se,{children:[((Qe=H.items)==null?void 0:Qe.length)||0," items"]}),s.jsxs(se,{children:["$",_e.toFixed(2)]}),s.jsx(se,{children:s.jsx(Ve,{children:H.status||"pending"})}),s.jsx(se,{children:s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-giveaway-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(ht,{value:"transactions",children:T?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):le.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Transaction ID"}),s.jsx(ne,{children:"From"}),s.jsx(ne,{children:"To"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:le.map(H=>{const _e=H._id||H.id,Pe=typeof H.from=="object"&&(`${H.from.firstName||""} ${H.from.lastName||""}`.trim()||H.from.userName||H.from.email)||"Unknown",Qe=typeof H.to=="object"&&(`${H.to.firstName||""} ${H.to.lastName||""}`.trim()||H.to.userName||H.to.email)||"Unknown",_t=H.amount||0,kt=H.type||"N/A",gn=H.status||"pending",An=cr=>{switch(cr.toLowerCase()){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"secondary"}};return s.jsxs(nt,{"data-testid":`transaction-${_e}`,children:[s.jsx(se,{className:"font-mono text-xs",children:String(_e).slice(-8)}),s.jsx(se,{children:Pe}),s.jsx(se,{children:Qe}),s.jsx(se,{className:"capitalize",children:kt}),s.jsxs(se,{children:["$",_t.toFixed(2)]}),s.jsx(se,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsx(se,{children:s.jsx(Ve,{variant:An(gn),children:gn})}),s.jsx(se,{className:"text-right",children:s.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>{H.receipt?window.open(H.receipt,"_blank"):(d(H),g(!0))},"data-testid":`button-print-receipt-${_e}`,children:[s.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Receipt"]})})]},_e)})})]})})})]})})]})})]})]}),s.jsx(oi,{open:h,onOpenChange:g,children:s.jsxs(br,{className:"max-w-md",children:[s.jsx(Nr,{children:s.jsx(_r,{children:"Transaction Receipt"})}),c&&s.jsxs("div",{id:"receipt-content-user",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:r.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(c._id||c.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString():c.date?new Date(c.date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:c.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(Ve,{variant:(c.status||"pending").toLowerCase()==="completed"?"default":(c.status||"pending").toLowerCase()==="failed"?"destructive":"secondary",children:c.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof c.from=="object"&&(`${c.from.firstName||""} ${c.from.lastName||""}`.trim()||c.from.userName||c.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof c.to=="object"&&(`${c.to.firstName||""} ${c.to.lastName||""}`.trim()||c.to.userName||c.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(c.total)||0).toFixed(2)]})]}),(()=>{const H=parseFloat(c.stripe_fee)||0,_e=parseFloat(c.extra_charges)||0,Pe=H+_e;return Pe>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",fe,"% + ",de,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",Pe.toFixed(2)]})]})})(),c.serviceFee&&parseFloat(c.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.serviceFee).toFixed(2)]})]}),c.shippingFee&&parseFloat(c.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(c.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",W]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(Y,{variant:"outline",onClick:()=>g(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(Y,{onClick:()=>{const H=document.getElementById("receipt-content-user");if(H){const _e=window.open("","_blank");_e&&(_e.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${H.innerHTML}
                        </body>
                      </html>
                    `),_e.document.close(),_e.focus(),setTimeout(()=>{_e.print(),_e.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]}):s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"User not found"}),s.jsx(Y,{onClick:()=>t("/admin"),className:"mt-4",children:"Back to Dashboard"})]})})})}function GW(){var f,x,N,j,v,S,y,E,D,k;const[,t]=an(),[,e]=Zo("/admin/users/:userId/details/:itemType/:itemId"),{userId:n,itemType:r,itemId:i}=e||{},a=()=>{switch(r){case"addresses":return[`/api/address/all/${n}`];case"shipping-profiles":return[`/api/shipping/profiles/${n}`];case"inventory":return["/api/products",n];case"orders":return["/api/orders",n];default:return[`/api/admin/users/${n}/${r}`]}},{data:o,isLoading:l}=$e({queryKey:a(),enabled:!!n&&!!r}),h=(o?o.products?o.products:o.orders?o.orders:Array.isArray(o)?o:Array.isArray(o.data)?o.data:[]:[]).find(_=>(_._id||_.id)===i);if(l)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading details..."})]})})});if(!h)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Item not found"}),s.jsx(Y,{onClick:()=>t(`/admin/users/${n}`),className:"mt-4",children:"Back to User"})]})})});const g=()=>{switch(r){case"addresses":return yw;case"orders":return ja;case"shipping-profiles":return fu;case"inventory":return Jt;default:return Jt}},m=()=>{switch(r){case"addresses":return"Address Details";case"orders":return`Order #${h.invoice||h._id}`;case"shipping-profiles":return"Shipping Profile Details";case"inventory":return"Inventory Item Details";default:return"Item Details"}},w=g();return s.jsx(Me,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Y,{variant:"ghost",onClick:()=>t(`/admin/users/${n}`),"data-testid":"button-back-to-user",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to User"]})}),s.jsxs(qo,{defaultValue:"overview",className:"w-full",children:[s.jsxs(La,{children:[s.jsx(ut,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(ut,{value:"details","data-testid":"tab-details",children:"Details"}),r==="orders"&&s.jsx(ut,{value:"items","data-testid":"tab-items",children:"Items"}),r==="inventory"&&s.jsx(ut,{value:"reviews","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(ht,{value:"overview",children:s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(w,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{children:m()}),s.jsx(Ce,{children:"Basic information"})]})]})}),s.jsxs(te,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(Ve,{children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium",children:[h.address,", ",h.city,", ",h.region,", ",h.country]})]})]}),r==="orders"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Ve,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-2xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([_,C])=>_==="_id"||_==="__v"||_==="userId"||_==="user"||_==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:_.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof C=="object"&&C!==null?JSON.stringify(C):String(C||"N/A")})]},_))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([_,C])=>_==="_id"||_==="__v"||_==="userId"||_==="orderId"||_==="ownerId"||_==="favorite"||_==="deleted"||_==="reviews"||_==="favorited"||_==="discountedPrice"||_==="colors"||_==="tokshow"||_==="tiktokshow"?null:_==="images"&&Array.isArray(C)&&C.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((R,A)=>s.jsx("img",{src:R,alt:`Product ${A+1}`,className:"h-24 w-24 rounded object-cover border"},A))})]},_):_==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(Ve,{variant:C?"default":"secondary",children:C?"Yes":"No"})]},_):_==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(C||"N/A").replace(/_/g," ")})]},_):_==="sizes"&&Array.isArray(C)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:C.join(", ")||"N/A"})]},_):_==="category"&&typeof C=="object"&&C!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:C.name||"N/A"})]},_):(_==="shippingProfile"||_==="shipping_profile")&&typeof C=="object"&&C!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:C.name||"N/A"})]},_):s.jsxs("div",{className:_==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:_.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof C=="object"&&C!==null?JSON.stringify(C):String(C||"N/A")})]},_))})]})]})}),s.jsx(ht,{value:"details",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Complete Details"}),s.jsx(Ce,{children:"All available information"})]}),s.jsxs(te,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address Type"}),s.jsx("p",{className:"font-medium text-lg",children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Street Address"}),s.jsx("p",{className:"font-medium text-lg",children:h.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City"}),s.jsx("p",{className:"font-medium text-lg",children:h.city})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Region/State"}),s.jsx("p",{className:"font-medium text-lg",children:h.region})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Postal Code"}),s.jsx("p",{className:"font-medium text-lg",children:h.postalCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium text-lg",children:h.country})]})]}),r==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invoice Number"}),s.jsx("p",{className:"font-medium",children:h.invoice||h._id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Ve,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"font-medium",children:h.notes||"No notes"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((f=h.customer)==null?void 0:f.firstName)||""} ${((x=h.customer)==null?void 0:x.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((N=h.customer)==null?void 0:N.email)||"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),s.jsx("p",{className:"font-medium",children:(j=h.customer)!=null&&j.address?`${h.customer.address.addrress1}, ${h.customer.address.city}, ${h.customer.address.state} ${h.customer.address.zipcode}`:"N/A"})]}),((S=(v=h.customer)==null?void 0:v.address)==null?void 0:S.phone)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:h.customer.address.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seller Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((y=h.seller)==null?void 0:y.firstName)||""} ${((E=h.seller)==null?void 0:E.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((D=h.seller)==null?void 0:D.email)||"N/A"})]}),((k=h.seller)==null?void 0:k.userName)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium",children:h.seller.userName})]})]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([_,C])=>_==="_id"||_==="__v"||_==="userId"||_==="user"||_==="taxCode"?null:s.jsxs("div",{className:_==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:_.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof C=="object"&&C!==null?JSON.stringify(C):String(C||"N/A")})]},_))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([_,C])=>_==="_id"||_==="__v"||_==="userId"||_==="orderId"||_==="ownerId"||_==="favorite"||_==="deleted"||_==="reviews"||_==="favorited"||_==="discountedPrice"||_==="colors"||_==="tokshow"||_==="tiktokshow"?null:_==="images"&&Array.isArray(C)&&C.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((R,A)=>s.jsx("img",{src:R,alt:`Product ${A+1}`,className:"h-24 w-24 rounded object-cover border"},A))})]},_):_==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(Ve,{variant:C?"default":"secondary",children:C?"Yes":"No"})]},_):_==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(C||"N/A").replace(/_/g," ")})]},_):_==="sizes"&&Array.isArray(C)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:C.join(", ")||"N/A"})]},_):_==="category"&&typeof C=="object"&&C!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:C.name||"N/A"})]},_):(_==="shippingProfile"||_==="shipping_profile")&&typeof C=="object"&&C!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:C.name||"N/A"})]},_):s.jsxs("div",{className:_==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:_.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof C=="object"&&C!==null?JSON.stringify(C):String(C||"N/A")})]},_))})]})]})}),r==="orders"&&s.jsx(ht,{value:"items",children:s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{children:"Order Items"}),s.jsx(Ce,{children:"Products in this order"})]})]})}),s.jsx(te,{children:!h.items||h.items.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No items in this order"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Product"}),s.jsx(ne,{children:"Quantity"}),s.jsx(ne,{children:"Price"}),s.jsx(ne,{className:"text-right",children:"Total"})]})}),s.jsx(hn,{children:h.items.map((_,C)=>{var R;return s.jsxs(nt,{children:[s.jsx(se,{className:"font-medium",children:((R=_.productId)==null?void 0:R.name)||"N/A"}),s.jsx(se,{children:_.quantity||1}),s.jsxs(se,{children:["$",_.price||0]}),s.jsxs(se,{className:"text-right",children:["$",(_.quantity||1)*(_.price||0)]})]},_._id||C)})})]})})})]})}),r==="inventory"&&s.jsx(ht,{value:"reviews",children:s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{children:"Product Reviews"}),s.jsx(Ce,{children:"Customer reviews for this product"})]})]})}),s.jsx(te,{children:!h.reviews||h.reviews.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No reviews yet"}):s.jsx("div",{className:"space-y-4",children:h.reviews.map((_,C)=>{var R;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_.userName||((R=_.user)==null?void 0:R.name)||"Anonymous"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.createdAt?new Date(_.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:_.rating||"N/A"}),s.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/ 5"})]})]}),s.jsx("p",{className:"text-sm",children:_.comment||_.review||"No comment"})]},_._id||C)})})})]})})]})]})})}function YW(){var _;const[,t]=an(),[e,n]=p.useState(""),[r,i]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState("all"),[d,h]=p.useState(!1),[g,m]=p.useState(1),[w]=p.useState(10);let f=`/api/admin/products?page=${g}&limit=${w}`;e&&(f+=`&title=${encodeURIComponent(e)}`),r&&r!=="all"&&(f+=`&category=${encodeURIComponent(r)}`),l&&l!=="all"&&(f+=`&price=${encodeURIComponent(l)}`);const{data:x,isLoading:N}=$e({queryKey:[f]}),j=((_=x==null?void 0:x.data)==null?void 0:_.products)||[],v=new Map;j.forEach(C=>{if(C.category){const R=typeof C.category=="object"?C.category._id:C.category,A=typeof C.category=="object"?C.category.name:C.category;R&&!v.has(R)&&v.set(R,A)}});const S=Array.from(v.entries()).map(([C,R])=>({id:C,name:R})),y=a&&a!=="all"?j.filter(C=>(C.status||"active")===a):j,E=x!=null&&x.data?{currentPage:g,totalPages:x.data.pages,totalItems:x.data.totalDoc,hasNextPage:g<x.data.pages,hasPrevPage:g>1}:void 0;p.useEffect(()=>{m(1)},[e,r,a,l]);const D=()=>{n(""),i("all"),o("all"),c("all")},k=e||r&&r!=="all"||a&&a!=="all"||l&&l!=="all";return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Products"}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-products",children:(E==null?void 0:E.totalItems)||j.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All products in inventory"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Active Products"}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-products",children:j.filter(C=>C.status==="active"||!C.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Categories"}),s.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-categories-count",children:new Set(j.map(C=>{var R;return((R=C.category)==null?void 0:R._id)||C.category}).filter(Boolean)).size}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique categories"})]})]})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"All Products"}),s.jsx(Ce,{children:"View and manage all product inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>h(!d),"data-testid":"button-toggle-filters",className:"whitespace-nowrap",children:[s.jsx($c,{className:"h-4 w-4 mr-2"}),"Filters",k&&s.jsx(Ve,{variant:"secondary",className:"ml-2",children:[e,r!=="all"&&r,a!=="all"&&a,l!=="all"&&l].filter(Boolean).length})]}),k&&s.jsx(Y,{variant:"ghost",size:"sm",onClick:D,"data-testid":"button-clear-filters",children:s.jsx(Is,{className:"h-4 w-4"})})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search products...",value:e,onChange:C=>n(C.target.value),className:"pl-10","data-testid":"input-search-products"})]}),s.jsxs(mn,{value:r,onValueChange:i,children:[s.jsx(nn,{"data-testid":"select-category-filter",children:s.jsx(pn,{placeholder:"All Categories"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All Categories"}),S.map(C=>s.jsx(ae,{value:C.id,children:C.name},C.id))]})]}),s.jsxs(mn,{value:a,onValueChange:o,children:[s.jsx(nn,{"data-testid":"select-status-filter",children:s.jsx(pn,{placeholder:"All Status"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All Status"}),s.jsx(ae,{value:"active",children:"Active"}),s.jsx(ae,{value:"inactive",children:"Inactive"}),s.jsx(ae,{value:"draft",children:"Draft"})]})]}),s.jsxs(mn,{value:l,onValueChange:c,children:[s.jsx(nn,{"data-testid":"select-price-filter",children:s.jsx(pn,{placeholder:"All Prices"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All Prices"}),s.jsx(ae,{value:"0-25",children:"$0 - $25"}),s.jsx(ae,{value:"25-50",children:"$25 - $50"}),s.jsx(ae,{value:"50-100",children:"$50 - $100"}),s.jsx(ae,{value:"100-",children:"$100+"})]})]})]})]})}),s.jsx(te,{children:N?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[250px]",children:"Product"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Owner"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Category"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Type"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Price"}),s.jsx(ne,{className:"hidden 2xl:table-cell",children:"Stock"}),s.jsx(ne,{className:"hidden 2xl:table-cell",children:"Featured"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:y.map(C=>{var R,A,T;return s.jsxs(nt,{"data-testid":`row-product-${C._id||C.id}`,onClick:()=>t(`/admin/products/${C._id||C.id}`),className:"cursor-pointer hover-elevate",children:[s.jsx(se,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[(R=C.images)!=null&&R[0]?s.jsx("img",{src:C.images[0],alt:C.name,className:"h-10 w-10 rounded object-cover flex-shrink-0"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(Jt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:C.name}),s.jsxs("div",{className:"text-sm text-muted-foreground sm:hidden truncate",children:["Owner: ",typeof C.ownerId=="object"?C.ownerId.userName||C.ownerId.email||"Unknown":"N/A"]})]})]})}),s.jsx(se,{className:"hidden sm:table-cell","data-testid":`text-owner-${C._id||C.id}`,children:s.jsx("div",{className:"max-w-[150px]",children:typeof C.ownerId=="object"?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium truncate",children:C.ownerId.firstName&&C.ownerId.lastName?`${C.ownerId.firstName} ${C.ownerId.lastName}`:C.ownerId.userName||"Unknown"}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:C.ownerId.email||""})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),s.jsx(se,{className:"hidden md:table-cell","data-testid":`text-category-${C._id||C.id}`,children:((A=C.category)==null?void 0:A.name)||C.category||"Uncategorized"}),s.jsx(se,{className:"hidden md:table-cell","data-testid":`text-type-${C._id||C.id}`,children:s.jsx(Ve,{variant:C.listing_type==="auction"?"default":C.listing_type==="giveaway"?"secondary":"outline",children:C.listing_type==="auction"?"Auction":C.listing_type==="giveaway"?"Giveaway":C.listing_type==="buy_now"?"Buy Now":C.listing_type||"Unknown"})}),s.jsxs(se,{className:"hidden xl:table-cell","data-testid":`text-price-${C._id||C.id}`,children:["$",((T=C.price)==null?void 0:T.toFixed(2))||"0.00"]}),s.jsx(se,{className:"hidden 2xl:table-cell",children:C.quantity||0}),s.jsx(se,{className:"hidden 2xl:table-cell",children:s.jsx(Ve,{variant:C.featured?"default":"outline","data-testid":`badge-featured-${C._id||C.id}`,children:C.featured?"Yes":"No"})}),s.jsx(se,{children:s.jsx(Ve,{variant:C.status==="active"||!C.status?"default":"secondary",children:C.status||"active"})}),s.jsx(se,{className:"text-right",children:s.jsxs(Y,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),t(`/admin/products/${C._id||C.id}`)},"data-testid":`button-view-product-${C._id||C.id}`,className:"whitespace-nowrap",children:[s.jsx(Ta,{className:"h-4 w-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"View Details"})]})})]},C._id||C.id)})})]})}),E&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",E.currentPage," of ",E.totalPages," (",E.totalItems," total products)"]}),s.jsxs("span",{className:"sm:hidden",children:[E.currentPage," / ",E.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>m(g-1),disabled:!E.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>m(g+1),disabled:!E.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Fr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function QW(){var o,l;const[,t]=an(),[,e]=Zo("/admin/products/:productId"),{user:n}=Ha(),r=e==null?void 0:e.productId;p.useEffect(()=>{n!=null&&n.admin||t("/")},[n==null?void 0:n.admin,t]);const{data:i,isLoading:a}=$e({queryKey:[`/api/products/${r}`],enabled:!!r});return a?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading product details..."})]})})}):i?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs(Y,{variant:"ghost",onClick:()=>t("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{className:"text-2xl",children:i.name}),s.jsx(Ve,{variant:i.status==="active"||!i.status?"default":"secondary",children:i.status||"active"})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-sm",children:i.description||"No description provided"})]}),i.images&&i.images.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center",children:[s.jsx(UF,{className:"h-4 w-4 mr-2"}),"Product Images"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.images.map((c,d)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:c,alt:`${i.name} - ${d+1}`,className:"w-full h-full object-cover"})},d))})]})]})]}),i.ownerId&&s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"text-lg flex items-center",children:[s.jsx(gs,{className:"h-5 w-5 mr-2"}),"Product Owner"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:typeof i.ownerId=="object"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-name",children:i.ownerId.firstName&&i.ownerId.lastName?`${i.ownerId.firstName} ${i.ownerId.lastName}`:i.ownerId.userName||"Unknown"})]}),i.ownerId.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-sm break-all","data-testid":"text-owner-email",children:i.ownerId.email})]}),i.ownerId.country&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-country",children:i.ownerId.country})]}),i.ownerId.seller!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(Ve,{variant:i.ownerId.seller?"default":"secondary",children:i.ownerId.seller?"Seller":"Customer"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-owner-id",children:String(i.ownerId)})]})}),s.jsx(Y,{variant:"outline",className:"w-full mt-4",onClick:()=>t(`/admin/users/${i.ownerId._id||i.ownerId}`),"data-testid":"button-view-seller",children:"View Full Profile"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"text-lg flex items-center",children:[s.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Pricing"]})}),s.jsx(te,{children:s.jsxs("div",{className:"text-3xl font-bold","data-testid":"text-product-price",children:["$",((o=i.price)==null?void 0:o.toFixed(2))||"0.00"]})})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"text-lg flex items-center",children:[s.jsx(PF,{className:"h-5 w-5 mr-2"}),"Stock"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"text-3xl font-bold","data-testid":"text-product-stock",children:i.quantity||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"units available"})]})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"text-lg flex items-center",children:[s.jsx(XF,{className:"h-5 w-5 mr-2"}),"Category"]})}),s.jsx(te,{children:s.jsx("p",{className:"text-sm","data-testid":"text-product-category",children:((l=i.category)==null?void 0:l.name)||i.category||"Uncategorized"})})]}),i.shipping_profile&&s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"text-lg flex items-center",children:[s.jsx(fu,{className:"h-5 w-5 mr-2"}),"Shipping Profile"]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-3 text-sm",children:typeof i.shipping_profile=="object"&&i.shipping_profile?s.jsxs(s.Fragment,{children:[i.shipping_profile.name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-name",children:i.shipping_profile.name})]}),i.shipping_profile.weight!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Weight"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-weight",children:[i.shipping_profile.weight," ",i.shipping_profile.scale||"oz"]})]}),(i.shipping_profile.length||i.shipping_profile.width||i.shipping_profile.height)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dimensions (L  W  H)"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-dimensions",children:[i.shipping_profile.length||0,"  ",i.shipping_profile.width||0,"  ",i.shipping_profile.height||0," in"]})]}),i.shipping_profile.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Description"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-description",children:i.shipping_profile.description})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Profile ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-shipping-id",children:String(i.shipping_profile)})]})})})]})]})]})]})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs(Y,{variant:"ghost",onClick:()=>t("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Product not found"})]})]})})}function XW(){const[,t]=an(),{toast:e}=Vt(),[n,r]=p.useState(""),[i,a]=p.useState("all"),[o,l]=p.useState(!1),{data:c,isLoading:d}=$e({queryKey:["admin-all-orders"],queryFn:async()=>{const v=await fetch("/api/orders",{credentials:"include"});if(!v.ok)throw new Error("Failed to fetch orders");return await v.json()}}),h=(c==null?void 0:c.orders)||(c==null?void 0:c.data)||[],g=rt({mutationFn:async({id:v,type:S})=>wt("PUT",`/api/admin/refund/${v}`,{type:S}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["admin-all-orders"]}),e({title:"Success",description:"Refund processed successfully"})},onError:v=>{e({title:"Error",description:v.message||"Failed to process refund",variant:"destructive"})}}),m=h.filter(v=>{var S;if(n){const y=String(v.invoice||v._id||"").toLowerCase(),E=typeof v.customer=="object"&&(`${v.customer.firstName||""} ${v.customer.lastName||""}`.trim()||v.customer.userName||v.customer.email)||"",D=n.toLowerCase();if(!y.includes(D)&&!E.toLowerCase().includes(D))return!1}return!(i!=="all"&&((S=v.status)==null?void 0:S.toLowerCase())!==i.toLowerCase())}),w=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",f=v=>{switch(v==null?void 0:v.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}},x=()=>{r(""),a("all")},N=n||i!=="all",j=[n,i!=="all"].filter(Boolean).length;return d?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsx(Z,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]})})})]})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ja,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{children:"All Orders"}),s.jsxs(Ce,{children:[m.length," of ",h.length," orders"]})]})]}),s.jsxs(Y,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),"data-testid":"button-toggle-filters",children:[s.jsx($c,{className:"h-4 w-4 mr-2"}),"Filters",j>0&&s.jsx(Ve,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:j})]})]}),o&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Invoice or customer...",value:n,onChange:v=>r(v.target.value),className:"pl-9","data-testid":"input-search-orders"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(mn,{value:i,onValueChange:a,children:[s.jsx(nn,{"data-testid":"select-status-filter",children:s.jsx(pn,{placeholder:"All statuses"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All Statuses"}),s.jsx(ae,{value:"pending",children:"Pending"}),s.jsx(ae,{value:"processing",children:"Processing"}),s.jsx(ae,{value:"shipped",children:"Shipped"}),s.jsx(ae,{value:"delivered",children:"Delivered"}),s.jsx(ae,{value:"completed",children:"Completed"}),s.jsx(ae,{value:"cancelled",children:"Cancelled"})]})]})]})]}),N&&s.jsxs(Y,{variant:"ghost",size:"sm",onClick:x,"data-testid":"button-clear-filters",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(te,{children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ja,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:N?"No orders match your filters":"No orders found"}),N&&s.jsx(Y,{variant:"outline",onClick:x,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Customer"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:m.map(v=>{var C;const S=v._id||v.id,y=v.invoice||S,E=typeof v.customer=="object"&&v.customer!==null?`${v.customer.firstName||""} ${v.customer.lastName||""}`.trim()||v.customer.userName||v.customer.email:"Unknown",D=((C=v.items)==null?void 0:C.length)||0,_=(()=>{if(v.totalAmount||v.total)return v.totalAmount||v.total;if(!v.items||v.items.length===0)return 0;const R=v.items.reduce((I,F)=>{const K=F.price||0,z=F.quantity||1;return I+K*z},0),A=v.shipping_fee||v.shippingFee||v.shipping||0,T=v.tax||0;return R+A+T})();return s.jsxs(nt,{children:[s.jsx(se,{className:"font-mono text-xs","data-testid":`text-order-id-${S}`,children:y}),s.jsx(se,{"data-testid":`text-customer-${S}`,children:E}),s.jsx(se,{"data-testid":`text-date-${S}`,children:w(v.createdAt||v.orderDate)}),s.jsxs(se,{"data-testid":`text-items-${S}`,children:[D," ",D===1?"item":"items"]}),s.jsxs(se,{"data-testid":`text-total-${S}`,children:["$",_.toFixed(2)]}),s.jsx(se,{children:s.jsx(Ve,{variant:f(v.status),"data-testid":`badge-status-${S}`,children:v.status||"pending"})}),s.jsx(se,{className:"text-right",children:s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,children:s.jsx(Y,{variant:"ghost",size:"sm","data-testid":`button-actions-${S}`,children:s.jsx(Lc,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[s.jsxs(wn,{onClick:()=>t(`/admin/orders/${S}`),"data-testid":`menu-view-order-${S}`,children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Ci,{}),s.jsxs(wn,{onClick:()=>{g.mutate({id:S,type:"order"})},disabled:g.isPending,"data-testid":`menu-refund-order-${S}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Refund Order"]})]})]})})]},S)})})]})})})]})]})})}function ZW(){var x,N;const[,t]=an(),[,e]=Zo("/admin/orders/:orderId"),n=e==null?void 0:e.orderId,{data:r,isLoading:i}=$e({queryKey:[`admin-order-${n}`],queryFn:async()=>{const j=await fetch(`/api/orders/${n}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch order");const v=await j.json();return v.success?v.data:v},enabled:!!n}),a=(r==null?void 0:r.order)||(r==null?void 0:r.data)||r,o=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",l=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}};if(i)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(!a)return s.jsx(Me,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),s.jsx(Y,{onClick:()=>t("/admin/orders"),className:"mt-4",children:"Back to Orders"})]})})});const c=typeof a.customer=="object"?`${a.customer.firstName||""} ${a.customer.lastName||""}`.trim()||a.customer.userName||a.customer.email:"Unknown",d=typeof a.customer=="object"?a.customer.email:"",g=!a.items||a.items.length===0?0:a.items.reduce((j,v)=>{const S=v.price||0,y=v.quantity||1;return j+S*y},0),m=a.shipping_fee||a.shippingFee||a.shipping||0,w=a.tax||0,f=g+m+w;return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(Y,{variant:"ghost",onClick:()=>t("/admin/orders"),className:"mb-4","data-testid":"button-back-to-orders",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Order Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order ID: ",a.invoice||n]})]}),s.jsx(Ve,{variant:l(a.status),className:"text-lg py-2 px-4 w-fit","data-testid":"badge-order-status",children:a.status||"pending"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center",children:[s.jsx(Jt,{className:"h-5 w-5 mr-2"}),"Order Items"]}),s.jsxs(Ce,{children:[((x=a.items)==null?void 0:x.length)||0," items"]})]}),s.jsx(te,{children:a.items&&a.items.length>0?s.jsx("div",{className:"space-y-4",children:a.items.map((j,v)=>{var k,_,C,R,A,T;const S=((k=j.productId)==null?void 0:k.name)||((_=j.productId)==null?void 0:_.title)||j.name||j.title||"Unknown Product",y=((C=j.productId)==null?void 0:C.image)||((A=(R=j.productId)==null?void 0:R.images)==null?void 0:A[0])||j.image||((T=j.images)==null?void 0:T[0]),E=j.quantity||1,D=j.price||0;return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg","data-testid":`order-item-${v}`,children:[y&&s.jsx("img",{src:y,alt:S,className:"w-16 h-16 object-cover rounded","data-testid":`img-product-${v}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium","data-testid":`text-product-name-${v}`,children:S}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",E]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(D*E).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",D.toFixed(2)," each"]})]})]},v)})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items found"})})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(vc,{className:"h-5 w-5 mr-2"}),"Order Summary"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3","data-testid":"order-summary",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",g.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee"}),s.jsxs("span",{children:["$",m.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",w.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-3 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-order-total",children:["$",f.toFixed(2)]})]})]})})]}),a.shippingAddress&&s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(yw,{className:"h-5 w-5 mr-2"}),"Shipping Address"]})}),s.jsx(te,{children:s.jsxs("div",{className:"text-sm space-y-1","data-testid":"shipping-address",children:[a.shippingAddress.street&&s.jsx("p",{children:a.shippingAddress.street}),a.shippingAddress.city&&s.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.state&&`, ${a.shippingAddress.state}`,a.shippingAddress.zipCode&&` ${a.shippingAddress.zipCode}`]}),a.shippingAddress.country&&s.jsx("p",{children:a.shippingAddress.country})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(gs,{className:"h-5 w-5 mr-2"}),"Customer"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3","data-testid":"customer-info",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}),((N=a.customer)==null?void 0:N.address)&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Shipping Address"}),s.jsxs("div",{className:"text-sm space-y-1",children:[a.customer.address.street&&s.jsx("p",{children:a.customer.address.street}),a.customer.address.city&&s.jsxs("p",{children:[a.customer.address.city,a.customer.address.state&&`, ${a.customer.address.state}`]}),(a.customer.address.zipcode||a.customer.address.zipCode)&&s.jsx("p",{children:a.customer.address.zipcode||a.customer.address.zipCode}),a.customer.address.country&&s.jsx("p",{children:a.customer.address.country}),a.customer.address.email&&s.jsx("p",{className:"pt-1 text-muted-foreground",children:a.customer.address.email}),a.customer.address.phone&&s.jsx("p",{className:"text-muted-foreground",children:a.customer.address.phone})]})]})]})})]}),a.seller&&s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(QF,{className:"h-5 w-5 mr-2"}),"Seller"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2","data-testid":"seller-info",children:[s.jsx("p",{className:"font-medium",children:typeof a.seller=="object"?`${a.seller.firstName||""} ${a.seller.lastName||""}`.trim()||a.seller.userName||a.seller.email:a.seller}),typeof a.seller=="object"&&a.seller.email&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.seller.email})]})})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(fu,{className:"h-5 w-5 mr-2"}),"Order Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2 text-sm","data-testid":"order-info",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:o(a.createdAt||a.orderDate)})]}),a.shippeddate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipped Date"}),s.jsx("p",{className:"font-medium",children:o(a.shippeddate)})]}),a.payment_status&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),s.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-status",children:a.payment_status})]}),a.orderType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),s.jsx("p",{className:"font-medium capitalize",children:a.orderType})]}),a.tracking_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"font-medium font-mono text-xs","data-testid":"text-tracking-number",children:a.tracking_number})]}),a.tracking_url&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking URL"}),s.jsx("a",{href:a.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline block break-all","data-testid":"link-tracking-url",children:"Track Package "})]}),a.label&&s.jsx("div",{className:"pt-2",children:s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>window.open(a.label,"_blank"),className:"w-full","data-testid":"button-print-label",children:[s.jsx(fu,{className:"h-4 w-4 mr-2"}),"Print Shipping Label"]})})]})})]})]})]})]})})}function JW(){const{toast:t}=Vt(),{settings:e}=tl(),[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState(!1),[h,g]=p.useState(1),{data:m,isLoading:w}=$e({queryKey:["admin-transactions"],queryFn:async()=>{const A=await fetch("/api/admin/transactions",{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch transactions");const T=await A.json();return T.success?T.data:T}}),{data:f,isLoading:x}=$e({queryKey:["admin-refunds",h],queryFn:async()=>{const A=await fetch(`/api/admin/refunds?limit=10&page=${h}`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch refunds");const T=await A.json();return T.success?T.data:T}}),{data:N}=$e({queryKey:["admin-settings"],queryFn:async()=>{const A=await fetch("/api/admin/settings",{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch settings");const T=await A.json();return T.success?T.data:T}}),j=(m==null?void 0:m.transactions)||(m==null?void 0:m.data)||[],v=(N==null?void 0:N.support_email)||"",S=(N==null?void 0:N.stripe_fee)||"0",y=(N==null?void 0:N.extra_charges)||"0",E=rt({mutationFn:async({id:A,type:T})=>wt("PUT",`/api/admin/refund/${A}`,{type:T}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["admin-transactions"]}),t({title:"Success",description:"Refund processed successfully"})},onError:A=>{t({title:"Error",description:A.message||"Failed to process refund",variant:"destructive"})}}),D=j.filter(A=>{if(n){const T=n.toLowerCase(),I=String(A._id||A.id||"").toLowerCase(),F=typeof A.from=="object"&&(`${A.from.firstName||""} ${A.from.lastName||""}`.trim()||A.from.userName||A.from.email)||"",K=typeof A.to=="object"&&(`${A.to.firstName||""} ${A.to.lastName||""}`.trim()||A.to.userName||A.to.email)||"";if(!I.includes(T)&&!F.toLowerCase().includes(T)&&!K.toLowerCase().includes(T))return!1}return!0}),k=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",_=A=>{switch(A==null?void 0:A.toLowerCase()){case"completed":case"success":return"default";case"pending":return"secondary";case"failed":case"cancelled":return"destructive";default:return"secondary"}},C=()=>{r("")},R=n;return w?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions"})]}),s.jsx(Z,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading transactions..."})]})})})]})}):s.jsxs(Me,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions and refunds"})]}),s.jsxs(qo,{defaultValue:"transactions",className:"space-y-4",children:[s.jsxs(La,{children:[s.jsx(ut,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),s.jsx(ut,{value:"refunds","data-testid":"tab-refunds",children:"Refunds"})]}),s.jsx(ht,{value:"transactions",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vc,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{children:"Transaction History"}),s.jsxs(Ce,{children:[D.length," of ",j.length," transactions"]})]})]}),s.jsxs(Y,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!i),"data-testid":"button-toggle-filters",children:[s.jsx($c,{className:"h-4 w-4 mr-2"}),"Filters",R&&s.jsx(Ve,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:"1"})]})]}),i&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Transaction ID or user...",value:n,onChange:A=>r(A.target.value),className:"pl-9","data-testid":"input-search-transactions"})]})]})}),R&&s.jsxs(Y,{variant:"ghost",size:"sm",onClick:C,"data-testid":"button-clear-filters",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(te,{children:D.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(vc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:R?"No transactions match your filters":"No transactions found"}),R&&s.jsx(Y,{variant:"outline",onClick:C,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Transaction ID"}),s.jsx(ne,{children:"From"}),s.jsx(ne,{children:"To"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:D.map(A=>{const T=A._id||A.id,I=typeof A.from=="object"&&(`${A.from.firstName||""} ${A.from.lastName||""}`.trim()||A.from.userName||A.from.email)||"Unknown",F=typeof A.to=="object"&&(`${A.to.firstName||""} ${A.to.lastName||""}`.trim()||A.to.userName||A.to.email)||"Unknown",K=A.amount||0,z=A.type||"N/A",V=A.status||"pending";return s.jsxs(nt,{children:[s.jsx(se,{className:"font-mono text-xs","data-testid":`text-transaction-id-${T}`,children:String(T).slice(-8)}),s.jsx(se,{"data-testid":`text-from-${T}`,children:I}),s.jsx(se,{"data-testid":`text-to-${T}`,children:F}),s.jsx(se,{"data-testid":`text-type-${T}`,children:s.jsx("span",{className:"capitalize",children:z})}),s.jsxs(se,{"data-testid":`text-amount-${T}`,children:["$",K.toFixed(2)]}),s.jsx(se,{"data-testid":`text-date-${T}`,children:k(A.createdAt||A.date)}),s.jsx(se,{children:s.jsx(Ve,{variant:_(V),"data-testid":`badge-status-${T}`,children:V})}),s.jsx(se,{className:"text-right",children:s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,children:s.jsx(Y,{variant:"ghost",size:"sm","data-testid":`button-actions-${T}`,children:s.jsx(Lc,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[s.jsxs(wn,{onClick:()=>{A.receipt?window.open(A.receipt,"_blank"):(l(A),d(!0))},"data-testid":`menu-print-receipt-${T}`,children:[s.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),s.jsx(Ci,{}),s.jsxs(wn,{onClick:()=>{E.mutate({id:T,type:"transaction"})},disabled:E.isPending,"data-testid":`menu-refund-transaction-${T}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Refund Transaction"]})]})]})})]},T)})})]})})})]})}),s.jsx(ht,{value:"refunds",children:s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pr,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ie,{children:"Refunds"}),s.jsx(Ce,{children:"View all processed refunds"})]})]})}),s.jsx(te,{children:x?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading refunds..."})]}):!(f!=null&&f.data)||f.data.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No refunds found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Refund ID"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Reason"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Status"})]})}),s.jsx(hn,{children:f.data.map(A=>{const T=A.id,I=(A.amount||0)/100;return s.jsxs(nt,{children:[s.jsx(se,{className:"font-mono text-xs","data-testid":`text-refund-id-${T}`,children:String(T).slice(-8)}),s.jsxs(se,{"data-testid":`text-amount-${T}`,children:["$",I.toFixed(2)]}),s.jsx(se,{"data-testid":`text-reason-${T}`,children:A.reason||"N/A"}),s.jsx(se,{"data-testid":`text-date-${T}`,children:k(new Date(A.created*1e3).toISOString())}),s.jsx(se,{children:s.jsx(Ve,{variant:_(A.status),"data-testid":`badge-status-${T}`,children:A.status})})]},T)})})]})})})]})})]})]}),s.jsx(oi,{open:c,onOpenChange:d,children:s.jsxs(br,{className:"max-w-md",children:[s.jsx(Nr,{children:s.jsx(_r,{children:"Transaction Receipt"})}),o&&s.jsxs("div",{id:"receipt-content",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:e.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(o._id||o.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:k(o.createdAt||o.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:o.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(Ve,{variant:_(o.status||"pending"),children:o.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof o.from=="object"&&(`${o.from.firstName||""} ${o.from.lastName||""}`.trim()||o.from.userName||o.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof o.to=="object"&&(`${o.to.firstName||""} ${o.to.lastName||""}`.trim()||o.to.userName||o.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(o.total)||0).toFixed(2)]})]}),(()=>{const A=parseFloat(o.stripe_fee)||0,T=parseFloat(o.extra_charges)||0,I=A+T;return I>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",S,"% + ",y,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",I.toFixed(2)]})]})})(),o.serviceFee&&parseFloat(o.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.serviceFee).toFixed(2)]})]}),o.shippingFee&&parseFloat(o.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(o.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",v]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(Y,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(Y,{onClick:()=>{const A=document.getElementById("receipt-content");if(A){const T=window.open("","_blank");T&&(T.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${A.innerHTML}
                        </body>
                      </html>
                    `),T.document.close(),T.focus(),setTimeout(()=>{T.print(),T.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]})}function eH(){const[t,e]=p.useState(""),[n,r]=p.useState(1),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,g]=p.useState(""),m=10,f=(()=>{const z=new URLSearchParams;return i&&i!=="all"&&z.append("status",i),o&&z.append("from",o),c&&z.append("to",c),z.append("limit",m.toString()),h&&n>1&&z.append("starting_after",h),z.toString()})(),{data:x,isLoading:N}=$e({queryKey:["/api/admin/stripe-payouts",i,o,c,h,n],queryFn:async()=>{const z=`/api/admin/stripe-payouts${f?"?"+f:""}`;return console.log("Fetching payouts from:",z),(await fetch(z,{credentials:"include"})).json()},staleTime:0,refetchOnMount:!0}),j=(x==null?void 0:x.data)||[],v=(x==null?void 0:x.has_more)||!1,S=j.filter(z=>{var V;if(t){const L=t.toLowerCase(),B=(((V=z.destination)==null?void 0:V.bank_name)||"").toLowerCase(),oe=(z.id||"").toLowerCase();if(!B.includes(L)&&!oe.includes(L))return!1}return!0}),y=S.reduce((z,V)=>z+(V.amount||0)/100,0),E=S.length,D=E>0?y/E:0;S.length;const k=S,_=(n-1)*m+1,C=(n-1)*m+S.length,R=v?`${C}+`:C,A=z=>{e(z),r(1),g("")},T=()=>{a(""),l(""),d(""),e(""),r(1),g("")},I=()=>{if(v&&j.length>0){const z=j[j.length-1];g(z.id),r(V=>V+1)}},F=()=>{r(1),g("")},K=i||o||c;return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Stripe Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"View Stripe payout transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Amount"}),s.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-amount",children:["$",y.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all payouts"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Payouts"}),s.jsx(bv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-count",children:E}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payout transactions"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Average Payout"}),s.jsx(Zk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-avg-payout",children:["$",D.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs(Z,{className:"mb-6",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($c,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(ie,{className:"text-lg",children:"Filters"})]}),K&&s.jsxs(Y,{variant:"ghost",size:"sm",onClick:T,"data-testid":"button-reset-filters",children:[s.jsx(Is,{className:"h-4 w-4 mr-1"}),"Reset"]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(mn,{value:i,onValueChange:a,children:[s.jsx(nn,{"data-testid":"select-status",children:s.jsx(pn,{placeholder:"All statuses"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All statuses"}),s.jsx(ae,{value:"paid",children:"Paid"}),s.jsx(ae,{value:"pending",children:"Pending"}),s.jsx(ae,{value:"in_transit",children:"In Transit"}),s.jsx(ae,{value:"canceled",children:"Canceled"}),s.jsx(ae,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"From Date"}),s.jsx(ee,{type:"date",value:o,onChange:z=>l(z.target.value),"data-testid":"input-date-from"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"To Date"}),s.jsx(ee,{type:"date",value:c,onChange:z=>d(z.target.value),"data-testid":"input-date-to"})]})]})})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Payout Transactions"}),s.jsx(Ce,{children:"Stripe payout history"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search by bank or ID...",value:t,onChange:z=>A(z.target.value),className:"pl-10","data-testid":"input-search-payouts"})]})]})}),s.jsxs(te,{children:[N?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payouts..."})]}):S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:t?"No payouts found matching your search":"No payouts found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[180px]",children:"Bank"}),s.jsx(ne,{className:"text-right",children:"Amount"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Currency"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Created"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Arrival Date"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Status"})]})}),s.jsx(hn,{children:k.map(z=>{var fe,de;const V=z.id,L=(z.amount||0)/100,B=z.created?new Date(z.created*1e3):null,oe=z.arrival_date?new Date(z.arrival_date*1e3):null,le=((fe=z.destination)==null?void 0:fe.bank_name)||"Bank Account",W=((de=z.destination)==null?void 0:de.last4)||"";return s.jsxs(nt,{"data-testid":`row-payout-${V}`,children:[s.jsx(se,{"data-testid":`text-bank-${V}`,children:s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("div",{className:"font-medium truncate",children:le}),W&&s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["****",W]})]})}),s.jsxs(se,{className:"text-right font-semibold","data-testid":`text-amount-${V}`,children:["$",L.toFixed(2)]}),s.jsx(se,{className:"hidden md:table-cell uppercase",children:z.currency||"USD"}),s.jsx(se,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),B?B.toLocaleDateString():"N/A"]})}),s.jsx(se,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),oe?oe.toLocaleDateString():"N/A"]})}),s.jsx(se,{children:s.jsx(Ve,{variant:z.automatic?"default":"outline",children:z.automatic?"Automatic":"Manual"})}),s.jsx(se,{className:"hidden sm:table-cell",children:s.jsx(Ve,{variant:"secondary",children:z.status||"Completed"})})]},V)})})]})}),S.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",_," to ",C," of ",R," payouts"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:F,disabled:n===1,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4"}),"Previous"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",n,v?"+":""]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:I,disabled:!v,"data-testid":"button-next-page",children:["Next",s.jsx(Fr,{className:"h-4 w-4"})]})]})]})]})]})]})})}function tH(){const[,t]=an(),[e,n]=p.useState(1),[r,i]=p.useState(10),[a,o]=p.useState(""),[l,c]=p.useState(""),{data:d,isLoading:h}=$e({queryKey:["/api/admin/shows",e,r,a,l]}),g=(d==null?void 0:d.data)||[],m=d?{currentPage:e,totalPages:d.pages||1,totalItems:d.totalDoc||0,hasNextPage:e<(d.pages||1),hasPrevPage:e>1}:null,w=g.filter(x=>x.status==="live").length,f=g.filter(x=>x.status==="scheduled").length;return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Live Shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all live shopping shows and rooms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Shows"}),s.jsx(yc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-shows",children:(m==null?void 0:m.totalItems)||g.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Live Now"}),s.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-live-shows",children:w}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Scheduled"}),s.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-scheduled-shows",children:f}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming shows"})]})]})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx(ie,{children:"Live Shows & Rooms"}),s.jsx(Ce,{children:"View and manage all live shows"})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search by title...",value:a,onChange:x=>{o(x.target.value),n(1)},className:"pl-10","data-testid":"input-search-title"})]}),s.jsxs(mn,{value:l,onValueChange:x=>{c(x==="all"?"":x),n(1)},children:[s.jsx(nn,{className:"w-full sm:w-[180px]","data-testid":"select-type",children:s.jsx(pn,{placeholder:"All Types"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All Types"}),s.jsx(ae,{value:"live",children:"Live"}),s.jsx(ae,{value:"scheduled",children:"Scheduled"}),s.jsx(ae,{value:"ended",children:"Ended"})]})]})]})]})}),s.jsx(te,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading shows..."})]}):g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:a||l?"No shows found matching your filters":"No shows found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[250px]",children:"Show Details"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Host"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Viewers"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Created"}),s.jsx(ne,{children:"Status"})]})}),s.jsx(hn,{children:g.map(x=>{var _,C,R,A,T,I;const N=x._id||x.id,j=x.createdAt?new Date(x.createdAt):null,v=(_=x.owner)!=null&&_.firstName?String(x.owner.firstName):"",S=(C=x.owner)!=null&&C.lastName?String(x.owner.lastName):"",y=(R=x.owner)!=null&&R.userName?String(x.owner.userName):"",E=(A=x.owner)!=null&&A.email?String(x.owner.email):"",D=(T=x.owner)!=null&&T.profilePhoto?String(x.owner.profilePhoto):"",k=!!x.owner;return s.jsxs(nt,{"data-testid":`row-show-${N}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>t(`/admin/shows/${N}`),children:[s.jsx(se,{className:"font-medium",children:s.jsxs("div",{className:"flex items-start gap-3",children:[x.thumbnail&&s.jsx("img",{src:x.thumbnail,alt:x.title||"Show",className:"w-16 h-16 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate","data-testid":`text-title-${N}`,children:String(x.title||x.name||"Untitled Show")}),((I=x.category)==null?void 0:I.name)&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx(Ve,{variant:"secondary",className:"text-xs",children:String(x.category.name)})}),x.description&&typeof x.description=="string"&&s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:x.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 md:hidden",children:[s.jsx(gs,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k&&(v||y)||"Unknown Host"})]})]})]})}),s.jsx(se,{className:"hidden md:table-cell",children:k?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(er,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(tr,{src:D}),s.jsxs(nr,{children:[(v||"U")[0],(S||"H")[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium truncate",children:[v," ",S]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:E})]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No host"})}),s.jsx(se,{className:"hidden lg:table-cell","data-testid":`text-viewers-${N}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"}),Array.isArray(x.viewers)?x.viewers.length:0]})}),s.jsx(se,{className:"hidden sm:table-cell",children:j?j.toLocaleDateString():"N/A"}),s.jsx(se,{children:(()=>{let F="unknown";if(x.ended===!0)F="ended";else if(x.started===!0&&x.ended===!1)F="live";else if(x.started===!1&&x.ended===!1){const V=x.startDate||x.date||x.createdAt;V&&new Date(V)>new Date&&(F="active")}const K=F==="live",z=F==="active"?"scheduled":F;return s.jsxs(Ve,{variant:K?"default":F==="active"?"secondary":"outline",className:K?"bg-green-600":"",children:[K&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),z.charAt(0).toUpperCase()+z.slice(1)]})})()})]},N)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total shows)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Show"}),s.jsxs(mn,{value:String(r),onValueChange:x=>{i(Number(x)),n(1)},children:[s.jsx(nn,{className:"w-[70px] h-8","data-testid":"select-limit",children:s.jsx(pn,{})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"10",children:"10"}),s.jsx(ae,{value:"25",children:"25"}),s.jsx(ae,{value:"50",children:"50"}),s.jsx(ae,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Fr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function nH(){var z,V,L,B,oe,le;const[,t]=an(),[,e]=Zo("/admin/shows/:showId"),n=e==null?void 0:e.showId,[r,i]=p.useState("overview"),{data:a,isLoading:o}=$e({queryKey:[`admin-show-${n}`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch show");const fe=await W.json();return fe.success?fe.data:fe},enabled:!!n}),{data:l,isLoading:c}=$e({queryKey:[`admin-show-${n}-auctions`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/auctions?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch auctions");return await W.json()},enabled:!!n&&r==="auctions"}),{data:d,isLoading:h}=$e({queryKey:[`admin-show-${n}-giveaways`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/giveaways?page=1&limit=20`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch giveaways");return await W.json()},enabled:!!n&&r==="giveaways"}),{data:g,isLoading:m}=$e({queryKey:[`admin-show-${n}-buy-now`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/buy-now?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch buy now items");return await W.json()},enabled:!!n&&r==="buy-now"}),{data:w,isLoading:f}=$e({queryKey:[`admin-show-${n}-sold`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/sold?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch sold items");return await W.json()},enabled:!!n&&r==="sold"}),x=(a==null?void 0:a.data)||a,N=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(o)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading show details..."})]})})});if(!x)return s.jsx(Me,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Show not found"}),s.jsx(Y,{onClick:()=>t("/admin/shows"),className:"mt-4","data-testid":"button-back-to-shows",children:"Back to Shows"})]})})});const j=(z=x.owner)!=null&&z.firstName?String(x.owner.firstName):"",v=(V=x.owner)!=null&&V.lastName?String(x.owner.lastName):"",S=(L=x.owner)!=null&&L.userName?String(x.owner.userName):"",y=(B=x.owner)!=null&&B.email?String(x.owner.email):"",E=(oe=x.owner)!=null&&oe.profilePhoto?String(x.owner.profilePhoto):"",D=!!x.owner;let k="unknown";if(x.ended===!0)k="ended";else if(x.started===!0&&x.ended===!1)k="live";else if(x.started===!1&&x.ended===!1){const W=x.startDate||x.date||x.createdAt;W&&new Date(W)>new Date&&(k="active")}const _=k==="live",C=x.activeauction,R=x.pinnedobject,A=(C==null?void 0:C.bids)||[],T=(l==null?void 0:l.data)||[],I=(d==null?void 0:d.data)||[],F=(g==null?void 0:g.data)||[],K=(w==null?void 0:w.data)||[];return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(Y,{variant:"ghost",onClick:()=>t("/admin/shows"),className:"mb-4","data-testid":"button-back-to-shows",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Shows"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground","data-testid":"text-show-title",children:String(x.title||x.name||"Untitled Show")}),s.jsx("p",{className:"text-muted-foreground",children:"Show Details"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ve,{variant:_?"default":k==="active"?"secondary":"outline",className:_?"bg-green-600":"",children:[_&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),k==="active"?"Scheduled":k.charAt(0).toUpperCase()+k.slice(1)]})})]})]}),s.jsxs(qo,{value:r,onValueChange:i,className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(La,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-5",children:[s.jsx(ut,{value:"overview","data-testid":"tab-overview",className:"flex-shrink-0 sm:flex-shrink",children:"Overview"}),s.jsxs(ut,{value:"auctions","data-testid":"tab-auctions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Mh,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Auctions"]}),s.jsxs(ut,{value:"giveaways","data-testid":"tab-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Oh,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Giveaways"]}),s.jsxs(ut,{value:"buy-now","data-testid":"tab-buy-now",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(ja,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Buy Now"]}),s.jsxs(ut,{value:"sold","data-testid":"tab-sold",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Jt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Sold"]})]})}),s.jsx(ht,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(yc,{className:"h-5 w-5"}),"Show Information"]})}),s.jsxs(te,{className:"space-y-4",children:[x.thumbnail&&s.jsx("img",{src:x.thumbnail,alt:x.title||"Show",className:"w-full h-64 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("p",{className:"text-foreground","data-testid":"text-show-description",children:x.description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Category"}),s.jsx("p",{className:"text-foreground",children:(le=x.category)!=null&&le.name?String(x.category.name):"N/A"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Viewers"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-foreground","data-testid":"text-viewer-count",children:Array.isArray(x.viewers)?x.viewers.length:0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("p",{className:"text-foreground",children:N(x.createdAt)})]}),x.date&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Scheduled Date"}),s.jsx("p",{className:"text-foreground",children:N(x.date)})]})]})]})]}),C&&s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Mh,{className:"h-5 w-5"}),"Active Auction"]}),s.jsx(Ce,{children:"Current auction in progress"})]}),s.jsxs(te,{className:"space-y-4",children:[C.product&&s.jsxs("div",{className:"flex items-start gap-4",children:[C.product.images&&C.product.images[0]&&s.jsx("img",{src:C.product.images[0],alt:C.product.name,className:"w-20 h-20 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium","data-testid":"text-auction-product-name",children:C.product.name}),C.product.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.product.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Starting Price"}),s.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":"text-auction-starting-price",children:["$",C.startingprice||0]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Current Bid"}),s.jsxs("p",{className:"text-lg font-bold text-green-600","data-testid":"text-auction-current-bid",children:["$",C.currentbid||C.startingprice||0]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(Ve,{variant:C.won?"default":"secondary",children:C.won?"Won":"In Progress"})]}),C.winner&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Winner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(er,{className:"h-8 w-8",children:[s.jsx(tr,{src:C.winner.profilePhoto}),s.jsxs(nr,{children:[(C.winner.firstName||"W")[0],(C.winner.lastName||"N")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[C.winner.firstName," ",C.winner.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:C.winner.email})]})]})]})]})]}),A.length>0&&s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),"Bids (",A.length,")"]}),s.jsx(Ce,{children:"All bids for the active auction"})]}),s.jsx(te,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Bidder"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Time"})]})}),s.jsx(hn,{children:A.map((W,fe)=>{var de,Ue,qe,ge,He,ze;return s.jsxs(nt,{"data-testid":`row-bid-${fe}`,children:[s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(er,{className:"h-8 w-8",children:[s.jsx(tr,{src:(de=W.user)==null?void 0:de.profilePhoto}),s.jsxs(nr,{children:[(((Ue=W.user)==null?void 0:Ue.firstName)||"B")[0],(((qe=W.user)==null?void 0:qe.lastName)||"D")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[(ge=W.user)==null?void 0:ge.firstName," ",(He=W.user)==null?void 0:He.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(ze=W.user)==null?void 0:ze.email})]})]})}),s.jsx(se,{children:s.jsxs("span",{className:"font-bold text-green-600","data-testid":`text-bid-amount-${fe}`,children:["$",W.amount||0]})}),s.jsx(se,{className:"text-muted-foreground",children:N(W.createdAt)})]},W._id||fe)})})]})})})]}),R&&s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(KF,{className:"h-5 w-5"}),"Pinned Object"]}),s.jsx(Ce,{children:"Currently pinned item in the show"})]}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[R.images&&R.images[0]&&s.jsx("img",{src:R.images[0],alt:R.name,className:"w-24 h-24 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-lg","data-testid":"text-pinned-name",children:R.name}),R.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price: "}),s.jsxs("span",{className:"font-bold text-foreground","data-testid":"text-pinned-price",children:["$",R.price||0]})]}),R.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Qty: "}),s.jsx("span",{className:"font-medium text-foreground",children:R.quantity})]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Host Information"]})}),s.jsx(te,{children:D?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(er,{className:"h-12 w-12",children:[s.jsx(tr,{src:E}),s.jsxs(nr,{children:[(j||"U")[0],(v||"H")[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium","data-testid":"text-host-name",children:[j," ",v]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",S]})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),s.jsx("p",{className:"text-sm","data-testid":"text-host-email",children:y})]}),x.owner.country&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Country"}),s.jsx("p",{className:"text-sm",children:x.owner.country})]}),x.owner.accountType&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Account Type"}),s.jsx(Ve,{variant:"secondary",children:x.owner.accountType})]})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No host information available"})})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Quick Stats"})}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show ID"}),s.jsx("span",{className:"text-xs font-mono",children:x._id||x.id||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Viewers"}),s.jsx("span",{className:"font-bold",children:Array.isArray(x.viewers)?x.viewers.length:0})]}),C&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Bids"}),s.jsx("span",{className:"font-bold",children:A.length})]})]})]})]})]})}),s.jsx(ht,{value:"auctions",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Mh,{className:"h-5 w-5"}),"Auction Items (",T.length,")"]}),s.jsx(Ce,{children:"All auction products in this show"})]}),s.jsx(te,{children:c?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading auctions..."})]}):T.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Mh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No auction items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:T.map(W=>s.jsxs(Z,{className:"overflow-hidden","data-testid":`card-auction-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Jt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(te,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-auction-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-auction-price-${W._id}`,children:["$",W.price||0]})]}),W.status&&s.jsx(Ve,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(ht,{value:"giveaways",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Oh,{className:"h-5 w-5"}),"Giveaway Items (",I.length,")"]}),s.jsx(Ce,{children:"All giveaway items in this show"})]}),s.jsx(te,{children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading giveaways..."})]}):I.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Oh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No giveaway items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:I.map(W=>s.jsxs(Z,{className:"overflow-hidden","data-testid":`card-giveaway-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Oh,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(te,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-giveaway-name-${W._id}`,children:W.name}),W.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:W.description}),W.quantity&&s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Quantity"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]})]})]},W._id))})})]})}),s.jsx(ht,{value:"buy-now",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Buy Now Items (",F.length,")"]}),s.jsx(Ce,{children:"All buy now products in this show"})]}),s.jsx(te,{children:m?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading buy now items..."})]}):F.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ja,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No buy now items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:F.map(W=>s.jsxs(Z,{className:"overflow-hidden","data-testid":`card-buy-now-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Jt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(te,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-buy-now-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-buy-now-price-${W._id}`,children:["$",W.price||0]})]}),W.quantity!==void 0&&s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Stock"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]}),W.status&&s.jsx(Ve,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(ht,{value:"sold",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Jt,{className:"h-5 w-5"}),"Sold Orders (",K.length,")"]}),s.jsx(Ce,{children:"All orders from this show"})]}),s.jsx(te,{children:f?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading sold orders..."})]}):K.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sold orders found"})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Customer"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Date"})]})}),s.jsx(hn,{children:K.map(W=>{var fe,de,Ue,qe;return s.jsxs(nt,{"data-testid":`row-sold-${W._id}`,children:[s.jsxs(se,{className:"font-mono text-sm",children:[(fe=W._id)==null?void 0:fe.substring(0,8),"..."]}),s.jsx(se,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[(de=W.customer)==null?void 0:de.firstName," ",(Ue=W.customer)==null?void 0:Ue.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(qe=W.customer)==null?void 0:qe.email})]})}),s.jsx(se,{children:s.jsx(Ve,{variant:"secondary",children:W.status||"pending"})}),s.jsxs(se,{className:"font-bold",children:["$",W.invoice||W.total||0]}),s.jsx(se,{className:"text-sm text-muted-foreground",children:N(W.createdAt)})]},W._id)})})]})})})]})})]})]})})}function Ya(){const{user:t}=Ha(),{data:e}=$e({queryKey:["/api/admin/demo-mode"],enabled:!!(t!=null&&t.admin),staleTime:3e4,refetchOnWindowFocus:!0}),n=(e==null?void 0:e.demoMode)||!1,r=(t==null?void 0:t.admin)||!1,i=(t==null?void 0:t.role)==="superAdmin",a=(t==null?void 0:t.admin)&&!i;return{canCreate:!n&&r,canEdit:!n&&r,canDelete:!n&&r,canManageSettings:!n&&r,isSuperAdmin:i,isReadOnlyAdmin:a,isDemoMode:n}}function _p(){const{data:t,isLoading:e,error:n}=$e({queryKey:["/api/config"],staleTime:1/0,gcTime:1/0,retry:3});return{externalApiUrl:(t==null?void 0:t.externalApiUrl)||"",isLoading:e,error:n}}function Tc(t,e){if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;if(!e)return"";const n=t.replace(/^\//,"");return`${e}/${n}`}function sH(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!1),{externalApiUrl:d}=_p(),{data:h,isLoading:g}=$e({queryKey:["/api/admin/settings"]}),m=(h==null?void 0:h.data)||h,w=y=>!y||y.length<8?"":`${y.substring(0,4)}${"".repeat(12)}${y.substring(y.length-4)}`,[f,x]=p.useState({app_name:"",seo_title:"",commission:"",stripe_fee:"",extra_charges:"",currency:"$",support_email:"",forceUpdate:!1,demoMode:!1,seller_auto_approve:!0,appVersion:"",androidVersion:"",iosVersion:"",privacy_url:"",terms_url:"",FIREBASE_API_KEY:"",firebase_api_key:"",firebase_auth_domain:"",firebase_project_id:"",firebase_storage_bucket:"",firebase_app_id:"",shippo_api_key:"",stripeSecretKey:"",stripepublickey:"",stripe_webhook_key:"",stripe_connect_account:"",livekit_url:"",livekit_api_key:"",livekit_api_secret:"",email_service_provider:"sendgrid",email_api_key:"",email_from_address:"",email_from_name:"",email_reply_to:"",email_mailgun_domain:"",email_smtp_host:"",email_smtp_port:"",email_smtp_user:"",email_smtp_pass:"",primary_color:"",secondary_color:"",app_logo:""});p.useEffect(()=>{var y,E,D,k,_;x({app_name:(m==null?void 0:m.app_name)||"",seo_title:(m==null?void 0:m.seo_title)||"",commission:(m==null?void 0:m.commission)||"",stripe_fee:(m==null?void 0:m.stripe_fee)||"",extra_charges:(m==null?void 0:m.extra_charges)||"",currency:(m==null?void 0:m.currency)||"$",support_email:(m==null?void 0:m.support_email)||"",forceUpdate:(m==null?void 0:m.forceUpdate)||!1,demoMode:(m==null?void 0:m.demoMode)||!1,seller_auto_approve:(m==null?void 0:m.seller_auto_approve)!==void 0?m.seller_auto_approve:!0,appVersion:(m==null?void 0:m.appVersion)||"",androidVersion:(m==null?void 0:m.androidVersion)||"",iosVersion:(m==null?void 0:m.iosVersion)||"",privacy_url:(m==null?void 0:m.privacy_url)||"",terms_url:(m==null?void 0:m.terms_url)||"",FIREBASE_API_KEY:(m==null?void 0:m.FIREBASE_API_KEY)||"",firebase_api_key:((y=m==null?void 0:m.firebase_config)==null?void 0:y.apiKey)||(m==null?void 0:m.firebase_api_key)||"",firebase_auth_domain:((E=m==null?void 0:m.firebase_config)==null?void 0:E.authDomain)||(m==null?void 0:m.firebase_auth_domain)||"",firebase_project_id:((D=m==null?void 0:m.firebase_config)==null?void 0:D.projectId)||(m==null?void 0:m.firebase_project_id)||"",firebase_storage_bucket:((k=m==null?void 0:m.firebase_config)==null?void 0:k.storageBucket)||(m==null?void 0:m.firebase_storage_bucket)||"",firebase_app_id:((_=m==null?void 0:m.firebase_config)==null?void 0:_.appId)||(m==null?void 0:m.firebase_app_id)||"",shippo_api_key:(m==null?void 0:m.shippo_api_key)||"",stripeSecretKey:(m==null?void 0:m.stripeSecretKey)||"",stripepublickey:(m==null?void 0:m.stripepublickey)||"",stripe_webhook_key:(m==null?void 0:m.stripe_webhook_key)||"",stripe_connect_account:(m==null?void 0:m.stripe_connect_account)||"",livekit_url:(m==null?void 0:m.livekit_url)||"",livekit_api_key:(m==null?void 0:m.livekit_api_key)||"",livekit_api_secret:(m==null?void 0:m.livekit_api_secret)||"",email_service_provider:(m==null?void 0:m.email_service_provider)||"sendgrid",email_api_key:(m==null?void 0:m.email_api_key)||"",email_from_address:(m==null?void 0:m.email_from_address)||"",email_from_name:(m==null?void 0:m.email_from_name)||"",email_reply_to:(m==null?void 0:m.email_reply_to)||"",email_mailgun_domain:(m==null?void 0:m.email_mailgun_domain)||"",email_smtp_host:(m==null?void 0:m.email_smtp_host)||"",email_smtp_port:(m==null?void 0:m.email_smtp_port)||"",email_smtp_user:(m==null?void 0:m.email_smtp_user)||"",email_smtp_pass:(m==null?void 0:m.email_smtp_pass)||"",primary_color:(m==null?void 0:m.primary_color)||"FFFACC15",secondary_color:(m==null?void 0:m.secondary_color)||"FF0D9488",app_logo:(m==null?void 0:m.app_logo)||""})},[m]);const N=rt({mutationFn:async y=>{const E=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!E.ok){const D=await E.json().catch(()=>({}));throw console.error("Settings update failed:",D),new Error((D==null?void 0:D.error)||"Failed to update settings")}return E.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/settings"]}),t({title:"Settings updated",description:"Platform settings have been saved successfully."}),i(!1)},onError:()=>{t({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"}),i(!1)}}),j=()=>{if(!e){t({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}i(!0),N.mutate(f)},v=(y,E)=>{x(D=>({...D,[y]:E}))},S=async y=>{c(!0);try{const E=new FormData;E.append("logo",y);const k=await(await fetch("/api/admin/upload-logo",{method:"POST",body:E})).json();if(k.success){x(C=>({...C,app_logo:k.data.logo_url})),o(null);const _=document.getElementById("app_logo");_&&(_.value=""),t({title:"Logo uploaded",description:"App logo has been uploaded successfully."}),Ye.invalidateQueries({queryKey:["/api/admin/settings"]})}else throw new Error(k.error||"Upload failed")}catch(E){t({title:"Upload failed",description:E.message||"Failed to upload logo. Please try again.",variant:"destructive"})}finally{c(!1)}};return g?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Platform Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings and preferences"})]}),s.jsx(Y,{onClick:j,disabled:r||!e,"data-testid":"button-save-settings",children:r?"Saving...":n?"Demo Mode - Read Only":"Save Changes"})]}),n&&s.jsxs(Yt,{className:"mb-6",children:[s.jsx(Sv,{className:"h-4 w-4"}),s.jsx(Qt,{children:"Demo mode is active. All settings are read-only and cannot be modified."})]}),s.jsxs(qo,{defaultValue:"general",className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(La,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-6",children:[s.jsxs(ut,{value:"general","data-testid":"tab-general",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(ww,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"General"]}),s.jsxs(ut,{value:"payment","data-testid":"tab-payment",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Pr,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Payment"]}),s.jsxs(ut,{value:"api-keys","data-testid":"tab-api-keys",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(VF,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"API Keys"]}),s.jsxs(ut,{value:"integrations","data-testid":"tab-integrations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(yc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Integrations"]}),s.jsxs(ut,{value:"app-versions","data-testid":"tab-app-versions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Xk,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"App Versions"]}),s.jsxs(ut,{value:"translations","data-testid":"tab-translations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(zF,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Translations"]})]})}),s.jsxs(ht,{value:"general",className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"General Settings"}),s.jsx(Ce,{children:"Basic platform configuration"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"app_name",children:"App Name"}),s.jsx(ee,{id:"app_name",value:f.app_name,onChange:y=>v("app_name",y.target.value),placeholder:"Your App Name","data-testid":"input-app-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"seo_title",children:"SEO Title"}),s.jsx(ee,{id:"seo_title",value:f.seo_title,onChange:y=>v("seo_title",y.target.value),placeholder:"Browser title (defaults to App Name if empty)","data-testid":"input-seo-title"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will appear in the browser tab. If empty, the app name will be used."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"support_email",children:"Support Email"}),s.jsx(ee,{id:"support_email",type:"email",value:f.support_email,onChange:y=>v("support_email",y.target.value),placeholder:"support@example.com","data-testid":"input-support-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"currency",children:"Currency Symbol"}),s.jsx(ee,{id:"currency",value:f.currency,onChange:y=>v("currency",y.target.value),placeholder:"$","data-testid":"input-currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"commission",children:"Platform Commission (%)"}),s.jsx(ee,{id:"commission",type:"number",value:f.commission,onChange:y=>v("commission",y.target.value),placeholder:"5","data-testid":"input-commission"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Commission percentage charged on transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"stripe_fee",children:"Stripe Fee (%)"}),s.jsx(ee,{id:"stripe_fee",type:"number",step:"0.01",value:f.stripe_fee,onChange:y=>v("stripe_fee",y.target.value),placeholder:"2.9","data-testid":"input-stripe-fee"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe processing fee percentage"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"extra_charges",children:"Extra Charges (Fixed)"}),s.jsx(ee,{id:"extra_charges",type:"number",step:"0.01",value:f.extra_charges,onChange:y=>v("extra_charges",y.target.value),placeholder:"0.30","data-testid":"input-extra-charges"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed additional charges per transaction"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"app_logo",children:"App Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[f.app_logo&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:f.app_logo.startsWith("http")?f.app_logo:Tc(f.app_logo,d),alt:"App Logo",className:"h-20 w-20 object-contain rounded border border-border bg-muted p-2",onError:y=>{y.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%23666">Logo</text></svg>'}})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{id:"app_logo",type:"file",accept:"image/*",onChange:y=>{var D;const E=(D=y.target.files)==null?void 0:D[0];E&&o(E)},"data-testid":"input-app-logo",className:"cursor-pointer flex-1"}),s.jsx(Y,{type:"button",onClick:()=>{a?S(a):t({title:"No file selected",description:"Please select a logo file first.",variant:"destructive"})},disabled:!a||l,"data-testid":"button-upload-logo",children:l?"Uploading...":"Upload"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a logo file and click Upload (PNG, JPG, or SVG recommended)"})]})]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Legal Links"}),s.jsx(Ce,{children:"Privacy policy and terms of service URLs"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"privacy_url",children:"Privacy Policy URL"}),s.jsx(ee,{id:"privacy_url",type:"url",value:f.privacy_url,onChange:y=>v("privacy_url",y.target.value),placeholder:"https://example.com/privacy","data-testid":"input-privacy-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"terms_url",children:"Terms of Service URL"}),s.jsx(ee,{id:"terms_url",type:"url",value:f.terms_url,onChange:y=>v("terms_url",y.target.value),placeholder:"https://example.com/terms","data-testid":"input-terms-url"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"App Theme Colors"}),s.jsx(Ce,{children:"Configure primary and secondary colors for your mobile app"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"primary_color",children:"Primary Color (Main Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:f.primary_color?`#${f.primary_color.slice(-6)}`:"#FACC15"}}),s.jsx(ee,{id:"primary_color",value:f.primary_color,onChange:y=>v("primary_color",y.target.value.toUpperCase()),placeholder:"FFFACC15","data-testid":"input-primary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FFFACC15 for yellow)."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"secondary_color",children:"Secondary Color (Sub Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:f.secondary_color?`#${f.secondary_color.slice(-6)}`:"#0D9488"}}),s.jsx(ee,{id:"secondary_color",value:f.secondary_color,onChange:y=>v("secondary_color",y.target.value.toUpperCase()),placeholder:"FF0D9488","data-testid":"input-secondary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FF0D9488 for teal)."})]})]})})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Seller Approval Workflow"}),s.jsx(Ce,{children:"Control how users become sellers on your platform"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(Q,{htmlFor:"seller-auto-approve",children:"Automatic Seller Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, users can become sellers automatically without admin approval. When disabled, admin must manually approve all seller applications."})]}),s.jsx(Ql,{id:"seller-auto-approve",checked:f.seller_auto_approve,onCheckedChange:y=>v("seller_auto_approve",y),"data-testid":"switch-seller-auto-approve"})]}),s.jsxs(Yt,{children:[s.jsx(wa,{className:"h-4 w-4"}),s.jsx(Qt,{children:f.seller_auto_approve?s.jsxs(s.Fragment,{children:["Automatic approval is ",s.jsx("strong",{children:"enabled"}),". Users will become sellers immediately after applying."]}):s.jsxs(s.Fragment,{children:["Manual approval is ",s.jsx("strong",{children:"required"}),". Admins must review and approve seller applications in the Users section."]})})]})]})]}),!f.demoMode&&s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Demo Mode"}),s.jsx(Ce,{children:"Control whether CRUD operations are allowed on the platform"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(Q,{htmlFor:"demo-mode",children:"Enable Demo Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, all create, update, and delete operations will be disabled for everyone (including super admins). Perfect for protecting demo environments from modifications."})]}),s.jsx(Ql,{id:"demo-mode",checked:f.demoMode,onCheckedChange:y=>v("demoMode",y),"data-testid":"switch-demo-mode"})]}),f.demoMode&&s.jsxs(Yt,{children:[s.jsx(Sv,{className:"h-4 w-4"}),s.jsxs(Qt,{children:["Demo mode is currently ",s.jsx("strong",{children:"enabled"}),". All CRUD operations are disabled across the platform."]})]})]})]})]}),s.jsx(ht,{value:"payment",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Stripe Integration"}),s.jsx(Ce,{children:"Stripe payment gateway configuration"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"stripepublickey",children:"Stripe Publishable Key"}),s.jsx(ee,{id:"stripepublickey",value:f.demoMode?w(f.stripepublickey):f.stripepublickey,onChange:y=>v("stripepublickey",y.target.value),placeholder:"pk_test_...","data-testid":"input-stripe-public-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"stripeSecretKey",children:"Stripe Secret Key"}),s.jsx(ee,{id:"stripeSecretKey",type:f.demoMode?"text":"password",value:f.demoMode?w(f.stripeSecretKey):f.stripeSecretKey,onChange:y=>v("stripeSecretKey",y.target.value),placeholder:"sk_test_...","data-testid":"input-stripe-secret-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this key secret and secure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"stripe_webhook_key",children:"Stripe Webhook Secret"}),s.jsx(ee,{id:"stripe_webhook_key",type:f.demoMode?"text":"password",value:f.demoMode?w(f.stripe_webhook_key):f.stripe_webhook_key,onChange:y=>v("stripe_webhook_key",y.target.value),placeholder:"whsec_...","data-testid":"input-stripe-webhook-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for verifying webhook events from Stripe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"stripe_connect_account",children:"Stripe Connect Account (Shipping Fees)"}),s.jsx(ee,{id:"stripe_connect_account",value:f.stripe_connect_account,onChange:y=>v("stripe_connect_account",y.target.value),placeholder:"acct_...","data-testid":"input-stripe-connect-account",readOnly:f.demoMode,disabled:f.demoMode}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe Connect account ID to receive shipping fees"})]})]})]})}),s.jsxs(ht,{value:"api-keys",className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Firebase Configuration"}),s.jsx(Ce,{children:"Configure Firebase for authentication and storage (web apps)"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs(Yt,{children:[s.jsx(wa,{className:"h-4 w-4"}),s.jsx(Qt,{children:"These settings configure Firebase for your web applications (admin panel and marketplace). Get these values from your Firebase Console  Project Settings  General  Your apps."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firebase_api_key",children:"Firebase API Key (Web Apps)"}),s.jsx(ee,{id:"firebase_api_key",type:f.demoMode?"text":"password",value:f.demoMode?w(f.firebase_api_key):f.firebase_api_key,onChange:y=>v("firebase_api_key",y.target.value),placeholder:"AIza...","data-testid":"input-firebase-web-api-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for web authentication"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firebase_auth_domain",children:"Firebase Auth Domain"}),s.jsx(ee,{id:"firebase_auth_domain",value:f.firebase_auth_domain,onChange:y=>v("firebase_auth_domain",y.target.value),placeholder:"your-project.firebaseapp.com","data-testid":"input-firebase-auth-domain",readOnly:f.demoMode,disabled:f.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firebase_project_id",children:"Firebase Project ID"}),s.jsx(ee,{id:"firebase_project_id",value:f.firebase_project_id,onChange:y=>v("firebase_project_id",y.target.value),placeholder:"your-project-id","data-testid":"input-firebase-project-id",readOnly:f.demoMode,disabled:f.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firebase_storage_bucket",children:"Firebase Storage Bucket"}),s.jsx(ee,{id:"firebase_storage_bucket",value:f.firebase_storage_bucket,onChange:y=>v("firebase_storage_bucket",y.target.value),placeholder:"your-project.appspot.com","data-testid":"input-firebase-storage-bucket",readOnly:f.demoMode,disabled:f.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"firebase_app_id",children:"Firebase App ID"}),s.jsx(ee,{id:"firebase_app_id",type:f.demoMode?"text":"password",value:f.demoMode?w(f.firebase_app_id):f.firebase_app_id,onChange:y=>v("firebase_app_id",y.target.value),placeholder:"1:123456789:web:abc123def456","data-testid":"input-firebase-app-id",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this App ID secure"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-medium mb-4",children:"Mobile App (Legacy)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"FIREBASE_API_KEY",children:"Firebase API Key (Mobile Apps)"}),s.jsx(ee,{id:"FIREBASE_API_KEY",type:f.demoMode?"text":"password",value:f.demoMode?w(f.FIREBASE_API_KEY):f.FIREBASE_API_KEY,onChange:y=>v("FIREBASE_API_KEY",y.target.value),placeholder:"AIza...","data-testid":"input-firebase-api-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"For mobile apps only (Flutter/React Native)"})]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Other API Keys"}),s.jsx(Ce,{children:"Additional third-party service keys"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"shippo_api_key",children:"Shippo API Key"}),s.jsx(ee,{id:"shippo_api_key",type:f.demoMode?"text":"password",value:f.demoMode?w(f.shippo_api_key):f.shippo_api_key,onChange:y=>v("shippo_api_key",y.target.value),placeholder:"shippo_...","data-testid":"input-shippo-api-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for shipping label generation"})]})})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Email Service Configuration"}),s.jsx(Ce,{children:"Configure email service for sending emails to users"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_service_provider",children:"Email Service Provider"}),s.jsxs(mn,{value:f.email_service_provider,onValueChange:y=>v("email_service_provider",y),children:[s.jsx(nn,{id:"email_service_provider","data-testid":"select-email-provider",children:s.jsx(pn,{placeholder:"Select provider"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"sendgrid",children:"SendGrid"}),s.jsx(ae,{value:"mailgun",children:"Mailgun"}),s.jsx(ae,{value:"resend",children:"Resend"}),s.jsx(ae,{value:"smtp",children:"SMTP"})]})]})]}),f.email_service_provider!=="smtp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_api_key",children:"Email API Key"}),s.jsx(ee,{id:"email_api_key",type:f.demoMode?"text":"password",value:f.demoMode?w(f.email_api_key):f.email_api_key,onChange:y=>v("email_api_key",y.target.value),placeholder:"SG.xxx... or your provider's API key","data-testid":"input-email-api-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for your email service provider"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_from_address",children:"From Email Address"}),s.jsx(ee,{id:"email_from_address",type:"email",value:f.email_from_address,onChange:y=>v("email_from_address",y.target.value),placeholder:"noreply@yourdomain.com","data-testid":"input-email-from-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_from_name",children:"From Name"}),s.jsx(ee,{id:"email_from_name",value:f.email_from_name,onChange:y=>v("email_from_name",y.target.value),placeholder:"Your App Name","data-testid":"input-email-from-name"})]})]}),f.email_service_provider==="mailgun"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_mailgun_domain",children:"Mailgun Domain"}),s.jsx(ee,{id:"email_mailgun_domain",value:f.email_mailgun_domain,onChange:y=>v("email_mailgun_domain",y.target.value),placeholder:"mg.yourdomain.com","data-testid":"input-mailgun-domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Mailgun sending domain"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_reply_to",children:"Reply-To Email (Optional)"}),s.jsx(ee,{id:"email_reply_to",type:"email",value:f.email_reply_to,onChange:y=>v("email_reply_to",y.target.value),placeholder:"support@gmail.com","data-testid":"input-email-reply-to"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When users reply to emails, their response will go to this address (can be different from From Email)"})]})]}),f.email_service_provider==="smtp"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs(Yt,{children:[s.jsx(wa,{className:"h-4 w-4"}),s.jsxs(Qt,{children:[s.jsx("strong",{children:"Gmail Users:"})," Use an App Password instead of your regular password.",s.jsx("br",{}),"Generate one at: ",s.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"myaccount.google.com/apppasswords"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_smtp_host",children:"SMTP Host"}),s.jsx(ee,{id:"email_smtp_host",value:f.email_smtp_host,onChange:y=>v("email_smtp_host",y.target.value),placeholder:"smtp.gmail.com","data-testid":"input-smtp-host"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_smtp_port",children:"SMTP Port"}),s.jsx(ee,{id:"email_smtp_port",value:f.email_smtp_port,onChange:y=>v("email_smtp_port",y.target.value),placeholder:"587","data-testid":"input-smtp-port"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_smtp_user",children:"SMTP Username"}),s.jsx(ee,{id:"email_smtp_user",value:f.email_smtp_user,onChange:y=>v("email_smtp_user",y.target.value),placeholder:"your-email@gmail.com","data-testid":"input-smtp-user"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email_smtp_pass",children:"SMTP Password"}),s.jsx(ee,{id:"email_smtp_pass",type:f.demoMode?"text":"password",value:f.demoMode?w(f.email_smtp_pass):f.email_smtp_pass,onChange:y=>v("email_smtp_pass",y.target.value),placeholder:"App Password (16 characters)","data-testid":"input-smtp-pass",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""})]})]})]})]})]})]}),s.jsx(ht,{value:"integrations",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"LiveKit Integration"}),s.jsx(Ce,{children:"Live streaming platform configuration"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"livekit_url",children:"LiveKit URL"}),s.jsx(ee,{id:"livekit_url",value:f.livekit_url,onChange:y=>v("livekit_url",y.target.value),placeholder:"wss://your-livekit-url.com","data-testid":"input-livekit-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"livekit_api_key",children:"LiveKit API Key"}),s.jsx(ee,{id:"livekit_api_key",type:f.demoMode?"text":"password",value:f.demoMode?w(f.livekit_api_key):f.livekit_api_key,onChange:y=>v("livekit_api_key",y.target.value),placeholder:"API...","data-testid":"input-livekit-api-key",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"livekit_api_secret",children:"LiveKit API Secret"}),s.jsx(ee,{id:"livekit_api_secret",type:f.demoMode?"text":"password",value:f.demoMode?w(f.livekit_api_secret):f.livekit_api_secret,onChange:y=>v("livekit_api_secret",y.target.value),placeholder:"Secret...","data-testid":"input-livekit-api-secret",readOnly:f.demoMode,disabled:f.demoMode,onCopy:y=>f.demoMode&&y.preventDefault(),onCut:y=>f.demoMode&&y.preventDefault(),onPaste:y=>f.demoMode&&y.preventDefault(),className:f.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiveKit credentials for video streaming"})]})]})]})}),s.jsx(ht,{value:"app-versions",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"App Version Management"}),s.jsx(Ce,{children:"Manage mobile app version numbers"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"appVersion",children:"App Version"}),s.jsx(ee,{id:"appVersion",value:f.appVersion,onChange:y=>v("appVersion",y.target.value),placeholder:"1.0.0","data-testid":"input-app-version"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"androidVersion",children:"Android Version"}),s.jsx(ee,{id:"androidVersion",value:f.androidVersion,onChange:y=>v("androidVersion",y.target.value),placeholder:"1.0.0","data-testid":"input-android-version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"iosVersion",children:"iOS Version"}),s.jsx(ee,{id:"iosVersion",value:f.iosVersion,onChange:y=>v("iosVersion",y.target.value),placeholder:"1.0.0","data-testid":"input-ios-version"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ql,{id:"forceUpdate",checked:f.forceUpdate,onCheckedChange:y=>v("forceUpdate",y),"data-testid":"switch-force-update"}),s.jsx(Q,{htmlFor:"forceUpdate",className:"cursor-pointer",children:"Force App Update"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, users will be required to update the app to continue using it"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"These version numbers are used with the Force Update feature"})]})]})}),s.jsx(ht,{value:"translations",className:"space-y-6",children:s.jsx(rH,{})})]})]})})}function rH(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),[r,i]=p.useState("en"),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[g,m]=p.useState(""),w=p.useRef(!1),{data:f,isLoading:x}=$e({queryKey:["/api/admin/translations"]}),N=(f==null?void 0:f.data)||{},j=N.translations||N,v=N.version,S=N.default_language,[y,E]=p.useState({}),D=Object.keys(y);p.useEffect(()=>{j&&Object.keys(j).length>0&&Object.keys(y).length===0&&E(j)},[j,y]),p.useEffect(()=>{!w.current&&S?(m(S),w.current=!0):!w.current&&D.length>0&&!g&&(m(D[0]),w.current=!0)},[S,D,g]);const k=Array.from(new Set(Object.values(y).flatMap(F=>Object.keys(F)))).sort(),_=()=>{if(!a||a.length!==2){t({title:"Invalid language code",description:"Language code must be exactly 2 characters (e.g., 'es', 'fr')",variant:"destructive"});return}if(D.includes(a)){t({title:"Language already exists",description:`Language '${a}' is already configured`,variant:"destructive"});return}if(D.length===0){const F={app_name:"",hi:"",home:"",profile:"",settings:""};E({[a]:F})}else{const F=j.en||j[D[0]]||{},K={};Object.keys(F).forEach(z=>{K[z]=""}),E(z=>({...z,[a]:K}))}i(a),o(""),c(!1),t({title:"Language added",description:`Language '${a}' has been added. ${D.length===0?"Add your translation keys and":"Fill in the translations and"} save.`})},C=F=>{if(F==="en"){t({title:"Cannot delete English",description:"English is the default language and cannot be deleted",variant:"destructive"});return}const K={...y};delete K[F],E(K),r===F&&i("en"),t({title:"Language removed",description:`Language '${F}' has been removed. Click Save to apply changes.`})},R=(F,K)=>{E(z=>({...z,[r]:{...z[r],[F]:K}}))},A=async()=>{if(!e){t({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}h(!0);try{if(!(await wt("POST","/api/admin/translations",{translations:y,default_language:g})).ok)throw new Error("Failed to save translations");Ye.invalidateQueries({queryKey:["/api/admin/translations"]}),t({title:"Translations saved",description:"All translations have been saved successfully"})}catch(F){t({title:"Error",description:F.message||"Failed to save translations",variant:"destructive"})}finally{h(!1)}},T=async()=>{try{const F=await fetch("/api/admin/translations/download",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!F.ok)throw new Error("Failed to download translations");const K=await F.blob(),z=window.URL.createObjectURL(K),V=document.createElement("a");V.href=z,V.download="translations.xml",document.body.appendChild(V),V.click(),window.URL.revokeObjectURL(z),document.body.removeChild(V),t({title:"Download started",description:"Your translations XML file is downloading"})}catch(F){t({title:"Error",description:F.message||"Failed to download translations",variant:"destructive"})}},I=async F=>{var z;const K=(z=F.target.files)==null?void 0:z[0];if(K){if(!K.name.endsWith(".xml")){t({title:"Invalid file",description:"Please upload an XML file",variant:"destructive"});return}try{const V=new FormData;V.append("file",K);const L=await fetch("/api/admin/translations/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:V});if(!L.ok){const oe=await L.json();throw new Error(oe.error||"Failed to upload translations")}const B=await L.json();Ye.invalidateQueries({queryKey:["/api/admin/translations"]}),t({title:"Upload successful",description:B.message||"Translations imported successfully"}),F.target.value=""}catch(V){t({title:"Error",description:V.message||"Failed to upload translations",variant:"destructive"}),F.target.value=""}}};return x?s.jsx(Z,{children:s.jsx(te,{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):D.length===0&&!l?s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"App Translations"}),s.jsx(Ce,{children:"No translations found. Add your first language to get started."})]}),s.jsxs(te,{children:[s.jsxs(Yt,{className:"mb-4",children:[s.jsx(wa,{className:"h-4 w-4"}),s.jsx(Qt,{children:"Start by adding English (en) as your default language, then add translation keys."})]}),s.jsxs(Y,{onClick:()=>c(!0),"data-testid":"button-add-first-language",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add First Language"]}),l&&s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ee,{placeholder:"Code (e.g., en)",value:a,onChange:F=>o(F.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(Y,{onClick:_,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(Y,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]})]})]}):s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"App Translations"}),s.jsx(Ce,{children:"Manage translations for your mobile app. Download as XML, edit offline, and upload back."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{onClick:T,variant:"outline","data-testid":"button-download-xml",children:[s.jsx(MF,{className:"h-4 w-4 mr-2"}),"Download XML"]}),s.jsxs(Y,{onClick:()=>{var F;return(F=document.getElementById("xml-upload-input"))==null?void 0:F.click()},variant:"outline","data-testid":"button-upload-xml",children:[s.jsx(jw,{className:"h-4 w-4 mr-2"}),"Upload XML"]}),s.jsx("input",{id:"xml-upload-input",type:"file",accept:".xml",onChange:I,className:"hidden","data-testid":"input-xml-upload"}),s.jsx(Y,{onClick:A,disabled:d||!e,"data-testid":"button-save-translations",children:d?"Saving...":n?"Demo Mode - Read Only":"Save"})]})]})}),s.jsxs(te,{className:"space-y-6",children:[v!==void 0&&s.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground border-b pb-4",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Version:"})," ",v]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Select Language to Edit"}),s.jsxs(mn,{value:r,onValueChange:i,children:[s.jsx(nn,{"data-testid":"select-language",children:s.jsx(pn,{})}),s.jsx(sn,{children:D.map(F=>{var K;return s.jsxs(ae,{value:F,children:[F.toUpperCase()," - ",((K=y[F])==null?void 0:K.app_name)||"Language"]},F)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Default Language"}),s.jsxs(mn,{value:g||D[0]||"en",onValueChange:m,children:[s.jsx(nn,{"data-testid":"select-default-language",children:s.jsx(pn,{placeholder:"Select default language"})}),s.jsx(sn,{children:D.map(F=>{var K;return s.jsxs(ae,{value:F,children:[F.toUpperCase()," - ",((K=y[F])==null?void 0:K.app_name)||"Language"]},F)})})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[l?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{placeholder:"Code (e.g., es)",value:a,onChange:F=>o(F.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(Y,{onClick:_,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(Y,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]}):s.jsxs(Y,{onClick:()=>c(!0),variant:"outline","data-testid":"button-add-language",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Language"]}),r!=="en"&&s.jsx(Y,{onClick:()=>C(r),variant:"destructive",size:"sm","data-testid":"button-delete-language",children:s.jsx(Xs,{className:"h-4 w-4"})})]}),s.jsxs(Yt,{className:"mb-4",children:[s.jsx(wa,{className:"h-4 w-4"}),s.jsxs(Qt,{children:[s.jsx("strong",{children:"Dynamic Placeholders:"})," Use placeholders like ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@app_name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@provider"})," in your translations. These will be automatically replaced with actual values in the app."]})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"bg-muted px-4 py-3 border-b",children:s.jsxs("p",{className:"text-sm font-medium",children:["Editing ",r.toUpperCase()," (",k.length," keys)"]})}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"divide-y",children:k.map(F=>{var V,L;const K=(V=j.en)==null?void 0:V[F],z=r!=="en"&&K?K:`Enter ${r.toUpperCase()} translation for "${F}"`;return s.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Q,{htmlFor:`trans-${F}`,className:"text-xs text-muted-foreground font-mono",children:F}),s.jsx(ee,{id:`trans-${F}`,value:((L=y[r])==null?void 0:L[F])||"",onChange:B=>R(F,B.target.value),placeholder:z,"data-testid":`input-translation-${F}`})]})},F)})})})]}),k.length===0&&s.jsxs(Yt,{children:[s.jsx(wa,{className:"h-4 w-4"}),s.jsx(Qt,{children:"No translation keys found. Add a language and start adding translations."})]})]})]})}function iH(){var S,y,E;const{toast:t}=Vt(),[e,n]=p.useState(!1),[r,i]=p.useState(!1),{data:a}=$e({queryKey:["/api/auth/session"]}),o=((S=a==null?void 0:a.data)==null?void 0:S.id)||((y=a==null?void 0:a.data)==null?void 0:y._id),{data:l,isLoading:c}=$e({queryKey:[`/api/admin/profile/${o}`],enabled:!!o}),d=((E=l==null?void 0:l.data)==null?void 0:E.admin)||(l==null?void 0:l.admin)||(l==null?void 0:l.data)||l,[h,g]=p.useState({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||""}),[m,w]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""});p.useEffect(()=>{d&&g({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.full_name)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""})},[d]);const f=rt({mutationFn:async D=>{const k={full_name:D.fullname,email:D.email,username:D.username};return wt("PATCH","/api/admin/profile",k)},onSuccess:()=>{Ye.invalidateQueries({queryKey:[`/api/admin/profile/${o}`]}),Ye.invalidateQueries({queryKey:["/api/auth/session"]}),n(!1),t({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:D=>{t({title:"Update failed",description:D.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),x=rt({mutationFn:async D=>wt("POST","/api/admin/change-password",D),onSuccess:()=>{i(!1),w({currentPassword:"",newPassword:"",confirmPassword:""}),t({title:"Password changed",description:"Your password has been changed successfully."})},onError:D=>{t({title:"Password change failed",description:D.message||"Failed to change password. Please try again.",variant:"destructive"})}}),N=D=>{D.preventDefault(),f.mutate(h)},j=D=>{if(D.preventDefault(),m.newPassword!==m.confirmPassword){t({title:"Passwords don't match",description:"New password and confirm password must match.",variant:"destructive"});return}if(m.newPassword.length<6){t({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}x.mutate({currentPassword:m.currentPassword,newPassword:m.newPassword})},v=D=>D.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2);return c?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and security"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Profile Information"}),s.jsx(Ce,{children:"Update your personal details"})]}),!e&&s.jsxs(Y,{onClick:()=>{g({fullname:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""}),n(!0)},"data-testid":"button-edit-profile",children:[s.jsx(gs,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),s.jsx(te,{children:e?s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(er,{className:"h-24 w-24",children:[s.jsx(tr,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(nr,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?v(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"fullname",children:"Full Name"}),s.jsx(ee,{id:"fullname",value:h.fullname,onChange:D=>g({...h,fullname:D.target.value}),"data-testid":"input-fullname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"username",children:"Username"}),s.jsx(ee,{id:"username",value:h.username,onChange:D=>g({...h,username:D.target.value}),"data-testid":"input-username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"email",children:"Email"}),s.jsx(ee,{id:"email",type:"email",value:h.email,onChange:D=>g({...h,email:D.target.value}),"data-testid":"input-email"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-edit",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(Y,{type:"submit",disabled:f.isPending,"data-testid":"button-save-profile",children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),f.isPending?"Saving...":"Save Changes"]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(er,{className:"h-24 w-24",children:[s.jsx(tr,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(nr,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?v(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-fullname",children:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-muted-foreground",children:"Username"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-username",children:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-email",children:(d==null?void 0:d.email)||"Not set"})]})]})]})})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Change Password"}),s.jsx(Ce,{children:"Update your account password"})]}),!r&&s.jsxs(Y,{onClick:()=>i(!0),variant:"outline","data-testid":"button-change-password",children:[s.jsx(qf,{className:"h-4 w-4 mr-2"}),"Change Password"]})]}),r&&s.jsx(te,{children:s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(ee,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:D=>w({...m,currentPassword:D.target.value}),required:!0,"data-testid":"input-current-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"newPassword",children:"New Password"}),s.jsx(ee,{id:"newPassword",type:"password",value:m.newPassword,onChange:D=>w({...m,newPassword:D.target.value}),required:!0,minLength:6,"data-testid":"input-new-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(ee,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:D=>w({...m,confirmPassword:D.target.value}),required:!0,minLength:6,"data-testid":"input-confirm-password"})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>{i(!1),w({currentPassword:"",newPassword:"",confirmPassword:""})},"data-testid":"button-cancel-password",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(Y,{type:"submit",disabled:x.isPending,"data-testid":"button-save-password",children:[s.jsx(Pa,{className:"h-4 w-4 mr-2"}),x.isPending?"Changing...":"Change Password"]})]})]})})]})]})]})})}function mt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ln(t,e){const n=mt(t);return isNaN(e)?vs(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ar(t,e){const n=mt(t);if(isNaN(e))return vs(t,NaN);if(!e)return n;const r=n.getDate(),i=vs(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Ej=6048e5,aH=864e5;let oH={};function eh(){return oH}function Vr(t,e){var l,c,d,h;const n=eh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=mt(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Go(t){return Vr(t,{weekStartsOn:1})}function uI(t){const e=mt(t),n=e.getFullYear(),r=vs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Go(r),a=vs(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Go(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Pc(t){const e=mt(t);return e.setHours(0,0,0,0),e}function Nm(t){const e=mt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function kr(t,e){const n=Pc(t),r=Pc(e),i=+n-Nm(n),a=+r-Nm(r);return Math.round((i-a)/aH)}function lH(t){const e=uI(t),n=vs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Go(n)}function ay(t,e){const n=e*7;return Ln(t,n)}function cH(t,e){return ar(t,e*12)}function dH(t){let e;return t.forEach(function(n){const r=mt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function uH(t){let e;return t.forEach(n=>{const r=mt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Jn(t,e){const n=Pc(t),r=Pc(e);return+n==+r}function Tj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hH(t){if(!Tj(t)&&typeof t!="number")return!1;const e=mt(t);return!isNaN(Number(e))}function _u(t,e){const n=mt(t),r=mt(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function fH(t,e,n){const r=Vr(t,n),i=Vr(e,n),a=+r-Nm(r),o=+i-Nm(i);return Math.round((a-o)/Ej)}function Pj(t){const e=mt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ss(t){const e=mt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function hI(t){const e=mt(t),n=vs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Aj(t,e){var l,c,d,h;const n=eh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=mt(t),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function fI(t){return Aj(t,{weekStartsOn:1})}const mH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pH=(t,e,n)=>{let r;const i=mH[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ix(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const gH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yH={date:ix({formats:gH,defaultWidth:"full"}),time:ix({formats:xH,defaultWidth:"full"}),dateTime:ix({formats:vH,defaultWidth:"full"})},wH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jH=(t,e,n,r)=>wH[t];function jd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const bH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_H={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EH=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},TH={ordinalNumber:EH,era:jd({values:bH,defaultWidth:"wide"}),quarter:jd({values:NH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jd({values:_H,defaultWidth:"wide"}),day:jd({values:SH,defaultWidth:"wide"}),dayPeriod:jd({values:CH,defaultWidth:"wide",formattingValues:kH,defaultFormattingWidth:"wide"})};function bd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?AH(l,g=>g.test(o)):PH(l,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function PH(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function AH(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function IH(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const RH=/^(\d+)(th|st|nd|rd)?/i,DH=/\d+/i,MH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OH={any:[/^b/i,/^(a|c)/i]},FH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LH={any:[/1/i,/2/i,/3/i,/4/i]},$H={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HH={ordinalNumber:IH({matchPattern:RH,parsePattern:DH,valueCallback:t=>parseInt(t,10)}),era:bd({matchPatterns:MH,defaultMatchWidth:"wide",parsePatterns:OH,defaultParseWidth:"any"}),quarter:bd({matchPatterns:FH,defaultMatchWidth:"wide",parsePatterns:LH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bd({matchPatterns:$H,defaultMatchWidth:"wide",parsePatterns:UH,defaultParseWidth:"any"}),day:bd({matchPatterns:VH,defaultMatchWidth:"wide",parsePatterns:zH,defaultParseWidth:"any"}),dayPeriod:bd({matchPatterns:BH,defaultMatchWidth:"any",parsePatterns:WH,defaultParseWidth:"any"})},mI={code:"en-US",formatDistance:pH,formatLong:yH,formatRelative:jH,localize:TH,match:HH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qH(t){const e=mt(t);return kr(e,hI(e))+1}function pI(t){const e=mt(t),n=+Go(e)-+lH(e);return Math.round(n/Ej)+1}function gI(t,e){var h,g,m,w;const n=mt(t),r=n.getFullYear(),i=eh(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(m=i.locale)==null?void 0:m.options)==null?void 0:w.firstWeekContainsDate)??1,o=vs(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Vr(o,e),c=vs(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Vr(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function KH(t,e){var l,c,d,h;const n=eh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=gI(t,e),a=vs(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Vr(a,e)}function xI(t,e){const n=mt(t),r=+Vr(n,e)-+KH(n,e);return Math.round(r/Ej)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Vi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bt(i,e.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},u1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Vi.y(t,e)},Y:function(t,e,n,r){const i=gI(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return bt(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):bt(a,e.length)},R:function(t,e){const n=uI(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Vi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=xI(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,n){const r=pI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Vi.d(t,e)},D:function(t,e,n){const r=qH(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return bt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return bt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=gl.noon:r===0?i=gl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=gl.evening:r>=12?i=gl.afternoon:r>=4?i=gl.morning:i=gl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Vi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Vi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Vi.s(t,e)},S:function(t,e){return Vi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return f1(r);case"XXXX":case"XX":return oo(r);case"XXXXX":case"XXX":default:return oo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return f1(r);case"xxxx":case"xx":return oo(r);case"xxxxx":case"xxx":default:return oo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+h1(r,":");case"OOOO":default:return"GMT"+oo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+h1(r,":");case"zzzz":default:return"GMT"+oo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return bt(r,e.length)}};function h1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+bt(a,2)}function f1(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):oo(t,e)}function oo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=bt(Math.trunc(r/60),2),a=bt(r%60,2);return n+i+e+a}const m1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GH=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return m1(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",m1(r,e)).replace("{{time}}",vI(i,e))},YH={p:vI,P:GH},QH=/^D+$/,XH=/^Y+$/,ZH=["D","DD","YY","YYYY"];function JH(t){return QH.test(t)}function eq(t){return XH.test(t)}function tq(t,e,n){const r=nq(t,e,n);if(console.warn(r),ZH.includes(t))throw new RangeError(r)}function nq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iq=/^'([^]*?)'?$/,aq=/''/g,oq=/[a-zA-Z]/;function Gs(t,e,n){var h,g,m,w,f,x,N,j;const r=eh(),i=(n==null?void 0:n.locale)??r.locale??mI,a=(n==null?void 0:n.firstWeekContainsDate)??((g=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(m=r.locale)==null?void 0:m.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((j=(N=r.locale)==null?void 0:N.options)==null?void 0:j.weekStartsOn)??0,l=mt(t);if(!hH(l))throw new RangeError("Invalid time value");let c=e.match(rq).map(v=>{const S=v[0];if(S==="p"||S==="P"){const y=YH[S];return y(v,i.formatLong)}return v}).join("").match(sq).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const S=v[0];if(S==="'")return{isToken:!1,value:lq(v)};if(u1[S])return{isToken:!0,value:v};if(S.match(oq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const S=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&eq(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&JH(S))&&tq(S,e,String(t));const y=u1[S[0]];return y(l,S,i.localize,d)}).join("")}function lq(t){const e=t.match(iq);return e?e[1].replace(aq,"'"):t}function cq(t){const e=mt(t),n=e.getFullYear(),r=e.getMonth(),i=vs(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function dq(t){return Math.trunc(+mt(t)/1e3)}function uq(t){const e=mt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function hq(t,e){return fH(uq(t),ss(t),e)+1}function oy(t,e){const n=mt(t),r=mt(e);return n.getTime()>r.getTime()}function yI(t,e){const n=mt(t),r=mt(e);return+n<+r}function Ij(t,e){const n=mt(t),r=mt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function fq(t,e){const n=mt(t),r=mt(e);return n.getFullYear()===r.getFullYear()}function ax(t,e){return Ln(t,-e)}function ox(t,e){const n=mt(t),r=n.getFullYear(),i=n.getDate(),a=vs(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const o=cq(a);return n.setMonth(e,Math.min(i,o)),n}function p1(t,e){const n=mt(t);return isNaN(+n)?vs(t,NaN):(n.setFullYear(e),n)}function mq(t){const e=pq(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(xq);if(c){const d=c.props.children,h=l.map(g=>g===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:g);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function pq(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=yq(i),l=vq(a,i.props);return i.type!==p.Fragment&&(l.ref=r?zr(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gq=Symbol("radix.slottable");function xq(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gq}function vq(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function yq(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sp="Popover",[wI]=rs(Sp,[Ba]),th=Ba(),[wq,Qa]=wI(Sp),jI=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=th(e),c=p.useRef(null),[d,h]=p.useState(!1),[g,m]=Or({prop:r,defaultProp:i??!1,onChange:a,caller:Sp});return s.jsx(Iw,{...l,children:s.jsx(wq,{scope:e,contentId:Zs(),triggerRef:c,open:g,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(w=>!w),[m]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:o,children:n})})};jI.displayName=Sp;var bI="PopoverAnchor",jq=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Qa(bI,n),a=th(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx($u,{...a,...r,ref:e})});jq.displayName=bI;var NI="PopoverTrigger",_I=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Qa(NI,n),a=th(n),o=et(e,i.triggerRef),l=s.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":TI(i.open),...r,ref:o,onClick:pe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx($u,{asChild:!0,...a,children:l})});_I.displayName=NI;var Rj="PopoverPortal",[bq,Nq]=wI(Rj,{forceMount:void 0}),SI=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=Qa(Rj,e);return s.jsx(bq,{scope:e,forceMount:n,children:s.jsx(is,{present:n||a.open,children:s.jsx(Fc,{asChild:!0,container:i,children:r})})})};SI.displayName=Rj;var Ac="PopoverContent",CI=p.forwardRef((t,e)=>{const n=Nq(Ac,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=Qa(Ac,t.__scopePopover);return s.jsx(is,{present:r||a.open,children:a.modal?s.jsx(Sq,{...i,ref:e}):s.jsx(Cq,{...i,ref:e})})});CI.displayName=Ac;var _q=mq("PopoverContent.RemoveScroll"),Sq=p.forwardRef((t,e)=>{const n=Qa(Ac,t.__scopePopover),r=p.useRef(null),i=et(e,r),a=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return hp(o)},[]),s.jsx(Qu,{as:_q,allowPinchZoom:!0,children:s.jsx(kI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Cq=p.forwardRef((t,e)=>{const n=Qa(Ac,t.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(kI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),kI=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...g}=t,m=Qa(Ac,n),w=th(n);return up(),s.jsx(Yu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Ym,{"data-state":TI(m.open),role:"dialog",id:m.contentId,...w,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),EI="PopoverClose",kq=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Qa(EI,n);return s.jsx(Oe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});kq.displayName=EI;var Eq="PopoverArrow",Tq=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=th(n);return s.jsx(Qm,{...i,...r,ref:e})});Tq.displayName=Eq;function TI(t){return t?"open":"closed"}var Pq=jI,Aq=_I,Iq=SI,PI=CI;const g1=Pq,x1=Aq,ly=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>s.jsx(Iq,{children:s.jsx(PI,{ref:i,align:e,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));ly.displayName=PI.displayName;var Le=function(){return Le=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Le.apply(this,arguments)};function Rq(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AI(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function nh(t){return t.mode==="multiple"}function sh(t){return t.mode==="range"}function Cp(t){return t.mode==="single"}var Dq={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Mq(t,e){return Gs(t,"LLLL y",e)}function Oq(t,e){return Gs(t,"d",e)}function Fq(t,e){return Gs(t,"LLLL",e)}function Lq(t){return"".concat(t)}function $q(t,e){return Gs(t,"cccccc",e)}function Uq(t,e){return Gs(t,"yyyy",e)}var Vq=Object.freeze({__proto__:null,formatCaption:Mq,formatDay:Oq,formatMonthCaption:Fq,formatWeekNumber:Lq,formatWeekdayName:$q,formatYearCaption:Uq}),zq=function(t,e,n){return Gs(t,"do MMMM (EEEE)",n)},Bq=function(){return"Month: "},Wq=function(){return"Go to next month"},Hq=function(){return"Go to previous month"},qq=function(t,e){return Gs(t,"cccc",e)},Kq=function(t){return"Week n. ".concat(t)},Gq=function(){return"Year: "},Yq=Object.freeze({__proto__:null,labelDay:zq,labelMonthDropdown:Bq,labelNext:Wq,labelPrevious:Hq,labelWeekNumber:Kq,labelWeekday:qq,labelYearDropdown:Gq});function Qq(){var t="buttons",e=Dq,n=mI,r={},i={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:Vq,labels:Yq,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Xq(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return r?a=ss(r):e&&(a=new Date(e,0,1)),i?o=Pj(i):n&&(o=new Date(n,11,31)),{fromDate:a?Pc(a):void 0,toDate:o?Pc(o):void 0}}var II=p.createContext(void 0);function Zq(t){var e,n=t.initialProps,r=Qq(),i=Xq(n),a=i.fromDate,o=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(Cp(n)||nh(n)||sh(n))&&(c=n.onSelect);var d=Le(Le(Le({},r),n),{captionLayout:l,classNames:Le(Le({},r.classNames),n.classNames),components:Le({},n.components),formatters:Le(Le({},r.formatters),n.formatters),fromDate:a,labels:Le(Le({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Le(Le({},r.modifiers),n.modifiers),modifiersClassNames:Le(Le({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Le(Le({},r.styles),n.styles),toDate:o});return s.jsx(II.Provider,{value:d,children:t.children})}function At(){var t=p.useContext(II);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function RI(t){var e=At(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function Jq(t){return s.jsx("svg",Le({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DI(t){var e,n,r=t.onChange,i=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,d=At(),h=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Jq;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),s.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function eK(t){var e,n=At(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var g=[];if(fq(r,i))for(var m=ss(r),w=r.getMonth();w<=i.getMonth();w++)g.push(ox(m,w));else for(var m=ss(new Date),w=0;w<=11;w++)g.push(ox(m,w));var f=function(N){var j=Number(N.target.value),v=ox(ss(t.displayMonth),j);t.onChange(v)},x=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:DI;return s.jsx(x,{name:"months","aria-label":h(),className:c.dropdown_month,style:a.dropdown_month,onChange:f,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:g.map(function(N){return s.jsx("option",{value:N.getMonth(),children:l(N,{locale:o})},N.getMonth())})})}function tK(t){var e,n=t.displayMonth,r=At(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,h=r.formatters.formatYearCaption,g=r.labels.labelYearDropdown,m=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var w=i.getFullYear(),f=a.getFullYear(),x=w;x<=f;x++)m.push(p1(hI(new Date),x));var N=function(v){var S=p1(ss(n),Number(v.target.value));t.onChange(S)},j=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:DI;return s.jsx(j,{name:"years","aria-label":g(),className:c.dropdown_year,style:l.dropdown_year,onChange:N,value:n.getFullYear(),caption:h(n,{locale:o}),children:m.map(function(v){return s.jsx("option",{value:v.getFullYear(),children:h(v,{locale:o})},v.getFullYear())})})}function nK(t,e){var n=p.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function sK(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&_u(a,i)<0){var d=-1*(c-1);i=ar(a,d)}return o&&_u(i,o)<0&&(i=o),ss(i)}function rK(){var t=At(),e=sK(t),n=nK(e,t.month),r=n[0],i=n[1],a=function(o){var l;if(!t.disableNavigation){var c=ss(o);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,a]}function iK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=ss(t),a=ss(ar(i,r)),o=_u(a,i),l=[],c=0;c<o;c++){var d=ar(i,c);l.push(d)}return n&&(l=l.reverse()),l}function aK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=ss(t);if(!n)return ar(l,o);var c=_u(n,t);if(!(c<a))return ar(l,o)}}function oK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=ss(t);if(!n)return ar(l,-o);var c=_u(l,n);if(!(c<=0))return ar(l,-o)}}var MI=p.createContext(void 0);function lK(t){var e=At(),n=rK(),r=n[0],i=n[1],a=iK(r,e),o=aK(r,e),l=oK(r,e),c=function(g){return a.some(function(m){return Ij(g,m)})},d=function(g,m){c(g)||(m&&yI(g,m)?i(ar(g,1+e.numberOfMonths*-1)):i(g))},h={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(MI.Provider,{value:h,children:t.children})}function rh(){var t=p.useContext(MI);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function v1(t){var e,n=At(),r=n.classNames,i=n.styles,a=n.components,o=rh().goToMonth,l=function(h){o(ar(h,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:RI,d=s.jsx(c,{id:t.id,displayMonth:t.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(eK,{onChange:l,displayMonth:t.displayMonth}),s.jsx(tK,{onChange:l,displayMonth:t.displayMonth})]})}function cK(t){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function dK(t){return s.jsx("svg",Le({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _m=p.forwardRef(function(t,e){var n=At(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var o=a.join(" "),l=Le(Le({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),s.jsx("button",Le({},t,{ref:e,type:"button",className:o,style:l}))});function uK(t){var e,n,r=At(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,h=c.labelNext,g=r.components;if(!t.nextMonth&&!t.previousMonth)return s.jsx(s.Fragment,{});var m=d(t.previousMonth,{locale:a}),w=[o.nav_button,o.nav_button_previous].join(" "),f=h(t.nextMonth,{locale:a}),x=[o.nav_button,o.nav_button_next].join(" "),N=(e=g==null?void 0:g.IconRight)!==null&&e!==void 0?e:dK,j=(n=g==null?void 0:g.IconLeft)!==null&&n!==void 0?n:cK;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&s.jsx(_m,{name:"previous-month","aria-label":m,className:w,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&s.jsx(_m,{name:"next-month","aria-label":f,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})})]})}function y1(t){var e=At().numberOfMonths,n=rh(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(f){return Ij(t.displayMonth,f)}),c=l===0,d=l===o.length-1,h=e>1&&(c||!d),g=e>1&&(d||!c),m=function(){r&&a(r)},w=function(){i&&a(i)};return s.jsx(uK,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:g,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:w})}function hK(t){var e,n=At(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:RI,d;return i?d=s.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=s.jsx(v1,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(v1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),s.jsx(y1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(y1,{displayMonth:t.displayMonth,id:t.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:d})}function fK(t){var e=At(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function mK(t,e,n){for(var r=n?Go(new Date):Vr(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Ln(r,a);i.push(o)}return i}function pK(){var t=At(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=mK(i,a,o);return s.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(h,g){return s.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(h,{locale:i}),children:l(h,{locale:i})},g)})]})}function gK(){var t,e=At(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:pK;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function xK(t){var e=At(),n=e.locale,r=e.formatters.formatDay;return s.jsx(s.Fragment,{children:r(t.date,{locale:n})})}var Dj=p.createContext(void 0);function vK(t){if(!nh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Dj.Provider,{value:e,children:t.children})}return s.jsx(yK,{initialProps:t.initialProps,children:t.children})}function yK(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,o=function(d,h,g){var m,w;(m=e.onDayClick)===null||m===void 0||m.call(e,d,h,g);var f=!!(h.selected&&i&&(r==null?void 0:r.length)===i);if(!f){var x=!!(!h.selected&&a&&(r==null?void 0:r.length)===a);if(!x){var N=r?AI([],r):[];if(h.selected){var j=N.findIndex(function(v){return Jn(d,v)});N.splice(j,1)}else N.push(d);(w=e.onSelect)===null||w===void 0||w.call(e,N,d,h,g)}}},l={disabled:[]};r&&l.disabled.push(function(d){var h=a&&r.length>a-1,g=r.some(function(m){return Jn(m,d)});return!!(h&&!g)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(Dj.Provider,{value:c,children:n})}function Mj(){var t=p.useContext(Dj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function wK(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Jn(i,t)&&Jn(r,t)?void 0:Jn(i,t)?{from:i,to:void 0}:Jn(r,t)?void 0:oy(r,t)?{from:t,to:i}:{from:r,to:t}:i?oy(t,i)?{from:i,to:t}:{from:t,to:i}:r?yI(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Oj=p.createContext(void 0);function jK(t){if(!sh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Oj.Provider,{value:e,children:t.children})}return s.jsx(bK,{initialProps:t.initialProps,children:t.children})}function bK(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,o=i.to,l=e.min,c=e.max,d=function(w,f,x){var N,j;(N=e.onDayClick)===null||N===void 0||N.call(e,w,f,x);var v=wK(w,r);(j=e.onSelect)===null||j===void 0||j.call(e,v,w,f,x)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(h.range_start=[a],o?(h.range_end=[o],Jn(a,o)||(h.range_middle=[{after:a,before:o}])):h.range_end=[a]):o&&(h.range_start=[o],h.range_end=[o]),l&&(a&&!o&&h.disabled.push({after:ax(a,l-1),before:Ln(a,l-1)}),a&&o&&h.disabled.push({after:a,before:Ln(a,l-1)}),!a&&o&&h.disabled.push({after:ax(o,l-1),before:Ln(o,l-1)})),c){if(a&&!o&&(h.disabled.push({before:Ln(a,-c+1)}),h.disabled.push({after:Ln(a,c-1)})),a&&o){var g=kr(o,a)+1,m=c-g;h.disabled.push({before:ax(a,m)}),h.disabled.push({after:Ln(o,m)})}!a&&o&&(h.disabled.push({before:Ln(o,-c+1)}),h.disabled.push({after:Ln(o,c-1)}))}return s.jsx(Oj.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:n})}function Fj(){var t=p.useContext(Oj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function vf(t){return Array.isArray(t)?AI([],t):t!==void 0?[t]:[]}function NK(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=vf(i)}),e}var or;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(or||(or={}));var _K=or.Selected,Xr=or.Disabled,SK=or.Hidden,CK=or.Today,lx=or.RangeEnd,cx=or.RangeMiddle,dx=or.RangeStart,kK=or.Outside;function EK(t,e,n){var r,i=(r={},r[_K]=vf(t.selected),r[Xr]=vf(t.disabled),r[SK]=vf(t.hidden),r[CK]=[t.today],r[lx]=[],r[cx]=[],r[dx]=[],r[kK]=[],r);return t.fromDate&&i[Xr].push({before:t.fromDate}),t.toDate&&i[Xr].push({after:t.toDate}),nh(t)?i[Xr]=i[Xr].concat(e.modifiers[Xr]):sh(t)&&(i[Xr]=i[Xr].concat(n.modifiers[Xr]),i[dx]=n.modifiers[dx],i[cx]=n.modifiers[cx],i[lx]=n.modifiers[lx]),i}var OI=p.createContext(void 0);function TK(t){var e=At(),n=Mj(),r=Fj(),i=EK(e,n,r),a=NK(e.modifiers),o=Le(Le({},i),a);return s.jsx(OI.Provider,{value:o,children:t.children})}function FI(){var t=p.useContext(OI);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function PK(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function AK(t){return!!(t&&typeof t=="object"&&"from"in t)}function IK(t){return!!(t&&typeof t=="object"&&"after"in t)}function RK(t){return!!(t&&typeof t=="object"&&"before"in t)}function DK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function MK(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=kr(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=kr(t,r)>=0&&kr(i,t)>=0;return o}return i?Jn(i,t):r?Jn(r,t):!1}function OK(t){return Tj(t)}function FK(t){return Array.isArray(t)&&t.every(Tj)}function LK(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(OK(n))return Jn(t,n);if(FK(n))return n.includes(t);if(AK(n))return MK(t,n);if(DK(n))return n.dayOfWeek.includes(t.getDay());if(PK(n)){var r=kr(n.before,t),i=kr(n.after,t),a=r>0,o=i<0,l=oy(n.before,n.after);return l?o&&a:a||o}return IK(n)?kr(t,n.after)>0:RK(n)?kr(n.before,t)>0:typeof n=="function"?n(t):!1})}function Lj(t,e,n){var r=Object.keys(e).reduce(function(a,o){var l=e[o];return LK(t,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!Ij(t,n)&&(i.outside=!0),i}function $K(t,e){for(var n=ss(t[0]),r=Pj(t[t.length-1]),i,a,o=n;o<=r;){var l=Lj(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Ln(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Ln(o,1)}return a||i}var UK=365;function LI(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=i.weekStartsOn,d=i.fromDate,h=i.toDate,g=i.locale,m={day:Ln,week:ay,month:ar,year:cH,startOfWeek:function(N){return i.ISOWeek?Go(N):Vr(N,{locale:g,weekStartsOn:c})},endOfWeek:function(N){return i.ISOWeek?fI(N):Aj(N,{locale:g,weekStartsOn:c})}},w=m[n](t,r==="after"?1:-1);r==="before"&&d?w=dH([d,w]):r==="after"&&h&&(w=uH([h,w]));var f=!0;if(a){var x=Lj(w,a);f=!x.disabled&&!x.hidden}return f?w:l.count>UK?l.lastFocused:LI(w,{moveBy:n,direction:r,context:i,modifiers:a,retry:Le(Le({},l),{count:l.count+1})})}var $I=p.createContext(void 0);function VK(t){var e=rh(),n=FI(),r=p.useState(),i=r[0],a=r[1],o=p.useState(),l=o[0],c=o[1],d=$K(e.displayMonths,n),h=i??(l&&e.isDateDisplayed(l))?l:d,g=function(){c(i),a(void 0)},m=function(N){a(N)},w=At(),f=function(N,j){if(i){var v=LI(i,{moveBy:N,direction:j,context:w,modifiers:n});Jn(i,v)||(e.goToDate(v,i),m(v))}},x={focusedDay:i,focusTarget:h,blur:g,focus:m,focusDayAfter:function(){return f("day","after")},focusDayBefore:function(){return f("day","before")},focusWeekAfter:function(){return f("week","after")},focusWeekBefore:function(){return f("week","before")},focusMonthBefore:function(){return f("month","before")},focusMonthAfter:function(){return f("month","after")},focusYearBefore:function(){return f("year","before")},focusYearAfter:function(){return f("year","after")},focusStartOfWeek:function(){return f("startOfWeek","before")},focusEndOfWeek:function(){return f("endOfWeek","after")}};return s.jsx($I.Provider,{value:x,children:t.children})}function $j(){var t=p.useContext($I);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function zK(t,e){var n=FI(),r=Lj(t,n,e);return r}var Uj=p.createContext(void 0);function BK(t){if(!Cp(t.initialProps)){var e={selected:void 0};return s.jsx(Uj.Provider,{value:e,children:t.children})}return s.jsx(WK,{initialProps:t.initialProps,children:t.children})}function WK(t){var e=t.initialProps,n=t.children,r=function(a,o,l){var c,d,h;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,a,o,l);return}(h=e.onSelect)===null||h===void 0||h.call(e,a,a,o,l)},i={selected:e.selected,onDayClick:r};return s.jsx(Uj.Provider,{value:i,children:n})}function UI(){var t=p.useContext(Uj);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function HK(t,e){var n=At(),r=UI(),i=Mj(),a=Fj(),o=$j(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,g=o.blur,m=o.focus,w=o.focusMonthBefore,f=o.focusMonthAfter,x=o.focusYearBefore,N=o.focusYearAfter,j=o.focusStartOfWeek,v=o.focusEndOfWeek,S=function(V){var L,B,oe,le;Cp(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,V):nh(n)?(B=i.onDayClick)===null||B===void 0||B.call(i,t,e,V):sh(n)?(oe=a.onDayClick)===null||oe===void 0||oe.call(a,t,e,V):(le=n.onDayClick)===null||le===void 0||le.call(n,t,e,V)},y=function(V){var L;m(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,V)},E=function(V){var L;g(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,V)},D=function(V){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,V)},k=function(V){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,V)},_=function(V){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,V)},C=function(V){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,V)},R=function(V){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,V)},A=function(V){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,V)},T=function(V){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,V)},I=function(V){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,V)},F=function(V){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,V)},K=function(V){var L;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),d();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),h();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?x():w();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?N():f();break;case"Home":V.preventDefault(),V.stopPropagation(),j();break;case"End":V.preventDefault(),V.stopPropagation(),v();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,V)},z={onClick:S,onFocus:y,onBlur:E,onKeyDown:K,onKeyUp:F,onMouseEnter:D,onMouseLeave:k,onPointerEnter:_,onPointerLeave:C,onTouchCancel:R,onTouchEnd:A,onTouchMove:T,onTouchStart:I};return z}function qK(){var t=At(),e=UI(),n=Mj(),r=Fj(),i=Cp(t)?e.selected:nh(t)?n.selected:sh(t)?r.selected:void 0;return i}function KK(t){return Object.values(or).includes(t)}function GK(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(KK(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function YK(t,e){var n=Le({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Le(Le({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function QK(t,e,n){var r,i,a,o=At(),l=$j(),c=zK(t,e),d=HK(t,c),h=qK(),g=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var D;c.outside||l.focusedDay&&g&&Jn(l.focusedDay,t)&&((D=n.current)===null||D===void 0||D.focus())},[l.focusedDay,t,n,g,c.outside]);var m=GK(o,c).join(" "),w=YK(o,c),f=!!(c.outside&&!o.showOutsideDays||c.hidden),x=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:xK,N=s.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),j={style:w,className:m,children:N,role:"gridcell"},v=l.focusTarget&&Jn(l.focusTarget,t)&&!c.outside,S=l.focusedDay&&Jn(l.focusedDay,t),y=Le(Le(Le({},j),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=S||v?0:-1,r)),d),E={isButton:g,isHidden:f,activeModifiers:c,selectedDays:h,buttonProps:y,divProps:j};return E}function XK(t){var e=p.useRef(null),n=QK(t.date,t.displayMonth,e);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(_m,Le({name:"day",ref:e},n.buttonProps)):s.jsx("div",Le({},n.divProps))}function ZK(t){var e=t.number,n=t.dates,r=At(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(e),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:h});var g=c(Number(e),{locale:l}),m=function(w){i(e,n,w)};return s.jsx(_m,{name:"week-number","aria-label":g,className:o.weeknumber,style:a.weeknumber,onClick:m,children:h})}function JK(t){var e,n,r=At(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:XK,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:ZK,h;return o&&(h=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:t.weekNumber,dates:t.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[h,t.dates.map(function(g){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:t.displayMonth,date:g})},dq(g))})]})}function w1(t,e,n){for(var r=n!=null&&n.ISOWeek?fI(e):Aj(e,n),i=n!=null&&n.ISOWeek?Go(t):Vr(t,n),a=kr(r,i),o=[],l=0;l<=a;l++)o.push(Ln(i,l));var c=o.reduce(function(d,h){var g=n!=null&&n.ISOWeek?pI(h):xI(h,n),m=d.find(function(w){return w.weekNumber===g});return m?(m.dates.push(h),d):(d.push({weekNumber:g,dates:[h]}),d)},[]);return c}function eG(t,e){var n=w1(ss(t),Pj(t),e);if(e!=null&&e.useFixedWeeks){var r=hq(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=ay(a,6-r),l=w1(ay(a,1),o,e);n.push.apply(n,l)}}return n}function tG(t){var e,n,r,i=At(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,h=i.components,g=i.weekStartsOn,m=i.firstWeekContainsDate,w=i.ISOWeek,f=eG(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:w,locale:a,weekStartsOn:g,firstWeekContainsDate:m}),x=(e=h==null?void 0:h.Head)!==null&&e!==void 0?e:gK,N=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:JK,j=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:fK;return s.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&s.jsx(x,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:f.map(function(v){return s.jsx(N,{displayMonth:t.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),s.jsx(j,{displayMonth:t.displayMonth})]})}function nG(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var sG=nG()?p.useLayoutEffect:p.useEffect,ux=!1,rG=0;function j1(){return"react-day-picker-".concat(++rG)}function iG(t){var e,n=t??(ux?j1():null),r=p.useState(n),i=r[0],a=r[1];return sG(function(){i===null&&a(j1())},[]),p.useEffect(function(){ux===!1&&(ux=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function aG(t){var e,n,r=At(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=rh().displayMonths,d=iG(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,g=[a.month],m=o.month,w=t.displayIndex===0,f=t.displayIndex===c.length-1,x=!w&&!f;i==="rtl"&&(e=[w,f],f=e[0],w=e[1]),w&&(g.push(a.caption_start),m=Le(Le({},m),o.caption_start)),f&&(g.push(a.caption_end),m=Le(Le({},m),o.caption_end)),x&&(g.push(a.caption_between),m=Le(Le({},m),o.caption_between));var N=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:hK;return s.jsxs("div",{className:g.join(" "),style:m,children:[s.jsx(N,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(tG,{id:h,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function oG(t){var e=At(),n=e.classNames,r=e.styles;return s.jsx("div",{className:n.months,style:r.months,children:t.children})}function lG(t){var e,n,r=t.initialProps,i=At(),a=$j(),o=rh(),l=p.useState(!1),c=l[0],d=l[1];p.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var g=Le(Le({},i.styles.root),i.style),m=Object.keys(r).filter(function(f){return f.startsWith("data-")}).reduce(function(f,x){var N;return Le(Le({},f),(N={},N[x]=r[x],N))},{}),w=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:oG;return s.jsx("div",Le({className:h.join(" "),style:g,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:s.jsx(w,{children:o.displayMonths.map(function(f,x){return s.jsx(aG,{displayIndex:x,displayMonth:f},x)})})}))}function cG(t){var e=t.children,n=Rq(t,["children"]);return s.jsx(Zq,{initialProps:n,children:s.jsx(lK,{children:s.jsx(BK,{initialProps:n,children:s.jsx(vK,{initialProps:n,children:s.jsx(jK,{initialProps:n,children:s.jsx(TK,{children:s.jsx(VK,{children:e})})})})})})})}function dG(t){return s.jsx(cG,Le({},t,{children:s.jsx(lG,{initialProps:t})}))}function cy({className:t,classNames:e,showOutsideDays:n=!0,...r}){return s.jsx(dG,{showOutsideDays:n,className:ve("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(ju({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(ju({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...a})=>s.jsx(za,{className:ve("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(Fr,{className:ve("h-4 w-4",i),...a})},...r})}cy.displayName="Calendar";function uG(){const[t,e]=p.useState(!1),[n,r]=p.useState(void 0),[i,a]=p.useState(void 0),[o,l]=p.useState({from:"",to:"",limit:"50"}),[c,d]=p.useState({starting_after:"",ending_before:""}),g=(()=>{const A=new URLSearchParams;return o.limit&&A.append("limit",o.limit),o.from&&A.append("from",o.from),o.to&&A.append("to",o.to),c.starting_after&&A.append("starting_after",c.starting_after),c.ending_before&&A.append("ending_before",c.ending_before),A.toString()})(),{data:m,isLoading:w}=$e({queryKey:["/api/admin/application-fees",g],queryFn:async()=>{const A=await fetch(`/api/admin/application-fees?${g}`);if(!A.ok)throw new Error("Failed to fetch fees");return A.json()}}),f=(m==null?void 0:m.data)||[],x=(m==null?void 0:m.has_more)||!1,N=f.reduce((A,T)=>A+(T.amount||0),0),j=new Date().getMonth(),v=new Date().getFullYear(),S=f.filter(A=>{const T=new Date(A.created*1e3);return T.getMonth()===j&&T.getFullYear()===v}).reduce((A,T)=>A+(T.amount||0),0),y=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A/100),E=A=>new Date(A*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=()=>{l({...o,from:n?Gs(n,"yyyy-MM-dd"):"",to:i?Gs(i,"yyyy-MM-dd"):""}),d({starting_after:"",ending_before:""})},k=()=>{r(void 0),a(void 0),l({from:"",to:"",limit:"50"}),d({starting_after:"",ending_before:""})},_=()=>{f.length>0&&d({starting_after:f[f.length-1].id,ending_before:""})},C=()=>{f.length>0&&d({starting_after:"",ending_before:f[0].id})},R=[o.from,o.to].filter(A=>A).length;return w?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading revenue..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Revenue"}),s.jsx("p",{className:"text-muted-foreground",children:"Platform revenue from client transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Fees (Current View)"}),s.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-fees",children:y(N)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From current filter results"})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"This Month (Current View)"}),s.jsx(Zk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-fees",children:y(S)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Transactions"}),s.jsx(vc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee transactions in current view"})]})]})]}),s.jsxs(Z,{className:"mb-6",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($c,{className:"h-5 w-5"}),s.jsx(ie,{children:"Filters"}),R>0&&s.jsxs(Ve,{variant:"secondary",children:[R," active"]})]}),s.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>e(!t),"data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]})}),t&&s.jsxs(te,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"From Date"}),s.jsxs(g1,{children:[s.jsx(x1,{asChild:!0,children:s.jsxs(Y,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),"data-testid":"button-from-date",children:[s.jsx($l,{className:"mr-2 h-4 w-4"}),n?Gs(n,"PPP"):"Pick a date"]})}),s.jsx(ly,{className:"w-auto p-0",align:"start",children:s.jsx(cy,{mode:"single",selected:n,onSelect:r,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"To Date"}),s.jsxs(g1,{children:[s.jsx(x1,{asChild:!0,children:s.jsxs(Y,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),"data-testid":"button-to-date",children:[s.jsx($l,{className:"mr-2 h-4 w-4"}),i?Gs(i,"PPP"):"Pick a date"]})}),s.jsx(ly,{className:"w-auto p-0",align:"start",children:s.jsx(cy,{mode:"single",selected:i,onSelect:a,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"limit-filter",children:"Results per page"}),s.jsxs(mn,{value:o.limit,onValueChange:A=>l({...o,limit:A}),children:[s.jsx(nn,{id:"limit-filter","data-testid":"select-limit-filter",children:s.jsx(pn,{placeholder:"50"})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"10",children:"10"}),s.jsx(ae,{value:"25",children:"25"}),s.jsx(ae,{value:"50",children:"50"}),s.jsx(ae,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(Y,{onClick:D,"data-testid":"button-apply-filters",children:"Apply Filters"}),s.jsxs(Y,{variant:"outline",onClick:k,"data-testid":"button-clear-filters",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Revenue"}),s.jsx(Ce,{children:"List of platform fees collected from transactions"})]}),s.jsx(te,{children:f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Pr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No revenue found"}),R>0&&s.jsx(Y,{variant:"outline",onClick:k,className:"mt-4","data-testid":"button-clear-filters-empty",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Status"})]})}),s.jsx("tbody",{children:f.map(A=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-fee-${A.id}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:E(A.created)})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:y(A.amount)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Ve,{variant:A.refunded?"destructive":"default",className:"text-xs",children:A.refunded?"Refunded":"Collected"})})]},A.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",f.length," ",f.length===1?"fee":"fees"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:C,disabled:!c.starting_after&&!c.ending_before,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:_,disabled:!x,"data-testid":"button-next-page",children:["Next",s.jsx(Fr,{className:"h-4 w-4 ml-1"})]})]})]})]})})]})]})})}const Ht=p.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Ht.displayName="Textarea";var hG=Symbol("radix.slottable");function fG(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=hG,e}var VI="AlertDialog",[mG]=rs(VI,[HA]),Ti=HA(),zI=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ti(e);return s.jsx(oI,{...r,...n,modal:!0})};zI.displayName=VI;var pG="AlertDialogTrigger",gG=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ti(n);return s.jsx(lI,{...i,...r,ref:e})});gG.displayName=pG;var xG="AlertDialogPortal",BI=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ti(e);return s.jsx(cI,{...r,...n})};BI.displayName=xG;var vG="AlertDialogOverlay",WI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ti(n);return s.jsx(Nj,{...i,...r,ref:e})});WI.displayName=vG;var Xl="AlertDialogContent",[yG,wG]=mG(Xl),jG=fG("AlertDialogContent"),HI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=Ti(n),o=p.useRef(null),l=et(e,o),c=p.useRef(null);return s.jsx(zW,{contentName:Xl,titleName:qI,docsSlug:"alert-dialog",children:s.jsx(yG,{scope:n,cancelRef:c,children:s.jsxs(_j,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:pe(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(jG,{children:r}),s.jsx(NG,{contentRef:o})]})})})});HI.displayName=Xl;var qI="AlertDialogTitle",KI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ti(n);return s.jsx(Sj,{...i,...r,ref:e})});KI.displayName=qI;var GI="AlertDialogDescription",YI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ti(n);return s.jsx(Cj,{...i,...r,ref:e})});YI.displayName=GI;var bG="AlertDialogAction",QI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Ti(n);return s.jsx(kj,{...i,...r,ref:e})});QI.displayName=bG;var XI="AlertDialogCancel",ZI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=wG(XI,n),a=Ti(n),o=et(e,i);return s.jsx(kj,{...a,...r,ref:o})});ZI.displayName=XI;var NG=({contentRef:t})=>{const e=`\`${Xl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xl}\` by passing a \`${GI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},_G=zI,SG=BI,JI=WI,e4=HI,t4=QI,n4=ZI,s4=KI,r4=YI;const Vj=_G,CG=SG,i4=p.forwardRef(({className:t,...e},n)=>s.jsx(JI,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));i4.displayName=JI.displayName;const kp=p.forwardRef(({className:t,...e},n)=>s.jsxs(CG,{children:[s.jsx(i4,{}),s.jsx(e4,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));kp.displayName=e4.displayName;const Ep=({className:t,...e})=>s.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ep.displayName="AlertDialogHeader";const Tp=({className:t,...e})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tp.displayName="AlertDialogFooter";const Pp=p.forwardRef(({className:t,...e},n)=>s.jsx(s4,{ref:n,className:ve("text-lg font-semibold",t),...e}));Pp.displayName=s4.displayName;const Ap=p.forwardRef(({className:t,...e},n)=>s.jsx(r4,{ref:n,className:ve("text-sm text-muted-foreground",t),...e}));Ap.displayName=r4.displayName;const Ip=p.forwardRef(({className:t,...e},n)=>s.jsx(t4,{ref:n,className:ve(ju(),t),...e}));Ip.displayName=t4.displayName;const Rp=p.forwardRef(({className:t,...e},n)=>s.jsx(n4,{ref:n,className:ve(ju({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Rp.displayName=n4.displayName;function kG(){var it,dt,bn;const[t,e]=p.useState(1),[n,r]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[h,g]=p.useState(!1),[m,w]=p.useState(""),[f,x]=p.useState(null),[N,j]=p.useState(null),[v,S]=p.useState(!1),[y,E]=p.useState(null),[D,k]=p.useState(""),[_,C]=p.useState(!1),[R,A]=p.useState(null),[T,I]=p.useState(""),[F,K]=p.useState(null),[z,V]=p.useState(!1),{externalApiUrl:L}=_p(),[B,oe]=p.useState(null),[le,W]=p.useState(""),{toast:fe}=Vt(),de=10,qe=(()=>{const ce=new URLSearchParams;return ce.append("limit",de.toString()),ce.append("page",t.toString()),n&&ce.append("title",n),ce.toString()})(),{data:ge,isLoading:He}=$e({queryKey:["/api/admin/categories",qe],queryFn:async()=>{const ce=await fetch(`/api/admin/categories?${qe}`);if(!ce.ok)throw new Error("Failed to fetch categories");return ce.json()}}),ze=((it=ge==null?void 0:ge.data)==null?void 0:it.categories)||[],H=((dt=ge==null?void 0:ge.data)==null?void 0:dt.pages)||1,_e=((bn=ge==null?void 0:ge.data)==null?void 0:bn.totalDoc)||0,Pe=()=>{r(i),e(1)},Qe=()=>{a(""),r(""),e(1)},_t=rt({mutationFn:async ce=>wt("POST","/api/admin/categories/bulk",{names:ce}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),fe({title:"Success",description:"Categories imported successfully"}),l(""),d(!1)},onError:ce=>{fe({title:"Error",description:ce.message||"Failed to import categories",variant:"destructive"})}}),kt=()=>{const ce=o.split(`
`).map(Xe=>Xe.trim()).filter(Xe=>Xe.length>0);if(ce.length===0){fe({title:"Error",description:"Please enter at least one category name",variant:"destructive"});return}_t.mutate(ce)},gn=rt({mutationFn:async({name:ce,icon:Xe})=>{console.log("Starting category mutation with name:",ce,"icon:",Xe==null?void 0:Xe.name);const dr=new FormData;dr.append("name",ce),Xe&&dr.append("images",Xe),console.log("Sending request to /api/admin/categories");try{const zt=await fetch("/api/admin/categories",{method:"POST",body:dr});if(console.log("Response received:",zt.status,zt.statusText),!zt.ok){const Kr=await zt.json();throw new Error(Kr.error||"Failed to add category")}const qn=await zt.json();return console.log("Success data:",qn),qn}catch(zt){throw console.error("Fetch error:",zt),zt}},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),fe({title:"Success",description:"Category added successfully"}),w(""),x(null),g(!1)},onError:ce=>{fe({title:"Error",description:ce.message||"Failed to add category",variant:"destructive"})}}),An=()=>{if(!m.trim()){fe({title:"Error",description:"Please enter a category name",variant:"destructive"});return}gn.mutate({name:m,icon:f})},cr=rt({mutationFn:async ce=>wt("DELETE",`/api/admin/categories/${ce}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),fe({title:"Success",description:"Category deleted successfully"}),j(null)},onError:ce=>{fe({title:"Error",description:ce.message||"Failed to delete category",variant:"destructive"})}}),Et=()=>{N&&cr.mutate(N)},$=rt({mutationFn:async({id:ce,name:Xe,icon:dr})=>{const zt=new FormData;zt.append("name",Xe),dr&&zt.append("images",dr);const qn=await fetch(`/api/admin/categories/${ce}`,{method:"PUT",body:zt});if(!qn.ok){const Kr=await qn.json();throw new Error(Kr.error||"Failed to update category")}return qn.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),fe({title:"Success",description:"Category updated successfully"}),C(!1),A(null),I(""),K(null)},onError:ce=>{fe({title:"Error",description:ce.message||"Failed to update category",variant:"destructive"})}}),G=()=>{if(!R||!T.trim()){fe({title:"Error",description:"Please enter a category name",variant:"destructive"});return}$.mutate({id:R._id,name:T,icon:F})},J=ce=>{A(ce),I(ce.name),K(null),C(!0)},be=rt({mutationFn:async({categoryId:ce,parentId:Xe})=>wt("PUT",`/api/admin/categories/${ce}/convert`,{targetType:"child",parentId:Xe}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),fe({title:"Success",description:"Category converted to subcategory successfully"}),V(!1),oe(null),W("")},onError:ce=>{fe({title:"Error",description:ce.message||"Failed to convert category",variant:"destructive"})}}),ye=()=>{if(!B||!le){fe({title:"Error",description:"Please select a parent category",variant:"destructive"});return}if(B._id===le){fe({title:"Error",description:"Cannot convert a category to be its own subcategory",variant:"destructive"});return}be.mutate({categoryId:B._id,parentId:le})},ue=rt({mutationFn:async({categoryId:ce,names:Xe})=>wt("POST",`/api/admin/categories/${ce}/subcategories/bulk`,{names:Xe}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),fe({title:"Success",description:"Subcategories imported successfully"}),k(""),S(!1),E(null)},onError:ce=>{fe({title:"Error",description:ce.message||"Failed to import subcategories",variant:"destructive"})}}),Re=()=>{if(!y)return;const ce=D.split(`
`).map(Xe=>Xe.trim()).filter(Xe=>Xe.length>0);if(ce.length===0){fe({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}ue.mutate({categoryId:y.id,names:ce})};return He?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]})})}):s.jsxs(Me,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage product categories"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search categories by name...",value:i,onChange:ce=>a(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&Pe(),className:"pl-10","data-testid":"input-search-categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{onClick:Pe,"data-testid":"button-search",children:"Search"}),n&&s.jsx(Y,{variant:"outline",onClick:Qe,"data-testid":"button-clear-search",children:"Clear"}),s.jsxs(oi,{open:h,onOpenChange:g,children:[s.jsx(bm,{asChild:!0,children:s.jsxs(Y,{"data-testid":"button-add-category",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Add New Category"}),s.jsx(Zi,{children:"Create a new category with an optional icon image."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"category-name",children:"Category Name"}),s.jsx(ee,{id:"category-name",placeholder:"Enter category name",value:m,onChange:ce=>w(ce.target.value),"data-testid":"input-category-name"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"category-icon",children:"Category Icon (Optional)"}),s.jsx(ee,{id:"category-icon",type:"file",accept:"image/*",onChange:ce=>{var Xe;return x(((Xe=ce.target.files)==null?void 0:Xe[0])||null)},"data-testid":"input-category-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>{g(!1),w(""),x(null)},"data-testid":"button-cancel-add-category",children:"Cancel"}),s.jsx(Y,{onClick:An,disabled:gn.isPending,"data-testid":"button-submit-add-category",children:gn.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(oi,{open:c,onOpenChange:d,children:[s.jsx(bm,{asChild:!0,children:s.jsxs(Y,{variant:"outline","data-testid":"button-bulk-import",children:[s.jsx(jw,{className:"h-4 w-4 mr-2"}),"Bulk Import"]})}),s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Bulk Import Categories"}),s.jsx(Zi,{children:"Enter category names, one per line. They will be added to the system."})]}),s.jsx(Ht,{placeholder:`Category 1
Category 2
Category 3`,value:o,onChange:ce=>l(ce.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-import",children:"Cancel"}),s.jsx(Y,{onClick:kt,disabled:_t.isPending,"data-testid":"button-submit-import",children:_t.isPending?"Importing...":"Import"})]})]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"All Categories"}),s.jsx(Ce,{children:"Product categories in the platform"})]}),s.jsx(te,{children:ze.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Subcategories"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:ze.map(ce=>{var Xe;return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-category-${ce._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:ce.icon?s.jsx("img",{src:Tc(ce.icon,L),alt:ce.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-category-${ce._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Vd,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Ll,{href:`/admin/categories/${ce._id}/subcategories`,children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("span",{className:"font-medium text-foreground group-hover:text-primary transition-colors","data-testid":`text-category-name-${ce._id}`,children:ce.name}),s.jsx(Fr,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:ce.type||"N/A"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:((Xe=ce.subCategories)==null?void 0:Xe.length)||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,children:s.jsx(Y,{variant:"ghost",size:"sm","data-testid":`button-actions-${ce._id}`,children:s.jsx(Lc,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[s.jsxs(wn,{onClick:()=>J(ce),"data-testid":`button-edit-category-${ce._id}`,children:[s.jsx(YF,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(wn,{onClick:()=>{E({id:ce._id,name:ce.name}),S(!0)},"data-testid":`button-add-subcategories-${ce._id}`,children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Subcategories"]}),s.jsxs(wn,{onClick:()=>{oe(ce),V(!0)},"data-testid":`button-convert-to-child-${ce._id}`,children:[s.jsx(kF,{className:"h-4 w-4 mr-2"}),"Convert to Subcategory"]}),s.jsx(Ci,{}),s.jsxs(wn,{onClick:()=>j(ce._id),"data-testid":`button-delete-category-${ce._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},ce._id)})})]})})})]}),ze.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",H," (",_e," total categories)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>e(ce=>Math.max(1,ce-1)),disabled:t===1,"data-testid":"button-prev-page",children:[s.jsx(za,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>e(ce=>ce+1),disabled:t>=H,"data-testid":"button-next-page",children:["Next",s.jsx(Fr,{className:"h-4 w-4 ml-1"})]})]})]})]}),s.jsx(oi,{open:z,onOpenChange:ce=>{V(ce),ce||(oe(null),W(""))},children:s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Convert to Subcategory"}),s.jsxs(Zi,{children:['Convert "',B==null?void 0:B.name,'" to a subcategory by selecting its parent category.']})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"parent-category",children:"Parent Category"}),s.jsxs(mn,{value:le,onValueChange:W,children:[s.jsx(nn,{id:"parent-category","data-testid":"select-parent-category",children:s.jsx(pn,{placeholder:"Select a parent category"})}),s.jsx(sn,{children:ze.filter(ce=>ce._id!==(B==null?void 0:B._id)).map(ce=>s.jsx(ae,{value:ce._id,children:ce.name},ce._id))})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>{V(!1),oe(null),W("")},"data-testid":"button-cancel-convert",children:"Cancel"}),s.jsx(Y,{onClick:ye,disabled:be.isPending,"data-testid":"button-submit-convert",children:be.isPending?"Converting...":"Convert"})]})]})}),s.jsx(oi,{open:_,onOpenChange:ce=>{C(ce),ce||(A(null),I(""),K(null))},children:s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Edit Category"}),s.jsx(Zi,{children:"Update the category name and icon."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"edit-category-name",children:"Category Name"}),s.jsx(ee,{id:"edit-category-name",placeholder:"Enter category name",value:T,onChange:ce=>I(ce.target.value),"data-testid":"input-edit-category-name"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"edit-category-icon",children:"Category Icon (Optional)"}),s.jsx(ee,{id:"edit-category-icon",type:"file",accept:"image/*",onChange:ce=>{var Xe;return K(((Xe=ce.target.files)==null?void 0:Xe[0])||null)},"data-testid":"input-edit-category-icon"}),(R==null?void 0:R.icon)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Icon:"}),s.jsx("img",{src:Tc(R.icon,L),alt:R.name,className:"w-16 h-16 object-cover rounded-md"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>{C(!1),A(null),I(""),K(null)},"data-testid":"button-cancel-edit-category",children:"Cancel"}),s.jsx(Y,{onClick:G,disabled:$.isPending,"data-testid":"button-submit-edit-category",children:$.isPending?"Updating...":"Update"})]})]})}),s.jsx(oi,{open:v,onOpenChange:S,children:s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Bulk Import Subcategories"}),s.jsxs(Zi,{children:["Add subcategories to ",y==null?void 0:y.name,". Enter one subcategory name per line."]})]}),s.jsx(Ht,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:D,onChange:ce=>k(ce.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories-from-categories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>{S(!1),k(""),E(null)},"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(Y,{onClick:Re,disabled:ue.isPending,"data-testid":"button-submit-import-subcategories",children:ue.isPending?"Importing...":"Import"})]})]})}),s.jsx(Vj,{open:!!N,onOpenChange:ce=>!ce&&j(null),children:s.jsxs(kp,{children:[s.jsxs(Ep,{children:[s.jsx(Pp,{children:"Delete Category"}),s.jsx(Ap,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),s.jsxs(Tp,{children:[s.jsx(Rp,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Ip,{onClick:Et,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:cr.isPending?"Deleting...":"Delete"})]})]})})]})}function EG(){an();const[,t]=Zo("/admin/categories/:categoryId/subcategories"),e=t==null?void 0:t.categoryId,[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(""),[h,g]=p.useState(null),[m,w]=p.useState(null),{toast:f}=Vt(),{externalApiUrl:x}=_p(),{data:N,isLoading:j}=$e({queryKey:["/api/admin/categories",e],queryFn:async()=>{const T=await fetch(`/api/admin/categories/${e}`);if(!T.ok)throw new Error("Failed to fetch category");return T.json()},enabled:!!e}),v=N==null?void 0:N.data,S=(v==null?void 0:v.subCategories)||[],y=rt({mutationFn:async T=>wt("POST",`/api/admin/categories/${e}/subcategories/bulk`,{names:T}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories",e]}),Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),f({title:"Success",description:"Subcategories imported successfully"}),r(""),a(!1)},onError:T=>{f({title:"Error",description:T.message||"Failed to import subcategories",variant:"destructive"})}}),E=()=>{const T=n.split(`
`).map(I=>I.trim()).filter(I=>I.length>0);if(T.length===0){f({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}y.mutate(T)},D=rt({mutationFn:async({name:T,icon:I,parentId:F})=>{const K=new FormData;K.append("name",T),K.append("category",F),K.append("type","child"),I&&K.append("images",I);const z=await fetch("/api/admin/subcategories",{method:"POST",body:K});if(!z.ok){const V=await z.json();throw new Error(V.error||"Failed to add subcategory")}return z.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories",e]}),Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),f({title:"Success",description:"Subcategory added successfully"}),d(""),g(null),l(!1)},onError:T=>{f({title:"Error",description:T.message||"Failed to add subcategory",variant:"destructive"})}}),k=()=>{if(!c.trim()){f({title:"Error",description:"Please enter a subcategory name",variant:"destructive"});return}if(!e){f({title:"Error",description:"Category ID is missing",variant:"destructive"});return}D.mutate({name:c,icon:h,parentId:e})},_=rt({mutationFn:async T=>wt("DELETE",`/api/admin/subcategories/${T}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories",e]}),Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),f({title:"Success",description:"Subcategory deleted successfully"}),w(null)},onError:T=>{f({title:"Error",description:T.message||"Failed to delete subcategory",variant:"destructive"})}}),C=()=>{m&&_.mutate(m)},R=rt({mutationFn:async T=>wt("PUT",`/api/admin/categories/${T}/convert`,{targetType:"parent"}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/categories",e]}),Ye.invalidateQueries({queryKey:["/api/admin/categories"]}),f({title:"Success",description:"Subcategory converted to parent category successfully"})},onError:T=>{f({title:"Error",description:T.message||"Failed to convert subcategory",variant:"destructive"})}}),A=T=>{R.mutate(T)};return j?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading subcategories..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Ll,{href:"/admin/categories",children:s.jsxs(Y,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-to-categories",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[v!=null&&v.icon?s.jsx("img",{src:Tc(v.icon,x),alt:v.name,className:"w-20 h-20 object-cover rounded-lg"}):s.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:s.jsx(Vd,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:(v==null?void 0:v.name)||"Category"}),s.jsxs("p",{className:"text-muted-foreground",children:[S.length," subcategorie",S.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"mb-6 flex justify-end gap-2",children:[s.jsxs(oi,{open:o,onOpenChange:l,children:[s.jsx(bm,{asChild:!0,children:s.jsxs(Y,{"data-testid":"button-add-subcategory",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]})}),s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Add New Subcategory"}),s.jsxs(Zi,{children:["Create a new subcategory under ",v==null?void 0:v.name," with an optional icon image."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"subcategory-name",children:"Subcategory Name"}),s.jsx(ee,{id:"subcategory-name",placeholder:"Enter subcategory name",value:c,onChange:T=>d(T.target.value),"data-testid":"input-subcategory-name"})]}),s.jsxs("div",{children:[s.jsx(Q,{htmlFor:"subcategory-icon",children:"Subcategory Icon (Optional)"}),s.jsx(ee,{id:"subcategory-icon",type:"file",accept:"image/*",onChange:T=>{var I;return g(((I=T.target.files)==null?void 0:I[0])||null)},"data-testid":"input-subcategory-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>{l(!1),d(""),g(null)},"data-testid":"button-cancel-add-subcategory",children:"Cancel"}),s.jsx(Y,{onClick:k,disabled:D.isPending,"data-testid":"button-submit-add-subcategory",children:D.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(oi,{open:i,onOpenChange:a,children:[s.jsx(bm,{asChild:!0,children:s.jsxs(Y,{variant:"outline","data-testid":"button-bulk-import-subcategories",children:[s.jsx(jw,{className:"h-4 w-4 mr-2"}),"Bulk Import Subcategories"]})}),s.jsxs(br,{children:[s.jsxs(Nr,{children:[s.jsx(_r,{children:"Bulk Import Subcategories"}),s.jsxs(Zi,{children:["Enter subcategory names, one per line. They will be added to ",v==null?void 0:v.name,"."]})]}),s.jsx(Ht,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:n,onChange:T=>r(T.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(Y,{onClick:E,disabled:y.isPending,"data-testid":"button-submit-import-subcategories",children:y.isPending?"Importing...":"Import"})]})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Subcategories"}),s.jsxs(Ce,{children:["All subcategories under ",v==null?void 0:v.name]})]}),s.jsx(te,{children:S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No subcategories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Followers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Viewers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:S.map(T=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-subcategory-${T._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:T.icon?s.jsx("img",{src:Tc(T.icon,x),alt:T.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-subcategory-${T._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Vd,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-subcategory-name-${T._id}`,children:T.name})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:T.followersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:T.viewersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(rl,{children:[s.jsx(il,{asChild:!0,children:s.jsx(Y,{variant:"ghost",size:"sm","data-testid":`button-actions-${T._id}`,children:s.jsx(Lc,{className:"h-4 w-4"})})}),s.jsxs(Ga,{align:"end",children:[s.jsxs(wn,{onClick:()=>A(T._id),"data-testid":`button-convert-to-parent-${T._id}`,children:[s.jsx(EF,{className:"h-4 w-4 mr-2"}),"Convert to Parent"]}),s.jsx(Ci,{}),s.jsxs(wn,{onClick:()=>w(T._id),"data-testid":`button-delete-subcategory-${T._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},T._id))})]})})})]}),s.jsx(Vj,{open:!!m,onOpenChange:T=>!T&&w(null),children:s.jsxs(kp,{children:[s.jsxs(Ep,{children:[s.jsx(Pp,{children:"Delete Subcategory"}),s.jsx(Ap,{children:"Are you sure you want to delete this subcategory? This action cannot be undone."})]}),s.jsxs(Tp,{children:[s.jsx(Rp,{"data-testid":"button-cancel-delete-subcategory",children:"Cancel"}),s.jsx(Ip,{onClick:C,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete-subcategory",children:_.isPending?"Deleting...":"Delete"})]})]})})]})})}function TG(){var E,D;const[,t]=an(),[e,n]=p.useState(1),[r,i]=p.useState("all"),[a,o]=p.useState(""),[l,c]=p.useState(!1),d=10,h=new URLSearchParams;h.append("page",e.toString()),h.append("limit",d.toString()),r!=="all"&&h.append("status",r);const{data:g,isLoading:m}=$e({queryKey:["/api/admin/disputes",e,r],queryFn:async()=>{const k=await fetch(`/api/admin/disputes?${h.toString()}`,{credentials:"include"});if(!k.ok)throw new Error("Failed to fetch disputes");return await k.json()}}),f=(((E=g==null?void 0:g.data)==null?void 0:E.disputes)||(g==null?void 0:g.data)||[]).filter(k=>k.orderId&&k.orderId._id),x=((D=g==null?void 0:g.data)==null?void 0:D.pages)||1,N=f.filter(k=>{var T,I,F,K,z;if(!a)return!0;const _=a.toLowerCase(),C=((I=(T=k.userId)==null?void 0:T.userName)==null?void 0:I.toLowerCase())||"",R=((K=(F=k.orderId)==null?void 0:F._id)==null?void 0:K.toLowerCase())||"",A=((z=k.reason)==null?void 0:z.toLowerCase())||"";return C.includes(_)||R.includes(_)||A.includes(_)}),j=k=>{switch(k==null?void 0:k.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},v=k=>{var _;return((_=k==null?void 0:k.replace(/_/g," "))==null?void 0:_.replace(/\b\w/g,C=>C.toUpperCase()))||"N/A"},S=()=>{o(""),i("all"),n(1)},y=a||r!=="all";return m?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]}),s.jsx(Z,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading disputes..."})]})})})]})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Ul,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]})]})}),s.jsxs(Z,{className:"mb-6",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($c,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(ie,{children:"Filters"})]}),s.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>c(!l),"data-testid":"button-toggle-filters",children:l?"Hide":"Show"})]})}),l&&s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"User, Order ID, Reason...",value:a,onChange:k=>o(k.target.value),className:"pl-10","data-testid":"input-search-disputes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),s.jsxs(mn,{value:r,onValueChange:i,children:[s.jsx(nn,{"data-testid":"select-status-filter",children:s.jsx(pn,{})}),s.jsxs(sn,{children:[s.jsx(ae,{value:"all",children:"All Statuses"}),s.jsx(ae,{value:"submitted",children:"Submitted"}),s.jsx(ae,{value:"under_review",children:"Under Review"}),s.jsx(ae,{value:"resolved",children:"Resolved"}),s.jsx(ae,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"flex items-end",children:y&&s.jsxs(Y,{variant:"outline",onClick:S,className:"w-full","data-testid":"button-clear-filters",children:[s.jsx(Is,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{children:["All Disputes (",N.length,")"]}),s.jsx(Ce,{children:"Click on a dispute to view details and resolve"})]}),s.jsxs(te,{children:[N.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ul,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No disputes found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"User"}),s.jsx(ne,{children:"Reason"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Order Total"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(hn,{children:N.map(k=>{var T,I,F,K,z,V,L,B,oe,le;const _=((I=(T=k.orderId)==null?void 0:T.items)==null?void 0:I.reduce((W,fe)=>W+(fe.price||0),0))||0,C=((F=k.orderId)==null?void 0:F.tax)||0,R=((K=k.orderId)==null?void 0:K.shipping_fee)||0,A=_+C+R;return s.jsxs(nt,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-dispute-${k._id}`,children:[s.jsxs(se,{className:"font-mono text-sm",children:[(V=(z=k.orderId)==null?void 0:z._id)==null?void 0:V.substring(0,8),"..."]}),s.jsx(se,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:((B=(L=k.userId)==null?void 0:L.userName)==null?void 0:B.charAt(0).toUpperCase())||"U"})}),s.jsx("span",{children:((oe=k.userId)==null?void 0:oe.userName)||"Unknown"})]})}),s.jsx(se,{children:v(k.reason)}),s.jsx(se,{children:s.jsx(Ve,{variant:j(k.status),children:((le=k.status)==null?void 0:le.replace(/_/g," "))||"Unknown"})}),s.jsxs(se,{className:"font-medium",children:["$",A.toFixed(2)]}),s.jsx(se,{children:s.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>{var W;return t(`/admin/disputes/${(W=k.orderId)==null?void 0:W._id}`)},"data-testid":`button-view-dispute-${k._id}`,children:[s.jsx(Ta,{className:"h-4 w-4 mr-2"}),"View"]})})]},k._id)})})]})}),N.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",e," of ",x]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>n(k=>Math.max(1,k-1)),disabled:e===1,"data-testid":"button-prev-page",children:"Previous"}),s.jsx(Y,{variant:"outline",size:"sm",onClick:()=>n(k=>k+1),disabled:e>=x,"data-testid":"button-next-page",children:"Next"})]})]})]})]})]})})}var PG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AG=PG.reduce((t,e)=>{const n=lp(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),IG="Separator",b1="horizontal",RG=["horizontal","vertical"],a4=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=b1,...i}=t,a=DG(r)?r:b1,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(AG.div,{"data-orientation":a,...l,...i,ref:e})});a4.displayName=IG;function DG(t){return RG.includes(t)}var o4=a4;const zs=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(o4,{ref:i,decorative:n,orientation:e,className:ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));zs.displayName=o4.displayName;function MG(){var C,R,A,T,I,F,K,z,V,L,B,oe,le;const[,t]=Zo("/admin/disputes/:disputeId"),[,e]=an(),{toast:n}=Vt(),r=t==null?void 0:t.disputeId,{externalApiUrl:i}=_p(),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState(null),{data:g,isLoading:m}=$e({queryKey:["/api/admin/disputes",r],queryFn:async()=>{const W=await fetch(`/api/admin/disputes/${r}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch dispute");return await W.json()},enabled:!!r}),w=g==null?void 0:g.data,f=rt({mutationFn:async({decision:W})=>{if(!w||!w.orderId)throw new Error("Dispute data not available");let fe;if(W==="buyer"?fe=w.orderId.customer||"":fe=w.orderId.seller||"",!fe)throw new Error(`Could not find ${W} ID in order data`);return wt("POST",`/api/admin/disputes/${w._id}/resolve`,{favored:fe,final_comments:a})},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/admin/disputes"]}),n({title:"Success",description:"Dispute resolved successfully"}),e("/admin/disputes")},onError:W=>{n({title:"Error",description:W.message||"Failed to resolve dispute",variant:"destructive"})}}),x=W=>{h(W),c(!0)},N=()=>{d&&(f.mutate({decision:d}),c(!1))},j=W=>{switch(W==null?void 0:W.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},v=W=>{var fe;return((fe=W==null?void 0:W.replace(/_/g," "))==null?void 0:fe.replace(/\b\w/g,de=>de.toUpperCase()))||"N/A"},S=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(m)return s.jsx(Me,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading dispute..."})]})})});if(!w)return s.jsx(Me,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ul,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Dispute not found"}),s.jsxs(Y,{variant:"outline",className:"mt-4",onClick:()=>e("/admin/disputes"),"data-testid":"button-back-to-disputes",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]})]})})});const y=((R=(C=w.orderId)==null?void 0:C.items)==null?void 0:R.reduce((W,fe)=>W+(fe.price||0)*(fe.quantity||1),0))||0,E=((A=w.orderId)==null?void 0:A.tax)||0,D=((T=w.orderId)==null?void 0:T.shipping_fee)||0,k=y+E+D,_=((I=w.status)==null?void 0:I.toLowerCase())==="resolved";return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(Y,{variant:"ghost",onClick:()=>e("/admin/disputes"),className:"mb-4","data-testid":"button-back",children:[s.jsx(yi,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Ul,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dispute Resolution"}),s.jsxs("p",{className:"text-muted-foreground",children:["Case ID: ",w._id]})]})]}),s.jsx(Ve,{variant:j(w.status),className:"text-sm",children:(F=w.status)==null?void 0:F.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"h-5 w-5"}),"Dispute Details"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Reason"}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:v(w.reason)})]}),s.jsx(zs,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer's Statement"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:w.details||"No details provided"})]}),w.seller_response&&s.jsxs(s.Fragment,{children:[s.jsx(zs,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Seller's Response"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:w.seller_response})]})]}),s.jsx(zs,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Submitted On"}),s.jsx("p",{className:"mt-1",children:S(w.createdAt)})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Order Details"]}),s.jsxs(Ce,{children:["Order ID: ",(K=w.orderId)==null?void 0:K._id]})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:"Items"}),s.jsx("div",{className:"space-y-3",children:(V=(z=w.orderId)==null?void 0:z.items)==null?void 0:V.map((W,fe)=>{var de,Ue,qe,ge;return s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border rounded-lg","data-testid":`item-${W._id}`,children:[(Ue=(de=W.productId)==null?void 0:de.images)!=null&&Ue[0]?s.jsx("img",{src:Tc(W.productId.images[0],i),alt:W.productId.name,className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:s.jsx(Jt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((qe=W.productId)==null?void 0:qe.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",W.quantity||1]}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:["$",(ge=W.price)==null?void 0:ge.toFixed(2)]})]})]},W._id||fe)})})]}),s.jsx(zs,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",y.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",E.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{children:["$",D.toFixed(2)]})]}),s.jsx(zs,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",k.toFixed(2)]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[s.jsx(gs,{className:"h-4 w-4"}),"Customer"]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-primary",children:((B=(L=w.userId)==null?void 0:L.userName)==null?void 0:B.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((oe=w.userId)==null?void 0:oe.userName)||"Unknown"}),((le=w.userId)==null?void 0:le.email)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:w.userId.email})]})]})})]}),!_&&s.jsxs(Z,{className:"border-primary/50",children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[s.jsx(GF,{className:"h-4 w-4"}),"Resolve Dispute"]}),s.jsx(Ce,{children:"Rule in favor of one party"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Admin Notes (Optional)"}),s.jsx(Ht,{placeholder:"Add any notes about your decision...",value:a,onChange:W=>o(W.target.value),rows:4,"data-testid":"textarea-admin-notes"})]}),s.jsx(zs,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Y,{className:"w-full",variant:"default",size:"lg",onClick:()=>x("buyer"),disabled:f.isPending,"data-testid":"button-favor-buyer",children:[s.jsx(h0,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Buyer"]}),s.jsxs(Y,{className:"w-full",variant:"outline",size:"lg",onClick:()=>x("seller"),disabled:f.isPending,"data-testid":"button-favor-seller",children:[s.jsx(IF,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Seller"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"This action cannot be undone. The appropriate party will be refunded or compensated."})]})]}),_&&s.jsxs(Z,{className:"border-green-500/50 bg-green-500/5",children:[s.jsx(re,{children:s.jsxs(ie,{className:"flex items-center gap-2 text-base text-green-700 dark:text-green-400",children:[s.jsx(h0,{className:"h-4 w-4"}),"Dispute Resolved"]})}),s.jsx(te,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"This dispute has been resolved and closed."})})]})]})]}),s.jsx(Vj,{open:l,onOpenChange:c,children:s.jsxs(kp,{children:[s.jsxs(Ep,{children:[s.jsx(Pp,{children:"Confirm Resolution"}),s.jsxs(Ap,{children:["Are you sure you want to rule in favor of the ",d==="buyer"?"buyer":"seller","?",d==="buyer"&&" The buyer will be refunded.",d==="seller"&&" The seller will keep the payment.","This action cannot be undone."]})]}),s.jsxs(Tp,{children:[s.jsx(Rp,{"data-testid":"button-cancel-resolve",children:"Cancel"}),s.jsx(Ip,{onClick:N,disabled:f.isPending,"data-testid":"button-confirm-resolve",children:f.isPending?"Resolving...":"Confirm"})]})]})})]})})}function OG(){var S,y;const[t,e]=p.useState(1),[n,r]=p.useState(""),[i,a]=p.useState(!1),{toast:o}=Vt(),l=10,{data:c,isLoading:d}=$e({queryKey:["/api/admin/reported-cases",t],queryFn:async()=>{const E=await fetch(`/api/admin/reported-cases?page=${t}&limit=${l}`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch reported cases");return await E.json()}}),h=Array.isArray((S=c==null?void 0:c.data)==null?void 0:S.data)?c.data.data:Array.isArray(c==null?void 0:c.data)?c.data:[],g=((y=c==null?void 0:c.data)==null?void 0:y.totalPages)||1,m=rt({mutationFn:async({userId:E,blocked:D})=>wt("PATCH",`/api/admin/users/${E}/block`,{blocked:D}),onSuccess:(E,D)=>{Ye.invalidateQueries({queryKey:["/api/admin/reported-cases"]}),o({title:"Success",description:`User ${D.blocked?"blocked":"unblocked"} successfully`})},onError:(E,D)=>{o({title:"Error",description:E.message||`Failed to ${D.blocked?"block":"unblock"} user`,variant:"destructive"})}}),w=h.filter(E=>{var A,T,I,F,K,z;if(!n)return!0;const D=n.toLowerCase(),k=((T=(A=E.reported)==null?void 0:A.userName)==null?void 0:T.toLowerCase())||"",_=((F=(I=E.reported_by)==null?void 0:I.userName)==null?void 0:F.toLowerCase())||"",C=((K=E.reason)==null?void 0:K.toLowerCase())||"",R=((z=E.description)==null?void 0:z.toLowerCase())||"";return k.includes(D)||_.includes(D)||C.includes(D)||R.includes(D)}),f=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",x=E=>{switch(E==null?void 0:E.toLowerCase()){case"resolved":return"default";case"pending":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},N=E=>{var D;return((D=E==null?void 0:E.replace(/_/g," "))==null?void 0:D.replace(/\b\w/g,k=>k.toUpperCase()))||"N/A"},j=()=>{r(""),e(1)},v=n;return d?s.jsx(Me,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading reported cases..."})})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Nv,{className:"h-8 w-8"}),"Reported Cases"]}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-page-description",children:"Review and manage user-reported cases"})]})}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"All Reported Cases"}),s.jsxs(Ce,{children:[w.length," ",w.length===1?"case":"cases"," found"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1 sm:w-64",children:[s.jsx(Br,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ee,{placeholder:"Search by user, reason...",value:n,onChange:E=>r(E.target.value),className:"pl-8","data-testid":"input-search"})]}),v&&s.jsxs(Y,{variant:"outline",onClick:j,className:"gap-2","data-testid":"button-clear-filters",children:[s.jsx(Is,{className:"h-4 w-4"}),"Clear"]})]})]})}),s.jsx(te,{children:w.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-cases",children:n?"No cases match your search criteria":"No reported cases found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(dn,{children:[s.jsx(un,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Case ID"}),s.jsx(ne,{children:"Reported User"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Reporter"}),s.jsx(ne,{children:"Reason"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(hn,{children:w.map(E=>{var D,k;return s.jsxs(nt,{"data-testid":`row-case-${E._id}`,children:[s.jsx(se,{className:"font-mono text-xs","data-testid":`text-case-id-${E._id}`,children:E._id.slice(-8)}),s.jsx(se,{"data-testid":`text-reported-user-${E._id}`,children:((D=E.reported)==null?void 0:D.userName)||"Unknown"}),s.jsx(se,{className:"hidden md:table-cell","data-testid":`text-reporter-${E._id}`,children:((k=E.reported_by)==null?void 0:k.userName)||"Anonymous"}),s.jsx(se,{"data-testid":`text-reason-${E._id}`,children:N(E.reason||"")}),s.jsx(se,{className:"hidden lg:table-cell",children:s.jsx(Ve,{variant:x(E.status||"pending"),"data-testid":`badge-status-${E._id}`,children:E.status||"Pending"})}),s.jsx(se,{className:"hidden xl:table-cell","data-testid":`text-date-${E._id}`,children:f(E.createdAt||"")}),s.jsx(se,{className:"text-right",children:E.reported&&s.jsx(Y,{variant:E.reported.system_blocked?"outline":"destructive",size:"sm",onClick:()=>{var _;(_=E.reported)!=null&&_._id&&m.mutate({userId:E.reported._id,blocked:!E.reported.system_blocked})},disabled:m.isPending,"data-testid":`button-block-${E._id}`,children:E.reported.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(hu,{className:"h-4 w-4 mr-2"}),"Unblock"]}):s.jsxs(s.Fragment,{children:[s.jsx(xw,{className:"h-4 w-4 mr-2"}),"Block"]})})})]},E._id)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":"text-pagination-info",children:["Page ",t," of ",g]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:()=>e(E=>Math.max(1,E-1)),disabled:t===1,"data-testid":"button-previous-page",children:"Previous"}),s.jsx(Y,{variant:"outline",onClick:()=>e(E=>Math.min(g,E+1)),disabled:t>=g,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})})}function FG(){var F,K,z,V,L,B,oe,le,W,fe;const{toast:t}=Vt(),[e,n]=p.useState("all"),[r,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(!1),[g,m]=p.useState("https://play.google.com/store/apps/details?id=com.tokshop.live&hl=en"),[w,f]=p.useState("https://testflight.apple.com/join/jjzjjnC2"),[x,N]=p.useState("all"),[j,v]=p.useState(""),{data:S}=$e({queryKey:["/api/admin/settings"]}),y=(S==null?void 0:S.data)||S,E=(y==null?void 0:y.demoMode)||!1,D=(F=y==null?void 0:y.email_service_provider)==null?void 0:F.toLowerCase();let k=((K=y==null?void 0:y.email_from_address)==null?void 0:K.trim())&&D;k&&(D==="smtp"?k=!!((z=y==null?void 0:y.email_smtp_host)!=null&&z.trim()&&((V=y==null?void 0:y.email_smtp_port)!=null&&V.trim())&&((L=y==null?void 0:y.email_smtp_user)!=null&&L.trim())&&((B=y==null?void 0:y.email_smtp_pass)!=null&&B.trim())):D==="mailgun"?k=!!((oe=y==null?void 0:y.email_api_key)!=null&&oe.trim()&&((le=y==null?void 0:y.email_mailgun_domain)!=null&&le.trim())):k=!!((W=y==null?void 0:y.email_api_key)!=null&&W.trim()));const{data:_}=$e({queryKey:["/api/admin/users?limit=1000"],enabled:e==="individual"||x==="individual"}),C=((fe=_==null?void 0:_.data)==null?void 0:fe.users)||[],R=rt({mutationFn:async de=>wt("POST","/api/admin/send-email",de),onSuccess:()=>{t({title:"Email sent successfully",description:e==="all"?"Email has been sent to all users":"Email has been sent to the selected user"}),o(""),c(""),i("")},onError:de=>{t({title:"Failed to send email",description:de.message||"An error occurred while sending the email",variant:"destructive"})}}),A=rt({mutationFn:async de=>wt("POST","/api/admin/send-update-notification",de),onSuccess:()=>{t({title:"Update notification sent",description:x==="all"?"App update notification has been sent to all users":"App update notification has been sent to the selected user"}),x==="individual"&&v("")},onError:de=>{t({title:"Failed to send notification",description:de.message||"An error occurred while sending the notification",variant:"destructive"})}}),T=()=>{if(!a.trim()||!l.trim()){t({title:"Validation Error",description:"Subject and message are required",variant:"destructive"});return}if(e==="individual"&&!r){t({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}R.mutate({recipientType:e,recipientEmail:e==="individual"?r:void 0,subject:a,message:l,isHtmlMode:d})},I=()=>{if(x==="individual"&&!j){t({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}A.mutate({androidLink:g,iosLink:w,androidVersion:(y==null?void 0:y.androidVersion)||"",iosVersion:(y==null?void 0:y.iosVersion)||"",recipientType:x,recipientEmail:x==="individual"?j:void 0})};return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Fu,{className:"h-8 w-8"}),"Send Emails"]}),s.jsx("p",{className:"text-muted-foreground",children:"Send emails to users on your platform"})]}),E&&s.jsxs(Yt,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(Sv,{className:"h-4 w-4 text-destructive"}),s.jsx(Qt,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),!k&&s.jsxs(Yt,{className:"mb-6",children:[s.jsx(Hf,{className:"h-4 w-4"}),s.jsxs(Qt,{children:["Email service is not configured. Please configure your email settings in the"," ",s.jsx("a",{href:"/admin/settings",className:"underline font-medium",children:"Settings page"})," first."]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Compose Email"}),s.jsx(Ce,{children:"Create and send emails to your users"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Y,{variant:e==="all"?"default":"outline",onClick:()=>n("all"),className:"flex-1","data-testid":"button-recipient-all",disabled:E,children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(Y,{variant:e==="individual"?"default":"outline",onClick:()=>n("individual"),className:"flex-1","data-testid":"button-recipient-individual",disabled:E,children:[s.jsx(gs,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),e==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"recipient",children:"Select Recipient"}),s.jsxs(mn,{value:r,onValueChange:i,disabled:E,children:[s.jsx(nn,{id:"recipient","data-testid":"select-recipient",children:s.jsx(pn,{placeholder:"Choose a user..."})}),s.jsx(sn,{children:C.map(de=>s.jsxs(ae,{value:de.email,children:[de.firstName," ",de.lastName," (",de.email,")"]},de._id||de.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subject",children:"Subject"}),s.jsx(ee,{id:"subject",value:a,onChange:de=>o(de.target.value),placeholder:"Enter email subject...","data-testid":"input-subject",disabled:E})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f0,{className:"h-4 w-4"}),s.jsx(Q,{htmlFor:"html-mode",className:"cursor-pointer",children:"HTML Mode"})]}),s.jsx(Ql,{id:"html-mode",checked:d,onCheckedChange:h,"data-testid":"switch-html-mode",disabled:E})]}),d&&s.jsxs(Yt,{children:[s.jsx(f0,{className:"h-4 w-4"}),s.jsxs(Qt,{children:[s.jsx("strong",{children:"HTML Mode:"})," You can now use full HTML formatting. The message will be sent as-is without any wrapper template.",s.jsx("br",{}),"Tip: You can still use ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"{name}"})," for personalization."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"message",children:d?"HTML Content":"Message"}),s.jsx(Ht,{id:"message",value:l,onChange:de=>c(de.target.value),placeholder:d?"Enter your HTML email content...":"Enter your message...",rows:d?20:10,className:d?"font-mono text-sm":"","data-testid":"textarea-message",disabled:E}),!d&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tip: Use ","{name}"," to personalize with the user's name"]})]}),s.jsxs(Y,{onClick:T,disabled:E||R.isPending||!k,className:"w-full","data-testid":"button-send-email",children:[s.jsx(p0,{className:"h-4 w-4 mr-2"}),R.isPending?"Sending...":"Send Email"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Email Configuration"}),s.jsx(Ce,{children:"Current email service settings"})]}),s.jsx(te,{className:"space-y-4",children:k?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"Provider"}),s.jsx("p",{className:"font-medium capitalize",children:(y==null?void 0:y.email_service_provider)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"From Address"}),s.jsx("p",{className:"font-medium",children:(y==null?void 0:y.email_from_address)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"From Name"}),s.jsx("p",{className:"font-medium",children:(y==null?void 0:y.email_from_name)||"Not set"})]})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No email service configured. Please update your settings."})})]}),s.jsxs(Z,{children:[s.jsx(re,{children:s.jsx(ie,{children:"Tips"})}),s.jsxs(te,{className:"space-y-2 text-sm",children:[s.jsx("p",{children:" Keep your subject line clear and concise"}),s.jsxs("p",{children:[" Personalize emails using ","{name}"," placeholder"]}),s.jsx("p",{children:" Test with individual emails before broadcasting"}),s.jsx("p",{children:" Be mindful of email frequency to avoid spam"})]})]})]})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Xk,{className:"h-5 w-5"}),"App Update Notification"]}),s.jsx(Ce,{children:"Send a notification to all users about the latest app version"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Y,{variant:x==="all"?"default":"outline",onClick:()=>N("all"),className:"flex-1","data-testid":"button-update-recipient-all",disabled:E,children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(Y,{variant:x==="individual"?"default":"outline",onClick:()=>N("individual"),className:"flex-1","data-testid":"button-update-recipient-individual",disabled:E,children:[s.jsx(gs,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),x==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"update-recipient",children:"Select Recipient"}),s.jsxs(mn,{value:j,onValueChange:v,disabled:E,children:[s.jsx(nn,{id:"update-recipient","data-testid":"select-update-recipient",children:s.jsx(pn,{placeholder:"Choose a user..."})}),s.jsx(sn,{children:C.map(de=>s.jsxs(ae,{value:de.email,children:[de.firstName," ",de.lastName," (",de.email,")"]},de._id||de.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"Android Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(y==null?void 0:y.androidVersion)||"Not set"})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(Q,{className:"text-xs text-muted-foreground",children:"iOS Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(y==null?void 0:y.iosVersion)||"Not set"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"android-link",children:"Android Store Link"}),s.jsx(ee,{id:"android-link",value:g,onChange:de=>m(de.target.value),placeholder:"https://play.google.com/store/apps/...","data-testid":"input-android-link",disabled:E})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"ios-link",children:"iOS Store Link"}),s.jsx(ee,{id:"ios-link",value:w,onChange:de=>f(de.target.value),placeholder:"https://testflight.apple.com/join/...","data-testid":"input-ios-link",disabled:E})]})]}),s.jsxs(Yt,{children:[s.jsx(Hf,{className:"h-4 w-4"}),s.jsxs(Qt,{children:[s.jsx("strong",{children:"Email Preview:"})," Users will receive a professionally formatted email with:",s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Personalized greeting with their name"}),s.jsx("li",{children:" Version numbers for Android and iOS"}),s.jsx("li",{children:" Direct links to update on their respective stores"}),s.jsx("li",{children:" Responsive design for mobile and desktop"})]})]})]}),s.jsxs(Y,{onClick:I,disabled:E||A.isPending||!k,className:"w-full",size:"lg","data-testid":"button-send-update-notification",children:[s.jsx(p0,{className:"h-4 w-4 mr-2"}),A.isPending?"Sending Update Notification...":x==="all"?"Send Update Notification to All Users":"Send Update Notification to Selected User"]})]})]})})]})})}const N1=["Play","Zap","Shield","Star","TrendingUp"];function LG(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),[r,i]=p.useState(!1),{data:a,isLoading:o}=$e({queryKey:["/api/content/landing"]}),l=(a==null?void 0:a.data)||null,[c,d]=p.useState({hero:{title:"",subtitle:"",primaryButtonText:"",primaryButtonLink:"",secondaryButtonText:"",heroImage:"",heroImageAlt:"",liveViewers:""},howItWorks:{title:"",subtitle:"",steps:[{icon:"Play",title:"",description:""},{icon:"Zap",title:"",description:""},{icon:"Shield",title:"",description:""}]},joinFun:{title:"",subtitle:"",image:"",imageAlt:"",features:[{icon:"Play",title:"",description:""}],buttonText:"",buttonLink:""},categories:{title:"",subtitle:"",items:[{name:"",image:""}],buttonText:"",buttonLink:""},brands:{title:"",subtitle:"",items:[{name:"",logo:""}],image:"",imageAlt:"",buttonText:"",buttonLink:""},finalCTA:{title:"",subtitle:"",buttonText:"",buttonLink:""},footer:{copyrightText:""}});p.useEffect(()=>{l&&d(l)},[l]);const h=rt({mutationFn:async f=>{const x=await fetch("/api/admin/content/landing",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(!x.ok){const N=await x.json();throw new Error(N.message||"Failed to update landing page")}return x.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/content/landing"]}),t({title:"Success",description:"Landing page updated successfully"}),i(!1)},onError:f=>{t({title:"Error",description:f.message||"Failed to update landing page",variant:"destructive"}),i(!1)}}),g=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}i(!0),h.mutate(c)},m=rt({mutationFn:async()=>{const f=await fetch("/api/admin/content/landing/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!f.ok){const x=await f.json();throw new Error(x.message||"Failed to reset landing page")}return f.json()},onSuccess:f=>{Ye.invalidateQueries({queryKey:["/api/content/landing"]}),f!=null&&f.data&&d(f.data),t({title:"Success",description:"Landing page reset to default content"})},onError:f=>{t({title:"Error",description:f.message||"Failed to reset landing page",variant:"destructive"})}}),w=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset all landing page content to default? This cannot be undone.")&&m.mutate()};return o?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Landing Page Editor"}),s.jsx("p",{className:"text-muted-foreground",children:"Customize all sections of the marketplace landing page"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:w,disabled:!e||n||m.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(Y,{onClick:g,disabled:r||!e||n,"data-testid":"button-save-all",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),r?"Saving...":"Save All Changes"]})]})]}),n&&s.jsx(Yt,{children:s.jsx(Qt,{children:"Content editing is disabled in demo mode"})}),s.jsxs(qo,{defaultValue:"hero",className:"space-y-6",children:[s.jsxs(La,{className:"grid w-full grid-cols-7",children:[s.jsx(ut,{value:"hero",children:"Hero"}),s.jsx(ut,{value:"how-it-works",children:"How It Works"}),s.jsx(ut,{value:"join-fun",children:"Join Fun"}),s.jsx(ut,{value:"categories",children:"Categories"}),s.jsx(ut,{value:"brands",children:"Brands"}),s.jsx(ut,{value:"cta",children:"Final CTA"}),s.jsx(ut,{value:"footer",children:"Footer"})]}),s.jsx(ht,{value:"hero",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Hero Section"}),s.jsx(Ce,{children:"Main banner that appears at the top of the landing page"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-title",children:"Title"}),s.jsx(ee,{id:"hero-title",value:c.hero.title,onChange:f=>d({...c,hero:{...c.hero,title:f.target.value}}),disabled:!e||n,"data-testid":"input-hero-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-subtitle",children:"Subtitle"}),s.jsx(Ht,{id:"hero-subtitle",value:c.hero.subtitle,onChange:f=>d({...c,hero:{...c.hero,subtitle:f.target.value}}),disabled:!e||n,rows:3,"data-testid":"input-hero-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-primary-btn-text",children:"Primary Button Text"}),s.jsx(ee,{id:"hero-primary-btn-text",value:c.hero.primaryButtonText,onChange:f=>d({...c,hero:{...c.hero,primaryButtonText:f.target.value}}),disabled:!e||n,"data-testid":"input-hero-primary-btn-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-primary-btn-link",children:"Primary Button Link"}),s.jsx(ee,{id:"hero-primary-btn-link",value:c.hero.primaryButtonLink,onChange:f=>d({...c,hero:{...c.hero,primaryButtonLink:f.target.value}}),disabled:!e||n,"data-testid":"input-hero-primary-btn-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-secondary-btn-text",children:"Secondary Button Text"}),s.jsx(ee,{id:"hero-secondary-btn-text",value:c.hero.secondaryButtonText,onChange:f=>d({...c,hero:{...c.hero,secondaryButtonText:f.target.value}}),disabled:!e||n,"data-testid":"input-hero-secondary-btn-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-image",children:"Hero Image URL"}),s.jsx(ee,{id:"hero-image",value:c.hero.heroImage,onChange:f=>d({...c,hero:{...c.hero,heroImage:f.target.value}}),disabled:!e||n,placeholder:"https://...","data-testid":"input-hero-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-image-alt",children:"Hero Image Alt Text"}),s.jsx(ee,{id:"hero-image-alt",value:c.hero.heroImageAlt,onChange:f=>d({...c,hero:{...c.hero,heroImageAlt:f.target.value}}),disabled:!e||n,"data-testid":"input-hero-image-alt"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hero-live-viewers",children:"Live Viewers Text"}),s.jsx(ee,{id:"hero-live-viewers",value:c.hero.liveViewers,onChange:f=>d({...c,hero:{...c.hero,liveViewers:f.target.value}}),disabled:!e||n,placeholder:"e.g., 12.5K watching","data-testid":"input-hero-live-viewers"})]})]})]})}),s.jsx(ht,{value:"how-it-works",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"How It Works Section"}),s.jsx(Ce,{children:"Explain the process in 3 simple steps"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hiw-title",children:"Section Title"}),s.jsx(ee,{id:"hiw-title",value:c.howItWorks.title,onChange:f=>d({...c,howItWorks:{...c.howItWorks,title:f.target.value}}),disabled:!e||n,"data-testid":"input-hiw-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"hiw-subtitle",children:"Section Subtitle"}),s.jsx(Ht,{id:"hiw-subtitle",value:c.howItWorks.subtitle,onChange:f=>d({...c,howItWorks:{...c.howItWorks,subtitle:f.target.value}}),disabled:!e||n,rows:2,"data-testid":"input-hiw-subtitle"})]}),s.jsx(zs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Steps (Must have exactly 3)"}),c.howItWorks.steps.map((f,x)=>s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium",children:["Step ",x+1]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Icon"}),s.jsxs(mn,{value:f.icon,onValueChange:N=>{const j=[...c.howItWorks.steps];j[x]={...j[x],icon:N},d({...c,howItWorks:{...c.howItWorks,steps:j}})},disabled:!e||n,children:[s.jsx(nn,{"data-testid":`select-hiw-step-${x}-icon`,children:s.jsx(pn,{})}),s.jsx(sn,{children:N1.map(N=>s.jsx(ae,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Title"}),s.jsx(ee,{value:f.title,onChange:N=>{const j=[...c.howItWorks.steps];j[x]={...j[x],title:N.target.value},d({...c,howItWorks:{...c.howItWorks,steps:j}})},disabled:!e||n,"data-testid":`input-hiw-step-${x}-title`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Description"}),s.jsx(Ht,{value:f.description,onChange:N=>{const j=[...c.howItWorks.steps];j[x]={...j[x],description:N.target.value},d({...c,howItWorks:{...c.howItWorks,steps:j}})},disabled:!e||n,rows:3,"data-testid":`input-hiw-step-${x}-description`})]})]})},x))]})]})]})}),s.jsx(ht,{value:"join-fun",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Join In the Fun Section"}),s.jsx(Ce,{children:"Highlight exciting features with an engaging image"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"jf-title",children:"Section Title"}),s.jsx(ee,{id:"jf-title",value:c.joinFun.title,onChange:f=>d({...c,joinFun:{...c.joinFun,title:f.target.value}}),disabled:!e||n,"data-testid":"input-jf-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"jf-subtitle",children:"Section Subtitle"}),s.jsx(Ht,{id:"jf-subtitle",value:c.joinFun.subtitle,onChange:f=>d({...c,joinFun:{...c.joinFun,subtitle:f.target.value}}),disabled:!e||n,rows:2,"data-testid":"input-jf-subtitle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"jf-image",children:"Section Image URL"}),s.jsx(ee,{id:"jf-image",value:c.joinFun.image,onChange:f=>d({...c,joinFun:{...c.joinFun,image:f.target.value}}),disabled:!e||n,placeholder:"https://...","data-testid":"input-jf-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"jf-image-alt",children:"Image Alt Text"}),s.jsx(ee,{id:"jf-image-alt",value:c.joinFun.imageAlt,onChange:f=>d({...c,joinFun:{...c.joinFun,imageAlt:f.target.value}}),disabled:!e||n,"data-testid":"input-jf-image-alt"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"jf-btn-text",children:"Button Text"}),s.jsx(ee,{id:"jf-btn-text",value:c.joinFun.buttonText,onChange:f=>d({...c,joinFun:{...c.joinFun,buttonText:f.target.value}}),disabled:!e||n,"data-testid":"input-jf-btn-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"jf-btn-link",children:"Button Link"}),s.jsx(ee,{id:"jf-btn-link",value:c.joinFun.buttonLink,onChange:f=>d({...c,joinFun:{...c.joinFun,buttonLink:f.target.value}}),disabled:!e||n,"data-testid":"input-jf-btn-link"})]})]}),s.jsx(zs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Features"}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>{d({...c,joinFun:{...c.joinFun,features:[...c.joinFun.features,{icon:"Star",title:"",description:""}]}})},disabled:!e||n,"data-testid":"button-add-jf-feature",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]}),c.joinFun.features.map((f,x)=>s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Feature ",x+1]}),c.joinFun.features.length>1&&s.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>{const N=c.joinFun.features.filter((j,v)=>v!==x);d({...c,joinFun:{...c.joinFun,features:N}})},disabled:!e||n,"data-testid":`button-remove-jf-feature-${x}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Icon"}),s.jsxs(mn,{value:f.icon,onValueChange:N=>{const j=[...c.joinFun.features];j[x]={...j[x],icon:N},d({...c,joinFun:{...c.joinFun,features:j}})},disabled:!e||n,children:[s.jsx(nn,{"data-testid":`select-jf-feature-${x}-icon`,children:s.jsx(pn,{})}),s.jsx(sn,{children:N1.map(N=>s.jsx(ae,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Title"}),s.jsx(ee,{value:f.title,onChange:N=>{const j=[...c.joinFun.features];j[x]={...j[x],title:N.target.value},d({...c,joinFun:{...c.joinFun,features:j}})},disabled:!e||n,"data-testid":`input-jf-feature-${x}-title`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Description"}),s.jsx(Ht,{value:f.description,onChange:N=>{const j=[...c.joinFun.features];j[x]={...j[x],description:N.target.value},d({...c,joinFun:{...c.joinFun,features:j}})},disabled:!e||n,rows:2,"data-testid":`input-jf-feature-${x}-description`})]})]})},x))]})]})]})}),s.jsx(ht,{value:"categories",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Categories Section"}),s.jsx(Ce,{children:"Showcase your product categories"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cat-title",children:"Section Title"}),s.jsx(ee,{id:"cat-title",value:c.categories.title,onChange:f=>d({...c,categories:{...c.categories,title:f.target.value}}),disabled:!e||n,"data-testid":"input-cat-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cat-subtitle",children:"Section Subtitle"}),s.jsx(Ht,{id:"cat-subtitle",value:c.categories.subtitle,onChange:f=>d({...c,categories:{...c.categories,subtitle:f.target.value}}),disabled:!e||n,rows:2,"data-testid":"input-cat-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cat-btn-text",children:"Button Text"}),s.jsx(ee,{id:"cat-btn-text",value:c.categories.buttonText,onChange:f=>d({...c,categories:{...c.categories,buttonText:f.target.value}}),disabled:!e||n,"data-testid":"input-cat-btn-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cat-btn-link",children:"Button Link"}),s.jsx(ee,{id:"cat-btn-link",value:c.categories.buttonLink,onChange:f=>d({...c,categories:{...c.categories,buttonLink:f.target.value}}),disabled:!e||n,"data-testid":"input-cat-btn-link"})]})]}),s.jsx(zs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Category Items"}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>{d({...c,categories:{...c.categories,items:[...c.categories.items,{name:"",image:""}]}})},disabled:!e||n,"data-testid":"button-add-category",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),c.categories.items.map((f,x)=>s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Category ",x+1]}),c.categories.items.length>1&&s.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>{const N=c.categories.items.filter((j,v)=>v!==x);d({...c,categories:{...c.categories,items:N}})},disabled:!e||n,"data-testid":`button-remove-category-${x}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Name"}),s.jsx(ee,{value:f.name,onChange:N=>{const j=[...c.categories.items];j[x]={...j[x],name:N.target.value},d({...c,categories:{...c.categories,items:j}})},disabled:!e||n,"data-testid":`input-category-${x}-name`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Image URL"}),s.jsx(ee,{value:f.image,onChange:N=>{const j=[...c.categories.items];j[x]={...j[x],image:N.target.value},d({...c,categories:{...c.categories,items:j}})},disabled:!e||n,placeholder:"https://...","data-testid":`input-category-${x}-image`})]})]})},x))]})]})]})}),s.jsx(ht,{value:"brands",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Brands Section"}),s.jsx(Ce,{children:"Feature trusted brands on your platform"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"brands-title",children:"Section Title"}),s.jsx(ee,{id:"brands-title",value:c.brands.title,onChange:f=>d({...c,brands:{...c.brands,title:f.target.value}}),disabled:!e||n,"data-testid":"input-brands-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"brands-subtitle",children:"Section Subtitle"}),s.jsx(Ht,{id:"brands-subtitle",value:c.brands.subtitle,onChange:f=>d({...c,brands:{...c.brands,subtitle:f.target.value}}),disabled:!e||n,rows:2,"data-testid":"input-brands-subtitle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"brands-image",children:"Section Image URL"}),s.jsx(ee,{id:"brands-image",value:c.brands.image,onChange:f=>d({...c,brands:{...c.brands,image:f.target.value}}),disabled:!e||n,placeholder:"https://...","data-testid":"input-brands-image"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"brands-image-alt",children:"Image Alt Text"}),s.jsx(ee,{id:"brands-image-alt",value:c.brands.imageAlt,onChange:f=>d({...c,brands:{...c.brands,imageAlt:f.target.value}}),disabled:!e||n,"data-testid":"input-brands-image-alt"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"brands-btn-text",children:"Button Text"}),s.jsx(ee,{id:"brands-btn-text",value:c.brands.buttonText,onChange:f=>d({...c,brands:{...c.brands,buttonText:f.target.value}}),disabled:!e||n,"data-testid":"input-brands-btn-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"brands-btn-link",children:"Button Link"}),s.jsx(ee,{id:"brands-btn-link",value:c.brands.buttonLink,onChange:f=>d({...c,brands:{...c.brands,buttonLink:f.target.value}}),disabled:!e||n,"data-testid":"input-brands-btn-link"})]})]}),s.jsx(zs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold",children:"Brand Items"}),s.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>{d({...c,brands:{...c.brands,items:[...c.brands.items,{name:"",logo:""}]}})},disabled:!e||n,"data-testid":"button-add-brand",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Brand"]})]}),c.brands.items.map((f,x)=>s.jsx(Z,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Brand ",x+1]}),c.brands.items.length>1&&s.jsx(Y,{variant:"destructive",size:"sm",onClick:()=>{const N=c.brands.items.filter((j,v)=>v!==x);d({...c,brands:{...c.brands,items:N}})},disabled:!e||n,"data-testid":`button-remove-brand-${x}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Name"}),s.jsx(ee,{value:f.name,onChange:N=>{const j=[...c.brands.items];j[x]={...j[x],name:N.target.value},d({...c,brands:{...c.brands,items:j}})},disabled:!e||n,"data-testid":`input-brand-${x}-name`})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{children:"Logo URL (optional)"}),s.jsx(ee,{value:f.logo||"",onChange:N=>{const j=[...c.brands.items];j[x]={...j[x],logo:N.target.value},d({...c,brands:{...c.brands,items:j}})},disabled:!e||n,placeholder:"https://...","data-testid":`input-brand-${x}-logo`})]})]})},x))]})]})]})}),s.jsx(ht,{value:"cta",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Final Call-to-Action Section"}),s.jsx(Ce,{children:"Encourage visitors to take action before leaving"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cta-title",children:"Title"}),s.jsx(ee,{id:"cta-title",value:c.finalCTA.title,onChange:f=>d({...c,finalCTA:{...c.finalCTA,title:f.target.value}}),disabled:!e||n,"data-testid":"input-cta-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cta-subtitle",children:"Subtitle"}),s.jsx(Ht,{id:"cta-subtitle",value:c.finalCTA.subtitle,onChange:f=>d({...c,finalCTA:{...c.finalCTA,subtitle:f.target.value}}),disabled:!e||n,rows:2,"data-testid":"input-cta-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cta-btn-text",children:"Button Text"}),s.jsx(ee,{id:"cta-btn-text",value:c.finalCTA.buttonText,onChange:f=>d({...c,finalCTA:{...c.finalCTA,buttonText:f.target.value}}),disabled:!e||n,"data-testid":"input-cta-btn-text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"cta-btn-link",children:"Button Link"}),s.jsx(ee,{id:"cta-btn-link",value:c.finalCTA.buttonLink,onChange:f=>d({...c,finalCTA:{...c.finalCTA,buttonLink:f.target.value}}),disabled:!e||n,"data-testid":"input-cta-btn-link"})]})]})]})]})}),s.jsx(ht,{value:"footer",className:"space-y-6",children:s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Footer Section"}),s.jsx(Ce,{children:"Footer content and copyright information"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"footer-copyright",children:"Copyright Text"}),s.jsx(ee,{id:"footer-copyright",value:c.footer.copyrightText,onChange:f=>d({...c,footer:{...c.footer,copyrightText:f.target.value}}),disabled:!e||n,placeholder:"e.g., 2025","data-testid":"input-footer-copyright"})]})})]})})]})]})})}function $G(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),{data:r,isLoading:i}=$e({queryKey:["/api/content/faq"]}),a=Kc({resolver:Gc(oV),defaultValues:{title:"",subtitle:"",faqs:[{question:"",answer:""}]}}),{fields:o,append:l,remove:c}=Gu({control:a.control,name:"faqs"});p.useEffect(()=>{r!=null&&r.data&&a.reset(r.data)},[r,a]);const d=rt({mutationFn:async w=>{const f=await fetch("/api/admin/content/faq",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)});if(!f.ok){const x=await f.json();throw new Error(x.message||"Failed to update FAQ page")}return f.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/content/faq"]}),t({title:"Success",description:"FAQ page updated successfully"})},onError:w=>{t({title:"Error",description:w.message||"Failed to update FAQ page",variant:"destructive"})}}),h=rt({mutationFn:async()=>{const w=await fetch("/api/admin/content/faq/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!w.ok){const f=await w.json();throw new Error(f.message||"Failed to reset FAQ page")}return w.json()},onSuccess:w=>{Ye.invalidateQueries({queryKey:["/api/content/faq"]}),w!=null&&w.data&&a.reset(w.data),t({title:"Success",description:"FAQ page reset to default content"})},onError:w=>{t({title:"Error",description:w.message||"Failed to reset FAQ page",variant:"destructive"})}}),g=a.handleSubmit(w=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(w)}),m=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the FAQ page to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(qk,{className:"h-8 w-8"}),"FAQ Page Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:m,disabled:!e||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(Y,{onClick:g,disabled:d.isPending||!e||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Yt,{children:s.jsx(Qt,{children:"Content editing is disabled in demo mode"})}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Page Settings"}),s.jsx(Ce,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Title"}),s.jsx(ee,{id:"title",...a.register("title"),disabled:!e||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ee,{id:"subtitle",...a.register("subtitle"),disabled:!e||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"FAQ Items"}),s.jsx(Ce,{children:"Add and manage frequently asked questions"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((w,f)=>{var x,N,j,v,S,y,E,D;return s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-lg",children:["FAQ #",f+1]}),s.jsx(Y,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(f),disabled:!e||n||o.length===1,"data-testid":`button-remove-faq-${f}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`faqs.${f}.question`,children:"Question"}),s.jsx(Ht,{id:`faqs.${f}.question`,...a.register(`faqs.${f}.question`),disabled:!e||n,className:"min-h-20","data-testid":`input-faq-question-${f}`}),((N=(x=a.formState.errors.faqs)==null?void 0:x[f])==null?void 0:N.question)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(j=a.formState.errors.faqs[f])==null?void 0:j.question)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`faqs.${f}.answer`,children:"Answer"}),s.jsx(Ht,{id:`faqs.${f}.answer`,...a.register(`faqs.${f}.answer`),disabled:!e||n,className:"min-h-32","data-testid":`input-faq-answer-${f}`}),((y=(S=a.formState.errors.faqs)==null?void 0:S[f])==null?void 0:y.answer)&&s.jsx("p",{className:"text-sm text-destructive",children:(D=(E=a.formState.errors.faqs[f])==null?void 0:E.answer)==null?void 0:D.message})]})]})]},w.id)}),s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>l({question:"",answer:""}),disabled:!e||n,className:"w-full","data-testid":"button-add-faq",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add FAQ"]})]})]})]})})}function UG(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),{data:r,isLoading:i}=$e({queryKey:["/api/content/about"]}),a=Kc({resolver:Gc(nj),defaultValues:{title:"",subtitle:"",sections:[{title:"",content:""}]}}),{fields:o,append:l,remove:c}=Gu({control:a.control,name:"sections"});p.useEffect(()=>{r!=null&&r.data&&a.reset(r.data)},[r,a]);const d=rt({mutationFn:async w=>{const f=await fetch("/api/admin/content/about",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)});if(!f.ok){const x=await f.json();throw new Error(x.message||"Failed to update About page")}return f.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/content/about"]}),t({title:"Success",description:"About page updated successfully"})},onError:w=>{t({title:"Error",description:w.message||"Failed to update About page",variant:"destructive"})}}),h=rt({mutationFn:async()=>{const w=await fetch("/api/admin/content/about/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!w.ok){const f=await w.json();throw new Error(f.message||"Failed to reset About page")}return w.json()},onSuccess:w=>{Ye.invalidateQueries({queryKey:["/api/content/about"]}),w!=null&&w.data&&a.reset(w.data),t({title:"Success",description:"About page reset to default content"})},onError:w=>{t({title:"Error",description:w.message||"Failed to reset About page",variant:"destructive"})}}),g=a.handleSubmit(w=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(w)}),m=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the About page to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Gk,{className:"h-8 w-8"}),"About Us Page Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the About Us page content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:m,disabled:!e||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(Y,{onClick:g,disabled:d.isPending||!e||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Yt,{children:s.jsx(Qt,{children:"Content editing is disabled in demo mode"})}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Page Settings"}),s.jsx(Ce,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Title"}),s.jsx(ee,{id:"title",...a.register("title"),disabled:!e||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ee,{id:"subtitle",...a.register("subtitle"),disabled:!e||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Content Sections"}),s.jsx(Ce,{children:"Add and manage page sections"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((w,f)=>{var x,N,j,v,S,y,E,D;return s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-lg",children:["Section #",f+1]}),s.jsx(Y,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(f),disabled:!e||n||o.length===1,"data-testid":`button-remove-section-${f}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${f}.title`,children:"Section Title"}),s.jsx(ee,{id:`sections.${f}.title`,...a.register(`sections.${f}.title`),disabled:!e||n,"data-testid":`input-section-title-${f}`}),((N=(x=a.formState.errors.sections)==null?void 0:x[f])==null?void 0:N.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(j=a.formState.errors.sections[f])==null?void 0:j.title)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${f}.content`,children:"Section Content"}),s.jsx(Ht,{id:`sections.${f}.content`,...a.register(`sections.${f}.content`),disabled:!e||n,className:"min-h-48","data-testid":`input-section-content-${f}`}),((y=(S=a.formState.errors.sections)==null?void 0:S[f])==null?void 0:y.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(D=(E=a.formState.errors.sections[f])==null?void 0:E.content)==null?void 0:D.message})]})]})]},w.id)}),s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!e||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}function VG(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),{data:r,isLoading:i}=$e({queryKey:["/api/content/privacy"]}),a=Kc({resolver:Gc(nj),defaultValues:{title:"",subtitle:"",sections:[{title:"",content:""}]}}),{fields:o,append:l,remove:c}=Gu({control:a.control,name:"sections"});p.useEffect(()=>{r!=null&&r.data&&a.reset(r.data)},[r,a]);const d=rt({mutationFn:async w=>{const f=await fetch("/api/admin/content/privacy",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)});if(!f.ok){const x=await f.json();throw new Error(x.message||"Failed to update Privacy Policy")}return f.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/content/privacy"]}),t({title:"Success",description:"Privacy Policy updated successfully"})},onError:w=>{t({title:"Error",description:w.message||"Failed to update Privacy Policy",variant:"destructive"})}}),h=rt({mutationFn:async()=>{const w=await fetch("/api/admin/content/privacy/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!w.ok){const f=await w.json();throw new Error(f.message||"Failed to reset Privacy Policy")}return w.json()},onSuccess:w=>{Ye.invalidateQueries({queryKey:["/api/content/privacy"]}),w!=null&&w.data&&a.reset(w.data),t({title:"Success",description:"Privacy Policy reset to default content"})},onError:w=>{t({title:"Error",description:w.message||"Failed to reset Privacy Policy",variant:"destructive"})}}),g=a.handleSubmit(w=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(w)}),m=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the Privacy Policy to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Qk,{className:"h-8 w-8"}),"Privacy Policy Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the Privacy Policy content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:m,disabled:!e||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(Y,{onClick:g,disabled:d.isPending||!e||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Yt,{children:s.jsx(Qt,{children:"Content editing is disabled in demo mode"})}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Page Settings"}),s.jsx(Ce,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Title"}),s.jsx(ee,{id:"title",...a.register("title"),disabled:!e||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ee,{id:"subtitle",...a.register("subtitle"),disabled:!e||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Content Sections"}),s.jsx(Ce,{children:"Add and manage policy sections"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((w,f)=>{var x,N,j,v,S,y,E,D;return s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-lg",children:["Section #",f+1]}),s.jsx(Y,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(f),disabled:!e||n||o.length===1,"data-testid":`button-remove-section-${f}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${f}.title`,children:"Section Title"}),s.jsx(ee,{id:`sections.${f}.title`,...a.register(`sections.${f}.title`),disabled:!e||n,"data-testid":`input-section-title-${f}`}),((N=(x=a.formState.errors.sections)==null?void 0:x[f])==null?void 0:N.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(j=a.formState.errors.sections[f])==null?void 0:j.title)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${f}.content`,children:"Section Content"}),s.jsx(Ht,{id:`sections.${f}.content`,...a.register(`sections.${f}.content`),disabled:!e||n,className:"min-h-48","data-testid":`input-section-content-${f}`}),((y=(S=a.formState.errors.sections)==null?void 0:S[f])==null?void 0:y.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(D=(E=a.formState.errors.sections[f])==null?void 0:E.content)==null?void 0:D.message})]})]})]},w.id)}),s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!e||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}function zG(){const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),{data:r,isLoading:i}=$e({queryKey:["/api/content/terms"]}),a=Kc({resolver:Gc(nj),defaultValues:{title:"",subtitle:"",sections:[{title:"",content:""}]}}),{fields:o,append:l,remove:c}=Gu({control:a.control,name:"sections"});p.useEffect(()=>{r!=null&&r.data&&a.reset(r.data)},[r,a]);const d=rt({mutationFn:async w=>{const f=await fetch("/api/admin/content/terms",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)});if(!f.ok){const x=await f.json();throw new Error(x.message||"Failed to update Terms of Service")}return f.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/content/terms"]}),t({title:"Success",description:"Terms of Service updated successfully"})},onError:w=>{t({title:"Error",description:w.message||"Failed to update Terms of Service",variant:"destructive"})}}),h=rt({mutationFn:async()=>{const w=await fetch("/api/admin/content/terms/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!w.ok){const f=await w.json();throw new Error(f.message||"Failed to reset Terms of Service")}return w.json()},onSuccess:w=>{Ye.invalidateQueries({queryKey:["/api/content/terms"]}),w!=null&&w.data&&a.reset(w.data),t({title:"Success",description:"Terms of Service reset to default content"})},onError:w=>{t({title:"Error",description:w.message||"Failed to reset Terms of Service",variant:"destructive"})}}),g=a.handleSubmit(w=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(w)}),m=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the Terms of Service to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Gk,{className:"h-8 w-8"}),"Terms of Service Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the Terms of Service content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:m,disabled:!e||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(Y,{onClick:g,disabled:d.isPending||!e||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Yt,{children:s.jsx(Qt,{children:"Content editing is disabled in demo mode"})}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Page Settings"}),s.jsx(Ce,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Title"}),s.jsx(ee,{id:"title",...a.register("title"),disabled:!e||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ee,{id:"subtitle",...a.register("subtitle"),disabled:!e||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Content Sections"}),s.jsx(Ce,{children:"Add and manage terms sections"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((w,f)=>{var x,N,j,v,S,y,E,D;return s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-lg",children:["Section #",f+1]}),s.jsx(Y,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(f),disabled:!e||n||o.length===1,"data-testid":`button-remove-section-${f}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${f}.title`,children:"Section Title"}),s.jsx(ee,{id:`sections.${f}.title`,...a.register(`sections.${f}.title`),disabled:!e||n,"data-testid":`input-section-title-${f}`}),((N=(x=a.formState.errors.sections)==null?void 0:x[f])==null?void 0:N.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(j=a.formState.errors.sections[f])==null?void 0:j.title)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${f}.content`,children:"Section Content"}),s.jsx(Ht,{id:`sections.${f}.content`,...a.register(`sections.${f}.content`),disabled:!e||n,className:"min-h-48","data-testid":`input-section-content-${f}`}),((y=(S=a.formState.errors.sections)==null?void 0:S[f])==null?void 0:y.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(D=(E=a.formState.errors.sections[f])==null?void 0:E.content)==null?void 0:D.message})]})]})]},w.id)}),s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!e||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}var Dp="Checkbox",[BG]=rs(Dp),[WG,zj]=BG(Dp);function HG(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:g}=t,[m,w]=Or({prop:n,defaultProp:i??!1,onChange:c,caller:Dp}),[f,x]=p.useState(null),[N,j]=p.useState(null),v=p.useRef(!1),S=f?!!o||!!f.closest("form"):!0,y={checked:m,disabled:a,setChecked:w,control:f,setControl:x,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:Ca(i)?!1:i,isFormControl:S,bubbleInput:N,setBubbleInput:j};return s.jsx(WG,{scope:e,...y,children:qG(g)?g(y):r})}var l4="CheckboxTrigger",c4=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:h,setChecked:g,hasConsumerStoppedPropagationRef:m,isFormControl:w,bubbleInput:f}=zj(l4,t),x=et(i,h),N=p.useRef(c);return p.useEffect(()=>{const j=a==null?void 0:a.form;if(j){const v=()=>g(N.current);return j.addEventListener("reset",v),()=>j.removeEventListener("reset",v)}},[a,g]),s.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Ca(c)?"mixed":c,"aria-required":d,"data-state":m4(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:x,onKeyDown:pe(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:pe(n,j=>{g(v=>Ca(v)?!0:!v),f&&w&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});c4.displayName=l4;var Bj=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...g}=t;return s.jsx(HG,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(c4,{...g,ref:e,__scopeCheckbox:n}),m&&s.jsx(f4,{__scopeCheckbox:n})]})})});Bj.displayName=Dp;var d4="CheckboxIndicator",u4=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=zj(d4,n);return s.jsx(is,{present:r||Ca(a.checked)||a.checked===!0,children:s.jsx(Oe.span,{"data-state":m4(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});u4.displayName=d4;var h4="CheckboxBubbleInput",f4=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:h,form:g,bubbleInput:m,setBubbleInput:w}=zj(h4,t),f=et(n,w),x=lj(a),N=Tw(r);p.useEffect(()=>{const v=m;if(!v)return;const S=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(S,"checked").set,D=!i.current;if(x!==a&&E){const k=new Event("click",{bubbles:D});v.indeterminate=Ca(a),E.call(v,Ca(a)?!1:a),v.dispatchEvent(k)}},[m,x,a,i]);const j=p.useRef(Ca(a)?!1:a);return s.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:d,value:h,form:g,...e,tabIndex:-1,ref:f,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});f4.displayName=h4;function qG(t){return typeof t=="function"}function Ca(t){return t==="indeterminate"}function m4(t){return Ca(t)?"indeterminate":t?"checked":"unchecked"}const p4=p.forwardRef(({className:t,...e},n)=>s.jsx(Bj,{ref:n,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(u4,{className:ve("flex items-center justify-center text-current"),children:s.jsx(vw,{className:"h-4 w-4"})})}));p4.displayName=Bj.displayName;function KG(){var w;const{toast:t}=Vt(),{canManageSettings:e,isDemoMode:n}=Ya(),{data:r,isLoading:i}=$e({queryKey:["/api/content/contact"]}),a=Kc({resolver:Gc(cV),defaultValues:{title:"",subtitle:"",description:"",contactInfo:{email:"",phone:"",address:""},showContactForm:!0,sections:[]}}),{fields:o,append:l,remove:c}=Gu({control:a.control,name:"sections"});p.useEffect(()=>{r!=null&&r.data&&a.reset(r.data)},[r,a]);const d=rt({mutationFn:async f=>{const x=await fetch("/api/admin/content/contact",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)});if(!x.ok){const N=await x.json();throw new Error(N.message||"Failed to update Contact page")}return x.json()},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/content/contact"]}),t({title:"Success",description:"Contact page updated successfully"})},onError:f=>{t({title:"Error",description:f.message||"Failed to update Contact page",variant:"destructive"})}}),h=rt({mutationFn:async()=>{const f=await fetch("/api/admin/content/contact/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!f.ok){const x=await f.json();throw new Error(x.message||"Failed to reset Contact page")}return f.json()},onSuccess:f=>{Ye.invalidateQueries({queryKey:["/api/content/contact"]}),f!=null&&f.data&&a.reset(f.data),t({title:"Success",description:"Contact page reset to default content"})},onError:f=>{t({title:"Error",description:f.message||"Failed to reset Contact page",variant:"destructive"})}}),g=a.handleSubmit(f=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(f)}),m=()=>{if(n||!e){t({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the Contact page to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Fu,{className:"h-8 w-8"}),"Contact Page Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the Contact Us page content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{variant:"outline",onClick:m,disabled:!e||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(Y,{onClick:g,disabled:d.isPending||!e||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Yt,{children:s.jsx(Qt,{children:"Content editing is disabled in demo mode"})}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Page Settings"}),s.jsx(Ce,{children:"Configure the main title and description"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"title",children:"Title"}),s.jsx(ee,{id:"title",...a.register("title"),disabled:!e||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ee,{id:"subtitle",...a.register("subtitle"),disabled:!e||n,"data-testid":"input-subtitle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Ht,{id:"description",...a.register("description"),disabled:!e||n,className:"min-h-20","data-testid":"input-description"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Contact Information"}),s.jsx(Ce,{children:"Provide contact details for users"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"contactInfo.email",children:"Email (Optional)"}),s.jsx(ee,{id:"contactInfo.email",type:"email",...a.register("contactInfo.email"),disabled:!e||n,"data-testid":"input-contact-email"}),((w=a.formState.errors.contactInfo)==null?void 0:w.email)&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.contactInfo.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"contactInfo.phone",children:"Phone (Optional)"}),s.jsx(ee,{id:"contactInfo.phone",...a.register("contactInfo.phone"),disabled:!e||n,"data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:"contactInfo.address",children:"Address (Optional)"}),s.jsx(Ht,{id:"contactInfo.address",...a.register("contactInfo.address"),disabled:!e||n,className:"min-h-20","data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(p4,{id:"showContactForm",checked:a.watch("showContactForm"),onCheckedChange:f=>a.setValue("showContactForm",f),disabled:!e||n,"data-testid":"checkbox-show-contact-form"}),s.jsx(Q,{htmlFor:"showContactForm",className:"text-sm font-normal",children:"Show contact form on the page"})]})]})]}),s.jsxs(Z,{children:[s.jsxs(re,{children:[s.jsx(ie,{children:"Additional Sections (Optional)"}),s.jsx(Ce,{children:"Add extra content sections to the contact page"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((f,x)=>{var N,j,v,S,y,E,D,k;return s.jsxs(Z,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"text-lg",children:["Section #",x+1]}),s.jsx(Y,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(x),disabled:!e||n,"data-testid":`button-remove-section-${x}`,children:s.jsx(Xs,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${x}.title`,children:"Section Title"}),s.jsx(ee,{id:`sections.${x}.title`,...a.register(`sections.${x}.title`),disabled:!e||n,"data-testid":`input-section-title-${x}`}),((j=(N=a.formState.errors.sections)==null?void 0:N[x])==null?void 0:j.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(S=(v=a.formState.errors.sections[x])==null?void 0:v.title)==null?void 0:S.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Q,{htmlFor:`sections.${x}.content`,children:"Section Content"}),s.jsx(Ht,{id:`sections.${x}.content`,...a.register(`sections.${x}.content`),disabled:!e||n,className:"min-h-32","data-testid":`input-section-content-${x}`}),((E=(y=a.formState.errors.sections)==null?void 0:y[x])==null?void 0:E.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(k=(D=a.formState.errors.sections[x])==null?void 0:D.content)==null?void 0:k.message})]})]})]},f.id)}),s.jsxs(Y,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!e||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}function GG(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Z,{className:"w-full max-w-md mx-4",children:s.jsxs(te,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Hf,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function YG(t){const{settings:e}=tl();p.useEffect(()=>{const n=e.seo_title||e.app_name;document.title=n},[t,e.app_name,e.seo_title])}function QG({children:t}){const[e]=an(),[n,r]=p.useState(!0),[i,a]=p.useState(!1);return p.useEffect(()=>{if(e==="/admin/setup"){r(!1),a(!0);return}(async()=>{try{const c=await(await fetch("/api/admin/exists",{credentials:"include"})).json();c.success&&a(c.exists)}catch(l){console.error("Error checking if admin exists:",l),a(!0)}finally{r(!1)}})()},[e]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Checking admin setup..."})]})}):!i&&e!=="/admin/setup"?(window.location.href="/admin/setup",s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to setup..."})]})})):s.jsx(s.Fragment,{children:t})}function XG(){const{isAuthenticated:t,isLoading:e,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:i,pendingSocialAuthData:a,completeSocialAuth:o}=Ha(),[,l]=an(),[c,d]=p.useState(!1);YG();const h=async g=>{try{await o(g),d(!0)}catch(m){console.error("Social auth completion failed:",m)}};return p.useEffect(()=>{c&&t&&!r&&n&&(n.admin?l("/admin"):l("/admin/login"),d(!1))},[c,t,r,n,l]),e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r&&i&&a?s.jsx(Az,{userEmail:i,socialAuthData:a,onComplete:h,isLoading:e}):t?n!=null&&n.admin?s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(qN,{children:[s.jsx(gt,{path:"/",component:d1}),s.jsx(gt,{path:"/admin",component:d1}),s.jsx(gt,{path:"/admin/users/:userId/details/:itemType/:itemId",component:GW}),s.jsx(gt,{path:"/admin/users/:userId",component:KW}),s.jsx(gt,{path:"/admin/users",component:jW}),s.jsx(gt,{path:"/admin/inventory",component:YW}),s.jsx(gt,{path:"/admin/products/:productId",component:QW}),s.jsx(gt,{path:"/admin/orders/:orderId",component:ZW}),s.jsx(gt,{path:"/admin/orders",component:XW}),s.jsx(gt,{path:"/admin/disputes/:disputeId",component:MG}),s.jsx(gt,{path:"/admin/disputes",component:TG}),s.jsx(gt,{path:"/admin/reported-cases",component:OG}),s.jsx(gt,{path:"/admin/transactions",component:JW}),s.jsx(gt,{path:"/admin/payouts",component:eH}),s.jsx(gt,{path:"/admin/application-fees",component:uG}),s.jsx(gt,{path:"/admin/categories/:categoryId/subcategories",component:EG}),s.jsx(gt,{path:"/admin/categories",component:kG}),s.jsx(gt,{path:"/admin/shows/:showId",component:nH}),s.jsx(gt,{path:"/admin/shows",component:tH}),s.jsx(gt,{path:"/admin/emails",component:FG}),s.jsx(gt,{path:"/admin/pages/landing",component:LG}),s.jsx(gt,{path:"/admin/pages/faq",component:$G}),s.jsx(gt,{path:"/admin/pages/about",component:UG}),s.jsx(gt,{path:"/admin/pages/privacy",component:VG}),s.jsx(gt,{path:"/admin/pages/terms",component:zG}),s.jsx(gt,{path:"/admin/pages/contact",component:KG}),s.jsx(gt,{path:"/admin/settings",component:sH}),s.jsx(gt,{path:"/admin/profile",component:iH}),s.jsx(gt,{component:GG})]})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(sx,{})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(qN,{children:[s.jsx(gt,{path:"/admin/setup",component:Iz}),s.jsx(gt,{path:"/admin/login",component:sx}),s.jsx(gt,{component:sx})]})})})}function ZG(){return s.jsx(cO,{client:Ye,children:s.jsx(uV,{children:s.jsx(hV,{children:s.jsxs(b6,{children:[s.jsx(RL,{}),s.jsx(QG,{children:s.jsx(XG,{})})]})})})})}GC(document.getElementById("root")).render(s.jsx(ZG,{}));
