var vN=e=>{throw TypeError(e)};var kg=(e,t,n)=>t.has(e)||vN("Cannot "+n);var V=(e,t,n)=>(kg(e,t,"read from private field"),n?n.call(e):t.get(e)),Ue=(e,t,n)=>t.has(e)?vN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Te=(e,t,n,r)=>(kg(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),nt=(e,t,n)=>(kg(e,t,"access private method"),n);var Bh=(e,t,n,r)=>({set _(i){Te(e,t,i,n)},get _(){return V(e,t,r)}});function QR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function kS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ES={exports:{}},op={},TS={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=Symbol.for("react.element"),XR=Symbol.for("react.portal"),ZR=Symbol.for("react.fragment"),JR=Symbol.for("react.strict_mode"),eD=Symbol.for("react.profiler"),tD=Symbol.for("react.provider"),nD=Symbol.for("react.context"),sD=Symbol.for("react.forward_ref"),rD=Symbol.for("react.suspense"),iD=Symbol.for("react.memo"),aD=Symbol.for("react.lazy"),yN=Symbol.iterator;function oD(e){return e===null||typeof e!="object"?null:(e=yN&&e[yN]||e["@@iterator"],typeof e=="function"?e:null)}var PS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AS=Object.assign,IS={};function Xc(e,t,n){this.props=e,this.context=t,this.refs=IS,this.updater=n||PS}Xc.prototype.isReactComponent={};Xc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RS(){}RS.prototype=Xc.prototype;function Wy(e,t,n){this.props=e,this.context=t,this.refs=IS,this.updater=n||PS}var Hy=Wy.prototype=new RS;Hy.constructor=Wy;AS(Hy,Xc.prototype);Hy.isPureReactComponent=!0;var wN=Array.isArray,DS=Object.prototype.hasOwnProperty,qy={current:null},OS={key:!0,ref:!0,__self:!0,__source:!0};function MS(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)DS.call(t,r)&&!OS.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Xu,type:e,key:a,ref:o,props:i,_owner:qy.current}}function lD(e,t){return{$$typeof:Xu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ky(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xu}function cD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jN=/\/+/g;function Eg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cD(""+e.key):t.toString(36)}function _f(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xu:case XR:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Eg(o,0):r,wN(i)?(n="",e!=null&&(n=e.replace(jN,"$&/")+"/"),_f(i,t,n,"",function(d){return d})):i!=null&&(Ky(i)&&(i=lD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jN,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",wN(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Eg(a,l);o+=_f(a,t,n,c,i)}else if(c=oD(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Eg(a,l++),o+=_f(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wh(e,t,n){if(e==null)return e;var r=[],i=0;return _f(e,r,"","",function(a){return t.call(n,a,i++)}),r}function dD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qn={current:null},Sf={transition:null},uD={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Sf,ReactCurrentOwner:qy};function FS(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:Wh,forEach:function(e,t,n){Wh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wh(e,function(){t++}),t},toArray:function(e){return Wh(e,function(t){return t})||[]},only:function(e){if(!Ky(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=Xc;dt.Fragment=ZR;dt.Profiler=eD;dt.PureComponent=Wy;dt.StrictMode=JR;dt.Suspense=rD;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uD;dt.act=FS;dt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=AS({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=qy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)DS.call(t,c)&&!OS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Xu,type:e.type,key:i,ref:a,props:r,_owner:o}};dt.createContext=function(e){return e={$$typeof:nD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tD,_context:e},e.Consumer=e};dt.createElement=MS;dt.createFactory=function(e){var t=MS.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:sD,render:e}};dt.isValidElement=Ky;dt.lazy=function(e){return{$$typeof:aD,_payload:{_status:-1,_result:e},_init:dD}};dt.memo=function(e,t){return{$$typeof:iD,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Sf.transition;Sf.transition={};try{e()}finally{Sf.transition=t}};dt.unstable_act=FS;dt.useCallback=function(e,t){return qn.current.useCallback(e,t)};dt.useContext=function(e){return qn.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return qn.current.useDeferredValue(e)};dt.useEffect=function(e,t){return qn.current.useEffect(e,t)};dt.useId=function(){return qn.current.useId()};dt.useImperativeHandle=function(e,t,n){return qn.current.useImperativeHandle(e,t,n)};dt.useInsertionEffect=function(e,t){return qn.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return qn.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return qn.current.useMemo(e,t)};dt.useReducer=function(e,t,n){return qn.current.useReducer(e,t,n)};dt.useRef=function(e){return qn.current.useRef(e)};dt.useState=function(e){return qn.current.useState(e)};dt.useSyncExternalStore=function(e,t,n){return qn.current.useSyncExternalStore(e,t,n)};dt.useTransition=function(){return qn.current.useTransition()};dt.version="18.3.1";TS.exports=dt;var f=TS.exports;const Re=kS(f),lp=QR({__proto__:null,default:Re},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=f,fD=Symbol.for("react.element"),mD=Symbol.for("react.fragment"),pD=Object.prototype.hasOwnProperty,gD=hD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xD={key:!0,ref:!0,__self:!0,__source:!0};function LS(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)pD.call(t,r)&&!xD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fD,type:e,key:a,ref:o,props:i,_owner:gD.current}}op.Fragment=mD;op.jsx=LS;op.jsxs=LS;ES.exports=op;var s=ES.exports,$S={exports:{}},ks={},US={exports:{}},VS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var le=L.length;L.push(B);e:for(;0<le;){var ce=le-1>>>1,W=L[ce];if(0<i(W,B))L[ce]=B,L[le]=W,le=ce;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],le=L.pop();if(le!==B){L[0]=le;e:for(var ce=0,W=L.length,Ce=W>>>1;ce<Ce;){var _e=2*(ce+1)-1,De=L[_e],He=_e+1,X=L[He];if(0>i(De,le))He<W&&0>i(X,De)?(L[ce]=X,L[He]=le,ce=He):(L[ce]=De,L[_e]=le,ce=_e);else if(He<W&&0>i(X,le))L[ce]=X,L[He]=le,ce=He;else break e}}return B}function i(L,B){var le=L.sortIndex-B.sortIndex;return le!==0?le:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,p=3,y=!1,x=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(L){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=L)r(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(d)}}function P(L){if(g=!1,j(L),!x)if(n(c)!==null)x=!0,U(E);else{var B=n(d);B!==null&&z(P,B.startTime-L)}}function E(L,B){x=!1,g&&(g=!1,w(N),N=-1),y=!0;var le=p;try{for(j(B),m=n(c);m!==null&&(!(m.expirationTime>B)||L&&!R());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,p=m.priorityLevel;var W=ce(m.expirationTime<=B);B=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(c)&&r(c),j(B)}else r(c);m=n(c)}if(m!==null)var Ce=!0;else{var _e=n(d);_e!==null&&z(P,_e.startTime-B),Ce=!1}return Ce}finally{m=null,p=le,y=!1}}var O=!1,C=null,N=-1,_=5,k=-1;function R(){return!(e.unstable_now()-k<_)}function T(){if(C!==null){var L=e.unstable_now();k=L;var B=!0;try{B=C(!0,L)}finally{B?I():(O=!1,C=null)}}else O=!1}var I;if(typeof v=="function")I=function(){v(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=T,I=function(){q.postMessage(null)}}else I=function(){S(T,0)};function U(L){C=L,O||(O=!0,I())}function z(L,B){N=S(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,U(E))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var le=p;p=B;try{return L()}finally{p=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var le=p;p=L;try{return B()}finally{p=le}},e.unstable_scheduleCallback=function(L,B,le){var ce=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ce+le:ce):le=ce,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=le+W,L={id:h++,callback:B,priorityLevel:L,startTime:le,expirationTime:W,sortIndex:-1},le>ce?(L.sortIndex=le,t(d,L),n(c)===null&&L===n(d)&&(g?(w(N),N=-1):g=!0,z(P,le-ce))):(L.sortIndex=W,t(c,L),x||y||(x=!0,U(E))),L},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(L){var B=p;return function(){var le=p;p=B;try{return L.apply(this,arguments)}finally{p=le}}}})(VS);US.exports=VS;var vD=US.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD=f,bs=vD;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zS=new Set,uu={};function gl(e,t){kc(e,t),kc(e+"Capture",t)}function kc(e,t){for(uu[e]=t,e=0;e<t.length;e++)zS.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bx=Object.prototype.hasOwnProperty,wD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bN={},NN={};function jD(e){return Bx.call(NN,e)?!0:Bx.call(bN,e)?!1:wD.test(e)?NN[e]=!0:(bN[e]=!0,!1)}function bD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ND(e,t,n,r){if(t===null||typeof t>"u"||bD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kn(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new Kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new Kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new Kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new Kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new Kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new Kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new Kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new Kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new Kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gy=/[\-:]([a-z])/g;function Yy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gy,Yy);En[t]=new Kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gy,Yy);En[t]=new Kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gy,Yy);En[t]=new Kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new Kn(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new Kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qy(e,t,n,r){var i=En.hasOwnProperty(t)?En[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ND(t,n,i,r)&&(n=null),r||i===null?jD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ki=yD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hh=Symbol.for("react.element"),$l=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Wx=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),WS=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),Hx=Symbol.for("react.suspense"),qx=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),ma=Symbol.for("react.lazy"),HS=Symbol.for("react.offscreen"),_N=Symbol.iterator;function Cd(e){return e===null||typeof e!="object"?null:(e=_N&&e[_N]||e["@@iterator"],typeof e=="function"?e:null)}var Ht=Object.assign,Tg;function $d(e){if(Tg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tg=t&&t[1]||""}return`
`+Tg+e}var Pg=!1;function Ag(e,t){if(!e||Pg)return"";Pg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$d(e):""}function _D(e){switch(e.tag){case 5:return $d(e.type);case 16:return $d("Lazy");case 13:return $d("Suspense");case 19:return $d("SuspenseList");case 0:case 2:case 15:return e=Ag(e.type,!1),e;case 11:return e=Ag(e.type.render,!1),e;case 1:return e=Ag(e.type,!0),e;default:return""}}function Kx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ul:return"Fragment";case $l:return"Portal";case Wx:return"Profiler";case Xy:return"StrictMode";case Hx:return"Suspense";case qx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WS:return(e.displayName||"Context")+".Consumer";case BS:return(e._context.displayName||"Context")+".Provider";case Zy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jy:return t=e.displayName||null,t!==null?t:Kx(e.type)||"Memo";case ma:t=e._payload,e=e._init;try{return Kx(e(t))}catch{}}return null}function SD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kx(t);case 8:return t===Xy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CD(e){var t=qS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qh(e){e._valueTracker||(e._valueTracker=CD(e))}function KS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gx(e,t){var n=t.checked;return Ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function SN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GS(e,t){t=t.checked,t!=null&&Qy(e,"checked",t,!1)}function Yx(e,t){GS(e,t);var n=Qa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qx(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qx(e,t.type,Qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function CN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qx(e,t,n){(t!=="number"||Qf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ud=Array.isArray;function Zl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Xx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return Ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(Ud(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qa(n)}}function YS(e,t){var n=Qa(t.value),r=Qa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function EN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function QS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?QS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kh,XS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kh=Kh||document.createElement("div"),Kh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kD=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(e){kD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kd[t]=Kd[e]})});function ZS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kd.hasOwnProperty(e)&&Kd[e]?(""+t).trim():t+"px"}function JS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ZS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ED=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jx(e,t){if(t){if(ED[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function ev(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=null;function ew(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nv=null,Jl=null,ec=null;function TN(e){if(e=eh(e)){if(typeof nv!="function")throw Error(me(280));var t=e.stateNode;t&&(t=fp(t),nv(e.stateNode,e.type,t))}}function eC(e){Jl?ec?ec.push(e):ec=[e]:Jl=e}function tC(){if(Jl){var e=Jl,t=ec;if(ec=Jl=null,TN(e),t)for(e=0;e<t.length;e++)TN(t[e])}}function nC(e,t){return e(t)}function sC(){}var Ig=!1;function rC(e,t,n){if(Ig)return e(t,n);Ig=!0;try{return nC(e,t,n)}finally{Ig=!1,(Jl!==null||ec!==null)&&(sC(),tC())}}function fu(e,t){var n=e.stateNode;if(n===null)return null;var r=fp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var sv=!1;if(Oi)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){sv=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{sv=!1}function TD(e,t,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Gd=!1,Xf=null,Zf=!1,rv=null,PD={onError:function(e){Gd=!0,Xf=e}};function AD(e,t,n,r,i,a,o,l,c){Gd=!1,Xf=null,TD.apply(PD,arguments)}function ID(e,t,n,r,i,a,o,l,c){if(AD.apply(this,arguments),Gd){if(Gd){var d=Xf;Gd=!1,Xf=null}else throw Error(me(198));Zf||(Zf=!0,rv=d)}}function xl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PN(e){if(xl(e)!==e)throw Error(me(188))}function RD(e){var t=e.alternate;if(!t){if(t=xl(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return PN(i),e;if(a===r)return PN(i),t;a=a.sibling}throw Error(me(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function aC(e){return e=RD(e),e!==null?oC(e):null}function oC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oC(e);if(t!==null)return t;e=e.sibling}return null}var lC=bs.unstable_scheduleCallback,AN=bs.unstable_cancelCallback,DD=bs.unstable_shouldYield,OD=bs.unstable_requestPaint,sn=bs.unstable_now,MD=bs.unstable_getCurrentPriorityLevel,tw=bs.unstable_ImmediatePriority,cC=bs.unstable_UserBlockingPriority,Jf=bs.unstable_NormalPriority,FD=bs.unstable_LowPriority,dC=bs.unstable_IdlePriority,cp=null,zr=null;function LD(e){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(cp,e,void 0,(e.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:VD,$D=Math.log,UD=Math.LN2;function VD(e){return e>>>=0,e===0?32:31-($D(e)/UD|0)|0}var Gh=64,Yh=4194304;function Vd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function em(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Vd(l):(a&=o,a!==0&&(r=Vd(a)))}else o=n&~i,o!==0?r=Vd(o):a!==0&&(r=Vd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hr(t),i=1<<n,r|=e[n],t&=~i;return r}function zD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-hr(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=zD(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function iv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uC(){var e=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),e}function Rg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hr(t),e[t]=n}function WD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function nw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tt=0;function hC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fC,sw,mC,pC,gC,av=!1,Qh=[],Da=null,Oa=null,Ma=null,mu=new Map,pu=new Map,xa=[],HD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IN(e,t){switch(e){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":mu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(t.pointerId)}}function Ed(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=eh(t),t!==null&&sw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qD(e,t,n,r,i){switch(t){case"focusin":return Da=Ed(Da,e,t,n,r,i),!0;case"dragenter":return Oa=Ed(Oa,e,t,n,r,i),!0;case"mouseover":return Ma=Ed(Ma,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mu.set(a,Ed(mu.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,pu.set(a,Ed(pu.get(a)||null,e,t,n,r,i)),!0}return!1}function xC(e){var t=Ao(e.target);if(t!==null){var n=xl(t);if(n!==null){if(t=n.tag,t===13){if(t=iC(n),t!==null){e.blockedOn=t,gC(e.priority,function(){mC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ov(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tv=r,n.target.dispatchEvent(r),tv=null}else return t=eh(n),t!==null&&sw(t),e.blockedOn=n,!1;t.shift()}return!0}function RN(e,t,n){Cf(e)&&n.delete(t)}function KD(){av=!1,Da!==null&&Cf(Da)&&(Da=null),Oa!==null&&Cf(Oa)&&(Oa=null),Ma!==null&&Cf(Ma)&&(Ma=null),mu.forEach(RN),pu.forEach(RN)}function Td(e,t){e.blockedOn===t&&(e.blockedOn=null,av||(av=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,KD)))}function gu(e){function t(i){return Td(i,e)}if(0<Qh.length){Td(Qh[0],e);for(var n=1;n<Qh.length;n++){var r=Qh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Da!==null&&Td(Da,e),Oa!==null&&Td(Oa,e),Ma!==null&&Td(Ma,e),mu.forEach(t),pu.forEach(t),n=0;n<xa.length;n++)r=xa[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xa.length&&(n=xa[0],n.blockedOn===null);)xC(n),n.blockedOn===null&&xa.shift()}var tc=Ki.ReactCurrentBatchConfig,tm=!0;function GD(e,t,n,r){var i=Tt,a=tc.transition;tc.transition=null;try{Tt=1,rw(e,t,n,r)}finally{Tt=i,tc.transition=a}}function YD(e,t,n,r){var i=Tt,a=tc.transition;tc.transition=null;try{Tt=4,rw(e,t,n,r)}finally{Tt=i,tc.transition=a}}function rw(e,t,n,r){if(tm){var i=ov(e,t,n,r);if(i===null)Bg(e,t,r,nm,n),IN(e,r);else if(qD(i,e,t,n,r))r.stopPropagation();else if(IN(e,r),t&4&&-1<HD.indexOf(e)){for(;i!==null;){var a=eh(i);if(a!==null&&fC(a),a=ov(e,t,n,r),a===null&&Bg(e,t,r,nm,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bg(e,t,r,null,n)}}var nm=null;function ov(e,t,n,r){if(nm=null,e=ew(r),e=Ao(e),e!==null)if(t=xl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nm=e,null}function vC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MD()){case tw:return 1;case cC:return 4;case Jf:case FD:return 16;case dC:return 536870912;default:return 16}default:return 16}}var Aa=null,iw=null,kf=null;function yC(){if(kf)return kf;var e,t=iw,n=t.length,r,i="value"in Aa?Aa.value:Aa.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return kf=i.slice(e,1<r?1-r:void 0)}function Ef(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xh(){return!0}function DN(){return!1}function Es(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xh:DN,this.isPropagationStopped=DN,this}return Ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xh)},persist:function(){},isPersistent:Xh}),t}var Zc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aw=Es(Zc),Ju=Ht({},Zc,{view:0,detail:0}),QD=Es(Ju),Dg,Og,Pd,dp=Ht({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pd&&(Pd&&e.type==="mousemove"?(Dg=e.screenX-Pd.screenX,Og=e.screenY-Pd.screenY):Og=Dg=0,Pd=e),Dg)},movementY:function(e){return"movementY"in e?e.movementY:Og}}),ON=Es(dp),XD=Ht({},dp,{dataTransfer:0}),ZD=Es(XD),JD=Ht({},Ju,{relatedTarget:0}),Mg=Es(JD),eO=Ht({},Zc,{animationName:0,elapsedTime:0,pseudoElement:0}),tO=Es(eO),nO=Ht({},Zc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sO=Es(nO),rO=Ht({},Zc,{data:0}),MN=Es(rO),iO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oO[e])?!!t[e]:!1}function ow(){return lO}var cO=Ht({},Ju,{key:function(e){if(e.key){var t=iO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ef(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(e){return e.type==="keypress"?Ef(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ef(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dO=Es(cO),uO=Ht({},dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FN=Es(uO),hO=Ht({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),fO=Es(hO),mO=Ht({},Zc,{propertyName:0,elapsedTime:0,pseudoElement:0}),pO=Es(mO),gO=Ht({},dp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xO=Es(gO),vO=[9,13,27,32],lw=Oi&&"CompositionEvent"in window,Yd=null;Oi&&"documentMode"in document&&(Yd=document.documentMode);var yO=Oi&&"TextEvent"in window&&!Yd,wC=Oi&&(!lw||Yd&&8<Yd&&11>=Yd),LN=" ",$N=!1;function jC(e,t){switch(e){case"keyup":return vO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vl=!1;function wO(e,t){switch(e){case"compositionend":return bC(t);case"keypress":return t.which!==32?null:($N=!0,LN);case"textInput":return e=t.data,e===LN&&$N?null:e;default:return null}}function jO(e,t){if(Vl)return e==="compositionend"||!lw&&jC(e,t)?(e=yC(),kf=iw=Aa=null,Vl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wC&&t.locale!=="ko"?null:t.data;default:return null}}var bO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bO[e.type]:t==="textarea"}function NC(e,t,n,r){eC(r),t=sm(t,"onChange"),0<t.length&&(n=new aw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qd=null,xu=null;function NO(e){DC(e,0)}function up(e){var t=Wl(e);if(KS(t))return e}function _O(e,t){if(e==="change")return t}var _C=!1;if(Oi){var Fg;if(Oi){var Lg="oninput"in document;if(!Lg){var VN=document.createElement("div");VN.setAttribute("oninput","return;"),Lg=typeof VN.oninput=="function"}Fg=Lg}else Fg=!1;_C=Fg&&(!document.documentMode||9<document.documentMode)}function zN(){Qd&&(Qd.detachEvent("onpropertychange",SC),xu=Qd=null)}function SC(e){if(e.propertyName==="value"&&up(xu)){var t=[];NC(t,xu,e,ew(e)),rC(NO,t)}}function SO(e,t,n){e==="focusin"?(zN(),Qd=t,xu=n,Qd.attachEvent("onpropertychange",SC)):e==="focusout"&&zN()}function CO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return up(xu)}function kO(e,t){if(e==="click")return up(t)}function EO(e,t){if(e==="input"||e==="change")return up(t)}function TO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:TO;function vu(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bx.call(t,i)||!pr(e[i],t[i]))return!1}return!0}function BN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WN(e,t){var n=BN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BN(n)}}function CC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kC(){for(var e=window,t=Qf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qf(e.document)}return t}function cw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PO(e){var t=kC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&CC(n.ownerDocument.documentElement,n)){if(r!==null&&cw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=WN(n,a);var o=WN(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AO=Oi&&"documentMode"in document&&11>=document.documentMode,zl=null,lv=null,Xd=null,cv=!1;function HN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cv||zl==null||zl!==Qf(r)||(r=zl,"selectionStart"in r&&cw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xd&&vu(Xd,r)||(Xd=r,r=sm(lv,"onSelect"),0<r.length&&(t=new aw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zl)))}function Zh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bl={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},$g={},EC={};Oi&&(EC=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function hp(e){if($g[e])return $g[e];if(!Bl[e])return e;var t=Bl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in EC)return $g[e]=t[n];return e}var TC=hp("animationend"),PC=hp("animationiteration"),AC=hp("animationstart"),IC=hp("transitionend"),RC=new Map,qN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){RC.set(e,t),gl(t,[e])}for(var Ug=0;Ug<qN.length;Ug++){var Vg=qN[Ug],IO=Vg.toLowerCase(),RO=Vg[0].toUpperCase()+Vg.slice(1);ro(IO,"on"+RO)}ro(TC,"onAnimationEnd");ro(PC,"onAnimationIteration");ro(AC,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(IC,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function KN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ID(r,t,void 0,e),e.currentTarget=null}function DC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;KN(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;KN(i,l,d),a=c}}}if(Zf)throw e=rv,Zf=!1,rv=null,e}function $t(e,t){var n=t[mv];n===void 0&&(n=t[mv]=new Set);var r=e+"__bubble";n.has(r)||(OC(t,e,2,!1),n.add(r))}function zg(e,t,n){var r=0;t&&(r|=4),OC(n,e,r,t)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Jh]){e[Jh]=!0,zS.forEach(function(n){n!=="selectionchange"&&(DO.has(n)||zg(n,!1,e),zg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jh]||(t[Jh]=!0,zg("selectionchange",!1,t))}}function OC(e,t,n,r){switch(vC(t)){case 1:var i=GD;break;case 4:i=YD;break;default:i=rw}n=i.bind(null,t,n,e),i=void 0,!sv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bg(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ao(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}rC(function(){var d=a,h=ew(n),m=[];e:{var p=RC.get(e);if(p!==void 0){var y=aw,x=e;switch(e){case"keypress":if(Ef(n)===0)break e;case"keydown":case"keyup":y=dO;break;case"focusin":x="focus",y=Mg;break;case"focusout":x="blur",y=Mg;break;case"beforeblur":case"afterblur":y=Mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ON;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ZD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=fO;break;case TC:case PC:case AC:y=tO;break;case IC:y=pO;break;case"scroll":y=QD;break;case"wheel":y=xO;break;case"copy":case"cut":case"paste":y=sO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=FN}var g=(t&4)!==0,S=!g&&e==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var v=d,j;v!==null;){j=v;var P=j.stateNode;if(j.tag===5&&P!==null&&(j=P,w!==null&&(P=fu(v,w),P!=null&&g.push(wu(v,P,j)))),S)break;v=v.return}0<g.length&&(p=new y(p,x,null,n,h),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==tv&&(x=n.relatedTarget||n.fromElement)&&(Ao(x)||x[Mi]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=d,x=x?Ao(x):null,x!==null&&(S=xl(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(g=ON,P="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=FN,P="onPointerLeave",w="onPointerEnter",v="pointer"),S=y==null?p:Wl(y),j=x==null?p:Wl(x),p=new g(P,v+"leave",y,n,h),p.target=S,p.relatedTarget=j,P=null,Ao(h)===d&&(g=new g(w,v+"enter",x,n,h),g.target=j,g.relatedTarget=S,P=g),S=P,y&&x)t:{for(g=y,w=x,v=0,j=g;j;j=Pl(j))v++;for(j=0,P=w;P;P=Pl(P))j++;for(;0<v-j;)g=Pl(g),v--;for(;0<j-v;)w=Pl(w),j--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Pl(g),w=Pl(w)}g=null}else g=null;y!==null&&GN(m,p,y,g,!1),x!==null&&S!==null&&GN(m,S,x,g,!0)}}e:{if(p=d?Wl(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var E=_O;else if(UN(p))if(_C)E=EO;else{E=CO;var O=SO}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=kO);if(E&&(E=E(e,d))){NC(m,E,n,h);break e}O&&O(e,p,d),e==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Qx(p,"number",p.value)}switch(O=d?Wl(d):window,e){case"focusin":(UN(O)||O.contentEditable==="true")&&(zl=O,lv=d,Xd=null);break;case"focusout":Xd=lv=zl=null;break;case"mousedown":cv=!0;break;case"contextmenu":case"mouseup":case"dragend":cv=!1,HN(m,n,h);break;case"selectionchange":if(AO)break;case"keydown":case"keyup":HN(m,n,h)}var C;if(lw)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vl?jC(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(wC&&n.locale!=="ko"&&(Vl||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vl&&(C=yC()):(Aa=h,iw="value"in Aa?Aa.value:Aa.textContent,Vl=!0)),O=sm(d,N),0<O.length&&(N=new MN(N,e,null,n,h),m.push({event:N,listeners:O}),C?N.data=C:(C=bC(n),C!==null&&(N.data=C)))),(C=yO?wO(e,n):jO(e,n))&&(d=sm(d,"onBeforeInput"),0<d.length&&(h=new MN("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=C))}DC(m,t)})}function wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fu(e,n),a!=null&&r.unshift(wu(e,a,i)),a=fu(e,t),a!=null&&r.push(wu(e,a,i))),e=e.return}return r}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GN(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=fu(n,a),c!=null&&o.unshift(wu(n,c,l))):i||(c=fu(n,a),c!=null&&o.push(wu(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var OO=/\r\n?/g,MO=/\u0000|\uFFFD/g;function YN(e){return(typeof e=="string"?e:""+e).replace(OO,`
`).replace(MO,"")}function ef(e,t,n){if(t=YN(t),YN(e)!==t&&n)throw Error(me(425))}function rm(){}var dv=null,uv=null;function hv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fv=typeof setTimeout=="function"?setTimeout:void 0,FO=typeof clearTimeout=="function"?clearTimeout:void 0,QN=typeof Promise=="function"?Promise:void 0,LO=typeof queueMicrotask=="function"?queueMicrotask:typeof QN<"u"?function(e){return QN.resolve(null).then(e).catch($O)}:fv;function $O(e){setTimeout(function(){throw e})}function Wg(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),gu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gu(t)}function Fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jc=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Jc,ju="__reactProps$"+Jc,Mi="__reactContainer$"+Jc,mv="__reactEvents$"+Jc,UO="__reactListeners$"+Jc,VO="__reactHandles$"+Jc;function Ao(e){var t=e[Mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XN(e);e!==null;){if(n=e[Mr])return n;e=XN(e)}return t}e=n,n=e.parentNode}return null}function eh(e){return e=e[Mr]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function fp(e){return e[ju]||null}var pv=[],Hl=-1;function io(e){return{current:e}}function Vt(e){0>Hl||(e.current=pv[Hl],pv[Hl]=null,Hl--)}function Rt(e,t){Hl++,pv[Hl]=e.current,e.current=t}var Xa={},Mn=io(Xa),as=io(!1),Zo=Xa;function Ec(e,t){var n=e.type.contextTypes;if(!n)return Xa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function os(e){return e=e.childContextTypes,e!=null}function im(){Vt(as),Vt(Mn)}function ZN(e,t,n){if(Mn.current!==Xa)throw Error(me(168));Rt(Mn,t),Rt(as,n)}function MC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(me(108,SD(e)||"Unknown",i));return Ht({},n,r)}function am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xa,Zo=Mn.current,Rt(Mn,e),Rt(as,as.current),!0}function JN(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=MC(e,t,Zo),r.__reactInternalMemoizedMergedChildContext=e,Vt(as),Vt(Mn),Rt(Mn,e)):Vt(as),Rt(as,n)}var yi=null,mp=!1,Hg=!1;function FC(e){yi===null?yi=[e]:yi.push(e)}function zO(e){mp=!0,FC(e)}function ao(){if(!Hg&&yi!==null){Hg=!0;var e=0,t=Tt;try{var n=yi;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yi=null,mp=!1}catch(i){throw yi!==null&&(yi=yi.slice(e+1)),lC(tw,ao),i}finally{Tt=t,Hg=!1}}return null}var ql=[],Kl=0,om=null,lm=0,Rs=[],Ds=0,Jo=null,Ci=1,ki="";function bo(e,t){ql[Kl++]=lm,ql[Kl++]=om,om=e,lm=t}function LC(e,t,n){Rs[Ds++]=Ci,Rs[Ds++]=ki,Rs[Ds++]=Jo,Jo=e;var r=Ci;e=ki;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var a=32-hr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ci=1<<32-hr(t)+i|n<<i|r,ki=a+e}else Ci=1<<a|n<<i|r,ki=e}function dw(e){e.return!==null&&(bo(e,1),LC(e,1,0))}function uw(e){for(;e===om;)om=ql[--Kl],ql[Kl]=null,lm=ql[--Kl],ql[Kl]=null;for(;e===Jo;)Jo=Rs[--Ds],Rs[Ds]=null,ki=Rs[--Ds],Rs[Ds]=null,Ci=Rs[--Ds],Rs[Ds]=null}var ws=null,ys=null,zt=!1,rr=null;function $C(e,t){var n=Ms(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function e0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ws=e,ys=Fa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ws=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jo!==null?{id:Ci,overflow:ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ms(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ws=e,ys=null,!0):!1;default:return!1}}function gv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xv(e){if(zt){var t=ys;if(t){var n=t;if(!e0(e,t)){if(gv(e))throw Error(me(418));t=Fa(n.nextSibling);var r=ws;t&&e0(e,t)?$C(r,n):(e.flags=e.flags&-4097|2,zt=!1,ws=e)}}else{if(gv(e))throw Error(me(418));e.flags=e.flags&-4097|2,zt=!1,ws=e}}}function t0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ws=e}function tf(e){if(e!==ws)return!1;if(!zt)return t0(e),zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hv(e.type,e.memoizedProps)),t&&(t=ys)){if(gv(e))throw UC(),Error(me(418));for(;t;)$C(e,t),t=Fa(t.nextSibling)}if(t0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=Fa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=ws?Fa(e.stateNode.nextSibling):null;return!0}function UC(){for(var e=ys;e;)e=Fa(e.nextSibling)}function Tc(){ys=ws=null,zt=!1}function hw(e){rr===null?rr=[e]:rr.push(e)}var BO=Ki.ReactCurrentBatchConfig;function Ad(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function nf(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n0(e){var t=e._init;return t(e._payload)}function VC(e){function t(w,v){if(e){var j=w.deletions;j===null?(w.deletions=[v],w.flags|=16):j.push(v)}}function n(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Va(w,v),w.index=0,w.sibling=null,w}function a(w,v,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<v?(w.flags|=2,v):j):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,v,j,P){return v===null||v.tag!==6?(v=Zg(j,w.mode,P),v.return=w,v):(v=i(v,j),v.return=w,v)}function c(w,v,j,P){var E=j.type;return E===Ul?h(w,v,j.props.children,P,j.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ma&&n0(E)===v.type)?(P=i(v,j.props),P.ref=Ad(w,v,j),P.return=w,P):(P=Of(j.type,j.key,j.props,null,w.mode,P),P.ref=Ad(w,v,j),P.return=w,P)}function d(w,v,j,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=Jg(j,w.mode,P),v.return=w,v):(v=i(v,j.children||[]),v.return=w,v)}function h(w,v,j,P,E){return v===null||v.tag!==7?(v=Go(j,w.mode,P,E),v.return=w,v):(v=i(v,j),v.return=w,v)}function m(w,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Zg(""+v,w.mode,j),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hh:return j=Of(v.type,v.key,v.props,null,w.mode,j),j.ref=Ad(w,null,v),j.return=w,j;case $l:return v=Jg(v,w.mode,j),v.return=w,v;case ma:var P=v._init;return m(w,P(v._payload),j)}if(Ud(v)||Cd(v))return v=Go(v,w.mode,j,null),v.return=w,v;nf(w,v)}return null}function p(w,v,j,P){var E=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return E!==null?null:l(w,v,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Hh:return j.key===E?c(w,v,j,P):null;case $l:return j.key===E?d(w,v,j,P):null;case ma:return E=j._init,p(w,v,E(j._payload),P)}if(Ud(j)||Cd(j))return E!==null?null:h(w,v,j,P,null);nf(w,j)}return null}function y(w,v,j,P,E){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(j)||null,l(v,w,""+P,E);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hh:return w=w.get(P.key===null?j:P.key)||null,c(v,w,P,E);case $l:return w=w.get(P.key===null?j:P.key)||null,d(v,w,P,E);case ma:var O=P._init;return y(w,v,j,O(P._payload),E)}if(Ud(P)||Cd(P))return w=w.get(j)||null,h(v,w,P,E,null);nf(v,P)}return null}function x(w,v,j,P){for(var E=null,O=null,C=v,N=v=0,_=null;C!==null&&N<j.length;N++){C.index>N?(_=C,C=null):_=C.sibling;var k=p(w,C,j[N],P);if(k===null){C===null&&(C=_);break}e&&C&&k.alternate===null&&t(w,C),v=a(k,v,N),O===null?E=k:O.sibling=k,O=k,C=_}if(N===j.length)return n(w,C),zt&&bo(w,N),E;if(C===null){for(;N<j.length;N++)C=m(w,j[N],P),C!==null&&(v=a(C,v,N),O===null?E=C:O.sibling=C,O=C);return zt&&bo(w,N),E}for(C=r(w,C);N<j.length;N++)_=y(C,w,N,j[N],P),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?N:_.key),v=a(_,v,N),O===null?E=_:O.sibling=_,O=_);return e&&C.forEach(function(R){return t(w,R)}),zt&&bo(w,N),E}function g(w,v,j,P){var E=Cd(j);if(typeof E!="function")throw Error(me(150));if(j=E.call(j),j==null)throw Error(me(151));for(var O=E=null,C=v,N=v=0,_=null,k=j.next();C!==null&&!k.done;N++,k=j.next()){C.index>N?(_=C,C=null):_=C.sibling;var R=p(w,C,k.value,P);if(R===null){C===null&&(C=_);break}e&&C&&R.alternate===null&&t(w,C),v=a(R,v,N),O===null?E=R:O.sibling=R,O=R,C=_}if(k.done)return n(w,C),zt&&bo(w,N),E;if(C===null){for(;!k.done;N++,k=j.next())k=m(w,k.value,P),k!==null&&(v=a(k,v,N),O===null?E=k:O.sibling=k,O=k);return zt&&bo(w,N),E}for(C=r(w,C);!k.done;N++,k=j.next())k=y(C,w,N,k.value,P),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?N:k.key),v=a(k,v,N),O===null?E=k:O.sibling=k,O=k);return e&&C.forEach(function(T){return t(w,T)}),zt&&bo(w,N),E}function S(w,v,j,P){if(typeof j=="object"&&j!==null&&j.type===Ul&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Hh:e:{for(var E=j.key,O=v;O!==null;){if(O.key===E){if(E=j.type,E===Ul){if(O.tag===7){n(w,O.sibling),v=i(O,j.props.children),v.return=w,w=v;break e}}else if(O.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ma&&n0(E)===O.type){n(w,O.sibling),v=i(O,j.props),v.ref=Ad(w,O,j),v.return=w,w=v;break e}n(w,O);break}else t(w,O);O=O.sibling}j.type===Ul?(v=Go(j.props.children,w.mode,P,j.key),v.return=w,w=v):(P=Of(j.type,j.key,j.props,null,w.mode,P),P.ref=Ad(w,v,j),P.return=w,w=P)}return o(w);case $l:e:{for(O=j.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){n(w,v.sibling),v=i(v,j.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else t(w,v);v=v.sibling}v=Jg(j,w.mode,P),v.return=w,w=v}return o(w);case ma:return O=j._init,S(w,v,O(j._payload),P)}if(Ud(j))return x(w,v,j,P);if(Cd(j))return g(w,v,j,P);nf(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,j),v.return=w,w=v):(n(w,v),v=Zg(j,w.mode,P),v.return=w,w=v),o(w)):n(w,v)}return S}var Pc=VC(!0),zC=VC(!1),cm=io(null),dm=null,Gl=null,fw=null;function mw(){fw=Gl=dm=null}function pw(e){var t=cm.current;Vt(cm),e._currentValue=t}function vv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nc(e,t){dm=e,fw=Gl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ss=!0),e.firstContext=null)}function Ws(e){var t=e._currentValue;if(fw!==e)if(e={context:e,memoizedValue:t,next:null},Gl===null){if(dm===null)throw Error(me(308));Gl=e,dm.dependencies={lanes:0,firstContext:e}}else Gl=Gl.next=e;return t}var Io=null;function gw(e){Io===null?Io=[e]:Io.push(e)}function BC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gw(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fi(e,r)}function Fi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pa=!1;function xw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fi(e,n)}return i=r.interleaved,i===null?(t.next=t,gw(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fi(e,n)}function Tf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nw(e,n)}}function s0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function um(e,t,n,r){var i=e.updateQueue;pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,h=d=c=null,l=a;do{var p=l.lane,y=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(p=t,y=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){m=x.call(y,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,p=typeof x=="function"?x.call(y,m,p):x,p==null)break e;m=Ht({},m,p);break e;case 2:pa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=m):h=h.next=y,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);tl|=o,e.lanes=o,e.memoizedState=m}}function r0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(me(191,i));i.call(r)}}}var th={},Br=io(th),bu=io(th),Nu=io(th);function Ro(e){if(e===th)throw Error(me(174));return e}function vw(e,t){switch(Rt(Nu,t),Rt(bu,e),Rt(Br,th),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zx(t,e)}Vt(Br),Rt(Br,t)}function Ac(){Vt(Br),Vt(bu),Vt(Nu)}function HC(e){Ro(Nu.current);var t=Ro(Br.current),n=Zx(t,e.type);t!==n&&(Rt(bu,e),Rt(Br,n))}function yw(e){bu.current===e&&(Vt(Br),Vt(bu))}var Bt=io(0);function hm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qg=[];function ww(){for(var e=0;e<qg.length;e++)qg[e]._workInProgressVersionPrimary=null;qg.length=0}var Pf=Ki.ReactCurrentDispatcher,Kg=Ki.ReactCurrentBatchConfig,el=0,Wt=null,mn=null,jn=null,fm=!1,Zd=!1,_u=0,WO=0;function Pn(){throw Error(me(321))}function jw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pr(e[n],t[n]))return!1;return!0}function bw(e,t,n,r,i,a){if(el=a,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pf.current=e===null||e.memoizedState===null?GO:YO,e=n(r,i),Zd){a=0;do{if(Zd=!1,_u=0,25<=a)throw Error(me(301));a+=1,jn=mn=null,t.updateQueue=null,Pf.current=QO,e=n(r,i)}while(Zd)}if(Pf.current=mm,t=mn!==null&&mn.next!==null,el=0,jn=mn=Wt=null,fm=!1,t)throw Error(me(300));return e}function Nw(){var e=_u!==0;return _u=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Wt.memoizedState=jn=e:jn=jn.next=e,jn}function Hs(){if(mn===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=mn.next;var t=jn===null?Wt.memoizedState:jn.next;if(t!==null)jn=t,mn=e;else{if(e===null)throw Error(me(310));mn=e,e={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},jn===null?Wt.memoizedState=jn=e:jn=jn.next=e}return jn}function Su(e,t){return typeof t=="function"?t(e):t}function Gg(e){var t=Hs(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=mn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((el&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Wt.lanes|=h,tl|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,pr(r,t.memoizedState)||(ss=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Wt.lanes|=a,tl|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yg(e){var t=Hs(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);pr(a,t.memoizedState)||(ss=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function qC(){}function KC(e,t){var n=Wt,r=Hs(),i=t(),a=!pr(r.memoizedState,i);if(a&&(r.memoizedState=i,ss=!0),r=r.queue,_w(QC.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||jn!==null&&jn.memoizedState.tag&1){if(n.flags|=2048,Cu(9,YC.bind(null,n,r,i,t),void 0,null),Nn===null)throw Error(me(349));el&30||GC(n,t,i)}return i}function GC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YC(e,t,n,r){t.value=n,t.getSnapshot=r,XC(t)&&ZC(e)}function QC(e,t,n){return n(function(){XC(t)&&ZC(e)})}function XC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pr(e,n)}catch{return!0}}function ZC(e){var t=Fi(e,1);t!==null&&fr(t,e,1,-1)}function i0(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:e},t.queue=e,e=e.dispatch=KO.bind(null,Wt,e),[t.memoizedState,e]}function Cu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function JC(){return Hs().memoizedState}function Af(e,t,n,r){var i=Pr();Wt.flags|=e,i.memoizedState=Cu(1|t,n,void 0,r===void 0?null:r)}function pp(e,t,n,r){var i=Hs();r=r===void 0?null:r;var a=void 0;if(mn!==null){var o=mn.memoizedState;if(a=o.destroy,r!==null&&jw(r,o.deps)){i.memoizedState=Cu(t,n,a,r);return}}Wt.flags|=e,i.memoizedState=Cu(1|t,n,a,r)}function a0(e,t){return Af(8390656,8,e,t)}function _w(e,t){return pp(2048,8,e,t)}function e2(e,t){return pp(4,2,e,t)}function t2(e,t){return pp(4,4,e,t)}function n2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s2(e,t,n){return n=n!=null?n.concat([e]):null,pp(4,4,n2.bind(null,t,e),n)}function Sw(){}function r2(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function i2(e,t){var n=Hs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a2(e,t,n){return el&21?(pr(n,t)||(n=uC(),Wt.lanes|=n,tl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ss=!0),e.memoizedState=n)}function HO(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=Kg.transition;Kg.transition={};try{e(!1),t()}finally{Tt=n,Kg.transition=r}}function o2(){return Hs().memoizedState}function qO(e,t,n){var r=Ua(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l2(e))c2(t,n);else if(n=BC(e,t,n,r),n!==null){var i=Wn();fr(n,e,r,i),d2(n,t,r)}}function KO(e,t,n){var r=Ua(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l2(e))c2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,pr(l,o)){var c=t.interleaved;c===null?(i.next=i,gw(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=BC(e,t,i,r),n!==null&&(i=Wn(),fr(n,e,r,i),d2(n,t,r))}}function l2(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function c2(e,t){Zd=fm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nw(e,n)}}var mm={readContext:Ws,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},GO={readContext:Ws,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:Ws,useEffect:a0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Af(4194308,4,n2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Af(4194308,4,e,t)},useInsertionEffect:function(e,t){return Af(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qO.bind(null,Wt,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:i0,useDebugValue:Sw,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=i0(!1),t=e[0];return e=HO.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Wt,i=Pr();if(zt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),Nn===null)throw Error(me(349));el&30||GC(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,a0(QC.bind(null,r,a,e),[e]),r.flags|=2048,Cu(9,YC.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Nn.identifierPrefix;if(zt){var n=ki,r=Ci;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WO++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YO={readContext:Ws,useCallback:r2,useContext:Ws,useEffect:_w,useImperativeHandle:s2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:i2,useReducer:Gg,useRef:JC,useState:function(){return Gg(Su)},useDebugValue:Sw,useDeferredValue:function(e){var t=Hs();return a2(t,mn.memoizedState,e)},useTransition:function(){var e=Gg(Su)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:qC,useSyncExternalStore:KC,useId:o2,unstable_isNewReconciler:!1},QO={readContext:Ws,useCallback:r2,useContext:Ws,useEffect:_w,useImperativeHandle:s2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:i2,useReducer:Yg,useRef:JC,useState:function(){return Yg(Su)},useDebugValue:Sw,useDeferredValue:function(e){var t=Hs();return mn===null?t.memoizedState=e:a2(t,mn.memoizedState,e)},useTransition:function(){var e=Yg(Su)[0],t=Hs().memoizedState;return[e,t]},useMutableSource:qC,useSyncExternalStore:KC,useId:o2,unstable_isNewReconciler:!1};function er(e,t){if(e&&e.defaultProps){t=Ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gp={isMounted:function(e){return(e=e._reactInternals)?xl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wn(),i=Ua(e),a=Ai(r,i);a.payload=t,n!=null&&(a.callback=n),t=La(e,a,i),t!==null&&(fr(t,e,i,r),Tf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wn(),i=Ua(e),a=Ai(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=La(e,a,i),t!==null&&(fr(t,e,i,r),Tf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),r=Ua(e),i=Ai(n,r);i.tag=2,t!=null&&(i.callback=t),t=La(e,i,r),t!==null&&(fr(t,e,r,n),Tf(t,e,r))}};function o0(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!vu(n,r)||!vu(i,a):!0}function u2(e,t,n){var r=!1,i=Xa,a=t.contextType;return typeof a=="object"&&a!==null?a=Ws(a):(i=os(t)?Zo:Mn.current,r=t.contextTypes,a=(r=r!=null)?Ec(e,i):Xa),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function l0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gp.enqueueReplaceState(t,t.state,null)}function wv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},xw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ws(a):(a=os(t)?Zo:Mn.current,i.context=Ec(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(yv(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gp.enqueueReplaceState(i,i.state,null),um(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ic(e,t){try{var n="",r=t;do n+=_D(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XO=typeof WeakMap=="function"?WeakMap:Map;function h2(e,t,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gm||(gm=!0,Av=r),jv(e,t)},n}function f2(e,t,n){n=Ai(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){jv(e,t),typeof r!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function c0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XO;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=uM.bind(null,e,t,n),t.then(e,e))}function d0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ai(-1,1),t.tag=2,La(n,t,1))),n.lanes|=1),e)}var ZO=Ki.ReactCurrentOwner,ss=!1;function Un(e,t,n,r){t.child=e===null?zC(t,null,n,r):Pc(t,e.child,n,r)}function h0(e,t,n,r,i){n=n.render;var a=t.ref;return nc(t,i),r=bw(e,t,n,r,a,i),n=Nw(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Li(e,t,i)):(zt&&n&&dw(t),t.flags|=1,Un(e,t,r,i),t.child)}function f0(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Rw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,m2(e,t,a,r,i)):(e=Of(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:vu,n(o,r)&&e.ref===t.ref)return Li(e,t,i)}return t.flags|=1,e=Va(a,r),e.ref=t.ref,e.return=t,t.child=e}function m2(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(vu(a,r)&&e.ref===t.ref)if(ss=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ss=!0);else return t.lanes=e.lanes,Li(e,t,i)}return bv(e,t,n,r,i)}function p2(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Ql,fs),fs|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Ql,fs),fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Rt(Ql,fs),fs|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Rt(Ql,fs),fs|=r;return Un(e,t,i,n),t.child}function g2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bv(e,t,n,r,i){var a=os(n)?Zo:Mn.current;return a=Ec(t,a),nc(t,i),n=bw(e,t,n,r,a,i),r=Nw(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Li(e,t,i)):(zt&&r&&dw(t),t.flags|=1,Un(e,t,n,i),t.child)}function m0(e,t,n,r,i){if(os(n)){var a=!0;am(t)}else a=!1;if(nc(t,i),t.stateNode===null)If(e,t),u2(t,n,r),wv(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ws(d):(d=os(n)?Zo:Mn.current,d=Ec(t,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&l0(t,o,r,d),pa=!1;var p=t.memoizedState;o.state=p,um(t,r,o,i),c=t.memoizedState,l!==r||p!==c||as.current||pa?(typeof h=="function"&&(yv(t,n,h,r),c=t.memoizedState),(l=pa||o0(t,n,l,r,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,WC(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:er(t.type,l),o.props=d,m=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ws(c):(c=os(n)?Zo:Mn.current,c=Ec(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&l0(t,o,r,c),pa=!1,p=t.memoizedState,o.state=p,um(t,r,o,i);var x=t.memoizedState;l!==m||p!==x||as.current||pa?(typeof y=="function"&&(yv(t,n,y,r),x=t.memoizedState),(d=pa||o0(t,n,d,r,p,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Nv(e,t,n,r,a,i)}function Nv(e,t,n,r,i,a){g2(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&JN(t,n,!1),Li(e,t,a);r=t.stateNode,ZO.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pc(t,e.child,null,a),t.child=Pc(t,null,l,a)):Un(e,t,l,a),t.memoizedState=r.state,i&&JN(t,n,!0),t.child}function x2(e){var t=e.stateNode;t.pendingContext?ZN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZN(e,t.context,!1),vw(e,t.containerInfo)}function p0(e,t,n,r,i){return Tc(),hw(i),t.flags|=256,Un(e,t,n,r),t.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Sv(e){return{baseLanes:e,cachePool:null,transitions:null}}function v2(e,t,n){var r=t.pendingProps,i=Bt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rt(Bt,i&1),e===null)return xv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=yp(o,r,0,null),e=Go(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sv(n),t.memoizedState=_v,e):Cw(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return JO(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Va(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Va(l,a):(a=Go(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Sv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=_v,r}return a=e.child,e=a.sibling,r=Va(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cw(e,t){return t=yp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sf(e,t,n,r){return r!==null&&hw(r),Pc(t,e.child,null,n),e=Cw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JO(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Qg(Error(me(422))),sf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=yp({mode:"visible",children:r.children},i,0,null),a=Go(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Pc(t,e.child,null,o),t.child.memoizedState=Sv(o),t.memoizedState=_v,a);if(!(t.mode&1))return sf(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(me(419)),r=Qg(a,r,void 0),sf(e,t,o,r)}if(l=(o&e.childLanes)!==0,ss||l){if(r=Nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fi(e,i),fr(r,e,i,-1))}return Iw(),r=Qg(Error(me(421))),sf(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=hM.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ys=Fa(i.nextSibling),ws=t,zt=!0,rr=null,e!==null&&(Rs[Ds++]=Ci,Rs[Ds++]=ki,Rs[Ds++]=Jo,Ci=e.id,ki=e.overflow,Jo=t),t=Cw(t,r.children),t.flags|=4096,t)}function g0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vv(e.return,t,n)}function Xg(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function y2(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Un(e,t,r.children,n),r=Bt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g0(e,n,t);else if(e.tag===19)g0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Rt(Bt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xg(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xg(t,!0,n,null,a);break;case"together":Xg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function If(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=Va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eM(e,t,n){switch(t.tag){case 3:x2(t),Tc();break;case 5:HC(t);break;case 1:os(t.type)&&am(t);break;case 4:vw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Rt(cm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Bt,Bt.current&1),t.flags|=128,null):n&t.child.childLanes?v2(e,t,n):(Rt(Bt,Bt.current&1),e=Li(e,t,n),e!==null?e.sibling:null);Rt(Bt,Bt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return y2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Bt,Bt.current),r)break;return null;case 22:case 23:return t.lanes=0,p2(e,t,n)}return Li(e,t,n)}var w2,Cv,j2,b2;w2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cv=function(){};j2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ro(Br.current);var a=null;switch(n){case"input":i=Gx(e,i),r=Gx(e,r),a=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),a=[];break;case"textarea":i=Xx(e,i),r=Xx(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=rm)}Jx(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(uu.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(uu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&$t("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};b2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Id(e,t){if(!zt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tM(e,t,n){var r=t.pendingProps;switch(uw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return os(t.type)&&im(),An(t),null;case 3:return r=t.stateNode,Ac(),Vt(as),Vt(Mn),ww(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Dv(rr),rr=null))),Cv(e,t),An(t),null;case 5:yw(t);var i=Ro(Nu.current);if(n=t.type,e!==null&&t.stateNode!=null)j2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return An(t),null}if(e=Ro(Br.current),tf(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Mr]=t,r[ju]=a,e=(t.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(i=0;i<zd.length;i++)$t(zd[i],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":SN(r,a),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$t("invalid",r);break;case"textarea":kN(r,a),$t("invalid",r)}Jx(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ef(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ef(r.textContent,l,e),i=["children",""+l]):uu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$t("scroll",r)}switch(n){case"input":qh(r),CN(r,a,!0);break;case"textarea":qh(r),EN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=rm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=QS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mr]=t,e[ju]=r,w2(e,t,!1,!1),t.stateNode=e;e:{switch(o=ev(n,r),n){case"dialog":$t("cancel",e),$t("close",e),i=r;break;case"iframe":case"object":case"embed":$t("load",e),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)$t(zd[i],e);i=r;break;case"source":$t("error",e),i=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),i=r;break;case"details":$t("toggle",e),i=r;break;case"input":SN(e,r),i=Gx(e,r),$t("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),$t("invalid",e);break;case"textarea":kN(e,r),i=Xx(e,r),$t("invalid",e);break;default:i=r}Jx(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?JS(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XS(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hu(e,c):typeof c=="number"&&hu(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(uu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&$t("scroll",e):c!=null&&Qy(e,a,c,o))}switch(n){case"input":qh(e),CN(e,r,!1);break;case"textarea":qh(e),EN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qa(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)b2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Ro(Nu.current),Ro(Br.current),tf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mr]=t,(a=r.nodeValue!==n)&&(e=ws,e!==null))switch(e.tag){case 3:ef(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ef(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=t,t.stateNode=r}return An(t),null;case 13:if(Vt(Bt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zt&&ys!==null&&t.mode&1&&!(t.flags&128))UC(),Tc(),t.flags|=98560,a=!1;else if(a=tf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(me(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(me(317));a[Mr]=t}else Tc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),a=!1}else rr!==null&&(Dv(rr),rr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Bt.current&1?gn===0&&(gn=3):Iw())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return Ac(),Cv(e,t),e===null&&yu(t.stateNode.containerInfo),An(t),null;case 10:return pw(t.type._context),An(t),null;case 17:return os(t.type)&&im(),An(t),null;case 19:if(Vt(Bt),a=t.memoizedState,a===null)return An(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Id(a,!1);else{if(gn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hm(e),o!==null){for(t.flags|=128,Id(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(Bt,Bt.current&1|2),t.child}e=e.sibling}a.tail!==null&&sn()>Rc&&(t.flags|=128,r=!0,Id(a,!1),t.lanes=4194304)}else{if(!r)if(e=hm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Id(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!zt)return An(t),null}else 2*sn()-a.renderingStartTime>Rc&&n!==1073741824&&(t.flags|=128,r=!0,Id(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=sn(),t.sibling=null,n=Bt.current,Rt(Bt,r?n&1|2:n&1),t):(An(t),null);case 22:case 23:return Aw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?fs&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function nM(e,t){switch(uw(t),t.tag){case 1:return os(t.type)&&im(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ac(),Vt(as),Vt(Mn),ww(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yw(t),null;case 13:if(Vt(Bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));Tc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(Bt),null;case 4:return Ac(),null;case 10:return pw(t.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var rf=!1,Rn=!1,sM=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Yl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(e,t,r)}else n.current=null}function kv(e,t,n){try{n()}catch(r){Gt(e,t,r)}}var x0=!1;function rM(e,t){if(dv=tm,e=kC(),cw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,m=e,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===e)break t;if(p===n&&++d===i&&(l=o),p===a&&++h===r&&(c=o),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uv={focusedElem:e,selectionRange:n},tm=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,S=x.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:er(t.type,g),S);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(P){Gt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return x=x0,x0=!1,x}function Jd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&kv(t,n,a)}i=i.next}while(i!==r)}}function xp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ev(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function N2(e){var t=e.alternate;t!==null&&(e.alternate=null,N2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mr],delete t[ju],delete t[mv],delete t[UO],delete t[VO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _2(e){return e.tag===5||e.tag===3||e.tag===4}function v0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rm));else if(r!==4&&(e=e.child,e!==null))for(Tv(e,t,n),e=e.sibling;e!==null;)Tv(e,t,n),e=e.sibling}function Pv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pv(e,t,n),e=e.sibling;e!==null;)Pv(e,t,n),e=e.sibling}var _n=null,sr=!1;function aa(e,t,n){for(n=n.child;n!==null;)S2(e,t,n),n=n.sibling}function S2(e,t,n){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(cp,n)}catch{}switch(n.tag){case 5:Rn||Yl(n,t);case 6:var r=_n,i=sr;_n=null,aa(e,t,n),_n=r,sr=i,_n!==null&&(sr?(e=_n,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(sr?(e=_n,n=n.stateNode,e.nodeType===8?Wg(e.parentNode,n):e.nodeType===1&&Wg(e,n),gu(e)):Wg(_n,n.stateNode));break;case 4:r=_n,i=sr,_n=n.stateNode.containerInfo,sr=!0,aa(e,t,n),_n=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&kv(n,t,o),i=i.next}while(i!==r)}aa(e,t,n);break;case 1:if(!Rn&&(Yl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gt(n,t,l)}aa(e,t,n);break;case 21:aa(e,t,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,aa(e,t,n),Rn=r):aa(e,t,n);break;default:aa(e,t,n)}}function y0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sM),t.forEach(function(r){var i=fM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,sr=!1;break e;case 3:_n=l.stateNode.containerInfo,sr=!0;break e;case 4:_n=l.stateNode.containerInfo,sr=!0;break e}l=l.return}if(_n===null)throw Error(me(160));S2(a,o,i),_n=null,sr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Gt(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C2(t,e),t=t.sibling}function C2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zs(t,e),Tr(e),r&4){try{Jd(3,e,e.return),xp(3,e)}catch(g){Gt(e,e.return,g)}try{Jd(5,e,e.return)}catch(g){Gt(e,e.return,g)}}break;case 1:Zs(t,e),Tr(e),r&512&&n!==null&&Yl(n,n.return);break;case 5:if(Zs(t,e),Tr(e),r&512&&n!==null&&Yl(n,n.return),e.flags&32){var i=e.stateNode;try{hu(i,"")}catch(g){Gt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&GS(i,a),ev(l,o);var d=ev(l,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?JS(i,m):h==="dangerouslySetInnerHTML"?XS(i,m):h==="children"?hu(i,m):Qy(i,h,m,d)}switch(l){case"input":Yx(i,a);break;case"textarea":YS(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Zl(i,!!a.multiple,y,!1):p!==!!a.multiple&&(a.defaultValue!=null?Zl(i,!!a.multiple,a.defaultValue,!0):Zl(i,!!a.multiple,a.multiple?[]:"",!1))}i[ju]=a}catch(g){Gt(e,e.return,g)}}break;case 6:if(Zs(t,e),Tr(e),r&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Gt(e,e.return,g)}}break;case 3:if(Zs(t,e),Tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gu(t.containerInfo)}catch(g){Gt(e,e.return,g)}break;case 4:Zs(t,e),Tr(e);break;case 13:Zs(t,e),Tr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Tw=sn())),r&4&&y0(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Rn=(d=Rn)||h,Zs(t,e),Rn=d):Zs(t,e),Tr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Ae=e,h=e.child;h!==null;){for(m=Ae=h;Ae!==null;){switch(p=Ae,y=p.child,p.tag){case 0:case 11:case 14:case 15:Jd(4,p,p.return);break;case 1:Yl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Gt(r,n,g)}}break;case 5:Yl(p,p.return);break;case 22:if(p.memoizedState!==null){j0(m);continue}}y!==null?(y.return=p,Ae=y):j0(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ZS("display",o))}catch(g){Gt(e,e.return,g)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Gt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Zs(t,e),Tr(e),r&4&&y0(e);break;case 21:break;default:Zs(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_2(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hu(i,""),r.flags&=-33);var a=v0(e);Pv(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=v0(e);Tv(e,l,o);break;default:throw Error(me(161))}}catch(c){Gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iM(e,t,n){Ae=e,k2(e)}function k2(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Rn;l=rf;var d=Rn;if(rf=o,(Rn=c)&&!d)for(Ae=i;Ae!==null;)o=Ae,c=o.child,o.tag===22&&o.memoizedState!==null?b0(i):c!==null?(c.return=o,Ae=c):b0(i);for(;a!==null;)Ae=a,k2(a),a=a.sibling;Ae=i,rf=l,Rn=d}w0(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ae=a):w0(e)}}function w0(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||xp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:er(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&r0(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}r0(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&gu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Rn||t.flags&512&&Ev(t)}catch(p){Gt(t,t.return,p)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function j0(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function b0(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xp(4,t)}catch(c){Gt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Gt(t,i,c)}}var a=t.return;try{Ev(t)}catch(c){Gt(t,a,c)}break;case 5:var o=t.return;try{Ev(t)}catch(c){Gt(t,o,c)}}}catch(c){Gt(t,t.return,c)}if(t===e){Ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ae=l;break}Ae=t.return}}var aM=Math.ceil,pm=Ki.ReactCurrentDispatcher,kw=Ki.ReactCurrentOwner,Ls=Ki.ReactCurrentBatchConfig,wt=0,Nn=null,an=null,Sn=0,fs=0,Ql=io(0),gn=0,ku=null,tl=0,vp=0,Ew=0,eu=null,Jn=null,Tw=0,Rc=1/0,vi=null,gm=!1,Av=null,$a=null,af=!1,Ia=null,xm=0,tu=0,Iv=null,Rf=-1,Df=0;function Wn(){return wt&6?sn():Rf!==-1?Rf:Rf=sn()}function Ua(e){return e.mode&1?wt&2&&Sn!==0?Sn&-Sn:BO.transition!==null?(Df===0&&(Df=uC()),Df):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:vC(e.type)),e):1}function fr(e,t,n,r){if(50<tu)throw tu=0,Iv=null,Error(me(185));Zu(e,n,r),(!(wt&2)||e!==Nn)&&(e===Nn&&(!(wt&2)&&(vp|=n),gn===4&&va(e,Sn)),ls(e,r),n===1&&wt===0&&!(t.mode&1)&&(Rc=sn()+500,mp&&ao()))}function ls(e,t){var n=e.callbackNode;BD(e,t);var r=em(e,e===Nn?Sn:0);if(r===0)n!==null&&AN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&AN(n),t===1)e.tag===0?zO(N0.bind(null,e)):FC(N0.bind(null,e)),LO(function(){!(wt&6)&&ao()}),n=null;else{switch(hC(r)){case 1:n=tw;break;case 4:n=cC;break;case 16:n=Jf;break;case 536870912:n=dC;break;default:n=Jf}n=O2(n,E2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function E2(e,t){if(Rf=-1,Df=0,wt&6)throw Error(me(327));var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var r=em(e,e===Nn?Sn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vm(e,r);else{t=r;var i=wt;wt|=2;var a=P2();(Nn!==e||Sn!==t)&&(vi=null,Rc=sn()+500,Ko(e,t));do try{cM();break}catch(l){T2(e,l)}while(!0);mw(),pm.current=a,wt=i,an!==null?t=0:(Nn=null,Sn=0,t=gn)}if(t!==0){if(t===2&&(i=iv(e),i!==0&&(r=i,t=Rv(e,i))),t===1)throw n=ku,Ko(e,0),va(e,r),ls(e,sn()),n;if(t===6)va(e,r);else{if(i=e.current.alternate,!(r&30)&&!oM(i)&&(t=vm(e,r),t===2&&(a=iv(e),a!==0&&(r=a,t=Rv(e,a))),t===1))throw n=ku,Ko(e,0),va(e,r),ls(e,sn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:No(e,Jn,vi);break;case 3:if(va(e,r),(r&130023424)===r&&(t=Tw+500-sn(),10<t)){if(em(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fv(No.bind(null,e,Jn,vi),t);break}No(e,Jn,vi);break;case 4:if(va(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-hr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aM(r/1960))-r,10<r){e.timeoutHandle=fv(No.bind(null,e,Jn,vi),r);break}No(e,Jn,vi);break;case 5:No(e,Jn,vi);break;default:throw Error(me(329))}}}return ls(e,sn()),e.callbackNode===n?E2.bind(null,e):null}function Rv(e,t){var n=eu;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=vm(e,t),e!==2&&(t=Jn,Jn=n,t!==null&&Dv(t)),e}function Dv(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function oM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!pr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t){for(t&=~Ew,t&=~vp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hr(t),r=1<<n;e[n]=-1,t&=~r}}function N0(e){if(wt&6)throw Error(me(327));sc();var t=em(e,0);if(!(t&1))return ls(e,sn()),null;var n=vm(e,t);if(e.tag!==0&&n===2){var r=iv(e);r!==0&&(t=r,n=Rv(e,r))}if(n===1)throw n=ku,Ko(e,0),va(e,t),ls(e,sn()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,No(e,Jn,vi),ls(e,sn()),null}function Pw(e,t){var n=wt;wt|=1;try{return e(t)}finally{wt=n,wt===0&&(Rc=sn()+500,mp&&ao())}}function nl(e){Ia!==null&&Ia.tag===0&&!(wt&6)&&sc();var t=wt;wt|=1;var n=Ls.transition,r=Tt;try{if(Ls.transition=null,Tt=1,e)return e()}finally{Tt=r,Ls.transition=n,wt=t,!(wt&6)&&ao()}}function Aw(){fs=Ql.current,Vt(Ql)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,FO(n)),an!==null)for(n=an.return;n!==null;){var r=n;switch(uw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&im();break;case 3:Ac(),Vt(as),Vt(Mn),ww();break;case 5:yw(r);break;case 4:Ac();break;case 13:Vt(Bt);break;case 19:Vt(Bt);break;case 10:pw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(Nn=e,an=e=Va(e.current,null),Sn=fs=t,gn=0,ku=null,Ew=vp=tl=0,Jn=eu=null,Io!==null){for(t=0;t<Io.length;t++)if(n=Io[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Io=null}return e}function T2(e,t){do{var n=an;try{if(mw(),Pf.current=mm,fm){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fm=!1}if(el=0,jn=mn=Wt=null,Zd=!1,_u=0,kw.current=null,n===null||n.return===null){gn=1,ku=t,an=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=d0(o);if(y!==null){y.flags&=-257,u0(y,o,l,a,t),y.mode&1&&c0(a,d,t),t=y,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){c0(a,d,t),Iw();break e}c=Error(me(426))}}else if(zt&&l.mode&1){var S=d0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),u0(S,o,l,a,t),hw(Ic(c,l));break e}}a=c=Ic(c,l),gn!==4&&(gn=2),eu===null?eu=[a]:eu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=h2(a,c,t);s0(a,w);break e;case 1:l=c;var v=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&($a===null||!$a.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=f2(a,l,t);s0(a,P);break e}}a=a.return}while(a!==null)}I2(n)}catch(E){t=E,an===n&&n!==null&&(an=n=n.return);continue}break}while(!0)}function P2(){var e=pm.current;return pm.current=mm,e===null?mm:e}function Iw(){(gn===0||gn===3||gn===2)&&(gn=4),Nn===null||!(tl&268435455)&&!(vp&268435455)||va(Nn,Sn)}function vm(e,t){var n=wt;wt|=2;var r=P2();(Nn!==e||Sn!==t)&&(vi=null,Ko(e,t));do try{lM();break}catch(i){T2(e,i)}while(!0);if(mw(),wt=n,pm.current=r,an!==null)throw Error(me(261));return Nn=null,Sn=0,gn}function lM(){for(;an!==null;)A2(an)}function cM(){for(;an!==null&&!DD();)A2(an)}function A2(e){var t=D2(e.alternate,e,fs);e.memoizedProps=e.pendingProps,t===null?I2(e):an=t,kw.current=null}function I2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nM(n,t),n!==null){n.flags&=32767,an=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gn=6,an=null;return}}else if(n=tM(n,t,fs),n!==null){an=n;return}if(t=t.sibling,t!==null){an=t;return}an=t=e}while(t!==null);gn===0&&(gn=5)}function No(e,t,n){var r=Tt,i=Ls.transition;try{Ls.transition=null,Tt=1,dM(e,t,n,r)}finally{Ls.transition=i,Tt=r}return null}function dM(e,t,n,r){do sc();while(Ia!==null);if(wt&6)throw Error(me(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(WD(e,a),e===Nn&&(an=Nn=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||af||(af=!0,O2(Jf,function(){return sc(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ls.transition,Ls.transition=null;var o=Tt;Tt=1;var l=wt;wt|=4,kw.current=null,rM(e,n),C2(n,e),PO(uv),tm=!!dv,uv=dv=null,e.current=n,iM(n),OD(),wt=l,Tt=o,Ls.transition=a}else e.current=n;if(af&&(af=!1,Ia=e,xm=i),a=e.pendingLanes,a===0&&($a=null),LD(n.stateNode),ls(e,sn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gm)throw gm=!1,e=Av,Av=null,e;return xm&1&&e.tag!==0&&sc(),a=e.pendingLanes,a&1?e===Iv?tu++:(tu=0,Iv=e):tu=0,ao(),null}function sc(){if(Ia!==null){var e=hC(xm),t=Ls.transition,n=Tt;try{if(Ls.transition=null,Tt=16>e?16:e,Ia===null)var r=!1;else{if(e=Ia,Ia=null,xm=0,wt&6)throw Error(me(331));var i=wt;for(wt|=4,Ae=e.current;Ae!==null;){var a=Ae,o=a.child;if(Ae.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ae=d;Ae!==null;){var h=Ae;switch(h.tag){case 0:case 11:case 15:Jd(8,h,a)}var m=h.child;if(m!==null)m.return=h,Ae=m;else for(;Ae!==null;){h=Ae;var p=h.sibling,y=h.return;if(N2(h),h===d){Ae=null;break}if(p!==null){p.return=y,Ae=p;break}Ae=y}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}Ae=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ae=o;else e:for(;Ae!==null;){if(a=Ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jd(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,Ae=w;break e}Ae=a.return}}var v=e.current;for(Ae=v;Ae!==null;){o=Ae;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ae=j;else e:for(o=v;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xp(9,l)}}catch(E){Gt(l,l.return,E)}if(l===o){Ae=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Ae=P;break e}Ae=l.return}}if(wt=i,ao(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(cp,e)}catch{}r=!0}return r}finally{Tt=n,Ls.transition=t}}return!1}function _0(e,t,n){t=Ic(n,t),t=h2(e,t,1),e=La(e,t,1),t=Wn(),e!==null&&(Zu(e,1,t),ls(e,t))}function Gt(e,t,n){if(e.tag===3)_0(e,e,n);else for(;t!==null;){if(t.tag===3){_0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))){e=Ic(n,e),e=f2(t,e,1),t=La(t,e,1),e=Wn(),t!==null&&(Zu(t,1,e),ls(t,e));break}}t=t.return}}function uM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&n,Nn===e&&(Sn&n)===n&&(gn===4||gn===3&&(Sn&130023424)===Sn&&500>sn()-Tw?Ko(e,0):Ew|=n),ls(e,t)}function R2(e,t){t===0&&(e.mode&1?(t=Yh,Yh<<=1,!(Yh&130023424)&&(Yh=4194304)):t=1);var n=Wn();e=Fi(e,t),e!==null&&(Zu(e,t,n),ls(e,n))}function hM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),R2(e,n)}function fM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),R2(e,n)}var D2;D2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||as.current)ss=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ss=!1,eM(e,t,n);ss=!!(e.flags&131072)}else ss=!1,zt&&t.flags&1048576&&LC(t,lm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;If(e,t),e=t.pendingProps;var i=Ec(t,Mn.current);nc(t,n),i=bw(null,t,r,e,i,n);var a=Nw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,os(r)?(a=!0,am(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xw(t),i.updater=gp,t.stateNode=i,i._reactInternals=t,wv(t,r,e,n),t=Nv(null,t,r,!0,a,n)):(t.tag=0,zt&&a&&dw(t),Un(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(If(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=pM(r),e=er(r,e),i){case 0:t=bv(null,t,r,e,n);break e;case 1:t=m0(null,t,r,e,n);break e;case 11:t=h0(null,t,r,e,n);break e;case 14:t=f0(null,t,r,er(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),bv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),m0(e,t,r,i,n);case 3:e:{if(x2(t),e===null)throw Error(me(387));r=t.pendingProps,a=t.memoizedState,i=a.element,WC(e,t),um(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ic(Error(me(423)),t),t=p0(e,t,r,n,i);break e}else if(r!==i){i=Ic(Error(me(424)),t),t=p0(e,t,r,n,i);break e}else for(ys=Fa(t.stateNode.containerInfo.firstChild),ws=t,zt=!0,rr=null,n=zC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tc(),r===i){t=Li(e,t,n);break e}Un(e,t,r,n)}t=t.child}return t;case 5:return HC(t),e===null&&xv(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,hv(r,i)?o=null:a!==null&&hv(r,a)&&(t.flags|=32),g2(e,t),Un(e,t,o,n),t.child;case 6:return e===null&&xv(t),null;case 13:return v2(e,t,n);case 4:return vw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pc(t,null,r,n):Un(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),h0(e,t,r,i,n);case 7:return Un(e,t,t.pendingProps,n),t.child;case 8:return Un(e,t,t.pendingProps.children,n),t.child;case 12:return Un(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Rt(cm,r._currentValue),r._currentValue=o,a!==null)if(pr(a.value,o)){if(a.children===i.children&&!as.current){t=Li(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Ai(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),vv(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(me(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vv(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Un(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nc(t,n),i=Ws(i),r=r(i),t.flags|=1,Un(e,t,r,n),t.child;case 14:return r=t.type,i=er(r,t.pendingProps),i=er(r.type,i),f0(e,t,r,i,n);case 15:return m2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:er(r,i),If(e,t),t.tag=1,os(r)?(e=!0,am(t)):e=!1,nc(t,n),u2(t,r,i),wv(t,r,i,n),Nv(null,t,r,!0,e,n);case 19:return y2(e,t,n);case 22:return p2(e,t,n)}throw Error(me(156,t.tag))};function O2(e,t){return lC(e,t)}function mM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,n,r){return new mM(e,t,n,r)}function Rw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pM(e){if(typeof e=="function")return Rw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zy)return 11;if(e===Jy)return 14}return 2}function Va(e,t){var n=e.alternate;return n===null?(n=Ms(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Of(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Rw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ul:return Go(n.children,i,a,t);case Xy:o=8,i|=8;break;case Wx:return e=Ms(12,n,t,i|2),e.elementType=Wx,e.lanes=a,e;case Hx:return e=Ms(13,n,t,i),e.elementType=Hx,e.lanes=a,e;case qx:return e=Ms(19,n,t,i),e.elementType=qx,e.lanes=a,e;case HS:return yp(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BS:o=10;break e;case WS:o=9;break e;case Zy:o=11;break e;case Jy:o=14;break e;case ma:o=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=Ms(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Go(e,t,n,r){return e=Ms(7,e,r,t),e.lanes=n,e}function yp(e,t,n,r){return e=Ms(22,e,r,t),e.elementType=HS,e.lanes=n,e.stateNode={isHidden:!1},e}function Zg(e,t,n){return e=Ms(6,e,null,t),e.lanes=n,e}function Jg(e,t,n){return t=Ms(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rg(0),this.expirationTimes=Rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dw(e,t,n,r,i,a,o,l,c){return e=new gM(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ms(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(a),e}function xM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function M2(e){if(!e)return Xa;e=e._reactInternals;e:{if(xl(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(os(n))return MC(e,n,t)}return t}function F2(e,t,n,r,i,a,o,l,c){return e=Dw(n,r,!0,e,i,a,o,l,c),e.context=M2(null),n=e.current,r=Wn(),i=Ua(n),a=Ai(r,i),a.callback=t??null,La(n,a,i),e.current.lanes=i,Zu(e,i,r),ls(e,r),e}function wp(e,t,n,r){var i=t.current,a=Wn(),o=Ua(i);return n=M2(n),t.context===null?t.context=n:t.pendingContext=n,t=Ai(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=La(i,t,o),e!==null&&(fr(e,i,o,a),Tf(e,i,o)),o}function ym(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ow(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function vM(){return null}var L2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mw(e){this._internalRoot=e}jp.prototype.render=Mw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));wp(e,t,null,null)};jp.prototype.unmount=Mw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nl(function(){wp(null,e,null,null)}),t[Mi]=null}};function jp(e){this._internalRoot=e}jp.prototype.unstable_scheduleHydration=function(e){if(e){var t=pC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xa.length&&t!==0&&t<xa[n].priority;n++);xa.splice(n,0,e),n===0&&xC(e)}};function Fw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function C0(){}function yM(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=ym(o);a.call(d)}}var o=F2(t,r,e,0,null,!1,!1,"",C0);return e._reactRootContainer=o,e[Mi]=o.current,yu(e.nodeType===8?e.parentNode:e),nl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=ym(c);l.call(d)}}var c=Dw(e,0,!1,null,null,!1,!1,"",C0);return e._reactRootContainer=c,e[Mi]=c.current,yu(e.nodeType===8?e.parentNode:e),nl(function(){wp(t,c,n,r)}),c}function Np(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=ym(o);l.call(c)}}wp(t,o,e,i)}else o=yM(n,t,e,i,r);return ym(o)}fC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vd(t.pendingLanes);n!==0&&(nw(t,n|1),ls(t,sn()),!(wt&6)&&(Rc=sn()+500,ao()))}break;case 13:nl(function(){var r=Fi(e,1);if(r!==null){var i=Wn();fr(r,e,1,i)}}),Ow(e,1)}};sw=function(e){if(e.tag===13){var t=Fi(e,134217728);if(t!==null){var n=Wn();fr(t,e,134217728,n)}Ow(e,134217728)}};mC=function(e){if(e.tag===13){var t=Ua(e),n=Fi(e,t);if(n!==null){var r=Wn();fr(n,e,t,r)}Ow(e,t)}};pC=function(){return Tt};gC=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};nv=function(e,t,n){switch(t){case"input":if(Yx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=fp(r);if(!i)throw Error(me(90));KS(r),Yx(r,i)}}}break;case"textarea":YS(e,n);break;case"select":t=n.value,t!=null&&Zl(e,!!n.multiple,t,!1)}};nC=Pw;sC=nl;var wM={usingClientEntryPoint:!1,Events:[eh,Wl,fp,eC,tC,Pw]},Rd={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jM={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aC(e),e===null?null:e.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||vM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{cp=of.inject(jM),zr=of}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wM;ks.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fw(t))throw Error(me(200));return xM(e,t,null,n)};ks.createRoot=function(e,t){if(!Fw(e))throw Error(me(299));var n=!1,r="",i=L2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dw(e,1,!1,null,null,n,!1,r,i),e[Mi]=t.current,yu(e.nodeType===8?e.parentNode:e),new Mw(t)};ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=aC(t),e=e===null?null:e.stateNode,e};ks.flushSync=function(e){return nl(e)};ks.hydrate=function(e,t,n){if(!bp(t))throw Error(me(200));return Np(null,e,t,!0,n)};ks.hydrateRoot=function(e,t,n){if(!Fw(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=L2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=F2(t,null,e,1,n??null,i,!1,a,o),e[Mi]=t.current,yu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jp(t)};ks.render=function(e,t,n){if(!bp(t))throw Error(me(200));return Np(null,e,t,!1,n)};ks.unmountComponentAtNode=function(e){if(!bp(e))throw Error(me(40));return e._reactRootContainer?(nl(function(){Np(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};ks.unstable_batchedUpdates=Pw;ks.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bp(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Np(e,t,n,!1,r)};ks.version="18.3.1-next-f1338f8080-20240426";function $2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($2)}catch(e){console.error(e)}}$2(),$S.exports=ks;var vl=$S.exports;const bM=kS(vl);var U2,k0=vl;U2=k0.createRoot,k0.hydrateRoot;function NM(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var V2={exports:{}},z2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=f;function _M(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SM=typeof Object.is=="function"?Object.is:_M,CM=Dc.useState,kM=Dc.useEffect,EM=Dc.useLayoutEffect,TM=Dc.useDebugValue;function PM(e,t){var n=t(),r=CM({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return EM(function(){i.value=n,i.getSnapshot=t,ex(i)&&a({inst:i})},[e,n,t]),kM(function(){return ex(i)&&a({inst:i}),e(function(){ex(i)&&a({inst:i})})},[e]),TM(n),n}function ex(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!SM(e,n)}catch{return!0}}function AM(e,t){return t()}var IM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AM:PM;z2.useSyncExternalStore=Dc.useSyncExternalStore!==void 0?Dc.useSyncExternalStore:IM;V2.exports=z2;var B2=V2.exports;const RM=lp.useInsertionEffect,DM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OM=DM?f.useLayoutEffect:f.useEffect,MM=RM||OM,W2=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return MM(()=>{t[0]=e}),t[1]},FM="popstate",Lw="pushState",$w="replaceState",LM="hashchange",E0=[FM,Lw,$w,LM],$M=e=>{for(const t of E0)addEventListener(t,e);return()=>{for(const t of E0)removeEventListener(t,e)}},H2=(e,t)=>B2.useSyncExternalStore($M,e,t),T0=()=>location.search,UM=({ssrSearch:e}={})=>H2(T0,e!=null?()=>e:T0),P0=()=>location.pathname,VM=({ssrPath:e}={})=>H2(P0,e!=null?()=>e:P0),zM=(e,{replace:t=!1,state:n=null}={})=>history[t?$w:Lw](n,"",e),BM=(e={})=>[VM(e),zM],A0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[A0]>"u"){for(const e of[Lw,$w]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,A0,{value:!0})}const WM=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",q2=(e="")=>e==="/"?"":e,HM=(e,t)=>e[0]==="~"?e.slice(1):q2(t)+e,qM=(e="",t)=>WM(I0(q2(e)),I0(t)),I0=e=>{try{return decodeURI(e)}catch{return e}},K2={hook:BM,searchHook:UM,parser:NM,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},G2=f.createContext(K2),ed=()=>f.useContext(G2),Y2={},Q2=f.createContext(Y2),X2=()=>f.useContext(Q2),_p=e=>{const[t,n]=e.hook(e);return[qM(e.base,t),W2((r,i)=>n(HM(r,e.base),i))]},qt=()=>_p(ed()),Uw=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((m,p)=>[m,c[p]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},yl=e=>Uw(ed().parser,e,qt()[0]),KM=({children:e,...t})=>{var h,m,p;const n=ed(),r=t.hook?K2:n;let i=r;const[a,o=t.ssrSearch??""]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];a&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs),t.searchHook=t.searchHook??((p=t.hook)==null?void 0:p.searchHook);let l=f.useRef({}),c=l.current,d=c;for(let y in r){const x=y==="base"?r[y]+(t[y]??""):t[y]??r[y];c===d&&x!==d[y]&&(l.current=d={...d}),d[y]=x,(x!==r[y]||x!==i[y])&&(i=d)}return f.createElement(G2.Provider,{value:i,children:e})},R0=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,GM=e=>{let t=f.useRef(Y2);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},at=({path:e,nest:t,match:n,...r})=>{const i=ed(),[a]=_p(i),[o,l,c]=n??Uw(i.parser,e,a,t),d=GM({...X2(),...l});if(!o)return null;const h=c?f.createElement(KM,{base:c},R0(r,d)):R0(r,d);return f.createElement(Q2.Provider,{value:d,children:h})},nu=f.forwardRef((e,t)=>{const n=ed(),[r,i]=_p(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:m,state:p,...y}=e,x=W2(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(l==null||l(S),S.defaultPrevented||(S.preventDefault(),i(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&f.isValidElement(d)?f.cloneElement(d,{onClick:x,href:g}):f.createElement("a",{...y,onClick:x,href:g,className:h!=null&&h.call?h(r===o):h,children:d,ref:t})}),Z2=e=>Array.isArray(e)?e.flatMap(t=>Z2(t&&t.type===f.Fragment?t.props.children:t)):[e],D0=({children:e,location:t})=>{const n=ed(),[r]=_p(n);for(const i of Z2(e)){let a=0;if(f.isValidElement(i)&&(a=Uw(n.parser,i.props.path,t||r,i.props.nest))[0])return f.cloneElement(i,{match:a})}return null};var td=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YM={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ba,By,gS,QM=(gS=class{constructor(){Ue(this,ba,YM);Ue(this,By,!1)}setTimeoutProvider(e){Te(this,ba,e)}setTimeout(e,t){return V(this,ba).setTimeout(e,t)}clearTimeout(e){V(this,ba).clearTimeout(e)}setInterval(e,t){return V(this,ba).setInterval(e,t)}clearInterval(e){V(this,ba).clearInterval(e)}},ba=new WeakMap,By=new WeakMap,gS),Do=new QM;function XM(e){setTimeout(e,0)}var sl=typeof window>"u"||"Deno"in globalThis;function Vn(){}function ZM(e,t){return typeof e=="function"?e(t):e}function Ov(e){return typeof e=="number"&&e>=0&&e!==1/0}function J2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function za(e,t){return typeof e=="function"?e(t):e}function Is(e,t){return typeof e=="function"?e(t):e}function O0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Vw(o,t.options))return!1}else if(!Eu(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function M0(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(rl(t.options.mutationKey)!==rl(a))return!1}else if(!Eu(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Vw(e,t){return((t==null?void 0:t.queryKeyHashFn)||rl)(e)}function rl(e){return JSON.stringify(e,(t,n)=>Mv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Eu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Eu(e[n],t[n])):!1}var JM=Object.prototype.hasOwnProperty;function ek(e,t){if(e===t)return e;const n=F0(e)&&F0(t);if(!n&&!(Mv(e)&&Mv(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=n?d:a[d],m=e[h],p=t[h];if(m===p){l[h]=m,(n?d<i:JM.call(e,h))&&c++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[h]=p;continue}const y=ek(m,p);l[h]=y,y===m&&c++}return i===o&&c===i?e:l}function wm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function F0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mv(e){if(!L0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!L0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function L0(e){return Object.prototype.toString.call(e)==="[object Object]"}function eF(e){return new Promise(t=>{Do.setTimeout(t,e)})}function Fv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ek(e,t):t}function tF(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function nF(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zw=Symbol();function tk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nk(e,t){return typeof e=="function"?e(...t):!!e}var Lo,Na,pc,xS,sF=(xS=class extends td{constructor(){super();Ue(this,Lo);Ue(this,Na);Ue(this,pc);Te(this,pc,t=>{if(!sl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Na)||this.setEventListener(V(this,pc))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Na))==null||t.call(this),Te(this,Na,void 0))}setEventListener(t){var n;Te(this,pc,t),(n=V(this,Na))==null||n.call(this),Te(this,Na,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){V(this,Lo)!==t&&(Te(this,Lo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof V(this,Lo)=="boolean"?V(this,Lo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lo=new WeakMap,Na=new WeakMap,pc=new WeakMap,xS),Bw=new sF;function Lv(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var rF=XM;function iF(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=rF;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var pn=iF(),gc,_a,xc,vS,aF=(vS=class extends td{constructor(){super();Ue(this,gc,!0);Ue(this,_a);Ue(this,xc);Te(this,xc,t=>{if(!sl&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,_a)||this.setEventListener(V(this,xc))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,_a))==null||t.call(this),Te(this,_a,void 0))}setEventListener(t){var n;Te(this,xc,t),(n=V(this,_a))==null||n.call(this),Te(this,_a,t(this.setOnline.bind(this)))}setOnline(t){V(this,gc)!==t&&(Te(this,gc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return V(this,gc)}},gc=new WeakMap,_a=new WeakMap,xc=new WeakMap,vS),jm=new aF;function oF(e){return Math.min(1e3*2**e,3e4)}function sk(e){return(e??"online")==="online"?jm.isOnline():!0}var $v=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rk(e){let t=!1,n=0,r;const i=Lv(),a=()=>i.status!=="pending",o=g=>{var S;if(!a()){const w=new $v(g);p(w),(S=e.onCancel)==null||S.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>Bw.isFocused()&&(e.networkMode==="always"||jm.isOnline())&&e.canRun(),h=()=>sk(e.networkMode)&&e.canRun(),m=g=>{a()||(r==null||r(),i.resolve(g))},p=g=>{a()||(r==null||r(),i.reject(g))},y=()=>new Promise(g=>{var S;r=w=>{(a()||d())&&g(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var g;r=void 0,a()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(a())return;let g;const S=n===0?e.initialPromise:void 0;try{g=S??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(m).catch(w=>{var O;if(a())return;const v=e.retry??(sl?0:3),j=e.retryDelay??oF,P=typeof j=="function"?j(n,w):j,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(t||!E){p(w);return}n++,(O=e.onFail)==null||O.call(e,n,w),eF(P).then(()=>d()?void 0:y()).then(()=>{t?p(w):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?x():y().then(x),i)}}var $o,yS,ik=(yS=class{constructor(){Ue(this,$o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ov(this.gcTime)&&Te(this,$o,Do.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sl?1/0:5*60*1e3))}clearGcTimeout(){V(this,$o)&&(Do.clearTimeout(V(this,$o)),Te(this,$o,void 0))}},$o=new WeakMap,yS),Uo,vc,As,Vo,wn,qu,zo,tr,xi,wS,lF=(wS=class extends ik{constructor(n){super();Ue(this,tr);Ue(this,Uo);Ue(this,vc);Ue(this,As);Ue(this,Vo);Ue(this,wn);Ue(this,qu);Ue(this,zo);Te(this,zo,!1),Te(this,qu,n.defaultOptions),this.setOptions(n.options),this.observers=[],Te(this,Vo,n.client),Te(this,As,V(this,Vo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Te(this,Uo,U0(this.options)),this.state=n.state??V(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=V(this,wn))==null?void 0:n.promise}setOptions(n){if(this.options={...V(this,qu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=U0(this.options);r.data!==void 0&&(this.setState($0(r.data,r.dataUpdatedAt)),Te(this,Uo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,As).remove(this)}setData(n,r){const i=Fv(this.state.data,n,this.options);return nt(this,tr,xi).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){nt(this,tr,xi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=V(this,wn))==null?void 0:i.promise;return(a=V(this,wn))==null||a.cancel(n),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,Uo))}isActive(){return this.observers.some(n=>Is(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>za(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!J2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,wn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,wn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),V(this,As).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(V(this,wn)&&(V(this,zo)?V(this,wn).cancel({revert:!0}):V(this,wn).cancelRetry()),this.scheduleGc()),V(this,As).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,tr,xi).call(this,{type:"invalidate"})}async fetch(n,r){var d,h,m,p,y,x,g,S,w,v,j,P;if(this.state.fetchStatus!=="idle"&&((d=V(this,wn))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,wn))return V(this,wn).continueRetry(),V(this,wn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const E=this.observers.find(O=>O.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,a=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(Te(this,zo,!0),i.signal)})},o=()=>{const E=tk(this.options,r),C=(()=>{const N={client:V(this,Vo),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return Te(this,zo,!1),this.options.persister?this.options.persister(E,C,this):E(C)},c=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:V(this,Vo),state:this.state,fetchFn:o};return a(E),E})();(h=this.options.behavior)==null||h.onFetch(c,this),Te(this,vc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&nt(this,tr,xi).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta}),Te(this,wn,rk({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:E=>{E instanceof $v&&E.revert&&this.setState({...V(this,vc),fetchStatus:"idle"}),i.abort()},onFail:(E,O)=>{nt(this,tr,xi).call(this,{type:"failed",failureCount:E,error:O})},onPause:()=>{nt(this,tr,xi).call(this,{type:"pause"})},onContinue:()=>{nt(this,tr,xi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const E=await V(this,wn).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(x=(y=V(this,As).config).onSuccess)==null||x.call(y,E,this),(S=(g=V(this,As).config).onSettled)==null||S.call(g,E,this.state.error,this),E}catch(E){if(E instanceof $v){if(E.silent)return V(this,wn).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw nt(this,tr,xi).call(this,{type:"error",error:E}),(v=(w=V(this,As).config).onError)==null||v.call(w,E,this),(P=(j=V(this,As).config).onSettled)==null||P.call(j,this.state.data,E,this),E}finally{this.scheduleGc()}}},Uo=new WeakMap,vc=new WeakMap,As=new WeakMap,Vo=new WeakMap,wn=new WeakMap,qu=new WeakMap,zo=new WeakMap,tr=new WeakSet,xi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...ak(i.data,this.options),fetchMeta:n.meta??null};case"success":const a={...i,...$0(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Te(this,vc,n.manual?a:void 0),a;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),pn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),V(this,As).notify({query:this,type:"updated",action:n})})},wS);function ak(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $0(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function U0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qn,ht,Ku,Ln,Bo,yc,wi,Sa,Gu,wc,jc,Wo,Ho,Ca,bc,Ct,Bd,Uv,Vv,zv,Bv,Wv,Hv,qv,ok,jS,cF=(jS=class extends td{constructor(t,n){super();Ue(this,Ct);Ue(this,Qn);Ue(this,ht);Ue(this,Ku);Ue(this,Ln);Ue(this,Bo);Ue(this,yc);Ue(this,wi);Ue(this,Sa);Ue(this,Gu);Ue(this,wc);Ue(this,jc);Ue(this,Wo);Ue(this,Ho);Ue(this,Ca);Ue(this,bc,new Set);this.options=n,Te(this,Qn,t),Te(this,Sa,null),Te(this,wi,Lv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,ht).addObserver(this),V0(V(this,ht),this.options)?nt(this,Ct,Bd).call(this):this.updateResult(),nt(this,Ct,Bv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kv(V(this,ht),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kv(V(this,ht),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,nt(this,Ct,Wv).call(this),nt(this,Ct,Hv).call(this),V(this,ht).removeObserver(this)}setOptions(t){const n=this.options,r=V(this,ht);if(this.options=V(this,Qn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Is(this.options.enabled,V(this,ht))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");nt(this,Ct,qv).call(this),V(this,ht).setOptions(this.options),n._defaulted&&!wm(this.options,n)&&V(this,Qn).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,ht),observer:this});const i=this.hasListeners();i&&z0(V(this,ht),r,this.options,n)&&nt(this,Ct,Bd).call(this),this.updateResult(),i&&(V(this,ht)!==r||Is(this.options.enabled,V(this,ht))!==Is(n.enabled,V(this,ht))||za(this.options.staleTime,V(this,ht))!==za(n.staleTime,V(this,ht)))&&nt(this,Ct,Uv).call(this);const a=nt(this,Ct,Vv).call(this);i&&(V(this,ht)!==r||Is(this.options.enabled,V(this,ht))!==Is(n.enabled,V(this,ht))||a!==V(this,Ca))&&nt(this,Ct,zv).call(this,a)}getOptimisticResult(t){const n=V(this,Qn).getQueryCache().build(V(this,Qn),t),r=this.createResult(n,t);return uF(this,r)&&(Te(this,Ln,r),Te(this,yc,this.options),Te(this,Bo,V(this,ht).state)),r}getCurrentResult(){return V(this,Ln)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&V(this,wi).status==="pending"&&V(this,wi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){V(this,bc).add(t)}getCurrentQuery(){return V(this,ht)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=V(this,Qn).defaultQueryOptions(t),r=V(this,Qn).getQueryCache().build(V(this,Qn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return nt(this,Ct,Bd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Ln)))}createResult(t,n){var _;const r=V(this,ht),i=this.options,a=V(this,Ln),o=V(this,Bo),l=V(this,yc),d=t!==r?t.state:V(this,Ku),{state:h}=t;let m={...h},p=!1,y;if(n._optimisticResults){const k=this.hasListeners(),R=!k&&V0(t,n),T=k&&z0(t,r,n,i);(R||T)&&(m={...m,...ak(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:S}=m;y=m.data;let w=!1;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let k;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=a.data,w=!0):k=typeof n.placeholderData=="function"?n.placeholderData((_=V(this,jc))==null?void 0:_.state.data,V(this,jc)):n.placeholderData,k!==void 0&&(S="success",y=Fv(a==null?void 0:a.data,k,n),p=!0)}if(n.select&&y!==void 0&&!w)if(a&&y===(o==null?void 0:o.data)&&n.select===V(this,Gu))y=V(this,wc);else try{Te(this,Gu,n.select),y=n.select(y),y=Fv(a==null?void 0:a.data,y,n),Te(this,wc,y),Te(this,Sa,null)}catch(k){Te(this,Sa,k)}V(this,Sa)&&(x=V(this,Sa),y=V(this,wc),g=Date.now(),S="error");const v=m.fetchStatus==="fetching",j=S==="pending",P=S==="error",E=j&&v,O=y!==void 0,N={status:S,fetchStatus:m.fetchStatus,isPending:j,isSuccess:S==="success",isError:P,isInitialLoading:E,isLoading:E,data:y,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!j,isLoadingError:P&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:P&&O,isStale:Ww(t,n),refetch:this.refetch,promise:V(this,wi),isEnabled:Is(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const k=I=>{N.status==="error"?I.reject(N.error):N.data!==void 0&&I.resolve(N.data)},R=()=>{const I=Te(this,wi,N.promise=Lv());k(I)},T=V(this,wi);switch(T.status){case"pending":t.queryHash===r.queryHash&&k(T);break;case"fulfilled":(N.status==="error"||N.data!==T.value)&&R();break;case"rejected":(N.status!=="error"||N.error!==T.reason)&&R();break}}return N}updateResult(){const t=V(this,Ln),n=this.createResult(V(this,ht),this.options);if(Te(this,Bo,V(this,ht).state),Te(this,yc,this.options),V(this,Bo).data!==void 0&&Te(this,jc,V(this,ht)),wm(n,t))return;Te(this,Ln,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!V(this,bc).size)return!0;const o=new Set(a??V(this,bc));return this.options.throwOnError&&o.add("error"),Object.keys(V(this,Ln)).some(l=>{const c=l;return V(this,Ln)[c]!==t[c]&&o.has(c)})};nt(this,Ct,ok).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&nt(this,Ct,Bv).call(this)}},Qn=new WeakMap,ht=new WeakMap,Ku=new WeakMap,Ln=new WeakMap,Bo=new WeakMap,yc=new WeakMap,wi=new WeakMap,Sa=new WeakMap,Gu=new WeakMap,wc=new WeakMap,jc=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,Ca=new WeakMap,bc=new WeakMap,Ct=new WeakSet,Bd=function(t){nt(this,Ct,qv).call(this);let n=V(this,ht).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Vn)),n},Uv=function(){nt(this,Ct,Wv).call(this);const t=za(this.options.staleTime,V(this,ht));if(sl||V(this,Ln).isStale||!Ov(t))return;const r=J2(V(this,Ln).dataUpdatedAt,t)+1;Te(this,Wo,Do.setTimeout(()=>{V(this,Ln).isStale||this.updateResult()},r))},Vv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,ht)):this.options.refetchInterval)??!1},zv=function(t){nt(this,Ct,Hv).call(this),Te(this,Ca,t),!(sl||Is(this.options.enabled,V(this,ht))===!1||!Ov(V(this,Ca))||V(this,Ca)===0)&&Te(this,Ho,Do.setInterval(()=>{(this.options.refetchIntervalInBackground||Bw.isFocused())&&nt(this,Ct,Bd).call(this)},V(this,Ca)))},Bv=function(){nt(this,Ct,Uv).call(this),nt(this,Ct,zv).call(this,nt(this,Ct,Vv).call(this))},Wv=function(){V(this,Wo)&&(Do.clearTimeout(V(this,Wo)),Te(this,Wo,void 0))},Hv=function(){V(this,Ho)&&(Do.clearInterval(V(this,Ho)),Te(this,Ho,void 0))},qv=function(){const t=V(this,Qn).getQueryCache().build(V(this,Qn),this.options);if(t===V(this,ht))return;const n=V(this,ht);Te(this,ht,t),Te(this,Ku,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ok=function(t){pn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(V(this,Ln))}),V(this,Qn).getQueryCache().notify({query:V(this,ht),type:"observerResultsUpdated"})})},jS);function dF(e,t){return Is(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function V0(e,t){return dF(e,t)||e.state.data!==void 0&&Kv(e,t,t.refetchOnMount)}function Kv(e,t,n){if(Is(t.enabled,e)!==!1&&za(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ww(e,t)}return!1}function z0(e,t,n,r){return(e!==t||Is(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ww(e,n)}function Ww(e,t){return Is(t.enabled,e)!==!1&&e.isStaleByTime(za(t.staleTime,e))}function uF(e,t){return!wm(e.getCurrentResult(),t)}function B0(e){return{onFetch:(t,n)=>{var h,m,p,y,x;const r=t.options,i=(p=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const S=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=tk(t.options,t.fetchOptions),v=async(j,P,E)=>{if(g)return Promise.reject();if(P==null&&j.pages.length)return Promise.resolve(j);const C=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:P,direction:E?"backward":"forward",meta:t.options.meta};return S(R),R})(),N=await w(C),{maxPages:_}=t.options,k=E?nF:tF;return{pages:k(j.pages,N,_),pageParams:k(j.pageParams,P,_)}};if(i&&a.length){const j=i==="backward",P=j?hF:W0,E={pages:a,pageParams:o},O=P(r,E);l=await v(E,O,j)}else{const j=e??a.length;do{const P=c===0?o[0]??r.initialPageParam:W0(r,l);if(c>0&&P==null)break;l=await v(l,P),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var g,S;return(S=(g=t.options).persister)==null?void 0:S.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function W0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hF(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Yu,Ir,$n,qo,Rr,ha,bS,fF=(bS=class extends ik{constructor(t){super();Ue(this,Rr);Ue(this,Yu);Ue(this,Ir);Ue(this,$n);Ue(this,qo);Te(this,Yu,t.client),this.mutationId=t.mutationId,Te(this,$n,t.mutationCache),Te(this,Ir,[]),this.state=t.state||lk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Ir).includes(t)||(V(this,Ir).push(t),this.clearGcTimeout(),V(this,$n).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Ir,V(this,Ir).filter(n=>n!==t)),this.scheduleGc(),V(this,$n).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():V(this,$n).remove(this))}continue(){var t;return((t=V(this,qo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,h,m,p,y,x,g,S,w,v,j,P,E,O,C,N,_;const n=()=>{nt(this,Rr,ha).call(this,{type:"continue"})},r={client:V(this,Yu),meta:this.options.meta,mutationKey:this.options.mutationKey};Te(this,qo,rk({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(k,R)=>{nt(this,Rr,ha).call(this,{type:"failed",failureCount:k,error:R})},onPause:()=>{nt(this,Rr,ha).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,$n).canRun(this)}));const i=this.state.status==="pending",a=!V(this,qo).canStart();try{if(i)n();else{nt(this,Rr,ha).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=V(this,$n).config).onMutate)==null?void 0:l.call(o,t,this,r));const R=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,r));R!==this.state.context&&nt(this,Rr,ha).call(this,{type:"pending",context:R,variables:t,isPaused:a})}const k=await V(this,qo).start();return await((m=(h=V(this,$n).config).onSuccess)==null?void 0:m.call(h,k,t,this.state.context,this,r)),await((y=(p=this.options).onSuccess)==null?void 0:y.call(p,k,t,this.state.context,r)),await((g=(x=V(this,$n).config).onSettled)==null?void 0:g.call(x,k,null,this.state.variables,this.state.context,this,r)),await((w=(S=this.options).onSettled)==null?void 0:w.call(S,k,null,t,this.state.context,r)),nt(this,Rr,ha).call(this,{type:"success",data:k}),k}catch(k){try{throw await((j=(v=V(this,$n).config).onError)==null?void 0:j.call(v,k,t,this.state.context,this,r)),await((E=(P=this.options).onError)==null?void 0:E.call(P,k,t,this.state.context,r)),await((C=(O=V(this,$n).config).onSettled)==null?void 0:C.call(O,void 0,k,this.state.variables,this.state.context,this,r)),await((_=(N=this.options).onSettled)==null?void 0:_.call(N,void 0,k,t,this.state.context,r)),k}finally{nt(this,Rr,ha).call(this,{type:"error",error:k})}}finally{V(this,$n).runNext(this)}}},Yu=new WeakMap,Ir=new WeakMap,$n=new WeakMap,qo=new WeakMap,Rr=new WeakSet,ha=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pn.batch(()=>{V(this,Ir).forEach(r=>{r.onMutationUpdate(t)}),V(this,$n).notify({mutation:this,type:"updated",action:t})})},bS);function lk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ji,nr,Qu,NS,mF=(NS=class extends td{constructor(t={}){super();Ue(this,ji);Ue(this,nr);Ue(this,Qu);this.config=t,Te(this,ji,new Set),Te(this,nr,new Map),Te(this,Qu,0)}build(t,n,r){const i=new fF({client:t,mutationCache:this,mutationId:++Bh(this,Qu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){V(this,ji).add(t);const n=lf(t);if(typeof n=="string"){const r=V(this,nr).get(n);r?r.push(t):V(this,nr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(V(this,ji).delete(t)){const n=lf(t);if(typeof n=="string"){const r=V(this,nr).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&V(this,nr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=lf(t);if(typeof n=="string"){const r=V(this,nr).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=lf(t);if(typeof n=="string"){const i=(r=V(this,nr).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pn.batch(()=>{V(this,ji).forEach(t=>{this.notify({type:"removed",mutation:t})}),V(this,ji).clear(),V(this,nr).clear()})}getAll(){return Array.from(V(this,ji))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>M0(n,r))}findAll(t={}){return this.getAll().filter(n=>M0(t,n))}notify(t){pn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return pn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Vn))))}},ji=new WeakMap,nr=new WeakMap,Qu=new WeakMap,NS);function lf(e){var t;return(t=e.options.scope)==null?void 0:t.id}var bi,ka,Xn,Ni,Di,Mf,Gv,_S,pF=(_S=class extends td{constructor(n,r){super();Ue(this,Di);Ue(this,bi);Ue(this,ka);Ue(this,Xn);Ue(this,Ni);Te(this,bi,n),this.setOptions(r),this.bindMethods(),nt(this,Di,Mf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=V(this,bi).defaultMutationOptions(n),wm(this.options,r)||V(this,bi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Xn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&rl(r.mutationKey)!==rl(this.options.mutationKey)?this.reset():((i=V(this,Xn))==null?void 0:i.state.status)==="pending"&&V(this,Xn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,Xn))==null||n.removeObserver(this)}onMutationUpdate(n){nt(this,Di,Mf).call(this),nt(this,Di,Gv).call(this,n)}getCurrentResult(){return V(this,ka)}reset(){var n;(n=V(this,Xn))==null||n.removeObserver(this),Te(this,Xn,void 0),nt(this,Di,Mf).call(this),nt(this,Di,Gv).call(this)}mutate(n,r){var i;return Te(this,Ni,r),(i=V(this,Xn))==null||i.removeObserver(this),Te(this,Xn,V(this,bi).getMutationCache().build(V(this,bi),this.options)),V(this,Xn).addObserver(this),V(this,Xn).execute(n)}},bi=new WeakMap,ka=new WeakMap,Xn=new WeakMap,Ni=new WeakMap,Di=new WeakSet,Mf=function(){var r;const n=((r=V(this,Xn))==null?void 0:r.state)??lk();Te(this,ka,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Gv=function(n){pn.batch(()=>{var r,i,a,o,l,c,d,h;if(V(this,Ni)&&this.hasListeners()){const m=V(this,ka).variables,p=V(this,ka).context,y={client:V(this,bi),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=V(this,Ni)).onSuccess)==null||i.call(r,n.data,m,p,y),(o=(a=V(this,Ni)).onSettled)==null||o.call(a,n.data,null,m,p,y)):(n==null?void 0:n.type)==="error"&&((c=(l=V(this,Ni)).onError)==null||c.call(l,n.error,m,p,y),(h=(d=V(this,Ni)).onSettled)==null||h.call(d,void 0,n.error,m,p,y))}this.listeners.forEach(m=>{m(V(this,ka))})})},_S),Dr,SS,gF=(SS=class extends td{constructor(t={}){super();Ue(this,Dr);this.config=t,Te(this,Dr,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Vw(i,n);let o=this.get(a);return o||(o=new lF({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){V(this,Dr).has(t.queryHash)||(V(this,Dr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=V(this,Dr).get(t.queryHash);n&&(t.destroy(),n===t&&V(this,Dr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,Dr).get(t)}getAll(){return[...V(this,Dr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>O0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>O0(t,r)):n}notify(t){pn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){pn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){pn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dr=new WeakMap,SS),Kt,Ea,Ta,Nc,_c,Pa,Sc,Cc,CS,xF=(CS=class{constructor(e={}){Ue(this,Kt);Ue(this,Ea);Ue(this,Ta);Ue(this,Nc);Ue(this,_c);Ue(this,Pa);Ue(this,Sc);Ue(this,Cc);Te(this,Kt,e.queryCache||new gF),Te(this,Ea,e.mutationCache||new mF),Te(this,Ta,e.defaultOptions||{}),Te(this,Nc,new Map),Te(this,_c,new Map),Te(this,Pa,0)}mount(){Bh(this,Pa)._++,V(this,Pa)===1&&(Te(this,Sc,Bw.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Kt).onFocus())})),Te(this,Cc,jm.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Kt).onOnline())})))}unmount(){var e,t;Bh(this,Pa)._--,V(this,Pa)===0&&((e=V(this,Sc))==null||e.call(this),Te(this,Sc,void 0),(t=V(this,Cc))==null||t.call(this),Te(this,Cc,void 0))}isFetching(e){return V(this,Kt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Ea).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,Kt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=V(this,Kt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(za(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return V(this,Kt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=V(this,Kt).get(r.queryHash),a=i==null?void 0:i.state.data,o=ZM(t,a);if(o!==void 0)return V(this,Kt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return pn.batch(()=>V(this,Kt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=V(this,Kt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=V(this,Kt);pn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=V(this,Kt);return pn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=pn.batch(()=>V(this,Kt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(e,t={}){return pn.batch(()=>(V(this,Kt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=pn.batch(()=>V(this,Kt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Vn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=V(this,Kt).build(this,t);return n.isStaleByTime(za(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vn).catch(Vn)}fetchInfiniteQuery(e){return e.behavior=B0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vn).catch(Vn)}ensureInfiniteQueryData(e){return e.behavior=B0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jm.isOnline()?V(this,Ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Kt)}getMutationCache(){return V(this,Ea)}getDefaultOptions(){return V(this,Ta)}setDefaultOptions(e){Te(this,Ta,e)}setQueryDefaults(e,t){V(this,Nc).set(rl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Nc).values()],n={};return t.forEach(r=>{Eu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){V(this,_c).set(rl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,_c).values()],n={};return t.forEach(r=>{Eu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Ta).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Ta).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,Kt).clear(),V(this,Ea).clear()}},Kt=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,Nc=new WeakMap,_c=new WeakMap,Pa=new WeakMap,Sc=new WeakMap,Cc=new WeakMap,CS),ck=f.createContext(void 0),Hw=e=>{const t=f.useContext(ck);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vF=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ck.Provider,{value:e,children:t})),dk=f.createContext(!1),yF=()=>f.useContext(dk);dk.Provider;function wF(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var jF=f.createContext(wF()),bF=()=>f.useContext(jF),NF=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},_F=e=>{f.useEffect(()=>{e.clearReset()},[e])},SF=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||nk(n,[e.error,r])),CF=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},kF=(e,t)=>e.isLoading&&e.isFetching&&!t,EF=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,H0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function TF(e,t,n){var m,p,y,x,g;const r=yF(),i=bF(),a=Hw(),o=a.defaultQueryOptions(e);(p=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,o),o._optimisticResults=r?"isRestoring":"optimistic",CF(o),NF(o,i),_F(i);const l=!a.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(a,o)),d=c.getOptimisticResult(o),h=!r&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(S=>{const w=h?c.subscribe(pn.batchCalls(S)):Vn;return c.updateResult(),w},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),EF(o,d))throw H0(o,c,i);if(SF({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||x.call(y,o,d),o.experimental_prefetchInRender&&!sl&&kF(d,r)){const S=l?H0(o,c,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;S==null||S.catch(Vn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ve(e,t){return TF(e,cF)}function Ge(e,t){const n=Hw(),[r]=f.useState(()=>new pF(n,e));f.useEffect(()=>{r.setOptions(e)},[r,e]);const i=f.useSyncExternalStore(f.useCallback(o=>r.subscribe(pn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=f.useCallback((o,l)=>{r.mutate(o,l).catch(Vn)},[r]);if(i.error&&nk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function uk(e){if(!e.ok){const t=await e.text()||e.statusText;console.error(`API Error: ${e.status} - ${e.statusText}`,{url:e.url,status:e.status,statusText:e.statusText,text:t});let n;try{n=JSON.parse(t)}catch(r){console.log("JSON parsing failed:",r,"Original text:",t)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw e.status===400?new Error("Please check your information and try again."):e.status===401?new Error("Invalid email or password."):e.status===403?new Error("Access denied. Please contact support."):e.status===404?new Error("Service not available. Please try again later."):e.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function ot(e,t,n){const r=t,i=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),o=localStorage.getItem("user");t.includes("/api/admin/users")&&(console.log("[apiRequest] Calling /api/admin/users:"),console.log("  - adminAccessToken:",i?"present":"missing"),console.log("  - accessToken:",a?"present":"missing"),console.log("  - user:",o?"present":"missing"));const l=n?{"Content-Type":"application/json"}:{};i&&(l["x-admin-token"]=i,l.Authorization=`Bearer ${i}`),a&&(l["x-access-token"]=a,i||(l.Authorization=`Bearer ${a}`)),o&&(l["x-user-data"]=btoa(unescape(encodeURIComponent(o)))),t.includes("/api/admin/users")&&console.log("  - Headers:",Object.keys(l));const c=await fetch(r,{method:e,headers:l,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(d=>{throw console.error("Fetch error for:",r,d),d});return await uk(c),c}const PF=({on401:e})=>async({queryKey:t})=>{const[n,...r]=t,i=new URLSearchParams;if(r.length>0)if(n==="/api/admin/shows"&&r.length>=2){const[m,p,y,x]=r;m&&i.set("page",String(m)),p&&i.set("limit",String(p)),y&&i.set("title",String(y)),x&&i.set("type",String(x))}else if(n==="/api/admin/users"&&r.length>=2){const[m,p,y]=r;m&&i.set("page",String(m)),p&&i.set("limit",String(p)),y&&i.set("title",String(y))}else r[0]&&typeof r[0]=="string"&&i.set("userId",r[0]);const a=`${n}${i.toString()?"?"+i.toString():""}`,o=localStorage.getItem("adminAccessToken"),l=localStorage.getItem("accessToken"),c=localStorage.getItem("user");n==="/api/admin/users"&&(console.log("[QueryClient] Fetching /api/admin/users:"),console.log("  - adminAccessToken:",o?"present":"missing"),console.log("  - accessToken:",l?"present":"missing"),console.log("  - user:",c?"present":"missing"));const d={"Content-Type":"application/json"};o&&(d["x-admin-token"]=o,d.Authorization=`Bearer ${o}`),l&&(d["x-access-token"]=l,o||(d.Authorization=`Bearer ${l}`)),c&&(d["x-user-data"]=btoa(unescape(encodeURIComponent(c)))),n==="/api/admin/users"&&console.log("  - Headers:",Object.keys(d));const h=await fetch(a,{credentials:"include",headers:d});return await uk(h),await h.json()},ze=new xF({defaultOptions:{queries:{queryFn:PF({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),AF=1,IF=1e6;let tx=0;function RF(){return tx=(tx+1)%Number.MAX_SAFE_INTEGER,tx.toString()}const nx=new Map,q0=e=>{if(nx.has(e))return;const t=setTimeout(()=>{nx.delete(e),su({type:"REMOVE_TOAST",toastId:e})},IF);nx.set(e,t)},DF=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,AF)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?q0(n):e.toasts.forEach(r=>{q0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ff=[];let Lf={toasts:[]};function su(e){Lf=DF(Lf,e),Ff.forEach(t=>{t(Lf)})}function OF({...e}){const t=RF(),n=i=>su({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>su({type:"DISMISS_TOAST",toastId:t});return su({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function kt(){const[e,t]=f.useState(Lf);return f.useEffect(()=>(Ff.push(t),()=>{const n=Ff.indexOf(t);n>-1&&Ff.splice(n,1)}),[e]),{...e,toast:OF,dismiss:n=>su({type:"DISMISS_TOAST",toastId:n})}}function pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function K0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ni(...e){return t=>{let n=!1;const r=e.map(i=>{const a=K0(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():K0(e[i],null)}}}}function Ye(...e){return f.useCallback(ni(...e),e)}function MF(e,t){const n=f.createContext(t),r=a=>{const{children:o,...l}=a,c=f.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=f.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Fn(e,t=[]){let n=[];function r(a,o){const l=f.createContext(o),c=n.length;n=[...n,o];const d=m=>{var w;const{scope:p,children:y,...x}=m,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,S=f.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:S,children:y})};d.displayName=a+"Provider";function h(m,p){var g;const y=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=f.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,FF(i,...t)]}function FF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function G0(e){const t=LF(e),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(UF);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function LF(e){const t=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=zF(i),l=VF(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $F=Symbol("radix.slottable");function UF(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$F}function VF(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function zF(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sp(e){const t=e+"CollectionProvider",[n,r]=Fn(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:S,children:w}=g,v=Re.useRef(null),j=Re.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:j,collectionRef:v,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=G0(l),d=Re.forwardRef((g,S)=>{const{scope:w,children:v}=g,j=a(l,w),P=Ye(S,j.collectionRef);return s.jsx(c,{ref:P,children:v})});d.displayName=l;const h=e+"CollectionItemSlot",m="data-radix-collection-item",p=G0(h),y=Re.forwardRef((g,S)=>{const{scope:w,children:v,...j}=g,P=Re.useRef(null),E=Ye(S,P),O=a(h,w);return Re.useEffect(()=>(O.itemMap.set(P,{ref:P,...j}),()=>void O.itemMap.delete(P))),s.jsx(p,{[m]:"",ref:E,children:v})});y.displayName=h;function x(g){const S=a(e+"CollectionConsumer",g);return Re.useCallback(()=>{const v=S.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((O,C)=>j.indexOf(O.ref.current)-j.indexOf(C.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},x,r]}function BF(e){const t=WF(e),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(qF);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function WF(e){const t=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=GF(i),l=KF(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HF=Symbol("radix.slottable");function qF(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HF}function KF(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function GF(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var YF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=YF.reduce((e,t)=>{const n=BF(`Primitive.${t}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function qw(e,t){e&&vl.flushSync(()=>e.dispatchEvent(t))}function Yt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function QF(e,t=globalThis==null?void 0:globalThis.document){const n=Yt(e);f.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var XF="DismissableLayer",Yv="dismissableLayer.update",ZF="dismissableLayer.pointerDownOutside",JF="dismissableLayer.focusOutside",Y0,hk=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wl=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(hk),[h,m]=f.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=f.useState({}),x=Ye(t,C=>m(C)),g=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(S),v=h?g.indexOf(h):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,P=v>=w,E=tL(C=>{const N=C.target,_=[...d.branches].some(k=>k.contains(N));!P||_||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),O=nL(C=>{const N=C.target;[...d.branches].some(k=>k.contains(N))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return QF(C=>{v===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),f.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Y0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Q0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Y0)}},[h,p,n,d]),f.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Q0())},[h,d]),f.useEffect(()=>{const C=()=>y({});return document.addEventListener(Yv,C),()=>document.removeEventListener(Yv,C)},[]),s.jsx($e.div,{...c,ref:x,style:{pointerEvents:j?P?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,O.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,E.onPointerDownCapture)})});wl.displayName=XF;var eL="DismissableLayerBranch",fk=f.forwardRef((e,t)=>{const n=f.useContext(hk),r=f.useRef(null),i=Ye(t,r);return f.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx($e.div,{...e,ref:i})});fk.displayName=eL;function tL(e,t=globalThis==null?void 0:globalThis.document){const n=Yt(e),r=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){mk(ZF,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nL(e,t=globalThis==null?void 0:globalThis.document){const n=Yt(e),r=f.useRef(!1);return f.useEffect(()=>{const i=a=>{a.target&&!r.current&&mk(JF,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q0(){const e=new CustomEvent(Yv);document.dispatchEvent(e)}function mk(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?qw(i,a):i.dispatchEvent(a)}var sL=wl,rL=fk,Zt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},iL="Portal",nd=f.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=f.useState(!1);Zt(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?bM.createPortal(s.jsx($e.div,{...r,ref:t}),o):null});nd.displayName=iL;function aL(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var xn=e=>{const{present:t,children:n}=e,r=oL(t),i=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=Ye(r.ref,lL(i));return typeof n=="function"||r.isPresent?f.cloneElement(i,{ref:a}):null};xn.displayName="Presence";function oL(e){const[t,n]=f.useState(),r=f.useRef(null),i=f.useRef(e),a=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=aL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=cf(r.current);a.current=l==="mounted"?d:"none"},[l]),Zt(()=>{const d=r.current,h=i.current;if(h!==e){const p=a.current,y=cf(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Zt(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,m=y=>{const g=cf(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&g&&(c("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},p=y=>{y.target===t&&(a.current=cf(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function cf(e){return(e==null?void 0:e.animationName)||"none"}function lL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var cL=lp[" useInsertionEffect ".trim().toString()]||Zt;function gr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=dL({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const h=f.useRef(e!==void 0);f.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=f.useCallback(h=>{var m;if(l){const p=uL(h)?h(e):h;p!==e&&((m=o.current)==null||m.call(o,p))}else a(h)},[l,e,a,o]);return[c,d]}function dL({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),i=f.useRef(n),a=f.useRef(t);return cL(()=>{a.current=t},[t]),f.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function uL(e){return typeof e=="function"}var pk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hL="VisuallyHidden",Cp=f.forwardRef((e,t)=>s.jsx($e.span,{...e,ref:t,style:{...pk,...e.style}}));Cp.displayName=hL;var fL=Cp,Kw="ToastProvider",[Gw,mL,pL]=Sp("Toast"),[gk]=Fn("Toast",[pL]),[gL,kp]=gk(Kw),xk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=f.useState(null),[d,h]=f.useState(0),m=f.useRef(!1),p=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kw}\`. Expected non-empty \`string\`.`),s.jsx(Gw.Provider,{scope:t,children:s.jsx(gL,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>h(y=>y+1),[]),onToastRemove:f.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};xk.displayName=Kw;var vk="ToastViewport",xL=["F8"],Qv="toast.viewportPause",Xv="toast.viewportResume",yk=f.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=xL,label:i="Notifications ({hotkey})",...a}=e,o=kp(vk,n),l=mL(n),c=f.useRef(null),d=f.useRef(null),h=f.useRef(null),m=f.useRef(null),p=Ye(t,m,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;f.useEffect(()=>{const S=w=>{var j;r.length!==0&&r.every(P=>w[P]||w.code===P)&&((j=m.current)==null||j.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),f.useEffect(()=>{const S=c.current,w=m.current;if(x&&S&&w){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Qv);w.dispatchEvent(O),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Xv);w.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!S.contains(O.relatedTarget)&&j()},E=()=>{S.contains(document.activeElement)||j()};return S.addEventListener("focusin",v),S.addEventListener("focusout",P),S.addEventListener("pointermove",v),S.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{S.removeEventListener("focusin",v),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",v),S.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:S})=>{const v=l().map(j=>{const P=j.ref.current,E=[P,...PL(P)];return S==="forwards"?E:E.reverse()});return(S==="forwards"?v.reverse():v).flat()},[l]);return f.useEffect(()=>{const S=m.current;if(S){const w=v=>{var E,O,C;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const N=document.activeElement,_=v.shiftKey;if(v.target===S&&_){(E=d.current)==null||E.focus();return}const T=g({tabbingDirection:_?"backwards":"forwards"}),I=T.findIndex(D=>D===N);sx(T.slice(I+1))?v.preventDefault():_?(O=d.current)==null||O.focus():(C=h.current)==null||C.focus()}};return S.addEventListener("keydown",w),()=>S.removeEventListener("keydown",w)}},[l,g]),s.jsxs(rL,{ref:c,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Zv,{ref:d,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"forwards"});sx(S)}}),s.jsx(Gw.Slot,{scope:n,children:s.jsx($e.ol,{tabIndex:-1,...a,ref:p})}),x&&s.jsx(Zv,{ref:h,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"backwards"});sx(S)}})]})});yk.displayName=vk;var wk="ToastFocusProxy",Zv=f.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=kp(wk,n);return s.jsx(Cp,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Zv.displayName=wk;var nh="Toast",vL="toast.swipeStart",yL="toast.swipeMove",wL="toast.swipeCancel",jL="toast.swipeEnd",jk=f.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=gr({prop:r,defaultProp:i??!0,onChange:a,caller:nh});return s.jsx(xn,{present:n||l,children:s.jsx(_L,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Yt(e.onPause),onResume:Yt(e.onResume),onSwipeStart:pe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:pe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});jk.displayName=nh;var[bL,NL]=gk(nh,{onClose(){}}),_L=f.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:y,...x}=e,g=kp(nh,n),[S,w]=f.useState(null),v=Ye(t,D=>w(D)),j=f.useRef(null),P=f.useRef(null),E=i||g.duration,O=f.useRef(0),C=f.useRef(E),N=f.useRef(0),{onToastAdd:_,onToastRemove:k}=g,R=Yt(()=>{var q;(S==null?void 0:S.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),T=f.useCallback(D=>{!D||D===1/0||(window.clearTimeout(N.current),O.current=new Date().getTime(),N.current=window.setTimeout(R,D))},[R]);f.useEffect(()=>{const D=g.viewport;if(D){const q=()=>{T(C.current),d==null||d()},U=()=>{const z=new Date().getTime()-O.current;C.current=C.current-z,window.clearTimeout(N.current),c==null||c()};return D.addEventListener(Qv,U),D.addEventListener(Xv,q),()=>{D.removeEventListener(Qv,U),D.removeEventListener(Xv,q)}}},[g.viewport,E,c,d,T]),f.useEffect(()=>{a&&!g.isClosePausedRef.current&&T(E)},[a,E,g.isClosePausedRef,T]),f.useEffect(()=>(_(),()=>k()),[_,k]);const I=f.useMemo(()=>S?Ek(S):null,[S]);return g.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(SL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:I}),s.jsx(bL,{scope:n,onClose:R,children:vl.createPortal(s.jsx(Gw.ItemSlot,{scope:n,children:s.jsx(sL,{asChild:!0,onEscapeKeyDown:pe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx($e.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:pe(e.onPointerDown,D=>{D.button===0&&(j.current={x:D.clientX,y:D.clientY})}),onPointerMove:pe(e.onPointerMove,D=>{if(!j.current)return;const q=D.clientX-j.current.x,U=D.clientY-j.current.y,z=!!P.current,L=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,le=L?B(0,q):0,ce=L?0:B(0,U),W=D.pointerType==="touch"?10:2,Ce={x:le,y:ce},_e={originalEvent:D,delta:Ce};z?(P.current=Ce,df(yL,m,_e,{discrete:!1})):X0(Ce,g.swipeDirection,W)?(P.current=Ce,df(vL,h,_e,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(q)>W||Math.abs(U)>W)&&(j.current=null)}),onPointerUp:pe(e.onPointerUp,D=>{const q=P.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),P.current=null,j.current=null,q){const z=D.currentTarget,L={originalEvent:D,delta:q};X0(q,g.swipeDirection,g.swipeThreshold)?df(jL,y,L,{discrete:!0}):df(wL,p,L,{discrete:!0}),z.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),SL=e=>{const{__scopeToast:t,children:n,...r}=e,i=kp(nh,t),[a,o]=f.useState(!1),[l,c]=f.useState(!1);return EL(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(nd,{asChild:!0,children:s.jsx(Cp,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},CL="ToastTitle",bk=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx($e.div,{...r,ref:t})});bk.displayName=CL;var kL="ToastDescription",Nk=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx($e.div,{...r,ref:t})});Nk.displayName=kL;var _k="ToastAction",Sk=f.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(kk,{altText:n,asChild:!0,children:s.jsx(Yw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),null)});Sk.displayName=_k;var Ck="ToastClose",Yw=f.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=NL(Ck,n);return s.jsx(kk,{asChild:!0,children:s.jsx($e.button,{type:"button",...r,ref:t,onClick:pe(e.onClick,i.onClose)})})});Yw.displayName=Ck;var kk=f.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Ek(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),TL(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Ek(r))}}),t}function df(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?qw(i,a):i.dispatchEvent(a)}var X0=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function EL(e=()=>{}){const t=Yt(e);Zt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function TL(e){return e.nodeType===e.ELEMENT_NODE}function PL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sx(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var AL=xk,Tk=yk,Pk=jk,Ak=bk,Ik=Nk,Rk=Sk,Dk=Yw;function Ok(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ok(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mk(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ok(e))&&(r&&(r+=" "),r+=t);return r}const Z0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,J0=Mk,sh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return J0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],m=a==null?void 0:a[d];if(h===null)return null;const p=Z0(h)||Z0(m);return i[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[m,p]=h;return p===void 0||(d[m]=p),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:p,...y}=h;return Object.entries(y).every(x=>{let[g,S]=x;return Array.isArray(S)?S.includes({...a,...l}[g]):{...a,...l}[g]===S})?[...d,m,p]:d},[]);return J0(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fk=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...RL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Fk("lucide",i),...l},[...o.map(([d,h])=>f.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=f.forwardRef(({className:r,...i},a)=>f.createElement(DL,{ref:a,iconNode:t,className:Fk(`lucide-${IL(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=we("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=we("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=we("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=we("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=we("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=we("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=we("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=we("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=we("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=we("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=we("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=we("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=we("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=we("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=we("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=we("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=we("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=we("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=we("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=we("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=we("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=we("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=we("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=we("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=we("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sj="-",o5=e=>{const t=c5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(sj);return l[0]===""&&l.length!==1&&l.shift(),qk(l,t)||l5(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},qk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?qk(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(sj);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},n_=/^\[(.+)\]$/,l5=e=>{if(n_.test(e)){const t=n_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},c5=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return u5(Object.entries(e.classGroups),n).forEach(([a,o])=>{sy(o,r,a,t)}),r},sy=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:s_(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(d5(i)){sy(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{sy(o,s_(t,a),n,r)})})},s_=(e,t)=>{let n=e;return t.split(sj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},d5=e=>e.isThemeGetter,u5=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,h5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Kk="!",f5=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,h=0,m;for(let S=0;S<l.length;S++){let w=l[S];if(d===0){if(w===i&&(r||l.slice(S,S+a)===t)){c.push(l.slice(h,S)),h=S+a;continue}if(w==="/"){m=S;continue}}w==="["?d++:w==="]"&&d--}const p=c.length===0?l:l.substring(h),y=p.startsWith(Kk),x=y?p.substring(1):p,g=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},m5=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},p5=e=>({cache:h5(e.cacheSize),parseClassName:f5(e),...o5(e)}),g5=/\s+/,x5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(g5);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:y}=n(d);let x=!!y,g=r(x?p.substring(0,y):p);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=r(p),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const S=m5(h).join(":"),w=m?S+Kk:S,v=w+g;if(a.includes(v))continue;a.push(v);const j=i(g,x);for(let P=0;P<j.length;++P){const E=j[P];a.push(w+E)}l=d+(l.length>0?" "+l:l)}return l};function v5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Gk(t))&&(r&&(r+=" "),r+=n);return r}const Gk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Gk(e[r]))&&(n&&(n+=" "),n+=t);return n};function y5(e,...t){let n,r,i,a=o;function o(c){const d=t.reduce((h,m)=>m(h),e());return n=p5(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=x5(c,n);return i(c,h),h}return function(){return a(v5.apply(null,arguments))}}const Lt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Yk=/^\[(?:([a-z-]+):)?(.+)\]$/i,w5=/^\d+\/\d+$/,j5=new Set(["px","full","screen"]),b5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=e=>ic(e)||j5.has(e)||w5.test(e),oa=e=>id(e,"length",D5),ic=e=>!!e&&!Number.isNaN(Number(e)),rx=e=>id(e,"number",ic),Dd=e=>!!e&&Number.isInteger(Number(e)),k5=e=>e.endsWith("%")&&ic(e.slice(0,-1)),et=e=>Yk.test(e),la=e=>b5.test(e),E5=new Set(["length","size","percentage"]),T5=e=>id(e,E5,Qk),P5=e=>id(e,"position",Qk),A5=new Set(["image","url"]),I5=e=>id(e,A5,M5),R5=e=>id(e,"",O5),Od=()=>!0,id=(e,t,n)=>{const r=Yk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},D5=e=>N5.test(e)&&!_5.test(e),Qk=()=>!1,O5=e=>S5.test(e),M5=e=>C5.test(e),F5=()=>{const e=Lt("colors"),t=Lt("spacing"),n=Lt("blur"),r=Lt("brightness"),i=Lt("borderColor"),a=Lt("borderRadius"),o=Lt("borderSpacing"),l=Lt("borderWidth"),c=Lt("contrast"),d=Lt("grayscale"),h=Lt("hueRotate"),m=Lt("invert"),p=Lt("gap"),y=Lt("gradientColorStops"),x=Lt("gradientColorStopPositions"),g=Lt("inset"),S=Lt("margin"),w=Lt("opacity"),v=Lt("padding"),j=Lt("saturate"),P=Lt("scale"),E=Lt("sepia"),O=Lt("skew"),C=Lt("space"),N=Lt("translate"),_=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",et,t],T=()=>[et,t],I=()=>["",hi,oa],D=()=>["auto",ic,et],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",et],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[ic,et];return{cacheSize:500,separator:":",theme:{colors:[Od],spacing:[hi,oa],blur:["none","",la,et],brightness:ce(),borderColor:[e],borderRadius:["none","","full",la,et],borderSpacing:T(),borderWidth:I(),contrast:ce(),grayscale:B(),hueRotate:ce(),invert:B(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[k5,oa],inset:R(),margin:R(),opacity:ce(),padding:T(),saturate:ce(),scale:ce(),sepia:B(),skew:ce(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[la]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),et]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dd,et]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Dd,et]}],"grid-cols":[{"grid-cols":[Od]}],"col-start-end":[{col:["auto",{span:["full",Dd,et]},et]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Od]}],"row-start-end":[{row:["auto",{span:[Dd,et]},et]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,t]}],"min-w":[{"min-w":[et,t,"min","max","fit"]}],"max-w":[{"max-w":[et,t,"none","full","min","max","fit","prose",{screen:[la]},la]}],h:[{h:[et,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,t,"auto","min","max","fit"]}],"font-size":[{text:["base",la,oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rx]}],"font-family":[{font:[Od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",ic,rx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,oa]}],"underline-offset":[{"underline-offset":["auto",hi,et]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),P5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},I5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[hi,et]}],"outline-w":[{outline:[hi,oa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[hi,oa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",la,R5]}],"shadow-color":[{shadow:[Od]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",la,et]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Dd,et]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hi,oa,rx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L5=y5(F5);function xe(...e){return L5(Mk(e))}const $5=AL,Xk=f.forwardRef(({className:e,...t},n)=>s.jsx(Tk,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",e),...t}));Xk.displayName=Tk.displayName;const U5=sh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zk=f.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(Pk,{ref:r,className:xe(U5({variant:t}),e),...n}));Zk.displayName=Pk.displayName;const V5=f.forwardRef(({className:e,...t},n)=>s.jsx(Rk,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));V5.displayName=Rk.displayName;const Jk=f.forwardRef(({className:e,...t},n)=>s.jsx(Dk,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(_s,{className:"h-4 w-4"})}));Jk.displayName=Dk.displayName;const eE=f.forwardRef(({className:e,...t},n)=>s.jsx(Ak,{ref:n,className:xe("text-sm font-semibold",e),...t}));eE.displayName=Ak.displayName;const tE=f.forwardRef(({className:e,...t},n)=>s.jsx(Ik,{ref:n,className:xe("text-sm opacity-90",e),...t}));tE.displayName=Ik.displayName;function z5(){const{toasts:e}=kt();return s.jsxs($5,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(Zk,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(eE,{children:n}),r&&s.jsx(tE,{children:r})]}),i,s.jsx(Jk,{})]},t)}),s.jsx(Xk,{})]})}var B5=lp[" useId ".trim().toString()]||(()=>{}),W5=0;function $s(e){const[t,n]=f.useState(B5());return Zt(()=>{n(r=>r??String(W5++))},[e]),t?`radix-${t}`:""}const H5=["top","right","bottom","left"],Za=Math.min,ps=Math.max,Cm=Math.round,ff=Math.floor,Hr=e=>({x:e,y:e}),q5={left:"right",right:"left",bottom:"top",top:"bottom"},K5={start:"end",end:"start"};function ry(e,t,n){return ps(e,Za(t,n))}function $i(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function ad(e){return e.split("-")[1]}function rj(e){return e==="x"?"y":"x"}function ij(e){return e==="y"?"height":"width"}const G5=new Set(["top","bottom"]);function $r(e){return G5.has(Ui(e))?"y":"x"}function aj(e){return rj($r(e))}function Y5(e,t,n){n===void 0&&(n=!1);const r=ad(e),i=aj(e),a=ij(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=km(o)),[o,km(o)]}function Q5(e){const t=km(e);return[iy(e),t,iy(t)]}function iy(e){return e.replace(/start|end/g,t=>K5[t])}const r_=["left","right"],i_=["right","left"],X5=["top","bottom"],Z5=["bottom","top"];function J5(e,t,n){switch(e){case"top":case"bottom":return n?t?i_:r_:t?r_:i_;case"left":case"right":return t?X5:Z5;default:return[]}}function e6(e,t,n,r){const i=ad(e);let a=J5(Ui(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(iy)))),a}function km(e){return e.replace(/left|right|bottom|top/g,t=>q5[t])}function t6(e){return{top:0,right:0,bottom:0,left:0,...e}}function nE(e){return typeof e!="number"?t6(e):{top:e,right:e,bottom:e,left:e}}function Em(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function a_(e,t,n){let{reference:r,floating:i}=e;const a=$r(t),o=aj(t),l=ij(o),c=Ui(t),d=a==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let y;switch(c){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(ad(t)){case"start":y[o]-=p*(n&&d?-1:1);break;case"end":y[o]+=p*(n&&d?-1:1);break}return y}const n6=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=a_(d,r,c),p=r,y={},x=0;for(let g=0;g<l.length;g++){const{name:S,fn:w}=l[g],{x:v,y:j,data:P,reset:E}=await w({x:h,y:m,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:d,platform:o,elements:{reference:e,floating:t}});h=v??h,m=j??m,y={...y,[S]:{...y[S],...P}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(p=E.placement),E.rects&&(d=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:h,y:m}=a_(d,p,c)),g=-1)}return{x:h,y:m,placement:p,strategy:i,middlewareData:y}};async function Du(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:y=0}=$i(t,e),x=nE(y),S=l[p?m==="floating"?"reference":"floating":m],w=Em(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},E=Em(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:j,strategy:c}):v);return{top:(w.top-E.top+x.top)/P.y,bottom:(E.bottom-w.bottom+x.bottom)/P.y,left:(w.left-E.left+x.left)/P.x,right:(E.right-w.right+x.right)/P.x}}const s6=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=$i(e,t)||{};if(d==null)return{};const m=nE(h),p={x:n,y:r},y=aj(i),x=ij(y),g=await o.getDimensions(d),S=y==="y",w=S?"top":"left",v=S?"bottom":"right",j=S?"clientHeight":"clientWidth",P=a.reference[x]+a.reference[y]-p[y]-a.floating[x],E=p[y]-a.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=O?O[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=l.floating[j]||a.floating[x]);const N=P/2-E/2,_=C/2-g[x]/2-1,k=Za(m[w],_),R=Za(m[v],_),T=k,I=C-g[x]-R,D=C/2-g[x]/2+N,q=ry(T,D,I),U=!c.arrow&&ad(i)!=null&&D!==q&&a.reference[x]/2-(D<T?k:R)-g[x]/2<0,z=U?D<T?D-T:D-I:0;return{[y]:p[y]+z,data:{[y]:q,centerOffset:D-q-z,...U&&{alignmentOffset:z}},reset:U}}}),r6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...S}=$i(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=Ui(i),v=$r(l),j=Ui(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=p||(j||!g?[km(l)]:Q5(l)),O=x!=="none";!p&&O&&E.push(...e6(l,g,x,P));const C=[l,...E],N=await Du(t,S),_=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&_.push(N[w]),m){const D=Y5(i,o,P);_.push(N[D[0]],N[D[1]])}if(k=[...k,{placement:i,overflows:_}],!_.every(D=>D<=0)){var R,T;const D=(((R=a.flip)==null?void 0:R.index)||0)+1,q=C[D];if(q&&(!(m==="alignment"?v!==$r(q):!1)||k.every(L=>$r(L.placement)===v?L.overflows[0]>0:!0)))return{data:{index:D,overflows:k},reset:{placement:q}};let U=(T=k.filter(z=>z.overflows[0]<=0).sort((z,L)=>z.overflows[1]-L.overflows[1])[0])==null?void 0:T.placement;if(!U)switch(y){case"bestFit":{var I;const z=(I=k.filter(L=>{if(O){const B=$r(L.placement);return B===v||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,le)=>B+le,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:I[0];z&&(U=z);break}case"initialPlacement":U=l;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function o_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l_(e){return H5.some(t=>e[t]>=0)}const i6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=$i(e,t);switch(r){case"referenceHidden":{const a=await Du(t,{...i,elementContext:"reference"}),o=o_(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:l_(o)}}}case"escaped":{const a=await Du(t,{...i,altBoundary:!0}),o=o_(a,n.floating);return{data:{escapedOffsets:o,escaped:l_(o)}}}default:return{}}}}},sE=new Set(["left","top"]);async function a6(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ui(n),l=ad(n),c=$r(n)==="y",d=sE.has(o)?-1:1,h=a&&c?-1:1,m=$i(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(y=l==="end"?x*-1:x),c?{x:y*h,y:p*d}:{x:p*d,y:y*h}}const o6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await a6(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},l6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:w,y:v}=S;return{x:w,y:v}}},...c}=$i(e,t),d={x:n,y:r},h=await Du(t,c),m=$r(Ui(i)),p=rj(m);let y=d[p],x=d[m];if(a){const S=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=y+h[S],j=y-h[w];y=ry(v,y,j)}if(o){const S=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=x+h[S],j=x-h[w];x=ry(v,x,j)}const g=l.fn({...t,[p]:y,[m]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:a,[m]:o}}}}}},c6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=$i(e,t),h={x:n,y:r},m=$r(i),p=rj(m);let y=h[p],x=h[m];const g=$i(l,t),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=p==="y"?"height":"width",P=a.reference[p]-a.floating[j]+S.mainAxis,E=a.reference[p]+a.reference[j]-S.mainAxis;y<P?y=P:y>E&&(y=E)}if(d){var w,v;const j=p==="y"?"width":"height",P=sE.has(Ui(i)),E=a.reference[m]-a.floating[j]+(P&&((w=o.offset)==null?void 0:w[m])||0)+(P?0:S.crossAxis),O=a.reference[m]+a.reference[j]+(P?0:((v=o.offset)==null?void 0:v[m])||0)-(P?S.crossAxis:0);x<E?x=E:x>O&&(x=O)}return{[p]:y,[m]:x}}}},d6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=$i(e,t),h=await Du(t,d),m=Ui(i),p=ad(i),y=$r(i)==="y",{width:x,height:g}=a.floating;let S,w;m==="top"||m==="bottom"?(S=m,w=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,S=p==="end"?"top":"bottom");const v=g-h.top-h.bottom,j=x-h.left-h.right,P=Za(g-h[S],v),E=Za(x-h[w],j),O=!t.middlewareData.shift;let C=P,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),O&&!p){const k=ps(h.left,0),R=ps(h.right,0),T=ps(h.top,0),I=ps(h.bottom,0);y?N=x-2*(k!==0||R!==0?k+R:ps(h.left,h.right)):C=g-2*(T!==0||I!==0?T+I:ps(h.top,h.bottom))}await c({...t,availableWidth:N,availableHeight:C});const _=await o.getDimensions(l.floating);return x!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Ep(){return typeof window<"u"}function od(e){return rE(e)?(e.nodeName||"").toLowerCase():"#document"}function js(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(rE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rE(e){return Ep()?e instanceof Node||e instanceof js(e).Node:!1}function yr(e){return Ep()?e instanceof Element||e instanceof js(e).Element:!1}function Qr(e){return Ep()?e instanceof HTMLElement||e instanceof js(e).HTMLElement:!1}function c_(e){return!Ep()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof js(e).ShadowRoot}const u6=new Set(["inline","contents"]);function rh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!u6.has(i)}const h6=new Set(["table","td","th"]);function f6(e){return h6.has(od(e))}const m6=[":popover-open",":modal"];function Tp(e){return m6.some(t=>{try{return e.matches(t)}catch{return!1}})}const p6=["transform","translate","scale","rotate","perspective"],g6=["transform","translate","scale","rotate","perspective","filter"],x6=["paint","layout","strict","content"];function oj(e){const t=lj(),n=yr(e)?wr(e):e;return p6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||g6.some(r=>(n.willChange||"").includes(r))||x6.some(r=>(n.contain||"").includes(r))}function v6(e){let t=Ja(e);for(;Qr(t)&&!Lc(t);){if(oj(t))return t;if(Tp(t))return null;t=Ja(t)}return null}function lj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y6=new Set(["html","body","#document"]);function Lc(e){return y6.has(od(e))}function wr(e){return js(e).getComputedStyle(e)}function Pp(e){return yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ja(e){if(od(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c_(e)&&e.host||si(e);return c_(t)?t.host:t}function iE(e){const t=Ja(e);return Lc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qr(t)&&rh(t)?t:iE(t)}function Ou(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=iE(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=js(i);if(a){const l=ay(o);return t.concat(o,o.visualViewport||[],rh(i)?i:[],l&&n?Ou(l):[])}return t.concat(i,Ou(i,[],n))}function ay(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aE(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Qr(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=Cm(n)!==a||Cm(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function cj(e){return yr(e)?e:e.contextElement}function ac(e){const t=cj(e);if(!Qr(t))return Hr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=aE(t);let o=(a?Cm(n.width):n.width)/r,l=(a?Cm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const w6=Hr(0);function oE(e){const t=js(e);return!lj()||!t.visualViewport?w6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==js(e)?!1:t}function il(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=cj(e);let o=Hr(1);t&&(r?yr(r)&&(o=ac(r)):o=ac(e));const l=j6(a,n,r)?oE(a):Hr(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,m=i.height/o.y;if(a){const p=js(a),y=r&&yr(r)?js(r):r;let x=p,g=ay(x);for(;g&&r&&y!==x;){const S=ac(g),w=g.getBoundingClientRect(),v=wr(g),j=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*S.x,P=w.top+(g.clientTop+parseFloat(v.paddingTop))*S.y;c*=S.x,d*=S.y,h*=S.x,m*=S.y,c+=j,d+=P,x=js(g),g=ay(x)}}return Em({width:h,height:m,x:c,y:d})}function Ap(e,t){const n=Pp(e).scrollLeft;return t?t.left+n:il(si(e)).left+n}function lE(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ap(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function b6(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=si(r),l=t?Tp(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Hr(1);const h=Hr(0),m=Qr(r);if((m||!m&&!a)&&((od(r)!=="body"||rh(o))&&(c=Pp(r)),Qr(r))){const y=il(r);d=ac(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!m&&!a?lE(o,c):Hr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function N6(e){return Array.from(e.getClientRects())}function _6(e){const t=si(e),n=Pp(e),r=e.ownerDocument.body,i=ps(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ps(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ap(e);const l=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=ps(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const d_=25;function S6(e,t){const n=js(e),r=si(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const h=lj();(!h||h&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=Ap(r);if(d<=0){const h=r.ownerDocument,m=h.body,p=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-y);x<=d_&&(a-=x)}else d<=d_&&(a+=d);return{width:a,height:o,x:l,y:c}}const C6=new Set(["absolute","fixed"]);function k6(e,t){const n=il(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Qr(e)?ac(e):Hr(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function u_(e,t,n){let r;if(t==="viewport")r=S6(e,n);else if(t==="document")r=_6(si(e));else if(yr(t))r=k6(t,n);else{const i=oE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Em(r)}function cE(e,t){const n=Ja(e);return n===t||!yr(n)||Lc(n)?!1:wr(n).position==="fixed"||cE(n,t)}function E6(e,t){const n=t.get(e);if(n)return n;let r=Ou(e,[],!1).filter(l=>yr(l)&&od(l)!=="body"),i=null;const a=wr(e).position==="fixed";let o=a?Ja(e):e;for(;yr(o)&&!Lc(o);){const l=wr(o),c=oj(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&C6.has(i.position)||rh(o)&&!c&&cE(e,o))?r=r.filter(h=>h!==o):i=l,o=Ja(o)}return t.set(e,r),r}function T6(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Tp(t)?[]:E6(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const m=u_(t,h,i);return d.top=ps(m.top,d.top),d.right=Za(m.right,d.right),d.bottom=Za(m.bottom,d.bottom),d.left=ps(m.left,d.left),d},u_(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function P6(e){const{width:t,height:n}=aE(e);return{width:t,height:n}}function A6(e,t,n){const r=Qr(t),i=si(t),a=n==="fixed",o=il(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Hr(0);function d(){c.x=Ap(i)}if(r||!r&&!a)if((od(t)!=="body"||rh(i))&&(l=Pp(t)),r){const y=il(t,!0,a,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?lE(i,l):Hr(0),m=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:m,y:p,width:o.width,height:o.height}}function ix(e){return wr(e).position==="static"}function h_(e,t){if(!Qr(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return si(e)===n&&(n=n.ownerDocument.body),n}function dE(e,t){const n=js(e);if(Tp(e))return n;if(!Qr(e)){let i=Ja(e);for(;i&&!Lc(i);){if(yr(i)&&!ix(i))return i;i=Ja(i)}return n}let r=h_(e,t);for(;r&&f6(r)&&ix(r);)r=h_(r,t);return r&&Lc(r)&&ix(r)&&!oj(r)?n:r||v6(e)||n}const I6=async function(e){const t=this.getOffsetParent||dE,n=this.getDimensions,r=await n(e.floating);return{reference:A6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R6(e){return wr(e).direction==="rtl"}const D6={convertOffsetParentRelativeRectToViewportRelativeRect:b6,getDocumentElement:si,getClippingRect:T6,getOffsetParent:dE,getElementRects:I6,getClientRects:N6,getDimensions:P6,getScale:ac,isElement:yr,isRTL:R6};function uE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function O6(e,t){let n=null,r;const i=si(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:m,width:p,height:y}=d;if(l||t(),!p||!y)return;const x=ff(m),g=ff(i.clientWidth-(h+p)),S=ff(i.clientHeight-(m+y)),w=ff(h),j={rootMargin:-x+"px "+-g+"px "+-S+"px "+-w+"px",threshold:ps(0,Za(1,c))||1};let P=!0;function E(O){const C=O[0].intersectionRatio;if(C!==c){if(!P)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!uE(d,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(E,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,j)}n.observe(e)}return o(!0),a}function M6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=cj(e),h=i||a?[...d?Ou(d):[],...Ou(t)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const m=d&&l?O6(d,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(w=>{let[v]=w;v&&v.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(t)})),n()}),d&&!c&&y.observe(d),y.observe(t));let x,g=c?il(e):null;c&&S();function S(){const w=il(e);g&&!uE(g,w)&&n(),g=w,x=requestAnimationFrame(S)}return n(),()=>{var w;h.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),m==null||m(),(w=y)==null||w.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const F6=o6,L6=l6,$6=r6,U6=d6,V6=i6,f_=s6,z6=c6,B6=(e,t,n)=>{const r=new Map,i={platform:D6,...n},a={...i.platform,_c:r};return n6(e,t,{...i,platform:a})};var W6=typeof document<"u",H6=function(){},Uf=W6?f.useLayoutEffect:H6;function Tm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Tm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Tm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function hE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function m_(e,t){const n=hE(e);return Math.round(t*n)/n}function ax(e){const t=f.useRef(e);return Uf(()=>{t.current=e}),t}function q6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,m]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=f.useState(r);Tm(p,r)||y(r);const[x,g]=f.useState(null),[S,w]=f.useState(null),v=f.useCallback(L=>{L!==O.current&&(O.current=L,g(L))},[]),j=f.useCallback(L=>{L!==C.current&&(C.current=L,w(L))},[]),P=a||x,E=o||S,O=f.useRef(null),C=f.useRef(null),N=f.useRef(h),_=c!=null,k=ax(c),R=ax(i),T=ax(d),I=f.useCallback(()=>{if(!O.current||!C.current)return;const L={placement:t,strategy:n,middleware:p};R.current&&(L.platform=R.current),B6(O.current,C.current,L).then(B=>{const le={...B,isPositioned:T.current!==!1};D.current&&!Tm(N.current,le)&&(N.current=le,vl.flushSync(()=>{m(le)}))})},[p,t,n,R,T]);Uf(()=>{d===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[d]);const D=f.useRef(!1);Uf(()=>(D.current=!0,()=>{D.current=!1}),[]),Uf(()=>{if(P&&(O.current=P),E&&(C.current=E),P&&E){if(k.current)return k.current(P,E,I);I()}},[P,E,I,k,_]);const q=f.useMemo(()=>({reference:O,floating:C,setReference:v,setFloating:j}),[v,j]),U=f.useMemo(()=>({reference:P,floating:E}),[P,E]),z=f.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const B=m_(U.floating,h.x),le=m_(U.floating,h.y);return l?{...L,transform:"translate("+B+"px, "+le+"px)",...hE(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:le}},[n,l,U.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:I,refs:q,elements:U,floatingStyles:z}),[h,I,q,U,z])}const K6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?f_({element:r.current,padding:i}).fn(n):{}:r?f_({element:r,padding:i}).fn(n):{}}}},G6=(e,t)=>({...F6(e),options:[e,t]}),Y6=(e,t)=>({...L6(e),options:[e,t]}),Q6=(e,t)=>({...z6(e),options:[e,t]}),X6=(e,t)=>({...$6(e),options:[e,t]}),Z6=(e,t)=>({...U6(e),options:[e,t]}),J6=(e,t)=>({...V6(e),options:[e,t]}),e3=(e,t)=>({...K6(e),options:[e,t]});var t3="Arrow",fE=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx($e.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});fE.displayName=t3;var n3=fE;function dj(e){const[t,n]=f.useState(void 0);return Zt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var uj="Popper",[mE,oo]=Fn(uj),[s3,pE]=mE(uj),gE=e=>{const{__scopePopper:t,children:n}=e,[r,i]=f.useState(null);return s.jsx(s3,{scope:t,anchor:r,onAnchorChange:i,children:n})};gE.displayName=uj;var xE="PopperAnchor",vE=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=pE(xE,n),o=f.useRef(null),l=Ye(t,o),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx($e.div,{...i,ref:l})});vE.displayName=xE;var hj="PopperContent",[r3,i3]=mE(hj),yE=f.forwardRef((e,t)=>{var X,Z,be,H,fe,ge;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:x,...g}=e,S=pE(hj,n),[w,v]=f.useState(null),j=Ye(t,ke=>v(ke)),[P,E]=f.useState(null),O=dj(P),C=(O==null?void 0:O.width)??0,N=(O==null?void 0:O.height)??0,_=r+(a!=="center"?"-"+a:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(d)?d:[d],T=R.length>0,I={padding:k,boundary:R.filter(o3),altBoundary:T},{refs:D,floatingStyles:q,placement:U,isPositioned:z,middlewareData:L}=q6({strategy:"fixed",placement:_,whileElementsMounted:(...ke)=>M6(...ke,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[G6({mainAxis:i+N,alignmentAxis:o}),c&&Y6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Q6():void 0,...I}),c&&X6({...I}),Z6({...I,apply:({elements:ke,rects:st,availableWidth:Be,availableHeight:Je})=>{const{width:ut,height:Jt}=st.reference,ct=ke.floating.style;ct.setProperty("--radix-popper-available-width",`${Be}px`),ct.setProperty("--radix-popper-available-height",`${Je}px`),ct.setProperty("--radix-popper-anchor-width",`${ut}px`),ct.setProperty("--radix-popper-anchor-height",`${Jt}px`)}}),P&&e3({element:P,padding:l}),l3({arrowWidth:C,arrowHeight:N}),p&&J6({strategy:"referenceHidden",...I})]}),[B,le]=bE(U),ce=Yt(x);Zt(()=>{z&&(ce==null||ce())},[z,ce]);const W=(X=L.arrow)==null?void 0:X.x,Ce=(Z=L.arrow)==null?void 0:Z.y,_e=((be=L.arrow)==null?void 0:be.centerOffset)!==0,[De,He]=f.useState();return Zt(()=>{w&&He(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(H=L.transformOrigin)==null?void 0:H.x,(fe=L.transformOrigin)==null?void 0:fe.y].join(" "),...((ge=L.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(r3,{scope:n,placedSide:B,onArrowChange:E,arrowX:W,arrowY:Ce,shouldHideArrow:_e,children:s.jsx($e.div,{"data-side":B,"data-align":le,...g,ref:j,style:{...g.style,animation:z?void 0:"none"}})})})});yE.displayName=hj;var wE="PopperArrow",a3={top:"bottom",right:"left",bottom:"top",left:"right"},jE=f.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=i3(wE,r),o=a3[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(n3,{...i,ref:n,style:{...i.style,display:"block"}})})});jE.displayName=wE;function o3(e){return e!==null}var l3=e=>({name:"transformOrigin",options:e,fn(t){var S,w,v;const{placement:n,rects:r,middlewareData:i}=t,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=bE(n),m={start:"0%",center:"50%",end:"100%"}[h],p=(((w=i.arrow)==null?void 0:w.x)??0)+l/2,y=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?m:`${p}px`,g=`${-c}px`):d==="top"?(x=o?m:`${p}px`,g=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?m:`${y}px`):d==="left"&&(x=`${r.floating.width+c}px`,g=o?m:`${y}px`),{data:{x,y:g}}}});function bE(e){const[t,n="center"]=e.split("-");return[t,n]}var fj=gE,ih=vE,Ip=yE,Rp=jE,c3=Symbol("radix.slottable");function d3(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=c3,t}var[Dp]=Fn("Tooltip",[oo]),mj=oo(),NE="TooltipProvider",u3=700,p_="tooltip.open",[h3,_E]=Dp(NE),SE=e=>{const{__scopeTooltip:t,delayDuration:n=u3,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(h3,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};SE.displayName=NE;var CE="Tooltip",[HQ,Op]=Dp(CE),oy="TooltipTrigger",f3=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Op(oy,n),a=_E(oy,n),o=mj(n),l=f.useRef(null),c=Ye(t,l,i.onTriggerChange),d=f.useRef(!1),h=f.useRef(!1),m=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(ih,{asChild:!0,...o,children:s.jsx($e.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:pe(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:pe(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:pe(e.onBlur,i.onClose),onClick:pe(e.onClick,i.onClose)})})});f3.displayName=oy;var m3="TooltipPortal",[qQ,p3]=Dp(m3,{forceMount:void 0}),$c="TooltipContent",kE=f.forwardRef((e,t)=>{const n=p3($c,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=Op($c,e.__scopeTooltip);return s.jsx(xn,{present:r||o.open,children:o.disableHoverableContent?s.jsx(EE,{side:i,...a,ref:t}):s.jsx(g3,{side:i,...a,ref:t})})}),g3=f.forwardRef((e,t)=>{const n=Op($c,e.__scopeTooltip),r=_E($c,e.__scopeTooltip),i=f.useRef(null),a=Ye(t,i),[o,l]=f.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:m}=r,p=f.useCallback(()=>{l(null),m(!1)},[m]),y=f.useCallback((x,g)=>{const S=x.currentTarget,w={x:x.clientX,y:x.clientY},v=j3(w,S.getBoundingClientRect()),j=b3(w,v),P=N3(g.getBoundingClientRect()),E=S3([...j,...P]);l(E),m(!0)},[m]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(c&&h){const x=S=>y(S,h),g=S=>y(S,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",g)}}},[c,h,y,p]),f.useEffect(()=>{if(o){const x=g=>{const S=g.target,w={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(S))||(h==null?void 0:h.contains(S)),j=!_3(w,o);v?p():j&&(p(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,d,p]),s.jsx(EE,{...e,ref:a})}),[x3,v3]=Dp(CE,{isInside:!1}),y3=d3("TooltipContent"),EE=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Op($c,n),d=mj(n),{onClose:h}=c;return f.useEffect(()=>(document.addEventListener(p_,h),()=>document.removeEventListener(p_,h)),[h]),f.useEffect(()=>{if(c.trigger){const m=p=>{const y=p.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:s.jsxs(Ip,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(y3,{children:r}),s.jsx(x3,{scope:n,isInside:!0,children:s.jsx(fL,{id:c.contentId,role:"tooltip",children:i||r})})]})})});kE.displayName=$c;var TE="TooltipArrow",w3=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=mj(n);return v3(TE,n).isInside?null:s.jsx(Rp,{...i,...r,ref:t})});w3.displayName=TE;function j3(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b3(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function N3(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function _3(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,h=l.y,m=c.x,p=c.y;h>r!=p>r&&n<(m-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function S3(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),C3(t)}function C3(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var k3=SE,PE=kE;const E3=k3,T3=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(PE,{ref:r,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));T3.displayName=PE.displayName;const P3=()=>{};var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},A3=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],o=e[n++],l=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(p=64)),r.push(n[h],n[m],n[p],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(AE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):A3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const d=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new I3;const p=a<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class I3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R3=function(e){const t=AE(e);return IE.encodeByteArray(t,!0)},Pm=function(e){return R3(e).replace(/\./g,"")},RE=function(e){try{return IE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=()=>D3().__FIREBASE_DEFAULTS__,M3=()=>{if(typeof process>"u"||typeof g_>"u")return;const e=g_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},F3=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&RE(e[1]);return t&&JSON.parse(t)},pj=()=>{try{return P3()||O3()||M3()||F3()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},DE=e=>{var t,n;return(n=(t=pj())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},OE=e=>{const t=DE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ME=()=>{var e;return(e=pj())==null?void 0:e.config},FE=e=>{var t;return(t=pj())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gj(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Pm(JSON.stringify(n)),Pm(JSON.stringify(o)),""].join(".")}const iu={};function $3(){const e={prod:[],emulator:[]};for(const t of Object.keys(iu))iu[t]?e.emulator.push(t):e.prod.push(t);return e}function U3(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let x_=!1;function xj(e,t){if(typeof window>"u"||typeof document>"u"||!ld(window.location.host)||iu[e]===t||iu[e]||x_)return;iu[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=$3().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{x_=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=U3(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),g=n("learnmore"),S=document.getElementById(g)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const j=p.element;l(j),h(S,g);const P=d();c(v,w),j.append(v,x,S,P),document.body.appendChild(j)}a?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function z3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B3(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function W3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H3(){const e=Hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function q3(){try{return typeof indexedDB=="object"}catch{return!1}}function K3(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="FirebaseError";class ri extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=G3,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?Y3(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ri(i,l,r)}}function Y3(e,t){return e.replace(Q3,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Q3=/\{\$([^}]+)}/g;function X3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function al(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],o=t[i];if(v_(a)&&v_(o)){if(!al(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function v_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Z3(e,t){const n=new J3(e,t);return n.subscribe.bind(n)}class J3{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=ox),i.error===void 0&&(i.error=ox),i.complete===void 0&&(i.complete=ox);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ox(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e){return e&&e._delegate?e._delegate:e}class eo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new L3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(s$(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=_o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_o){return this.instances.has(t)}getOptions(t=_o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_o){return this.component?this.component.multipleInstances?t:_o:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n$(e){return e===_o?void 0:e}function s$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new t$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));const i$={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},a$=St.INFO,o$={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},l$=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=o$[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vj{constructor(t){this.name=t,this._logLevel=a$,this._logHandler=l$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?i$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}}const c$=(e,t)=>t.some(n=>e instanceof n);let y_,w_;function d$(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u$(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,ly=new WeakMap,UE=new WeakMap,lx=new WeakMap,yj=new WeakMap;function h$(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Ha(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&$E.set(n,e)}).catch(()=>{}),yj.set(t,e),t}function f$(e){if(ly.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});ly.set(e,t)}let cy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ly.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UE.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ha(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function m$(e){cy=e(cy)}function p$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(cx(this),t,...n);return UE.set(r,t.sort?t.sort():[t]),Ha(r)}:u$().includes(e)?function(...t){return e.apply(cx(this),t),Ha($E.get(this))}:function(...t){return Ha(e.apply(cx(this),t))}}function g$(e){return typeof e=="function"?p$(e):(e instanceof IDBTransaction&&f$(e),c$(e,d$())?new Proxy(e,cy):e)}function Ha(e){if(e instanceof IDBRequest)return h$(e);if(lx.has(e))return lx.get(e);const t=g$(e);return t!==e&&(lx.set(e,t),yj.set(t,e)),t}const cx=e=>yj.get(e);function x$(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=Ha(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ha(o.result),c.oldVersion,c.newVersion,Ha(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const v$=["get","getKey","getAll","getAllKeys","count"],y$=["put","add","delete","clear"],dx=new Map;function j_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dx.get(t))return dx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=y$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v$.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return dx.set(t,a),a}m$(e=>({...e,get:(t,n,r)=>j_(t,n)||e.get(t,n,r),has:(t,n)=>!!j_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dy="@firebase/app",b_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new vj("@firebase/app"),b$="@firebase/app-compat",N$="@firebase/analytics-compat",_$="@firebase/analytics",S$="@firebase/app-check-compat",C$="@firebase/app-check",k$="@firebase/auth",E$="@firebase/auth-compat",T$="@firebase/database",P$="@firebase/data-connect",A$="@firebase/database-compat",I$="@firebase/functions",R$="@firebase/functions-compat",D$="@firebase/installations",O$="@firebase/installations-compat",M$="@firebase/messaging",F$="@firebase/messaging-compat",L$="@firebase/performance",$$="@firebase/performance-compat",U$="@firebase/remote-config",V$="@firebase/remote-config-compat",z$="@firebase/storage",B$="@firebase/storage-compat",W$="@firebase/firestore",H$="@firebase/ai",q$="@firebase/firestore-compat",K$="firebase",G$="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",Y$={[dy]:"fire-core",[b$]:"fire-core-compat",[_$]:"fire-analytics",[N$]:"fire-analytics-compat",[C$]:"fire-app-check",[S$]:"fire-app-check-compat",[k$]:"fire-auth",[E$]:"fire-auth-compat",[T$]:"fire-rtdb",[P$]:"fire-data-connect",[A$]:"fire-rtdb-compat",[I$]:"fire-fn",[R$]:"fire-fn-compat",[D$]:"fire-iid",[O$]:"fire-iid-compat",[M$]:"fire-fcm",[F$]:"fire-fcm-compat",[L$]:"fire-perf",[$$]:"fire-perf-compat",[U$]:"fire-rc",[V$]:"fire-rc-compat",[z$]:"fire-gcs",[B$]:"fire-gcs-compat",[W$]:"fire-fst",[q$]:"fire-fst-compat",[H$]:"fire-vertex","fire-js":"fire-js",[K$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map,Q$=new Map,hy=new Map;function N_(e,t){try{e.container.addComponent(t)}catch(n){Vi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ol(e){const t=e.name;if(hy.has(t))return Vi.debug(`There were multiple attempts to register component ${t}.`),!1;hy.set(t,e);for(const n of Am.values())N_(n,e);for(const n of Q$.values())N_(n,e);return!0}function Mp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new ah("app","Firebase",X$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=G$;function VE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:uy,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw qa.create("bad-app-name",{appName:String(i)});if(n||(n=ME()),!n)throw qa.create("no-options");const a=Am.get(i);if(a){if(al(n,a.options)&&al(r,a.config))return a;throw qa.create("duplicate-app",{appName:i})}const o=new r$(i);for(const c of hy.values())o.addComponent(c);const l=new Z$(n,r,o);return Am.set(i,l),l}function wj(e=uy){const t=Am.get(e);if(!t&&e===uy&&ME())return VE();if(!t)throw qa.create("no-app",{appName:e});return t}function qr(e,t,n){let r=Y$[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vi.warn(o.join(" "));return}ol(new eo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="firebase-heartbeat-database",e9=1,Mu="firebase-heartbeat-store";let ux=null;function zE(){return ux||(ux=x$(J$,e9,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Mu)}catch(n){console.warn(n)}}}}).catch(e=>{throw qa.create("idb-open",{originalErrorMessage:e.message})})),ux}async function t9(e){try{const n=(await zE()).transaction(Mu),r=await n.objectStore(Mu).get(BE(e));return await n.done,r}catch(t){if(t instanceof ri)Vi.warn(t.message);else{const n=qa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vi.warn(n.message)}}}async function __(e,t){try{const r=(await zE()).transaction(Mu,"readwrite");await r.objectStore(Mu).put(t,BE(e)),await r.done}catch(n){if(n instanceof ri)Vi.warn(n.message);else{const r=qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function BE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=1024,s9=30;class r9{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=S_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>s9){const o=o9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S_(),{heartbeatsToSend:r,unsentEntries:i}=i9(this._heartbeatsCache.heartbeats),a=Pm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Vi.warn(n),""}}}function S_(){return new Date().toISOString().substring(0,10)}function i9(e,t=n9){const n=[];let r=e.slice();for(const i of e){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),C_(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q3()?K3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return __(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function C_(e){return Pm(JSON.stringify({version:2,heartbeats:e})).length}function o9(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e){ol(new eo("platform-logger",t=>new w$(t),"PRIVATE")),ol(new eo("heartbeat",t=>new r9(t),"PRIVATE")),qr(dy,b_,e),qr(dy,b_,"esm2020"),qr("fire-js","")}l9("");var c9="firebase",d9="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(c9,d9,"app");function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u9=WE,HE=new ah("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new vj("@firebase/auth");function h9(e,...t){Im.logLevel<=St.WARN&&Im.warn(`Auth (${bl}): ${e}`,...t)}function Vf(e,...t){Im.logLevel<=St.ERROR&&Im.error(`Auth (${bl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e,...t){throw bj(e,...t)}function mr(e,...t){return bj(e,...t)}function jj(e,t,n){const r={...u9(),[t]:n};return new ah("auth","Firebase",r).create(t,{appName:e.name})}function Ka(e){return jj(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qE(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Xr(e,"argument-error"),jj(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bj(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return HE.create(e,...t)}function qe(e,t,...n){if(!e)throw bj(t,...n)}function Ei(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vf(t),new Error(t)}function zi(e,t){e||Ei(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function f9(){return k_()==="http:"||k_()==="https:"}function k_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f9()||B3()||"connection"in navigator)?navigator.onLine:!0}function p9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n){this.shortDelay=t,this.longDelay=n,zi(n>t,"Short delay should be less than long delay!"),this.isMobile=V3()||W3()}get(){return m9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(e,t){zi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v9=new lh(3e4,6e4);function _j(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function cd(e,t,n,r,i={}){return GE(e,i,async()=>{let a={},o={};r&&(t==="GET"?o=r:a={body:JSON.stringify(r)});const l=oh({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:c,...a};return z3()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&ld(e.emulatorConfig.host)&&(d.credentials="include"),KE.fetch()(await YE(e,e.config.apiHost,n,l),d)})}async function GE(e,t,n){e._canInitEmulator=!1;const r={...g9,...t};try{const i=new w9(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw mf(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw mf(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw mf(e,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw jj(e,h,d);Xr(e,h)}}catch(i){if(i instanceof ri)throw i;Xr(e,"network-request-failed",{message:String(i)})}}async function y9(e,t,n,r,i={}){const a=await cd(e,t,n,r,i);return"mfaPendingCredential"in a&&Xr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function YE(e,t,n,r){const i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Nj(e.config,i):`${e.config.apiScheme}://${i}`;return x9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class w9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),v9.get())})}}function mf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(e,t){return cd(e,"POST","/v1/accounts:delete",t)}async function Rm(e,t){return cd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function b9(e,t=!1){const n=Yi(e),r=await n.getIdToken(t),i=Sj(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:au(hx(i.auth_time)),issuedAtTime:au(hx(i.iat)),expirationTime:au(hx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hx(e){return Number(e)*1e3}function Sj(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=RE(n);return i?JSON.parse(i):(Vf("Failed to decode base64 JWT payload"),null)}catch(i){return Vf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E_(e){const t=Sj(e);return qe(t,"internal-error"),qe(typeof t.exp<"u","internal-error"),qe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ri&&N9(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function N9({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(e){var m;const t=e.auth,n=await e.getIdToken(),r=await Fu(e,Rm(t,{idToken:n}));qe(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?QE(i.providerUserInfo):[],o=C9(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new my(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function S9(e){const t=Yi(e);await Dm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function C9(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function QE(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(e,t){const n=await GE(e,{},async()=>{const r=oh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=await YE(e,i,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return e.emulatorConfig&&ld(e.emulatorConfig.host)&&(c.credentials="include"),KE.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E9(e,t){return cd(e,"POST","/v2/accounts:revokeToken",_j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qe(t.idToken,"internal-error"),qe(typeof t.idToken<"u","internal-error"),qe(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){qe(t.length!==0,"internal-error");const n=E_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await k9(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new oc;return r&&(qe(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(qe(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(e,t){qe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class cr{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new _9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new my(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,t));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return b9(this,t)}reload(){return S9(this)}_assign(t){this!==t&&(qe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new cr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Ka(this.auth));const t=await this.getIdToken();return await Fu(this,j9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:x,stsTokenManager:g}=n;qe(m&&g,t,"internal-error");const S=oc.fromJSON(this.name,g);qe(typeof m=="string",t,"internal-error"),ca(r,t.name),ca(i,t.name),qe(typeof p=="boolean",t,"internal-error"),qe(typeof y=="boolean",t,"internal-error"),ca(a,t.name),ca(o,t.name),ca(l,t.name),ca(c,t.name),ca(d,t.name),ca(h,t.name);const w=new cr({uid:m,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:S,createdAt:d,lastLoginAt:h});return x&&Array.isArray(x)&&(w.providerData=x.map(v=>({...v}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(t,n,r=!1){const i=new oc;i.updateFromServerResponse(n);const a=new cr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Dm(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?QE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new oc;l.updateFromIdToken(r);const c=new cr({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new my(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map;function Ti(e){zi(e instanceof Function,"Expected a class definition");let t=T_.get(e);return t?(zi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,T_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XE.type="NONE";const P_=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e,t,n){return`firebase:${e}:${t}:${n}`}class lc{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=zf(this.userKey,i.apiKey,a),this.fullPersistenceKey=zf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rm(this.auth,{idToken:t}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,t):null}return cr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new lc(Ti(P_),t,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Ti(P_);const o=zf(r,t.config.apiKey,t.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const p=await Rm(t,{idToken:h}).catch(()=>{});if(!p)break;m=await cr._fromGetAccountInfoResponse(t,p,h)}else m=cr._fromJSON(t,h);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new lc(a,t,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new lc(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sT(t))return"Blackberry";if(rT(t))return"Webos";if(JE(t))return"Safari";if((t.includes("chrome/")||eT(t))&&!t.includes("edge/"))return"Chrome";if(nT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZE(e=Hn()){return/firefox\//i.test(e)}function JE(e=Hn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eT(e=Hn()){return/crios\//i.test(e)}function tT(e=Hn()){return/iemobile/i.test(e)}function nT(e=Hn()){return/android/i.test(e)}function sT(e=Hn()){return/blackberry/i.test(e)}function rT(e=Hn()){return/webos/i.test(e)}function Cj(e=Hn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function T9(e=Hn()){var t;return Cj(e)&&!!((t=window.navigator)!=null&&t.standalone)}function P9(){return H3()&&document.documentMode===10}function iT(e=Hn()){return Cj(e)||nT(e)||rT(e)||sT(e)||/windows phone/i.test(e)||tT(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e,t=[]){let n;switch(e){case"Browser":n=A_(Hn());break;case"Worker":n=`${A_(Hn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(e,t={}){return cd(e,"GET","/v2/passwordPolicy",_j(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=6;class D9{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new A9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await lc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rm(this,{idToken:t}),r=await cr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(gs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dm(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gs(this.app))return Promise.reject(Ka(this));const n=t?Yi(t):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&qe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gs(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await I9(this),n=new D9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ah("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E9(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ti(t)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&h9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dd(e){return Yi(e)}class I_{constructor(t){this.auth=t,this.observer=null,this.addObserver=Z3(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M9(e){kj=e}function F9(e){return kj.loadJS(e)}function L9(){return kj.gapiScript}function $9(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(e,t){const n=Mp(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(al(a,t??{}))return i;Xr(i,"already-initialized")}return n.initialize({options:t})}function V9(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function z9(e,t,n){const r=dd(e);qe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=oT(t),{host:o,port:l}=B9(t),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(al(d,r.config.emulator)&&al(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ld(o)?(gj(`${a}//${o}${c}`),xj("Auth",!0)):W9()}function oT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function B9(e){const t=oT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:R_(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:R_(o)}}}function R_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function W9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(t){return Ei("not implemented")}_linkToIdToken(t,n){return Ei("not implemented")}_getReauthenticationResolver(t){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(e,t){return y9(e,"POST","/v1/accounts:signInWithIdp",_j(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="http://localhost";class Bi extends lT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Bi(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return cc(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,cc(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,cc(t,n)}buildRequest(){const t={requestUri:H9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=oh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ou extends ud{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return qe("providerId"in n&&"signInMethod"in n,"argument-error"),Bi._fromParams(n)}credential(t){return this._credential({...t,nonce:t.rawNonce})}_credential(t){return qe(t.idToken||t.accessToken,"argument-error"),Bi._fromParams({...t,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(t){return ou.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return ou.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:o,providerId:l}=t;if(!r&&!i&&!n&&!a||!l)return null;try{return new ou(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends ud{constructor(){super("facebook.com")}static credential(t){return Bi._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ya.credentialFromTaggedObject(t)}static credentialFromError(t){return ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ya.credential(t.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends ud{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bi._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends ud{constructor(){super("github.com")}static credential(t){return Bi._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wa.credentialFromTaggedObject(t)}static credentialFromError(t){return wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wa.credential(t.oauthAccessToken)}catch{return null}}}wa.GITHUB_SIGN_IN_METHOD="github.com";wa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends ud{constructor(){super("twitter.com")}static credential(t,n){return Bi._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await cr._fromIdTokenResponse(t,r,i),o=D_(r);return new Uc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=D_(r);return new Uc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function D_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends ri{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Om(t,n,r,i)}}function cT(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(e,a,t,r):a})}async function q9(e,t,n=!1){const r=await Fu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Uc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(e,t,n=!1){const{auth:r}=e;if(gs(r.app))return Promise.reject(Ka(r));const i="reauthenticate";try{const a=await Fu(e,cT(r,i,t,e),n);qe(a.idToken,r,"internal-error");const o=Sj(a.idToken);qe(o,r,"internal-error");const{sub:l}=o;return qe(e.uid===l,r,"user-mismatch"),Uc._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Xr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(e,t,n=!1){if(gs(e.app))return Promise.reject(Ka(e));const r="signIn",i=await cT(e,r,t),a=await Uc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function Y9(e,t,n,r){return Yi(e).onIdTokenChanged(t,n,r)}function Q9(e,t,n){return Yi(e).beforeAuthStateChanged(t,n)}function X9(e,t,n,r){return Yi(e).onAuthStateChanged(t,n,r)}function Z9(e){return Yi(e).signOut()}const Mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1e3,e8=10;class uT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);P9()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,e8):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uT.type="LOCAL";const t8=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}hT.type="SESSION";const fT=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Lp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await n8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Ej("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(p.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function r8(e){Kr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function i8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function a8(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function o8(){return mT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebaseLocalStorageDb",l8=1,Fm="firebaseLocalStorage",gT="fbase_key";class ch{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $p(e,t){return e.transaction([Fm],t?"readwrite":"readonly").objectStore(Fm)}function c8(){const e=indexedDB.deleteDatabase(pT);return new ch(e).toPromise()}function py(){const e=indexedDB.open(pT,l8);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Fm,{keyPath:gT})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Fm)?t(r):(r.close(),await c8(),t(await py()))})})}async function O_(e,t,n){const r=$p(e,!0).put({[gT]:t,value:n});return new ch(r).toPromise()}async function d8(e,t){const n=$p(e,!1).get(t),r=await new ch(n).toPromise();return r===void 0?null:r.value}function M_(e,t){const n=$p(e,!0).delete(t);return new ch(n).toPromise()}const u8=800,h8=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>h8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lp._getInstance(o8()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await i8(),!this.activeServiceWorker)return;this.sender=new s8(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||a8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await py();return await O_(t,Mm,"1"),await M_(t,Mm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>d8(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=$p(i,!1).getAll();return new ch(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const f8=xT;new lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(e,t){return t?Ti(t):(qe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj extends lT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return cc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return cc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function m8(e){return G9(e.auth,new Pj(e),e.bypassAuthState)}function p8(e){const{auth:t,user:n}=e;return qe(n,t,"internal-error"),K9(n,new Pj(e),e.bypassAuthState)}async function g8(e){const{auth:t,user:n}=e;return qe(n,t,"internal-error"),q9(n,new Pj(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return m8;case"linkViaPopup":case"linkViaRedirect":return g8;case"reauthViaPopup":case"reauthViaRedirect":return p8;default:Xr(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=new lh(2e3,1e4);async function yT(e,t,n){if(gs(e.app))return Promise.reject(mr(e,"operation-not-supported-in-this-environment"));const r=dd(e);qE(e,t,Fp);const i=Tj(r,n);return new Oo(r,"signInViaPopup",t,i).executeNotNull()}class Oo extends vT{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qe(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=Ej();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,x8.get())};t()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="pendingRedirect",Bf=new Map;class y8 extends vT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Bf.get(this.auth._key());if(!t){try{const r=await w8(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Bf.set(this.auth._key(),t)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w8(e,t){const n=jT(t),r=wT(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function j8(e,t){return wT(e)._set(jT(t),"true")}function b8(e,t){Bf.set(e._key(),t)}function wT(e){return Ti(e._redirectPersistence)}function jT(e){return zf(v8,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(e,t,n){return N8(e,t,n)}async function N8(e,t,n){if(gs(e.app))return Promise.reject(Ka(e));const r=dd(e);qE(e,t,Fp),await r._initializationPromise;const i=Tj(r,n);return await j8(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function _8(e,t){return await dd(e)._initializationPromise,NT(e,t,!1)}async function NT(e,t,n=!1){if(gs(e.app))return Promise.reject(Ka(e));const r=dd(e),i=Tj(r,t),o=await new y8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=10*60*1e3;class C8{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!k8(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!_T(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=S8&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(t))}saveEventToCache(t){this.cachedEventUids.add(F_(t)),this.lastProcessedEventTime=Date.now()}}function F_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _T({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function k8(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(e,t={}){return cd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P8=/^https?/;async function A8(e){if(e.config.emulator)return;const{authorizedDomains:t}=await E8(e);for(const n of t)try{if(I8(n))return}catch{}Xr(e,"unauthorized-domain")}function I8(e){const t=fy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P8.test(n))return!1;if(T8.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new lh(3e4,6e4);function L_(){const e=Kr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function D8(e){return new Promise((t,n)=>{var i,a,o;function r(){L_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(mr(e,"network-request-failed"))},timeout:R8.get()})}if((a=(i=Kr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((o=Kr().gapi)!=null&&o.load)r();else{const l=$9("iframefcb");return Kr()[l]=()=>{gapi.load?r():n(mr(e,"network-request-failed"))},F9(`${L9()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Wf=null,t})}let Wf=null;function O8(e){return Wf=Wf||D8(e),Wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new lh(5e3,15e3),F8="__/auth/iframe",L8="emulator/auth/iframe",$8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V8(e){const t=e.config;qe(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nj(t,L8):`https://${e.config.authDomain}/${F8}`,r={apiKey:t.apiKey,appName:e.name,v:bl},i=U8.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${oh(r).slice(1)}`}async function z8(e){const t=await O8(e),n=Kr().gapi;return qe(n,e,"internal-error"),t.open({where:document.body,url:V8(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$8,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=mr(e,"network-request-failed"),l=Kr().setTimeout(()=>{a(o)},M8.get());function c(){Kr().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W8=500,H8=600,q8="_blank",K8="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G8(e,t,n,r=W8,i=H8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...B8,width:r.toString(),height:i.toString(),top:a,left:o},d=Hn().toLowerCase();n&&(l=eT(d)?q8:n),ZE(d)&&(t=t||K8,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(T9(d)&&l!=="_self")return Y8(t||"",l),new $_(null);const m=window.open(t||"",l,h);qe(m,e,"popup-blocked");try{m.focus()}catch{}return new $_(m)}function Y8(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="__/auth/handler",X8="emulator/auth/handler",Z8=encodeURIComponent("fac");async function U_(e,t,n,r,i,a){qe(e.config.authDomain,e,"auth-domain-config-required"),qe(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bl,eventId:i};if(t instanceof Fp){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",X3(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(t instanceof ud){const h=t.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await e._getAppCheckToken(),d=c?`#${Z8}=${encodeURIComponent(c)}`:"";return`${J8(e)}?${oh(l).slice(1)}${d}`}function J8({config:e}){return e.emulator?Nj(e,X8):`https://${e.authDomain}/${Q8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="webStorageSupport";class eU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=NT,this._overrideRedirectResult=b8}async _openPopup(t,n,r,i){var o;zi((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await U_(t,n,r,fy(),i);return G8(t,a,Ej())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await U_(t,n,r,fy(),i);return r8(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(zi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await z8(t),r=new C8(t);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fx,{type:fx},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[fx];a!==void 0&&n(!!a),Xr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A8(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iT()||JE()||Cj()}}const tU=eU;var V_="@firebase/auth",z_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rU(e){ol(new eo("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(e)},d=new O9(r,i,a,c);return V9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ol(new eo("auth-internal",t=>{const n=dd(t.getProvider("auth").getImmediate());return(r=>new nU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(V_,z_,sU(e)),qr(V_,z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=5*60,aU=FE("authIdTokenMaxAge")||iU;let B_=null;const oU=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aU)return;const i=n==null?void 0:n.token;B_!==i&&(B_=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lU(e=wj()){const t=Mp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=U9(e,{popupRedirectResolver:tU,persistence:[f8,t8,fT]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=oU(a.toString());Q9(n,o,()=>o(n.currentUser)),Y9(n,l=>o(l))}}const i=DE("auth");return i&&z9(n,`http://${i}`),n}function cU(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}M9({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=mr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",cU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rU("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebasestorage.googleapis.com",dU="storageBucket",uU=2*60*1e3,hU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends ri{constructor(t,n,r=0){super(mx(t),`Firebase Storage: ${n} (${mx(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return mx(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zr||(Zr={}));function mx(e){return"storage/"+e}function fU(){const e="An unknown error occurred, please check the error payload for server response.";return new ii(Zr.UNKNOWN,e)}function mU(){return new ii(Zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pU(){return new ii(Zr.CANCELED,"User canceled the upload/download.")}function gU(e){return new ii(Zr.INVALID_URL,"Invalid URL '"+e+"'.")}function xU(e){return new ii(Zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function W_(e){return new ii(Zr.INVALID_ARGUMENT,e)}function CT(){return new ii(Zr.APP_DELETED,"The Firebase app was deleted.")}function vU(e){return new ii(Zr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=dr.makeFromUrl(t,n)}catch{return new dr(t,"")}if(r.path==="")return r;throw xU(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},g=n===ST?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",w=new RegExp(`^https?://${g}/${i}/${S}`,"i"),j=[{regex:l,indices:c,postModify:a},{regex:y,indices:x,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<j.length;P++){const E=j[P],O=E.regex.exec(t);if(O){const C=O[E.indices.bucket];let N=O[E.indices.path];N||(N=""),r=new dr(C,N),E.postModify(r);break}}if(r==null)throw gU(t);return r}}class yU{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(e,t,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...S){d||(d=!0,t.apply(null,S))}function m(S){i=setTimeout(()=>{i=null,e(y,c())},S)}function p(){a&&clearTimeout(a)}function y(S,...w){if(d){p();return}if(S){p(),h.call(null,S,...w);return}if(c()||o){p(),h.call(null,S,...w);return}r<64&&(r*=2);let j;l===1?(l=2,j=0):j=(r+Math.random())*1e3,m(j)}let x=!1;function g(S){x||(x=!0,p(),!d&&(i!==null?(S||(l=2),clearTimeout(i),m(0)):S||(l=1)))}return m(0),a=setTimeout(()=>{o=!0,g(!0)},n),g}function jU(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(e){return e!==void 0}function H_(e,t,n,r){if(r<t)throw W_(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw W_(`Invalid value for '${e}'. Expected ${n} or less.`)}function NU(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Lm;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Lm||(Lm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(t,n,r,i,a,o,l,c,d,h,m,p=!0,y=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,g)=>{this.resolve_=x,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new pf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Lm.NO_ERROR,c=a.getStatus();if(!l||_U(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Lm.ABORT;r(!1,new pf(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new pf(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());bU(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=fU();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?CT():pU();o(c)}else{const c=mU();o(c)}};this.canceled_?n(!1,new pf(!1,null,!0)):this.backoffId_=wU(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pf{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function CU(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function kU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function EU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function TU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function PU(e,t,n,r,i,a,o=!0,l=!1){const c=NU(e.urlParams),d=e.url+c,h=Object.assign({},e.headers);return EU(h,t),CU(h,n),kU(h,a),TU(h,r),new SU(d,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function IU(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){this._service=t,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $m(t,n)}get root(){const t=new dr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IU(this._location.path)}get storage(){return this._service}get parent(){const t=AU(this._location.path);if(t===null)return null;const n=new dr(this._location.bucket,t);return new $m(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw vU(t)}}function q_(e,t){const n=t==null?void 0:t[dU];return n==null?null:dr.makeFromBucketSpec(n,e)}function RU(e,t,n,r={}){e.host=`${t}:${n}`;const i=ld(t);i&&(gj(`https://${e.host}/b`),xj("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:LE(a,e.app.options.projectId))}class DU{constructor(t,n,r,i,a,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=ST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uU,this._maxUploadRetryTime=hU,this._requests=new Set,i!=null?this._bucket=dr.makeFromBucketSpec(i,this._host):this._bucket=q_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,t):this._bucket=q_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){H_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){H_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $m(this,t)}_makeRequest(t,n,r,i,a=!0){if(this._deleted)return new yU(CT());{const o=PU(t,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const K_="@firebase/storage",G_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="storage";function OU(e=wj(),t){e=Yi(e);const r=Mp(e,kT).getImmediate({identifier:t}),i=OE("storage");return i&&MU(r,...i),r}function MU(e,t,n,r={}){RU(e,t,n,r)}function FU(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new DU(n,r,i,t,bl)}function LU(){ol(new eo(kT,FU,"PUBLIC").setMultipleInstances(!0)),qr(K_,G_,""),qr(K_,G_,"esm2020")}LU();var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aj;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,N){function _(){}_.prototype=N.prototype,C.F=N.prototype,C.prototype=new _,C.prototype.constructor=C,C.D=function(k,R,T){for(var I=Array(arguments.length-2),D=2;D<arguments.length;D++)I[D-2]=arguments[D];return N.prototype[R].apply(k,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,N,_){_||(_=0);const k=Array(16);if(typeof N=="string")for(var R=0;R<16;++R)k[R]=N.charCodeAt(_++)|N.charCodeAt(_++)<<8|N.charCodeAt(_++)<<16|N.charCodeAt(_++)<<24;else for(R=0;R<16;++R)k[R]=N[_++]|N[_++]<<8|N[_++]<<16|N[_++]<<24;N=C.g[0],_=C.g[1],R=C.g[2];let T=C.g[3],I;I=N+(T^_&(R^T))+k[0]+3614090360&4294967295,N=_+(I<<7&4294967295|I>>>25),I=T+(R^N&(_^R))+k[1]+3905402710&4294967295,T=N+(I<<12&4294967295|I>>>20),I=R+(_^T&(N^_))+k[2]+606105819&4294967295,R=T+(I<<17&4294967295|I>>>15),I=_+(N^R&(T^N))+k[3]+3250441966&4294967295,_=R+(I<<22&4294967295|I>>>10),I=N+(T^_&(R^T))+k[4]+4118548399&4294967295,N=_+(I<<7&4294967295|I>>>25),I=T+(R^N&(_^R))+k[5]+1200080426&4294967295,T=N+(I<<12&4294967295|I>>>20),I=R+(_^T&(N^_))+k[6]+2821735955&4294967295,R=T+(I<<17&4294967295|I>>>15),I=_+(N^R&(T^N))+k[7]+4249261313&4294967295,_=R+(I<<22&4294967295|I>>>10),I=N+(T^_&(R^T))+k[8]+1770035416&4294967295,N=_+(I<<7&4294967295|I>>>25),I=T+(R^N&(_^R))+k[9]+2336552879&4294967295,T=N+(I<<12&4294967295|I>>>20),I=R+(_^T&(N^_))+k[10]+4294925233&4294967295,R=T+(I<<17&4294967295|I>>>15),I=_+(N^R&(T^N))+k[11]+2304563134&4294967295,_=R+(I<<22&4294967295|I>>>10),I=N+(T^_&(R^T))+k[12]+1804603682&4294967295,N=_+(I<<7&4294967295|I>>>25),I=T+(R^N&(_^R))+k[13]+4254626195&4294967295,T=N+(I<<12&4294967295|I>>>20),I=R+(_^T&(N^_))+k[14]+2792965006&4294967295,R=T+(I<<17&4294967295|I>>>15),I=_+(N^R&(T^N))+k[15]+1236535329&4294967295,_=R+(I<<22&4294967295|I>>>10),I=N+(R^T&(_^R))+k[1]+4129170786&4294967295,N=_+(I<<5&4294967295|I>>>27),I=T+(_^R&(N^_))+k[6]+3225465664&4294967295,T=N+(I<<9&4294967295|I>>>23),I=R+(N^_&(T^N))+k[11]+643717713&4294967295,R=T+(I<<14&4294967295|I>>>18),I=_+(T^N&(R^T))+k[0]+3921069994&4294967295,_=R+(I<<20&4294967295|I>>>12),I=N+(R^T&(_^R))+k[5]+3593408605&4294967295,N=_+(I<<5&4294967295|I>>>27),I=T+(_^R&(N^_))+k[10]+38016083&4294967295,T=N+(I<<9&4294967295|I>>>23),I=R+(N^_&(T^N))+k[15]+3634488961&4294967295,R=T+(I<<14&4294967295|I>>>18),I=_+(T^N&(R^T))+k[4]+3889429448&4294967295,_=R+(I<<20&4294967295|I>>>12),I=N+(R^T&(_^R))+k[9]+568446438&4294967295,N=_+(I<<5&4294967295|I>>>27),I=T+(_^R&(N^_))+k[14]+3275163606&4294967295,T=N+(I<<9&4294967295|I>>>23),I=R+(N^_&(T^N))+k[3]+4107603335&4294967295,R=T+(I<<14&4294967295|I>>>18),I=_+(T^N&(R^T))+k[8]+1163531501&4294967295,_=R+(I<<20&4294967295|I>>>12),I=N+(R^T&(_^R))+k[13]+2850285829&4294967295,N=_+(I<<5&4294967295|I>>>27),I=T+(_^R&(N^_))+k[2]+4243563512&4294967295,T=N+(I<<9&4294967295|I>>>23),I=R+(N^_&(T^N))+k[7]+1735328473&4294967295,R=T+(I<<14&4294967295|I>>>18),I=_+(T^N&(R^T))+k[12]+2368359562&4294967295,_=R+(I<<20&4294967295|I>>>12),I=N+(_^R^T)+k[5]+4294588738&4294967295,N=_+(I<<4&4294967295|I>>>28),I=T+(N^_^R)+k[8]+2272392833&4294967295,T=N+(I<<11&4294967295|I>>>21),I=R+(T^N^_)+k[11]+1839030562&4294967295,R=T+(I<<16&4294967295|I>>>16),I=_+(R^T^N)+k[14]+4259657740&4294967295,_=R+(I<<23&4294967295|I>>>9),I=N+(_^R^T)+k[1]+2763975236&4294967295,N=_+(I<<4&4294967295|I>>>28),I=T+(N^_^R)+k[4]+1272893353&4294967295,T=N+(I<<11&4294967295|I>>>21),I=R+(T^N^_)+k[7]+4139469664&4294967295,R=T+(I<<16&4294967295|I>>>16),I=_+(R^T^N)+k[10]+3200236656&4294967295,_=R+(I<<23&4294967295|I>>>9),I=N+(_^R^T)+k[13]+681279174&4294967295,N=_+(I<<4&4294967295|I>>>28),I=T+(N^_^R)+k[0]+3936430074&4294967295,T=N+(I<<11&4294967295|I>>>21),I=R+(T^N^_)+k[3]+3572445317&4294967295,R=T+(I<<16&4294967295|I>>>16),I=_+(R^T^N)+k[6]+76029189&4294967295,_=R+(I<<23&4294967295|I>>>9),I=N+(_^R^T)+k[9]+3654602809&4294967295,N=_+(I<<4&4294967295|I>>>28),I=T+(N^_^R)+k[12]+3873151461&4294967295,T=N+(I<<11&4294967295|I>>>21),I=R+(T^N^_)+k[15]+530742520&4294967295,R=T+(I<<16&4294967295|I>>>16),I=_+(R^T^N)+k[2]+3299628645&4294967295,_=R+(I<<23&4294967295|I>>>9),I=N+(R^(_|~T))+k[0]+4096336452&4294967295,N=_+(I<<6&4294967295|I>>>26),I=T+(_^(N|~R))+k[7]+1126891415&4294967295,T=N+(I<<10&4294967295|I>>>22),I=R+(N^(T|~_))+k[14]+2878612391&4294967295,R=T+(I<<15&4294967295|I>>>17),I=_+(T^(R|~N))+k[5]+4237533241&4294967295,_=R+(I<<21&4294967295|I>>>11),I=N+(R^(_|~T))+k[12]+1700485571&4294967295,N=_+(I<<6&4294967295|I>>>26),I=T+(_^(N|~R))+k[3]+2399980690&4294967295,T=N+(I<<10&4294967295|I>>>22),I=R+(N^(T|~_))+k[10]+4293915773&4294967295,R=T+(I<<15&4294967295|I>>>17),I=_+(T^(R|~N))+k[1]+2240044497&4294967295,_=R+(I<<21&4294967295|I>>>11),I=N+(R^(_|~T))+k[8]+1873313359&4294967295,N=_+(I<<6&4294967295|I>>>26),I=T+(_^(N|~R))+k[15]+4264355552&4294967295,T=N+(I<<10&4294967295|I>>>22),I=R+(N^(T|~_))+k[6]+2734768916&4294967295,R=T+(I<<15&4294967295|I>>>17),I=_+(T^(R|~N))+k[13]+1309151649&4294967295,_=R+(I<<21&4294967295|I>>>11),I=N+(R^(_|~T))+k[4]+4149444226&4294967295,N=_+(I<<6&4294967295|I>>>26),I=T+(_^(N|~R))+k[11]+3174756917&4294967295,T=N+(I<<10&4294967295|I>>>22),I=R+(N^(T|~_))+k[2]+718787259&4294967295,R=T+(I<<15&4294967295|I>>>17),I=_+(T^(R|~N))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+T&4294967295}r.prototype.v=function(C,N){N===void 0&&(N=C.length);const _=N-this.blockSize,k=this.C;let R=this.h,T=0;for(;T<N;){if(R==0)for(;T<=_;)i(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<N;)if(k[R++]=C.charCodeAt(T++),R==this.blockSize){i(this,k),R=0;break}}else for(;T<N;)if(k[R++]=C[T++],R==this.blockSize){i(this,k),R=0;break}}this.h=R,this.o+=N},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var _=C.length-8;_<C.length;++_)C[_]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,_=0;_<4;++_)for(let k=0;k<32;k+=8)C[N++]=this.g[_]>>>k&255;return C};function a(C,N){var _=l;return Object.prototype.hasOwnProperty.call(_,C)?_[C]:_[C]=N(C)}function o(C,N){this.h=N;const _=[];let k=!0;for(let R=C.length-1;R>=0;R--){const T=C[R]|0;k&&T==N||(_[R]=T,k=!1)}this.g=_}var l={};function c(C){return-128<=C&&C<128?a(C,function(N){return new o([N|0],N<0?-1:0)}):new o([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return S(d(-C));const N=[];let _=1;for(let k=0;C>=_;k++)N[k]=C/_|0,_*=4294967296;return new o(N,0)}function h(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return S(h(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=d(Math.pow(N,8));let k=m;for(let T=0;T<C.length;T+=8){var R=Math.min(8,C.length-T);const I=parseInt(C.substring(T,T+R),N);R<8?(R=d(Math.pow(N,R)),k=k.j(R).add(d(I))):(k=k.j(_),k=k.add(d(I)))}return k}var m=c(0),p=c(1),y=c(16777216);e=o.prototype,e.m=function(){if(g(this))return-S(this).m();let C=0,N=1;for(let _=0;_<this.g.length;_++){const k=this.i(_);C+=(k>=0?k:4294967296+k)*N,N*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(g(this))return"-"+S(this).toString(C);const N=d(Math.pow(C,6));var _=this;let k="";for(;;){const R=P(_,N).g;_=w(_,R.j(N));let T=((_.g.length>0?_.g[0]:_.h)>>>0).toString(C);if(_=R,x(_))return T+k;for(;T.length<6;)T="0"+T;k=T+k}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function g(C){return C.h==-1}e.l=function(C){return C=w(this,C),g(C)?-1:x(C)?0:1};function S(C){const N=C.g.length,_=[];for(let k=0;k<N;k++)_[k]=~C.g[k];return new o(_,~C.h).add(p)}e.abs=function(){return g(this)?S(this):this},e.add=function(C){const N=Math.max(this.g.length,C.g.length),_=[];let k=0;for(let R=0;R<=N;R++){let T=k+(this.i(R)&65535)+(C.i(R)&65535),I=(T>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);k=I>>>16,T&=65535,I&=65535,_[R]=I<<16|T}return new o(_,_[_.length-1]&-2147483648?-1:0)};function w(C,N){return C.add(S(N))}e.j=function(C){if(x(this)||x(C))return m;if(g(this))return g(C)?S(this).j(S(C)):S(S(this).j(C));if(g(C))return S(this.j(S(C)));if(this.l(y)<0&&C.l(y)<0)return d(this.m()*C.m());const N=this.g.length+C.g.length,_=[];for(var k=0;k<2*N;k++)_[k]=0;for(k=0;k<this.g.length;k++)for(let R=0;R<C.g.length;R++){const T=this.i(k)>>>16,I=this.i(k)&65535,D=C.i(R)>>>16,q=C.i(R)&65535;_[2*k+2*R]+=I*q,v(_,2*k+2*R),_[2*k+2*R+1]+=T*q,v(_,2*k+2*R+1),_[2*k+2*R+1]+=I*D,v(_,2*k+2*R+1),_[2*k+2*R+2]+=T*D,v(_,2*k+2*R+2)}for(C=0;C<N;C++)_[C]=_[2*C+1]<<16|_[2*C];for(C=N;C<2*N;C++)_[C]=0;return new o(_,0)};function v(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function j(C,N){this.g=C,this.h=N}function P(C,N){if(x(N))throw Error("division by zero");if(x(C))return new j(m,m);if(g(C))return N=P(S(C),N),new j(S(N.g),S(N.h));if(g(N))return N=P(C,S(N)),new j(S(N.g),N.h);if(C.g.length>30){if(g(C)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var _=p,k=N;k.l(C)<=0;)_=E(_),k=E(k);var R=O(_,1),T=O(k,1);for(k=O(k,2),_=O(_,2);!x(k);){var I=T.add(k);I.l(C)<=0&&(R=R.add(_),T=I),k=O(k,1),_=O(_,1)}return N=w(C,R.j(N)),new j(R,N)}for(R=m;C.l(N)>=0;){for(_=Math.max(1,Math.floor(C.m()/N.m())),k=Math.ceil(Math.log(_)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),T=d(_),I=T.j(N);g(I)||I.l(C)>0;)_-=k,T=d(_),I=T.j(N);x(T)&&(T=p),R=R.add(T),C=w(C,I)}return new j(R,C)}e.B=function(C){return P(this,C).h},e.and=function(C){const N=Math.max(this.g.length,C.g.length),_=[];for(let k=0;k<N;k++)_[k]=this.i(k)&C.i(k);return new o(_,this.h&C.h)},e.or=function(C){const N=Math.max(this.g.length,C.g.length),_=[];for(let k=0;k<N;k++)_[k]=this.i(k)|C.i(k);return new o(_,this.h|C.h)},e.xor=function(C){const N=Math.max(this.g.length,C.g.length),_=[];for(let k=0;k<N;k++)_[k]=this.i(k)^C.i(k);return new o(_,this.h^C.h)};function E(C){const N=C.g.length+1,_=[];for(let k=0;k<N;k++)_[k]=C.i(k)<<1|C.i(k-1)>>>31;return new o(_,C.h)}function O(C,N){const _=N>>5;N%=32;const k=C.g.length-_,R=[];for(let T=0;T<k;T++)R[T]=N>0?C.i(T+_)>>>N|C.i(T+_+1)<<32-N:C.i(T+_);return new o(R,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Aj=o}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var b=0;b<u.length;++b){var A=u[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(u,b){if(b)e:{var A=r;u=u.split(".");for(var M=0;M<u.length-1;M++){var Q=u[M];if(!(Q in A))break e;A=A[Q]}u=u[u.length-1],M=A[u],b=b(M),b!=M&&b!=null&&t(A,u,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(b){var A=[],M;for(M in b)Object.prototype.hasOwnProperty.call(b,M)&&A.push([M,b[M]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function c(u,b,A){return u.call.apply(u.bind,arguments)}function d(u,b,A){return d=c,d.apply(null,arguments)}function h(u,b){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function m(u,b){function A(){}A.prototype=b.prototype,u.Z=b.prototype,u.prototype=new A,u.prototype.constructor=u,u.Ob=function(M,Q,J){for(var Se=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Se[tt-2]=arguments[tt];return b.prototype[Q].apply(M,Se)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function y(u){const b=u.length;if(b>0){const A=Array(b);for(let M=0;M<b;M++)A[M]=u[M];return A}return[]}function x(u,b){for(let M=1;M<arguments.length;M++){const Q=arguments[M];var A=typeof Q;if(A=A!="object"?A:Q?Array.isArray(Q)?"array":A:"null",A=="array"||A=="object"&&typeof Q.length=="number"){A=u.length||0;const J=Q.length||0;u.length=A+J;for(let Se=0;Se<J;Se++)u[A+Se]=Q[Se]}else u.push(Q)}}class g{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function S(u){o.setTimeout(()=>{throw u},0)}function w(){var u=C;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class v{constructor(){this.h=this.g=null}add(b,A){const M=j.get();M.set(b,A),this.h?this.h.next=M:this.g=M,this.h=M}}var j=new g(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let E,O=!1,C=new v,N=()=>{const u=Promise.resolve(void 0);E=()=>{u.then(_)}};function _(){for(var u;u=w();){try{u.h.call(u.g)}catch(A){S(A)}var b=j;b.j(u),b.h<100&&(b.h++,u.next=b.g,b.g=u)}O=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};o.addEventListener("test",A,b),o.removeEventListener("test",A,b)}catch{}return u}();function I(u){return/^[\s\xa0]*$/.test(u)}function D(u,b){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,b)}m(D,R),D.prototype.init=function(u,b){const A=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget,b||(A=="mouseover"?b=u.fromElement:A=="mouseout"&&(b=u.toElement)),this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),U=0;function z(u,b,A,M,Q){this.listener=u,this.proxy=null,this.src=b,this.type=A,this.capture=!!M,this.ha=Q,this.key=++U,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function B(u,b,A){for(const M in u)b.call(A,u[M],M,u)}function le(u,b){for(const A in u)b.call(void 0,u[A],A,u)}function ce(u){const b={};for(const A in u)b[A]=u[A];return b}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(u,b){let A,M;for(let Q=1;Q<arguments.length;Q++){M=arguments[Q];for(A in M)u[A]=M[A];for(let J=0;J<W.length;J++)A=W[J],Object.prototype.hasOwnProperty.call(M,A)&&(u[A]=M[A])}}function _e(u){this.src=u,this.g={},this.h=0}_e.prototype.add=function(u,b,A,M,Q){const J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);const Se=He(u,b,M,Q);return Se>-1?(b=u[Se],A||(b.fa=!1)):(b=new z(b,this.src,J,!!M,Q),b.fa=A,u.push(b)),b};function De(u,b){const A=b.type;if(A in u.g){var M=u.g[A],Q=Array.prototype.indexOf.call(M,b,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(M,Q,1),J&&(L(b),u.g[A].length==0&&(delete u.g[A],u.h--))}}function He(u,b,A,M){for(let Q=0;Q<u.length;++Q){const J=u[Q];if(!J.da&&J.listener==b&&J.capture==!!A&&J.ha==M)return Q}return-1}var X="closure_lm_"+(Math.random()*1e6|0),Z={};function be(u,b,A,M,Q){if(Array.isArray(b)){for(let J=0;J<b.length;J++)be(u,b[J],A,M,Q);return null}return A=Jt(A),u&&u[q]?u.J(b,A,l(M)?!!M.capture:!1,Q):H(u,b,A,!1,M,Q)}function H(u,b,A,M,Q,J){if(!b)throw Error("Invalid event type");const Se=l(Q)?!!Q.capture:!!Q;let tt=Je(u);if(tt||(u[X]=tt=new _e(u)),A=tt.add(b,A,M,Se,J),A.proxy)return A;if(M=fe(),A.proxy=M,M.src=u,M.listener=A,u.addEventListener)T||(Q=Se),Q===void 0&&(Q=!1),u.addEventListener(b.toString(),M,Q);else if(u.attachEvent)u.attachEvent(st(b.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function fe(){function u(A){return b.call(u.src,u.listener,A)}const b=Be;return u}function ge(u,b,A,M,Q){if(Array.isArray(b))for(var J=0;J<b.length;J++)ge(u,b[J],A,M,Q);else M=l(M)?!!M.capture:!!M,A=Jt(A),u&&u[q]?(u=u.i,J=String(b).toString(),J in u.g&&(b=u.g[J],A=He(b,A,M,Q),A>-1&&(L(b[A]),Array.prototype.splice.call(b,A,1),b.length==0&&(delete u.g[J],u.h--)))):u&&(u=Je(u))&&(b=u.g[b.toString()],u=-1,b&&(u=He(b,A,M,Q)),(A=u>-1?b[u]:null)&&ke(A))}function ke(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[q])De(b.i,u);else{var A=u.type,M=u.proxy;b.removeEventListener?b.removeEventListener(A,M,u.capture):b.detachEvent?b.detachEvent(st(A),M):b.addListener&&b.removeListener&&b.removeListener(M),(A=Je(b))?(De(A,u),A.h==0&&(A.src=null,b[X]=null)):L(u)}}}function st(u){return u in Z?Z[u]:Z[u]="on"+u}function Be(u,b){if(u.da)u=!0;else{b=new D(b,this);const A=u.listener,M=u.ha||u.src;u.fa&&ke(u),u=A.call(M,b)}return u}function Je(u){return u=u[X],u instanceof _e?u:null}var ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(u){return typeof u=="function"?u:(u[ut]||(u[ut]=function(b){return u.handleEvent(b)}),u[ut])}function ct(){k.call(this),this.i=new _e(this),this.M=this,this.G=null}m(ct,k),ct.prototype[q]=!0,ct.prototype.removeEventListener=function(u,b,A,M){ge(this,u,b,A,M)};function $(u,b){var A,M=u.G;if(M)for(A=[];M;M=M.G)A.push(M);if(u=u.M,M=b.type||b,typeof b=="string")b=new R(b,u);else if(b instanceof R)b.target=b.target||u;else{var Q=b;b=new R(M,u),Ce(b,Q)}Q=!0;let J,Se;if(A)for(Se=A.length-1;Se>=0;Se--)J=b.g=A[Se],Q=G(J,M,!0,b)&&Q;if(J=b.g=u,Q=G(J,M,!0,b)&&Q,Q=G(J,M,!1,b)&&Q,A)for(Se=0;Se<A.length;Se++)J=b.g=A[Se],Q=G(J,M,!1,b)&&Q}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var u=this.i;for(const b in u.g){const A=u.g[b];for(let M=0;M<A.length;M++)L(A[M]);delete u.g[b],u.h--}}this.G=null},ct.prototype.J=function(u,b,A,M){return this.i.add(String(u),b,!1,A,M)},ct.prototype.K=function(u,b,A,M){return this.i.add(String(u),b,!0,A,M)};function G(u,b,A,M){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let J=0;J<b.length;++J){const Se=b[J];if(Se&&!Se.da&&Se.capture==A){const tt=Se.listener,fn=Se.ha||Se.src;Se.fa&&De(u.i,Se),Q=tt.call(fn,M)!==!1&&Q}}return Q&&!M.defaultPrevented}function se(u,b){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(u,b||0)}function Ne(u){u.g=se(()=>{u.g=null,u.i&&(u.i=!1,Ne(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class ye extends k{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(u){k.call(this),this.h=u,this.g={}}m(he,k);var Fe=[];function ft(u){B(u.g,function(b,A){this.g.hasOwnProperty(A)&&ke(b)},u),u.g={}}he.prototype.N=function(){he.Z.N.call(this),ft(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yt=o.JSON.stringify,Tn=o.JSON.parse,Sr=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ds(){}function fd(){}var us={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function li(){R.call(this,"d")}m(li,R);function ci(){R.call(this,"c")}m(ci,R);var Xs={},po=null;function di(){return po=po||new ct}Xs.Ia="serverreachability";function md(u){R.call(this,Xs.Ia,u)}m(md,R);function ue(u){const b=di();$(b,new md(b))}Xs.STAT_EVENT="statevent";function mt(u,b){R.call(this,Xs.STAT_EVENT,u),this.stat=b}m(mt,R);function en(u){const b=di();$(b,new mt(b,u))}Xs.Ja="timingevent";function go(u,b){R.call(this,Xs.Ja,u),this.size=b}m(go,R);function Cr(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},b)}function vn(){this.g=!0}vn.prototype.ua=function(){this.g=!1};function xo(u,b,A,M,Q,J){u.info(function(){if(u.g)if(J){var Se="",tt=J.split("&");for(let Pt=0;Pt<tt.length;Pt++){var fn=tt[Pt].split("=");if(fn.length>1){const yn=fn[0];fn=fn[1];const Er=yn.split("_");Se=Er.length>=2&&Er[1]=="type"?Se+(yn+"="+fn+"&"):Se+(yn+"=redacted&")}}}else Se=null;else Se=J;return"XMLHTTP REQ ("+M+") [attempt "+Q+"]: "+b+`
`+A+`
`+Se})}function ui(u,b,A,M,Q,J,Se){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Q+"]: "+b+`
`+A+`
`+J+" "+Se})}function Ts(u,b,A,M){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+Yn(u,A)+(M?" "+M:"")})}function hs(u,b){u.info(function(){return"TIMEOUT: "+b})}vn.prototype.info=function(){};function Yn(u,b){if(!u.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(u=0;u<J.length;u++)if(Array.isArray(J[u])){var A=J[u];if(!(A.length<2)){var M=A[1];if(Array.isArray(M)&&!(M.length<1)){var Q=M[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let Se=1;Se<M.length;Se++)M[Se]=""}}}}return yt(J)}catch{return b}}var Ji={NO_ERROR:0,TIMEOUT:8},hg={},Db;function fg(){}m(fg,ds),fg.prototype.g=function(){return new XMLHttpRequest},Db=new fg;function pd(u){return encodeURIComponent(String(u))}function IR(u){var b=1;u=u.split(":");const A=[];for(;b>0&&u.length;)A.push(u.shift()),b--;return u.length&&A.push(u.join(":")),A}function ea(u,b,A,M){this.j=u,this.i=b,this.l=A,this.S=M||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ob}function Ob(){this.i=null,this.g="",this.h=!1}var Mb={},mg={};function pg(u,b,A){u.M=1,u.A=Mh(kr(b)),u.u=A,u.R=!0,Fb(u,null)}function Fb(u,b){u.F=Date.now(),Oh(u),u.B=kr(u.A);var A=u.B,M=u.S;Array.isArray(M)||(M=[String(M)]),Qb(A.i,"t",M),u.C=0,A=u.j.L,u.h=new Ob,u.g=mN(u.j,A?b:null,!u.u),u.P>0&&(u.O=new ye(d(u.Y,u,u.g),u.P)),b=u.V,A=u.g,M=u.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Fe[0]=Q.toString()),Q=Fe);for(let J=0;J<Q.length;J++){const Se=be(A,Q[J],M||b.handleEvent,!1,b.h||b);if(!Se)break;b.g[Se.key]=Se}b=u.J?ce(u.J):{},u.u?(u.v||(u.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,b)):(u.v="GET",u.g.ea(u.B,u.v,null,b)),ue(),xo(u.i,u.v,u.B,u.l,u.S,u.u)}ea.prototype.ba=function(u){u=u.target;const b=this.O;b&&sa(u)==3?b.j():this.Y(u)},ea.prototype.Y=function(u){try{if(u==this.g)e:{const tt=sa(this.g),fn=this.g.ya(),Pt=this.g.ca();if(!(tt<3)&&(tt!=3||this.g&&(this.h.h||this.g.la()||sN(this.g)))){this.K||tt!=4||fn==7||(fn==8||Pt<=0?ue(3):ue(2)),gg(this);var b=this.g.ca();this.X=b;var A=RR(this);if(this.o=b==200,ui(this.i,this.v,this.B,this.l,this.S,tt,b),this.o){if(this.U&&!this.L){t:{if(this.g){var M,Q=this.g;if((M=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(M)){var J=M;break t}}J=null}if(u=J)Ts(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xg(this,u);else{this.o=!1,this.m=3,en(12),vo(this),gd(this);break e}}if(this.R){u=!0;let yn;for(;!this.K&&this.C<A.length;)if(yn=DR(this,A),yn==mg){tt==4&&(this.m=4,en(14),u=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Mb){this.m=4,en(15),Ts(this.i,this.l,A,"[Invalid Chunk]"),u=!1;break}else Ts(this.i,this.l,yn,null),xg(this,yn);if(Lb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||A.length!=0||this.h.h||(this.m=1,en(16),u=!1),this.o=this.o&&u,!u)Ts(this.i,this.l,A,"[Invalid Chunked Response]"),vo(this),gd(this);else if(A.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),Sg(Se),Se.P=!0,en(11))}}else Ts(this.i,this.l,A,null),xg(this,A);tt==4&&vo(this),this.o&&!this.K&&(tt==4?dN(this.j,this):(this.o=!1,Oh(this)))}else GR(this.g),b==400&&A.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),vo(this),gd(this)}}}catch{}finally{}};function RR(u){if(!Lb(u))return u.g.la();const b=sN(u.g);if(b==="")return"";let A="";const M=b.length,Q=sa(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vo(u),gd(u),"";u.h.i=new o.TextDecoder}for(let J=0;J<M;J++)u.h.h=!0,A+=u.h.i.decode(b[J],{stream:!(Q&&J==M-1)});return b.length=0,u.h.g+=A,u.C=0,u.h.g}function Lb(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function DR(u,b){var A=u.C,M=b.indexOf(`
`,A);return M==-1?mg:(A=Number(b.substring(A,M)),isNaN(A)?Mb:(M+=1,M+A>b.length?mg:(b=b.slice(M,M+A),u.C=M+A,b)))}ea.prototype.cancel=function(){this.K=!0,vo(this)};function Oh(u){u.T=Date.now()+u.H,$b(u,u.H)}function $b(u,b){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Cr(d(u.aa,u),b)}function gg(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ea.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hs(this.i,this.B),this.M!=2&&(ue(),en(17)),vo(this),this.m=2,gd(this)):$b(this,this.T-u)};function gd(u){u.j.I==0||u.K||dN(u.j,u)}function vo(u){gg(u);var b=u.O;b&&typeof b.dispose=="function"&&b.dispose(),u.O=null,ft(u.V),u.g&&(b=u.g,u.g=null,b.abort(),b.dispose())}function xg(u,b){try{var A=u.j;if(A.I!=0&&(A.g==u||vg(A.h,u))){if(!u.L&&vg(A.h,u)&&A.I==3){try{var M=A.Ba.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Q=M;if(Q[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<u.F)Vh(A),$h(A);else break e;_g(A),en(18)}}else A.xa=Q[1],0<A.xa-A.K&&Q[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Cr(d(A.Va,A),6e3));zb(A.h)<=1&&A.ta&&(A.ta=void 0)}else wo(A,11)}else if((u.L||A.g==u)&&Vh(A),!I(b))for(Q=A.Ba.g.parse(b),b=0;b<Q.length;b++){let Pt=Q[b];const yn=Pt[0];if(!(yn<=A.K))if(A.K=yn,Pt=Pt[1],A.I==2)if(Pt[0]=="c"){A.M=Pt[1],A.ba=Pt[2];const Er=Pt[3];Er!=null&&(A.ka=Er,A.j.info("VER="+A.ka));const jo=Pt[4];jo!=null&&(A.za=jo,A.j.info("SVER="+A.za));const ra=Pt[5];ra!=null&&typeof ra=="number"&&ra>0&&(M=1.5*ra,A.O=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const ia=u.g;if(ia){const zh=ia.g?ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zh){var J=M.h;J.g||zh.indexOf("spdy")==-1&&zh.indexOf("quic")==-1&&zh.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(yg(J,J.h),J.h=null))}if(M.G){const Cg=ia.g?ia.g.getResponseHeader("X-HTTP-Session-Id"):null;Cg&&(M.wa=Cg,Ft(M.J,M.G,Cg))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-u.F,A.j.info("Handshake RTT: "+A.T+"ms")),M=A;var Se=u;if(M.na=fN(M,M.L?M.ba:null,M.W),Se.L){Bb(M.h,Se);var tt=Se,fn=M.O;fn&&(tt.H=fn),tt.D&&(gg(tt),Oh(tt)),M.g=Se}else lN(M);A.i.length>0&&Uh(A)}else Pt[0]!="stop"&&Pt[0]!="close"||wo(A,7);else A.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?wo(A,7):Ng(A):Pt[0]!="noop"&&A.l&&A.l.qa(Pt),A.A=0)}}ue(4)}catch{}}var OR=class{constructor(u,b){this.g=u,this.map=b}};function Ub(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vb(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zb(u){return u.h?1:u.g?u.g.size:0}function vg(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function yg(u,b){u.g?u.g.add(b):u.h=b}function Bb(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Ub.prototype.cancel=function(){if(this.i=Wb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wb(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const A of u.g.values())b=b.concat(A.G);return b}return y(u.i)}var Hb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MR(u,b){if(u){u=u.split("&");for(let A=0;A<u.length;A++){const M=u[A].indexOf("=");let Q,J=null;M>=0?(Q=u[A].substring(0,M),J=u[A].substring(M+1)):Q=u[A],b(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ta(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;u instanceof ta?(this.l=u.l,xd(this,u.j),this.o=u.o,this.g=u.g,vd(this,u.u),this.h=u.h,wg(this,Xb(u.i)),this.m=u.m):u&&(b=String(u).match(Hb))?(this.l=!1,xd(this,b[1]||"",!0),this.o=yd(b[2]||""),this.g=yd(b[3]||"",!0),vd(this,b[4]),this.h=yd(b[5]||"",!0),wg(this,b[6]||"",!0),this.m=yd(b[7]||"")):(this.l=!1,this.i=new jd(null,this.l))}ta.prototype.toString=function(){const u=[];var b=this.j;b&&u.push(wd(b,qb,!0),":");var A=this.g;return(A||b=="file")&&(u.push("//"),(b=this.o)&&u.push(wd(b,qb,!0),"@"),u.push(pd(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&u.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(wd(A,A.charAt(0)=="/"?$R:LR,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",wd(A,VR)),u.join("")},ta.prototype.resolve=function(u){const b=kr(this);let A=!!u.j;A?xd(b,u.j):A=!!u.o,A?b.o=u.o:A=!!u.g,A?b.g=u.g:A=u.u!=null;var M=u.h;if(A)vd(b,u.u);else if(A=!!u.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(M=b.h.slice(0,Q+1)+M)}if(Q=M,Q==".."||Q==".")M="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){M=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let Se=0;Se<Q.length;){const tt=Q[Se++];tt=="."?M&&Se==Q.length&&J.push(""):tt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),M&&Se==Q.length&&J.push("")):(J.push(tt),M=!0)}M=J.join("/")}else M=Q}return A?b.h=M:A=u.i.toString()!=="",A?wg(b,Xb(u.i)):A=!!u.m,A&&(b.m=u.m),b};function kr(u){return new ta(u)}function xd(u,b,A){u.j=A?yd(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function vd(u,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);u.u=b}else u.u=null}function wg(u,b,A){b instanceof jd?(u.i=b,zR(u.i,u.l)):(A||(b=wd(b,UR)),u.i=new jd(b,u.l))}function Ft(u,b,A){u.i.set(b,A)}function Mh(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yd(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wd(u,b,A){return typeof u=="string"?(u=encodeURI(u).replace(b,FR),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function FR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qb=/[#\/\?@]/g,LR=/[#\?:]/g,$R=/[#\?]/g,UR=/[#\?@]/g,VR=/#/g;function jd(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function yo(u){u.g||(u.g=new Map,u.h=0,u.i&&MR(u.i,function(b,A){u.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}e=jd.prototype,e.add=function(u,b){yo(this),this.i=null,u=El(this,u);let A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(b),this.h+=1,this};function Kb(u,b){yo(u),b=El(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function Gb(u,b){return yo(u),b=El(u,b),u.g.has(b)}e.forEach=function(u,b){yo(this),this.g.forEach(function(A,M){A.forEach(function(Q){u.call(b,Q,M,this)},this)},this)};function Yb(u,b){yo(u);let A=[];if(typeof b=="string")Gb(u,b)&&(A=A.concat(u.g.get(El(u,b))));else for(u=Array.from(u.g.values()),b=0;b<u.length;b++)A=A.concat(u[b]);return A}e.set=function(u,b){return yo(this),this.i=null,u=El(this,u),Gb(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},e.get=function(u,b){return u?(u=Yb(this,u),u.length>0?String(u[0]):b):b};function Qb(u,b,A){Kb(u,b),A.length>0&&(u.i=null,u.g.set(El(u,b),y(A)),u.h+=A.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(let M=0;M<b.length;M++){var A=b[M];const Q=pd(A);A=Yb(this,A);for(let J=0;J<A.length;J++){let Se=Q;A[J]!==""&&(Se+="="+pd(A[J])),u.push(Se)}}return this.i=u.join("&")};function Xb(u){const b=new jd;return b.i=u.i,u.g&&(b.g=new Map(u.g),b.h=u.h),b}function El(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function zR(u,b){b&&!u.j&&(yo(u),u.i=null,u.g.forEach(function(A,M){const Q=M.toLowerCase();M!=Q&&(Kb(this,M),Qb(this,Q,A))},u)),u.j=b}function BR(u,b){const A=new vn;if(o.Image){const M=new Image;M.onload=h(na,A,"TestLoadImage: loaded",!0,b,M),M.onerror=h(na,A,"TestLoadImage: error",!1,b,M),M.onabort=h(na,A,"TestLoadImage: abort",!1,b,M),M.ontimeout=h(na,A,"TestLoadImage: timeout",!1,b,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else b(!1)}function WR(u,b){const A=new vn,M=new AbortController,Q=setTimeout(()=>{M.abort(),na(A,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:M.signal}).then(J=>{clearTimeout(Q),J.ok?na(A,"TestPingServer: ok",!0,b):na(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),na(A,"TestPingServer: error",!1,b)})}function na(u,b,A,M,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),M(A)}catch{}}function HR(){this.g=new Sr}function jg(u){this.i=u.Sb||null,this.h=u.ab||!1}m(jg,ds),jg.prototype.g=function(){return new Fh(this.i,this.h)};function Fh(u,b){ct.call(this),this.H=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Fh,ct),e=Fh.prototype,e.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=b,this.readyState=1,Nd(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(b.body=u),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bd(this)),this.readyState=0},e.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Nd(this)),this.g&&(this.readyState=3,Nd(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zb(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zb(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}e.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?bd(this):Nd(this),this.readyState==3&&Zb(this)}},e.Oa=function(u){this.g&&(this.response=this.responseText=u,bd(this))},e.Na=function(u){this.g&&(this.response=u,bd(this))},e.ga=function(){this.g&&bd(this)};function bd(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Nd(u)}e.setRequestHeader=function(u,b){this.A.append(u,b)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=b.next();return u.join(`\r
`)};function Nd(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jb(u){let b="";return B(u,function(A,M){b+=M,b+=":",b+=A,b+=`\r
`}),b}function bg(u,b,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=Jb(A),typeof u=="string"?A!=null&&pd(A):Ft(u,b,A))}function tn(u){ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(tn,ct);var qR=/^https?$/i,KR=["POST","PUT"];e=tn.prototype,e.Fa=function(u){this.H=u},e.ea=function(u,b,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Db.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(J){eN(this,J);return}if(u=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Q in M)A.set(Q,M[Q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const J of M.keys())A.set(J,M.get(J));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(J=>J.toLowerCase()=="content-type"),Q=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(KR,b,void 0)>=0)||M||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,Se]of A)this.g.setRequestHeader(J,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(J){eN(this,J)}};function eN(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.o=5,tN(u),Lh(u)}function tN(u){u.A||(u.A=!0,$(u,"complete"),$(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,$(this,"complete"),$(this,"abort"),Lh(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lh(this,!0)),tn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?nN(this):this.Xa())},e.Xa=function(){nN(this)};function nN(u){if(u.h&&typeof a<"u"){if(u.v&&sa(u)==4)setTimeout(u.Ca.bind(u),0);else if($(u,"readystatechange"),sa(u)==4){u.h=!1;try{const J=u.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var M;if(M=J===0){let Se=String(u.D).match(Hb)[1]||null;!Se&&o.self&&o.self.location&&(Se=o.self.location.protocol.slice(0,-1)),M=!qR.test(Se?Se.toLowerCase():"")}A=M}if(A)$(u,"complete"),$(u,"success");else{u.o=6;try{var Q=sa(u)>2?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.ca()+"]",tN(u)}}finally{Lh(u)}}}}function Lh(u,b){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const A=u.g;u.g=null,b||$(u,"ready");try{A.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function sa(u){return u.g?u.g.readyState:0}e.ca=function(){try{return sa(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),Tn(b)}};function sN(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function GR(u){const b={};u=(u.g&&sa(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(I(u[M]))continue;var A=IR(u[M]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const J=b[Q]||[];b[Q]=J,J.push(A)}le(b,function(M){return M.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _d(u,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||b}function rN(u){this.za=0,this.i=[],this.j=new vn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_d("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_d("baseRetryDelayMs",5e3,u),this.Za=_d("retryDelaySeedMs",1e4,u),this.Ta=_d("forwardChannelMaxRetries",2,u),this.va=_d("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ub(u&&u.concurrentRequestLimit),this.Ba=new HR,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=rN.prototype,e.ka=8,e.I=1,e.connect=function(u,b,A,M){en(0),this.W=u,this.H=b||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.J=fN(this,null,this.W),Uh(this)};function Ng(u){if(iN(u),u.I==3){var b=u.V++,A=kr(u.J);if(Ft(A,"SID",u.M),Ft(A,"RID",b),Ft(A,"TYPE","terminate"),Sd(u,A),b=new ea(u,u.j,b),b.M=2,b.A=Mh(kr(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!A&&o.Image&&(new Image().src=b.A,A=!0),A||(b.g=mN(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Oh(b)}hN(u)}function $h(u){u.g&&(Sg(u),u.g.cancel(),u.g=null)}function iN(u){$h(u),u.v&&(o.clearTimeout(u.v),u.v=null),Vh(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Uh(u){if(!Vb(u.h)&&!u.m){u.m=!0;var b=u.Ea;E||N(),O||(E(),O=!0),C.add(b,u),u.D=0}}function YR(u,b){return zb(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=b.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Cr(d(u.Ea,u,b),uN(u,u.D)),u.D++,!0)}e.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const Q=new ea(this,this.j,u);let J=this.o;if(this.U&&(J?(J=ce(J),Ce(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,b>4096){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=oN(this,Q,b),A=kr(this.J),Ft(A,"RID",u),Ft(A,"CVER",22),this.G&&Ft(A,"X-HTTP-Session-Id",this.G),Sd(this,A),J&&(this.R?b="headers="+pd(Jb(J))+"&"+b:this.u&&bg(A,this.u,J)),yg(this.h,Q),this.Ra&&Ft(A,"TYPE","init"),this.S?(Ft(A,"$req",b),Ft(A,"SID","null"),Q.U=!0,pg(Q,A,null)):pg(Q,A,b),this.I=2}}else this.I==3&&(u?aN(this,u):this.i.length==0||Vb(this.h)||aN(this))};function aN(u,b){var A;b?A=b.l:A=u.V++;const M=kr(u.J);Ft(M,"SID",u.M),Ft(M,"RID",A),Ft(M,"AID",u.K),Sd(u,M),u.u&&u.o&&bg(M,u.u,u.o),A=new ea(u,u.j,A,u.D+1),u.u===null&&(A.J=u.o),b&&(u.i=b.G.concat(u.i)),b=oN(u,A,1e3),A.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yg(u.h,A),pg(A,M,b)}function Sd(u,b){u.H&&B(u.H,function(A,M){Ft(b,M,A)}),u.l&&B({},function(A,M){Ft(b,M,A)})}function oN(u,b,A){A=Math.min(u.i.length,A);const M=u.l?d(u.l.Ka,u.l,u):null;e:{var Q=u.i;let tt=-1;for(;;){const fn=["count="+A];tt==-1?A>0?(tt=Q[0].g,fn.push("ofs="+tt)):tt=0:fn.push("ofs="+tt);let Pt=!0;for(let yn=0;yn<A;yn++){var J=Q[yn].g;const Er=Q[yn].map;if(J-=tt,J<0)tt=Math.max(0,Q[yn].g-100),Pt=!1;else try{J="req"+J+"_"||"";try{var Se=Er instanceof Map?Er:Object.entries(Er);for(const[jo,ra]of Se){let ia=ra;l(ra)&&(ia=yt(ra)),fn.push(J+jo+"="+encodeURIComponent(ia))}}catch(jo){throw fn.push(J+"type="+encodeURIComponent("_badmap")),jo}}catch{M&&M(Er)}}if(Pt){Se=fn.join("&");break e}}Se=void 0}return u=u.i.splice(0,A),b.G=u,Se}function lN(u){if(!u.g&&!u.v){u.Y=1;var b=u.Da;E||N(),O||(E(),O=!0),C.add(b,u),u.A=0}}function _g(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Cr(d(u.Da,u),uN(u,u.A)),u.A++,!0)}e.Da=function(){if(this.v=null,cN(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Cr(d(this.Wa,this),u)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),$h(this),cN(this))};function Sg(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function cN(u){u.g=new ea(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var b=kr(u.na);Ft(b,"RID","rpc"),Ft(b,"SID",u.M),Ft(b,"AID",u.K),Ft(b,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(b,"TO",u.ia),Ft(b,"TYPE","xmlhttp"),Sd(u,b),u.u&&u.o&&bg(b,u.u,u.o),u.O&&(u.g.H=u.O);var A=u.g;u=u.ba,A.M=1,A.A=Mh(kr(b)),A.u=null,A.R=!0,Fb(A,u)}e.Va=function(){this.C!=null&&(this.C=null,$h(this),_g(this),en(19))};function Vh(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function dN(u,b){var A=null;if(u.g==b){Vh(u),Sg(u),u.g=null;var M=2}else if(vg(u.h,b))A=b.G,Bb(u.h,b),M=1;else return;if(u.I!=0){if(b.o)if(M==1){A=b.u?b.u.length:0,b=Date.now()-b.F;var Q=u.D;M=di(),$(M,new go(M,A)),Uh(u)}else lN(u);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(M==1&&YR(u,b)||M==2&&_g(u)))switch(A&&A.length>0&&(b=u.h,b.i=b.i.concat(A)),Q){case 1:wo(u,5);break;case 4:wo(u,10);break;case 3:wo(u,6);break;default:wo(u,2)}}}function uN(u,b){let A=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(A*=2),A*b}function wo(u,b){if(u.j.info("Error code "+b),b==2){var A=d(u.bb,u),M=u.Ua;const Q=!M;M=new ta(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xd(M,"https"),Mh(M),Q?BR(M.toString(),A):WR(M.toString(),A)}else en(2);u.I=0,u.l&&u.l.pa(b),hN(u),iN(u)}e.bb=function(u){u?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function hN(u){if(u.I=0,u.ja=[],u.l){const b=Wb(u.h);(b.length!=0||u.i.length!=0)&&(x(u.ja,b),x(u.ja,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.oa()}}function fN(u,b,A){var M=A instanceof ta?kr(A):new ta(A);if(M.g!="")b&&(M.g=b+"."+M.g),vd(M,M.u);else{var Q=o.location;M=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new ta(null);M&&xd(J,M),b&&(J.g=b),Q&&vd(J,Q),A&&(J.h=A),M=J}return A=u.G,b=u.wa,A&&b&&Ft(M,A,b),Ft(M,"VER",u.ka),Sd(u,M),M}function mN(u,b,A){if(b&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Aa&&!u.ma?new tn(new jg({ab:A})):new tn(u.ma),b.Fa(u.L),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function pN(){}e=pN.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ps(u,b){ct.call(this),this.g=new rN(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(u?u["X-WebChannel-Client-Profile"]=b.sa:u={"X-WebChannel-Client-Profile":b.sa}),this.g.U=u,(u=b&&b.Qb)&&!I(u)&&(this.g.u=u),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new Tl(this)}m(Ps,ct),Ps.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ps.prototype.close=function(){Ng(this.g)},Ps.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.v&&(A={},A.__data__=yt(u),u=A);b.i.push(new OR(b.Ya++,u)),b.I==3&&Uh(b)},Ps.prototype.N=function(){this.g.l=null,delete this.j,Ng(this.g),delete this.g,Ps.Z.N.call(this)};function gN(u){li.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const A in b){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}m(gN,li);function xN(){ci.call(this),this.status=1}m(xN,ci);function Tl(u){this.g=u}m(Tl,pN),Tl.prototype.ra=function(){$(this.g,"a")},Tl.prototype.qa=function(u){$(this.g,new gN(u))},Tl.prototype.pa=function(u){$(this.g,new xN)},Tl.prototype.oa=function(){$(this.g,"b")},Ps.prototype.send=Ps.prototype.o,Ps.prototype.open=Ps.prototype.m,Ps.prototype.close=Ps.prototype.close,Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,hg.COMPLETE="complete",fd.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",ct.prototype.listen=ct.prototype.J,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",X_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new vj("@firebase/firestore");function ur(e,...t){if(Vc.logLevel<=St.DEBUG){const n=t.map(Ij);Vc.debug(`Firestore (${dh}): ${e}`,...n)}}function ET(e,...t){if(Vc.logLevel<=St.ERROR){const n=t.map(Ij);Vc.error(`Firestore (${dh}): ${e}`,...n)}}function $U(e,...t){if(Vc.logLevel<=St.WARN){const n=t.map(Ij);Vc.warn(`Firestore (${dh}): ${e}`,...n)}}function Ij(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,TT(e,r,n)}function TT(e,t,n){let r=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ET(r),new Error(r)}function lu(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||TT(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class vt extends ri{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class VU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zU{constructor(t){this.t=t,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){lu(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new cu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new cu,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ur("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ur("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cu)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ur("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lu(typeof r.accessToken=="string",31837,{l:r}),new PT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return lu(t===null||typeof t=="string",2055,{h:t}),new zn(t)}}class BU{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WU{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new BU(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HU{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){lu(this.o===void 0,3512);const r=a=>{a.error!=null&&ur("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ur("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{ur("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ur("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(lu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function to(e,t){return e<t?-1:e>t?1:0}function GU(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return px(i)===px(a)?to(i,a):px(i)?1:-1}return to(e.length,t.length)}const YU=55296,QU=57343;function px(e){const t=e.charCodeAt(0);return t>=YU&&t<=QU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class Ar{constructor(t,n,r){n===void 0?n=0:n>t.length&&Lu(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Lu(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ar.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ar?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return to(t.length,n.length)}static compareSegments(t,n){const r=Ar.isNumericId(t),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(t).compare(Ar.extractNumericId(n)):GU(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Aj.fromString(t.substring(4,t.length-2))}}class ir extends Ar{construct(t,n,r){return new ir(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new vt(xt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ir(n)}static emptyPath(){return new ir([])}}const XU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Po extends Ar{construct(t,n,r){return new Po(t,n,r)}static isValidIdentifier(t){return XU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Po.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Po([J_])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new vt(xt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new vt(xt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new vt(xt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new vt(xt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Po(n)}static emptyPath(){return new Po([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.path=t}static fromPath(t){return new Mo(ir.fromString(t))}static fromName(t){return new Mo(ir.fromString(t).popFirst(5))}static empty(){return new Mo(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ir.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ir.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mo(new ir(t.slice()))}}function ZU(e,t,n,r){if(t===!0&&r===!0)throw new vt(xt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function JU(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function eV(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Lu(12329,{type:typeof e})}function tV(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eV(e);throw new vt(xt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e,t){const n={typeString:e};return t&&(n.value=t),n}function uh(e,t){if(!JU(e))throw new vt(xt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new vt(xt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=-62135596800,t1=1e6;class Or{static now(){return Or.fromMillis(Date.now())}static fromDate(t){return Or.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*t1);return new Or(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new vt(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(xt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<e1)throw new vt(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(xt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t1}_compareTo(t){return this.seconds===t.seconds?to(this.nanoseconds,t.nanoseconds):to(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uh(t,Or._jsonSchema))return new Or(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-e1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Or._jsonSchemaVersion="firestore/timestamp/1.0",Or._jsonSchema={type:un("string",Or._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};function nV(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sV("Invalid base64 string: "+a):a}}(t);return new ll(n)}static fromUint8Array(t){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new ll(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return to(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const gy="(default)";class Um{constructor(t,n){this.projectId=t,this.database=n||gy}static empty(){return new Um("","")}get isDefaultDatabase(){return this.database===gy}isEqual(t){return t instanceof Um&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iV(e){return new rV(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n1,pt;(pt=n1||(n1={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Aj([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=1048576;function gx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ur("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const o=Date.now()+r,l=new Rj(t,n,o,i,a);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(xt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var s1,r1;(r1=s1||(s1={})).Ma="default",r1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firestore.googleapis.com",a1=!0;class o1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=a1}else this.host=t.host,this.ssl=t.ssl??a1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aV;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oV)throw new vt(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cV(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class IT{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UU;switch(r.type){case"firstParty":return new WU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i1.get(n);r&&(ur("ComponentProvider","Removing Datastore"),i1.delete(n),r.terminate())}(this),Promise.resolve()}}function dV(e,t,n,r={}){var d;e=tV(e,IT);const i=ld(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;i&&(gj(`https://${l}`),xj("Firestore",!0)),a.host!==AT&&a.host!==l&&$U("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!al(c,o)&&(e._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=zn.MOCK_USER;else{h=LE(r.mockUserToken,(d=e._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new vt(xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new zn(p)}e._authCredentials=new VU(new PT(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Dj(this.firestore,t,this._query)}}class Ur{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oj(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ur(this.firestore,t,this._key)}toJSON(){return{type:Ur._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(uh(n,Ur._jsonSchema))return new Ur(t,r||null,new Mo(ir.fromString(n.referencePath)))}}Ur._jsonSchemaVersion="firestore/documentReference/1.0",Ur._jsonSchema={type:un("string",Ur._jsonSchemaVersion),referencePath:un("string")};class Oj extends Dj{constructor(t,n,r){super(t,n,iV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ur(this.firestore,null,new Mo(t))}withConverter(t){return new Oj(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="AsyncQueue";class c1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lV(this,"async_queue_retry"),this._c=()=>{const r=gx();r&&ur(l1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=gx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new cu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!nV(t))throw t;ur(l1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,ET("INTERNAL UNHANDLED ERROR: ",d1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=Rj.createAndSchedule(this,t,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Lu(47125,{Pc:d1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function d1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class uV extends IT{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new c1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new c1(t),this._firestoreClient=void 0,await t}}}function hV(e,t){const n=typeof e=="object"?e:wj(),r=typeof e=="string"?e:gy,i=Mp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=OE("firestore");a&&dV(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Si(ll.fromBase64String(t))}catch(n){throw new vt(xt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Si(ll.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uh(t,Si._jsonSchema))return Si.fromBase64String(t.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:un("string",Si._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new vt(xt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Po(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new vt(xt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vt(xt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return to(this._lat,t._lat)||to(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qo._jsonSchemaVersion}}static fromJSON(t){if(uh(t,Qo._jsonSchema))return new Qo(t.latitude,t.longitude)}}Qo._jsonSchemaVersion="firestore/geoPoint/1.0",Qo._jsonSchema={type:un("string",Qo._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Xo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uh(t,Xo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Xo(t.vectorValues);throw new vt(xt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xo._jsonSchemaVersion="firestore/vectorValue/1.0",Xo._jsonSchema={type:un("string",Xo._jsonSchemaVersion),vectorValues:un("object")};const fV=new RegExp("[~\\*/\\[\\]]");function mV(e,t,n){if(t.search(fV)>=0)throw u1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new RT(...t.split("."))._internalPath}catch{throw u1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function u1(e,t,n,r,i){let a=`Function ${t}() called with invalid data`;a+=". ";let o="";return new vt(xt.INVALID_ARGUMENT,a+e+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(OT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pV extends DT{data(){return super.data()}}function OT(e,t){return typeof t=="string"?mV(e,t):t instanceof RT?t._internalPath:t._delegate._internalPath}class xf{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dc extends DT{constructor(t,n,r,i,a,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(OT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(xt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=dc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}dc._jsonSchemaVersion="firestore/documentSnapshot/1.0",dc._jsonSchema={type:un("string",dc._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Hf extends dc{data(t={}){return super.data(t)}}class du{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Hf(this._firestore,this._userDataWriter,r.key,r,new xf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(xt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Hf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Hf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:gV(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(xt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=du._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=KU.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lu(61501,{type:e})}}du._jsonSchemaVersion="firestore/querySnapshot/1.0",du._jsonSchema={type:un("string",du._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};(function(t,n=!0){(function(i){dh=i})(bl),ol(new eo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new uV(new zU(r.getProvider("auth-internal")),new HU(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new vt(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Um(d.options.projectId,h)}(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),qr(Q_,X_,t),qr(Q_,X_,"esm2020")})();let vf,MT,FT,LT,$u=!1;function xV(e){if(!e||e.projectId==="your-project-id"){console.warn(" Refusing to initialize Firebase with placeholder/missing config");return}if($u){console.log(" Firebase already initialized, skipping re-initialization");return}console.log(" Initializing Firebase with config:",{projectId:e.projectId}),vf=VE(e),MT=lU(vf),FT=OU(vf),LT=hV(vf),$u=!0,console.log(" Firebase initialized successfully")}const lo=()=>{if(!$u)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return MT},vV=()=>{if(!$u)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return FT},yV=()=>{if(!$u)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return LT};new Proxy({},{get:(e,t)=>lo()[t]});new Proxy({},{get:(e,t)=>vV()[t]});new Proxy({},{get:(e,t)=>yV()[t]});const Up=new _i,Vp=new ou("apple.com");Up.addScope("email");Up.addScope("profile");Vp.addScope("email");Vp.addScope("name");const wV=async()=>{try{return await yT(lo(),Up)}catch(e){if(e.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await jV();throw e}},jV=()=>bT(lo(),Up),bV=()=>_8(lo()),NV=()=>Z9(lo()),_V=async()=>{try{return await yT(lo(),Vp)}catch(e){if(e.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await SV();throw e}},SV=()=>bT(lo(),Vp),CV=e=>X9(lo(),e);var Nt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Nt||(Nt={}));var h1;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(h1||(h1={}));const Oe=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ga=e=>{switch(typeof e){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(e)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(e)?Oe.array:e===null?Oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Oe.promise:typeof Map<"u"&&e instanceof Map?Oe.map:typeof Set<"u"&&e instanceof Set?Oe.set:typeof Date<"u"&&e instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},ve=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof Wi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wi.create=e=>new Wi(e);const xy=(e,t)=>{let n;switch(e.code){case ve.invalid_type:e.received===Oe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ve.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Nt.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:n=`Unrecognized key(s) in object: ${Nt.joinValues(e.keys,", ")}`;break;case ve.invalid_union:n="Invalid input";break;case ve.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Nt.joinValues(e.options)}`;break;case ve.invalid_enum_value:n=`Invalid enum value. Expected ${Nt.joinValues(e.options)}, received '${e.received}'`;break;case ve.invalid_arguments:n="Invalid function arguments";break;case ve.invalid_return_type:n="Invalid function return type";break;case ve.invalid_date:n="Invalid date";break;case ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Nt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ve.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ve.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ve.custom:n="Invalid input";break;case ve.invalid_intersection_types:n="Intersection results could not be merged";break;case ve.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ve.not_finite:n="Number must be finite";break;default:n=t.defaultError,Nt.assertNever(e)}return{message:n}};let kV=xy;function EV(){return kV}const TV=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}};function Pe(e,t){const n=EV(),r=TV({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===xy?void 0:xy].filter(i=>!!i)});e.common.issues.push(r)}class Ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Xe;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return Ss.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Xe;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const Xe=Object.freeze({status:"aborted"}),Wd=e=>({status:"dirty",value:e}),Ys=e=>({status:"valid",value:e}),f1=e=>e.status==="aborted",m1=e=>e.status==="dirty",zc=e=>e.status==="valid",Vm=e=>typeof Promise<"u"&&e instanceof Promise;var Le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Le||(Le={}));class no{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p1=(e,t)=>{if(zc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wi(e.common.issues);return this._error=n,this._error}}};function lt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class bt{get description(){return this._def.description}_getType(t){return ga(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ga(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ss,ctx:{common:t.parent.common,data:t.data,parsedType:ga(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Vm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ga(t)},i=this._parseSync({data:t,path:r.path,parent:r});return p1(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ga(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return zc(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>zc(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ga(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(Vm(i)?i:Promise.resolve(i));return p1(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:ve.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Hc({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ga.create(this,this._def)}nullable(){return qc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gr.create(this)}promise(){return Hm.create(this,this._def)}or(t){return Bm.create([this,t],this._def)}and(t){return Wm.create(this,t,this._def)}transform(t){return new Hc({...lt(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new jy({...lt(this._def),innerType:this,defaultValue:n,typeName:Ze.ZodDefault})}brand(){return new ZV({typeName:Ze.ZodBranded,type:this,...lt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new by({...lt(this._def),innerType:this,catchValue:n,typeName:Ze.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Mj.create(this,t)}readonly(){return Ny.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PV=/^c[^\s-]{8,}$/i,AV=/^[0-9a-z]+$/,IV=/^[0-9A-HJKMNP-TV-Z]{26}$/i,RV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DV=/^[a-z0-9_-]{21}$/i,OV=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,FV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,LV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xx;const $V=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,UV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,VV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,WV=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$T="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HV=new RegExp(`^${$T}$`);function UT(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function qV(e){return new RegExp(`^${UT(e)}$`)}function KV(e){let t=`${$T}T${UT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function GV(e,t){return!!((t==="v4"||!t)&&$V.test(e)||(t==="v6"||!t)&&VV.test(e))}function YV(e,t){if(!OV.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function QV(e,t){return!!((t==="v4"||!t)&&UV.test(e)||(t==="v6"||!t)&&zV.test(e))}class Pi extends bt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Oe.string){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_type,expected:Oe.string,received:a.parsedType}),Xe}const r=new Ss;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Pe(i,{code:ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(i,{code:ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")FV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"email",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")xx||(xx=new RegExp(LV,"u")),xx.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"emoji",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")RV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"uuid",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")DV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"nanoid",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")PV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cuid",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")AV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cuid2",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")IV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"ulid",code:ve.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Pe(i,{validation:"url",code:ve.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"regex",code:ve.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?KV(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?HV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?qV(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?MV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"duration",code:ve.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?GV(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"ip",code:ve.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?YV(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"jwt",code:ve.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?QV(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cidr",code:ve.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?BV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"base64",code:ve.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?WV.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"base64url",code:ve.invalid_string,message:a.message}),r.dirty()):Nt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:ve.invalid_string,...Le.errToObj(r)})}_addCheck(t){return new Pi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Le.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Le.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Le.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Le.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Le.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Le.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Le.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Le.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Le.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Le.errToObj(n)})}nonempty(t){return this.min(1,Le.errToObj(t))}trim(){return new Pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Pi.create=e=>new Pi({checks:[],typeName:Ze.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});function XV(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class cl extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Oe.number){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_type,expected:Oe.number,received:a.parsedType}),Xe}let r;const i=new Ss;for(const a of this._def.checks)a.kind==="int"?Nt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?XV(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.not_finite,message:a.message}),i.dirty()):Nt.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Le.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Le.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Le.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Le.toString(n))}setLimit(t,n,r,i){return new cl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Nt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}cl.create=e=>new cl({checks:[],typeName:Ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class dl extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Oe.bigint)return this._getInvalidInput(t);let r;const i=new Ss;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Pe(r,{code:ve.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Nt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Oe.bigint,received:n.parsedType}),Xe}gte(t,n){return this.setLimit("min",t,!0,Le.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Le.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Le.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Le.toString(n))}setLimit(t,n,r,i){return new dl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(t){return new dl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}dl.create=e=>new dl({checks:[],typeName:Ze.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});class zm extends bt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Oe.boolean){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Oe.boolean,received:r.parsedType}),Xe}return Ys(t.data)}}zm.create=e=>new zm({typeName:Ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class Bc extends bt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Oe.date){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_type,expected:Oe.date,received:a.parsedType}),Xe}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pe(a,{code:ve.invalid_date}),Xe}const r=new Ss;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Nt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Bc({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Le.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Le.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Bc.create=e=>new Bc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ze.ZodDate,...lt(e)});class g1 extends bt{_parse(t){if(this._getType(t)!==Oe.symbol){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Oe.symbol,received:r.parsedType}),Xe}return Ys(t.data)}}g1.create=e=>new g1({typeName:Ze.ZodSymbol,...lt(e)});class x1 extends bt{_parse(t){if(this._getType(t)!==Oe.undefined){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Oe.undefined,received:r.parsedType}),Xe}return Ys(t.data)}}x1.create=e=>new x1({typeName:Ze.ZodUndefined,...lt(e)});class v1 extends bt{_parse(t){if(this._getType(t)!==Oe.null){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Oe.null,received:r.parsedType}),Xe}return Ys(t.data)}}v1.create=e=>new v1({typeName:Ze.ZodNull,...lt(e)});class vy extends bt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ys(t.data)}}vy.create=e=>new vy({typeName:Ze.ZodAny,...lt(e)});class y1 extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ys(t.data)}}y1.create=e=>new y1({typeName:Ze.ZodUnknown,...lt(e)});class so extends bt{_parse(t){const n=this._getOrReturnCtx(t);return Pe(n,{code:ve.invalid_type,expected:Oe.never,received:n.parsedType}),Xe}}so.create=e=>new so({typeName:Ze.ZodNever,...lt(e)});class w1 extends bt{_parse(t){if(this._getType(t)!==Oe.undefined){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Oe.void,received:r.parsedType}),Xe}return Ys(t.data)}}w1.create=e=>new w1({typeName:Ze.ZodVoid,...lt(e)});class Gr extends bt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Oe.array)return Pe(n,{code:ve.invalid_type,expected:Oe.array,received:n.parsedType}),Xe;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Pe(n,{code:o?ve.too_big:ve.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Pe(n,{code:ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Pe(n,{code:ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new no(n,o,n.path,l)))).then(o=>Ss.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new no(n,o,n.path,l)));return Ss.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Gr({...this._def,minLength:{value:t,message:Le.toString(n)}})}max(t,n){return new Gr({...this._def,maxLength:{value:t,message:Le.toString(n)}})}length(t,n){return new Gr({...this._def,exactLength:{value:t,message:Le.toString(n)}})}nonempty(t){return this.min(1,t)}}Gr.create=(e,t)=>new Gr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...lt(t)});function Fl(e){if(e instanceof rn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ga.create(Fl(r))}return new rn({...e._def,shape:()=>t})}else return e instanceof Gr?new Gr({...e._def,type:Fl(e.element)}):e instanceof Ga?Ga.create(Fl(e.unwrap())):e instanceof qc?qc.create(Fl(e.unwrap())):e instanceof ul?ul.create(e.items.map(t=>Fl(t))):e}class rn extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Nt.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Oe.object){const d=this._getOrReturnCtx(t);return Pe(d,{code:ve.invalid_type,expected:Oe.object,received:d.parsedType}),Xe}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof so&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],m=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new no(i,m,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof so){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Pe(i,{code:ve.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new no(i,m,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const m=await h.key,p=await h.value;d.push({key:m,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>Ss.mergeObjectSync(r,d)):Ss.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Le.errToObj,new rn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Le.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new rn({...this._def,unknownKeys:"strip"})}passthrough(){return new rn({...this._def,unknownKeys:"passthrough"})}extend(t){return new rn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new rn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ze.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new rn({...this._def,catchall:t})}pick(t){const n={};for(const r of Nt.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new rn({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Nt.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new rn({...this._def,shape:()=>n})}deepPartial(){return Fl(this)}partial(t){const n={};for(const r of Nt.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new rn({...this._def,shape:()=>n})}required(t){const n={};for(const r of Nt.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ga;)a=a._def.innerType;n[r]=a}return new rn({...this._def,shape:()=>n})}keyof(){return VT(Nt.objectKeys(this.shape))}}rn.create=(e,t)=>new rn({shape:()=>e,unknownKeys:"strip",catchall:so.create(),typeName:Ze.ZodObject,...lt(t)});rn.strictCreate=(e,t)=>new rn({shape:()=>e,unknownKeys:"strict",catchall:so.create(),typeName:Ze.ZodObject,...lt(t)});rn.lazycreate=(e,t)=>new rn({shape:e,unknownKeys:"strip",catchall:so.create(),typeName:Ze.ZodObject,...lt(t)});class Bm extends bt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Wi(l.ctx.common.issues));return Pe(n,{code:ve.invalid_union,unionErrors:o}),Xe}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Wi(c));return Pe(n,{code:ve.invalid_union,unionErrors:l}),Xe}}get options(){return this._def.options}}Bm.create=(e,t)=>new Bm({options:e,typeName:Ze.ZodUnion,...lt(t)});function yy(e,t){const n=ga(e),r=ga(t);if(e===t)return{valid:!0,data:e};if(n===Oe.object&&r===Oe.object){const i=Nt.objectKeys(t),a=Nt.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=yy(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Oe.array&&r===Oe.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=yy(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Oe.date&&r===Oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wm extends bt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(f1(a)||f1(o))return Xe;const l=yy(a.value,o.value);return l.valid?((m1(a)||m1(o))&&n.dirty(),{status:n.value,value:l.data}):(Pe(r,{code:ve.invalid_intersection_types}),Xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wm.create=(e,t,n)=>new Wm({left:e,right:t,typeName:Ze.ZodIntersection,...lt(n)});class ul extends bt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.array)return Pe(r,{code:ve.invalid_type,expected:Oe.array,received:r.parsedType}),Xe;if(r.data.length<this._def.items.length)return Pe(r,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xe;!this._def.rest&&r.data.length>this._def.items.length&&(Pe(r,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new no(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Ss.mergeArray(n,o)):Ss.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new ul({...this._def,rest:t})}}ul.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ul({items:e,typeName:Ze.ZodTuple,rest:null,...lt(t)})};class j1 extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.map)return Pe(r,{code:ve.invalid_type,expected:Oe.map,received:r.parsedType}),Xe;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new no(r,l,r.path,[d,"key"])),value:a._parse(new no(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Xe;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Xe;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}j1.create=(e,t,n)=>new j1({valueType:t,keyType:e,typeName:Ze.ZodMap,...lt(n)});class Uu extends bt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.set)return Pe(r,{code:ve.invalid_type,expected:Oe.set,received:r.parsedType}),Xe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pe(r,{code:ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pe(r,{code:ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Xe;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new no(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Uu({...this._def,minSize:{value:t,message:Le.toString(n)}})}max(t,n){return new Uu({...this._def,maxSize:{value:t,message:Le.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Uu.create=(e,t)=>new Uu({valueType:e,minSize:null,maxSize:null,typeName:Ze.ZodSet,...lt(t)});class wy extends bt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wy.create=(e,t)=>new wy({getter:e,typeName:Ze.ZodLazy,...lt(t)});class b1 extends bt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Pe(n,{received:n.data,code:ve.invalid_literal,expected:this._def.value}),Xe}return{status:"valid",value:t.data}}get value(){return this._def.value}}b1.create=(e,t)=>new b1({value:e,typeName:Ze.ZodLiteral,...lt(t)});function VT(e,t){return new Wc({values:e,typeName:Ze.ZodEnum,...lt(t)})}class Wc extends bt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Pe(n,{expected:Nt.joinValues(r),received:n.parsedType,code:ve.invalid_type}),Xe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Pe(n,{received:n.data,code:ve.invalid_enum_value,options:r}),Xe}return Ys(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Wc.create(t,{...this._def,...n})}exclude(t,n=this._def){return Wc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Wc.create=VT;class N1 extends bt{_parse(t){const n=Nt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Oe.string&&r.parsedType!==Oe.number){const i=Nt.objectValues(n);return Pe(r,{expected:Nt.joinValues(i),received:r.parsedType,code:ve.invalid_type}),Xe}if(this._cache||(this._cache=new Set(Nt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Nt.objectValues(n);return Pe(r,{received:r.data,code:ve.invalid_enum_value,options:i}),Xe}return Ys(t.data)}get enum(){return this._def.values}}N1.create=(e,t)=>new N1({values:e,typeName:Ze.ZodNativeEnum,...lt(t)});class Hm extends bt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.promise&&n.common.async===!1)return Pe(n,{code:ve.invalid_type,expected:Oe.promise,received:n.parsedType}),Xe;const r=n.parsedType===Oe.promise?n.data:Promise.resolve(n.data);return Ys(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Hm.create=(e,t)=>new Hm({type:e,typeName:Ze.ZodPromise,...lt(t)});class Hc extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Pe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Xe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Xe:c.status==="dirty"||n.value==="dirty"?Wd(c.value):c});{if(n.value==="aborted")return Xe;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Xe:l.status==="dirty"||n.value==="dirty"?Wd(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Xe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Xe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zc(o))return Xe;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>zc(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):Xe);Nt.assertNever(i)}}Hc.create=(e,t,n)=>new Hc({schema:e,typeName:Ze.ZodEffects,effect:t,...lt(n)});Hc.createWithPreprocess=(e,t,n)=>new Hc({schema:t,effect:{type:"preprocess",transform:e},typeName:Ze.ZodEffects,...lt(n)});class Ga extends bt{_parse(t){return this._getType(t)===Oe.undefined?Ys(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ga.create=(e,t)=>new Ga({innerType:e,typeName:Ze.ZodOptional,...lt(t)});class qc extends bt{_parse(t){return this._getType(t)===Oe.null?Ys(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qc.create=(e,t)=>new qc({innerType:e,typeName:Ze.ZodNullable,...lt(t)});class jy extends bt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}jy.create=(e,t)=>new jy({innerType:e,typeName:Ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...lt(t)});class by extends bt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vm(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Wi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}by.create=(e,t)=>new by({innerType:e,typeName:Ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...lt(t)});class _1 extends bt{_parse(t){if(this._getType(t)!==Oe.nan){const r=this._getOrReturnCtx(t);return Pe(r,{code:ve.invalid_type,expected:Oe.nan,received:r.parsedType}),Xe}return{status:"valid",value:t.data}}}_1.create=e=>new _1({typeName:Ze.ZodNaN,...lt(e)});class ZV extends bt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Mj extends bt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Xe:a.status==="dirty"?(n.dirty(),Wd(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Xe:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Mj({in:t,out:n,typeName:Ze.ZodPipeline})}}class Ny extends bt{_parse(t){const n=this._def.innerType._parse(t),r=i=>(zc(i)&&(i.value=Object.freeze(i.value)),i);return Vm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Ny.create=(e,t)=>new Ny({innerType:e,typeName:Ze.ZodReadonly,...lt(t)});var Ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const F=Pi.create,Qe=cl.create;dl.create;const bn=zm.create;Bc.create;const uc=vy.create;so.create;const At=Gr.create,Ie=rn.create,Ra=Bm.create;Wm.create;ul.create;const JV=wy.create,Hi=Wc.create;Hm.create;Ga.create;qc.create;const yf={string:e=>Pi.create({...e,coerce:!0}),number:e=>cl.create({...e,coerce:!0}),boolean:e=>zm.create({...e,coerce:!0}),bigint:e=>dl.create({...e,coerce:!0}),date:e=>Bc.create({...e,coerce:!0})},e7=Ie({email:F().email("Please enter a valid email address"),password:F().min(1,"Password is required")}),t7=Ie({email:F().email("Please enter a valid email address"),password:F().min(6,"Password must be at least 6 characters"),firstName:F().min(1,"First name is required"),lastName:F().min(1,"Last name is required"),userName:F().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:F().optional().refine(e=>!e||e===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(e.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:F().min(1,"Country is required")});Ie({email:F().optional(),firstName:F().optional(),lastName:F().optional(),type:Hi(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:F().optional(),userName:F().optional(),country:F().optional(),phone:F().optional(),gender:F().optional(),uid:F().optional(),idToken:F().min(1,"Firebase ID token is required for authentication"),providerToken:F().optional(),provider:F().optional(),profilePicture:F().optional()}).refine(e=>e.type==="google"?!!e.email&&!!e.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const zT=Ie({firstName:F().min(1,"First name is required"),lastName:F().min(1,"Last name is required"),userName:F().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:F().min(1,"Country is required"),phone:F().optional().refine(e=>!e||e===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(e.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:F().optional()});Ie({token:F().optional(),user:Ie({id:F(),email:F(),name:F().optional()}).optional(),message:F().optional()});Ie({success:bn(),message:F().optional(),data:uc(),accessToken:F().optional(),authtoken:F().optional(),newuser:bn().optional()});Ie({success:bn().optional(),message:F(),error:F().optional(),details:uc().optional()});const n7=Ie({_id:F(),customer:Ie({_id:F(),firstName:F(),lastName:F().optional(),userName:F().optional(),email:F(),profilePhoto:F().optional(),address:Ie({_id:F(),name:F(),addrress1:F(),city:F(),state:F(),zipcode:F(),phone:F(),email:F()}).optional()}),seller:Ie({_id:F(),firstName:F(),lastName:F().optional(),userName:F().optional(),email:F()}),need_label:bn(),giveaway:Ie({_id:F(),name:F(),description:F().optional(),quantity:Qe(),images:At(F()).optional(),category:Ie({_id:F(),name:F()}).optional(),shipping_profile:Ie({_id:F(),weight:Qe(),name:F(),scale:F()}).optional(),height:F().optional(),width:F().optional(),length:F().optional(),status:F().optional(),participants:At(F()).optional()}).optional(),ordertype:F().optional(),items:At(Ie({_id:F().optional(),orderId:F().optional(),productId:Ie({_id:F().optional(),name:F().optional(),images:At(F()).optional(),category:Ie({_id:F().optional(),name:F().optional()}).optional()}).optional(),quantity:Qe().optional(),price:Qe().optional(),shipping_fee:Qe().optional(),weight:F().optional(),height:F().optional(),width:F().optional(),length:F().optional(),scale:F().optional(),order_reference:F().optional(),status:F().optional()})).optional(),total:Qe().optional(),servicefee:Qe().optional(),service_fee:Qe().optional(),stripe_fees:Qe().optional(),tax:Qe().optional(),shipping_fee:Qe().optional(),seller_shipping_fee_pay:Qe().optional(),total_shipping_cost:Qe().optional(),invoice:Qe().optional(),status:F().optional(),tracking_number:F().optional(),label:F().optional(),weight:Ra([Qe(),F()]).optional(),date:Qe().optional(),createdAt:F().optional(),updatedAt:F().optional(),bundleId:F().optional().nullable(),tokshow:Ie({_id:F(),title:F().optional(),name:F().optional()}).optional(),height:F().optional(),width:F().optional(),length:F().optional(),scale:F().optional()});Ie({orders:At(n7),limits:Qe(),pages:Qe(),total:Qe()});Ie({totalOrder:Qe(),totalAmount:F(),todayOrder:At(uc()),totalAmountOfThisMonth:F(),totalPendingOrder:Ie({total:Qe(),count:Qe()}).optional(),totalDeliveredOrder:Qe(),orders:At(uc()),weeklySaleReport:At(uc())});const s7=Ie({_id:F(),name:F(),description:F().optional(),price:Qe(),quantity:Qe(),images:At(F()).optional(),category:Ie({_id:F(),name:F()}).optional(),seller:Ie({_id:F(),firstName:F(),lastName:F().optional(),userName:F().optional(),email:F()}),status:F().optional(),weight:Ra([Qe(),F()]).optional(),height:F().optional(),width:F().optional(),length:F().optional(),scale:F().optional(),shipping_profile:Ie({_id:F(),weight:Qe(),name:F(),scale:F()}).optional(),colors:At(F()).optional(),sizes:At(F()).optional(),featured:bn().optional(),createdAt:F().optional(),updatedAt:F().optional()});Ie({products:At(s7),limits:Qe(),pages:Qe(),totalDoc:Qe()});const BT=JV(()=>Ie({_id:F(),name:F(),description:F().optional(),status:F().optional(),icon:F().optional(),type:F().optional(),subCategories:At(BT).optional()}));Ie({categories:At(BT),limits:Qe().optional(),pages:Qe().optional(),total:Qe().optional()});const r7=Ie({_id:F(),name:F(),weight:Qe(),scale:F(),description:F().optional()});At(r7);const i7=Hi(["auction","buy_now","giveaway"]);Ie({name:F().min(1,"Product name is required"),description:F().optional(),price:yf.number().optional().nullable(),quantity:yf.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:F().min(1,"Category is required"),status:Hi(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:i7,shippingProfile:F().nullable().optional(),images:At(F()).optional(),startingPrice:yf.number().optional().nullable(),duration:yf.number().int().optional().nullable(),sudden:bn().optional().default(!1),list_individually:bn().optional().default(!1),startTime:F().optional().nullable(),endTime:F().optional().nullable(),featured:bn().optional().default(!1),acceptsOffers:bn().optional().default(!1),whocanenter:Hi(["everyone","followers"]).optional().default("everyone"),tokshow:F().optional()}).refine(e=>e.listingType==="auction"?e.startingPrice!==void 0&&e.startingPrice!==null&&e.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(e=>e.listingType==="auction"&&!e.featured?e.duration!==void 0&&e.duration!==null&&e.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(e=>e.listingType==="auction"&&e.featured?e.startTime!==void 0&&e.startTime!==null&&e.startTime!=="":!0,{message:"Auction start time is required for featured auctions",path:["startTime"]}).refine(e=>e.listingType==="auction"&&e.featured?e.endTime!==void 0&&e.endTime!==null&&e.endTime!=="":!0,{message:"Auction end time is required for featured auctions",path:["endTime"]}).refine(e=>e.listingType==="buy_now"?e.price!==void 0&&e.price!==null&&e.price>0:!0,{message:"Price must be greater than 0",path:["price"]}).refine(e=>e.listingType==="auction"&&!e.featured?e.tokshow!==void 0&&e.tokshow!==null&&e.tokshow!==""&&e.tokshow!=="general":!0,{message:"Live show auctions must be assigned to a show",path:["tokshow"]});Ie({id:F(),customerId:F(),customerName:F(),orderIds:At(F()),count:Qe(),weight:F().optional(),dimensions:F().optional(),totalValue:Qe(),status:Hi(["pending","labeled"]).optional().default("pending"),createdAt:F().optional()});const a7=Ie({name:F().min(1,"Address name is required"),addrress1:F().min(1,"Street address is required"),addrress2:F().optional().default(""),city:F().min(1,"City is required"),state:F().min(1,"State is required"),stateCode:F().optional().default(""),cityCode:F().optional().default(""),zipcode:F().min(1,"ZIP code is required"),countryCode:F().min(1,"Country is required"),country:F().optional(),phone:F().min(1,"Phone number is required"),email:F().email("Please enter a valid email address"),userId:F().min(1,"User ID is required")});a7.partial().extend({name:F().min(1,"Address name is required").optional(),addrress1:F().min(1,"Street address is required").optional(),city:F().min(1,"City is required").optional(),state:F().min(1,"State is required").optional(),zipcode:F().min(1,"ZIP code is required").optional(),countryCode:F().min(1,"Country is required").optional(),phone:F().min(1,"Phone number is required").optional(),email:F().email("Please enter a valid email address").optional()});Ie({primary:bn(),userId:F().min(1,"User ID is required")});Ie({weight:Ra([F(),Qe()]).transform(String),unit:F().optional().default("oz"),product:F(),update:bn().optional().default(!0),owner:F(),customer:F(),length:Ra([F(),Qe()]).transform(Number),width:Ra([F(),Qe()]).transform(Number),height:Ra([F(),Qe()]).transform(Number),buying_label:bn().optional().default(!0)});Ie({carrier:F(),service:F(),price:F(),deliveryTime:F(),objectId:F().min(1,"Rate ID is required")});Ie({rate_id:F().min(1,"Rate ID is required"),order:Ra([F(),Ie({_id:F(),customer:Ie({_id:F(),firstName:F(),lastName:F().optional(),email:F().email(),address:Ie({name:F(),addrress1:F(),city:F(),state:F(),zipcode:F(),phone:F(),email:F().email()}).optional()}),seller:Ie({_id:F(),firstName:F(),lastName:F().optional(),email:F().email()})})]),isBundle:bn().optional(),shipping_fee:Ra([F(),Qe()]).transform(Number),servicelevel:F().min(1,"Service level is required"),carrier:F().optional(),deliveryTime:F().optional()});Ie({success:bn(),message:F(),data:Ie({tracking_number:F(),label_url:F().optional(),label_data:F().optional(),carrier:F(),service:F(),cost:F(),delivery_time:F(),purchased_at:F()}).optional(),error:F().optional()});Ie({orderIds:At(F().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:F().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:F().min(1,"Rate ID is required")});Ie({success:bn(),message:F(),data:Ie({tracking_number:F(),label_url:F().optional(),cost:Qe(),carrier:F(),service:F(),affected_orders:At(F()),update_results:At(Ie({orderId:F(),success:bn(),error:F().optional(),data:uc().optional()})),aggregated_weight:F().optional(),aggregated_dimensions:F().optional()}).optional(),error:F().optional()});const o7=Ie({title:F().min(1,"Title is required"),subtitle:F().min(1,"Subtitle is required"),primaryButtonText:F().min(1,"Primary button text is required"),primaryButtonLink:F().min(1,"Primary button link is required"),secondaryButtonText:F().min(1,"Secondary button text is required"),heroImage:F().url("Must be a valid URL"),heroImageAlt:F().optional().default("Live shopping experience"),liveViewers:F().optional().default("12.5K watching")}),l7=Ie({icon:Hi(["Play","Zap","Shield","Star","TrendingUp"]),title:F().min(1,"Step title is required"),description:F().min(1,"Step description is required")}),c7=Ie({icon:Hi(["Play","Zap","Shield","Star","TrendingUp"]),title:F().min(1,"Feature title is required"),description:F().min(1,"Feature description is required")}),d7=Ie({name:F().min(1,"Category name is required"),image:F().url("Must be a valid URL")}),u7=Ie({name:F().min(1,"Brand name is required"),logo:F().optional()});Ie({hero:o7,howItWorks:Ie({title:F().min(1,"Section title is required"),subtitle:F().min(1,"Section subtitle is required"),steps:At(l7).length(3,"Must have exactly 3 steps")}),joinFun:Ie({title:F().min(1,"Section title is required"),subtitle:F().min(1,"Section subtitle is required"),image:F().url("Must be a valid URL"),imageAlt:F().optional().default("Auction excitement"),features:At(c7).min(1,"Must have at least 1 feature"),buttonText:F().min(1,"Button text is required"),buttonLink:F().min(1,"Button link is required")}),categories:Ie({title:F().min(1,"Section title is required"),subtitle:F().min(1,"Section subtitle is required"),items:At(d7).min(1,"Must have at least 1 category"),buttonText:F().min(1,"Button text is required"),buttonLink:F().min(1,"Button link is required")}),brands:Ie({title:F().min(1,"Section title is required"),subtitle:F().min(1,"Section subtitle is required"),items:At(u7).min(1,"Must have at least 1 brand"),image:F().url("Must be a valid URL"),imageAlt:F().optional().default("Brand products"),buttonText:F().min(1,"Button text is required"),buttonLink:F().min(1,"Button link is required")}),finalCTA:Ie({title:F().min(1,"CTA title is required"),subtitle:F().min(1,"CTA subtitle is required"),buttonText:F().min(1,"Button text is required"),buttonLink:F().min(1,"Button link is required")}),footer:Ie({copyrightText:F().optional()})});Hi(["landing","faq","about","privacy","terms","contact"]);const h7=Ie({question:F().min(1,"Question is required"),answer:F().min(1,"Answer is required")}),f7=Ie({title:F().min(1,"Page title is required"),subtitle:F().optional(),faqs:At(h7).min(1,"Must have at least 1 FAQ item")}),WT=Ie({title:F().min(1,"Section title is required"),content:F().min(1,"Section content is required"),order:Qe().optional()}),Fj=Ie({title:F().min(1,"Page title is required"),subtitle:F().optional(),sections:At(WT).min(1,"Must have at least 1 section")}),m7=Ie({email:F().email("Must be a valid email").optional(),phone:F().optional(),address:F().optional()}),p7=Ie({title:F().min(1,"Page title is required"),subtitle:F().optional(),description:F().optional(),contactInfo:m7,showContactForm:bn().optional().default(!0),sections:At(WT).optional()}),HT=Ie({_id:F().optional(),title:F().min(1,"Title is required"),slug:F().min(1,"Slug is required"),excerpt:F().min(1,"Excerpt/description is required"),content:F().min(1,"Content is required"),category:Hi(["general","seller","buyer","payments","shipping","other"]).default("general"),published:bn().default(!0),order:Qe().default(0),createdAt:F().optional(),updatedAt:F().optional()}),g7=HT.omit({_id:!0,createdAt:!0,updatedAt:!0});HT.partial().omit({_id:!0,createdAt:!0,updatedAt:!0});const _y={app_name:"TokshopLive",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0,demoMode:!1},qT=f.createContext({settings:_y,isLoading:!0,isFirebaseReady:!1,appName:"TokshopLive"});function S1(e){e=e.replace("#",""),e.length===8&&(e=e.substring(2));const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let o=0,l=0,c=(i+a)/2;if(i!==a){const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case t:o=((n-r)/d+(n<r?6:0))/6;break;case n:o=((r-t)/d+2)/6;break;case r:o=((t-n)/d+4)/6;break}}return o=Math.round(o*360),l=Math.round(l*100),c=Math.round(c*100),`${o} ${l}% ${c}%`}function C1(e){e=e.replace("#",""),e.length===8&&(e=e.substring(2));const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*i+.7152*a+.0722*o}function k1(e,t){console.log(" Applying theme colors:",{primaryColor:e,secondaryColor:t});const n=document.documentElement,r=S1(e),i=S1(t);console.log(" Converted to HSL:",{primaryHSL:r,secondaryHSL:i});const a=C1(e),o=a>.5;console.log(" Luminance:",{luminance:a,isLightColor:o});const l=o?"0 0% 9%":"0 0% 100%";n.style.setProperty("--primary",r),n.style.setProperty("--primary-foreground",l),n.style.setProperty("--ring",r),n.style.setProperty("--chart-1",r),n.style.setProperty("--sidebar-primary",r),n.style.setProperty("--sidebar-primary-foreground",l),n.style.setProperty("--sidebar-ring",r);const h=C1(t)>.5?"0 0% 9%":"0 0% 100%";n.style.setProperty("--secondary",i),n.style.setProperty("--secondary-foreground",h),n.style.setProperty("--accent",i),n.style.setProperty("--accent-foreground",h),n.style.setProperty("--chart-2",i),console.log(" Theme colors applied successfully")}function x7({children:e}){const[t,n]=f.useState(_y),[r,i]=f.useState(!0),[a,o]=f.useState(!1);f.useEffect(()=>{async function c(){try{try{const h=await fetch("/api/public/themes");if(h.ok){const m=await h.json();if(console.log(" Themes fetched:",m),m.success&&m.data){const p=m.data;p.primary_color&&k1(p.primary_color,p.secondary_color||_y.secondary_color)}}}catch(h){console.warn("Failed to fetch public themes:",h)}const d=await fetch("/api/settings");if(d.ok){const h=await d.json();if(console.log(" Settings fetched:",h),h.success&&h.data){console.log(" Settings data:",h.data),n(h.data);let m;h.data.firebase_config?(m=h.data.firebase_config,console.log(" Using nested firebase_config from API")):(h.data.firebase_auth_domain||h.data.firebase_project_id)&&(m={apiKey:h.data.firebase_api_key||h.data.FIREBASE_API_KEY||"",authDomain:h.data.firebase_auth_domain||"",projectId:h.data.firebase_project_id||"",storageBucket:h.data.firebase_storage_bucket||"",appId:h.data.firebase_app_id||""},console.log(" Built firebase_config from individual fields")),m&&m.apiKey&&m.projectId?(console.log(" Initializing Firebase with config:",{projectId:m.projectId}),xV(m),console.log(" Firebase initialized successfully"),o(!0)):(console.warn(" No valid Firebase config found in settings"),o(!1))}}}catch(d){console.error("Failed to fetch app settings:",d),console.warn(" Cannot initialize Firebase without settings")}finally{i(!1)}}c()},[]),f.useEffect(()=>{t.primary_color&&t.secondary_color&&k1(t.primary_color,t.secondary_color)},[t.primary_color,t.secondary_color]);const l=t.app_name||"TokshopLive";return s.jsx(qT.Provider,{value:{settings:t,isLoading:r,isFirebaseReady:a,appName:l},children:e})}function Nl(){const e=f.useContext(qT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const KT=f.createContext(null);function v7({children:e}){console.log("[AuthProvider] Initializing AuthProvider");const{isFirebaseReady:t}=Nl(),[n,r]=f.useState(null),[i,a]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(null),[h,m]=f.useState(null),p=f.useRef(!1),y=f.useRef(!1),x=f.useRef(0),g=f.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",i,"user:",n?n.id:"null","isAuthenticated:",!!n,"isFirebaseReady:",t);const S=!!n,w=async(T,I,D=!1)=>{var q,U;try{const z=await T.getIdToken(!0);let L=null;if(T.providerData&&T.providerData.length>0&&(T.providerData.some(De=>De.providerId==="apple.com")?L="apple":T.providerData.some(De=>De.providerId==="google.com")&&(L="google")),!L&&(I==null?void 0:I.providerId)==="apple.com"?L="apple":!L&&(I==null?void 0:I.providerId)==="google.com"&&(L="google"),!L)throw new Error("Unable to determine authentication provider");let B="",le="",ce=T.email||"";if(L==="apple"&&(I!=null&&I.profile)){const De=I.profile;De.name&&(B=De.name.firstName||"",le=De.name.lastName||""),De.email&&(ce=De.email)}else(L==="google"||!(I!=null&&I.profile))&&(B=((q=T.displayName)==null?void 0:q.split(" ")[0])||"",le=((U=T.displayName)==null?void 0:U.split(" ").slice(1).join(" "))||"");const W={idToken:z,uid:T.uid,email:ce,firstName:B,lastName:le,type:L,profilePhoto:T.photoURL||"",userName:L==="apple"?"":ce||T.uid,country:"",phone:"",gender:""},Ce=await ot("POST","/api/auth/social",W),_e=await Ce.json();if(!Ce.ok)throw new Error(_e.error||`Authentication failed: ${Ce.status}`);if(_e.success){if(!D&&_e.newuser===!0)return l(!0),d(T.email||""),m(T),_e;const De={id:_e.data._id||_e.data.id,email:_e.data.email,firstName:_e.data.firstName,lastName:_e.data.lastName||"",profilePhoto:_e.data.profilePhoto||T.photoURL||"",userName:_e.data.userName,country:_e.data.country||"",phone:_e.data.phone||"",seller:_e.data.seller||!1,admin:_e.data.admin||!1,authProvider:L,address:_e.data.address,defaultpaymentmethod:_e.data.defaultpaymentmethod};r(De),localStorage.setItem("userId",De.id),localStorage.setItem("user",JSON.stringify(De)),_e.accessToken&&localStorage.setItem("accessToken",_e.accessToken),l(!1),d(null),m(null)}else throw new Error(_e.message||"Authentication failed");return _e}catch(z){throw console.error("Authentication failed:",(z==null?void 0:z.message)||z),z}},v=async(T,I)=>await j(T,I),j=async(T,I)=>{try{a(!0);const D=e7.parse({email:T,password:I}),U=await(await ot("POST","/api/auth/login",D)).json();if(U.success){const z={id:U.data._id||U.data.id,email:U.data.email,firstName:U.data.firstName,lastName:U.data.lastName||"",profilePhoto:U.data.profilePhoto||"",userName:U.data.userName,country:U.data.country||"",phone:U.data.phone||"",seller:U.data.seller||!1,admin:U.data.admin||!1,authProvider:"email",address:U.data.address,defaultpaymentmethod:U.data.defaultpaymentmethod};r(z),localStorage.setItem("userId",z.id),localStorage.setItem("user",JSON.stringify(z)),U.accessToken&&localStorage.setItem("accessToken",U.accessToken)}else{const z=U.message||U.error||"Login failed";throw new Error(z)}}catch(D){throw console.error("Email login failed:",D),D}finally{a(!1)}},P=async(T,I,D,q,U,z,L)=>{try{a(!0);const B=t7.parse({email:T,password:I,firstName:D,lastName:q,userName:U,phone:z,country:L}),ce=await(await ot("POST","/api/auth/signup",B)).json();if(ce.success){const W={id:ce.data._id||ce.data.id,email:ce.data.email,firstName:ce.data.firstName,lastName:ce.data.lastName||"",profilePhoto:ce.data.profilePhoto||"",userName:ce.data.userName,country:ce.data.country||L,phone:ce.data.phone||"",seller:ce.data.seller||!1,admin:ce.data.admin||!1,authProvider:"email",address:ce.data.address,defaultpaymentmethod:ce.data.defaultpaymentmethod};r(W),localStorage.setItem("userId",W.id),localStorage.setItem("user",JSON.stringify(W)),ce.accessToken&&localStorage.setItem("accessToken",ce.accessToken)}else{const W=ce.message||ce.error||"Signup failed";throw new Error(W)}}catch(B){throw console.error("Email signup failed:",B),B}finally{a(!1)}},E=async()=>{try{a(!0);const T=await wV();if(T!=null&&T.user){const I=T.user.email;if(!I)throw new Error("No email found in Google account");const q=await(await ot("GET",`/api/users/userexists/email?email=${encodeURIComponent(I)}`)).json();console.log("[loginWithGoogle] User existence check:",q),q.exists?await w(T.user,T==null?void 0:T.additionalUserInfo,!0):(l(!0),d(I),m(T.user),console.log("[loginWithGoogle] New user detected, redirecting to data collection"))}}catch(T){throw console.error("Google login failed:",T),T}finally{a(!1)}},O=async()=>{try{a(!0);const T=await _V();T!=null&&T.user&&await w(T.user,T==null?void 0:T.additionalUserInfo)}catch(T){throw console.error("Apple login failed:",T),T}finally{a(!1)}},C=async T=>{try{if(a(!0),!h)throw new Error("No pending social authentication data found");const I=zT.parse(T);let D="google";h.providerData&&h.providerData.length>0&&(h.providerData.some(L=>L.providerId==="apple.com")?D="apple":h.providerData.some(L=>L.providerId==="google.com")&&(D="google"));const q={email:h.email||"",firstName:I.firstName,lastName:I.lastName,userName:I.userName,type:D,profilePhoto:h.photoURL||"",country:I.country||"",phone:I.phone||"",gender:I.gender||""},z=await(await ot("POST","/api/auth/social/complete",q)).json();if(z.success){const L={id:z.data._id||z.data.id,email:z.data.email,firstName:z.data.firstName,lastName:z.data.lastName||"",profilePhoto:z.data.profilePhoto||h.photoURL||"",userName:z.data.userName,country:z.data.country||"",phone:z.data.phone||"",seller:z.data.seller||!1,admin:z.data.admin||!1,authProvider:D,address:z.data.address,defaultpaymentmethod:z.data.defaultpaymentmethod};r(L),localStorage.setItem("userId",L.id),localStorage.setItem("user",JSON.stringify(L)),z.accessToken&&localStorage.setItem("accessToken",z.accessToken),l(!1),d(null),m(null)}else throw new Error(z.error||"Failed to complete social authentication")}catch(I){throw console.error("Social auth completion failed:",I),I}finally{a(!1)}},N=async()=>{try{await ot("POST","/api/auth/logout",{}),await NV(),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),l(!1),d(null),m(null)}catch(T){console.error("Logout failed:",T),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),l(!1),d(null),m(null)}},_=async()=>{try{console.log("[checkAuth] Starting auth check...");const T=bV(),I=new Promise(U=>setTimeout(()=>U(null),2e3)),D=await Promise.race([T,I]);if(D!=null&&D.user&&!p.current){p.current=!0;try{await w(D.user,D==null?void 0:D.additionalUserInfo)}finally{p.current=!1}return}const q=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",q?"EXISTS":"NONE"),q)try{const U=JSON.parse(q);console.log("[checkAuth] Setting user from localStorage:",U.id),r(U),ot("GET","/api/auth/session").then(z=>z.json()).then(z=>{z.success||console.log("Session validation failed but keeping localStorage user")}).catch(z=>{console.log("Session validation error but keeping localStorage user:",z)})}catch(U){console.error("Failed to parse stored user data:",U),localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}catch(T){console.error("Auth check failed:",T);const I=localStorage.getItem("user");if(I)try{const D=JSON.parse(I);r(D)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),y.current=!0,a(!1)}},k=async()=>{try{if(!(n!=null&&n.id)){console.log("[refreshUserData] No user logged in");return}if(g.current){console.log("[refreshUserData] Already refreshing, skipping...");return}const T=Date.now();if(T-x.current<2e3){console.log("[refreshUserData] Refreshed recently, skipping...");return}g.current=!0,x.current=T,console.log("[refreshUserData] Fetching latest user data for:",n.id);const D=await(await ot("GET",`/api/address/default/address/${n.id}`)).json(),q=(D==null?void 0:D.address)||null,z=await(await ot("GET",`/api/users/paymentmethod/${n.id}`)).json(),L=(z==null?void 0:z.data)||null,B={...n,address:q||n.address,defaultpaymentmethod:L||n.defaultpaymentmethod};r(B),localStorage.setItem("user",JSON.stringify(B)),console.log("[refreshUserData] User data updated:",{hasAddress:!!B.address,hasPayment:!!B.defaultpaymentmethod})}catch(T){console.error("[refreshUserData] Failed to refresh user data:",T)}finally{g.current=!1}};f.useEffect(()=>{if(!t){console.log("[AuthProvider] Firebase not configured yet - admin can still access panel to configure it"),y.current||_();return}console.log("[AuthProvider] Firebase ready, setting up auth listener");const T=CV(async I=>{console.log("[Firebase Listener] Auth state changed, user:",I?"EXISTS":"NONE","hasCheckedAuth:",y.current),I||r(null),y.current?(console.log("[Firebase Listener] Setting isLoading = false"),a(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return _(),()=>T()},[t]);const R={user:n,isLoading:i,isAuthenticated:S,pendingSocialAuth:o,pendingSocialAuthEmail:c,pendingSocialAuthData:h,login:v,emailLogin:j,emailSignup:P,loginWithGoogle:E,loginWithApple:O,completeSocialAuth:C,logout:N,checkAuth:_,refreshUserData:k};return s.jsx(KT.Provider,{value:R,children:e})}function Qi(){const e=f.useContext(KT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var hh=e=>e.type==="checkbox",Fo=e=>e instanceof Date,Zn=e=>e==null;const GT=e=>typeof e=="object";var hn=e=>!Zn(e)&&!Array.isArray(e)&&GT(e)&&!Fo(e),YT=e=>hn(e)&&e.target?hh(e.target)?e.target.checked:e.target.value:e,y7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,QT=(e,t)=>e.has(y7(t)),w7=e=>{const t=e.constructor&&e.constructor.prototype;return hn(t)&&t.hasOwnProperty("isPrototypeOf")},Lj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Lj&&(e instanceof Blob||r))&&(n||hn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!w7(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ut(e[i]));else return e;return t}var zp=e=>/^\w*$/.test(e),It=e=>e===void 0,Bp=e=>Array.isArray(e)?e.filter(Boolean):[],$j=e=>Bp(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,n)=>{if(!t||!hn(e))return n;const r=(zp(t)?[t]:$j(t)).reduce((i,a)=>Zn(i)?i:i[a],e);return It(r)||r===e?It(e[t])?n:e[t]:r},ms=e=>typeof e=="boolean",_t=(e,t,n)=>{let r=-1;const i=zp(t)?[t]:$j(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=e[l];c=hn(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const qm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Uj=Re.createContext(null);Uj.displayName="HookFormContext";const fh=()=>Re.useContext(Uj),j7=e=>{const{children:t,...n}=e;return Re.createElement(Uj.Provider,{value:n},t)};var XT=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Os.all&&(t._proxyFormState[o]=!r||Os.all),n&&(n[o]=!0),e[o]}});return i};const Wp=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function b7(e){const t=fh(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=Re.useState(n._formState),c=Re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Wp(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,a]),Re.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Re.useMemo(()=>XT(o,n,c.current,!1),[o,n])}var xs=e=>typeof e=="string",Sy=(e,t,n,r,i)=>xs(e)?(r&&t.watch.add(e),je(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),je(n,a))):(r&&(t.watchAll=!0),n),Cy=e=>Zn(e)||!GT(e);function or(e,t,n=new WeakSet){if(Cy(e)||Cy(t))return Object.is(e,t);if(Fo(e)&&Fo(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Fo(o)&&Fo(l)||hn(o)&&hn(l)||Array.isArray(o)&&Array.isArray(l)?!or(o,l,n):!Object.is(o,l))return!1}}return!0}function N7(e){const t=fh(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=e||{},c=Re.useRef(i),d=Re.useRef(l),h=Re.useRef(void 0),m=Re.useRef(n),p=Re.useRef(r);d.current=l;const[y,x]=Re.useState(()=>{const P=n._getWatch(r,c.current);return d.current?d.current(P):P}),g=Re.useCallback(P=>{const E=Sy(r,n._names,P||n._formValues,!1,c.current);return d.current?d.current(E):E},[n._formValues,n._names,r]),S=Re.useCallback(P=>{if(!a){const E=Sy(r,n._names,P||n._formValues,!1,c.current);if(d.current){const O=d.current(E);or(O,h.current)||(x(O),h.current=O)}else x(E)}},[n._formValues,n._names,a,r]);Wp(()=>((m.current!==n||!or(p.current,r))&&(m.current=n,p.current=r,S()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:P=>{S(P.values)}})),[n,o,r,S]),Re.useEffect(()=>n._removeUnmounted());const w=m.current!==n,v=p.current,j=Re.useMemo(()=>{if(a)return null;const P=!w&&!or(v,r);return w||P?g():null},[a,w,r,v,g]);return j!==null?j:y}function _7(e){const t=fh(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=e,c=QT(i._names.array,n),d=Re.useMemo(()=>je(i._formValues,n,je(i._defaultValues,n,o)),[i,n,o]),h=N7({control:i,name:n,defaultValue:d,exact:l}),m=b7({control:i,name:n,exact:l}),p=Re.useRef(e),y=Re.useRef(void 0),x=Re.useRef(i.register(n,{...e.rules,value:h,...ms(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;const g=Re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!je(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!je(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!je(m.validatingFields,n)},error:{enumerable:!0,get:()=>je(m.errors,n)}}),[m,n]),S=Re.useCallback(P=>x.current.onChange({target:{value:YT(P),name:n},type:qm.CHANGE}),[n]),w=Re.useCallback(()=>x.current.onBlur({target:{value:je(i._formValues,n),name:n},type:qm.BLUR}),[n,i._formValues]),v=Re.useCallback(P=>{const E=je(i._fields,n);E&&P&&(E._f.ref={focus:()=>P.focus&&P.focus(),select:()=>P.select&&P.select(),setCustomValidity:O=>P.setCustomValidity(O),reportValidity:()=>P.reportValidity()})},[i._fields,n]),j=Re.useMemo(()=>({name:n,value:h,...ms(r)||m.disabled?{disabled:m.disabled||r}:{},onChange:S,onBlur:w,ref:v}),[n,r,m.disabled,S,w,v,h]);return Re.useEffect(()=>{const P=i._options.shouldUnregister||a,E=y.current;E&&E!==n&&!c&&i.unregister(E),i.register(n,{...p.current.rules,...ms(p.current.disabled)?{disabled:p.current.disabled}:{}});const O=(C,N)=>{const _=je(i._fields,C);_&&_._f&&(_._f.mount=N)};if(O(n,!0),P){const C=Ut(je(i._options.defaultValues,n,p.current.defaultValue));_t(i._defaultValues,n,C),It(je(i._formValues,n))&&_t(i._formValues,n,C)}return!c&&i.register(n),y.current=n,()=>{(c?P&&!i._state.action:P)?i.unregister(n):O(n,!1)}},[n,i,c,a]),Re.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),Re.useMemo(()=>({field:j,formState:m,fieldState:g}),[j,m,g])}const S7=e=>e.render(_7(e));var ZT=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},rs=e=>Array.isArray(e)?e:[e],E1=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function JT(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&hn(i)&&a){const o=JT(i,a);hn(o)&&(n[r]=o)}else e[r]&&(n[r]=a)}return n}var In=e=>hn(e)&&!Object.keys(e).length,Vj=e=>e.type==="file",lr=e=>typeof e=="function",Km=e=>{if(!Lj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eP=e=>e.type==="select-multiple",zj=e=>e.type==="radio",C7=e=>zj(e)||hh(e),vx=e=>Km(e)&&e.isConnected;function k7(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=It(e)?r++:e[t[r++]];return e}function E7(e){for(const t in e)if(e.hasOwnProperty(t)&&!It(e[t]))return!1;return!0}function nn(e,t){const n=Array.isArray(t)?t:zp(t)?[t]:$j(t),r=n.length===1?e:k7(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(hn(r)&&In(r)||Array.isArray(r)&&E7(r))&&nn(e,n.slice(0,-1)),e}var T7=e=>{for(const t in e)if(lr(e[t]))return!0;return!1};function tP(e){return Array.isArray(e)||hn(e)&&!T7(e)}function ky(e,t={}){for(const n in e){const r=e[n];tP(r)?(t[n]=Array.isArray(r)?[]:{},ky(r,t[n])):It(r)||(t[n]=!0)}return t}function Ll(e,t,n){n||(n=ky(t));for(const r in e){const i=e[r];if(tP(i))It(t)||Cy(n[r])?n[r]=ky(i,Array.isArray(i)?[]:{}):Ll(i,Zn(t)?{}:t[r],n[r]);else{const a=t[r];n[r]=!or(i,a)}}return n}const T1={value:!1,isValid:!1},P1={value:!0,isValid:!0};var nP=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!It(e[0].attributes.value)?It(e[0].value)||e[0].value===""?P1:{value:e[0].value,isValid:!0}:P1:T1}return T1},sP=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>It(e)?e:t?e===""?NaN:e&&+e:n&&xs(e)?new Date(e):r?r(e):e;const A1={isValid:!1,value:null};var rP=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,A1):A1;function I1(e){const t=e.ref;return Vj(t)?t.files:zj(t)?rP(e.refs).value:eP(t)?[...t.selectedOptions].map(({value:n})=>n):hh(t)?nP(e.refs).value:sP(It(t.value)?e.ref.value:t.value,e)}var P7=(e,t,n,r)=>{const i={};for(const a of e){const o=je(t,a);o&&_t(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Gm=e=>e instanceof RegExp,Md=e=>It(e)?e:Gm(e)?e.source:hn(e)?Gm(e.value)?e.value.source:e.value:e,Xl=e=>({isOnSubmit:!e||e===Os.onSubmit,isOnBlur:e===Os.onBlur,isOnChange:e===Os.onChange,isOnAll:e===Os.all,isOnTouch:e===Os.onTouched});const R1="AsyncFunction";var A7=e=>!!e&&!!e.validate&&!!(lr(e.validate)&&e.validate.constructor.name===R1||hn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===R1)),I7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ey=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const hc=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=je(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(hc(l,t))break}else if(hn(l)&&hc(l,t))break}}};function D1(e,t,n){const r=je(e,n);if(r||zp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=je(t,a),l=je(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var R7=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return In(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Os.all))},D7=(e,t,n)=>!e||!t||e===t||rs(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),O7=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,M7=(e,t)=>!Bp(je(e,t)).length&&nn(e,t),iP=(e,t,n)=>{const r=rs(je(e,n));return _t(r,"root",t[n]),_t(e,n,r),e};function O1(e,t,n="validate"){if(xs(e)||Array.isArray(e)&&e.every(xs)||ms(e)&&!e)return{type:n,message:xs(e)?e:"",ref:t}}var Al=e=>hn(e)&&!Gm(e)?e:{value:e,message:""},Ty=async(e,t,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:m,max:p,pattern:y,validate:x,name:g,valueAsNumber:S,mount:w}=e._f,v=je(n,g);if(!w||t.has(g))return{};const j=l?l[0]:o,P=T=>{i&&j.reportValidity&&(j.setCustomValidity(ms(T)?"":T||""),j.reportValidity())},E={},O=zj(o),C=hh(o),N=O||C,_=(S||Vj(o))&&It(o.value)&&It(v)||Km(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,k=ZT.bind(null,g,r,E),R=(T,I,D,q=fi.maxLength,U=fi.minLength)=>{const z=T?I:D;E[g]={type:T?q:U,message:z,ref:o,...k(T?q:U,z)}};if(a?!Array.isArray(v)||!v.length:c&&(!N&&(_||Zn(v))||ms(v)&&!v||C&&!nP(l).isValid||O&&!rP(l).isValid)){const{value:T,message:I}=xs(c)?{value:!!c,message:c}:Al(c);if(T&&(E[g]={type:fi.required,message:I,ref:j,...k(fi.required,I)},!r))return P(I),E}if(!_&&(!Zn(m)||!Zn(p))){let T,I;const D=Al(p),q=Al(m);if(!Zn(v)&&!isNaN(v)){const U=o.valueAsNumber||v&&+v;Zn(D.value)||(T=U>D.value),Zn(q.value)||(I=U<q.value)}else{const U=o.valueAsDate||new Date(v),z=le=>new Date(new Date().toDateString()+" "+le),L=o.type=="time",B=o.type=="week";xs(D.value)&&v&&(T=L?z(v)>z(D.value):B?v>D.value:U>new Date(D.value)),xs(q.value)&&v&&(I=L?z(v)<z(q.value):B?v<q.value:U<new Date(q.value))}if((T||I)&&(R(!!T,D.message,q.message,fi.max,fi.min),!r))return P(E[g].message),E}if((d||h)&&!_&&(xs(v)||a&&Array.isArray(v))){const T=Al(d),I=Al(h),D=!Zn(T.value)&&v.length>+T.value,q=!Zn(I.value)&&v.length<+I.value;if((D||q)&&(R(D,T.message,I.message),!r))return P(E[g].message),E}if(y&&!_&&xs(v)){const{value:T,message:I}=Al(y);if(Gm(T)&&!v.match(T)&&(E[g]={type:fi.pattern,message:I,ref:o,...k(fi.pattern,I)},!r))return P(I),E}if(x){if(lr(x)){const T=await x(v,n),I=O1(T,j);if(I&&(E[g]={...I,...k(fi.validate,I.message)},!r))return P(I.message),E}else if(hn(x)){let T={};for(const I in x){if(!In(T)&&!r)break;const D=O1(await x[I](v,n),j,I);D&&(T={...D,...k(I,D.message)},P(D.message),r&&(E[g]=T))}if(!In(T)&&(E[g]={ref:j,...T},!r))return E}}return P(!0),E};const F7={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function L7(e={}){let t={...F7,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:lr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=hn(t.defaultValues)||hn(t.values)?Ut(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ut(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const p={array:E1(),state:E1()},y=t.criteriaMode===Os.all,x=$=>G=>{clearTimeout(d),d=setTimeout($,G)},g=async $=>{if(!t.disabled&&(h.isValid||m.isValid||$)){const G=t.resolver?In((await C()).errors):await _(r,!0);G!==n.isValid&&p.state.next({isValid:G})}},S=($,G)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&(($||Array.from(l.mount)).forEach(se=>{se&&(G?_t(n.validatingFields,se,G):nn(n.validatingFields,se))}),p.state.next({validatingFields:n.validatingFields,isValidating:!In(n.validatingFields)}))},w=($,G=[],se,Ne,ye=!0,he=!0)=>{if(Ne&&se&&!t.disabled){if(o.action=!0,he&&Array.isArray(je(r,$))){const Fe=se(je(r,$),Ne.argA,Ne.argB);ye&&_t(r,$,Fe)}if(he&&Array.isArray(je(n.errors,$))){const Fe=se(je(n.errors,$),Ne.argA,Ne.argB);ye&&_t(n.errors,$,Fe),M7(n.errors,$)}if((h.touchedFields||m.touchedFields)&&he&&Array.isArray(je(n.touchedFields,$))){const Fe=se(je(n.touchedFields,$),Ne.argA,Ne.argB);ye&&_t(n.touchedFields,$,Fe)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Ll(i,a)),p.state.next({name:$,isDirty:R($,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _t(a,$,G)},v=($,G)=>{_t(n.errors,$,G),p.state.next({errors:n.errors})},j=$=>{n.errors=$,p.state.next({errors:n.errors,isValid:!1})},P=($,G,se,Ne)=>{const ye=je(r,$);if(ye){const he=je(a,$,It(se)?je(i,$):se);It(he)||Ne&&Ne.defaultChecked||G?_t(a,$,G?he:I1(ye._f)):D($,he),o.mount&&!o.action&&g()}},E=($,G,se,Ne,ye)=>{let he=!1,Fe=!1;const ft={name:$};if(!t.disabled){if(!se||Ne){(h.isDirty||m.isDirty)&&(Fe=n.isDirty,n.isDirty=ft.isDirty=R(),he=Fe!==ft.isDirty);const yt=or(je(i,$),G);Fe=!!je(n.dirtyFields,$),yt?nn(n.dirtyFields,$):_t(n.dirtyFields,$,!0),ft.dirtyFields=n.dirtyFields,he=he||(h.dirtyFields||m.dirtyFields)&&Fe!==!yt}if(se){const yt=je(n.touchedFields,$);yt||(_t(n.touchedFields,$,se),ft.touchedFields=n.touchedFields,he=he||(h.touchedFields||m.touchedFields)&&yt!==se)}he&&ye&&p.state.next(ft)}return he?ft:{}},O=($,G,se,Ne)=>{const ye=je(n.errors,$),he=(h.isValid||m.isValid)&&ms(G)&&n.isValid!==G;if(t.delayError&&se?(c=x(()=>v($,se)),c(t.delayError)):(clearTimeout(d),c=null,se?_t(n.errors,$,se):nn(n.errors,$)),(se?!or(ye,se):ye)||!In(Ne)||he){const Fe={...Ne,...he&&ms(G)?{isValid:G}:{},errors:n.errors,name:$};n={...n,...Fe},p.state.next(Fe)}},C=async $=>{S($,!0);const G=await t.resolver(a,t.context,P7($||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return S($),G},N=async $=>{const{errors:G}=await C($);if($)for(const se of $){const Ne=je(G,se);Ne?_t(n.errors,se,Ne):nn(n.errors,se)}else n.errors=G;return G},_=async($,G,se={valid:!0})=>{for(const Ne in $){const ye=$[Ne];if(ye){const{_f:he,...Fe}=ye;if(he){const ft=l.array.has(he.name),yt=ye._f&&A7(ye._f);yt&&h.validatingFields&&S([he.name],!0);const Tn=await Ty(ye,l.disabled,a,y,t.shouldUseNativeValidation&&!G,ft);if(yt&&h.validatingFields&&S([he.name]),Tn[he.name]&&(se.valid=!1,G))break;!G&&(je(Tn,he.name)?ft?iP(n.errors,Tn,he.name):_t(n.errors,he.name,Tn[he.name]):nn(n.errors,he.name))}!In(Fe)&&await _(Fe,G,se)}}return se.valid},k=()=>{for(const $ of l.unMount){const G=je(r,$);G&&(G._f.refs?G._f.refs.every(se=>!vx(se)):!vx(G._f.ref))&&X($)}l.unMount=new Set},R=($,G)=>!t.disabled&&($&&G&&_t(a,$,G),!or(le(),i)),T=($,G,se)=>Sy($,l,{...o.mount?a:It(G)?i:xs($)?{[$]:G}:G},se,G),I=$=>Bp(je(o.mount?a:i,$,t.shouldUnregister?je(i,$,[]):[])),D=($,G,se={})=>{const Ne=je(r,$);let ye=G;if(Ne){const he=Ne._f;he&&(!he.disabled&&_t(a,$,sP(G,he)),ye=Km(he.ref)&&Zn(G)?"":G,eP(he.ref)?[...he.ref.options].forEach(Fe=>Fe.selected=ye.includes(Fe.value)):he.refs?hh(he.ref)?he.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(ye)?Fe.checked=!!ye.find(ft=>ft===Fe.value):Fe.checked=ye===Fe.value||!!ye)}):he.refs.forEach(Fe=>Fe.checked=Fe.value===ye):Vj(he.ref)?he.ref.value="":(he.ref.value=ye,he.ref.type||p.state.next({name:$,values:Ut(a)})))}(se.shouldDirty||se.shouldTouch)&&E($,ye,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&B($)},q=($,G,se)=>{for(const Ne in G){if(!G.hasOwnProperty(Ne))return;const ye=G[Ne],he=$+"."+Ne,Fe=je(r,he);(l.array.has($)||hn(ye)||Fe&&!Fe._f)&&!Fo(ye)?q(he,ye,se):D(he,ye,se)}},U=($,G,se={})=>{const Ne=je(r,$),ye=l.array.has($),he=Ut(G);_t(a,$,he),ye?(p.array.next({name:$,values:Ut(a)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&se.shouldDirty&&p.state.next({name:$,dirtyFields:Ll(i,a),isDirty:R($,he)})):Ne&&!Ne._f&&!Zn(he)?q($,he,se):D($,he,se),Ey($,l)&&p.state.next({...n,name:$}),p.state.next({name:o.mount?$:void 0,values:Ut(a)})},z=async $=>{o.mount=!0;const G=$.target;let se=G.name,Ne=!0;const ye=je(r,se),he=yt=>{Ne=Number.isNaN(yt)||Fo(yt)&&isNaN(yt.getTime())||or(yt,je(a,se,yt))},Fe=Xl(t.mode),ft=Xl(t.reValidateMode);if(ye){let yt,Tn;const Sr=G.type?I1(ye._f):YT($),ds=$.type===qm.BLUR||$.type===qm.FOCUS_OUT,fd=!I7(ye._f)&&!t.resolver&&!je(n.errors,se)&&!ye._f.deps||O7(ds,je(n.touchedFields,se),n.isSubmitted,ft,Fe),us=Ey(se,l,ds);_t(a,se,Sr),ds?(!G||!G.readOnly)&&(ye._f.onBlur&&ye._f.onBlur($),c&&c(0)):ye._f.onChange&&ye._f.onChange($);const li=E(se,Sr,ds),ci=!In(li)||us;if(!ds&&p.state.next({name:se,type:$.type,values:Ut(a)}),fd)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?ds&&g():ds||g()),ci&&p.state.next({name:se,...us?{}:li});if(!ds&&us&&p.state.next({...n}),t.resolver){const{errors:Xs}=await C([se]);if(he(Sr),Ne){const po=D1(n.errors,r,se),di=D1(Xs,r,po.name||se);yt=di.error,se=di.name,Tn=In(Xs)}}else S([se],!0),yt=(await Ty(ye,l.disabled,a,y,t.shouldUseNativeValidation))[se],S([se]),he(Sr),Ne&&(yt?Tn=!1:(h.isValid||m.isValid)&&(Tn=await _(r,!0)));Ne&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&B(ye._f.deps),O(se,Tn,yt,li))}},L=($,G)=>{if(je(n.errors,G)&&$.focus)return $.focus(),1},B=async($,G={})=>{let se,Ne;const ye=rs($);if(t.resolver){const he=await N(It($)?$:ye);se=In(he),Ne=$?!ye.some(Fe=>je(he,Fe)):se}else $?(Ne=(await Promise.all(ye.map(async he=>{const Fe=je(r,he);return await _(Fe&&Fe._f?{[he]:Fe}:Fe)}))).every(Boolean),!(!Ne&&!n.isValid)&&g()):Ne=se=await _(r);return p.state.next({...!xs($)||(h.isValid||m.isValid)&&se!==n.isValid?{}:{name:$},...t.resolver||!$?{isValid:se}:{},errors:n.errors}),G.shouldFocus&&!Ne&&hc(r,L,$?ye:l.mount),Ne},le=($,G)=>{let se={...o.mount?a:i};return G&&(se=JT(G.dirtyFields?n.dirtyFields:n.touchedFields,se)),It($)?se:xs($)?je(se,$):$.map(Ne=>je(se,Ne))},ce=($,G)=>({invalid:!!je((G||n).errors,$),isDirty:!!je((G||n).dirtyFields,$),error:je((G||n).errors,$),isValidating:!!je(n.validatingFields,$),isTouched:!!je((G||n).touchedFields,$)}),W=$=>{$&&rs($).forEach(G=>nn(n.errors,G)),p.state.next({errors:$?n.errors:{}})},Ce=($,G,se)=>{const Ne=(je(r,$,{_f:{}})._f||{}).ref,ye=je(n.errors,$)||{},{ref:he,message:Fe,type:ft,...yt}=ye;_t(n.errors,$,{...yt,...G,ref:Ne}),p.state.next({name:$,errors:n.errors,isValid:!1}),se&&se.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},_e=($,G)=>lr($)?p.state.subscribe({next:se=>"values"in se&&$(T(void 0,G),se)}):T($,G,!0),De=$=>p.state.subscribe({next:G=>{D7($.name,G.name,$.exact)&&R7(G,$.formState||h,ut,$.reRenderRoot)&&$.callback({values:{...a},...n,...G,defaultValues:i})}}).unsubscribe,He=$=>(o.mount=!0,m={...m,...$.formState},De({...$,formState:m})),X=($,G={})=>{for(const se of $?rs($):l.mount)l.mount.delete(se),l.array.delete(se),G.keepValue||(nn(r,se),nn(a,se)),!G.keepError&&nn(n.errors,se),!G.keepDirty&&nn(n.dirtyFields,se),!G.keepTouched&&nn(n.touchedFields,se),!G.keepIsValidating&&nn(n.validatingFields,se),!t.shouldUnregister&&!G.keepDefaultValue&&nn(i,se);p.state.next({values:Ut(a)}),p.state.next({...n,...G.keepDirty?{isDirty:R()}:{}}),!G.keepIsValid&&g()},Z=({disabled:$,name:G})=>{(ms($)&&o.mount||$||l.disabled.has(G))&&($?l.disabled.add(G):l.disabled.delete(G))},be=($,G={})=>{let se=je(r,$);const Ne=ms(G.disabled)||ms(t.disabled);return _t(r,$,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:$}},name:$,mount:!0,...G}}),l.mount.add($),se?Z({disabled:ms(G.disabled)?G.disabled:t.disabled,name:$}):P($,!0,G.value),{...Ne?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Md(G.min),max:Md(G.max),minLength:Md(G.minLength),maxLength:Md(G.maxLength),pattern:Md(G.pattern)}:{},name:$,onChange:z,onBlur:z,ref:ye=>{if(ye){be($,G),se=je(r,$);const he=It(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Fe=C7(he),ft=se._f.refs||[];if(Fe?ft.find(yt=>yt===he):he===se._f.ref)return;_t(r,$,{_f:{...se._f,...Fe?{refs:[...ft.filter(vx),he,...Array.isArray(je(i,$))?[{}]:[]],ref:{type:he.type,name:$}}:{ref:he}}}),P($,!1,void 0,he)}else se=je(r,$,{}),se._f&&(se._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(QT(l.array,$)&&o.action)&&l.unMount.add($)}}},H=()=>t.shouldFocusError&&hc(r,L,l.mount),fe=$=>{ms($)&&(p.state.next({disabled:$}),hc(r,(G,se)=>{const Ne=je(r,se);Ne&&(G.disabled=Ne._f.disabled||$,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(ye=>{ye.disabled=Ne._f.disabled||$}))},0,!1))},ge=($,G)=>async se=>{let Ne;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let ye=Ut(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:he,values:Fe}=await C();n.errors=he,ye=Ut(Fe)}else await _(r);if(l.disabled.size)for(const he of l.disabled)nn(ye,he);if(nn(n.errors,"root"),In(n.errors)){p.state.next({errors:{}});try{await $(ye,se)}catch(he){Ne=he}}else G&&await G({...n.errors},se),H(),setTimeout(H);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(n.errors)&&!Ne,submitCount:n.submitCount+1,errors:n.errors}),Ne)throw Ne},ke=($,G={})=>{je(r,$)&&(It(G.defaultValue)?U($,Ut(je(i,$))):(U($,G.defaultValue),_t(i,$,Ut(G.defaultValue))),G.keepTouched||nn(n.touchedFields,$),G.keepDirty||(nn(n.dirtyFields,$),n.isDirty=G.defaultValue?R($,Ut(je(i,$))):R()),G.keepError||(nn(n.errors,$),h.isValid&&g()),p.state.next({...n}))},st=($,G={})=>{const se=$?Ut($):i,Ne=Ut(se),ye=In($),he=ye?i:Ne;if(G.keepDefaultValues||(i=se),!G.keepValues){if(G.keepDirtyValues){const Fe=new Set([...l.mount,...Object.keys(Ll(i,a))]);for(const ft of Array.from(Fe))je(n.dirtyFields,ft)?_t(he,ft,je(a,ft)):U(ft,je(he,ft))}else{if(Lj&&It($))for(const Fe of l.mount){const ft=je(r,Fe);if(ft&&ft._f){const yt=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(Km(yt)){const Tn=yt.closest("form");if(Tn){Tn.reset();break}}}}if(G.keepFieldsRef)for(const Fe of l.mount)U(Fe,je(he,Fe));else r={}}a=t.shouldUnregister?G.keepDefaultValues?Ut(i):{}:Ut(he),p.array.next({values:{...he}}),p.state.next({values:{...he}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!In(he),o.watch=!!t.shouldUnregister,o.action=!1,G.keepErrors||(n.errors={}),p.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:ye?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!or($,i)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ye?{}:G.keepDirtyValues?G.keepDefaultValues&&a?Ll(i,a):n.dirtyFields:G.keepDefaultValues&&$?Ll(i,$):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Be=($,G)=>st(lr($)?$(a):$,G),Je=($,G={})=>{const se=je(r,$),Ne=se&&se._f;if(Ne){const ye=Ne.refs?Ne.refs[0]:Ne.ref;ye.focus&&(ye.focus(),G.shouldSelect&&lr(ye.select)&&ye.select())}},ut=$=>{n={...n,...$}},ct={control:{register:be,unregister:X,getFieldState:ce,handleSubmit:ge,setError:Ce,_subscribe:De,_runSchema:C,_focusError:H,_getWatch:T,_getDirty:R,_setValid:g,_setFieldArray:w,_setDisabledField:Z,_setErrors:j,_getFieldArray:I,_reset:st,_resetDefaultValues:()=>lr(t.defaultValues)&&t.defaultValues().then($=>{Be($,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:fe,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return t},set _options($){t={...t,...$}}},subscribe:He,trigger:B,register:be,handleSubmit:ge,watch:_e,setValue:U,getValues:le,reset:Be,resetField:ke,clearErrors:W,unregister:X,setError:Ce,setFocus:Je,getFieldState:ce};return{...ct,formControl:ct}}var da=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},yx=(e,t,n={})=>n.shouldFocus||It(n.shouldFocus)?n.focusName||`${e}.${It(n.focusIndex)?t:n.focusIndex}.`:"",wx=(e,t)=>[...e,...rs(t)],jx=e=>Array.isArray(e)?e.map(()=>{}):void 0;function bx(e,t,n){return[...e.slice(0,t),...rs(n),...e.slice(t)]}var Nx=(e,t,n)=>Array.isArray(e)?(It(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],_x=(e,t)=>[...rs(t),...rs(e)];function $7(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return Bp(r).length?r:[]}var Sx=(e,t)=>It(t)?[]:$7(e,rs(t).sort((n,r)=>n-r)),Cx=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},M1=(e,t,n)=>(e[t]=n,e);function mh(e){const t=fh(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:a,rules:o}=e,[l,c]=Re.useState(n._getFieldArray(r)),d=Re.useRef(n._getFieldArray(r).map(da)),h=Re.useRef(!1);n._names.array.add(r),Re.useMemo(()=>o&&l.length>=0&&n.register(r,o),[n,r,l.length,o]),Wp(()=>n._subjects.array.subscribe({next:({values:P,name:E})=>{if(E===r||!E){const O=je(P,r);Array.isArray(O)&&(c(O),d.current=O.map(da))}}}).unsubscribe,[n,r]);const m=Re.useCallback(P=>{h.current=!0,n._setFieldArray(r,P)},[n,r]),p=(P,E)=>{const O=rs(Ut(P)),C=wx(n._getFieldArray(r),O);n._names.focus=yx(r,C.length-1,E),d.current=wx(d.current,O.map(da)),m(C),c(C),n._setFieldArray(r,C,wx,{argA:jx(P)})},y=(P,E)=>{const O=rs(Ut(P)),C=_x(n._getFieldArray(r),O);n._names.focus=yx(r,0,E),d.current=_x(d.current,O.map(da)),m(C),c(C),n._setFieldArray(r,C,_x,{argA:jx(P)})},x=P=>{const E=Sx(n._getFieldArray(r),P);d.current=Sx(d.current,P),m(E),c(E),!Array.isArray(je(n._fields,r))&&_t(n._fields,r,void 0),n._setFieldArray(r,E,Sx,{argA:P})},g=(P,E,O)=>{const C=rs(Ut(E)),N=bx(n._getFieldArray(r),P,C);n._names.focus=yx(r,P,O),d.current=bx(d.current,P,C.map(da)),m(N),c(N),n._setFieldArray(r,N,bx,{argA:P,argB:jx(E)})},S=(P,E)=>{const O=n._getFieldArray(r);Cx(O,P,E),Cx(d.current,P,E),m(O),c(O),n._setFieldArray(r,O,Cx,{argA:P,argB:E},!1)},w=(P,E)=>{const O=n._getFieldArray(r);Nx(O,P,E),Nx(d.current,P,E),m(O),c(O),n._setFieldArray(r,O,Nx,{argA:P,argB:E},!1)},v=(P,E)=>{const O=Ut(E),C=M1(n._getFieldArray(r),P,O);d.current=[...C].map((N,_)=>!N||_===P?da():d.current[_]),m(C),c([...C]),n._setFieldArray(r,C,M1,{argA:P,argB:O},!0,!1)},j=P=>{const E=rs(Ut(P));d.current=E.map(da),m([...E]),c([...E]),n._setFieldArray(r,[...E],O=>O,{},!0,!1)};return Re.useEffect(()=>{if(n._state.action=!1,Ey(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!Xl(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Xl(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(P=>{const E=je(P.errors,r),O=je(n._formState.errors,r);(O?!E&&O.type||E&&(O.type!==E.type||O.message!==E.message):E&&E.type)&&(E?_t(n._formState.errors,r,E):nn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const P=je(n._fields,r);P&&P._f&&!(Xl(n._options.reValidateMode).isOnSubmit&&Xl(n._options.mode).isOnSubmit)&&Ty(P,n._names.disabled,n._formValues,n._options.criteriaMode===Os.all,n._options.shouldUseNativeValidation,!0).then(E=>!In(E)&&n._subjects.state.next({errors:iP(n._formState.errors,E,r)}))}n._subjects.state.next({name:r,values:Ut(n._formValues)}),n._names.focus&&hc(n._fields,(P,E)=>{if(n._names.focus&&E.startsWith(n._names.focus)&&P.focus)return P.focus(),1}),n._names.focus="",n._setValid(),h.current=!1},[l,r,n]),Re.useEffect(()=>(!je(n._formValues,r)&&n._setFieldArray(r),()=>{const P=(E,O)=>{const C=je(n._fields,E);C&&C._f&&(C._f.mount=O)};n._options.shouldUnregister||a?n.unregister(r):P(r,!1)}),[r,n,i,a]),{swap:Re.useCallback(S,[m,r,n]),move:Re.useCallback(w,[m,r,n]),prepend:Re.useCallback(y,[m,r,n]),append:Re.useCallback(p,[m,r,n]),remove:Re.useCallback(x,[m,r,n]),insert:Re.useCallback(g,[m,r,n]),update:Re.useCallback(v,[m,r,n]),replace:Re.useCallback(j,[m,r,n]),fields:Re.useMemo(()=>l.map((P,E)=>({...P,[i]:d.current[E]||da()})),[l,i])}}function _l(e={}){const t=Re.useRef(void 0),n=Re.useRef(void 0),[r,i]=Re.useState({isDirty:!1,isValidating:!1,isLoading:lr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:lr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!lr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=L7(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,Wp(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Re.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Re.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Re.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Re.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Re.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Re.useEffect(()=>{var o;e.values&&!or(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),Re.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=XT(r,a),t.current}const F1=(e,t,n)=>{if(e&&"reportValidity"in e){const r=je(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},aP=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?F1(r.ref,n,e):r.refs&&r.refs.forEach(i=>F1(i,n,e))}},U7=(e,t)=>{t.shouldUseNativeValidation&&aP(e,t);const n={};for(const r in e){const i=je(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(V7(t.names||Object.keys(e),r)){const o=Object.assign({},je(n,r));_t(o,"root",a),_t(n,r,o)}else _t(n,r,a)}return n},V7=(e,t)=>e.some(n=>n.startsWith(t+"."));var z7=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return e.push(m)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=ZT(o,t,n,i,d?[].concat(d,r.message):r.message)}e.shift()}return n},Sl=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&aP({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:U7(z7(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const ee=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const re=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));re.displayName="CardHeader";const oe=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));oe.displayName="CardTitle";const Ee=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));Ee.displayName="CardDescription";const te=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("p-6 pt-0",e),...t}));te.displayName="CardContent";const B7=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",e),...t}));B7.displayName="CardFooter";var W7=Symbol.for("react.lazy"),Ym=lp[" use ".trim().toString()];function H7(e){return typeof e=="object"&&e!==null&&"then"in e}function oP(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===W7&&"_payload"in e&&H7(e._payload)}function ph(e){const t=q7(e),n=f.forwardRef((r,i)=>{let{children:a,...o}=r;oP(a)&&typeof Ym=="function"&&(a=Ym(a._payload));const l=f.Children.toArray(a),c=l.find(G7);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var lP=ph("Slot");function q7(e){const t=f.forwardRef((n,r)=>{let{children:i,...a}=n;if(oP(i)&&typeof Ym=="function"&&(i=Ym(i._payload)),f.isValidElement(i)){const o=Q7(i),l=Y7(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var K7=Symbol("radix.slottable");function G7(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===K7}function Y7(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Q7(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Vu=sh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?lP:"button";return s.jsx(o,{className:xe(Vu({variant:t,size:n,className:e})),ref:a,...i})});K.displayName="Button";const ne=f.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ne.displayName="Input";var X7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z7=X7.reduce((e,t)=>{const n=ph(`Primitive.${t}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),J7="Label",cP=f.forwardRef((e,t)=>s.jsx(Z7.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cP.displayName=J7;var dP=cP;const ez=sh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=f.forwardRef(({className:e,...t},n)=>s.jsx(dP,{ref:n,className:xe(ez(),e),...t}));Y.displayName=dP.displayName;const tz=j7,uP=f.createContext({}),Il=({...e})=>s.jsx(uP.Provider,{value:{name:e.name},children:s.jsx(S7,{...e})}),Hp=()=>{const e=f.useContext(uP),t=f.useContext(hP),{getFieldState:n,formState:r}=fh(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},hP=f.createContext({}),So=f.forwardRef(({className:e,...t},n)=>{const r=f.useId();return s.jsx(hP.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:xe("space-y-2",e),...t})})});So.displayName="FormItem";const nz=f.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=Hp();return s.jsx(Y,{ref:n,className:xe(r&&"text-destructive",e),htmlFor:i,...t})});nz.displayName="FormLabel";const Co=f.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=Hp();return s.jsx(lP,{ref:t,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...e})});Co.displayName="FormControl";const sz=f.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Hp();return s.jsx("p",{ref:n,id:r,className:xe("text-sm text-muted-foreground",e),...t})});sz.displayName="FormDescription";const ko=f.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:a}=Hp(),o=i?String((i==null?void 0:i.message)??""):t;return o?s.jsx("p",{ref:r,id:a,className:xe("text-sm font-medium text-destructive",e),...n,children:o}):null});ko.displayName="FormMessage";function Py(e,[t,n]){return Math.min(n,Math.max(t,e))}var rz=f.createContext(void 0);function gh(e){const t=f.useContext(rz);return e||t||"ltr"}var kx=0;function qp(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??L1()),document.body.insertAdjacentElement("beforeend",e[1]??L1()),kx++,()=>{kx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),kx--}},[])}function L1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ex="focusScope.autoFocusOnMount",Tx="focusScope.autoFocusOnUnmount",$1={bubbles:!1,cancelable:!0},iz="FocusScope",xh=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=f.useState(null),d=Yt(i),h=Yt(a),m=f.useRef(null),p=Ye(t,g=>c(g)),y=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let g=function(j){if(y.paused||!l)return;const P=j.target;l.contains(P)?m.current=P:fa(m.current,{select:!0})},S=function(j){if(y.paused||!l)return;const P=j.relatedTarget;P!==null&&(l.contains(P)||fa(m.current,{select:!0}))},w=function(j){if(document.activeElement===document.body)for(const E of j)E.removedNodes.length>0&&fa(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),v.disconnect()}}},[r,l,y.paused]),f.useEffect(()=>{if(l){V1.add(y);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(Ex,$1);l.addEventListener(Ex,d),l.dispatchEvent(w),w.defaultPrevented||(az(uz(fP(l)),{select:!0}),document.activeElement===g&&fa(l))}return()=>{l.removeEventListener(Ex,d),setTimeout(()=>{const w=new CustomEvent(Tx,$1);l.addEventListener(Tx,h),l.dispatchEvent(w),w.defaultPrevented||fa(g??document.body,{select:!0}),l.removeEventListener(Tx,h),V1.remove(y)},0)}}},[l,d,h,y]);const x=f.useCallback(g=>{if(!n&&!r||y.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(S&&w){const v=g.currentTarget,[j,P]=oz(v);j&&P?!g.shiftKey&&w===P?(g.preventDefault(),n&&fa(j,{select:!0})):g.shiftKey&&w===j&&(g.preventDefault(),n&&fa(P,{select:!0})):w===v&&g.preventDefault()}},[n,r,y.paused]);return s.jsx($e.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});xh.displayName=iz;function az(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fa(r,{select:t}),document.activeElement!==n)return}function oz(e){const t=fP(e),n=U1(t,e),r=U1(t.reverse(),e);return[n,r]}function fP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function U1(e,t){for(const n of e)if(!lz(n,{upTo:t}))return n}function lz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cz(e){return e instanceof HTMLInputElement&&"select"in e}function fa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cz(e)&&t&&e.select()}}var V1=dz();function dz(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=z1(e,t),e.unshift(t)},remove(t){var n;e=z1(e,t),(n=e[0])==null||n.resume()}}}function z1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function uz(e){return e.filter(t=>t.tagName!=="A")}function hz(e){const t=fz(e),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(pz);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function fz(e){const t=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=xz(i),l=gz(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mz=Symbol("radix.slottable");function pz(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mz}function gz(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function xz(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Bj(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var vz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Rl=new WeakMap,wf=new WeakMap,jf={},Px=0,mP=function(e){return e&&(e.host||mP(e.parentNode))},yz=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=mP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},wz=function(e,t,n,r){var i=yz(t,Array.isArray(e)?e:[e]);jf[n]||(jf[n]=new WeakMap);var a=jf[n],o=[],l=new Set,c=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var y=p.getAttribute(r),x=y!==null&&y!=="false",g=(Rl.get(p)||0)+1,S=(a.get(p)||0)+1;Rl.set(p,g),a.set(p,S),o.push(p),g===1&&x&&wf.set(p,!0),S===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(t),l.clear(),Px++,function(){o.forEach(function(m){var p=Rl.get(m)-1,y=a.get(m)-1;Rl.set(m,p),a.set(m,y),p||(wf.has(m)||m.removeAttribute(r),wf.delete(m)),y||m.removeAttribute(n)}),Px--,Px||(Rl=new WeakMap,Rl=new WeakMap,wf=new WeakMap,jf={})}},Kp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=vz(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),wz(r,i,n,"aria-hidden")):function(){return null}},Fr=function(){return Fr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Fr.apply(this,arguments)};function pP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jz(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var qf="right-scroll-bar-position",Kf="width-before-scroll-bar",bz="with-scroll-bars-hidden",Nz="--removed-body-scroll-bar-size";function Ax(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _z(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Sz=typeof window<"u"?f.useLayoutEffect:f.useEffect,B1=new WeakMap;function Cz(e,t){var n=_z(null,function(r){return e.forEach(function(i){return Ax(i,r)})});return Sz(function(){var r=B1.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||Ax(l,null)}),a.forEach(function(l){i.has(l)||Ax(l,o)})}B1.set(n,e)},[e]),n}function kz(e){return e}function Ez(e,t){t===void 0&&(t=kz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function Tz(e){e===void 0&&(e={});var t=Ez(null);return t.options=Fr({async:!0,ssr:!1},e),t}var gP=function(e){var t=e.sideCar,n=pP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Fr({},n))};gP.isSideCarExport=!0;function Pz(e,t){return e.useMedium(t),gP}var xP=Tz(),Ix=function(){},Gp=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Ix,onWheelCapture:Ix,onTouchMoveCapture:Ix}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,m=e.shards,p=e.sideCar,y=e.noRelative,x=e.noIsolation,g=e.inert,S=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,j=e.gapMode,P=pP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=p,O=Cz([n,t]),C=Fr(Fr({},P),i);return f.createElement(f.Fragment,null,h&&f.createElement(E,{sideCar:xP,removeScrollBar:d,shards:m,noRelative:y,noIsolation:x,inert:g,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:j}),o?f.cloneElement(f.Children.only(l),Fr(Fr({},C),{ref:O})):f.createElement(v,Fr({},C,{className:c,ref:O}),l))});Gp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gp.classNames={fullWidth:Kf,zeroRight:qf};var Az=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Iz(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Az();return t&&e.setAttribute("nonce",t),e}function Rz(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Dz(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Oz=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Iz())&&(Rz(t,n),Dz(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Mz=function(){var e=Oz();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},vP=function(){var e=Mz(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Fz={left:0,top:0,right:0,gap:0},Rx=function(e){return parseInt(e||"",10)||0},Lz=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Rx(n),Rx(r),Rx(i)]},$z=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Fz;var t=Lz(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Uz=vP(),fc="data-scroll-locked",Vz=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(bz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(fc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Kf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qf," .").concat(qf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kf," .").concat(Kf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fc,`] {
    `).concat(Nz,": ").concat(l,`px;
  }
`)},W1=function(){var e=parseInt(document.body.getAttribute(fc)||"0",10);return isFinite(e)?e:0},zz=function(){f.useEffect(function(){return document.body.setAttribute(fc,(W1()+1).toString()),function(){var e=W1()-1;e<=0?document.body.removeAttribute(fc):document.body.setAttribute(fc,e.toString())}},[])},Bz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;zz();var a=f.useMemo(function(){return $z(i)},[i]);return f.createElement(Uz,{styles:Vz(a,!t,i,n?"":"!important")})},Ay=!1;if(typeof window<"u")try{var bf=Object.defineProperty({},"passive",{get:function(){return Ay=!0,!0}});window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{Ay=!1}var Dl=Ay?{passive:!1}:!1,Wz=function(e){return e.tagName==="TEXTAREA"},yP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wz(e)&&n[t]==="visible")},Hz=function(e){return yP(e,"overflowY")},qz=function(e){return yP(e,"overflowX")},H1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wP(e,r);if(i){var a=jP(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Kz=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Gz=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wP=function(e,t){return e==="v"?Hz(t):qz(t)},jP=function(e,t){return e==="v"?Kz(t):Gz(t)},Yz=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qz=function(e,t,n,r,i){var a=Yz(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),d=!1,h=o>0,m=0,p=0;do{if(!l)break;var y=jP(e,l),x=y[0],g=y[1],S=y[2],w=g-S-a*x;(x||w)&&wP(e,l)&&(m+=w,p+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(d=!0),d},Nf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},q1=function(e){return[e.deltaX,e.deltaY]},K1=function(e){return e&&"current"in e?e.current:e},Xz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Jz=0,Ol=[];function eB(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),i=f.useState(Jz++)[0],a=f.useState(vP)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=jz([e.lockRef.current],(e.shards||[]).map(K1),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=Nf(g),v=n.current,j="deltaX"in g?g.deltaX:v[0]-w[0],P="deltaY"in g?g.deltaY:v[1]-w[1],E,O=g.target,C=Math.abs(j)>Math.abs(P)?"h":"v";if("touches"in g&&C==="h"&&O.type==="range")return!1;var N=window.getSelection(),_=N&&N.anchorNode,k=_?_===O||_.contains(O):!1;if(k)return!1;var R=H1(C,O);if(!R)return!0;if(R?E=C:(E=C==="v"?"h":"v",R=H1(C,O)),!R)return!1;if(!r.current&&"changedTouches"in g&&(j||P)&&(r.current=E),!E)return!0;var T=r.current||E;return Qz(T,S,g,T==="h"?j:P)},[]),c=f.useCallback(function(g){var S=g;if(!(!Ol.length||Ol[Ol.length-1]!==a)){var w="deltaY"in S?q1(S):Nf(S),v=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&Xz(E.delta,w)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var j=(o.current.shards||[]).map(K1).filter(Boolean).filter(function(E){return E.contains(S.target)}),P=j.length>0?l(S,j[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),d=f.useCallback(function(g,S,w,v){var j={name:g,delta:S,target:w,should:v,shadowParent:tB(w)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(P){return P!==j})},1)},[]),h=f.useCallback(function(g){n.current=Nf(g),r.current=void 0},[]),m=f.useCallback(function(g){d(g.type,q1(g),g.target,l(g,e.lockRef.current))},[]),p=f.useCallback(function(g){d(g.type,Nf(g),g.target,l(g,e.lockRef.current))},[]);f.useEffect(function(){return Ol.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Dl),document.addEventListener("touchmove",c,Dl),document.addEventListener("touchstart",h,Dl),function(){Ol=Ol.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Dl),document.removeEventListener("touchmove",c,Dl),document.removeEventListener("touchstart",h,Dl)}},[]);var y=e.removeScrollBar,x=e.inert;return f.createElement(f.Fragment,null,x?f.createElement(a,{styles:Zz(i)}):null,y?f.createElement(Bz,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function tB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nB=Pz(xP,eB);var vh=f.forwardRef(function(e,t){return f.createElement(Gp,Fr({},e,{ref:t,sideCar:nB}))});vh.classNames=Gp.classNames;var sB=[" ","Enter","ArrowUp","ArrowDown"],rB=[" ","Enter"],hl="Select",[Yp,Qp,iB]=Sp(hl),[hd]=Fn(hl,[iB,oo]),Xp=oo(),[aB,co]=hd(hl),[oB,lB]=hd(hl),bP=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:m,disabled:p,required:y,form:x}=e,g=Xp(t),[S,w]=f.useState(null),[v,j]=f.useState(null),[P,E]=f.useState(!1),O=gh(d),[C,N]=gr({prop:r,defaultProp:i??!1,onChange:a,caller:hl}),[_,k]=gr({prop:o,defaultProp:l,onChange:c,caller:hl}),R=f.useRef(null),T=S?x||!!S.closest("form"):!0,[I,D]=f.useState(new Set),q=Array.from(I).map(U=>U.props.value).join(";");return s.jsx(fj,{...g,children:s.jsxs(aB,{required:y,scope:t,trigger:S,onTriggerChange:w,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:$s(),value:_,onValueChange:k,open:C,onOpenChange:N,dir:O,triggerPointerDownPosRef:R,disabled:p,children:[s.jsx(Yp.Provider,{scope:t,children:s.jsx(oB,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(U=>{D(z=>new Set(z).add(U))},[]),onNativeOptionRemove:f.useCallback(U=>{D(z=>{const L=new Set(z);return L.delete(U),L})},[]),children:n})}),T?s.jsxs(qP,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:m,value:_,onChange:U=>k(U.target.value),disabled:p,form:x,children:[_===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},q):null]})})};bP.displayName=hl;var NP="SelectTrigger",_P=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Xp(n),o=co(NP,n),l=o.disabled||r,c=Ye(t,o.onTriggerChange),d=Qp(n),h=f.useRef("touch"),[m,p,y]=GP(g=>{const S=d().filter(j=>!j.disabled),w=S.find(j=>j.value===o.value),v=YP(S,g,w);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),y()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(ih,{asChild:!0,...a,children:s.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":KP(o.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&x(g)}),onPointerDown:pe(i.onPointerDown,g=>{h.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const S=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(S&&g.key===" ")&&sB.includes(g.key)&&(x(),g.preventDefault())})})})});_P.displayName=NP;var SP="SelectValue",CP=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=co(SP,n),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,m=Ye(t,c.onValueNodeChange);return Zt(()=>{d(h)},[d,h]),s.jsx($e.span,{...l,ref:m,style:{pointerEvents:"none"},children:KP(c.value)?s.jsx(s.Fragment,{children:o}):a})});CP.displayName=SP;var cB="SelectIcon",kP=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx($e.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});kP.displayName=cB;var dB="SelectPortal",EP=e=>s.jsx(nd,{asChild:!0,...e});EP.displayName=dB;var fl="SelectContent",TP=f.forwardRef((e,t)=>{const n=co(fl,e.__scopeSelect),[r,i]=f.useState();if(Zt(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?vl.createPortal(s.jsx(PP,{scope:e.__scopeSelect,children:s.jsx(Yp.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(AP,{...e,ref:t})});TP.displayName=fl;var Js=10,[PP,uo]=hd(fl),uB="SelectContentImpl",hB=hz("SelectContent.RemoveScroll"),AP=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:y,sticky:x,hideWhenDetached:g,avoidCollisions:S,...w}=e,v=co(fl,n),[j,P]=f.useState(null),[E,O]=f.useState(null),C=Ye(t,X=>P(X)),[N,_]=f.useState(null),[k,R]=f.useState(null),T=Qp(n),[I,D]=f.useState(!1),q=f.useRef(!1);f.useEffect(()=>{if(j)return Kp(j)},[j]),qp();const U=f.useCallback(X=>{const[Z,...be]=T().map(ge=>ge.ref.current),[H]=be.slice(-1),fe=document.activeElement;for(const ge of X)if(ge===fe||(ge==null||ge.scrollIntoView({block:"nearest"}),ge===Z&&E&&(E.scrollTop=0),ge===H&&E&&(E.scrollTop=E.scrollHeight),ge==null||ge.focus(),document.activeElement!==fe))return},[T,E]),z=f.useCallback(()=>U([N,j]),[U,N,j]);f.useEffect(()=>{I&&z()},[I,z]);const{onOpenChange:L,triggerPointerDownPosRef:B}=v;f.useEffect(()=>{if(j){let X={x:0,y:0};const Z=H=>{var fe,ge;X={x:Math.abs(Math.round(H.pageX)-(((fe=B.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(H.pageY)-(((ge=B.current)==null?void 0:ge.y)??0))}},be=H=>{X.x<=10&&X.y<=10?H.preventDefault():j.contains(H.target)||L(!1),document.removeEventListener("pointermove",Z),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",be,{capture:!0})}}},[j,L,B]),f.useEffect(()=>{const X=()=>L(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[L]);const[le,ce]=GP(X=>{const Z=T().filter(fe=>!fe.disabled),be=Z.find(fe=>fe.ref.current===document.activeElement),H=YP(Z,X,be);H&&setTimeout(()=>H.ref.current.focus())}),W=f.useCallback((X,Z,be)=>{const H=!q.current&&!be;(v.value!==void 0&&v.value===Z||H)&&(_(X),H&&(q.current=!0))},[v.value]),Ce=f.useCallback(()=>j==null?void 0:j.focus(),[j]),_e=f.useCallback((X,Z,be)=>{const H=!q.current&&!be;(v.value!==void 0&&v.value===Z||H)&&R(X)},[v.value]),De=r==="popper"?Iy:IP,He=De===Iy?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:y,sticky:x,hideWhenDetached:g,avoidCollisions:S}:{};return s.jsx(PP,{scope:n,content:j,viewport:E,onViewportChange:O,itemRefCallback:W,selectedItem:N,onItemLeave:Ce,itemTextRefCallback:_e,focusSelectedItem:z,selectedItemText:k,position:r,isPositioned:I,searchRef:le,children:s.jsx(vh,{as:hB,allowPinchZoom:!0,children:s.jsx(xh,{asChild:!0,trapped:v.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:pe(i,X=>{var Z;(Z=v.trigger)==null||Z.focus({preventScroll:!0}),X.preventDefault()}),children:s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(De,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:X=>X.preventDefault(),...w,...He,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:pe(w.onKeyDown,X=>{const Z=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!Z&&X.key.length===1&&ce(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let H=T().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(X.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const fe=X.target,ge=H.indexOf(fe);H=H.slice(ge+1)}setTimeout(()=>U(H)),X.preventDefault()}})})})})})})});AP.displayName=uB;var fB="SelectItemAlignedPosition",IP=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=co(fl,n),o=uo(fl,n),[l,c]=f.useState(null),[d,h]=f.useState(null),m=Ye(t,C=>h(C)),p=Qp(n),y=f.useRef(!1),x=f.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:w,focusSelectedItem:v}=o,j=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&S&&w){const C=a.trigger.getBoundingClientRect(),N=d.getBoundingClientRect(),_=a.valueNode.getBoundingClientRect(),k=w.getBoundingClientRect();if(a.dir!=="rtl"){const fe=k.left-N.left,ge=_.left-fe,ke=C.left-ge,st=C.width+ke,Be=Math.max(st,N.width),Je=window.innerWidth-Js,ut=Py(ge,[Js,Math.max(Js,Je-Be)]);l.style.minWidth=st+"px",l.style.left=ut+"px"}else{const fe=N.right-k.right,ge=window.innerWidth-_.right-fe,ke=window.innerWidth-C.right-ge,st=C.width+ke,Be=Math.max(st,N.width),Je=window.innerWidth-Js,ut=Py(ge,[Js,Math.max(Js,Je-Be)]);l.style.minWidth=st+"px",l.style.right=ut+"px"}const R=p(),T=window.innerHeight-Js*2,I=g.scrollHeight,D=window.getComputedStyle(d),q=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),z=parseInt(D.borderBottomWidth,10),L=parseInt(D.paddingBottom,10),B=q+U+I+L+z,le=Math.min(S.offsetHeight*5,B),ce=window.getComputedStyle(g),W=parseInt(ce.paddingTop,10),Ce=parseInt(ce.paddingBottom,10),_e=C.top+C.height/2-Js,De=T-_e,He=S.offsetHeight/2,X=S.offsetTop+He,Z=q+U+X,be=B-Z;if(Z<=_e){const fe=R.length>0&&S===R[R.length-1].ref.current;l.style.bottom="0px";const ge=d.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(De,He+(fe?Ce:0)+ge+z),st=Z+ke;l.style.height=st+"px"}else{const fe=R.length>0&&S===R[0].ref.current;l.style.top="0px";const ke=Math.max(_e,q+g.offsetTop+(fe?W:0)+He)+be;l.style.height=ke+"px",g.scrollTop=Z-_e+g.offsetTop}l.style.margin=`${Js}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[p,a.trigger,a.valueNode,l,d,g,S,w,a.dir,r]);Zt(()=>j(),[j]);const[P,E]=f.useState();Zt(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const O=f.useCallback(C=>{C&&x.current===!0&&(j(),v==null||v(),x.current=!1)},[j,v]);return s.jsx(pB,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx($e.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});IP.displayName=fB;var mB="SelectPopperPosition",Iy=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Js,...a}=e,o=Xp(n);return s.jsx(Ip,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Iy.displayName=mB;var[pB,Wj]=hd(fl,{}),Ry="SelectViewport",RP=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=uo(Ry,n),o=Wj(Ry,n),l=Ye(t,a.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Yp.Slot,{scope:n,children:s.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const y=Math.abs(c.current-h.scrollTop);if(y>0){const x=window.innerHeight-Js*2,g=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),w=Math.max(g,S);if(w<x){const v=w+y,j=Math.min(x,v),P=v-j;m.style.height=j+"px",m.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});RP.displayName=Ry;var DP="SelectGroup",[gB,xB]=hd(DP),vB=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$s();return s.jsx(gB,{scope:n,id:i,children:s.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:t})})});vB.displayName=DP;var OP="SelectLabel",MP=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=xB(OP,n);return s.jsx($e.div,{id:i.id,...r,ref:t})});MP.displayName=OP;var Qm="SelectItem",[yB,FP]=hd(Qm),LP=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=co(Qm,n),c=uo(Qm,n),d=l.value===r,[h,m]=f.useState(a??""),[p,y]=f.useState(!1),x=Ye(t,v=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,v,r,i)}),g=$s(),S=f.useRef("touch"),w=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(yB,{scope:n,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:f.useCallback(v=>{m(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(Yp.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx($e.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:pe(o.onFocus,()=>y(!0)),onBlur:pe(o.onBlur,()=>y(!1)),onClick:pe(o.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:pe(o.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:pe(o.onPointerDown,v=>{S.current=v.pointerType}),onPointerMove:pe(o.onPointerMove,v=>{var j;S.current=v.pointerType,i?(j=c.onItemLeave)==null||j.call(c):S.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:pe(o.onKeyDown,v=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&v.key===" "||(rB.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});LP.displayName=Qm;var Hd="SelectItemText",$P=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=co(Hd,n),l=uo(Hd,n),c=FP(Hd,n),d=lB(Hd,n),[h,m]=f.useState(null),p=Ye(t,w=>m(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),y=h==null?void 0:h.textContent,x=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=d;return Zt(()=>(g(x),()=>S(x)),[g,S,x]),s.jsxs(s.Fragment,{children:[s.jsx($e.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vl.createPortal(a.children,o.valueNode):null]})});$P.displayName=Hd;var UP="SelectItemIndicator",VP=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return FP(UP,n).isSelected?s.jsx($e.span,{"aria-hidden":!0,...r,ref:t}):null});VP.displayName=UP;var Dy="SelectScrollUpButton",zP=f.forwardRef((e,t)=>{const n=uo(Dy,e.__scopeSelect),r=Wj(Dy,e.__scopeSelect),[i,a]=f.useState(!1),o=Ye(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(WP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zP.displayName=Dy;var Oy="SelectScrollDownButton",BP=f.forwardRef((e,t)=>{const n=uo(Oy,e.__scopeSelect),r=Wj(Oy,e.__scopeSelect),[i,a]=f.useState(!1),o=Ye(t,r.onScrollButtonChange);return Zt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(WP,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});BP.displayName=Oy;var WP=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=uo("SelectScrollButton",n),o=f.useRef(null),l=Qp(n),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Zt(()=>{var h;const d=l().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx($e.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),wB="SelectSeparator",HP=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx($e.div,{"aria-hidden":!0,...r,ref:t})});HP.displayName=wB;var My="SelectArrow",jB=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Xp(n),a=co(My,n),o=uo(My,n);return a.open&&o.position==="popper"?s.jsx(Rp,{...i,...r,ref:t}):null});jB.displayName=My;var bB="SelectBubbleInput",qP=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=f.useRef(null),a=Ye(r,i),o=Bj(t);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const m=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx($e.select,{...n,style:{...pk,...n.style},ref:a,defaultValue:t})});qP.displayName=bB;function KP(e){return e===""||e===void 0}function GP(e){const t=Yt(e),n=f.useRef(""),r=f.useRef(0),i=f.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function YP(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=NB(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function NB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _B=bP,QP=_P,SB=CP,CB=kP,kB=EP,XP=TP,EB=RP,ZP=MP,JP=LP,TB=$P,PB=VP,eA=zP,tA=BP,nA=HP;const Dn=_B,On=SB,Cn=f.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(QP,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(CB,{asChild:!0,children:s.jsx(Zw,{className:"h-4 w-4 opacity-50"})})]}));Cn.displayName=QP.displayName;const sA=f.forwardRef(({className:e,...t},n)=>s.jsx(eA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(UL,{className:"h-4 w-4"})}));sA.displayName=eA.displayName;const rA=f.forwardRef(({className:e,...t},n)=>s.jsx(tA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Zw,{className:"h-4 w-4"})}));rA.displayName=tA.displayName;const kn=f.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(kB,{children:s.jsxs(XP,{ref:i,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(sA,{}),s.jsx(EB,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(rA,{})]})}));kn.displayName=XP.displayName;const AB=f.forwardRef(({className:e,...t},n)=>s.jsx(ZP,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));AB.displayName=ZP.displayName;const de=f.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(JP,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(PB,{children:s.jsx(Xw,{className:"h-4 w-4"})})}),s.jsx(TB,{children:t})]}));de.displayName=JP.displayName;const IB=f.forwardRef(({className:e,...t},n)=>s.jsx(nA,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));IB.displayName=nA.displayName;const RB=sh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Dt=f.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:xe(RB({variant:t}),e),...n}));Dt.displayName="Alert";const DB=f.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));DB.displayName="AlertTitle";const Ot=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));Ot.displayName="AlertDescription";function OB({userEmail:e,socialAuthData:t,onComplete:n,isLoading:r=!1}){var m,p;const[i,a]=f.useState(""),{toast:o}=kt(),l=((m=t.displayName)==null?void 0:m.split(" ")[0])||"",c=((p=t.displayName)==null?void 0:p.split(" ").slice(1).join(" "))||"",d=_l({resolver:Sl(zT),defaultValues:{firstName:l,lastName:c,userName:"",country:"",phone:"",gender:""}}),h=async y=>{try{a(""),await n(y),o({title:"Account setup complete!",description:"Welcome to your account."})}catch(x){console.error("Social auth completion failed:",x);const g=(x==null?void 0:x.message)||"Failed to complete account setup. Please try again.";a(g),o({variant:"destructive",title:"Setup failed",description:g})}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-6 md:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 overflow-hidden",children:[t.photoURL?s.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{var g;const x=y.target;x.style.display="none",(g=x.nextElementSibling)==null||g.classList.remove("hidden")}}):null,s.jsx($k,{className:`h-8 w-8 text-primary ${t.photoURL?"hidden":""}`})]}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Just a few more details to finish setting up your account"}),s.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Signed in as: ",e]})]}),s.jsxs(ee,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm","data-testid":"card-social-auth-complete",children:[s.jsx(re,{className:"pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Setup your profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose your unique username to complete your account"})]})}),s.jsxs(te,{className:"space-y-6 pb-8",children:[i&&s.jsx(Dt,{variant:"destructive",className:"mb-4","data-testid":"alert-submit-error",children:s.jsx(Ot,{children:i})}),s.jsx(tz,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-6","data-testid":"form-social-auth-complete",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Il,{control:d.control,name:"firstName",render:({field:y})=>s.jsxs(So,{children:[s.jsx(Co,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{...y,placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-firstName"})]})}),s.jsx(ko,{})]})}),s.jsx(Il,{control:d.control,name:"lastName",render:({field:y})=>s.jsxs(So,{children:[s.jsx(Co,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{...y,placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-lastName"})]})}),s.jsx(ko,{})]})})]}),s.jsx(Il,{control:d.control,name:"userName",render:({field:y})=>s.jsxs(So,{children:[s.jsx(Co,{children:s.jsxs("div",{className:"relative",children:[s.jsx(LL,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{...y,placeholder:"Choose your unique username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-userName"})]})}),s.jsx(ko,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Il,{control:d.control,name:"country",render:({field:y})=>s.jsxs(So,{children:[s.jsxs(Dn,{name:y.name,onValueChange:y.onChange,value:y.value,disabled:r,children:[s.jsx(Co,{children:s.jsx(Cn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-country",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qL,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(On,{placeholder:"Select Country"})]})})}),s.jsxs(kn,{className:"max-h-60",children:[s.jsx(de,{value:"Afghanistan",children:"Afghanistan"}),s.jsx(de,{value:"Albania",children:"Albania"}),s.jsx(de,{value:"Algeria",children:"Algeria"}),s.jsx(de,{value:"Argentina",children:"Argentina"}),s.jsx(de,{value:"Australia",children:"Australia"}),s.jsx(de,{value:"Austria",children:"Austria"}),s.jsx(de,{value:"Bangladesh",children:"Bangladesh"}),s.jsx(de,{value:"Belgium",children:"Belgium"}),s.jsx(de,{value:"Brazil",children:"Brazil"}),s.jsx(de,{value:"Canada",children:"Canada"}),s.jsx(de,{value:"Chile",children:"Chile"}),s.jsx(de,{value:"China",children:"China"}),s.jsx(de,{value:"Colombia",children:"Colombia"}),s.jsx(de,{value:"Denmark",children:"Denmark"}),s.jsx(de,{value:"Egypt",children:"Egypt"}),s.jsx(de,{value:"Ethiopia",children:"Ethiopia"}),s.jsx(de,{value:"Finland",children:"Finland"}),s.jsx(de,{value:"France",children:"France"}),s.jsx(de,{value:"Germany",children:"Germany"}),s.jsx(de,{value:"Ghana",children:"Ghana"}),s.jsx(de,{value:"Greece",children:"Greece"}),s.jsx(de,{value:"India",children:"India"}),s.jsx(de,{value:"Indonesia",children:"Indonesia"}),s.jsx(de,{value:"Iran",children:"Iran"}),s.jsx(de,{value:"Iraq",children:"Iraq"}),s.jsx(de,{value:"Ireland",children:"Ireland"}),s.jsx(de,{value:"Israel",children:"Israel"}),s.jsx(de,{value:"Italy",children:"Italy"}),s.jsx(de,{value:"Japan",children:"Japan"}),s.jsx(de,{value:"Jordan",children:"Jordan"}),s.jsx(de,{value:"Kenya",children:"Kenya"}),s.jsx(de,{value:"Malaysia",children:"Malaysia"}),s.jsx(de,{value:"Mexico",children:"Mexico"}),s.jsx(de,{value:"Morocco",children:"Morocco"}),s.jsx(de,{value:"Netherlands",children:"Netherlands"}),s.jsx(de,{value:"New Zealand",children:"New Zealand"}),s.jsx(de,{value:"Nigeria",children:"Nigeria"}),s.jsx(de,{value:"Norway",children:"Norway"}),s.jsx(de,{value:"Pakistan",children:"Pakistan"}),s.jsx(de,{value:"Philippines",children:"Philippines"}),s.jsx(de,{value:"Poland",children:"Poland"}),s.jsx(de,{value:"Portugal",children:"Portugal"}),s.jsx(de,{value:"Russia",children:"Russia"}),s.jsx(de,{value:"Saudi Arabia",children:"Saudi Arabia"}),s.jsx(de,{value:"Singapore",children:"Singapore"}),s.jsx(de,{value:"South Africa",children:"South Africa"}),s.jsx(de,{value:"South Korea",children:"South Korea"}),s.jsx(de,{value:"Spain",children:"Spain"}),s.jsx(de,{value:"Sweden",children:"Sweden"}),s.jsx(de,{value:"Switzerland",children:"Switzerland"}),s.jsx(de,{value:"Thailand",children:"Thailand"}),s.jsx(de,{value:"Turkey",children:"Turkey"}),s.jsx(de,{value:"Ukraine",children:"Ukraine"}),s.jsx(de,{value:"United Arab Emirates",children:"United Arab Emirates"}),s.jsx(de,{value:"United Kingdom",children:"United Kingdom"}),s.jsx(de,{value:"United States",children:"United States"}),s.jsx(de,{value:"Venezuela",children:"Venezuela"}),s.jsx(de,{value:"Vietnam",children:"Vietnam"})]})]}),s.jsx(ko,{})]})}),s.jsx(Il,{control:d.control,name:"phone",render:({field:y})=>s.jsxs(So,{children:[s.jsx(Co,{children:s.jsxs("div",{className:"relative",children:[s.jsx(e5,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{...y,placeholder:"Phone Number (optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-phone",type:"tel"})]})}),s.jsx(ko,{})]})})]}),s.jsx(Il,{control:d.control,name:"gender",render:({field:y})=>s.jsxs(So,{children:[s.jsxs(Dn,{onValueChange:y.onChange,defaultValue:y.value,disabled:r,children:[s.jsx(Co,{children:s.jsx(Cn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-gender",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(On,{placeholder:"Select Gender (optional)"})]})})}),s.jsxs(kn,{children:[s.jsx(de,{value:"male",children:"Male"}),s.jsx(de,{value:"female",children:"Female"}),s.jsx(de,{value:"other",children:"Other"}),s.jsx(de,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),s.jsx(ko,{})]})}),s.jsx(K,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium h-12 text-lg",disabled:r,"data-testid":"button-complete-setup",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent mr-3"}),"Setting up your account..."]}):"Complete Setup"})]})})]})]})]})]})}function Dx(){const[,e]=qt(),{user:t,checkAuth:n,logout:r}=Qi(),{settings:i}=Nl(),{toast:a}=kt(),[o,l]=f.useState(""),[c,d]=f.useState(""),[h,m]=f.useState(!1),[p,y]=f.useState(!1);f.useEffect(()=>{i.demoMode&&(l("admin@gmail.com"),d("123456"))},[i.demoMode]),f.useEffect(()=>{t!=null&&t.admin&&e("/admin")},[t==null?void 0:t.admin,e]);const x=async()=>{y(!0);try{await r(),a({title:"Logged Out",description:"You can now login as an admin"}),await n()}catch(S){a({title:"Logout Failed",description:S.message||"Failed to logout",variant:"destructive"})}finally{y(!1)}};if(t&&!t.admin)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ny,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(ee,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[s.jsx(re,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(oe,{className:"text-xl font-semibold text-foreground",children:"Already Logged In"})})}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("p",{className:"text-muted-foreground",children:["You are currently logged in as ",s.jsx("span",{className:"font-medium text-foreground",children:t.email})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To access the admin portal, please logout from your current account first."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(K,{onClick:x,className:"w-full",disabled:p,"data-testid":"button-logout-to-admin",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Nm,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging out..."]}):"Logout to Continue"}),s.jsx(K,{onClick:()=>e("/"),variant:"outline",className:"w-full",disabled:p,"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})]})]})]});const g=async S=>{S.preventDefault(),m(!0);try{const w=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c}),credentials:"include"}),v=await w.json();if(!w.ok||!v.success)throw new Error(v.message||v.error||"Admin login failed");if(!v.data)throw new Error("Invalid response: missing user data");const j=v.data._id||v.data.id;if(!j)throw new Error("Invalid response: missing user ID");localStorage.setItem("userId",j),localStorage.setItem("user",JSON.stringify({id:j,email:v.data.email||o,firstName:v.data.firstName||"",lastName:v.data.lastName||"",profilePhoto:v.data.profilePhoto||"",userName:v.data.userName||v.data.email||o,country:v.data.country||"",phone:v.data.phone||"",seller:v.data.seller||!1,admin:!0,authProvider:"email"})),v.accessToken&&localStorage.setItem("adminAccessToken",v.accessToken),await n(),await ze.invalidateQueries(),a({title:"Admin Login Successful",description:"Welcome to the admin dashboard"}),e("/admin")}catch(w){a({title:"Login Failed",description:w.message||"Invalid credentials",variant:"destructive"})}finally{m(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ny,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(ee,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm relative",children:[h&&s.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-lg","data-testid":"loading-overlay",children:[s.jsx(Nm,{className:"h-8 w-8 animate-spin text-primary mb-4"}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-foreground",children:"Signing you in..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin credentials"})]})]}),s.jsx(re,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(oe,{className:"text-xl font-semibold text-foreground",children:"Admin Login"})})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(rd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"email",type:"email",placeholder:"Admin Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:o,onChange:S=>l(S.target.value),required:!0,disabled:h,"data-testid":"input-admin-email"})]})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(_m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"password",type:"password",placeholder:"Password",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:c,onChange:S=>d(S.target.value),required:!0,disabled:h,"data-testid":"input-admin-password"})]})}),s.jsx(K,{type:"submit",className:"w-full",disabled:h,"data-testid":"button-admin-login",children:h?"Signing in...":"Sign In as Admin"}),i.demoMode&&s.jsx("div",{className:"mt-4 p-3 bg-primary/10 border border-primary/20 rounded-md","data-testid":"demo-credentials",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ba,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Demo Mode Enabled"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," admin@gmail.com"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Password:"})," 123456"]})]})]})]})})]})})]})]})]})}function MB(){var l;const[,e]=qt(),{toast:t}=kt(),{settings:n}=Nl(),[r,i]=f.useState({email:"",password:"",confirmPassword:"",username:"admin",full_name:"Admin"}),a=Ge({mutationFn:async c=>{const d=await fetch("/api/admin/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const h=await d.json().catch(()=>({error:"Failed to create admin"}));throw new Error(h.error||h.message||"Failed to create admin")}return d.json()},onSuccess:async c=>{console.log("Admin created successfully:",c),t({title:"Admin account created!",description:"Verifying setup..."}),await new Promise(d=>setTimeout(d,1e3));try{const h=await(await fetch("/api/admin/exists",{credentials:"include"})).json();h.success&&h.exists?(t({title:"Setup complete!",description:"Redirecting to login page..."}),await new Promise(m=>setTimeout(m,800)),e("/admin/login")):(t({title:"Admin created",description:"Please try logging in.",variant:"default"}),await new Promise(m=>setTimeout(m,500)),e("/admin/login"))}catch(d){console.error("Error checking admin existence:",d),await new Promise(h=>setTimeout(h,500)),e("/admin/login")}},onError:c=>{t({title:"Setup failed",description:c.message||"Failed to create admin account. Please try again.",variant:"destructive"})}}),o=c=>{if(c.preventDefault(),!r.email||!r.password){t({title:"Missing fields",description:"Email and password are required.",variant:"destructive"});return}if(r.password!==r.confirmPassword){t({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(r.password.length<6){t({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}a.mutate({email:r.email,password:r.password,username:r.username,full_name:r.full_name,role:"admin"})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(ee,{children:[s.jsxs(re,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:s.jsx(ny,{className:"h-12 w-12 text-primary"})})}),s.jsx(oe,{className:"text-2xl",children:"Admin Setup"}),s.jsx(Ee,{className:"text-center max-w-md mx-auto mt-2",children:"This is a one-time setup. Create your first administrator account to access the platform."})]}),s.jsx(te,{children:s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"full_name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"full_name",type:"text",value:r.full_name,onChange:c=>i({...r,full_name:c.target.value}),placeholder:"Admin",className:"pl-10","data-testid":"input-setup-fullname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"username",type:"text",value:r.username,onChange:c=>i({...r,username:c.target.value}),placeholder:"admin",className:"pl-10","data-testid":"input-setup-username"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"email",children:["Email Address ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(rd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"email",type:"email",value:r.email,onChange:c=>i({...r,email:c.target.value}),placeholder:"admin@example.com",className:"pl-10",required:!0,"data-testid":"input-setup-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"password",children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"password",type:"password",value:r.password,onChange:c=>i({...r,password:c.target.value}),placeholder:"Min 6 characters",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-password"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"confirmPassword",children:["Confirm Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:c=>i({...r,confirmPassword:c.target.value}),placeholder:"Confirm password",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-confirm-password"})]})]})]}),a.isError&&s.jsxs(Dt,{variant:"destructive",children:[s.jsx(To,{className:"h-4 w-4"}),s.jsx(Ot,{children:((l=a.error)==null?void 0:l.message)||"Failed to create admin account. Please try again."})]}),s.jsx(K,{type:"submit",className:"w-full",disabled:a.isPending,"data-testid":"button-setup-submit",children:a.isPending?"Creating Account...":"Create Admin Account"})]})})]})})})}var Zp="Collapsible",[FB]=Fn(Zp),[LB,Hj]=FB(Zp),iA=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,d]=gr({prop:r,defaultProp:i??!1,onChange:o,caller:Zp});return s.jsx(LB,{scope:n,disabled:a,contentId:$s(),open:c,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),children:s.jsx($e.div,{"data-state":Kj(c),"data-disabled":a?"":void 0,...l,ref:t})})});iA.displayName=Zp;var aA="CollapsibleTrigger",oA=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Hj(aA,n);return s.jsx($e.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Kj(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:pe(e.onClick,i.onOpenToggle)})});oA.displayName=aA;var qj="CollapsibleContent",lA=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Hj(qj,e.__scopeCollapsible);return s.jsx(xn,{present:n||i.open,children:({present:a})=>s.jsx($B,{...r,ref:t,present:a})})});lA.displayName=qj;var $B=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=Hj(qj,n),[l,c]=f.useState(r),d=f.useRef(null),h=Ye(t,d),m=f.useRef(0),p=m.current,y=f.useRef(0),x=y.current,g=o.open||l,S=f.useRef(g),w=f.useRef(void 0);return f.useEffect(()=>{const v=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(v)},[]),Zt(()=>{const v=d.current;if(v){w.current=w.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const j=v.getBoundingClientRect();m.current=j.height,y.current=j.width,S.current||(v.style.transitionDuration=w.current.transitionDuration,v.style.animationName=w.current.animationName),c(r)}},[o.open,r]),s.jsx($e.div,{"data-state":Kj(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&i})});function Kj(e){return e?"open":"closed"}var UB=iA;const VB=UB,zB=oA,BB=lA,G1=[{section:"User Management",items:[{id:"users",name:"Users",href:"/admin/users",icon:Ii},{id:"pending-approvals",name:"Pending Approvals",href:"/admin/pending-approvals",icon:$f},{id:"reported-cases",name:"Reported Cases",href:"/admin/reported-cases",icon:ey}]},{section:"Commerce",items:[{id:"inventory",name:"Inventory",href:"/admin/inventory",icon:on},{id:"orders",name:"Orders",href:"/admin/orders",icon:Wa},{id:"disputes",name:"Disputes",href:"/admin/disputes",icon:rc},{id:"transactions",name:"Transactions",href:"/admin/transactions",icon:Mc},{id:"payouts",name:"Payouts",href:"/admin/payouts",icon:Jv}]},{section:"Platform",items:[{id:"revenue",name:"Revenue",href:"/admin/application-fees",icon:zL},{id:"categories",name:"Categories",href:"/admin/categories",icon:HL},{id:"shows",name:"Shows",href:"/admin/shows",icon:Ru},{id:"emails",name:"Emails",icon:rd,children:[{id:"emails-seller-approval",name:"Seller Approval",href:"/admin/email-seller-approval",icon:Jw},{id:"emails-app-update",name:"App Update",href:"/admin/email-update",icon:tj},{id:"emails-settings",name:"Settings",href:"/admin/email-settings",icon:Pu}]}]},{section:"Pages",items:[{id:"landing-page",name:"Landing Page",href:"/admin/pages/landing",icon:KL},{id:"general",name:"General",href:"/admin/pages/general",icon:bm},{id:"faq",name:"FAQ",href:"/admin/pages/faq",icon:Lk},{id:"about",name:"About Us",href:"/admin/pages/about",icon:Ba},{id:"privacy",name:"Privacy Policy",href:"/admin/pages/privacy",icon:Bk},{id:"terms",name:"Terms of Service",href:"/admin/pages/terms",icon:WL},{id:"contact",name:"Contact Us",href:"/admin/pages/contact",icon:ZL}]},{section:"Account",items:[{id:"profile",name:"Profile",href:"/admin/profile",icon:$k},{id:"settings",name:"Settings",href:"/admin/settings",icon:Pu}]}],Gj=(e,t)=>{if(e.href){if(t===e.href)return!0;const[n,r]=e.href.split("?");if(t.startsWith(n)&&r&&t.includes(`?${r}`))return!0}return e.children?e.children.some(n=>Gj(n,t)):!1},WB=e=>{const t={},n=window.location.pathname+window.location.search,r=i=>{i.children&&Gj(i,n)&&(t[i.id]=!0,i.children.forEach(r))};return e.forEach(i=>{i.items.forEach(r)}),t};function HB({isOpen:e,onClose:t}){const[n,r]=qt(),[i,a]=f.useState({}),{data:o}=Ve({queryKey:["/api/settings"]}),l=(o==null?void 0:o.data)||o;l!=null&&l.app_name,f.useEffect(()=>{const h=WB(G1);a(h)},[n]);const c=h=>{a(m=>({...m,[h]:!m[h]}))},d=(h,m=0)=>{const p=h.icon,y=window.location.pathname+window.location.search,x=h.href?y===h.href:!1,g=h.children&&h.children.length>0,S=i[h.id]||!1,w=Gj(h,y);return g?s.jsxs(VB,{open:S,onOpenChange:()=>c(h.id),children:[s.jsx(zB,{asChild:!0,children:s.jsxs(K,{variant:w?"secondary":"ghost",className:xe("w-full justify-start",w&&"bg-primary/10 text-primary hover:bg-primary/20 hover:text-primary",m>0&&"pl-8"),"data-testid":`nav-${h.id}`,children:[s.jsx(p,{className:"h-4 w-4 mr-3"}),s.jsx("span",{className:"flex-1 text-left",children:h.name}),s.jsx(Zw,{className:xe("h-4 w-4 transition-transform duration-200",S&&"transform rotate-180")})]})}),s.jsx(BB,{children:s.jsx("div",{className:"space-y-1 mt-1",children:h.children.map(v=>d(v,m+1))})})]},h.id):s.jsxs(K,{variant:x?"secondary":"ghost",className:xe("w-full justify-start",x&&"bg-primary/10 text-primary hover:bg-primary/20 hover:text-primary",m>0&&"pl-8",m>1&&"pl-12"),onClick:()=>{r(h.href),t()},"data-testid":`nav-${h.id}`,children:[s.jsx(p,{className:"h-4 w-4 mr-3"}),h.name]},h.id)};return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t,"data-testid":"sidebar-overlay"}),s.jsxs("div",{className:xe("flex flex-col w-64 bg-card border-r border-border h-full transition-transform duration-300 ease-in-out","lg:relative lg:translate-x-0","fixed inset-y-0 left-0 z-50",e?"translate-x-0":"-translate-x-full"),children:[s.jsx("div",{className:"lg:hidden flex justify-end p-3 border-b border-border",children:s.jsx(K,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-close-sidebar",children:s.jsx(_s,{className:"h-5 w-5"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:G1.map((h,m)=>s.jsxs("div",{children:[s.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:h.section}),s.jsx("div",{className:"space-y-1",children:h.items.map(p=>d(p))})]},m))})]})]})}const qB=sh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function We({className:e,variant:t,...n}){return s.jsx("div",{className:xe(qB({variant:t}),e),...n})}function KB(e,t=[]){let n=[];function r(a,o){const l=f.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=m=>{var w;const{scope:p,children:y,...x}=m,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,S=f.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:S,children:y})};d.displayName=a+"Provider";function h(m,p){var g;const y=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=f.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,GB(i,...t)]}function GB(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var YB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yj=YB.reduce((e,t)=>{const n=ph(`Primitive.${t}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function QB(){return B2.useSyncExternalStore(XB,()=>!0,()=>!1)}function XB(){return()=>{}}var Qj="Avatar",[ZB]=KB(Qj),[JB,cA]=ZB(Qj),dA=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=f.useState("idle");return s.jsx(JB,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Yj.span,{...r,ref:t})})});dA.displayName=Qj;var uA="AvatarImage",hA=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=cA(uA,n),l=eW(r,a),c=Yt(d=>{i(d),o.onImageLoadingStatusChange(d)});return Zt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Yj.img,{...a,ref:t,src:r}):null});hA.displayName=uA;var fA="AvatarFallback",mA=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=cA(fA,n),[o,l]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Yj.span,{...i,ref:t}):null});mA.displayName=fA;function Y1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function eW(e,{referrerPolicy:t,crossOrigin:n}){const r=QB(),i=f.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=f.useState(()=>Y1(a,e));return Zt(()=>{l(Y1(a,e))},[a,e]),Zt(()=>{const c=m=>()=>{l(m)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,n,t]),o}var pA=dA,gA=hA,xA=mA;const Us=f.forwardRef(({className:e,...t},n)=>s.jsx(pA,{ref:n,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Us.displayName=pA.displayName;const Vs=f.forwardRef(({className:e,...t},n)=>s.jsx(gA,{ref:n,className:xe("aspect-square h-full w-full",e),...t}));Vs.displayName=gA.displayName;const zs=f.forwardRef(({className:e,...t},n)=>s.jsx(xA,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));zs.displayName=xA.displayName;var Ox="rovingFocusGroup.onEntryFocus",tW={bubbles:!1,cancelable:!0},yh="RovingFocusGroup",[Fy,vA,nW]=Sp(yh),[sW,Jp]=Fn(yh,[nW]),[rW,iW]=sW(yh),yA=f.forwardRef((e,t)=>s.jsx(Fy.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Fy.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(aW,{...e,ref:t})})}));yA.displayName=yh;var aW=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=e,p=f.useRef(null),y=Ye(t,p),x=gh(a),[g,S]=gr({prop:o,defaultProp:l??null,onChange:c,caller:yh}),[w,v]=f.useState(!1),j=Yt(d),P=vA(n),E=f.useRef(!1),[O,C]=f.useState(0);return f.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(Ox,j),()=>N.removeEventListener(Ox,j)},[j]),s.jsx(rW,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:g,onItemFocus:f.useCallback(N=>S(N),[S]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:f.useCallback(()=>C(N=>N-1),[]),children:s.jsx($e.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{E.current=!0}),onFocus:pe(e.onFocus,N=>{const _=!E.current;if(N.target===N.currentTarget&&_&&!w){const k=new CustomEvent(Ox,tW);if(N.currentTarget.dispatchEvent(k),!k.defaultPrevented){const R=P().filter(U=>U.focusable),T=R.find(U=>U.active),I=R.find(U=>U.id===g),q=[T,I,...R].filter(Boolean).map(U=>U.ref.current);bA(q,h)}}E.current=!1}),onBlur:pe(e.onBlur,()=>v(!1))})})}),wA="RovingFocusGroupItem",jA=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=$s(),d=a||c,h=iW(wA,n),m=h.currentTabStopId===d,p=vA(n),{onFocusableItemAdd:y,onFocusableItemRemove:x,currentTabStopId:g}=h;return f.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),s.jsx(Fy.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx($e.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:pe(e.onMouseDown,S=>{r?h.onItemFocus(d):S.preventDefault()}),onFocus:pe(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:pe(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){h.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=cW(S,h.orientation,h.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let j=p().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")j.reverse();else if(w==="prev"||w==="next"){w==="prev"&&j.reverse();const P=j.indexOf(S.currentTarget);j=h.loop?dW(j,P+1):j.slice(P+1)}setTimeout(()=>bA(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:g!=null}):o})})});jA.displayName=wA;var oW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cW(e,t,n){const r=lW(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oW[r]}function bA(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function dW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var NA=yA,_A=jA;function uW(e){const t=hW(e),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(mW);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function hW(e){const t=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=gW(i),l=pW(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fW=Symbol("radix.slottable");function mW(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fW}function pW(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function gW(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ly=["Enter"," "],xW=["ArrowDown","PageUp","Home"],SA=["ArrowUp","PageDown","End"],vW=[...xW,...SA],yW={ltr:[...Ly,"ArrowRight"],rtl:[...Ly,"ArrowLeft"]},wW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wh="Menu",[zu,jW,bW]=Sp(wh),[Cl,CA]=Fn(wh,[bW,oo,Jp]),eg=oo(),kA=Jp(),[NW,kl]=Cl(wh),[_W,jh]=Cl(wh),EA=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,l=eg(t),[c,d]=f.useState(null),h=f.useRef(!1),m=Yt(a),p=gh(i);return f.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(fj,{...l,children:s.jsx(NW,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(_W,{scope:t,onClose:f.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};EA.displayName=wh;var SW="MenuAnchor",Xj=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=eg(n);return s.jsx(ih,{...i,...r,ref:t})});Xj.displayName=SW;var Zj="MenuPortal",[CW,TA]=Cl(Zj,{forceMount:void 0}),PA=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=kl(Zj,t);return s.jsx(CW,{scope:t,forceMount:n,children:s.jsx(xn,{present:n||a.open,children:s.jsx(nd,{asChild:!0,container:i,children:r})})})};PA.displayName=Zj;var Bs="MenuContent",[kW,Jj]=Cl(Bs),AA=f.forwardRef((e,t)=>{const n=TA(Bs,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=kl(Bs,e.__scopeMenu),o=jh(Bs,e.__scopeMenu);return s.jsx(zu.Provider,{scope:e.__scopeMenu,children:s.jsx(xn,{present:r||a.open,children:s.jsx(zu.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(EW,{...i,ref:t}):s.jsx(TW,{...i,ref:t})})})})}),EW=f.forwardRef((e,t)=>{const n=kl(Bs,e.__scopeMenu),r=f.useRef(null),i=Ye(t,r);return f.useEffect(()=>{const a=r.current;if(a)return Kp(a)},[]),s.jsx(eb,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TW=f.forwardRef((e,t)=>{const n=kl(Bs,e.__scopeMenu);return s.jsx(eb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),PW=uW("MenuContent.ScrollLock"),eb=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:y,disableOutsideScroll:x,...g}=e,S=kl(Bs,n),w=jh(Bs,n),v=eg(n),j=kA(n),P=jW(n),[E,O]=f.useState(null),C=f.useRef(null),N=Ye(t,C,S.onContentChange),_=f.useRef(0),k=f.useRef(""),R=f.useRef(0),T=f.useRef(null),I=f.useRef("right"),D=f.useRef(0),q=x?vh:f.Fragment,U=x?{as:PW,allowPinchZoom:!0}:void 0,z=B=>{var X,Z;const le=k.current+B,ce=P().filter(be=>!be.disabled),W=document.activeElement,Ce=(X=ce.find(be=>be.ref.current===W))==null?void 0:X.textValue,_e=ce.map(be=>be.textValue),De=zW(_e,le,Ce),He=(Z=ce.find(be=>be.textValue===De))==null?void 0:Z.ref.current;(function be(H){k.current=H,window.clearTimeout(_.current),H!==""&&(_.current=window.setTimeout(()=>be(""),1e3))})(le),He&&setTimeout(()=>He.focus())};f.useEffect(()=>()=>window.clearTimeout(_.current),[]),qp();const L=f.useCallback(B=>{var ce,W;return I.current===((ce=T.current)==null?void 0:ce.side)&&WW(B,(W=T.current)==null?void 0:W.area)},[]);return s.jsx(kW,{scope:n,searchRef:k,onItemEnter:f.useCallback(B=>{L(B)&&B.preventDefault()},[L]),onItemLeave:f.useCallback(B=>{var le;L(B)||((le=C.current)==null||le.focus(),O(null))},[L]),onTriggerLeave:f.useCallback(B=>{L(B)&&B.preventDefault()},[L]),pointerGraceTimerRef:R,onPointerGraceIntentChange:f.useCallback(B=>{T.current=B},[]),children:s.jsx(q,{...U,children:s.jsx(xh,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,B=>{var le;B.preventDefault(),(le=C.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:y,children:s.jsx(NA,{asChild:!0,...j,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:O,onEntryFocus:pe(c,B=>{w.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ip,{role:"menu","aria-orientation":"vertical","data-state":KA(S.open),"data-radix-menu-content":"",dir:w.dir,...v,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,B=>{const ce=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,Ce=B.key.length===1;ce&&(B.key==="Tab"&&B.preventDefault(),!W&&Ce&&z(B.key));const _e=C.current;if(B.target!==_e||!vW.includes(B.key))return;B.preventDefault();const He=P().filter(X=>!X.disabled).map(X=>X.ref.current);SA.includes(B.key)&&He.reverse(),UW(He)}),onBlur:pe(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(_.current),k.current="")}),onPointerMove:pe(e.onPointerMove,Bu(B=>{const le=B.target,ce=D.current!==B.clientX;if(B.currentTarget.contains(le)&&ce){const W=B.clientX>D.current?"right":"left";I.current=W,D.current=B.clientX}}))})})})})})})});AA.displayName=Bs;var AW="MenuGroup",tb=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx($e.div,{role:"group",...r,ref:t})});tb.displayName=AW;var IW="MenuLabel",IA=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx($e.div,{...r,ref:t})});IA.displayName=IW;var Xm="MenuItem",Q1="menu.itemSelect",tg=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=f.useRef(null),o=jh(Xm,e.__scopeMenu),l=Jj(Xm,e.__scopeMenu),c=Ye(t,a),d=f.useRef(!1),h=()=>{const m=a.current;if(!n&&m){const p=new CustomEvent(Q1,{bubbles:!0,cancelable:!0});m.addEventListener(Q1,y=>r==null?void 0:r(y),{once:!0}),qw(m,p),p.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(RA,{...i,ref:c,disabled:n,onClick:pe(e.onClick,h),onPointerDown:m=>{var p;(p=e.onPointerDown)==null||p.call(e,m),d.current=!0},onPointerUp:pe(e.onPointerUp,m=>{var p;d.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:pe(e.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||Ly.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});tg.displayName=Xm;var RA=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=Jj(Xm,n),l=kA(n),c=f.useRef(null),d=Ye(t,c),[h,m]=f.useState(!1),[p,y]=f.useState("");return f.useEffect(()=>{const x=c.current;x&&y((x.textContent??"").trim())},[a.children]),s.jsx(zu.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:s.jsx(_A,{asChild:!0,...l,focusable:!r,children:s.jsx($e.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:pe(e.onPointerMove,Bu(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,Bu(x=>o.onItemLeave(x))),onFocus:pe(e.onFocus,()=>m(!0)),onBlur:pe(e.onBlur,()=>m(!1))})})})}),RW="MenuCheckboxItem",DA=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx($A,{scope:e.__scopeMenu,checked:n,children:s.jsx(tg,{role:"menuitemcheckbox","aria-checked":Zm(n)?"mixed":n,...i,ref:t,"data-state":sb(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(Zm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});DA.displayName=RW;var OA="MenuRadioGroup",[DW,OW]=Cl(OA,{value:void 0,onValueChange:()=>{}}),MA=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=Yt(r);return s.jsx(DW,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(tb,{...i,ref:t})})});MA.displayName=OA;var FA="MenuRadioItem",LA=f.forwardRef((e,t)=>{const{value:n,...r}=e,i=OW(FA,e.__scopeMenu),a=n===i.value;return s.jsx($A,{scope:e.__scopeMenu,checked:a,children:s.jsx(tg,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":sb(a),onSelect:pe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});LA.displayName=FA;var nb="MenuItemIndicator",[$A,MW]=Cl(nb,{checked:!1}),UA=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=MW(nb,n);return s.jsx(xn,{present:r||Zm(a.checked)||a.checked===!0,children:s.jsx($e.span,{...i,ref:t,"data-state":sb(a.checked)})})});UA.displayName=nb;var FW="MenuSeparator",VA=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx($e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});VA.displayName=FW;var LW="MenuArrow",zA=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=eg(n);return s.jsx(Rp,{...i,...r,ref:t})});zA.displayName=LW;var $W="MenuSub",[KQ,BA]=Cl($W),qd="MenuSubTrigger",WA=f.forwardRef((e,t)=>{const n=kl(qd,e.__scopeMenu),r=jh(qd,e.__scopeMenu),i=BA(qd,e.__scopeMenu),a=Jj(qd,e.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},h=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(Xj,{asChild:!0,...d,children:s.jsx(RA,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":KA(n.open),...e,ref:ni(t,i.onTriggerChange),onClick:m=>{var p;(p=e.onClick)==null||p.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,Bu(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:pe(e.onPointerLeave,Bu(m=>{var y,x;h();const p=(y=n.content)==null?void 0:y.getBoundingClientRect();if(p){const g=(x=n.content)==null?void 0:x.dataset.side,S=g==="right",w=S?-5:5,v=p[S?"left":"right"],j=p[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+w,y:m.clientY},{x:v,y:p.top},{x:j,y:p.top},{x:j,y:p.bottom},{x:v,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,m=>{var y;const p=a.searchRef.current!=="";e.disabled||p&&m.key===" "||yW[r.dir].includes(m.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),m.preventDefault())})})})});WA.displayName=qd;var HA="MenuSubContent",qA=f.forwardRef((e,t)=>{const n=TA(Bs,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=kl(Bs,e.__scopeMenu),o=jh(Bs,e.__scopeMenu),l=BA(HA,e.__scopeMenu),c=f.useRef(null),d=Ye(t,c);return s.jsx(zu.Provider,{scope:e.__scopeMenu,children:s.jsx(xn,{present:r||a.open,children:s.jsx(zu.Slot,{scope:e.__scopeMenu,children:s.jsx(eb,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pe(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pe(e.onKeyDown,h=>{var y;const m=h.currentTarget.contains(h.target),p=wW[o.dir].includes(h.key);m&&p&&(a.onOpenChange(!1),(y=l.trigger)==null||y.focus(),h.preventDefault())})})})})})});qA.displayName=HA;function KA(e){return e?"open":"closed"}function Zm(e){return e==="indeterminate"}function sb(e){return Zm(e)?"indeterminate":e?"checked":"unchecked"}function UW(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function VW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function zW(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=VW(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function BW(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,h=l.y,m=c.x,p=c.y;h>r!=p>r&&n<(m-d)*(r-h)/(p-h)+d&&(i=!i)}return i}function WW(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return BW(n,t)}function Bu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var HW=EA,qW=Xj,KW=PA,GW=AA,YW=tb,QW=IA,XW=tg,ZW=DA,JW=MA,eH=LA,tH=UA,nH=VA,sH=zA,rH=WA,iH=qA,ng="DropdownMenu",[aH]=Fn(ng,[CA]),Gn=CA(),[oH,GA]=aH(ng),YA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Gn(t),d=f.useRef(null),[h,m]=gr({prop:i,defaultProp:a??!1,onChange:o,caller:ng});return s.jsx(oH,{scope:t,triggerId:$s(),triggerRef:d,contentId:$s(),open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),modal:l,children:s.jsx(HW,{...c,open:h,onOpenChange:m,dir:r,modal:l,children:n})})};YA.displayName=ng;var QA="DropdownMenuTrigger",XA=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=GA(QA,n),o=Gn(n);return s.jsx(qW,{asChild:!0,...o,children:s.jsx($e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ni(t,a.triggerRef),onPointerDown:pe(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:pe(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});XA.displayName=QA;var lH="DropdownMenuPortal",ZA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Gn(t);return s.jsx(KW,{...r,...n})};ZA.displayName=lH;var JA="DropdownMenuContent",eI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=GA(JA,n),a=Gn(n),o=f.useRef(!1);return s.jsx(GW,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eI.displayName=JA;var cH="DropdownMenuGroup",dH=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(YW,{...i,...r,ref:t})});dH.displayName=cH;var uH="DropdownMenuLabel",tI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(QW,{...i,...r,ref:t})});tI.displayName=uH;var hH="DropdownMenuItem",nI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(XW,{...i,...r,ref:t})});nI.displayName=hH;var fH="DropdownMenuCheckboxItem",sI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(ZW,{...i,...r,ref:t})});sI.displayName=fH;var mH="DropdownMenuRadioGroup",pH=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(JW,{...i,...r,ref:t})});pH.displayName=mH;var gH="DropdownMenuRadioItem",rI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(eH,{...i,...r,ref:t})});rI.displayName=gH;var xH="DropdownMenuItemIndicator",iI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(tH,{...i,...r,ref:t})});iI.displayName=xH;var vH="DropdownMenuSeparator",aI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(nH,{...i,...r,ref:t})});aI.displayName=vH;var yH="DropdownMenuArrow",wH=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(sH,{...i,...r,ref:t})});wH.displayName=yH;var jH="DropdownMenuSubTrigger",oI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(rH,{...i,...r,ref:t})});oI.displayName=jH;var bH="DropdownMenuSubContent",lI=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Gn(n);return s.jsx(iH,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lI.displayName=bH;var NH=YA,_H=XA,SH=ZA,cI=eI,dI=tI,uI=nI,hI=sI,fI=rI,mI=iI,pI=aI,gI=oI,xI=lI;const ho=NH,fo=_H,CH=f.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(gI,{ref:i,className:xe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(xr,{className:"ml-auto"})]}));CH.displayName=gI.displayName;const kH=f.forwardRef(({className:e,...t},n)=>s.jsx(xI,{ref:n,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));kH.displayName=xI.displayName;const Xi=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(SH,{children:s.jsx(cI,{ref:r,sideOffset:t,className:xe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Xi.displayName=cI.displayName;const Qt=f.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(uI,{ref:r,className:xe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Qt.displayName=uI.displayName;const EH=f.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(hI,{ref:i,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mI,{children:s.jsx(Xw,{className:"h-4 w-4"})})}),t]}));EH.displayName=hI.displayName;const TH=f.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(fI,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(mI,{children:s.jsx(VL,{className:"h-2 w-2 fill-current"})})}),t]}));TH.displayName=fI.displayName;const vI=f.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(dI,{ref:r,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));vI.displayName=dI.displayName;const Jr=f.forwardRef(({className:e,...t},n)=>s.jsx(pI,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));Jr.displayName=pI.displayName;function Me({children:e}){const{user:t,logout:n}=Qi(),{settings:r}=Nl(),[,i]=qt(),[a,o]=f.useState(!1),l=async()=>{await n(),i("/admin/login")},c=()=>t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName[0]}${t.lastName[0]}`.toUpperCase():t!=null&&t.firstName?t.firstName[0].toUpperCase():t!=null&&t.email?t.email[0].toUpperCase():"A";return s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"bg-card border-b border-border px-3 sm:px-6 py-3 flex justify-between items-center h-14 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(K,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"lg:hidden h-9 w-9 p-0","data-testid":"button-mobile-menu",children:s.jsx(XL,{className:"h-5 w-5"})}),s.jsx(nu,{href:"/admin","data-testid":"link-admin-home",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("div",{className:"h-7 w-7 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:r.app_name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"hidden sm:flex flex-col",children:[s.jsx("span",{className:"text-base font-bold text-foreground leading-tight",children:r.app_name}),s.jsx("span",{className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Panel"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right hidden md:block mr-2",children:[s.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-admin-email",children:t==null?void 0:t.email}),s.jsx(We,{variant:"secondary",className:"mt-0.5 text-xs",children:"Admin"})]}),t&&s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,"data-testid":"button-profile-dropdown",children:s.jsxs(Us,{className:"h-9 w-9 cursor-pointer hover-elevate",children:[s.jsx(Vs,{src:t.profilePhoto,alt:`${t.firstName||t.email}`}),s.jsx(zs,{className:"bg-primary text-primary-foreground text-sm font-bold",children:c()})]})}),s.jsxs(Xi,{align:"end",className:"w-56",children:[s.jsx(vI,{children:"My Account"}),s.jsx(Jr,{}),s.jsx(Qt,{asChild:!0,children:s.jsxs(nu,{href:"/admin/profile",className:"cursor-pointer","data-testid":"dropdown-profile",children:[s.jsx(Gs,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(Qt,{asChild:!0,children:s.jsxs(nu,{href:"/admin/settings",className:"cursor-pointer","data-testid":"dropdown-settings",children:[s.jsx(Pu,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(Jr,{}),s.jsxs(Qt,{onClick:l,className:"cursor-pointer text-destructive focus:text-destructive","data-testid":"dropdown-logout",children:[s.jsx(QL,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(HB,{isOpen:a,onClose:()=>o(!1)}),s.jsx("div",{className:"flex-1 overflow-auto",children:e})]})]})}const ln=f.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:xe("w-full caption-bottom text-sm",e),...t})}));ln.displayName="Table";const cn=f.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:xe("[&_tr]:border-b",e),...t}));cn.displayName="TableHeader";const dn=f.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:xe("[&_tr:last-child]:border-0",e),...t}));dn.displayName="TableBody";const PH=f.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));PH.displayName="TableFooter";const rt=f.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rt.displayName="TableRow";const ie=f.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ie.displayName="TableHead";const ae=f.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ae.displayName="TableCell";const AH=f.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));AH.displayName="TableCaption";function X1(){var x;const[,e]=qt(),{user:t}=Qi(),{toast:n}=kt(),[r,i]=f.useState(""),[a,o]=f.useState(1),[l]=f.useState(20);f.useEffect(()=>{t!=null&&t.admin||e("/")},[t==null?void 0:t.admin,e]);const c=`/api/admin/users?page=${a}&limit=${l}${r?`&title=${encodeURIComponent(r)}`:""}`,{data:d,isLoading:h}=Ve({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const g=await fetch(c,{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch users");return await g.json()}}),m=((x=d==null?void 0:d.data)==null?void 0:x.users)||[],p=d!=null&&d.data?{currentPage:a,totalPages:d.data.pages,totalItems:d.data.totalDoc,hasNextPage:a<d.data.pages,hasPrevPage:a>1}:void 0,y=Ge({mutationFn:async({userId:g,blocked:S})=>ot("PATCH",`/api/admin/users/${g}/block`,{blocked:S}),onSuccess:(g,S)=>{ze.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${S.blocked?"blocked":"unblocked"} successfully`})},onError:(g,S)=>{n({title:"Error",description:g.message||`Failed to ${S.blocked?"block":"unblock"} user`,variant:"destructive"})}});return f.useEffect(()=>{o(1)},[r]),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(p==null?void 0:p.totalItems)||m.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:m.filter(g=>g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Customers"}),s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:m.filter(g=>!g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"All Users"}),s.jsx(Ee,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search users...",value:r,onChange:g=>i(g.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(te,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):m.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{className:"min-w-[200px]",children:"User"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ie,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(ie,{className:"text-right",children:"Wallet"}),s.jsx(ie,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:m.map(g=>{var S,w;return s.jsxs(rt,{"data-testid":`row-user-${g._id||g.id}`,children:[s.jsx(ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Us,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Vs,{src:g.profilePhoto}),s.jsxs(zs,{children:[(S=g.firstName)==null?void 0:S[0],(w=g.lastName)==null?void 0:w[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[g.firstName," ",g.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:g.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:g.phone||"No phone"})]})]})}),s.jsx(ae,{className:"hidden md:table-cell","data-testid":`text-email-${g._id||g.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:g.email})}),s.jsx(ae,{className:"hidden lg:table-cell","data-testid":`text-username-${g._id||g.id}`,children:g.userName||"N/A"}),s.jsx(ae,{className:"hidden xl:table-cell",children:g.country||"N/A"}),s.jsx(ae,{children:s.jsx(We,{variant:g.seller?"default":"secondary",children:g.seller?"Seller":"Customer"})}),s.jsx(ae,{className:"hidden sm:table-cell",children:s.jsx(We,{variant:g.system_blocked?"destructive":"secondary","data-testid":`badge-status-${g._id||g.id}`,children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(zk,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(ae,{className:"text-right","data-testid":`text-wallet-${g._id||g.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(Hk,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(g.wallet||0).toFixed(2)]})]})}),s.jsx(ae,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${g._id||g.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(g.walletPending||0).toFixed(2)]})}),s.jsx(ae,{className:"text-right",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${g._id||g.id}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>e(`/admin/users/${g._id||g.id}`),"data-testid":`menu-view-user-${g._id||g.id}`,children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Jr,{}),s.jsx(Qt,{onClick:()=>{y.mutate({userId:g._id||g.id,blocked:!g.system_blocked})},disabled:y.isPending,"data-testid":`menu-block-user-${g._id||g.id}`,className:g.system_blocked?"":"text-destructive focus:text-destructive",children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},g._id||g.id)})})]})}),p&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",p.currentPage," of ",p.totalPages," (",p.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[p.currentPage," / ",p.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!p.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!p.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(xr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function IH(){var y;const[,e]=qt(),{user:t}=Qi(),{toast:n}=kt(),[r,i]=f.useState(""),[a,o]=f.useState(1),[l]=f.useState(20);f.useEffect(()=>{t!=null&&t.admin||e("/")},[t==null?void 0:t.admin,e]);const{data:c,isLoading:d}=Ve({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const x=new URLSearchParams;x.set("page",String(a)),x.set("limit",String(l)),r&&x.set("title",r);const g=`/api/admin/users?${x.toString()}`;return await(await ot("GET",g)).json()}}),h=((y=c==null?void 0:c.data)==null?void 0:y.users)||[],m=c!=null&&c.data?{currentPage:a,totalPages:c.data.pages,totalItems:c.data.totalDoc,hasNextPage:a<c.data.pages,hasPrevPage:a>1}:void 0,p=Ge({mutationFn:async({userId:x,blocked:g})=>ot("PATCH",`/api/admin/users/${x}/block`,{blocked:g}),onSuccess:(x,g)=>{ze.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${g.blocked?"blocked":"unblocked"} successfully`})},onError:(x,g)=>{n({title:"Error",description:x.message||`Failed to ${g.blocked?"block":"unblock"} user`,variant:"destructive"})}});return f.useEffect(()=>{o(1)},[r]),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(m==null?void 0:m.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:h.filter(x=>x.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Customers"}),s.jsx(Ii,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:h.filter(x=>!x.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"All Users"}),s.jsx(Ee,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search users...",value:r,onChange:x=>i(x.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(te,{children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{className:"min-w-[200px]",children:"User"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ie,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(ie,{className:"text-right",children:"Wallet"}),s.jsx(ie,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:h.map(x=>{var g,S;return s.jsxs(rt,{"data-testid":`row-user-${x._id||x.id}`,children:[s.jsx(ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Us,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Vs,{src:x.profilePhoto}),s.jsxs(zs,{children:[(g=x.firstName)==null?void 0:g[0],(S=x.lastName)==null?void 0:S[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[x.firstName," ",x.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:x.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:x.phone||"No phone"})]})]})}),s.jsx(ae,{className:"hidden md:table-cell","data-testid":`text-email-${x._id||x.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:x.email})}),s.jsx(ae,{className:"hidden lg:table-cell","data-testid":`text-username-${x._id||x.id}`,children:x.userName||"N/A"}),s.jsx(ae,{className:"hidden xl:table-cell",children:x.country||"N/A"}),s.jsx(ae,{children:s.jsx(We,{variant:x.seller?"default":"secondary",children:x.seller?"Seller":"Customer"})}),s.jsx(ae,{className:"hidden sm:table-cell",children:s.jsx(We,{variant:x.system_blocked?"destructive":"secondary","data-testid":`badge-status-${x._id||x.id}`,children:x.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(zk,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(Oc,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(ae,{className:"text-right","data-testid":`text-wallet-${x._id||x.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(Hk,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(x.wallet||0).toFixed(2)]})]})}),s.jsx(ae,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${x._id||x.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(x.walletPending||0).toFixed(2)]})}),s.jsx(ae,{className:"text-right",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${x._id||x.id}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>e(`/admin/users/${x._id||x.id}`),"data-testid":`menu-view-user-${x._id||x.id}`,children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Jr,{}),s.jsx(Qt,{onClick:()=>{p.mutate({userId:x._id||x.id,blocked:!x.system_blocked})},disabled:p.isPending,"data-testid":`menu-block-user-${x._id||x.id}`,className:x.system_blocked?"":"text-destructive focus:text-destructive",children:x.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},x._id||x.id)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(xr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function RH(){var x;const[,e]=qt(),{user:t}=Qi(),{toast:n}=kt(),[r,i]=f.useState(""),[a,o]=f.useState(1),[l]=f.useState(20);f.useEffect(()=>{t!=null&&t.admin||e("/")},[t==null?void 0:t.admin,e]);const{data:c,isLoading:d}=Ve({queryKey:["/api/admin/users","pending",a,l,r],queryFn:async()=>{const g=new URLSearchParams;g.set("page",String(a)),g.set("limit",String(l)),g.set("status","pending"),r&&g.set("title",r);const S=`/api/admin/users?${g.toString()}`;return await(await ot("GET",S)).json()}}),h=((x=c==null?void 0:c.data)==null?void 0:x.users)||[],m=c!=null&&c.data?{currentPage:a,totalPages:c.data.pages,totalItems:c.data.totalDoc,hasNextPage:a<c.data.pages,hasPrevPage:a>1}:void 0,p=Ge({mutationFn:async({userId:g,email:S})=>ot("PATCH",`/api/admin/users/${g}/approve-seller`,{email:S}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:"User approved as seller successfully"})},onError:g=>{n({title:"Error",description:g.message||"Failed to approve user",variant:"destructive"})}}),y=Ge({mutationFn:async({userId:g})=>ot("PATCH",`/api/admin/users/${g}/approve-seller`,{approved:!1}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:"User seller application rejected"})},onError:g=>{n({title:"Error",description:g.message||"Failed to reject application",variant:"destructive"})}});return f.useEffect(()=>{o(1)},[r]),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Pending Approvals"}),s.jsx($f,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-pending-count",children:(m==null?void 0:m.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Users awaiting seller approval"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"On This Page"}),s.jsx(a5,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-page-count",children:h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Applications to review"})]})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"Pending Seller Approvals"}),s.jsx(Ee,{children:"Review and approve users who have applied to become sellers"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search users...",value:r,onChange:g=>i(g.target.value),className:"pl-10","data-testid":"input-search-pending"})]})]})}),s.jsx(te,{children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading pending approvals..."})]}):h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($f,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No pending approvals"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All seller applications have been reviewed"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{className:"min-w-[200px]",children:"User"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ie,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:h.map(g=>{var S,w;return s.jsxs(rt,{"data-testid":`row-pending-user-${g._id||g.id}`,children:[s.jsx(ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Us,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Vs,{src:g.profilePhoto}),s.jsxs(zs,{children:[(S=g.firstName)==null?void 0:S[0],(w=g.lastName)==null?void 0:w[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[g.firstName," ",g.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:g.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:g.phone||"No phone"})]})]})}),s.jsx(ae,{className:"hidden md:table-cell","data-testid":`text-email-${g._id||g.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:g.email})}),s.jsx(ae,{className:"hidden lg:table-cell","data-testid":`text-username-${g._id||g.id}`,children:g.userName||"N/A"}),s.jsx(ae,{className:"hidden xl:table-cell",children:g.country||"N/A"}),s.jsx(ae,{children:s.jsxs(We,{variant:"outline",className:"text-amber-600 border-amber-600",children:[s.jsx($f,{className:"h-3 w-3 mr-1"}),"Pending"]})}),s.jsx(ae,{className:"text-right",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${g._id||g.id}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>e(`/admin/users/${g._id||g.id}`),"data-testid":`menu-view-user-${g._id||g.id}`,children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Jr,{}),s.jsxs(Qt,{onClick:()=>{p.mutate({userId:g._id||g.id,email:g.email})},disabled:p.isPending,"data-testid":`menu-approve-user-${g._id||g.id}`,className:"text-green-600 focus:text-green-600",children:[s.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Approve Seller"]}),s.jsxs(Qt,{onClick:()=>{y.mutate({userId:g._id||g.id})},disabled:y.isPending,"data-testid":`menu-reject-user-${g._id||g.id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Uk,{className:"h-4 w-4 mr-2"}),"Reject Application"]})]})]})})]},g._id||g.id)})})]})}),m&&m.totalPages>1&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," pending)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(xr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}var sg="Tabs",[DH]=Fn(sg,[Jp]),yI=Jp(),[OH,rb]=DH(sg),wI=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=gh(l),[m,p]=gr({prop:r,onChange:i,defaultProp:a??"",caller:sg});return s.jsx(OH,{scope:n,baseId:$s(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:c,children:s.jsx($e.div,{dir:h,"data-orientation":o,...d,ref:t})})});wI.displayName=sg;var jI="TabsList",bI=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=rb(jI,n),o=yI(n);return s.jsx(NA,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});bI.displayName=jI;var NI="TabsTrigger",_I=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=rb(NI,n),l=yI(n),c=kI(o.baseId,r),d=EI(o.baseId,r),h=r===o.value;return s.jsx(_A,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx($e.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:pe(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:pe(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:pe(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(r)})})})});_I.displayName=NI;var SI="TabsContent",CI=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=rb(SI,n),c=kI(l.baseId,r),d=EI(l.baseId,r),h=r===l.value,m=f.useRef(h);return f.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(xn,{present:i||h,children:({present:p})=>s.jsx($e.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&a})})});CI.displayName=SI;function kI(e,t){return`${e}-trigger-${t}`}function EI(e,t){return`${e}-content-${t}`}var MH=wI,TI=bI,PI=_I,AI=CI;const qi=MH,ei=f.forwardRef(({className:e,...t},n)=>s.jsx(TI,{ref:n,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ei.displayName=TI.displayName;const it=f.forwardRef(({className:e,...t},n)=>s.jsx(PI,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));it.displayName=PI.displayName;const gt=f.forwardRef(({className:e,...t},n)=>s.jsx(AI,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));gt.displayName=AI.displayName;var rg="Switch",[FH]=Fn(rg),[LH,$H]=FH(rg),II=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...m}=e,[p,y]=f.useState(null),x=Ye(t,j=>y(j)),g=f.useRef(!1),S=p?h||!!p.closest("form"):!0,[w,v]=gr({prop:i,defaultProp:a??!1,onChange:d,caller:rg});return s.jsxs(LH,{scope:n,checked:w,disabled:l,children:[s.jsx($e.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":MI(w),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:pe(e.onClick,j=>{v(P=>!P),S&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),S&&s.jsx(OI,{control:p,bubbles:!g.current,name:r,value:c,checked:w,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});II.displayName=rg;var RI="SwitchThumb",DI=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=$H(RI,n);return s.jsx($e.span,{"data-state":MI(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});DI.displayName=RI;var UH="SwitchBubbleInput",OI=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=f.useRef(null),l=Ye(o,a),c=Bj(n),d=dj(t);return f.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&y){const x=new Event("click",{bubbles:r});y.call(h,n),h.dispatchEvent(x)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OI.displayName=UH;function MI(e){return e?"checked":"unchecked"}var FI=II,VH=DI;const Ri=f.forwardRef(({className:e,...t},n)=>s.jsx(FI,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(VH,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ri.displayName=FI.displayName;function zH(e){const t=BH(e),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(HH);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function BH(e){const t=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=KH(i),l=qH(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WH=Symbol("radix.slottable");function HH(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WH}function qH(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function KH(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ig="Dialog",[LI,$I]=Fn(ig),[GH,_r]=LI(ig),UI=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,h]=gr({prop:r,defaultProp:i??!1,onChange:a,caller:ig});return s.jsx(GH,{scope:t,triggerRef:l,contentRef:c,contentId:$s(),titleId:$s(),descriptionId:$s(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:o,children:n})};UI.displayName=ig;var VI="DialogTrigger",zI=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=_r(VI,n),a=Ye(t,i.triggerRef);return s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ob(i.open),...r,ref:a,onClick:pe(e.onClick,i.onOpenToggle)})});zI.displayName=VI;var ib="DialogPortal",[YH,BI]=LI(ib,{forceMount:void 0}),WI=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=_r(ib,t);return s.jsx(YH,{scope:t,forceMount:n,children:f.Children.map(r,o=>s.jsx(xn,{present:n||a.open,children:s.jsx(nd,{asChild:!0,container:i,children:o})}))})};WI.displayName=ib;var Jm="DialogOverlay",HI=f.forwardRef((e,t)=>{const n=BI(Jm,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=_r(Jm,e.__scopeDialog);return a.modal?s.jsx(xn,{present:r||a.open,children:s.jsx(XH,{...i,ref:t})}):null});HI.displayName=Jm;var QH=zH("DialogOverlay.RemoveScroll"),XH=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=_r(Jm,n);return s.jsx(vh,{as:QH,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx($e.div,{"data-state":ob(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ml="DialogContent",qI=f.forwardRef((e,t)=>{const n=BI(ml,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=_r(ml,e.__scopeDialog);return s.jsx(xn,{present:r||a.open,children:a.modal?s.jsx(ZH,{...i,ref:t}):s.jsx(JH,{...i,ref:t})})});qI.displayName=ml;var ZH=f.forwardRef((e,t)=>{const n=_r(ml,e.__scopeDialog),r=f.useRef(null),i=Ye(t,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return Kp(a)},[]),s.jsx(KI,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault())})}),JH=f.forwardRef((e,t)=>{const n=_r(ml,e.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return s.jsx(KI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),KI=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=_r(ml,n),c=f.useRef(null),d=Ye(t,c);return qp(),s.jsxs(s.Fragment,{children:[s.jsx(xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(wl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ob(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(tq,{titleId:l.titleId}),s.jsx(sq,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ab="DialogTitle",GI=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=_r(ab,n);return s.jsx($e.h2,{id:i.titleId,...r,ref:t})});GI.displayName=ab;var YI="DialogDescription",QI=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=_r(YI,n);return s.jsx($e.p,{id:i.descriptionId,...r,ref:t})});QI.displayName=YI;var XI="DialogClose",ZI=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=_r(XI,n);return s.jsx($e.button,{type:"button",...r,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});ZI.displayName=XI;function ob(e){return e?"open":"closed"}var JI="DialogTitleWarning",[eq,e4]=MF(JI,{contentName:ml,titleName:ab,docsSlug:"dialog"}),tq=({titleId:e})=>{const t=e4(JI),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},nq="DialogDescriptionWarning",sq=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e4(nq).contentName}}.`;return f.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},t4=UI,n4=zI,s4=WI,lb=HI,cb=qI,db=GI,ub=QI,hb=ZI;const vs=t4,Wu=n4,rq=s4,r4=f.forwardRef(({className:e,...t},n)=>s.jsx(lb,{ref:n,className:xe("fixed inset-0 z-[9998] bg-black/40 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));r4.displayName=lb.displayName;const es=f.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(rq,{children:[s.jsx(r4,{}),s.jsxs(cb,{ref:r,className:xe("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(hb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(_s,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));es.displayName=cb.displayName;const ts=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ts.displayName="DialogHeader";const i4=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});i4.displayName="DialogFooter";const ns=f.forwardRef(({className:e,...t},n)=>s.jsx(db,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));ns.displayName=db.displayName;const Lr=f.forwardRef(({className:e,...t},n)=>s.jsx(ub,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));Lr.displayName=ub.displayName;function iq(){var X,Z,be;const[,e]=qt(),[,t]=yl("/admin/users/:userId"),{user:n}=Qi(),{settings:r}=Nl(),{toast:i}=kt(),a=t==null?void 0:t.userId,[o,l]=f.useState("orders"),[c,d]=f.useState(null),[h,m]=f.useState(!1);f.useEffect(()=>{n!=null&&n.admin||e("/")},[n==null?void 0:n.admin,e]);const p=Ge({mutationFn:async H=>await ot("PATCH",`/api/admin/users/${a}/approve-seller`,{email:H}),onSuccess:()=>{ze.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User approved as seller successfully"})},onError:H=>{i({title:"Error",description:H.message||"Failed to approve seller",variant:"destructive"})}}),y=Ge({mutationFn:async H=>await ot("PATCH",`/api/admin/users/${a}`,H),onSuccess:()=>{ze.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User updated successfully"})},onError:H=>{i({title:"Error",description:H.message||"Failed to update user",variant:"destructive"})}}),x=H=>{if(H){const fe=(D==null?void 0:D.email)||"";p.mutate(fe)}else y.mutate({seller:!1})},{data:g,isLoading:S}=Ve({queryKey:[`/api/admin/users/${a}`],enabled:!!a,refetchOnMount:"always",staleTime:0}),{data:w,isLoading:v}=Ve({queryKey:[`/api/address/all/${a}`],enabled:!!a}),{data:j,isLoading:P}=Ve({queryKey:[`/api/shipping/profiles/${a}`],enabled:!!a}),{data:E,isLoading:O}=Ve({queryKey:["/api/products",a],enabled:!!a}),{data:C,isLoading:N}=Ve({queryKey:["/api/orders",a,o],enabled:!!a&&(o==="orders"||o==="giveaways"),refetchOnMount:"always",staleTime:0}),{data:_,isLoading:k}=Ve({queryKey:["purchases-for-customer",a,o],queryFn:async()=>{const H=await fetch(`/api/orders?customer=${a}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch purchases");return await H.json()},enabled:!!a&&(o==="purchases"||o==="giveaways")}),{data:R,isLoading:T}=Ve({queryKey:["/api/admin/transactions",a,o],queryFn:async()=>{const H=await fetch(`/api/admin/transactions?userId=${a}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch transactions");return await H.json()},enabled:!!a&&o==="transactions"}),{data:I}=Ve({queryKey:["admin-settings"],queryFn:async()=>{const H=await fetch("/api/settings",{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch settings");const fe=await H.json();return fe.success?fe.data:fe}}),D=g==null?void 0:g.data,q=(w==null?void 0:w.data)||w||[],U=(j==null?void 0:j.data)||j||[],z=(E==null?void 0:E.products)||(E==null?void 0:E.data)||[],L=(C==null?void 0:C.orders)||(C==null?void 0:C.data)||[],B=(_==null?void 0:_.orders)||(_==null?void 0:_.data)||[],le=((X=R==null?void 0:R.data)==null?void 0:X.data)||(R==null?void 0:R.transactions)||(R==null?void 0:R.data)||[],ce=Array.isArray(le)?le:[],W=(I==null?void 0:I.support_email)||"",Ce=(I==null?void 0:I.stripe_fee)||"0",_e=(I==null?void 0:I.extra_charges)||"0",He=[...L,...B].filter(H=>H.ordertype==="giveaway"||H.orderType==="giveaway");return S?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading user details..."})]})})}):D?s.jsxs(Me,{children:[s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(K,{variant:"ghost",onClick:()=>e("/admin"),"data-testid":"button-back-to-admin",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),s.jsxs(ee,{className:"mb-8",children:[s.jsxs(re,{children:[s.jsx(oe,{children:"User Profile"}),s.jsx(Ee,{children:"Complete user information"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs(Us,{className:"h-20 w-20",children:[s.jsx(Vs,{src:D.profilePhoto}),s.jsxs(zs,{className:"text-2xl",children:[(Z=D.firstName)==null?void 0:Z[0],(be=D.lastName)==null?void 0:be[0]]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium","data-testid":"text-user-name",children:[D.firstName," ",D.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-email",children:D.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-username",children:D.userName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:D.country||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:D.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Default Payment Method"}),s.jsx("p",{className:"font-medium","data-testid":"text-default-payment-method",children:typeof D.defaultpaymentmethod=="object"&&D.defaultpaymentmethod?`${(D.defaultpaymentmethod.type||"Card").replace(/_/g," ")} ending in ${D.defaultpaymentmethod.last4||"****"}`:D.defaultpaymentmethod?String(D.defaultpaymentmethod).replace(/_/g," "):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(We,{variant:D.seller?"default":"secondary",children:D.seller?"Seller":"Customer"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Admin Controls"}),s.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{htmlFor:"seller-toggle",className:"text-base",children:"Seller Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this user to sell products on the platform"})]}),s.jsx(Ri,{id:"seller-toggle",checked:D.seller,onCheckedChange:x,disabled:p.isPending||y.isPending,"data-testid":"switch-seller-status"})]})]})]})]}),s.jsxs(qi,{defaultValue:"addresses",className:"w-full",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(ei,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(it,{value:"addresses","data-testid":"tab-addresses",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(ej,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Addresses (",q.length,")"]}),s.jsxs(it,{value:"shipping","data-testid":"tab-shipping",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Iu,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Shipping Profiles (",U.length,")"]}),s.jsxs(it,{value:"inventory","data-testid":"tab-inventory",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(on,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Inventory (",z.length,")"]}),s.jsxs(it,{value:"activities","data-testid":"tab-activities",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(OL,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Activities"]})]})}),s.jsx(gt,{value:"addresses",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"User Addresses"}),s.jsx(Ee,{children:"All saved addresses for this user"})]}),s.jsx(te,{children:v?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading addresses..."})]}):q.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No addresses found"}):s.jsx("div",{className:"space-y-4",children:q.map((H,fe)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`address-${fe}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h4",{className:"font-medium",children:H.name}),s.jsx(K,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/addresses/${H._id}`),"data-testid":`button-view-address-${fe}`,children:"View Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:H.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:H.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:H.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City/Region"}),s.jsxs("p",{className:"font-medium",children:[H.city,", ",H.region]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:H.country})]})]})]},H._id||fe))})})]})}),s.jsx(gt,{value:"shipping",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Shipping Profiles"}),s.jsx(Ee,{children:"User's shipping configurations"})]}),s.jsx(te,{children:P?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading shipping profiles..."})]}):U.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No shipping profiles found"}):s.jsx("div",{className:"space-y-4",children:U.map((H,fe)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`shipping-profile-${fe}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["Shipping Profile #",fe+1]}),s.jsx(K,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/shipping-profiles/${H._id}`),"data-testid":`button-view-shipping-${fe}`,children:"View Details"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(H).map(([ge,ke])=>ge==="_id"||ge==="__v"||ge==="userId"||ge==="user"||ge==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground capitalize",children:ge.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"break-words",children:typeof ke=="object"&&ke!==null?JSON.stringify(ke):String(ke||"N/A")})]},ge))})]},H._id||fe))})})]})}),s.jsx(gt,{value:"inventory",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Product Inventory"}),s.jsx(Ee,{children:"All products listed by this user"})]}),s.jsx(te,{children:O?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading inventory..."})]}):z.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No inventory found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Product"}),s.jsx(ie,{children:"Price"}),s.jsx(ie,{children:"Stock"}),s.jsx(ie,{children:"Category"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Actions"})]})}),s.jsx(dn,{children:z.map(H=>{var fe,ge,ke;return s.jsxs(rt,{"data-testid":`product-${H._id||H.id}`,children:[s.jsx(ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[((fe=H.images)==null?void 0:fe[0])&&s.jsx("img",{src:H.images[0],alt:H.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{children:H.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(ge=H.description)==null?void 0:ge.substring(0,50),"..."]})]})]})}),s.jsxs(ae,{children:["$",H.price]}),s.jsx(ae,{children:H.quantity||0}),s.jsx(ae,{children:((ke=H.category)==null?void 0:ke.name)||"N/A"}),s.jsx(ae,{children:s.jsx(We,{variant:H.active?"default":"secondary",children:H.active?"Active":"Inactive"})}),s.jsx(ae,{children:s.jsx(K,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/inventory/${H._id||H.id}`),"data-testid":`button-view-product-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})})]})}),s.jsx(gt,{value:"activities",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"User Activities"}),s.jsx(Ee,{children:"Orders, purchases, and giveaways"})]}),s.jsx(te,{children:s.jsxs(qi,{defaultValue:"orders",className:"w-full",onValueChange:l,children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(ei,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(it,{value:"orders","data-testid":"tab-activities-orders",className:"flex-shrink-0 sm:flex-shrink",children:"Orders"}),s.jsx(it,{value:"purchases","data-testid":"tab-activities-purchases",className:"flex-shrink-0 sm:flex-shrink",children:"Purchases"}),s.jsx(it,{value:"giveaways","data-testid":"tab-activities-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:"Giveaways"}),s.jsxs(it,{value:"transactions","data-testid":"tab-activities-transactions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Mc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Transactions"]})]})}),s.jsx(gt,{value:"orders",children:N?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."})]}):L.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No orders found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Order ID"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Items"}),s.jsx(ie,{children:"Total"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Actions"})]})}),s.jsx(dn,{children:L.map(H=>{var ge,ke;const fe=((ge=H.items)==null?void 0:ge.reduce((st,Be)=>st+(Be.total||Be.totalPrice||Be.price||0),0))||0;return s.jsxs(rt,{"data-testid":`order-${H._id||H.id}`,children:[s.jsx(ae,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(ae,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(ae,{children:[((ke=H.items)==null?void 0:ke.length)||0," items"]}),s.jsxs(ae,{children:["$",fe.toFixed(2)]}),s.jsx(ae,{children:s.jsx(We,{children:H.status||"pending"})}),s.jsx(ae,{children:s.jsx(K,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-order-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(gt,{value:"purchases",children:k?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading purchases..."})]}):B.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No purchases found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Order ID"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Items"}),s.jsx(ie,{children:"Total"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Actions"})]})}),s.jsx(dn,{children:B.map(H=>{var ge,ke;const fe=((ge=H.items)==null?void 0:ge.reduce((st,Be)=>st+(Be.total||Be.totalPrice||Be.price||0),0))||0;return s.jsxs(rt,{"data-testid":`purchase-${H._id||H.id}`,children:[s.jsx(ae,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(ae,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(ae,{children:[((ke=H.items)==null?void 0:ke.length)||0," items"]}),s.jsxs(ae,{children:["$",fe.toFixed(2)]}),s.jsx(ae,{children:s.jsx(We,{children:H.status||"pending"})}),s.jsx(ae,{children:s.jsx(K,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-purchase-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(gt,{value:"giveaways",children:N||k?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading giveaways..."})]}):He.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No giveaways found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Order ID"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Items"}),s.jsx(ie,{children:"Total"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Actions"})]})}),s.jsx(dn,{children:He.map(H=>{var ge,ke;const fe=((ge=H.items)==null?void 0:ge.reduce((st,Be)=>st+(Be.total||Be.totalPrice||Be.price||0),0))||0;return s.jsxs(rt,{"data-testid":`giveaway-${H._id||H.id}`,children:[s.jsx(ae,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(ae,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(ae,{children:[((ke=H.items)==null?void 0:ke.length)||0," items"]}),s.jsxs(ae,{children:["$",fe.toFixed(2)]}),s.jsx(ae,{children:s.jsx(We,{children:H.status||"pending"})}),s.jsx(ae,{children:s.jsx(K,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-giveaway-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(gt,{value:"transactions",children:T?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):ce.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Transaction ID"}),s.jsx(ie,{children:"From"}),s.jsx(ie,{children:"To"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Amount"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:ce.map(H=>{const fe=H._id||H.id,ge=typeof H.from=="object"&&(`${H.from.firstName||""} ${H.from.lastName||""}`.trim()||H.from.userName||H.from.email)||"Unknown",ke=typeof H.to=="object"&&(`${H.to.firstName||""} ${H.to.lastName||""}`.trim()||H.to.userName||H.to.email)||"Unknown",st=H.amount||0,Be=H.type||"N/A",Je=H.status||"pending",ut=Jt=>{switch(Jt.toLowerCase()){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"secondary"}};return s.jsxs(rt,{"data-testid":`transaction-${fe}`,children:[s.jsx(ae,{className:"font-mono text-xs",children:String(fe).slice(-8)}),s.jsx(ae,{children:ge}),s.jsx(ae,{children:ke}),s.jsx(ae,{className:"capitalize",children:Be}),s.jsxs(ae,{children:["$",st.toFixed(2)]}),s.jsx(ae,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsx(ae,{children:s.jsx(We,{variant:ut(Je),children:Je})}),s.jsx(ae,{className:"text-right",children:s.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>{H.receipt?window.open(H.receipt,"_blank"):(d(H),m(!0))},"data-testid":`button-print-receipt-${fe}`,children:[s.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Receipt"]})})]},fe)})})]})})})]})})]})})]})]}),s.jsx(vs,{open:h,onOpenChange:m,children:s.jsxs(es,{className:"max-w-md",children:[s.jsx(ts,{children:s.jsx(ns,{children:"Transaction Receipt"})}),c&&s.jsxs("div",{id:"receipt-content-user",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:r.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(c._id||c.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString():c.date?new Date(c.date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:c.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(We,{variant:(c.status||"pending").toLowerCase()==="completed"?"default":(c.status||"pending").toLowerCase()==="failed"?"destructive":"secondary",children:c.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof c.from=="object"&&(`${c.from.firstName||""} ${c.from.lastName||""}`.trim()||c.from.userName||c.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof c.to=="object"&&(`${c.to.firstName||""} ${c.to.lastName||""}`.trim()||c.to.userName||c.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(c.total)||0).toFixed(2)]})]}),(()=>{const H=parseFloat(c.stripe_fee)||0,fe=parseFloat(c.extra_charges)||0,ge=H+fe;return ge>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",Ce,"% + ",_e,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",ge.toFixed(2)]})]})})(),c.serviceFee&&parseFloat(c.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.serviceFee).toFixed(2)]})]}),c.shippingFee&&parseFloat(c.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(c.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",W]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(K,{variant:"outline",onClick:()=>m(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(K,{onClick:()=>{const H=document.getElementById("receipt-content-user");if(H){const fe=window.open("","_blank");fe&&(fe.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${H.innerHTML}
                        </body>
                      </html>
                    `),fe.document.close(),fe.focus(),setTimeout(()=>{fe.print(),fe.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]}):s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"User not found"}),s.jsx(K,{onClick:()=>e("/admin"),className:"mt-4",children:"Back to Dashboard"})]})})})}function aq(){var x,g,S,w,v,j,P,E,O,C;const[,e]=qt(),[,t]=yl("/admin/users/:userId/details/:itemType/:itemId"),{userId:n,itemType:r,itemId:i}=t||{},a=()=>{switch(r){case"addresses":return[`/api/address/all/${n}`];case"shipping-profiles":return[`/api/shipping/profiles/${n}`];case"inventory":return["/api/products",n];case"orders":return["/api/orders",n];default:return[`/api/admin/users/${n}/${r}`]}},{data:o,isLoading:l}=Ve({queryKey:a(),enabled:!!n&&!!r}),h=(o?o.products?o.products:o.orders?o.orders:Array.isArray(o)?o:Array.isArray(o.data)?o.data:[]:[]).find(N=>(N._id||N.id)===i);if(l)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading details..."})]})})});if(!h)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Item not found"}),s.jsx(K,{onClick:()=>e(`/admin/users/${n}`),className:"mt-4",children:"Back to User"})]})})});const m=()=>{switch(r){case"addresses":return ej;case"orders":return Wa;case"shipping-profiles":return Iu;case"inventory":return on;default:return on}},p=()=>{switch(r){case"addresses":return"Address Details";case"orders":return`Order #${h.invoice||h._id}`;case"shipping-profiles":return"Shipping Profile Details";case"inventory":return"Inventory Item Details";default:return"Item Details"}},y=m();return s.jsx(Me,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(K,{variant:"ghost",onClick:()=>e(`/admin/users/${n}`),"data-testid":"button-back-to-user",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to User"]})}),s.jsxs(qi,{defaultValue:"overview",className:"w-full",children:[s.jsxs(ei,{children:[s.jsx(it,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(it,{value:"details","data-testid":"tab-details",children:"Details"}),r==="orders"&&s.jsx(it,{value:"items","data-testid":"tab-items",children:"Items"}),r==="inventory"&&s.jsx(it,{value:"reviews","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(gt,{value:"overview",children:s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(y,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(oe,{children:p()}),s.jsx(Ee,{children:"Basic information"})]})]})}),s.jsxs(te,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(We,{children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium",children:[h.address,", ",h.city,", ",h.region,", ",h.country]})]})]}),r==="orders"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(We,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-2xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([N,_])=>N==="_id"||N==="__v"||N==="userId"||N==="user"||N==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:N.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},N))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([N,_])=>N==="_id"||N==="__v"||N==="userId"||N==="orderId"||N==="ownerId"||N==="favorite"||N==="deleted"||N==="reviews"||N==="favorited"||N==="discountedPrice"||N==="colors"||N==="tokshow"||N==="tiktokshow"?null:N==="images"&&Array.isArray(_)&&_.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((k,R)=>s.jsx("img",{src:k,alt:`Product ${R+1}`,className:"h-24 w-24 rounded object-cover border"},R))})]},N):N==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(We,{variant:_?"default":"secondary",children:_?"Yes":"No"})]},N):N==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(_||"N/A").replace(/_/g," ")})]},N):N==="sizes"&&Array.isArray(_)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:_.join(", ")||"N/A"})]},N):N==="category"&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},N):(N==="shippingProfile"||N==="shipping_profile")&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},N):s.jsxs("div",{className:N==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:N.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},N))})]})]})}),s.jsx(gt,{value:"details",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Complete Details"}),s.jsx(Ee,{children:"All available information"})]}),s.jsxs(te,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address Type"}),s.jsx("p",{className:"font-medium text-lg",children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Street Address"}),s.jsx("p",{className:"font-medium text-lg",children:h.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City"}),s.jsx("p",{className:"font-medium text-lg",children:h.city})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Region/State"}),s.jsx("p",{className:"font-medium text-lg",children:h.region})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Postal Code"}),s.jsx("p",{className:"font-medium text-lg",children:h.postalCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium text-lg",children:h.country})]})]}),r==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invoice Number"}),s.jsx("p",{className:"font-medium",children:h.invoice||h._id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(We,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"font-medium",children:h.notes||"No notes"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((x=h.customer)==null?void 0:x.firstName)||""} ${((g=h.customer)==null?void 0:g.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((S=h.customer)==null?void 0:S.email)||"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),s.jsx("p",{className:"font-medium",children:(w=h.customer)!=null&&w.address?`${h.customer.address.addrress1}, ${h.customer.address.city}, ${h.customer.address.state} ${h.customer.address.zipcode}`:"N/A"})]}),((j=(v=h.customer)==null?void 0:v.address)==null?void 0:j.phone)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:h.customer.address.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seller Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((P=h.seller)==null?void 0:P.firstName)||""} ${((E=h.seller)==null?void 0:E.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((O=h.seller)==null?void 0:O.email)||"N/A"})]}),((C=h.seller)==null?void 0:C.userName)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium",children:h.seller.userName})]})]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([N,_])=>N==="_id"||N==="__v"||N==="userId"||N==="user"||N==="taxCode"?null:s.jsxs("div",{className:N==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:N.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},N))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([N,_])=>N==="_id"||N==="__v"||N==="userId"||N==="orderId"||N==="ownerId"||N==="favorite"||N==="deleted"||N==="reviews"||N==="favorited"||N==="discountedPrice"||N==="colors"||N==="tokshow"||N==="tiktokshow"?null:N==="images"&&Array.isArray(_)&&_.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((k,R)=>s.jsx("img",{src:k,alt:`Product ${R+1}`,className:"h-24 w-24 rounded object-cover border"},R))})]},N):N==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(We,{variant:_?"default":"secondary",children:_?"Yes":"No"})]},N):N==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(_||"N/A").replace(/_/g," ")})]},N):N==="sizes"&&Array.isArray(_)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:_.join(", ")||"N/A"})]},N):N==="category"&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},N):(N==="shippingProfile"||N==="shipping_profile")&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},N):s.jsxs("div",{className:N==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:N.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},N))})]})]})}),r==="orders"&&s.jsx(gt,{value:"items",children:s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(on,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(oe,{children:"Order Items"}),s.jsx(Ee,{children:"Products in this order"})]})]})}),s.jsx(te,{children:!h.items||h.items.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No items in this order"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Product"}),s.jsx(ie,{children:"Quantity"}),s.jsx(ie,{children:"Price"}),s.jsx(ie,{className:"text-right",children:"Total"})]})}),s.jsx(dn,{children:h.items.map((N,_)=>{var k;return s.jsxs(rt,{children:[s.jsx(ae,{className:"font-medium",children:((k=N.productId)==null?void 0:k.name)||"N/A"}),s.jsx(ae,{children:N.quantity||1}),s.jsxs(ae,{children:["$",N.price||0]}),s.jsxs(ae,{className:"text-right",children:["$",(N.quantity||1)*(N.price||0)]})]},N._id||_)})})]})})})]})}),r==="inventory"&&s.jsx(gt,{value:"reviews",children:s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(on,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(oe,{children:"Product Reviews"}),s.jsx(Ee,{children:"Customer reviews for this product"})]})]})}),s.jsx(te,{children:!h.reviews||h.reviews.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No reviews yet"}):s.jsx("div",{className:"space-y-4",children:h.reviews.map((N,_)=>{var k;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.userName||((k=N.user)==null?void 0:k.name)||"Anonymous"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N.createdAt?new Date(N.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:N.rating||"N/A"}),s.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/ 5"})]})]}),s.jsx("p",{className:"text-sm",children:N.comment||N.review||"No comment"})]},N._id||_)})})})]})})]})]})})}function oq(){var N;const[,e]=qt(),[t,n]=f.useState(""),[r,i]=f.useState("all"),[a,o]=f.useState("all"),[l,c]=f.useState("all"),[d,h]=f.useState(!1),[m,p]=f.useState(1),[y]=f.useState(10);let x=`/api/admin/products?page=${m}&limit=${y}`;t&&(x+=`&title=${encodeURIComponent(t)}`),r&&r!=="all"&&(x+=`&category=${encodeURIComponent(r)}`),l&&l!=="all"&&(x+=`&price=${encodeURIComponent(l)}`);const{data:g,isLoading:S}=Ve({queryKey:[x]}),w=((N=g==null?void 0:g.data)==null?void 0:N.products)||[],v=new Map;w.forEach(_=>{if(_.category){const k=typeof _.category=="object"?_.category._id:_.category,R=typeof _.category=="object"?_.category.name:_.category;k&&!v.has(k)&&v.set(k,R)}});const j=Array.from(v.entries()).map(([_,k])=>({id:_,name:k})),P=a&&a!=="all"?w.filter(_=>(_.status||"active")===a):w,E=g!=null&&g.data?{currentPage:m,totalPages:g.data.pages,totalItems:g.data.totalDoc,hasNextPage:m<g.data.pages,hasPrevPage:m>1}:void 0;f.useEffect(()=>{p(1)},[t,r,a,l]);const O=()=>{n(""),i("all"),o("all"),c("all")},C=t||r&&r!=="all"||a&&a!=="all"||l&&l!=="all";return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Products"}),s.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-products",children:(E==null?void 0:E.totalItems)||w.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All products in inventory"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Active Products"}),s.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-products",children:w.filter(_=>_.status==="active"||!_.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Categories"}),s.jsx(on,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-categories-count",children:new Set(w.map(_=>{var k;return((k=_.category)==null?void 0:k._id)||_.category}).filter(Boolean)).size}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique categories"})]})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"All Products"}),s.jsx(Ee,{children:"View and manage all product inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>h(!d),"data-testid":"button-toggle-filters",className:"whitespace-nowrap",children:[s.jsx(sd,{className:"h-4 w-4 mr-2"}),"Filters",C&&s.jsx(We,{variant:"secondary",className:"ml-2",children:[t,r!=="all"&&r,a!=="all"&&a,l!=="all"&&l].filter(Boolean).length})]}),C&&s.jsx(K,{variant:"ghost",size:"sm",onClick:O,"data-testid":"button-clear-filters",children:s.jsx(_s,{className:"h-4 w-4"})})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search products...",value:t,onChange:_=>n(_.target.value),className:"pl-10","data-testid":"input-search-products"})]}),s.jsxs(Dn,{value:r,onValueChange:i,children:[s.jsx(Cn,{"data-testid":"select-category-filter",children:s.jsx(On,{placeholder:"All Categories"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"all",children:"All Categories"}),j.map(_=>s.jsx(de,{value:_.id,children:_.name},_.id))]})]}),s.jsxs(Dn,{value:a,onValueChange:o,children:[s.jsx(Cn,{"data-testid":"select-status-filter",children:s.jsx(On,{placeholder:"All Status"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"all",children:"All Status"}),s.jsx(de,{value:"active",children:"Active"}),s.jsx(de,{value:"inactive",children:"Inactive"}),s.jsx(de,{value:"draft",children:"Draft"})]})]}),s.jsxs(Dn,{value:l,onValueChange:c,children:[s.jsx(Cn,{"data-testid":"select-price-filter",children:s.jsx(On,{placeholder:"All Prices"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"all",children:"All Prices"}),s.jsx(de,{value:"0-25",children:"$0 - $25"}),s.jsx(de,{value:"25-50",children:"$25 - $50"}),s.jsx(de,{value:"50-100",children:"$50 - $100"}),s.jsx(de,{value:"100-",children:"$100+"})]})]})]})]})}),s.jsx(te,{children:S?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):P.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(on,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{className:"min-w-[250px]",children:"Product"}),s.jsx(ie,{className:"hidden sm:table-cell",children:"Owner"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Category"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Type"}),s.jsx(ie,{className:"hidden xl:table-cell",children:"Price"}),s.jsx(ie,{className:"hidden 2xl:table-cell",children:"Stock"}),s.jsx(ie,{className:"hidden 2xl:table-cell",children:"Featured"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:P.map(_=>{var k,R,T;return s.jsxs(rt,{"data-testid":`row-product-${_._id||_.id}`,onClick:()=>e(`/admin/products/${_._id||_.id}`),className:"cursor-pointer hover-elevate",children:[s.jsx(ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[(k=_.images)!=null&&k[0]?s.jsx("img",{src:_.images[0],alt:_.name,className:"h-10 w-10 rounded object-cover flex-shrink-0"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(on,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:_.name}),s.jsxs("div",{className:"text-sm text-muted-foreground sm:hidden truncate",children:["Owner: ",typeof _.ownerId=="object"?_.ownerId.userName||_.ownerId.email||"Unknown":"N/A"]})]})]})}),s.jsx(ae,{className:"hidden sm:table-cell","data-testid":`text-owner-${_._id||_.id}`,children:s.jsx("div",{className:"max-w-[150px]",children:typeof _.ownerId=="object"?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium truncate",children:_.ownerId.firstName&&_.ownerId.lastName?`${_.ownerId.firstName} ${_.ownerId.lastName}`:_.ownerId.userName||"Unknown"}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:_.ownerId.email||""})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),s.jsx(ae,{className:"hidden md:table-cell","data-testid":`text-category-${_._id||_.id}`,children:((R=_.category)==null?void 0:R.name)||_.category||"Uncategorized"}),s.jsx(ae,{className:"hidden md:table-cell","data-testid":`text-type-${_._id||_.id}`,children:s.jsx(We,{variant:_.listing_type==="auction"?"default":_.listing_type==="giveaway"?"secondary":"outline",children:_.listing_type==="auction"?"Auction":_.listing_type==="giveaway"?"Giveaway":_.listing_type==="buy_now"?"Buy Now":_.listing_type||"Unknown"})}),s.jsxs(ae,{className:"hidden xl:table-cell","data-testid":`text-price-${_._id||_.id}`,children:["$",((T=_.price)==null?void 0:T.toFixed(2))||"0.00"]}),s.jsx(ae,{className:"hidden 2xl:table-cell",children:_.quantity||0}),s.jsx(ae,{className:"hidden 2xl:table-cell",children:s.jsx(We,{variant:_.featured?"default":"outline","data-testid":`badge-featured-${_._id||_.id}`,children:_.featured?"Yes":"No"})}),s.jsx(ae,{children:s.jsx(We,{variant:_.status==="active"||!_.status?"default":"secondary",children:_.status||"active"})}),s.jsx(ae,{className:"text-right",children:s.jsxs(K,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),e(`/admin/products/${_._id||_.id}`)},"data-testid":`button-view-product-${_._id||_.id}`,className:"whitespace-nowrap",children:[s.jsx(qs,{className:"h-4 w-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"View Details"})]})})]},_._id||_.id)})})]})}),E&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",E.currentPage," of ",E.totalPages," (",E.totalItems," total products)"]}),s.jsxs("span",{className:"sm:hidden",children:[E.currentPage," / ",E.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>p(m-1),disabled:!E.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>p(m+1),disabled:!E.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(xr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function lq(){var o,l;const[,e]=qt(),[,t]=yl("/admin/products/:productId"),{user:n}=Qi(),r=t==null?void 0:t.productId;f.useEffect(()=>{n!=null&&n.admin||e("/")},[n==null?void 0:n.admin,e]);const{data:i,isLoading:a}=Ve({queryKey:[`/api/products/${r}`],enabled:!!r});return a?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading product details..."})]})})}):i?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs(K,{variant:"ghost",onClick:()=>e("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(oe,{className:"text-2xl",children:i.name}),s.jsx(We,{variant:i.status==="active"||!i.status?"default":"secondary",children:i.status||"active"})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-sm",children:i.description||"No description provided"})]}),i.images&&i.images.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center",children:[s.jsx(Vk,{className:"h-4 w-4 mr-2"}),"Product Images"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.images.map((c,d)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:c,alt:`${i.name} - ${d+1}`,className:"w-full h-full object-cover"})},d))})]})]})]}),i.ownerId&&s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-lg flex items-center",children:[s.jsx(Gs,{className:"h-5 w-5 mr-2"}),"Product Owner"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:typeof i.ownerId=="object"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-name",children:i.ownerId.firstName&&i.ownerId.lastName?`${i.ownerId.firstName} ${i.ownerId.lastName}`:i.ownerId.userName||"Unknown"})]}),i.ownerId.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-sm break-all","data-testid":"text-owner-email",children:i.ownerId.email})]}),i.ownerId.country&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-country",children:i.ownerId.country})]}),i.ownerId.seller!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(We,{variant:i.ownerId.seller?"default":"secondary",children:i.ownerId.seller?"Seller":"Customer"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-owner-id",children:String(i.ownerId)})]})}),s.jsx(K,{variant:"outline",className:"w-full mt-4",onClick:()=>e(`/admin/users/${i.ownerId._id||i.ownerId}`),"data-testid":"button-view-seller",children:"View Full Profile"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-lg flex items-center",children:[s.jsx(Wr,{className:"h-5 w-5 mr-2"}),"Pricing"]})}),s.jsx(te,{children:s.jsxs("div",{className:"text-3xl font-bold","data-testid":"text-product-price",children:["$",((o=i.price)==null?void 0:o.toFixed(2))||"0.00"]})})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-lg flex items-center",children:[s.jsx($L,{className:"h-5 w-5 mr-2"}),"Stock"]})}),s.jsxs(te,{children:[s.jsx("div",{className:"text-3xl font-bold","data-testid":"text-product-stock",children:i.quantity||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"units available"})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-lg flex items-center",children:[s.jsx(i5,{className:"h-5 w-5 mr-2"}),"Category"]})}),s.jsx(te,{children:s.jsx("p",{className:"text-sm","data-testid":"text-product-category",children:((l=i.category)==null?void 0:l.name)||i.category||"Uncategorized"})})]}),i.shipping_profile&&s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-lg flex items-center",children:[s.jsx(Iu,{className:"h-5 w-5 mr-2"}),"Shipping Profile"]})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-3 text-sm",children:typeof i.shipping_profile=="object"&&i.shipping_profile?s.jsxs(s.Fragment,{children:[i.shipping_profile.name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-name",children:i.shipping_profile.name})]}),i.shipping_profile.weight!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Weight"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-weight",children:[i.shipping_profile.weight," ",i.shipping_profile.scale||"oz"]})]}),(i.shipping_profile.length||i.shipping_profile.width||i.shipping_profile.height)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dimensions (L  W  H)"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-dimensions",children:[i.shipping_profile.length||0,"  ",i.shipping_profile.width||0,"  ",i.shipping_profile.height||0," in"]})]}),i.shipping_profile.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Description"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-description",children:i.shipping_profile.description})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Profile ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-shipping-id",children:String(i.shipping_profile)})]})})})]})]})]})]})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs(K,{variant:"ghost",onClick:()=>e("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(on,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Product not found"})]})]})})}function cq(){const[,e]=qt(),{toast:t}=kt(),[n,r]=f.useState(""),[i,a]=f.useState("all"),[o,l]=f.useState(!1),{data:c,isLoading:d}=Ve({queryKey:["admin-all-orders"],queryFn:async()=>{const v=await fetch("/api/orders",{credentials:"include"});if(!v.ok)throw new Error("Failed to fetch orders");return await v.json()}}),h=(c==null?void 0:c.orders)||(c==null?void 0:c.data)||[],m=Ge({mutationFn:async({id:v,type:j})=>ot("PUT",`/api/admin/refund/${v}`,{type:j}),onSuccess:()=>{ze.invalidateQueries({queryKey:["admin-all-orders"]}),t({title:"Success",description:"Refund processed successfully"})},onError:v=>{t({title:"Error",description:v.message||"Failed to process refund",variant:"destructive"})}}),p=h.filter(v=>{var j;if(n){const P=String(v.invoice||v._id||"").toLowerCase(),E=typeof v.customer=="object"&&(`${v.customer.firstName||""} ${v.customer.lastName||""}`.trim()||v.customer.userName||v.customer.email)||"",O=n.toLowerCase();if(!P.includes(O)&&!E.toLowerCase().includes(O))return!1}return!(i!=="all"&&((j=v.status)==null?void 0:j.toLowerCase())!==i.toLowerCase())}),y=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",x=v=>{switch(v==null?void 0:v.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}},g=()=>{r(""),a("all")},S=n||i!=="all",w=[n,i!=="all"].filter(Boolean).length;return d?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]})})})]})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wa,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(oe,{children:"All Orders"}),s.jsxs(Ee,{children:[p.length," of ",h.length," orders"]})]})]}),s.jsxs(K,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),"data-testid":"button-toggle-filters",children:[s.jsx(sd,{className:"h-4 w-4 mr-2"}),"Filters",w>0&&s.jsx(We,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:w})]})]}),o&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Invoice or customer...",value:n,onChange:v=>r(v.target.value),className:"pl-9","data-testid":"input-search-orders"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(Dn,{value:i,onValueChange:a,children:[s.jsx(Cn,{"data-testid":"select-status-filter",children:s.jsx(On,{placeholder:"All statuses"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"all",children:"All Statuses"}),s.jsx(de,{value:"pending",children:"Pending"}),s.jsx(de,{value:"processing",children:"Processing"}),s.jsx(de,{value:"shipped",children:"Shipped"}),s.jsx(de,{value:"delivered",children:"Delivered"}),s.jsx(de,{value:"completed",children:"Completed"}),s.jsx(de,{value:"cancelled",children:"Cancelled"})]})]})]})]}),S&&s.jsxs(K,{variant:"ghost",size:"sm",onClick:g,"data-testid":"button-clear-filters",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(te,{children:p.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:S?"No orders match your filters":"No orders found"}),S&&s.jsx(K,{variant:"outline",onClick:g,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Order ID"}),s.jsx(ie,{children:"Customer"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Items"}),s.jsx(ie,{children:"Total"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:p.map(v=>{var _;const j=v._id||v.id,P=v.invoice||j,E=typeof v.customer=="object"&&v.customer!==null?`${v.customer.firstName||""} ${v.customer.lastName||""}`.trim()||v.customer.userName||v.customer.email:"Unknown",O=((_=v.items)==null?void 0:_.length)||0,N=(()=>{if(!v.items||v.items.length===0)return 0;const k=v.items.reduce((I,D)=>{const q=D.price||0,U=D.quantity||1;return I+q*U},0),R=v.shipping_fee||v.shippingFee||v.shipping||0,T=v.tax||0;return console.log(`[Order ${v._id}] subtotal: ${k}, shipping: ${R}, tax: ${T}, total: ${k+R+T}`),k+R+T})();return s.jsxs(rt,{children:[s.jsx(ae,{className:"font-mono text-xs","data-testid":`text-order-id-${j}`,children:P}),s.jsx(ae,{"data-testid":`text-customer-${j}`,children:E}),s.jsx(ae,{"data-testid":`text-date-${j}`,children:y(v.createdAt||v.orderDate)}),s.jsxs(ae,{"data-testid":`text-items-${j}`,children:[O," ",O===1?"item":"items"]}),s.jsxs(ae,{"data-testid":`text-total-${j}`,children:["$",N.toFixed(2)]}),s.jsx(ae,{children:s.jsx(We,{variant:x(v.status),"data-testid":`badge-status-${j}`,children:v.status||"pending"})}),s.jsx(ae,{className:"text-right",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${j}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>e(`/admin/orders/${j}`),"data-testid":`menu-view-order-${j}`,children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Jr,{}),s.jsxs(Qt,{onClick:()=>{m.mutate({id:j,type:"order"})},disabled:m.isPending,"data-testid":`menu-refund-order-${j}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Refund Order"]})]})]})})]},j)})})]})})})]})]})})}function dq(){var g,S;const[,e]=qt(),[,t]=yl("/admin/orders/:orderId"),n=t==null?void 0:t.orderId,{data:r,isLoading:i}=Ve({queryKey:[`admin-order-${n}`],queryFn:async()=>{const w=await fetch(`/api/orders/${n}`,{credentials:"include"});if(!w.ok)throw new Error("Failed to fetch order");const v=await w.json();return v.success?v.data:v},enabled:!!n}),a=(r==null?void 0:r.order)||(r==null?void 0:r.data)||r,o=w=>w?new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",l=w=>{switch(w==null?void 0:w.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}};if(i)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(!a)return s.jsx(Me,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(on,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),s.jsx(K,{onClick:()=>e("/admin/orders"),className:"mt-4",children:"Back to Orders"})]})})});const c=typeof a.customer=="object"?`${a.customer.firstName||""} ${a.customer.lastName||""}`.trim()||a.customer.userName||a.customer.email:"Unknown",d=typeof a.customer=="object"?a.customer.email:"",m=!a.items||a.items.length===0?0:a.items.reduce((w,v)=>{const j=v.price||0,P=v.quantity||1;return w+j*P},0),p=a.shipping_fee||a.shippingFee||a.shipping||0,y=a.tax||0,x=m+p+y;return console.log(`[Order Detail ${a._id}] subtotal: ${m}, shipping: ${p}, tax: ${y}, total: ${x}`),s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(K,{variant:"ghost",onClick:()=>e("/admin/orders"),className:"mb-4","data-testid":"button-back-to-orders",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Order Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order ID: ",a.invoice||n]})]}),s.jsx(We,{variant:l(a.status),className:"text-lg py-2 px-4 w-fit","data-testid":"badge-order-status",children:a.status||"pending"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center",children:[s.jsx(on,{className:"h-5 w-5 mr-2"}),"Order Items"]}),s.jsxs(Ee,{children:[((g=a.items)==null?void 0:g.length)||0," items"]})]}),s.jsx(te,{children:a.items&&a.items.length>0?s.jsx("div",{className:"space-y-4",children:a.items.map((w,v)=>{var C,N,_,k,R,T;const j=((C=w.productId)==null?void 0:C.name)||((N=w.productId)==null?void 0:N.title)||w.name||w.title||"Unknown Product",P=((_=w.productId)==null?void 0:_.image)||((R=(k=w.productId)==null?void 0:k.images)==null?void 0:R[0])||w.image||((T=w.images)==null?void 0:T[0]),E=w.quantity||1,O=w.price||0;return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg","data-testid":`order-item-${v}`,children:[P&&s.jsx("img",{src:P,alt:j,className:"w-16 h-16 object-cover rounded","data-testid":`img-product-${v}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium","data-testid":`text-product-name-${v}`,children:j}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",E]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(O*E).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",O.toFixed(2)," each"]})]})]},v)})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items found"})})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center",children:[s.jsx(Mc,{className:"h-5 w-5 mr-2"}),"Order Summary"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3","data-testid":"order-summary",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",m.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee"}),s.jsxs("span",{children:["$",p.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",y.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-3 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-order-total",children:["$",x.toFixed(2)]})]})]})})]}),a.shippingAddress&&s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center",children:[s.jsx(ej,{className:"h-5 w-5 mr-2"}),"Shipping Address"]})}),s.jsx(te,{children:s.jsxs("div",{className:"text-sm space-y-1","data-testid":"shipping-address",children:[a.shippingAddress.street&&s.jsx("p",{children:a.shippingAddress.street}),a.shippingAddress.city&&s.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.state&&`, ${a.shippingAddress.state}`,a.shippingAddress.zipCode&&` ${a.shippingAddress.zipCode}`]}),a.shippingAddress.country&&s.jsx("p",{children:a.shippingAddress.country})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center",children:[s.jsx(Gs,{className:"h-5 w-5 mr-2"}),"Customer"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-3","data-testid":"customer-info",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}),((S=a.customer)==null?void 0:S.address)&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Shipping Address"}),s.jsxs("div",{className:"text-sm space-y-1",children:[a.customer.address.street&&s.jsx("p",{children:a.customer.address.street}),a.customer.address.city&&s.jsxs("p",{children:[a.customer.address.city,a.customer.address.state&&`, ${a.customer.address.state}`]}),(a.customer.address.zipcode||a.customer.address.zipCode)&&s.jsx("p",{children:a.customer.address.zipcode||a.customer.address.zipCode}),a.customer.address.country&&s.jsx("p",{children:a.customer.address.country}),a.customer.address.email&&s.jsx("p",{className:"pt-1 text-muted-foreground",children:a.customer.address.email}),a.customer.address.phone&&s.jsx("p",{className:"text-muted-foreground",children:a.customer.address.phone})]})]})]})})]}),a.seller&&s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center",children:[s.jsx(r5,{className:"h-5 w-5 mr-2"}),"Seller"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2","data-testid":"seller-info",children:[s.jsx("p",{className:"font-medium",children:typeof a.seller=="object"?`${a.seller.firstName||""} ${a.seller.lastName||""}`.trim()||a.seller.userName||a.seller.email:a.seller}),typeof a.seller=="object"&&a.seller.email&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.seller.email})]})})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center",children:[s.jsx(Iu,{className:"h-5 w-5 mr-2"}),"Order Information"]})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-2 text-sm","data-testid":"order-info",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:o(a.createdAt||a.orderDate)})]}),a.shippeddate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipped Date"}),s.jsx("p",{className:"font-medium",children:o(a.shippeddate)})]}),a.payment_status&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),s.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-status",children:a.payment_status})]}),a.orderType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),s.jsx("p",{className:"font-medium capitalize",children:a.orderType})]}),a.tracking_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"font-medium font-mono text-xs","data-testid":"text-tracking-number",children:a.tracking_number})]}),a.tracking_url&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking URL"}),s.jsx("a",{href:a.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline block break-all","data-testid":"link-tracking-url",children:"Track Package "})]}),a.label&&s.jsx("div",{className:"pt-2",children:s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>window.open(a.label,"_blank"),className:"w-full","data-testid":"button-print-label",children:[s.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Print Shipping Label"]})})]})})]})]})]})]})})}function uq(){const{toast:e}=kt(),{settings:t}=Nl(),[n,r]=f.useState(""),[i,a]=f.useState(!1),[o,l]=f.useState(null),[c,d]=f.useState(!1),[h,m]=f.useState(1),p=()=>{const T={"Content-Type":"application/json"},I=localStorage.getItem("adminAccessToken"),D=localStorage.getItem("accessToken"),q=localStorage.getItem("user");return console.log("[Transactions] getAuthHeaders:",{adminToken:I?"present":"missing",userToken:D?"present":"missing",userData:q?"present":"missing"}),I&&(T["x-admin-token"]=I),D&&(T["x-access-token"]=D),q&&(T["x-user-data"]=btoa(unescape(encodeURIComponent(q)))),T},{data:y,isLoading:x}=Ve({queryKey:["admin-transactions"],queryFn:async()=>{const T=await fetch("/api/admin/transactions",{credentials:"include",headers:p()});if(!T.ok)throw new Error("Failed to fetch transactions");const I=await T.json();return I.success?I.data:I}}),{data:g,isLoading:S}=Ve({queryKey:["admin-refunds",h],queryFn:async()=>{const T=await fetch(`/api/admin/refunds?limit=10&page=${h}`,{credentials:"include",headers:p()});if(!T.ok)throw new Error("Failed to fetch refunds");const I=await T.json();return I.success?I.data:I}}),{data:w}=Ve({queryKey:["admin-settings"],queryFn:async()=>{const T=await fetch("/api/settings",{credentials:"include",headers:p()});if(!T.ok)throw new Error("Failed to fetch settings");const I=await T.json();return I.success?I.data:I}}),v=(y==null?void 0:y.transactions)||(y==null?void 0:y.data)||[],j=(w==null?void 0:w.support_email)||"",P=(w==null?void 0:w.stripe_fee)||"0",E=(w==null?void 0:w.extra_charges)||"0",O=Ge({mutationFn:async({id:T,type:I})=>ot("PUT",`/api/admin/refund/${T}`,{type:I}),onSuccess:()=>{ze.invalidateQueries({queryKey:["admin-transactions"]}),e({title:"Success",description:"Refund processed successfully"})},onError:T=>{e({title:"Error",description:T.message||"Failed to process refund",variant:"destructive"})}}),C=v.filter(T=>{if(n){const I=n.toLowerCase(),D=String(T._id||T.id||"").toLowerCase(),q=typeof T.from=="object"&&(`${T.from.firstName||""} ${T.from.lastName||""}`.trim()||T.from.userName||T.from.email)||"",U=typeof T.to=="object"&&(`${T.to.firstName||""} ${T.to.lastName||""}`.trim()||T.to.userName||T.to.email)||"";if(!D.includes(I)&&!q.toLowerCase().includes(I)&&!U.toLowerCase().includes(I))return!1}return!0}),N=T=>T?new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",_=T=>{switch(T==null?void 0:T.toLowerCase()){case"completed":case"success":return"default";case"pending":return"secondary";case"failed":case"cancelled":return"destructive";default:return"secondary"}},k=()=>{r("")},R=n;return x?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions"})]}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading transactions..."})]})})})]})}):s.jsxs(Me,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions and refunds"})]}),s.jsxs(qi,{defaultValue:"transactions",className:"space-y-4",children:[s.jsxs(ei,{children:[s.jsx(it,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),s.jsx(it,{value:"refunds","data-testid":"tab-refunds",children:"Refunds"})]}),s.jsx(gt,{value:"transactions",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Mc,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(oe,{children:"Transaction History"}),s.jsxs(Ee,{children:[C.length," of ",v.length," transactions"]})]})]}),s.jsxs(K,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!i),"data-testid":"button-toggle-filters",children:[s.jsx(sd,{className:"h-4 w-4 mr-2"}),"Filters",R&&s.jsx(We,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:"1"})]})]}),i&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Transaction ID or user...",value:n,onChange:T=>r(T.target.value),className:"pl-9","data-testid":"input-search-transactions"})]})]})}),R&&s.jsxs(K,{variant:"ghost",size:"sm",onClick:k,"data-testid":"button-clear-filters",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(te,{children:C.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Mc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:R?"No transactions match your filters":"No transactions found"}),R&&s.jsx(K,{variant:"outline",onClick:k,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Transaction ID"}),s.jsx(ie,{children:"From"}),s.jsx(ie,{children:"To"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{children:"Amount"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:C.map(T=>{const I=T._id||T.id,D=typeof T.from=="object"&&(`${T.from.firstName||""} ${T.from.lastName||""}`.trim()||T.from.userName||T.from.email)||"Unknown",q=typeof T.to=="object"&&(`${T.to.firstName||""} ${T.to.lastName||""}`.trim()||T.to.userName||T.to.email)||"Unknown",U=T.amount||0,z=T.type||"N/A",L=T.status||"pending";return s.jsxs(rt,{children:[s.jsx(ae,{className:"font-mono text-xs","data-testid":`text-transaction-id-${I}`,children:String(I).slice(-8)}),s.jsx(ae,{"data-testid":`text-from-${I}`,children:D}),s.jsx(ae,{"data-testid":`text-to-${I}`,children:q}),s.jsx(ae,{"data-testid":`text-type-${I}`,children:s.jsx("span",{className:"capitalize",children:z})}),s.jsxs(ae,{"data-testid":`text-amount-${I}`,children:["$",U.toFixed(2)]}),s.jsx(ae,{"data-testid":`text-date-${I}`,children:N(T.createdAt||T.date)}),s.jsx(ae,{children:s.jsx(We,{variant:_(L),"data-testid":`badge-status-${I}`,children:L})}),s.jsx(ae,{className:"text-right",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${I}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>{T.receipt?window.open(T.receipt,"_blank"):(l(T),d(!0))},"data-testid":`menu-print-receipt-${I}`,children:[s.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),s.jsx(Jr,{}),s.jsxs(Qt,{onClick:()=>{O.mutate({id:I,type:"transaction"})},disabled:O.isPending,"data-testid":`menu-refund-transaction-${I}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Refund Transaction"]})]})]})})]},I)})})]})})})]})}),s.jsx(gt,{value:"refunds",children:s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(oe,{children:"Refunds"}),s.jsx(Ee,{children:"View all processed refunds"})]})]})}),s.jsx(te,{children:S?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading refunds..."})]}):!(g!=null&&g.data)||g.data.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No refunds found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Refund ID"}),s.jsx(ie,{children:"Amount"}),s.jsx(ie,{children:"Reason"}),s.jsx(ie,{children:"Date"}),s.jsx(ie,{children:"Status"})]})}),s.jsx(dn,{children:g.data.map(T=>{const I=T.id,D=(T.amount||0)/100;return s.jsxs(rt,{children:[s.jsx(ae,{className:"font-mono text-xs","data-testid":`text-refund-id-${I}`,children:String(I).slice(-8)}),s.jsxs(ae,{"data-testid":`text-amount-${I}`,children:["$",D.toFixed(2)]}),s.jsx(ae,{"data-testid":`text-reason-${I}`,children:T.reason||"N/A"}),s.jsx(ae,{"data-testid":`text-date-${I}`,children:N(new Date(T.created*1e3).toISOString())}),s.jsx(ae,{children:s.jsx(We,{variant:_(T.status),"data-testid":`badge-status-${I}`,children:T.status})})]},I)})})]})})})]})})]})]}),s.jsx(vs,{open:c,onOpenChange:d,children:s.jsxs(es,{className:"max-w-md",children:[s.jsx(ts,{children:s.jsx(ns,{children:"Transaction Receipt"})}),o&&s.jsxs("div",{id:"receipt-content",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(o._id||o.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:N(o.createdAt||o.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:o.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(We,{variant:_(o.status||"pending"),children:o.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof o.from=="object"&&(`${o.from.firstName||""} ${o.from.lastName||""}`.trim()||o.from.userName||o.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof o.to=="object"&&(`${o.to.firstName||""} ${o.to.lastName||""}`.trim()||o.to.userName||o.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(o.total)||0).toFixed(2)]})]}),(()=>{const T=parseFloat(o.stripe_fee)||0,I=parseFloat(o.extra_charges)||0,D=T+I;return D>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",P,"% + ",E,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",D.toFixed(2)]})]})})(),o.serviceFee&&parseFloat(o.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.serviceFee).toFixed(2)]})]}),o.shippingFee&&parseFloat(o.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(o.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",j]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(K,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(K,{onClick:()=>{const T=document.getElementById("receipt-content");if(T){const I=window.open("","_blank");I&&(I.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${T.innerHTML}
                        </body>
                      </html>
                    `),I.document.close(),I.focus(),setTimeout(()=>{I.print(),I.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]})}function hq(){const[e,t]=f.useState(""),[n,r]=f.useState(1),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[h,m]=f.useState(""),p=10,x=(()=>{const U=new URLSearchParams;return i&&i!=="all"&&U.append("status",i),o&&U.append("from",o),c&&U.append("to",c),U.append("limit",p.toString()),h&&n>1&&U.append("starting_after",h),U.toString()})(),{data:g,isLoading:S}=Ve({queryKey:["/api/admin/stripe-payouts",i,o,c,h,n],queryFn:async()=>{const U=`/api/admin/stripe-payouts${x?"?"+x:""}`;return console.log("Fetching payouts from:",U),(await fetch(U,{credentials:"include"})).json()},staleTime:0,refetchOnMount:!0}),w=(g==null?void 0:g.data)||[],v=(g==null?void 0:g.has_more)||!1,j=w.filter(U=>{var z;if(e){const L=e.toLowerCase(),B=(((z=U.destination)==null?void 0:z.bank_name)||"").toLowerCase(),le=(U.id||"").toLowerCase();if(!B.includes(L)&&!le.includes(L))return!1}return!0}),P=j.reduce((U,z)=>U+(z.amount||0)/100,0),E=j.length,O=E>0?P/E:0;j.length;const C=j,N=(n-1)*p+1,_=(n-1)*p+j.length,k=v?`${_}+`:_,R=U=>{t(U),r(1),m("")},T=()=>{a(""),l(""),d(""),t(""),r(1),m("")},I=()=>{if(v&&w.length>0){const U=w[w.length-1];m(U.id),r(z=>z+1)}},D=()=>{r(1),m("")},q=i||o||c;return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Stripe Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"View Stripe payout transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Amount"}),s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-amount",children:["$",P.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all payouts"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Payouts"}),s.jsx(Jv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-count",children:E}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payout transactions"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Average Payout"}),s.jsx(Wk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-avg-payout",children:["$",O.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs(ee,{className:"mb-6",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sd,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(oe,{className:"text-lg",children:"Filters"})]}),q&&s.jsxs(K,{variant:"ghost",size:"sm",onClick:T,"data-testid":"button-reset-filters",children:[s.jsx(_s,{className:"h-4 w-4 mr-1"}),"Reset"]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(Dn,{value:i,onValueChange:a,children:[s.jsx(Cn,{"data-testid":"select-status",children:s.jsx(On,{placeholder:"All statuses"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"all",children:"All statuses"}),s.jsx(de,{value:"paid",children:"Paid"}),s.jsx(de,{value:"pending",children:"Pending"}),s.jsx(de,{value:"in_transit",children:"In Transit"}),s.jsx(de,{value:"canceled",children:"Canceled"}),s.jsx(de,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"From Date"}),s.jsx(ne,{type:"date",value:o,onChange:U=>l(U.target.value),"data-testid":"input-date-from"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"To Date"}),s.jsx(ne,{type:"date",value:c,onChange:U=>d(U.target.value),"data-testid":"input-date-to"})]})]})})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"Payout Transactions"}),s.jsx(Ee,{children:"Stripe payout history"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search by bank or ID...",value:e,onChange:U=>R(U.target.value),className:"pl-10","data-testid":"input-search-payouts"})]})]})}),s.jsxs(te,{children:[S?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payouts..."})]}):j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Jv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e?"No payouts found matching your search":"No payouts found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{className:"min-w-[180px]",children:"Bank"}),s.jsx(ie,{className:"text-right",children:"Amount"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Currency"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Created"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Arrival Date"}),s.jsx(ie,{children:"Type"}),s.jsx(ie,{className:"hidden sm:table-cell",children:"Status"})]})}),s.jsx(dn,{children:C.map(U=>{var Ce,_e;const z=U.id,L=(U.amount||0)/100,B=U.created?new Date(U.created*1e3):null,le=U.arrival_date?new Date(U.arrival_date*1e3):null,ce=((Ce=U.destination)==null?void 0:Ce.bank_name)||"Bank Account",W=((_e=U.destination)==null?void 0:_e.last4)||"";return s.jsxs(rt,{"data-testid":`row-payout-${z}`,children:[s.jsx(ae,{"data-testid":`text-bank-${z}`,children:s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("div",{className:"font-medium truncate",children:ce}),W&&s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["****",W]})]})}),s.jsxs(ae,{className:"text-right font-semibold","data-testid":`text-amount-${z}`,children:["$",L.toFixed(2)]}),s.jsx(ae,{className:"hidden md:table-cell uppercase",children:U.currency||"USD"}),s.jsx(ae,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-4 w-4 text-muted-foreground"}),B?B.toLocaleDateString():"N/A"]})}),s.jsx(ae,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-4 w-4 text-muted-foreground"}),le?le.toLocaleDateString():"N/A"]})}),s.jsx(ae,{children:s.jsx(We,{variant:U.automatic?"default":"outline",children:U.automatic?"Automatic":"Manual"})}),s.jsx(ae,{className:"hidden sm:table-cell",children:s.jsx(We,{variant:"secondary",children:U.status||"Completed"})})]},z)})})]})}),j.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",N," to ",_," of ",k," payouts"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:D,disabled:n===1,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4"}),"Previous"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",n,v?"+":""]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:I,disabled:!v,"data-testid":"button-next-page",children:["Next",s.jsx(xr,{className:"h-4 w-4"})]})]})]})]})]})]})})}function jt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Cs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bn(e,t){const n=jt(e);return isNaN(t)?Cs(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function jr(e,t){const n=jt(e);if(isNaN(t))return Cs(e,NaN);if(!t)return n;const r=n.getDate(),i=Cs(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const fb=6048e5,fq=864e5;let mq={};function bh(){return mq}function ti(e,t){var l,c,d,h;const n=bh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=jt(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function pl(e){return ti(e,{weekStartsOn:1})}function a4(e){const t=jt(e),n=t.getFullYear(),r=Cs(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=pl(r),a=Cs(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=pl(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Kc(e){const t=jt(e);return t.setHours(0,0,0,0),t}function ep(e){const t=jt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Vr(e,t){const n=Kc(e),r=Kc(t),i=+n-ep(n),a=+r-ep(r);return Math.round((i-a)/fq)}function pq(e){const t=a4(e),n=Cs(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),pl(n)}function $y(e,t){const n=t*7;return Bn(e,n)}function gq(e,t){return jr(e,t*12)}function xq(e){let t;return e.forEach(function(n){const r=jt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function vq(e){let t;return e.forEach(n=>{const r=jt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function is(e,t){const n=Kc(e),r=Kc(t);return+n==+r}function mb(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yq(e){if(!mb(e)&&typeof e!="number")return!1;const t=jt(e);return!isNaN(Number(t))}function Hu(e,t){const n=jt(e),r=jt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function wq(e,t,n){const r=ti(e,n),i=ti(t,n),a=+r-ep(r),o=+i-ep(i);return Math.round((a-o)/fb)}function pb(e){const t=jt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function cs(e){const t=jt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function o4(e){const t=jt(e),n=Cs(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function gb(e,t){var l,c,d,h;const n=bh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=jt(e),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function l4(e){return gb(e,{weekStartsOn:1})}const jq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bq=(e,t,n)=>{let r;const i=jq[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Mx(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Nq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_q={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cq={date:Mx({formats:Nq,defaultWidth:"full"}),time:Mx({formats:_q,defaultWidth:"full"}),dateTime:Mx({formats:Sq,defaultWidth:"full"})},kq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eq=(e,t,n,r)=>kq[e];function Fd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Tq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Iq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oq=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Mq={ordinalNumber:Oq,era:Fd({values:Tq,defaultWidth:"wide"}),quarter:Fd({values:Pq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fd({values:Aq,defaultWidth:"wide"}),day:Fd({values:Iq,defaultWidth:"wide"}),dayPeriod:Fd({values:Rq,defaultWidth:"wide",formattingValues:Dq,defaultFormattingWidth:"wide"})};function Ld(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Lq(l,m=>m.test(o)):Fq(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function Fq(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Lq(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $q(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Uq=/^(\d+)(th|st|nd|rd)?/i,Vq=/\d+/i,zq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bq={any:[/^b/i,/^(a|c)/i]},Wq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hq={any:[/1/i,/2/i,/3/i,/4/i]},qq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zq={ordinalNumber:$q({matchPattern:Uq,parsePattern:Vq,valueCallback:e=>parseInt(e,10)}),era:Ld({matchPatterns:zq,defaultMatchWidth:"wide",parsePatterns:Bq,defaultParseWidth:"any"}),quarter:Ld({matchPatterns:Wq,defaultMatchWidth:"wide",parsePatterns:Hq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ld({matchPatterns:qq,defaultMatchWidth:"wide",parsePatterns:Kq,defaultParseWidth:"any"}),day:Ld({matchPatterns:Gq,defaultMatchWidth:"wide",parsePatterns:Yq,defaultParseWidth:"any"}),dayPeriod:Ld({matchPatterns:Qq,defaultMatchWidth:"any",parsePatterns:Xq,defaultParseWidth:"any"})},c4={code:"en-US",formatDistance:bq,formatLong:Cq,formatRelative:Eq,localize:Mq,match:Zq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jq(e){const t=jt(e);return Vr(t,o4(t))+1}function d4(e){const t=jt(e),n=+pl(t)-+pq(t);return Math.round(n/fb)+1}function u4(e,t){var h,m,p,y;const n=jt(e),r=n.getFullYear(),i=bh(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(p=i.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=Cs(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=ti(o,t),c=Cs(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=ti(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function eK(e,t){var l,c,d,h;const n=bh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=u4(e,t),a=Cs(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ti(a,t)}function h4(e,t){const n=jt(e),r=+ti(n,t)-+eK(n,t);return Math.round(r/fb)+1}function Et(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ua={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Et(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Et(n+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Et(i,t.length)}},Ml={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Z1={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ua.y(e,t)},Y:function(e,t,n,r){const i=u4(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Et(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Et(a,t.length)},R:function(e,t){const n=a4(e);return Et(n,t.length)},u:function(e,t){const n=e.getFullYear();return Et(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ua.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=h4(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Et(i,t.length)},I:function(e,t,n){const r=d4(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ua.d(e,t)},D:function(e,t,n){const r=Jq(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Et(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Et(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Et(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ml.noon:r===0?i=Ml.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ml.evening:r>=12?i=Ml.afternoon:r>=4?i=Ml.morning:i=Ml.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ua.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ua.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ua.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ua.s(e,t)},S:function(e,t){return ua.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return eS(r);case"XXXX":case"XX":return Eo(r);case"XXXXX":case"XXX":default:return Eo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return eS(r);case"xxxx":case"xx":return Eo(r);case"xxxxx":case"xxx":default:return Eo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+J1(r,":");case"OOOO":default:return"GMT"+Eo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+J1(r,":");case"zzzz":default:return"GMT"+Eo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Et(r,t.length)},T:function(e,t,n){const r=e.getTime();return Et(r,t.length)}};function J1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Et(a,2)}function eS(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):Eo(e,t)}function Eo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Et(Math.trunc(r/60),2),a=Et(r%60,2);return n+i+t+a}const tS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},f4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tK=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return tS(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",tS(r,t)).replace("{{time}}",f4(i,t))},nK={p:f4,P:tK},sK=/^D+$/,rK=/^Y+$/,iK=["D","DD","YY","YYYY"];function aK(e){return sK.test(e)}function oK(e){return rK.test(e)}function lK(e,t,n){const r=cK(e,t,n);if(console.warn(r),iK.includes(e))throw new RangeError(r)}function cK(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hK=/^'([^]*?)'?$/,fK=/''/g,mK=/[a-zA-Z]/;function Fs(e,t,n){var h,m,p,y,x,g,S,w;const r=bh(),i=(n==null?void 0:n.locale)??r.locale??c4,a=(n==null?void 0:n.firstWeekContainsDate)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(S=r.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,l=jt(e);if(!yq(l))throw new RangeError("Invalid time value");let c=t.match(uK).map(v=>{const j=v[0];if(j==="p"||j==="P"){const P=nK[j];return P(v,i.formatLong)}return v}).join("").match(dK).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const j=v[0];if(j==="'")return{isToken:!1,value:pK(v)};if(Z1[j])return{isToken:!0,value:v};if(j.match(mK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const j=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&oK(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&aK(j))&&lK(j,t,String(e));const P=Z1[j[0]];return P(l,j,i.localize,d)}).join("")}function pK(e){const t=e.match(hK);return t?t[1].replace(fK,"'"):e}function gK(e){const t=jt(e),n=t.getFullYear(),r=t.getMonth(),i=Cs(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function xK(e){return Math.trunc(+jt(e)/1e3)}function vK(e){const t=jt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function yK(e,t){return wq(vK(e),cs(e),t)+1}function Uy(e,t){const n=jt(e),r=jt(t);return n.getTime()>r.getTime()}function m4(e,t){const n=jt(e),r=jt(t);return+n<+r}function xb(e,t){const n=jt(e),r=jt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function wK(e,t){const n=jt(e),r=jt(t);return n.getFullYear()===r.getFullYear()}function Fx(e,t){return Bn(e,-t)}function Lx(e,t){const n=jt(e),r=n.getFullYear(),i=n.getDate(),a=Cs(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=gK(a);return n.setMonth(t,Math.min(i,o)),n}function nS(e,t){const n=jt(e);return isNaN(+n)?Cs(e,NaN):(n.setFullYear(t),n)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ke.apply(this,arguments)};function jK(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function p4(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Nh(e){return e.mode==="multiple"}function _h(e){return e.mode==="range"}function ag(e){return e.mode==="single"}var bK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function NK(e,t){return Fs(e,"LLLL y",t)}function _K(e,t){return Fs(e,"d",t)}function SK(e,t){return Fs(e,"LLLL",t)}function CK(e){return"".concat(e)}function kK(e,t){return Fs(e,"cccccc",t)}function EK(e,t){return Fs(e,"yyyy",t)}var TK=Object.freeze({__proto__:null,formatCaption:NK,formatDay:_K,formatMonthCaption:SK,formatWeekNumber:CK,formatWeekdayName:kK,formatYearCaption:EK}),PK=function(e,t,n){return Fs(e,"do MMMM (EEEE)",n)},AK=function(){return"Month: "},IK=function(){return"Go to next month"},RK=function(){return"Go to previous month"},DK=function(e,t){return Fs(e,"cccc",t)},OK=function(e){return"Week n. ".concat(e)},MK=function(){return"Year: "},FK=Object.freeze({__proto__:null,labelDay:PK,labelMonthDropdown:AK,labelNext:IK,labelPrevious:RK,labelWeekNumber:OK,labelWeekday:DK,labelYearDropdown:MK});function LK(){var e="buttons",t=bK,n=c4,r={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:TK,labels:FK,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function $K(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=cs(r):t&&(a=new Date(t,0,1)),i?o=pb(i):n&&(o=new Date(n,11,31)),{fromDate:a?Kc(a):void 0,toDate:o?Kc(o):void 0}}var g4=f.createContext(void 0);function UK(e){var t,n=e.initialProps,r=LK(),i=$K(n),a=i.fromDate,o=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(ag(n)||Nh(n)||_h(n))&&(c=n.onSelect);var d=Ke(Ke(Ke({},r),n),{captionLayout:l,classNames:Ke(Ke({},r.classNames),n.classNames),components:Ke({},n.components),formatters:Ke(Ke({},r.formatters),n.formatters),fromDate:a,labels:Ke(Ke({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ke(Ke({},r.modifiers),n.modifiers),modifiersClassNames:Ke(Ke({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ke(Ke({},r.styles),n.styles),toDate:o});return s.jsx(g4.Provider,{value:d,children:e.children})}function Mt(){var e=f.useContext(g4);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function x4(e){var t=Mt(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function VK(e){return s.jsx("svg",Ke({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function v4(e){var t,n,r=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,d=Mt(),h=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:VK;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function zK(e){var t,n=Mt(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var m=[];if(wK(r,i))for(var p=cs(r),y=r.getMonth();y<=i.getMonth();y++)m.push(Lx(p,y));else for(var p=cs(new Date),y=0;y<=11;y++)m.push(Lx(p,y));var x=function(S){var w=Number(S.target.value),v=Lx(cs(e.displayMonth),w);e.onChange(v)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:v4;return s.jsx(g,{name:"months","aria-label":h(),className:c.dropdown_month,style:a.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(S){return s.jsx("option",{value:S.getMonth(),children:l(S,{locale:o})},S.getMonth())})})}function BK(e){var t,n=e.displayMonth,r=Mt(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,h=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,p=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var y=i.getFullYear(),x=a.getFullYear(),g=y;g<=x;g++)p.push(nS(o4(new Date),g));var S=function(v){var j=nS(cs(n),Number(v.target.value));e.onChange(j)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:v4;return s.jsx(w,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:S,value:n.getFullYear(),caption:h(n,{locale:o}),children:p.map(function(v){return s.jsx("option",{value:v.getFullYear(),children:h(v,{locale:o})},v.getFullYear())})})}function WK(e,t){var n=f.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function HK(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Hu(a,i)<0){var d=-1*(c-1);i=jr(a,d)}return o&&Hu(i,o)<0&&(i=o),cs(i)}function qK(){var e=Mt(),t=HK(e),n=WK(t,e.month),r=n[0],i=n[1],a=function(o){var l;if(!e.disableNavigation){var c=cs(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function KK(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=cs(e),a=cs(jr(i,r)),o=Hu(a,i),l=[],c=0;c<o;c++){var d=jr(i,c);l.push(d)}return n&&(l=l.reverse()),l}function GK(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=cs(e);if(!n)return jr(l,o);var c=Hu(n,e);if(!(c<a))return jr(l,o)}}function YK(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=cs(e);if(!n)return jr(l,-o);var c=Hu(l,n);if(!(c<=0))return jr(l,-o)}}var y4=f.createContext(void 0);function QK(e){var t=Mt(),n=qK(),r=n[0],i=n[1],a=KK(r,t),o=GK(r,t),l=YK(r,t),c=function(m){return a.some(function(p){return xb(m,p)})},d=function(m,p){c(m)||(p&&m4(m,p)?i(jr(m,1+t.numberOfMonths*-1)):i(m))},h={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(y4.Provider,{value:h,children:e.children})}function Sh(){var e=f.useContext(y4);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function sS(e){var t,n=Mt(),r=n.classNames,i=n.styles,a=n.components,o=Sh().goToMonth,l=function(h){o(jr(h,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:x4,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(zK,{onChange:l,displayMonth:e.displayMonth}),s.jsx(BK,{onChange:l,displayMonth:e.displayMonth})]})}function XK(e){return s.jsx("svg",Ke({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ZK(e){return s.jsx("svg",Ke({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var tp=f.forwardRef(function(e,t){var n=Mt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),l=Ke(Ke({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ke({},e,{ref:t,type:"button",className:o,style:l}))});function JK(e){var t,n,r=Mt(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,h=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var p=d(e.previousMonth,{locale:a}),y=[o.nav_button,o.nav_button_previous].join(" "),x=h(e.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),S=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:ZK,w=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:XK;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(tp,{name:"previous-month","aria-label":p,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(S,{className:o.nav_icon,style:l.nav_icon}):s.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(tp,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(w,{className:o.nav_icon,style:l.nav_icon}):s.jsx(S,{className:o.nav_icon,style:l.nav_icon})})]})}function rS(e){var t=Mt().numberOfMonths,n=Sh(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(x){return xb(e.displayMonth,x)}),c=l===0,d=l===o.length-1,h=t>1&&(c||!d),m=t>1&&(d||!c),p=function(){r&&a(r)},y=function(){i&&a(i)};return s.jsx(JK,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:p,onNextClick:y})}function eG(e){var t,n=Mt(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:x4,d;return i?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(sS,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(sS,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(rS,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(rS,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:d})}function tG(e){var t=Mt(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function nG(e,t,n){for(var r=n?pl(new Date):ti(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=Bn(r,a);i.push(o)}return i}function sG(){var e=Mt(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=nG(i,a,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(h,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(h,{locale:i}),children:l(h,{locale:i})},m)})]})}function rG(){var e,t=Mt(),n=t.classNames,r=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:sG;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function iG(e){var t=Mt(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var vb=f.createContext(void 0);function aG(e){if(!Nh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(vb.Provider,{value:t,children:e.children})}return s.jsx(oG,{initialProps:e.initialProps,children:e.children})}function oG(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,o=function(d,h,m){var p,y;(p=t.onDayClick)===null||p===void 0||p.call(t,d,h,m);var x=!!(h.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var g=!!(!h.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var S=r?p4([],r):[];if(h.selected){var w=S.findIndex(function(v){return is(d,v)});S.splice(w,1)}else S.push(d);(y=t.onSelect)===null||y===void 0||y.call(t,S,d,h,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var h=a&&r.length>a-1,m=r.some(function(p){return is(p,d)});return!!(h&&!m)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(vb.Provider,{value:c,children:n})}function yb(){var e=f.useContext(vb);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function lG(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?is(i,e)&&is(r,e)?void 0:is(i,e)?{from:i,to:void 0}:is(r,e)?void 0:Uy(r,e)?{from:e,to:i}:{from:r,to:e}:i?Uy(e,i)?{from:i,to:e}:{from:e,to:i}:r?m4(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var wb=f.createContext(void 0);function cG(e){if(!_h(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(wb.Provider,{value:t,children:e.children})}return s.jsx(dG,{initialProps:e.initialProps,children:e.children})}function dG(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,o=i.to,l=t.min,c=t.max,d=function(y,x,g){var S,w;(S=t.onDayClick)===null||S===void 0||S.call(t,y,x,g);var v=lG(y,r);(w=t.onSelect)===null||w===void 0||w.call(t,v,y,x,g)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(h.range_start=[a],o?(h.range_end=[o],is(a,o)||(h.range_middle=[{after:a,before:o}])):h.range_end=[a]):o&&(h.range_start=[o],h.range_end=[o]),l&&(a&&!o&&h.disabled.push({after:Fx(a,l-1),before:Bn(a,l-1)}),a&&o&&h.disabled.push({after:a,before:Bn(a,l-1)}),!a&&o&&h.disabled.push({after:Fx(o,l-1),before:Bn(o,l-1)})),c){if(a&&!o&&(h.disabled.push({before:Bn(a,-c+1)}),h.disabled.push({after:Bn(a,c-1)})),a&&o){var m=Vr(o,a)+1,p=c-m;h.disabled.push({before:Fx(a,p)}),h.disabled.push({after:Bn(o,p)})}!a&&o&&(h.disabled.push({before:Bn(o,-c+1)}),h.disabled.push({after:Bn(o,c-1)}))}return s.jsx(wb.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:n})}function jb(){var e=f.useContext(wb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gf(e){return Array.isArray(e)?p4([],e):e!==void 0?[e]:[]}function uG(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Gf(i)}),t}var br;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(br||(br={}));var hG=br.Selected,mi=br.Disabled,fG=br.Hidden,mG=br.Today,$x=br.RangeEnd,Ux=br.RangeMiddle,Vx=br.RangeStart,pG=br.Outside;function gG(e,t,n){var r,i=(r={},r[hG]=Gf(e.selected),r[mi]=Gf(e.disabled),r[fG]=Gf(e.hidden),r[mG]=[e.today],r[$x]=[],r[Ux]=[],r[Vx]=[],r[pG]=[],r);return e.fromDate&&i[mi].push({before:e.fromDate}),e.toDate&&i[mi].push({after:e.toDate}),Nh(e)?i[mi]=i[mi].concat(t.modifiers[mi]):_h(e)&&(i[mi]=i[mi].concat(n.modifiers[mi]),i[Vx]=n.modifiers[Vx],i[Ux]=n.modifiers[Ux],i[$x]=n.modifiers[$x]),i}var w4=f.createContext(void 0);function xG(e){var t=Mt(),n=yb(),r=jb(),i=gG(t,n,r),a=uG(t.modifiers),o=Ke(Ke({},i),a);return s.jsx(w4.Provider,{value:o,children:e.children})}function j4(){var e=f.useContext(w4);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function vG(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function yG(e){return!!(e&&typeof e=="object"&&"from"in e)}function wG(e){return!!(e&&typeof e=="object"&&"after"in e)}function jG(e){return!!(e&&typeof e=="object"&&"before"in e)}function bG(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function NG(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=Vr(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Vr(e,r)>=0&&Vr(i,e)>=0;return o}return i?is(i,e):r?is(r,e):!1}function _G(e){return mb(e)}function SG(e){return Array.isArray(e)&&e.every(mb)}function CG(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(_G(n))return is(e,n);if(SG(n))return n.includes(e);if(yG(n))return NG(e,n);if(bG(n))return n.dayOfWeek.includes(e.getDay());if(vG(n)){var r=Vr(n.before,e),i=Vr(n.after,e),a=r>0,o=i<0,l=Uy(n.before,n.after);return l?o&&a:a||o}return wG(n)?Vr(e,n.after)>0:jG(n)?Vr(n.before,e)>0:typeof n=="function"?n(e):!1})}function bb(e,t,n){var r=Object.keys(t).reduce(function(a,o){var l=t[o];return CG(e,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!xb(e,n)&&(i.outside=!0),i}function kG(e,t){for(var n=cs(e[0]),r=pb(e[e.length-1]),i,a,o=n;o<=r;){var l=bb(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Bn(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Bn(o,1)}return a||i}var EG=365;function b4(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,d=i.fromDate,h=i.toDate,m=i.locale,p={day:Bn,week:$y,month:jr,year:gq,startOfWeek:function(S){return i.ISOWeek?pl(S):ti(S,{locale:m,weekStartsOn:c})},endOfWeek:function(S){return i.ISOWeek?l4(S):gb(S,{locale:m,weekStartsOn:c})}},y=p[n](e,r==="after"?1:-1);r==="before"&&d?y=xq([d,y]):r==="after"&&h&&(y=vq([h,y]));var x=!0;if(a){var g=bb(y,a);x=!g.disabled&&!g.hidden}return x?y:l.count>EG?l.lastFocused:b4(y,{moveBy:n,direction:r,context:i,modifiers:a,retry:Ke(Ke({},l),{count:l.count+1})})}var N4=f.createContext(void 0);function TG(e){var t=Sh(),n=j4(),r=f.useState(),i=r[0],a=r[1],o=f.useState(),l=o[0],c=o[1],d=kG(t.displayMonths,n),h=i??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(i),a(void 0)},p=function(S){a(S)},y=Mt(),x=function(S,w){if(i){var v=b4(i,{moveBy:S,direction:w,context:y,modifiers:n});is(i,v)||(t.goToDate(v,i),p(v))}},g={focusedDay:i,focusTarget:h,blur:m,focus:p,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(N4.Provider,{value:g,children:e.children})}function Nb(){var e=f.useContext(N4);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function PG(e,t){var n=j4(),r=bb(e,n,t);return r}var _b=f.createContext(void 0);function AG(e){if(!ag(e.initialProps)){var t={selected:void 0};return s.jsx(_b.Provider,{value:t,children:e.children})}return s.jsx(IG,{initialProps:e.initialProps,children:e.children})}function IG(e){var t=e.initialProps,n=e.children,r=function(a,o,l){var c,d,h;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:r};return s.jsx(_b.Provider,{value:i,children:n})}function _4(){var e=f.useContext(_b);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function RG(e,t){var n=Mt(),r=_4(),i=yb(),a=jb(),o=Nb(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,p=o.focus,y=o.focusMonthBefore,x=o.focusMonthAfter,g=o.focusYearBefore,S=o.focusYearAfter,w=o.focusStartOfWeek,v=o.focusEndOfWeek,j=function(z){var L,B,le,ce;ag(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,e,t,z):Nh(n)?(B=i.onDayClick)===null||B===void 0||B.call(i,e,t,z):_h(n)?(le=a.onDayClick)===null||le===void 0||le.call(a,e,t,z):(ce=n.onDayClick)===null||ce===void 0||ce.call(n,e,t,z)},P=function(z){var L;p(e),(L=n.onDayFocus)===null||L===void 0||L.call(n,e,t,z)},E=function(z){var L;m(),(L=n.onDayBlur)===null||L===void 0||L.call(n,e,t,z)},O=function(z){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,e,t,z)},C=function(z){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,e,t,z)},N=function(z){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,e,t,z)},_=function(z){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,e,t,z)},k=function(z){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,e,t,z)},R=function(z){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,e,t,z)},T=function(z){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,e,t,z)},I=function(z){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,e,t,z)},D=function(z){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,e,t,z)},q=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),d();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),h();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():y();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?S():x();break;case"Home":z.preventDefault(),z.stopPropagation(),w();break;case"End":z.preventDefault(),z.stopPropagation(),v();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,e,t,z)},U={onClick:j,onFocus:P,onBlur:E,onKeyDown:q,onKeyUp:D,onMouseEnter:O,onMouseLeave:C,onPointerEnter:N,onPointerLeave:_,onTouchCancel:k,onTouchEnd:R,onTouchMove:T,onTouchStart:I};return U}function DG(){var e=Mt(),t=_4(),n=yb(),r=jb(),i=ag(e)?t.selected:Nh(e)?n.selected:_h(e)?r.selected:void 0;return i}function OG(e){return Object.values(br).includes(e)}function MG(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(OG(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function FG(e,t){var n=Ke({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Ke(Ke({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function LG(e,t,n){var r,i,a,o=Mt(),l=Nb(),c=PG(e,t),d=RG(e,c),h=DG(),m=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var O;c.outside||l.focusedDay&&m&&is(l.focusedDay,e)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,e,n,m,c.outside]);var p=MG(o,c).join(" "),y=FG(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:iG,S=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),w={style:y,className:p,children:S,role:"gridcell"},v=l.focusTarget&&is(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&is(l.focusedDay,e),P=Ke(Ke(Ke({},w),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||v?0:-1,r)),d),E={isButton:m,isHidden:x,activeModifiers:c,selectedDays:h,buttonProps:P,divProps:w};return E}function $G(e){var t=f.useRef(null),n=LG(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(tp,Ke({name:"day",ref:t},n.buttonProps)):s.jsx("div",Ke({},n.divProps))}function UG(e){var t=e.number,n=e.dates,r=Mt(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:h});var m=c(Number(t),{locale:l}),p=function(y){i(t,n,y)};return s.jsx(tp,{name:"week-number","aria-label":m,className:o.weeknumber,style:a.weeknumber,onClick:p,children:h})}function VG(e){var t,n,r=Mt(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:$G,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:UG,h;return o&&(h=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[h,e.dates.map(function(m){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},xK(m))})]})}function iS(e,t,n){for(var r=n!=null&&n.ISOWeek?l4(t):gb(t,n),i=n!=null&&n.ISOWeek?pl(e):ti(e,n),a=Vr(r,i),o=[],l=0;l<=a;l++)o.push(Bn(i,l));var c=o.reduce(function(d,h){var m=n!=null&&n.ISOWeek?d4(h):h4(h,n),p=d.find(function(y){return y.weekNumber===m});return p?(p.dates.push(h),d):(d.push({weekNumber:m,dates:[h]}),d)},[]);return c}function zG(e,t){var n=iS(cs(e),pb(e),t);if(t!=null&&t.useFixedWeeks){var r=yK(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=$y(a,6-r),l=iS($y(a,1),o,t);n.push.apply(n,l)}}return n}function BG(e){var t,n,r,i=Mt(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,h=i.components,m=i.weekStartsOn,p=i.firstWeekContainsDate,y=i.ISOWeek,x=zG(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:a,weekStartsOn:m,firstWeekContainsDate:p}),g=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:rG,S=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:VG,w=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:tG;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(v){return s.jsx(S,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),s.jsx(w,{displayMonth:e.displayMonth})]})}function WG(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var HG=WG()?f.useLayoutEffect:f.useEffect,zx=!1,qG=0;function aS(){return"react-day-picker-".concat(++qG)}function KG(e){var t,n=e??(zx?aS():null),r=f.useState(n),i=r[0],a=r[1];return HG(function(){i===null&&a(aS())},[]),f.useEffect(function(){zx===!1&&(zx=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function GG(e){var t,n,r=Mt(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=Sh().displayMonths,d=KG(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],p=o.month,y=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!y&&!x;i==="rtl"&&(t=[y,x],x=t[0],y=t[1]),y&&(m.push(a.caption_start),p=Ke(Ke({},p),o.caption_start)),x&&(m.push(a.caption_end),p=Ke(Ke({},p),o.caption_end)),g&&(m.push(a.caption_between),p=Ke(Ke({},p),o.caption_between));var S=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:eG;return s.jsxs("div",{className:m.join(" "),style:p,children:[s.jsx(S,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(BG,{id:h,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function YG(e){var t=Mt(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function QG(e){var t,n,r=e.initialProps,i=Mt(),a=Nb(),o=Sh(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var m=Ke(Ke({},i.styles.root),i.style),p=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var S;return Ke(Ke({},x),(S={},S[g]=r[g],S))},{}),y=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:YG;return s.jsx("div",Ke({className:h.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},p,{children:s.jsx(y,{children:o.displayMonths.map(function(x,g){return s.jsx(GG,{displayIndex:g,displayMonth:x},g)})})}))}function XG(e){var t=e.children,n=jK(e,["children"]);return s.jsx(UK,{initialProps:n,children:s.jsx(QK,{children:s.jsx(AG,{initialProps:n,children:s.jsx(aG,{initialProps:n,children:s.jsx(cG,{initialProps:n,children:s.jsx(xG,{children:s.jsx(TG,{children:t})})})})})})})}function ZG(e){return s.jsx(XG,Ke({},e,{children:s.jsx(QG,{initialProps:e})}))}function np({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(ZG,{showOutsideDays:n,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(Vu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(Vu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...a})=>s.jsx(Gi,{className:xe("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(xr,{className:xe("h-4 w-4",i),...a})},...r})}np.displayName="Calendar";function JG(e){const t=eY(e),n=f.forwardRef((r,i)=>{const{children:a,...o}=r,l=f.Children.toArray(a),c=l.find(nY);if(c){const d=c.props.children,h=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:f.isValidElement(d)?f.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function eY(e){const t=f.forwardRef((n,r)=>{const{children:i,...a}=n;if(f.isValidElement(i)){const o=rY(i),l=sY(a,i.props);return i.type!==f.Fragment&&(l.ref=r?ni(r,o):o),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tY=Symbol("radix.slottable");function nY(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tY}function sY(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function rY(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var og="Popover",[S4]=Fn(og,[oo]),Ch=oo(),[iY,mo]=S4(og),C4=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Ch(t),c=f.useRef(null),[d,h]=f.useState(!1),[m,p]=gr({prop:r,defaultProp:i??!1,onChange:a,caller:og});return s.jsx(fj,{...l,children:s.jsx(iY,{scope:t,contentId:$s(),triggerRef:c,open:m,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(y=>!y),[p]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>h(!0),[]),onCustomAnchorRemove:f.useCallback(()=>h(!1),[]),modal:o,children:n})})};C4.displayName=og;var k4="PopoverAnchor",aY=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=mo(k4,n),a=Ch(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return f.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(ih,{...a,...r,ref:t})});aY.displayName=k4;var E4="PopoverTrigger",T4=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=mo(E4,n),a=Ch(n),o=Ye(t,i.triggerRef),l=s.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":D4(i.open),...r,ref:o,onClick:pe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(ih,{asChild:!0,...a,children:l})});T4.displayName=E4;var Sb="PopoverPortal",[oY,lY]=S4(Sb,{forceMount:void 0}),P4=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=mo(Sb,t);return s.jsx(oY,{scope:t,forceMount:n,children:s.jsx(xn,{present:n||a.open,children:s.jsx(nd,{asChild:!0,container:i,children:r})})})};P4.displayName=Sb;var Gc="PopoverContent",A4=f.forwardRef((e,t)=>{const n=lY(Gc,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=mo(Gc,e.__scopePopover);return s.jsx(xn,{present:r||a.open,children:a.modal?s.jsx(dY,{...i,ref:t}):s.jsx(uY,{...i,ref:t})})});A4.displayName=Gc;var cY=JG("PopoverContent.RemoveScroll"),dY=f.forwardRef((e,t)=>{const n=mo(Gc,e.__scopePopover),r=f.useRef(null),i=Ye(t,r),a=f.useRef(!1);return f.useEffect(()=>{const o=r.current;if(o)return Kp(o)},[]),s.jsx(vh,{as:cY,allowPinchZoom:!0,children:s.jsx(I4,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),uY=f.forwardRef((e,t)=>{const n=mo(Gc,e.__scopePopover),r=f.useRef(!1),i=f.useRef(!1);return s.jsx(I4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),I4=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...m}=e,p=mo(Gc,n),y=Ch(n);return qp(),s.jsx(xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:s.jsx(Ip,{"data-state":D4(p.open),role:"dialog",id:p.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),R4="PopoverClose",hY=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=mo(R4,n);return s.jsx($e.button,{type:"button",...r,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});hY.displayName=R4;var fY="PopoverArrow",mY=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ch(n);return s.jsx(Rp,{...i,...r,ref:t})});mY.displayName=fY;function D4(e){return e?"open":"closed"}var pY=C4,gY=T4,xY=P4,O4=A4;const Vy=pY,zy=gY,sp=f.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>s.jsx(xY,{children:s.jsx(O4,{ref:i,align:t,sideOffset:n,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));sp.displayName=O4.displayName;function vY(){const[,e]=qt(),[t,n]=f.useState(1),[r,i]=f.useState(10),[a,o]=f.useState(""),[l,c]=f.useState(""),[d,h]=f.useState(!1),[m,p]=f.useState(null),[y,x]=f.useState(void 0),{toast:g}=kt(),S=Hw(),{data:w,isLoading:v}=Ve({queryKey:["/api/admin/shows",t,r,a,l]}),j=Ge({mutationFn:async({roomId:k,featured:R,featured_until:T})=>{const I={featured:R};T!==void 0&&(I.featured_until=T);const D=await fetch(`/api/rooms/features/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!D.ok)throw new Error("Failed to update featured status");return D.json()},onSuccess:()=>{g({title:"Show Featured",description:"The show has been set as featured successfully."}),S.invalidateQueries({queryKey:["/api/admin/shows"]}),h(!1),p(null),x(void 0)},onError:k=>{g({title:"Error",description:k.message||"Failed to feature the show.",variant:"destructive"})}}),P=()=>{if(!m)return;const k=m._id||m.id;j.mutate({roomId:k,featured:!0,featured_until:y?y.getTime():null})},E=(k,R)=>{R.stopPropagation(),p(k),x(void 0),h(!0)},O=(w==null?void 0:w.data)||[],C=w?{currentPage:t,totalPages:w.pages||1,totalItems:w.totalDoc||0,hasNextPage:t<(w.pages||1),hasPrevPage:t>1}:null,N=O.filter(k=>k.status==="live").length,_=O.filter(k=>k.status==="scheduled").length;return s.jsxs(Me,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Live Shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all live shopping shows and rooms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Shows"}),s.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-shows",children:(C==null?void 0:C.totalItems)||O.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Live Now"}),s.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-live-shows",children:N}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Scheduled"}),s.jsx(Yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-scheduled-shows",children:_}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming shows"})]})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx(oe,{children:"Live Shows & Rooms"}),s.jsx(Ee,{children:"View and manage all live shows"})]})}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(qi,{value:l||"all",onValueChange:k=>{c(k==="all"?"":k),n(1)},children:s.jsxs(ei,{"data-testid":"tabs-filter",children:[s.jsx(it,{value:"all","data-testid":"tab-all",children:"All"}),s.jsx(it,{value:"live","data-testid":"tab-live",children:"Live"}),s.jsx(it,{value:"scheduled","data-testid":"tab-scheduled",children:"Scheduled"}),s.jsx(it,{value:"ended","data-testid":"tab-ended",children:"Ended"}),s.jsx(it,{value:"featured","data-testid":"tab-featured",children:"Featured"})]})}),s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search by title...",value:a,onChange:k=>{o(k.target.value),n(1)},className:"pl-10","data-testid":"input-search-title"})]})]})]})}),s.jsx(te,{children:v?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading shows..."})]}):O.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ru,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:a||l?"No shows found matching your filters":"No shows found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{className:"min-w-[250px]",children:"Show Details"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Host"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Viewers"}),s.jsx(ie,{className:"hidden sm:table-cell",children:"Created"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:O.map(k=>{var B,le,ce,W,Ce,_e;const R=k._id||k.id,T=k.createdAt?new Date(k.createdAt):null,I=(B=k.owner)!=null&&B.firstName?String(k.owner.firstName):"",D=(le=k.owner)!=null&&le.lastName?String(k.owner.lastName):"",q=(ce=k.owner)!=null&&ce.userName?String(k.owner.userName):"",U=(W=k.owner)!=null&&W.email?String(k.owner.email):"",z=(Ce=k.owner)!=null&&Ce.profilePhoto?String(k.owner.profilePhoto):"",L=!!k.owner;return s.jsxs(rt,{"data-testid":`row-show-${R}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/admin/shows/${R}`),children:[s.jsx(ae,{className:"font-medium",children:s.jsxs("div",{className:"flex items-start gap-3",children:[k.preview_videos?s.jsx("video",{src:k.preview_videos,className:"w-16 h-16 rounded object-cover flex-shrink-0",muted:!0,playsInline:!0,"data-testid":`video-show-preview-${R}`}):k.thumbnail?s.jsx("img",{src:k.thumbnail,alt:k.title||"Show",className:"w-16 h-16 rounded object-cover flex-shrink-0"}):null,s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate","data-testid":`text-title-${R}`,children:String(k.title||k.name||"Untitled Show")}),((_e=k.category)==null?void 0:_e.name)&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx(We,{variant:"secondary",className:"text-xs",children:String(k.category.name)})}),k.description&&typeof k.description=="string"&&s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:k.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 md:hidden",children:[s.jsx(Gs,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:L&&(I||q)||"Unknown Host"})]})]})]})}),s.jsx(ae,{className:"hidden md:table-cell",children:L?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Us,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Vs,{src:z}),s.jsxs(zs,{children:[(I||"U")[0],(D||"H")[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium truncate",children:[I," ",D]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:U})]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No host"})}),s.jsx(ae,{className:"hidden lg:table-cell","data-testid":`text-viewers-${R}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),Array.isArray(k.viewers)?k.viewers.length:0]})}),s.jsx(ae,{className:"hidden sm:table-cell",children:T?T.toLocaleDateString():"N/A"}),s.jsx(ae,{children:(()=>{let De="unknown";if(k.ended===!0)De="ended";else if(k.started===!0&&k.ended===!1)De="live";else if(k.started===!1&&k.ended===!1){const Z=k.startDate||k.date||k.createdAt;Z&&new Date(Z)>new Date&&(De="active")}const He=De==="live",X=De==="active"?"scheduled":De;return s.jsxs(We,{variant:He?"default":De==="active"?"secondary":"outline",className:He?"bg-green-600":"",children:[He&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),X.charAt(0).toUpperCase()+X.slice(1)]})})()}),s.jsx(ae,{className:"text-right",children:s.jsx(K,{variant:"ghost",size:"icon",onClick:De=>E(k,De),className:k.featured?"text-yellow-500":"","data-testid":`button-feature-${R}`,children:s.jsx(s5,{className:`h-4 w-4 ${k.featured?"fill-yellow-500":""}`})})})]},R)})})]})}),C&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",C.currentPage," of ",C.totalPages," (",C.totalItems," total shows)"]}),s.jsxs("span",{className:"sm:hidden",children:[C.currentPage," / ",C.totalPages]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Show"}),s.jsxs(Dn,{value:String(r),onValueChange:k=>{i(Number(k)),n(1)},children:[s.jsx(Cn,{className:"w-[70px] h-8","data-testid":"select-limit",children:s.jsx(On,{})}),s.jsxs(kn,{children:[s.jsx(de,{value:"10",children:"10"}),s.jsx(de,{value:"25",children:"25"}),s.jsx(de,{value:"50",children:"50"}),s.jsx(de,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(t-1),disabled:!C.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>n(t+1),disabled:!C.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(xr,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]}),s.jsx(vs,{open:d,onOpenChange:h,children:s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Feature Show"}),s.jsx(Lr,{children:"Set this show as featured. Optionally set an expiration date for the featured status."})]}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{className:"text-sm font-medium",children:"Show"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(m==null?void 0:m.title)||(m==null?void 0:m.name)||"Untitled Show"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-sm font-medium",children:"Featured Until (Optional)"}),s.jsxs(Vy,{children:[s.jsx(zy,{asChild:!0,children:s.jsxs(K,{variant:"outline",className:"w-full justify-start text-left font-normal","data-testid":"button-date-picker",children:[s.jsx(Yo,{className:"mr-2 h-4 w-4"}),y?Fs(y,"PPP"):"No expiration date"]})}),s.jsx(sp,{className:"w-auto p-0 z-[9999]",align:"start",children:s.jsx(np,{mode:"single",selected:y,onSelect:x,initialFocus:!0,disabled:k=>k<new Date})})]}),y&&s.jsx(K,{variant:"ghost",size:"sm",onClick:()=>x(void 0),className:"text-xs","data-testid":"button-clear-date",children:"Clear date"})]})]})}),s.jsxs(i4,{children:[s.jsx(K,{variant:"outline",onClick:()=>h(!1),"data-testid":"button-cancel-feature",children:"Cancel"}),s.jsx(K,{onClick:P,disabled:j.isPending,"data-testid":"button-confirm-feature",children:j.isPending?"Saving...":"Feature Show"})]})]})})]})}function yY(){var U,z,L,B,le,ce;const[,e]=qt(),[,t]=yl("/admin/shows/:showId"),n=t==null?void 0:t.showId,[r,i]=f.useState("overview"),{data:a,isLoading:o}=Ve({queryKey:[`admin-show-${n}`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch show");const Ce=await W.json();return Ce.success?Ce.data:Ce},enabled:!!n}),{data:l,isLoading:c}=Ve({queryKey:[`admin-show-${n}-auctions`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/auctions?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch auctions");return await W.json()},enabled:!!n&&r==="auctions"}),{data:d,isLoading:h}=Ve({queryKey:[`admin-show-${n}-giveaways`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/giveaways?page=1&limit=20`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch giveaways");return await W.json()},enabled:!!n&&r==="giveaways"}),{data:m,isLoading:p}=Ve({queryKey:[`admin-show-${n}-buy-now`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/buy-now?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch buy now items");return await W.json()},enabled:!!n&&r==="buy-now"}),{data:y,isLoading:x}=Ve({queryKey:[`admin-show-${n}-sold`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/sold?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch sold items");return await W.json()},enabled:!!n&&r==="sold"}),g=(a==null?void 0:a.data)||a,S=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(o)return s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading show details..."})]})})});if(!g)return s.jsx(Me,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ru,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Show not found"}),s.jsx(K,{onClick:()=>e("/admin/shows"),className:"mt-4","data-testid":"button-back-to-shows",children:"Back to Shows"})]})})});const w=(U=g.owner)!=null&&U.firstName?String(g.owner.firstName):"",v=(z=g.owner)!=null&&z.lastName?String(g.owner.lastName):"",j=(L=g.owner)!=null&&L.userName?String(g.owner.userName):"",P=(B=g.owner)!=null&&B.email?String(g.owner.email):"",E=(le=g.owner)!=null&&le.profilePhoto?String(g.owner.profilePhoto):"",O=!!g.owner;let C="unknown";if(g.ended===!0)C="ended";else if(g.started===!0&&g.ended===!1)C="live";else if(g.started===!1&&g.ended===!1){const W=g.startDate||g.date||g.createdAt;W&&new Date(W)>new Date&&(C="active")}const N=C==="live",_=g.activeauction,k=g.pinnedobject,R=(_==null?void 0:_.bids)||[],T=(l==null?void 0:l.data)||[],I=(d==null?void 0:d.data)||[],D=(m==null?void 0:m.data)||[],q=(y==null?void 0:y.data)||[];return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(K,{variant:"ghost",onClick:()=>e("/admin/shows"),className:"mb-4","data-testid":"button-back-to-shows",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Shows"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground","data-testid":"text-show-title",children:String(g.title||g.name||"Untitled Show")}),s.jsx("p",{className:"text-muted-foreground",children:"Show Details"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(We,{variant:N?"default":C==="active"?"secondary":"outline",className:N?"bg-green-600":"",children:[N&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),C==="active"?"Scheduled":C.charAt(0).toUpperCase()+C.slice(1)]})})]})]}),s.jsxs(qi,{value:r,onValueChange:i,className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(ei,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-5",children:[s.jsx(it,{value:"overview","data-testid":"tab-overview",className:"flex-shrink-0 sm:flex-shrink",children:"Overview"}),s.jsxs(it,{value:"auctions","data-testid":"tab-auctions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(uf,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Auctions"]}),s.jsxs(it,{value:"giveaways","data-testid":"tab-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(hf,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Giveaways"]}),s.jsxs(it,{value:"buy-now","data-testid":"tab-buy-now",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Buy Now"]}),s.jsxs(it,{value:"sold","data-testid":"tab-sold",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(on,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Sold"]})]})}),s.jsx(gt,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ru,{className:"h-5 w-5"}),"Show Information"]})}),s.jsxs(te,{className:"space-y-4",children:[g.preview_videos?s.jsx("video",{src:g.preview_videos,className:"w-full h-64 rounded object-cover",controls:!0,autoPlay:!0,loop:!0,muted:!0}):g.thumbnail?s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-full h-64 rounded object-cover"}):null,s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("p",{className:"text-foreground","data-testid":"text-show-description",children:g.description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Category"}),s.jsx("p",{className:"text-foreground",children:(ce=g.category)!=null&&ce.name?String(g.category.name):"N/A"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Viewers"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-foreground","data-testid":"text-viewer-count",children:Array.isArray(g.viewers)?g.viewers.length:0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("p",{className:"text-foreground",children:S(g.createdAt)})]}),g.date&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Scheduled Date"}),s.jsx("p",{className:"text-foreground",children:S(g.date)})]})]})]})]}),_&&s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"h-5 w-5"}),"Active Auction"]}),s.jsx(Ee,{children:"Current auction in progress"})]}),s.jsxs(te,{className:"space-y-4",children:[_.product&&s.jsxs("div",{className:"flex items-start gap-4",children:[_.product.images&&_.product.images[0]&&s.jsx("img",{src:_.product.images[0],alt:_.product.name,className:"w-20 h-20 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium","data-testid":"text-auction-product-name",children:_.product.name}),_.product.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.product.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Starting Price"}),s.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":"text-auction-starting-price",children:["$",_.startingprice||0]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Current Bid"}),s.jsxs("p",{className:"text-lg font-bold text-green-600","data-testid":"text-auction-current-bid",children:["$",_.currentbid||_.startingprice||0]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(We,{variant:_.won?"default":"secondary",children:_.won?"Won":"In Progress"})]}),_.winner&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Winner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Us,{className:"h-8 w-8",children:[s.jsx(Vs,{src:_.winner.profilePhoto}),s.jsxs(zs,{children:[(_.winner.firstName||"W")[0],(_.winner.lastName||"N")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[_.winner.firstName," ",_.winner.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.winner.email})]})]})]})]})]}),R.length>0&&s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),"Bids (",R.length,")"]}),s.jsx(Ee,{children:"All bids for the active auction"})]}),s.jsx(te,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Bidder"}),s.jsx(ie,{children:"Amount"}),s.jsx(ie,{children:"Time"})]})}),s.jsx(dn,{children:R.map((W,Ce)=>{var _e,De,He,X,Z,be;return s.jsxs(rt,{"data-testid":`row-bid-${Ce}`,children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Us,{className:"h-8 w-8",children:[s.jsx(Vs,{src:(_e=W.user)==null?void 0:_e.profilePhoto}),s.jsxs(zs,{children:[(((De=W.user)==null?void 0:De.firstName)||"B")[0],(((He=W.user)==null?void 0:He.lastName)||"D")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[(X=W.user)==null?void 0:X.firstName," ",(Z=W.user)==null?void 0:Z.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(be=W.user)==null?void 0:be.email})]})]})}),s.jsx(ae,{children:s.jsxs("span",{className:"font-bold text-green-600","data-testid":`text-bid-amount-${Ce}`,children:["$",W.amount||0]})}),s.jsx(ae,{className:"text-muted-foreground",children:S(W.createdAt)})]},W._id||Ce)})})]})})})]}),k&&s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(t5,{className:"h-5 w-5"}),"Pinned Object"]}),s.jsx(Ee,{children:"Currently pinned item in the show"})]}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[k.images&&k.images[0]&&s.jsx("img",{src:k.images[0],alt:k.name,className:"w-24 h-24 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-lg","data-testid":"text-pinned-name",children:k.name}),k.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:k.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price: "}),s.jsxs("span",{className:"font-bold text-foreground","data-testid":"text-pinned-price",children:["$",k.price||0]})]}),k.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Qty: "}),s.jsx("span",{className:"font-medium text-foreground",children:k.quantity})]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Gs,{className:"h-5 w-5"}),"Host Information"]})}),s.jsx(te,{children:O?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Us,{className:"h-12 w-12",children:[s.jsx(Vs,{src:E}),s.jsxs(zs,{children:[(w||"U")[0],(v||"H")[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium","data-testid":"text-host-name",children:[w," ",v]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",j]})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),s.jsx("p",{className:"text-sm","data-testid":"text-host-email",children:P})]}),g.owner.country&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Country"}),s.jsx("p",{className:"text-sm",children:g.owner.country})]}),g.owner.accountType&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Account Type"}),s.jsx(We,{variant:"secondary",children:g.owner.accountType})]})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No host information available"})})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Stats"})}),s.jsxs(te,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show ID"}),s.jsx("span",{className:"text-xs font-mono",children:g._id||g.id||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Viewers"}),s.jsx("span",{className:"font-bold",children:Array.isArray(g.viewers)?g.viewers.length:0})]}),_&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Bids"}),s.jsx("span",{className:"font-bold",children:R.length})]})]})]})]})]})}),s.jsx(gt,{value:"auctions",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"h-5 w-5"}),"Auction Items (",T.length,")"]}),s.jsx(Ee,{children:"All auction products in this show"})]}),s.jsx(te,{children:c?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading auctions..."})]}):T.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(uf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No auction items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:T.map(W=>s.jsxs(ee,{className:"overflow-hidden","data-testid":`card-auction-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(on,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(te,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-auction-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-auction-price-${W._id}`,children:["$",W.price||0]})]}),W.status&&s.jsx(We,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(gt,{value:"giveaways",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(hf,{className:"h-5 w-5"}),"Giveaway Items (",I.length,")"]}),s.jsx(Ee,{children:"All giveaway items in this show"})]}),s.jsx(te,{children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading giveaways..."})]}):I.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No giveaway items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:I.map(W=>s.jsxs(ee,{className:"overflow-hidden","data-testid":`card-giveaway-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(hf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(te,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-giveaway-name-${W._id}`,children:W.name}),W.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:W.description}),W.quantity&&s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Quantity"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]})]})]},W._id))})})]})}),s.jsx(gt,{value:"buy-now",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Wa,{className:"h-5 w-5"}),"Buy Now Items (",D.length,")"]}),s.jsx(Ee,{children:"All buy now products in this show"})]}),s.jsx(te,{children:p?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading buy now items..."})]}):D.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No buy now items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:D.map(W=>s.jsxs(ee,{className:"overflow-hidden","data-testid":`card-buy-now-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(on,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(te,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-buy-now-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-buy-now-price-${W._id}`,children:["$",W.price||0]})]}),W.quantity!==void 0&&s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Stock"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]}),W.status&&s.jsx(We,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(gt,{value:"sold",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-5 w-5"}),"Sold Orders (",q.length,")"]}),s.jsx(Ee,{children:"All orders from this show"})]}),s.jsx(te,{children:x?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading sold orders..."})]}):q.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(on,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sold orders found"})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Order ID"}),s.jsx(ie,{children:"Customer"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Total"}),s.jsx(ie,{children:"Date"})]})}),s.jsx(dn,{children:q.map(W=>{var Ce,_e,De,He;return s.jsxs(rt,{"data-testid":`row-sold-${W._id}`,children:[s.jsxs(ae,{className:"font-mono text-sm",children:[(Ce=W._id)==null?void 0:Ce.substring(0,8),"..."]}),s.jsx(ae,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[(_e=W.customer)==null?void 0:_e.firstName," ",(De=W.customer)==null?void 0:De.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(He=W.customer)==null?void 0:He.email})]})}),s.jsx(ae,{children:s.jsx(We,{variant:"secondary",children:W.status||"pending"})}),s.jsxs(ae,{className:"font-bold",children:["$",W.invoice||W.total||0]}),s.jsx(ae,{className:"text-sm text-muted-foreground",children:S(W.createdAt)})]},W._id)})})]})})})]})})]})]})})}function ai(){const{user:e}=Qi(),{data:t}=Ve({queryKey:["/api/admin/demo-mode"],enabled:!!(e!=null&&e.admin),staleTime:3e4,refetchOnWindowFocus:!0}),n=(t==null?void 0:t.demoMode)||!1,r=(e==null?void 0:e.admin)||!1,i=(e==null?void 0:e.role)==="superAdmin",a=(e==null?void 0:e.admin)&&!i;return{canCreate:!n&&r,canEdit:!n&&r,canDelete:!n&&r,canManageSettings:!n&&r,isSuperAdmin:i,isReadOnlyAdmin:a,isDemoMode:n}}function kh(){var r;const{data:e,isLoading:t,error:n}=Ve({queryKey:["/api/config"],staleTime:1/0,gcTime:1/0,retry:3});return{externalApiUrl:((r=e==null?void 0:e.data)==null?void 0:r.externalApiUrl)||"",isLoading:t,error:n}}function Yc(e,t){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;if(!t)return"";const n=e.replace(/^\//,"");return n.startsWith("images/")?`${t}/${n}`:n.startsWith("uploads/")?`${t}/${n}`:`${t}/images/category/${n}`}function wY(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),[r,i]=f.useState(!1),[a,o]=f.useState(null),[l,c]=f.useState(!1),{externalApiUrl:d}=kh(),{data:h,isLoading:m}=Ve({queryKey:["/api/settings/full"]}),p=(h==null?void 0:h.data)||h,{data:y,isLoading:x}=Ve({queryKey:["/api/themes"]}),g=(y==null?void 0:y.data)||y,S=D=>!D||D.length<8?"":`${D.substring(0,4)}${"".repeat(12)}${D.substring(D.length-4)}`,[w,v]=f.useState({app_name:"",seo_title:"",website_url:"",privacy_url:"",terms_url:"",demoMode:!1,commission:"",stripe_fee:"",extra_charges:"",currency:"$",support_email:"",forceUpdate:!1,seller_auto_approve:!0,appVersion:"",androidVersion:"",iosVersion:"",FIREBASE_API_KEY:"",firebase_auth_domain:"",firebase_project_id:"",firebase_storage_bucket:"",firebase_app_id:"",shippo_api_key:"",stripeSecretKey:"",stripepublickey:"",stripe_webhook_key:"",stripe_connect_account:"",livekit_url:"",livekit_api_key:"",livekit_api_secret:""}),[j,P]=f.useState({app_name:"",seo_title:"",slogan:"",primary_color:"",secondary_color:"",button_color:"",button_text_color:"",app_logo:"",header_logo:""}),[E,O]=f.useState(!1);f.useEffect(()=>{var D,q,U,z;v({app_name:(p==null?void 0:p.app_name)||"",seo_title:(p==null?void 0:p.seo_title)||"",website_url:(p==null?void 0:p.website_url)||"",privacy_url:(p==null?void 0:p.privacy_url)||"",terms_url:(p==null?void 0:p.terms_url)||"",demoMode:(p==null?void 0:p.demoMode)||!1,commission:(p==null?void 0:p.commission)||"",stripe_fee:(p==null?void 0:p.stripe_fee)||"",extra_charges:(p==null?void 0:p.extra_charges)||"",currency:(p==null?void 0:p.currency)||"$",support_email:(p==null?void 0:p.support_email)||"",forceUpdate:(p==null?void 0:p.forceUpdate)||!1,seller_auto_approve:(p==null?void 0:p.seller_auto_approve)!==void 0?p.seller_auto_approve:!0,appVersion:(p==null?void 0:p.appVersion)||"",androidVersion:(p==null?void 0:p.androidVersion)||"",iosVersion:(p==null?void 0:p.iosVersion)||"",FIREBASE_API_KEY:(p==null?void 0:p.FIREBASE_API_KEY)||"",firebase_auth_domain:((D=p==null?void 0:p.firebase_config)==null?void 0:D.authDomain)||(p==null?void 0:p.firebase_auth_domain)||"",firebase_project_id:((q=p==null?void 0:p.firebase_config)==null?void 0:q.projectId)||(p==null?void 0:p.firebase_project_id)||"",firebase_storage_bucket:((U=p==null?void 0:p.firebase_config)==null?void 0:U.storageBucket)||(p==null?void 0:p.firebase_storage_bucket)||"",firebase_app_id:((z=p==null?void 0:p.firebase_config)==null?void 0:z.appId)||(p==null?void 0:p.firebase_app_id)||"",shippo_api_key:(p==null?void 0:p.shippo_api_key)||"",stripeSecretKey:(p==null?void 0:p.stripeSecretKey)||"",stripepublickey:(p==null?void 0:p.stripepublickey)||"",stripe_webhook_key:(p==null?void 0:p.stripe_webhook_key)||"",stripe_connect_account:(p==null?void 0:p.stripe_connect_account)||"",livekit_url:(p==null?void 0:p.livekit_url)||"",livekit_api_key:(p==null?void 0:p.livekit_api_key)||"",livekit_api_secret:(p==null?void 0:p.livekit_api_secret)||""})},[p]),f.useEffect(()=>{P({app_name:(g==null?void 0:g.app_name)||"",seo_title:(g==null?void 0:g.seo_title)||"",slogan:(g==null?void 0:g.slogan)||"",primary_color:(g==null?void 0:g.primary_color)||"FFFACC15",secondary_color:(g==null?void 0:g.secondary_color)||"FF0D9488",button_color:(g==null?void 0:g.button_color)||"FF000000",button_text_color:(g==null?void 0:g.button_text_color)||"FFFFFFFF",app_logo:(g==null?void 0:g.app_logo)||"",header_logo:(g==null?void 0:g.header_logo)||""})},[g]);const C=Ge({mutationFn:async D=>{const q=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(D)});if(!q.ok){const U=await q.json().catch(()=>({}));throw console.error("Settings update failed:",U),new Error((U==null?void 0:U.error)||"Failed to update settings")}return q.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/settings/full"]}),e({title:"Settings updated",description:"Platform settings have been saved successfully."}),i(!1)},onError:()=>{e({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"}),i(!1)}}),N=Ge({mutationFn:async D=>{const q=await fetch("/api/themes",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(D)});if(!q.ok){const U=await q.json().catch(()=>({}));throw console.error("Theme update failed:",U),new Error((U==null?void 0:U.error)||"Failed to update theme")}return q.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/themes"]}),e({title:"Theme updated",description:"Theme settings have been saved successfully."}),O(!1)},onError:()=>{e({title:"Error",description:"Failed to update theme. Please try again.",variant:"destructive"}),O(!1)}}),_=()=>{if(!t){e({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}i(!0),C.mutate(w)},k=()=>{if(!t){e({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}O(!0),N.mutate(j)},R=(D,q)=>{v(U=>({...U,[D]:q}))},T=(D,q)=>{P(U=>({...U,[D]:q}))},I=async D=>{var q,U;c(!0);try{const z=new FormData;z.append("logo",D);const B=await(await fetch("/api/themes/upload-logo",{method:"POST",body:z})).json();if(console.log("Logo upload response:",B),B.success){const le=((q=B.data)==null?void 0:q.logo_url)||((U=B.data)==null?void 0:U.app_logo)||(typeof B.data=="string"?B.data:null);console.log("Extracted logo URL:",le),le&&P(W=>({...W,app_logo:le})),o(null);const ce=document.getElementById("app_logo");ce&&(ce.value=""),e({title:"Logo uploaded",description:"App logo has been uploaded. Click 'Save Theme Settings' to apply the change."})}else throw new Error(B.error||"Upload failed")}catch(z){e({title:"Upload failed",description:z.message||"Failed to upload logo. Please try again.",variant:"destructive"})}finally{c(!1)}};return m?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Platform Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings and preferences"})]}),s.jsx(K,{onClick:_,disabled:r||!t,"data-testid":"button-save-settings",children:r?"Saving...":n?"Demo Mode - Read Only":"Save Changes"})]}),n&&s.jsxs(Dt,{className:"mb-6",children:[s.jsx(Au,{className:"h-4 w-4"}),s.jsx(Ot,{children:"Demo mode is active. All settings are read-only and cannot be modified."})]}),s.jsxs(qi,{defaultValue:"general",className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(ei,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-6",children:[s.jsxs(it,{value:"general","data-testid":"tab-general",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Pu,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"General"]}),s.jsxs(it,{value:"payment","data-testid":"tab-payment",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Payment"]}),s.jsxs(it,{value:"theme","data-testid":"tab-theme",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(JL,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Theme"]}),s.jsxs(it,{value:"api-keys","data-testid":"tab-api-keys",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(GL,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"API & Integrations"]}),s.jsxs(it,{value:"app-versions","data-testid":"tab-app-versions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(tj,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"App Versions"]}),s.jsxs(it,{value:"translations","data-testid":"tab-translations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(YL,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Translations"]})]})}),s.jsxs(gt,{value:"general",className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"General Settings"}),s.jsx(Ee,{children:"Basic platform configuration"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"support_email",children:"Support Email"}),s.jsx(ne,{id:"support_email",type:"email",value:w.support_email,onChange:D=>R("support_email",D.target.value),placeholder:"support@example.com","data-testid":"input-support-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"currency",children:"Currency Symbol"}),s.jsx(ne,{id:"currency",value:w.currency,onChange:D=>R("currency",D.target.value),placeholder:"$","data-testid":"input-currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"commission",children:"Platform Commission (%)"}),s.jsx(ne,{id:"commission",type:"number",value:w.commission,onChange:D=>R("commission",D.target.value),placeholder:"5","data-testid":"input-commission"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Commission percentage charged on transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"stripe_fee",children:"Stripe Fee (%)"}),s.jsx(ne,{id:"stripe_fee",type:"number",step:"0.01",value:w.stripe_fee,onChange:D=>R("stripe_fee",D.target.value),placeholder:"2.9","data-testid":"input-stripe-fee"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe processing fee percentage"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"extra_charges",children:"Extra Charges (Fixed)"}),s.jsx(ne,{id:"extra_charges",type:"number",step:"0.01",value:w.extra_charges,onChange:D=>R("extra_charges",D.target.value),placeholder:"0.30","data-testid":"input-extra-charges"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed additional charges per transaction"})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Seller Approval Workflow"}),s.jsx(Ee,{children:"Control how users become sellers on your platform"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(Y,{htmlFor:"seller-auto-approve",children:"Automatic Seller Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, users can become sellers automatically without admin approval. When disabled, admin must manually approve all seller applications."})]}),s.jsx(Ri,{id:"seller-auto-approve",checked:w.seller_auto_approve,onCheckedChange:D=>R("seller_auto_approve",D),"data-testid":"switch-seller-auto-approve"})]}),s.jsxs(Dt,{children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx(Ot,{children:w.seller_auto_approve?s.jsxs(s.Fragment,{children:["Automatic approval is ",s.jsx("strong",{children:"enabled"}),". Users will become sellers immediately after applying."]}):s.jsxs(s.Fragment,{children:["Manual approval is ",s.jsx("strong",{children:"required"}),". Admins must review and approve seller applications in the Users section."]})})]})]})]})]}),s.jsx(gt,{value:"payment",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Stripe Integration"}),s.jsx(Ee,{children:"Stripe payment gateway configuration"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"stripepublickey",children:"Stripe Publishable Key"}),s.jsx(ne,{id:"stripepublickey",value:j.demoMode?S(w.stripepublickey):w.stripepublickey,onChange:D=>R("stripepublickey",D.target.value),placeholder:"pk_test_...","data-testid":"input-stripe-public-key",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"stripeSecretKey",children:"Stripe Secret Key"}),s.jsx(ne,{id:"stripeSecretKey",type:j.demoMode?"text":"password",value:j.demoMode?S(w.stripeSecretKey):w.stripeSecretKey,onChange:D=>R("stripeSecretKey",D.target.value),placeholder:"sk_test_...","data-testid":"input-stripe-secret-key",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this key secret and secure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"stripe_webhook_key",children:"Stripe Webhook Secret"}),s.jsx(ne,{id:"stripe_webhook_key",type:j.demoMode?"text":"password",value:j.demoMode?S(w.stripe_webhook_key):w.stripe_webhook_key,onChange:D=>R("stripe_webhook_key",D.target.value),placeholder:"whsec_...","data-testid":"input-stripe-webhook-key",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for verifying webhook events from Stripe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"stripe_connect_account",children:"Stripe Connect Account (Shipping Fees)"}),s.jsx(ne,{id:"stripe_connect_account",value:w.stripe_connect_account,onChange:D=>R("stripe_connect_account",D.target.value),placeholder:"acct_...","data-testid":"input-stripe-connect-account",readOnly:j.demoMode,disabled:j.demoMode}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe Connect account ID to receive shipping fees"})]})]})]})}),s.jsxs(gt,{value:"theme",className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Branding"}),s.jsx(Ee,{children:"Configure your app name, logo and slogan"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"app_name",children:"App Name"}),s.jsx(ne,{id:"app_name",value:j.app_name,onChange:D=>T("app_name",D.target.value),placeholder:"Your App Name","data-testid":"input-app-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"seo_title",children:"SEO Title"}),s.jsx(ne,{id:"seo_title",value:j.seo_title,onChange:D=>T("seo_title",D.target.value),placeholder:"Browser title (defaults to App Name if empty)","data-testid":"input-seo-title"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will appear in the browser tab. If empty, the app name will be used."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"app_logo",children:"App Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[j.app_logo&&s.jsx("div",{className:"flex-shrink-0",children:(()=>{const D=j.app_logo.startsWith("http")?j.app_logo:`${d}/${j.app_logo.replace(/^\//,"")}`;return console.log("Logo preview URL:",D,"from:",j.app_logo,"baseUrl:",d),s.jsx("img",{src:D,alt:"App Logo",className:"h-20 w-20 object-contain rounded border border-border bg-muted p-2",onError:q=>{console.log("Logo image failed to load:",D),q.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%23666">Logo</text></svg>'}})})()}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{id:"app_logo",type:"file",accept:"image/*",onChange:D=>{var U;const q=(U=D.target.files)==null?void 0:U[0];q&&o(q)},"data-testid":"input-app-logo",className:"cursor-pointer flex-1"}),s.jsx(K,{type:"button",onClick:()=>{a?I(a):e({title:"No file selected",description:"Please select a logo file first.",variant:"destructive"})},disabled:!a||l,"data-testid":"button-upload-logo",children:l?"Uploading...":"Upload"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a logo file and click Upload (PNG, JPG, or SVG recommended)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"slogan",children:"Slogan"}),s.jsx(ne,{id:"slogan",value:j.slogan,onChange:D=>T("slogan",D.target.value),placeholder:"Your app tagline or slogan","data-testid":"input-slogan"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A short tagline that appears with your brand"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"website_url",children:"Website URL"}),s.jsx(ne,{id:"website_url",type:"url",value:w.website_url,onChange:D=>R("website_url",D.target.value),placeholder:"https://yourwebsite.com","data-testid":"input-website-url"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your main website URL"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"App Theme Colors"}),s.jsx(Ee,{children:"Configure colors for your mobile app"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"primary_color_theme",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:j.primary_color?`#${j.primary_color.slice(-6)}`:"#FACC15"}}),s.jsx(ne,{id:"primary_color_theme",value:j.primary_color,onChange:D=>T("primary_color",D.target.value.toUpperCase()),placeholder:"FFFACC15","data-testid":"input-primary-color-theme",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FFFACC15 for yellow)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"secondary_color_theme",children:"Secondary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:j.secondary_color?`#${j.secondary_color.slice(-6)}`:"#0D9488"}}),s.jsx(ne,{id:"secondary_color_theme",value:j.secondary_color,onChange:D=>T("secondary_color",D.target.value.toUpperCase()),placeholder:"FF0D9488","data-testid":"input-secondary-color-theme",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FF0D9488 for teal)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"button_color",children:"Button Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:j.button_color?`#${j.button_color.slice(-6)}`:"#000000"}}),s.jsx(ne,{id:"button_color",value:j.button_color,onChange:D=>T("button_color",D.target.value.toUpperCase()),placeholder:"FF000000","data-testid":"input-button-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FF000000 for black)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"button_text_color",children:"Button Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:j.button_text_color?`#${j.button_text_color.slice(-6)}`:"#FFFFFF"}}),s.jsx(ne,{id:"button_text_color",value:j.button_text_color,onChange:D=>T("button_text_color",D.target.value.toUpperCase()),placeholder:"FFFFFFFF","data-testid":"input-button-text-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FFFFFFFF for white)"})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Legal Links"}),s.jsx(Ee,{children:"Privacy policy and terms of service URLs"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"privacy_url",children:"Privacy Policy URL"}),s.jsx(ne,{id:"privacy_url",type:"url",value:w.privacy_url,onChange:D=>R("privacy_url",D.target.value),placeholder:"https://example.com/privacy","data-testid":"input-privacy-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"terms_url",children:"Terms of Service URL"}),s.jsx(ne,{id:"terms_url",type:"url",value:w.terms_url,onChange:D=>R("terms_url",D.target.value),placeholder:"https://example.com/terms","data-testid":"input-terms-url"})]})]})]}),!w.demoMode&&s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Demo Mode"}),s.jsx(Ee,{children:"Control whether CRUD operations are allowed on the platform"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(Y,{htmlFor:"demo-mode",children:"Enable Demo Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, all create, update, and delete operations will be disabled for everyone (including super admins). Perfect for protecting demo environments from modifications."})]}),s.jsx(Ri,{id:"demo-mode",checked:w.demoMode,onCheckedChange:D=>R("demoMode",D),"data-testid":"switch-demo-mode"})]}),w.demoMode&&s.jsxs(Dt,{children:[s.jsx(Au,{className:"h-4 w-4"}),s.jsxs(Ot,{children:["Demo mode is currently ",s.jsx("strong",{children:"enabled"}),". All CRUD operations are disabled across the platform."]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(K,{onClick:k,disabled:E||!t,"data-testid":"button-save-theme",children:E?"Saving...":"Save Theme Settings"})})]}),s.jsxs(gt,{value:"api-keys",className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Firebase Configuration"}),s.jsx(Ee,{children:"Configure Firebase for authentication and storage (web apps)"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs(Dt,{children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx(Ot,{children:"These settings configure Firebase for your applications. Get these values from your Firebase Console  Project Settings  General  Your apps."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firebase_auth_domain",children:"Firebase Auth Domain"}),s.jsx(ne,{id:"firebase_auth_domain",value:w.firebase_auth_domain,onChange:D=>R("firebase_auth_domain",D.target.value),placeholder:"your-project.firebaseapp.com","data-testid":"input-firebase-auth-domain",readOnly:j.demoMode,disabled:j.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firebase_project_id",children:"Firebase Project ID"}),s.jsx(ne,{id:"firebase_project_id",value:w.firebase_project_id,onChange:D=>R("firebase_project_id",D.target.value),placeholder:"your-project-id","data-testid":"input-firebase-project-id",readOnly:j.demoMode,disabled:j.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firebase_storage_bucket",children:"Firebase Storage Bucket"}),s.jsx(ne,{id:"firebase_storage_bucket",value:w.firebase_storage_bucket,onChange:D=>R("firebase_storage_bucket",D.target.value),placeholder:"your-project.appspot.com","data-testid":"input-firebase-storage-bucket",readOnly:j.demoMode,disabled:j.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"firebase_app_id",children:"Firebase App ID"}),s.jsx(ne,{id:"firebase_app_id",type:j.demoMode?"text":"password",value:j.demoMode?S(w.firebase_app_id):w.firebase_app_id,onChange:D=>R("firebase_app_id",D.target.value),placeholder:"1:123456789:web:abc123def456","data-testid":"input-firebase-app-id",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this App ID secure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"FIREBASE_API_KEY",children:"Firebase API Key"}),s.jsx(ne,{id:"FIREBASE_API_KEY",type:j.demoMode?"text":"password",value:j.demoMode?S(w.FIREBASE_API_KEY):w.FIREBASE_API_KEY,onChange:D=>R("FIREBASE_API_KEY",D.target.value),placeholder:"AIza...","data-testid":"input-firebase-api-key",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for Firebase authentication and storage"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"LiveKit Integration"}),s.jsx(Ee,{children:"Live streaming platform configuration"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"livekit_url",children:"LiveKit URL"}),s.jsx(ne,{id:"livekit_url",value:w.livekit_url,onChange:D=>R("livekit_url",D.target.value),placeholder:"wss://your-livekit-url.com","data-testid":"input-livekit-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"livekit_api_key",children:"LiveKit API Key"}),s.jsx(ne,{id:"livekit_api_key",type:j.demoMode?"text":"password",value:j.demoMode?S(w.livekit_api_key):w.livekit_api_key,onChange:D=>R("livekit_api_key",D.target.value),placeholder:"API...","data-testid":"input-livekit-api-key",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"livekit_api_secret",children:"LiveKit API Secret"}),s.jsx(ne,{id:"livekit_api_secret",type:j.demoMode?"text":"password",value:j.demoMode?S(w.livekit_api_secret):w.livekit_api_secret,onChange:D=>R("livekit_api_secret",D.target.value),placeholder:"Secret...","data-testid":"input-livekit-api-secret",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiveKit credentials for video streaming"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Other API Keys"}),s.jsx(Ee,{children:"Additional third-party service keys"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"shippo_api_key",children:"Shippo API Key"}),s.jsx(ne,{id:"shippo_api_key",type:j.demoMode?"text":"password",value:j.demoMode?S(w.shippo_api_key):w.shippo_api_key,onChange:D=>R("shippo_api_key",D.target.value),placeholder:"shippo_...","data-testid":"input-shippo-api-key",readOnly:j.demoMode,disabled:j.demoMode,onCopy:D=>j.demoMode&&D.preventDefault(),onCut:D=>j.demoMode&&D.preventDefault(),onPaste:D=>j.demoMode&&D.preventDefault(),className:j.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for shipping label generation"})]})})]})]}),s.jsx(gt,{value:"app-versions",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"App Version Management"}),s.jsx(Ee,{children:"Manage mobile app version numbers"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"appVersion",children:"App Version"}),s.jsx(ne,{id:"appVersion",value:w.appVersion,onChange:D=>R("appVersion",D.target.value),placeholder:"1.0.0","data-testid":"input-app-version"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"androidVersion",children:"Android Version"}),s.jsx(ne,{id:"androidVersion",value:w.androidVersion,onChange:D=>R("androidVersion",D.target.value),placeholder:"1.0.0","data-testid":"input-android-version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"iosVersion",children:"iOS Version"}),s.jsx(ne,{id:"iosVersion",value:w.iosVersion,onChange:D=>R("iosVersion",D.target.value),placeholder:"1.0.0","data-testid":"input-ios-version"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ri,{id:"forceUpdate",checked:w.forceUpdate,onCheckedChange:D=>R("forceUpdate",D),"data-testid":"switch-force-update"}),s.jsx(Y,{htmlFor:"forceUpdate",className:"cursor-pointer",children:"Force App Update"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, users will be required to update the app to continue using it"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"These version numbers are used with the Force Update feature"})]})]})}),s.jsx(gt,{value:"translations",className:"space-y-6",children:s.jsx(jY,{})})]})]})})}function jY(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),[r,i]=f.useState("en"),[a,o]=f.useState(""),[l,c]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(""),y=f.useRef(!1),{data:x,isLoading:g}=Ve({queryKey:["/api/admin/translations"]}),S=(x==null?void 0:x.data)||{},w=S.translations||S,v=S.version,j=S.default_language,[P,E]=f.useState({}),O=Object.keys(P);f.useEffect(()=>{w&&Object.keys(w).length>0&&Object.keys(P).length===0&&E(w)},[w,P]),f.useEffect(()=>{!y.current&&j?(p(j),y.current=!0):!y.current&&O.length>0&&!m&&(p(O[0]),y.current=!0)},[j,O,m]);const C=Array.from(new Set(Object.values(P).flatMap(D=>Object.keys(D)))).sort(),N=()=>{if(!a||a.length!==2){e({title:"Invalid language code",description:"Language code must be exactly 2 characters (e.g., 'es', 'fr')",variant:"destructive"});return}if(O.includes(a)){e({title:"Language already exists",description:`Language '${a}' is already configured`,variant:"destructive"});return}if(O.length===0){const D={app_name:"",hi:"",home:"",profile:"",settings:""};E({[a]:D})}else{const D=w.en||w[O[0]]||{},q={};Object.keys(D).forEach(U=>{q[U]=""}),E(U=>({...U,[a]:q}))}i(a),o(""),c(!1),e({title:"Language added",description:`Language '${a}' has been added. ${O.length===0?"Add your translation keys and":"Fill in the translations and"} save.`})},_=D=>{if(D==="en"){e({title:"Cannot delete English",description:"English is the default language and cannot be deleted",variant:"destructive"});return}const q={...P};delete q[D],E(q),r===D&&i("en"),e({title:"Language removed",description:`Language '${D}' has been removed. Click Save to apply changes.`})},k=(D,q)=>{E(U=>({...U,[r]:{...U[r],[D]:q}}))},R=async()=>{if(!t){e({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}h(!0);try{if(!(await ot("POST","/api/admin/translations",{translations:P,default_language:m})).ok)throw new Error("Failed to save translations");ze.invalidateQueries({queryKey:["/api/admin/translations"]}),e({title:"Translations saved",description:"All translations have been saved successfully"})}catch(D){e({title:"Error",description:D.message||"Failed to save translations",variant:"destructive"})}finally{h(!1)}},T=async()=>{try{const D=await fetch("/api/admin/translations/download",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!D.ok)throw new Error("Failed to download translations");const q=await D.blob(),U=window.URL.createObjectURL(q),z=document.createElement("a");z.href=U,z.download="translations.xml",document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(U),document.body.removeChild(z),e({title:"Download started",description:"Your translations XML file is downloading"})}catch(D){e({title:"Error",description:D.message||"Failed to download translations",variant:"destructive"})}},I=async D=>{var U;const q=(U=D.target.files)==null?void 0:U[0];if(q){if(!q.name.endsWith(".xml")){e({title:"Invalid file",description:"Please upload an XML file",variant:"destructive"});return}try{const z=new FormData;z.append("file",q);const L=await fetch("/api/admin/translations/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:z});if(!L.ok){const le=await L.json();throw new Error(le.error||"Failed to upload translations")}const B=await L.json();ze.invalidateQueries({queryKey:["/api/admin/translations"]}),e({title:"Upload successful",description:B.message||"Translations imported successfully"}),D.target.value=""}catch(z){e({title:"Error",description:z.message||"Failed to upload translations",variant:"destructive"}),D.target.value=""}}};return g?s.jsx(ee,{children:s.jsx(te,{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):O.length===0&&!l?s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"App Translations"}),s.jsx(Ee,{children:"No translations found. Add your first language to get started."})]}),s.jsxs(te,{children:[s.jsxs(Dt,{className:"mb-4",children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx(Ot,{children:"Start by adding English (en) as your default language, then add translation keys."})]}),s.jsxs(K,{onClick:()=>c(!0),"data-testid":"button-add-first-language",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add First Language"]}),l&&s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ne,{placeholder:"Code (e.g., en)",value:a,onChange:D=>o(D.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(K,{onClick:N,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(K,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]})]})]}):s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"App Translations"}),s.jsx(Ee,{children:"Manage translations for your mobile app. Download as XML, edit offline, and upload back."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{onClick:T,variant:"outline","data-testid":"button-download-xml",children:[s.jsx(BL,{className:"h-4 w-4 mr-2"}),"Download XML"]}),s.jsxs(K,{onClick:()=>{var D;return(D=document.getElementById("xml-upload-input"))==null?void 0:D.click()},variant:"outline","data-testid":"button-upload-xml",children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Upload XML"]}),s.jsx("input",{id:"xml-upload-input",type:"file",accept:".xml",onChange:I,className:"hidden","data-testid":"input-xml-upload"}),s.jsx(K,{onClick:R,disabled:d||!t,"data-testid":"button-save-translations",children:d?"Saving...":n?"Demo Mode - Read Only":"Save"})]})]})}),s.jsxs(te,{className:"space-y-6",children:[v!==void 0&&s.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground border-b pb-4",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Version:"})," ",v]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Select Language to Edit"}),s.jsxs(Dn,{value:r,onValueChange:i,children:[s.jsx(Cn,{"data-testid":"select-language",children:s.jsx(On,{})}),s.jsx(kn,{children:O.map(D=>{var q;return s.jsxs(de,{value:D,children:[D.toUpperCase()," - ",((q=P[D])==null?void 0:q.app_name)||"Language"]},D)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Default Language"}),s.jsxs(Dn,{value:m||O[0]||"en",onValueChange:p,children:[s.jsx(Cn,{"data-testid":"select-default-language",children:s.jsx(On,{placeholder:"Select default language"})}),s.jsx(kn,{children:O.map(D=>{var q;return s.jsxs(de,{value:D,children:[D.toUpperCase()," - ",((q=P[D])==null?void 0:q.app_name)||"Language"]},D)})})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[l?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{placeholder:"Code (e.g., es)",value:a,onChange:D=>o(D.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(K,{onClick:N,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(K,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]}):s.jsxs(K,{onClick:()=>c(!0),variant:"outline","data-testid":"button-add-language",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Language"]}),r!=="en"&&s.jsx(K,{onClick:()=>_(r),variant:"destructive",size:"sm","data-testid":"button-delete-language",children:s.jsx(vr,{className:"h-4 w-4"})})]}),s.jsxs(Dt,{className:"mb-4",children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsxs(Ot,{children:[s.jsx("strong",{children:"Dynamic Placeholders:"})," Use placeholders like ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@app_name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@provider"})," in your translations. These will be automatically replaced with actual values in the app."]})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"bg-muted px-4 py-3 border-b",children:s.jsxs("p",{className:"text-sm font-medium",children:["Editing ",r.toUpperCase()," (",C.length," keys)"]})}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"divide-y",children:C.map(D=>{var z,L;const q=(z=w.en)==null?void 0:z[D],U=r!=="en"&&q?q:`Enter ${r.toUpperCase()} translation for "${D}"`;return s.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Y,{htmlFor:`trans-${D}`,className:"text-xs text-muted-foreground font-mono",children:D}),s.jsx(ne,{id:`trans-${D}`,value:((L=P[r])==null?void 0:L[D])||"",onChange:B=>k(D,B.target.value),placeholder:U,"data-testid":`input-translation-${D}`})]})},D)})})})]}),C.length===0&&s.jsxs(Dt,{children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsx(Ot,{children:"No translation keys found. Add a language and start adding translations."})]})]})]})}function bY(){var j,P,E;const{toast:e}=kt(),[t,n]=f.useState(!1),[r,i]=f.useState(!1),{data:a}=Ve({queryKey:["/api/auth/session"]}),o=((j=a==null?void 0:a.data)==null?void 0:j.id)||((P=a==null?void 0:a.data)==null?void 0:P._id),{data:l,isLoading:c}=Ve({queryKey:[`/api/admin/profile/${o}`],enabled:!!o}),d=((E=l==null?void 0:l.data)==null?void 0:E.admin)||(l==null?void 0:l.admin)||(l==null?void 0:l.data)||l,[h,m]=f.useState({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||""}),[p,y]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""});f.useEffect(()=>{d&&m({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.full_name)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""})},[d]);const x=Ge({mutationFn:async O=>{const C={full_name:O.fullname,email:O.email,username:O.username};return ot("PATCH","/api/admin/profile",C)},onSuccess:()=>{ze.invalidateQueries({queryKey:[`/api/admin/profile/${o}`]}),ze.invalidateQueries({queryKey:["/api/auth/session"]}),n(!1),e({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:O=>{e({title:"Update failed",description:O.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),g=Ge({mutationFn:async O=>ot("POST","/api/admin/change-password",O),onSuccess:()=>{i(!1),y({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:"Password changed",description:"Your password has been changed successfully."})},onError:O=>{e({title:"Password change failed",description:O.message||"Failed to change password. Please try again.",variant:"destructive"})}}),S=O=>{O.preventDefault(),x.mutate(h)},w=O=>{if(O.preventDefault(),p.newPassword!==p.confirmPassword){e({title:"Passwords don't match",description:"New password and confirm password must match.",variant:"destructive"});return}if(p.newPassword.length<6){e({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}g.mutate({currentPassword:p.currentPassword,newPassword:p.newPassword})},v=O=>O.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2);return c?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and security"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"Profile Information"}),s.jsx(Ee,{children:"Update your personal details"})]}),!t&&s.jsxs(K,{onClick:()=>{m({fullname:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""}),n(!0)},"data-testid":"button-edit-profile",children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),s.jsx(te,{children:t?s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(Us,{className:"h-24 w-24",children:[s.jsx(Vs,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(zs,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?v(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"fullname",children:"Full Name"}),s.jsx(ne,{id:"fullname",value:h.fullname,onChange:O=>m({...h,fullname:O.target.value}),"data-testid":"input-fullname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"username",children:"Username"}),s.jsx(ne,{id:"username",value:h.username,onChange:O=>m({...h,username:O.target.value}),"data-testid":"input-username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email",children:"Email"}),s.jsx(ne,{id:"email",type:"email",value:h.email,onChange:O=>m({...h,email:O.target.value}),"data-testid":"input-email"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(K,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-edit",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(K,{type:"submit",disabled:x.isPending,"data-testid":"button-save-profile",children:[s.jsx(Ks,{className:"h-4 w-4 mr-2"}),x.isPending?"Saving...":"Save Changes"]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(Us,{className:"h-24 w-24",children:[s.jsx(Vs,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(zs,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?v(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-fullname",children:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-muted-foreground",children:"Username"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-username",children:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-email",children:(d==null?void 0:d.email)||"Not set"})]})]})]})})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"Change Password"}),s.jsx(Ee,{children:"Update your account password"})]}),!r&&s.jsxs(K,{onClick:()=>i(!0),variant:"outline","data-testid":"button-change-password",children:[s.jsx(_m,{className:"h-4 w-4 mr-2"}),"Change Password"]})]}),r&&s.jsx(te,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(ne,{id:"currentPassword",type:"password",value:p.currentPassword,onChange:O=>y({...p,currentPassword:O.target.value}),required:!0,"data-testid":"input-current-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"newPassword",children:"New Password"}),s.jsx(ne,{id:"newPassword",type:"password",value:p.newPassword,onChange:O=>y({...p,newPassword:O.target.value}),required:!0,minLength:6,"data-testid":"input-new-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(ne,{id:"confirmPassword",type:"password",value:p.confirmPassword,onChange:O=>y({...p,confirmPassword:O.target.value}),required:!0,minLength:6,"data-testid":"input-confirm-password"})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(K,{type:"button",variant:"outline",onClick:()=>{i(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},"data-testid":"button-cancel-password",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(K,{type:"submit",disabled:g.isPending,"data-testid":"button-save-password",children:[s.jsx(Ks,{className:"h-4 w-4 mr-2"}),g.isPending?"Changing...":"Change Password"]})]})]})})]})]})]})})}function NY(){const[e,t]=f.useState(!1),[n,r]=f.useState(void 0),[i,a]=f.useState(void 0),[o,l]=f.useState({from:"",to:"",limit:"50"}),[c,d]=f.useState({starting_after:"",ending_before:""}),m=(()=>{const R=new URLSearchParams;return o.limit&&R.append("limit",o.limit),o.from&&R.append("from",o.from),o.to&&R.append("to",o.to),c.starting_after&&R.append("starting_after",c.starting_after),c.ending_before&&R.append("ending_before",c.ending_before),R.toString()})(),{data:p,isLoading:y}=Ve({queryKey:["/api/admin/application-fees",m],queryFn:async()=>{const R=await fetch(`/api/admin/application-fees?${m}`);if(!R.ok)throw new Error("Failed to fetch fees");return R.json()}}),x=(p==null?void 0:p.data)||[],g=(p==null?void 0:p.has_more)||!1,S=x.reduce((R,T)=>R+(T.amount||0),0),w=new Date().getMonth(),v=new Date().getFullYear(),j=x.filter(R=>{const T=new Date(R.created*1e3);return T.getMonth()===w&&T.getFullYear()===v}).reduce((R,T)=>R+(T.amount||0),0),P=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R/100),E=R=>new Date(R*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=()=>{l({...o,from:n?Fs(n,"yyyy-MM-dd"):"",to:i?Fs(i,"yyyy-MM-dd"):""}),d({starting_after:"",ending_before:""})},C=()=>{r(void 0),a(void 0),l({from:"",to:"",limit:"50"}),d({starting_after:"",ending_before:""})},N=()=>{x.length>0&&d({starting_after:x[x.length-1].id,ending_before:""})},_=()=>{x.length>0&&d({starting_after:"",ending_before:x[0].id})},k=[o.from,o.to].filter(R=>R).length;return y?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading revenue..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Revenue"}),s.jsx("p",{className:"text-muted-foreground",children:"Platform revenue from client transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Fees (Current View)"}),s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-fees",children:P(S)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From current filter results"})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"This Month (Current View)"}),s.jsx(Wk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-fees",children:P(j)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Transactions"}),s.jsx(Mc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:x.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee transactions in current view"})]})]})]}),s.jsxs(ee,{className:"mb-6",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sd,{className:"h-5 w-5"}),s.jsx(oe,{children:"Filters"}),k>0&&s.jsxs(We,{variant:"secondary",children:[k," active"]})]}),s.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>t(!e),"data-testid":"button-toggle-filters",children:[e?"Hide":"Show"," Filters"]})]})}),e&&s.jsxs(te,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"From Date"}),s.jsxs(Vy,{children:[s.jsx(zy,{asChild:!0,children:s.jsxs(K,{variant:"outline",className:xe("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),"data-testid":"button-from-date",children:[s.jsx(Yo,{className:"mr-2 h-4 w-4"}),n?Fs(n,"PPP"):"Pick a date"]})}),s.jsx(sp,{className:"w-auto p-0",align:"start",children:s.jsx(np,{mode:"single",selected:n,onSelect:r,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"To Date"}),s.jsxs(Vy,{children:[s.jsx(zy,{asChild:!0,children:s.jsxs(K,{variant:"outline",className:xe("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),"data-testid":"button-to-date",children:[s.jsx(Yo,{className:"mr-2 h-4 w-4"}),i?Fs(i,"PPP"):"Pick a date"]})}),s.jsx(sp,{className:"w-auto p-0",align:"start",children:s.jsx(np,{mode:"single",selected:i,onSelect:a,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"limit-filter",children:"Results per page"}),s.jsxs(Dn,{value:o.limit,onValueChange:R=>l({...o,limit:R}),children:[s.jsx(Cn,{id:"limit-filter","data-testid":"select-limit-filter",children:s.jsx(On,{placeholder:"50"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"10",children:"10"}),s.jsx(de,{value:"25",children:"25"}),s.jsx(de,{value:"50",children:"50"}),s.jsx(de,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(K,{onClick:O,"data-testid":"button-apply-filters",children:"Apply Filters"}),s.jsxs(K,{variant:"outline",onClick:C,"data-testid":"button-clear-filters",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Revenue"}),s.jsx(Ee,{children:"List of platform fees collected from transactions"})]}),s.jsx(te,{children:x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No revenue found"}),k>0&&s.jsx(K,{variant:"outline",onClick:C,className:"mt-4","data-testid":"button-clear-filters-empty",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Status"})]})}),s.jsx("tbody",{children:x.map(R=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-fee-${R.id}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:E(R.created)})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:P(R.amount)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(We,{variant:R.refunded?"destructive":"default",className:"text-xs",children:R.refunded?"Refunded":"Collected"})})]},R.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",x.length," ",x.length===1?"fee":"fees"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:_,disabled:!c.starting_after&&!c.ending_before,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:N,disabled:!g,"data-testid":"button-next-page",children:["Next",s.jsx(xr,{className:"h-4 w-4 ml-1"})]})]})]})]})})]})]})})}const Xt=f.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Xt.displayName="Textarea";var _Y=Symbol("radix.slottable");function SY(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_Y,t}var M4="AlertDialog",[CY]=Fn(M4,[$I]),Zi=$I(),F4=e=>{const{__scopeAlertDialog:t,...n}=e,r=Zi(t);return s.jsx(t4,{...r,...n,modal:!0})};F4.displayName=M4;var kY="AlertDialogTrigger",EY=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Zi(n);return s.jsx(n4,{...i,...r,ref:t})});EY.displayName=kY;var TY="AlertDialogPortal",L4=e=>{const{__scopeAlertDialog:t,...n}=e,r=Zi(t);return s.jsx(s4,{...r,...n})};L4.displayName=TY;var PY="AlertDialogOverlay",$4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Zi(n);return s.jsx(lb,{...i,...r,ref:t})});$4.displayName=PY;var mc="AlertDialogContent",[AY,IY]=CY(mc),RY=SY("AlertDialogContent"),U4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Zi(n),o=f.useRef(null),l=Ye(t,o),c=f.useRef(null);return s.jsx(eq,{contentName:mc,titleName:V4,docsSlug:"alert-dialog",children:s.jsx(AY,{scope:n,cancelRef:c,children:s.jsxs(cb,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:pe(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(RY,{children:r}),s.jsx(OY,{contentRef:o})]})})})});U4.displayName=mc;var V4="AlertDialogTitle",z4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Zi(n);return s.jsx(db,{...i,...r,ref:t})});z4.displayName=V4;var B4="AlertDialogDescription",W4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Zi(n);return s.jsx(ub,{...i,...r,ref:t})});W4.displayName=B4;var DY="AlertDialogAction",H4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Zi(n);return s.jsx(hb,{...i,...r,ref:t})});H4.displayName=DY;var q4="AlertDialogCancel",K4=f.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=IY(q4,n),a=Zi(n),o=Ye(t,i);return s.jsx(hb,{...a,...r,ref:o})});K4.displayName=q4;var OY=({contentRef:e})=>{const t=`\`${mc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mc}\` by passing a \`${B4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},MY=F4,FY=L4,G4=$4,Y4=U4,Q4=H4,X4=K4,Z4=z4,J4=W4;const lg=MY,LY=FY,eR=f.forwardRef(({className:e,...t},n)=>s.jsx(G4,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));eR.displayName=G4.displayName;const Eh=f.forwardRef(({className:e,...t},n)=>s.jsxs(LY,{children:[s.jsx(eR,{}),s.jsx(Y4,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Eh.displayName=Y4.displayName;const Th=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Th.displayName="AlertDialogHeader";const Ph=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ph.displayName="AlertDialogFooter";const Ah=f.forwardRef(({className:e,...t},n)=>s.jsx(Z4,{ref:n,className:xe("text-lg font-semibold",e),...t}));Ah.displayName=Z4.displayName;const Ih=f.forwardRef(({className:e,...t},n)=>s.jsx(J4,{ref:n,className:xe("text-sm text-muted-foreground",e),...t}));Ih.displayName=J4.displayName;const Rh=f.forwardRef(({className:e,...t},n)=>s.jsx(Q4,{ref:n,className:xe(Vu(),e),...t}));Rh.displayName=Q4.displayName;const Dh=f.forwardRef(({className:e,...t},n)=>s.jsx(X4,{ref:n,className:xe(Vu({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Dh.displayName=X4.displayName;function $Y(){var po,di,md;const[e,t]=f.useState(1),[n,r]=f.useState(""),[i,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(!1),[h,m]=f.useState(!1),[p,y]=f.useState(""),[x,g]=f.useState(null),[S,w]=f.useState("txcd_99999999"),[v,j]=f.useState(""),[P,E]=f.useState(!1),[O,C]=f.useState(null),[N,_]=f.useState(!1),[k,R]=f.useState(null),[T,I]=f.useState(""),[D,q]=f.useState(!1),[U,z]=f.useState(null),[L,B]=f.useState(""),[le,ce]=f.useState(null),[W,Ce]=f.useState(""),[_e,De]=f.useState(!1),[He,X]=f.useState(!1),{externalApiUrl:Z}=kh(),[be,H]=f.useState(null),[fe,ge]=f.useState(""),{toast:ke}=kt(),st=10,Je=(()=>{const ue=new URLSearchParams;return ue.append("limit",st.toString()),ue.append("page",e.toString()),n&&ue.append("title",n),ue.toString()})(),{data:ut,isLoading:Jt}=Ve({queryKey:["/api/admin/categories",Je],queryFn:async()=>{const ue=await fetch(`/api/admin/categories?${Je}`);if(!ue.ok)throw new Error("Failed to fetch categories");return ue.json()}}),ct=((po=ut==null?void 0:ut.data)==null?void 0:po.categories)||[],$=((di=ut==null?void 0:ut.data)==null?void 0:di.pages)||1,G=((md=ut==null?void 0:ut.data)==null?void 0:md.totalDoc)||0,se=()=>{r(i),t(1)},Ne=()=>{a(""),r(""),t(1)},ye=Ge({mutationFn:async ue=>ot("POST","/api/admin/categories/bulk",{names:ue}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories"]}),ke({title:"Success",description:"Categories imported successfully"}),l(""),d(!1)},onError:ue=>{ke({title:"Error",description:ue.message||"Failed to import categories",variant:"destructive"})}}),he=()=>{const ue=o.split(`
`).map(mt=>mt.trim()).filter(mt=>mt.length>0);if(ue.length===0){ke({title:"Error",description:"Please enter at least one category name",variant:"destructive"});return}ye.mutate(ue)},Fe=Ge({mutationFn:async({name:ue,icon:mt,tax_code:en,commission:go,commission_enabled:Cr})=>{console.log("Starting category mutation with name:",ue,"icon:",mt==null?void 0:mt.name,"tax_code:",en,"commission:",go,"commission_enabled:",Cr);const vn=new FormData;vn.append("name",ue),vn.append("tax_code",en),vn.append("commission",go),vn.append("commission_enabled",String(Cr)),mt&&vn.append("images",mt),console.log("Sending request to /api/admin/categories");const xo=localStorage.getItem("adminAccessToken"),ui=localStorage.getItem("accessToken"),Ts=localStorage.getItem("user"),hs={};xo&&(hs["x-admin-token"]=xo),ui&&(hs["x-access-token"]=ui,hs.Authorization=`Bearer ${ui}`),Ts&&(hs["x-user-data"]=btoa(unescape(encodeURIComponent(Ts))));try{const Yn=await fetch("/api/admin/categories",{method:"POST",headers:hs,body:vn,credentials:"include"});if(console.log("Response received:",Yn.status,Yn.statusText),!Yn.ok){const hg=await Yn.json();throw new Error(hg.error||"Failed to add category")}const Ji=await Yn.json();return console.log("Success data:",Ji),Ji}catch(Yn){throw console.error("Fetch error:",Yn),Yn}},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories"]}),ke({title:"Success",description:"Category added successfully"}),y(""),g(null),w("txcd_99999999"),j(""),E(!1),m(!1)},onError:ue=>{ke({title:"Error",description:ue.message||"Failed to add category",variant:"destructive"})}}),ft=()=>{if(!p.trim()){ke({title:"Error",description:"Please enter a category name",variant:"destructive"});return}Fe.mutate({name:p,icon:x,tax_code:S,commission:v,commission_enabled:P})},yt=Ge({mutationFn:async ue=>ot("DELETE",`/api/admin/categories/${ue}`),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories"]}),ke({title:"Success",description:"Category deleted successfully"}),C(null)},onError:ue=>{ke({title:"Error",description:ue.message||"Failed to delete category",variant:"destructive"})}}),Tn=()=>{O&&yt.mutate(O)},Sr=Ge({mutationFn:async({id:ue,name:mt,icon:en,commission:go,commission_enabled:Cr})=>{const vn=new FormData;vn.append("name",mt),vn.append("commission",go),vn.append("commission_enabled",String(Cr)),en&&vn.append("images",en);const xo=localStorage.getItem("adminAccessToken"),ui=localStorage.getItem("accessToken"),Ts=localStorage.getItem("user"),hs={};xo&&(hs["x-admin-token"]=xo),ui&&(hs["x-access-token"]=ui,hs.Authorization=`Bearer ${ui}`),Ts&&(hs["x-user-data"]=btoa(unescape(encodeURIComponent(Ts))));const Yn=await fetch(`/api/admin/categories/${ue}`,{method:"PUT",headers:hs,body:vn,credentials:"include"});if(!Yn.ok){const Ji=await Yn.json();throw new Error(Ji.error||"Failed to update category")}return Yn.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories"]}),ke({title:"Success",description:"Category updated successfully"}),q(!1),z(null),B(""),ce(null),Ce(""),De(!1)},onError:ue=>{ke({title:"Error",description:ue.message||"Failed to update category",variant:"destructive"})}}),ds=()=>{if(!U||!L.trim()){ke({title:"Error",description:"Please enter a category name",variant:"destructive"});return}Sr.mutate({id:U._id,name:L,icon:le,commission:W,commission_enabled:_e})},fd=ue=>{var mt;z(ue),B(ue.name),ce(null),Ce(((mt=ue.commission)==null?void 0:mt.toString())||""),De(ue.commission_enabled||!1),q(!0)},us=Ge({mutationFn:async({categoryId:ue,parentId:mt})=>ot("PUT",`/api/admin/categories/${ue}/convert`,{targetType:"child",parentId:mt}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories"]}),ke({title:"Success",description:"Category converted to subcategory successfully"}),X(!1),H(null),ge("")},onError:ue=>{ke({title:"Error",description:ue.message||"Failed to convert category",variant:"destructive"})}}),li=()=>{if(!be||!fe){ke({title:"Error",description:"Please select a parent category",variant:"destructive"});return}if(be._id===fe){ke({title:"Error",description:"Cannot convert a category to be its own subcategory",variant:"destructive"});return}us.mutate({categoryId:be._id,parentId:fe})},ci=Ge({mutationFn:async({categoryId:ue,names:mt})=>ot("POST",`/api/admin/categories/${ue}/subcategories/bulk`,{names:mt}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories"]}),ke({title:"Success",description:"Subcategories imported successfully"}),I(""),_(!1),R(null)},onError:ue=>{ke({title:"Error",description:ue.message||"Failed to import subcategories",variant:"destructive"})}}),Xs=()=>{if(!k)return;const ue=T.split(`
`).map(mt=>mt.trim()).filter(mt=>mt.length>0);if(ue.length===0){ke({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}ci.mutate({categoryId:k.id,names:ue})};return Jt?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]})})}):s.jsxs(Me,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage product categories"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search categories by name...",value:i,onChange:ue=>a(ue.target.value),onKeyDown:ue=>ue.key==="Enter"&&se(),className:"pl-10","data-testid":"input-search-categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{onClick:se,"data-testid":"button-search",children:"Search"}),n&&s.jsx(K,{variant:"outline",onClick:Ne,"data-testid":"button-clear-search",children:"Clear"}),s.jsxs(vs,{open:h,onOpenChange:m,children:[s.jsx(Wu,{asChild:!0,children:s.jsxs(K,{"data-testid":"button-add-category",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Add New Category"}),s.jsx(Lr,{children:"Create a new category with an optional icon image."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"category-name",children:"Category Name"}),s.jsx(ne,{id:"category-name",placeholder:"Enter category name",value:p,onChange:ue=>y(ue.target.value),"data-testid":"input-category-name"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"category-tax-code",children:"Tax Code"}),s.jsx(ne,{id:"category-tax-code",placeholder:"Enter tax code",value:S,onChange:ue=>w(ue.target.value),"data-testid":"input-category-tax-code"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"category-commission",children:"Commission Rate (%)"}),s.jsx(ne,{id:"category-commission",type:"number",placeholder:"Enter commission rate (e.g., 5 for 5%)",value:v,onChange:ue=>j(ue.target.value),"data-testid":"input-category-commission",min:"0",max:"100",step:"0.01"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{htmlFor:"category-commission-enabled",children:"Enable Commission"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply commission to products in this category"})]}),s.jsx(Ri,{id:"category-commission-enabled",checked:P,onCheckedChange:E,"data-testid":"switch-category-commission-enabled"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"category-icon",children:"Category Icon (Optional)"}),s.jsx(ne,{id:"category-icon",type:"file",accept:"image/*",onChange:ue=>{var mt;return g(((mt=ue.target.files)==null?void 0:mt[0])||null)},"data-testid":"input-category-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>{m(!1),y(""),g(null),w("txcd_99999999"),j(""),E(!1)},"data-testid":"button-cancel-add-category",children:"Cancel"}),s.jsx(K,{onClick:ft,disabled:Fe.isPending,"data-testid":"button-submit-add-category",children:Fe.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(vs,{open:c,onOpenChange:d,children:[s.jsx(Wu,{asChild:!0,children:s.jsxs(K,{variant:"outline","data-testid":"button-bulk-import",children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Bulk Import"]})}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Bulk Import Categories"}),s.jsx(Lr,{children:"Enter category names, one per line. They will be added to the system."})]}),s.jsx(Xt,{placeholder:`Category 1
Category 2
Category 3`,value:o,onChange:ue=>l(ue.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-import",children:"Cancel"}),s.jsx(K,{onClick:he,disabled:ye.isPending,"data-testid":"button-submit-import",children:ye.isPending?"Importing...":"Import"})]})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"All Categories"}),s.jsx(Ee,{children:"Product categories in the platform"})]}),s.jsx(te,{children:ct.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Commission"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Subcategories"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:ct.map(ue=>{var mt;return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-category-${ue._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:ue.icon?s.jsx("img",{src:Yc(ue.icon,Z),alt:ue.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-category-${ue._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Tu,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(nu,{href:`/admin/categories/${ue._id}/subcategories`,children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("span",{className:"font-medium text-foreground group-hover:text-primary transition-colors","data-testid":`text-category-name-${ue._id}`,children:ue.name}),s.jsx(xr,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:ue.type||"N/A"})}),s.jsx("td",{className:"py-3 px-4",children:ue.commission_enabled?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[ue.commission,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Enabled)"})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Disabled"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:((mt=ue.subCategories)==null?void 0:mt.length)||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${ue._id}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>fd(ue),"data-testid":`button-edit-category-${ue._id}`,children:[s.jsx(nj,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Qt,{onClick:()=>{R({id:ue._id,name:ue.name}),_(!0)},"data-testid":`button-add-subcategories-${ue._id}`,children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Subcategories"]}),s.jsxs(Qt,{onClick:()=>{H(ue),X(!0)},"data-testid":`button-convert-to-child-${ue._id}`,children:[s.jsx(ML,{className:"h-4 w-4 mr-2"}),"Convert to Subcategory"]}),s.jsx(Jr,{}),s.jsxs(Qt,{onClick:()=>C(ue._id),"data-testid":`button-delete-category-${ue._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(vr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},ue._id)})})]})})})]}),ct.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",e," of ",$," (",G," total categories)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>t(ue=>Math.max(1,ue-1)),disabled:e===1,"data-testid":"button-prev-page",children:[s.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>t(ue=>ue+1),disabled:e>=$,"data-testid":"button-next-page",children:["Next",s.jsx(xr,{className:"h-4 w-4 ml-1"})]})]})]})]}),s.jsx(vs,{open:He,onOpenChange:ue=>{X(ue),ue||(H(null),ge(""))},children:s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Convert to Subcategory"}),s.jsxs(Lr,{children:['Convert "',be==null?void 0:be.name,'" to a subcategory by selecting its parent category.']})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"parent-category",children:"Parent Category"}),s.jsxs(Dn,{value:fe,onValueChange:ge,children:[s.jsx(Cn,{id:"parent-category","data-testid":"select-parent-category",children:s.jsx(On,{placeholder:"Select a parent category"})}),s.jsx(kn,{children:ct.filter(ue=>ue._id!==(be==null?void 0:be._id)).map(ue=>s.jsx(de,{value:ue._id,children:ue.name},ue._id))})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>{X(!1),H(null),ge("")},"data-testid":"button-cancel-convert",children:"Cancel"}),s.jsx(K,{onClick:li,disabled:us.isPending,"data-testid":"button-submit-convert",children:us.isPending?"Converting...":"Convert"})]})]})}),s.jsx(vs,{open:D,onOpenChange:ue=>{q(ue),ue||(z(null),B(""),ce(null))},children:s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Edit Category"}),s.jsx(Lr,{children:"Update the category name and icon."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"edit-category-name",children:"Category Name"}),s.jsx(ne,{id:"edit-category-name",placeholder:"Enter category name",value:L,onChange:ue=>B(ue.target.value),"data-testid":"input-edit-category-name"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"edit-category-commission",children:"Commission Rate (%)"}),s.jsx(ne,{id:"edit-category-commission",type:"number",placeholder:"Enter commission rate (e.g., 5 for 5%)",value:W,onChange:ue=>Ce(ue.target.value),"data-testid":"input-edit-category-commission",min:"0",max:"100",step:"0.01"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{htmlFor:"edit-category-commission-enabled",children:"Enable Commission"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply commission to products in this category"})]}),s.jsx(Ri,{id:"edit-category-commission-enabled",checked:_e,onCheckedChange:De,"data-testid":"switch-edit-category-commission-enabled"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"edit-category-icon",children:"Category Icon (Optional)"}),s.jsx(ne,{id:"edit-category-icon",type:"file",accept:"image/*",onChange:ue=>{var mt;return ce(((mt=ue.target.files)==null?void 0:mt[0])||null)},"data-testid":"input-edit-category-icon"}),(U==null?void 0:U.icon)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Icon:"}),s.jsx("img",{src:Yc(U.icon,Z),alt:U.name,className:"w-16 h-16 object-cover rounded-md"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>{q(!1),z(null),B(""),ce(null),Ce(""),De(!1)},"data-testid":"button-cancel-edit-category",children:"Cancel"}),s.jsx(K,{onClick:ds,disabled:Sr.isPending,"data-testid":"button-submit-edit-category",children:Sr.isPending?"Updating...":"Update"})]})]})}),s.jsx(vs,{open:N,onOpenChange:_,children:s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Bulk Import Subcategories"}),s.jsxs(Lr,{children:["Add subcategories to ",k==null?void 0:k.name,". Enter one subcategory name per line."]})]}),s.jsx(Xt,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:T,onChange:ue=>I(ue.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories-from-categories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>{_(!1),I(""),R(null)},"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(K,{onClick:Xs,disabled:ci.isPending,"data-testid":"button-submit-import-subcategories",children:ci.isPending?"Importing...":"Import"})]})]})}),s.jsx(lg,{open:!!O,onOpenChange:ue=>!ue&&C(null),children:s.jsxs(Eh,{children:[s.jsxs(Th,{children:[s.jsx(Ah,{children:"Delete Category"}),s.jsx(Ih,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),s.jsxs(Ph,{children:[s.jsx(Dh,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Rh,{onClick:Tn,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:yt.isPending?"Deleting...":"Delete"})]})]})})]})}function UY({icon:e,name:t,externalApiUrl:n}){const[r,i]=f.useState(!1),a=e&&n?Yc(e,n):null;return!a||r?s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Tu,{className:"h-6 w-6 text-muted-foreground"})}):s.jsx("img",{src:a,alt:t,className:"w-16 h-16 object-cover rounded-md",onError:()=>i(!0)})}function VY(){qt();const[,e]=yl("/admin/categories/:categoryId/subcategories"),t=e==null?void 0:e.categoryId,[n,r]=f.useState(""),[i,a]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(""),[h,m]=f.useState(null),[p,y]=f.useState(null),[x,g]=f.useState(!1),[S,w]=f.useState(null),[v,j]=f.useState(""),[P,E]=f.useState(null),[O,C]=f.useState(""),[N,_]=f.useState(!1),{toast:k}=kt(),{externalApiUrl:R}=kh(),{data:T,isLoading:I}=Ve({queryKey:["/api/admin/categories",t],queryFn:async()=>{const X=await fetch(`/api/admin/categories/${t}`);if(!X.ok)throw new Error("Failed to fetch category");return X.json()},enabled:!!t}),D=T==null?void 0:T.data,q=(D==null?void 0:D.subCategories)||[],U=Ge({mutationFn:async X=>ot("POST",`/api/admin/categories/${t}/subcategories/bulk`,{names:X}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories",t]}),ze.invalidateQueries({queryKey:["/api/admin/categories"]}),k({title:"Success",description:"Subcategories imported successfully"}),r(""),a(!1)},onError:X=>{k({title:"Error",description:X.message||"Failed to import subcategories",variant:"destructive"})}}),z=()=>{const X=n.split(`
`).map(Z=>Z.trim()).filter(Z=>Z.length>0);if(X.length===0){k({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}U.mutate(X)},L=Ge({mutationFn:async({name:X,icon:Z,parentId:be})=>{const H=new FormData;H.append("name",X),H.append("category",be),H.append("type","child"),Z&&H.append("images",Z);const fe=await fetch("/api/admin/subcategories",{method:"POST",body:H});if(!fe.ok){const ge=await fe.json();throw new Error(ge.error||"Failed to add subcategory")}return fe.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories",t]}),ze.invalidateQueries({queryKey:["/api/admin/categories"]}),k({title:"Success",description:"Subcategory added successfully"}),d(""),m(null),l(!1)},onError:X=>{k({title:"Error",description:X.message||"Failed to add subcategory",variant:"destructive"})}}),B=()=>{if(!c.trim()){k({title:"Error",description:"Please enter a subcategory name",variant:"destructive"});return}if(!t){k({title:"Error",description:"Category ID is missing",variant:"destructive"});return}L.mutate({name:c,icon:h,parentId:t})},le=Ge({mutationFn:async X=>ot("DELETE",`/api/admin/subcategories/${X}`),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories",t]}),ze.invalidateQueries({queryKey:["/api/admin/categories"]}),k({title:"Success",description:"Subcategory deleted successfully"}),y(null)},onError:X=>{k({title:"Error",description:X.message||"Failed to delete subcategory",variant:"destructive"})}}),ce=()=>{p&&le.mutate(p)},W=Ge({mutationFn:async X=>ot("PUT",`/api/admin/categories/${X}/convert`,{targetType:"parent"}),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories",t]}),ze.invalidateQueries({queryKey:["/api/admin/categories"]}),k({title:"Success",description:"Subcategory converted to parent category successfully"})},onError:X=>{k({title:"Error",description:X.message||"Failed to convert subcategory",variant:"destructive"})}}),Ce=X=>{W.mutate(X)},_e=Ge({mutationFn:async({id:X,name:Z,icon:be,commission:H,commission_enabled:fe})=>{const ge=new FormData;ge.append("name",Z),ge.append("commission",H),ge.append("commission_enabled",String(fe)),be&&ge.append("images",be);const ke=localStorage.getItem("adminAccessToken"),st=localStorage.getItem("accessToken"),Be=localStorage.getItem("user"),Je={};ke&&(Je["x-admin-token"]=ke),st&&(Je["x-access-token"]=st,Je.Authorization=`Bearer ${st}`),Be&&(Je["x-user-data"]=btoa(unescape(encodeURIComponent(Be))));const ut=await fetch(`/api/admin/subcategories/${X}`,{method:"PUT",headers:Je,body:ge,credentials:"include"});if(!ut.ok){const Jt=await ut.json();throw new Error(Jt.error||"Failed to update subcategory")}return ut.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/categories",t]}),ze.invalidateQueries({queryKey:["/api/admin/categories"]}),k({title:"Success",description:"Subcategory updated successfully"}),g(!1),w(null),j(""),E(null),C(""),_(!1)},onError:X=>{k({title:"Error",description:X.message||"Failed to update subcategory",variant:"destructive"})}}),De=()=>{if(!S||!v.trim()){k({title:"Error",description:"Please enter a subcategory name",variant:"destructive"});return}_e.mutate({id:S._id,name:v,icon:P,commission:O,commission_enabled:N})},He=X=>{var Z;w(X),j(X.name),E(null),C(((Z=X.commission)==null?void 0:Z.toString())||""),_(X.commission_enabled||!1),g(!0)};return I?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading subcategories..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(nu,{href:"/admin/categories",children:s.jsxs(K,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-to-categories",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[D!=null&&D.icon?s.jsx("img",{src:Yc(D.icon,R),alt:D.name,className:"w-20 h-20 object-cover rounded-lg"}):s.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:s.jsx(Tu,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:(D==null?void 0:D.name)||"Category"}),s.jsxs("p",{className:"text-muted-foreground",children:[q.length," subcategorie",q.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"mb-6 flex justify-end gap-2",children:[s.jsxs(vs,{open:o,onOpenChange:l,children:[s.jsx(Wu,{asChild:!0,children:s.jsxs(K,{"data-testid":"button-add-subcategory",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]})}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Add New Subcategory"}),s.jsxs(Lr,{children:["Create a new subcategory under ",D==null?void 0:D.name," with an optional icon image."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"subcategory-name",children:"Subcategory Name"}),s.jsx(ne,{id:"subcategory-name",placeholder:"Enter subcategory name",value:c,onChange:X=>d(X.target.value),"data-testid":"input-subcategory-name"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"subcategory-icon",children:"Subcategory Icon (Optional)"}),s.jsx(ne,{id:"subcategory-icon",type:"file",accept:"image/*",onChange:X=>{var Z;return m(((Z=X.target.files)==null?void 0:Z[0])||null)},"data-testid":"input-subcategory-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>{l(!1),d(""),m(null)},"data-testid":"button-cancel-add-subcategory",children:"Cancel"}),s.jsx(K,{onClick:B,disabled:L.isPending,"data-testid":"button-submit-add-subcategory",children:L.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(vs,{open:i,onOpenChange:a,children:[s.jsx(Wu,{asChild:!0,children:s.jsxs(K,{variant:"outline","data-testid":"button-bulk-import-subcategories",children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Bulk Import Subcategories"]})}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Bulk Import Subcategories"}),s.jsxs(Lr,{children:["Enter subcategory names, one per line. They will be added to ",D==null?void 0:D.name,"."]})]}),s.jsx(Xt,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:n,onChange:X=>r(X.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(K,{onClick:z,disabled:U.isPending,"data-testid":"button-submit-import-subcategories",children:U.isPending?"Importing...":"Import"})]})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Subcategories"}),s.jsxs(Ee,{children:["All subcategories under ",D==null?void 0:D.name]})]}),s.jsx(te,{children:q.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No subcategories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Commission"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Followers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Viewers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:q.map(X=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-subcategory-${X._id}`,children:[s.jsx("td",{className:"py-3 px-4","data-testid":`img-subcategory-${X._id}`,children:s.jsx(UY,{icon:X.icon,name:X.name,externalApiUrl:R})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-subcategory-name-${X._id}`,children:X.name})}),s.jsx("td",{className:"py-3 px-4",children:X.commission_enabled?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[X.commission,"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(Enabled)"})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Disabled"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:X.followersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:X.viewersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(ho,{children:[s.jsx(fo,{asChild:!0,children:s.jsx(K,{variant:"ghost",size:"sm","data-testid":`button-actions-${X._id}`,children:s.jsx(jl,{className:"h-4 w-4"})})}),s.jsxs(Xi,{align:"end",children:[s.jsxs(Qt,{onClick:()=>He(X),"data-testid":`button-edit-subcategory-${X._id}`,children:[s.jsx(nj,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(Qt,{onClick:()=>Ce(X._id),"data-testid":`button-convert-to-parent-${X._id}`,children:[s.jsx(FL,{className:"h-4 w-4 mr-2"}),"Convert to Parent"]}),s.jsx(Jr,{}),s.jsxs(Qt,{onClick:()=>y(X._id),"data-testid":`button-delete-subcategory-${X._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(vr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},X._id))})]})})})]}),s.jsx(lg,{open:!!p,onOpenChange:X=>!X&&y(null),children:s.jsxs(Eh,{children:[s.jsxs(Th,{children:[s.jsx(Ah,{children:"Delete Subcategory"}),s.jsx(Ih,{children:"Are you sure you want to delete this subcategory? This action cannot be undone."})]}),s.jsxs(Ph,{children:[s.jsx(Dh,{"data-testid":"button-cancel-delete-subcategory",children:"Cancel"}),s.jsx(Rh,{onClick:ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete-subcategory",children:le.isPending?"Deleting...":"Delete"})]})]})}),s.jsx(vs,{open:x,onOpenChange:g,children:s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"Edit Subcategory"}),s.jsx(Lr,{children:"Update the subcategory details."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"edit-subcategory-name",children:"Subcategory Name"}),s.jsx(ne,{id:"edit-subcategory-name",placeholder:"Enter subcategory name",value:v,onChange:X=>j(X.target.value),"data-testid":"input-edit-subcategory-name"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"edit-subcategory-commission",children:"Commission Rate (%)"}),s.jsx(ne,{id:"edit-subcategory-commission",type:"number",placeholder:"Enter commission rate (e.g., 5 for 5%)",value:O,onChange:X=>C(X.target.value),"data-testid":"input-edit-subcategory-commission",min:"0",max:"100",step:"0.01"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{htmlFor:"edit-subcategory-commission-enabled",children:"Enable Commission"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Apply commission to products in this subcategory"})]}),s.jsx(Ri,{id:"edit-subcategory-commission-enabled",checked:N,onCheckedChange:_,"data-testid":"switch-edit-subcategory-commission-enabled"})]}),s.jsxs("div",{children:[s.jsx(Y,{htmlFor:"edit-subcategory-icon",children:"Subcategory Icon (Optional)"}),s.jsx(ne,{id:"edit-subcategory-icon",type:"file",accept:"image/*",onChange:X=>{var Z;return E(((Z=X.target.files)==null?void 0:Z[0])||null)},"data-testid":"input-edit-subcategory-icon"}),(S==null?void 0:S.icon)&&!P&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Current icon will be kept if no new file is selected"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>{g(!1),w(null),j(""),E(null),C(""),_(!1)},"data-testid":"button-cancel-edit-subcategory",children:"Cancel"}),s.jsx(K,{onClick:De,disabled:_e.isPending,"data-testid":"button-submit-edit-subcategory",children:_e.isPending?"Saving...":"Save"})]})]})})]})})}function zY(){var E,O;const[,e]=qt(),[t,n]=f.useState(1),[r,i]=f.useState("all"),[a,o]=f.useState(""),[l,c]=f.useState(!1),d=10,h=new URLSearchParams;h.append("page",t.toString()),h.append("limit",d.toString()),r!=="all"&&h.append("status",r);const{data:m,isLoading:p}=Ve({queryKey:["/api/admin/disputes",t,r],queryFn:async()=>{const C=await fetch(`/api/admin/disputes?${h.toString()}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch disputes");return await C.json()}}),x=(((E=m==null?void 0:m.data)==null?void 0:E.disputes)||(m==null?void 0:m.data)||[]).filter(C=>C.orderId&&C.orderId._id),g=((O=m==null?void 0:m.data)==null?void 0:O.pages)||1,S=x.filter(C=>{var T,I,D,q,U;if(!a)return!0;const N=a.toLowerCase(),_=((I=(T=C.userId)==null?void 0:T.userName)==null?void 0:I.toLowerCase())||"",k=((q=(D=C.orderId)==null?void 0:D._id)==null?void 0:q.toLowerCase())||"",R=((U=C.reason)==null?void 0:U.toLowerCase())||"";return _.includes(N)||k.includes(N)||R.includes(N)}),w=C=>{switch(C==null?void 0:C.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},v=C=>{var N;return((N=C==null?void 0:C.replace(/_/g," "))==null?void 0:N.replace(/\b\w/g,_=>_.toUpperCase()))||"N/A"},j=()=>{o(""),i("all"),n(1)},P=a||r!=="all";return p?s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]}),s.jsx(ee,{children:s.jsx(te,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading disputes..."})]})})})]})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(rc,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]})]})}),s.jsxs(ee,{className:"mb-6",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sd,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(oe,{children:"Filters"})]}),s.jsx(K,{variant:"ghost",size:"sm",onClick:()=>c(!l),"data-testid":"button-toggle-filters",children:l?"Hide":"Show"})]})}),l&&s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"User, Order ID, Reason...",value:a,onChange:C=>o(C.target.value),className:"pl-10","data-testid":"input-search-disputes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),s.jsxs(Dn,{value:r,onValueChange:i,children:[s.jsx(Cn,{"data-testid":"select-status-filter",children:s.jsx(On,{})}),s.jsxs(kn,{children:[s.jsx(de,{value:"all",children:"All Statuses"}),s.jsx(de,{value:"submitted",children:"Submitted"}),s.jsx(de,{value:"under_review",children:"Under Review"}),s.jsx(de,{value:"resolved",children:"Resolved"}),s.jsx(de,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"flex items-end",children:P&&s.jsxs(K,{variant:"outline",onClick:j,className:"w-full","data-testid":"button-clear-filters",children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{children:["All Disputes (",S.length,")"]}),s.jsx(Ee,{children:"Click on a dispute to view details and resolve"})]}),s.jsxs(te,{children:[S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No disputes found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Order ID"}),s.jsx(ie,{children:"User"}),s.jsx(ie,{children:"Reason"}),s.jsx(ie,{children:"Status"}),s.jsx(ie,{children:"Order Total"}),s.jsx(ie,{children:"Actions"})]})}),s.jsx(dn,{children:S.map(C=>{var T,I,D,q,U,z,L,B,le,ce;const N=((I=(T=C.orderId)==null?void 0:T.items)==null?void 0:I.reduce((W,Ce)=>W+(Ce.price||0),0))||0,_=((D=C.orderId)==null?void 0:D.tax)||0,k=((q=C.orderId)==null?void 0:q.shipping_fee)||0,R=N+_+k;return s.jsxs(rt,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-dispute-${C._id}`,children:[s.jsxs(ae,{className:"font-mono text-sm",children:[(z=(U=C.orderId)==null?void 0:U._id)==null?void 0:z.substring(0,8),"..."]}),s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:((B=(L=C.userId)==null?void 0:L.userName)==null?void 0:B.charAt(0).toUpperCase())||"U"})}),s.jsx("span",{children:((le=C.userId)==null?void 0:le.userName)||"Unknown"})]})}),s.jsx(ae,{children:v(C.reason)}),s.jsx(ae,{children:s.jsx(We,{variant:w(C.status),children:((ce=C.status)==null?void 0:ce.replace(/_/g," "))||"Unknown"})}),s.jsxs(ae,{className:"font-medium",children:["$",R.toFixed(2)]}),s.jsx(ae,{children:s.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>{var W;return e(`/admin/disputes/${(W=C.orderId)==null?void 0:W._id}`)},"data-testid":`button-view-dispute-${C._id}`,children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"View"]})})]},C._id)})})]})}),S.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",g]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",size:"sm",onClick:()=>n(C=>Math.max(1,C-1)),disabled:t===1,"data-testid":"button-prev-page",children:"Previous"}),s.jsx(K,{variant:"outline",size:"sm",onClick:()=>n(C=>C+1),disabled:t>=g,"data-testid":"button-next-page",children:"Next"})]})]})]})]})]})})}var BY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WY=BY.reduce((e,t)=>{const n=ph(`Primitive.${t}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),HY="Separator",oS="horizontal",qY=["horizontal","vertical"],tR=f.forwardRef((e,t)=>{const{decorative:n,orientation:r=oS,...i}=e,a=KY(r)?r:oS,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(WY.div,{"data-orientation":a,...l,...i,ref:t})});tR.displayName=HY;function KY(e){return qY.includes(e)}var nR=tR;const ar=f.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(nR,{ref:i,decorative:n,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));ar.displayName=nR.displayName;function GY(){var _,k,R,T,I,D,q,U,z,L,B,le,ce;const[,e]=yl("/admin/disputes/:disputeId"),[,t]=qt(),{toast:n}=kt(),r=e==null?void 0:e.disputeId,{externalApiUrl:i}=kh(),[a,o]=f.useState(""),[l,c]=f.useState(!1),[d,h]=f.useState(null),{data:m,isLoading:p}=Ve({queryKey:["/api/admin/disputes",r],queryFn:async()=>{const W=await fetch(`/api/admin/disputes/${r}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch dispute");return await W.json()},enabled:!!r}),y=m==null?void 0:m.data,x=Ge({mutationFn:async({decision:W})=>{if(!y||!y.orderId)throw new Error("Dispute data not available");let Ce;if(W==="buyer"?Ce=y.orderId.customer||"":Ce=y.orderId.seller||"",!Ce)throw new Error(`Could not find ${W} ID in order data`);return ot("POST",`/api/admin/disputes/${y._id}/resolve`,{favored:Ce,final_comments:a})},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/disputes"]}),n({title:"Success",description:"Dispute resolved successfully"}),t("/admin/disputes")},onError:W=>{n({title:"Error",description:W.message||"Failed to resolve dispute",variant:"destructive"})}}),g=W=>{h(W),c(!0)},S=()=>{d&&(x.mutate({decision:d}),c(!1))},w=W=>{switch(W==null?void 0:W.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},v=W=>{var Ce;return((Ce=W==null?void 0:W.replace(/_/g," "))==null?void 0:Ce.replace(/\b\w/g,_e=>_e.toUpperCase()))||"N/A"},j=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(p)return s.jsx(Me,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading dispute..."})]})})});if(!y)return s.jsx(Me,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(rc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Dispute not found"}),s.jsxs(K,{variant:"outline",className:"mt-4",onClick:()=>t("/admin/disputes"),"data-testid":"button-back-to-disputes",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]})]})})});const P=((k=(_=y.orderId)==null?void 0:_.items)==null?void 0:k.reduce((W,Ce)=>W+(Ce.price||0)*(Ce.quantity||1),0))||0,E=((R=y.orderId)==null?void 0:R.tax)||0,O=((T=y.orderId)==null?void 0:T.shipping_fee)||0,C=P+E+O,N=((I=y.status)==null?void 0:I.toLowerCase())==="resolved";return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(K,{variant:"ghost",onClick:()=>t("/admin/disputes"),className:"mb-4","data-testid":"button-back",children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(rc,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dispute Resolution"}),s.jsxs("p",{className:"text-muted-foreground",children:["Case ID: ",y._id]})]})]}),s.jsx(We,{variant:w(y.status),className:"text-sm",children:(D=y.status)==null?void 0:D.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(rc,{className:"h-5 w-5"}),"Dispute Details"]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Reason"}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:v(y.reason)})]}),s.jsx(ar,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer's Statement"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:y.details||"No details provided"})]}),y.seller_response&&s.jsxs(s.Fragment,{children:[s.jsx(ar,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Seller's Response"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:y.seller_response})]})]}),s.jsx(ar,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Submitted On"}),s.jsx("p",{className:"mt-1",children:j(y.createdAt)})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Wa,{className:"h-5 w-5"}),"Order Details"]}),s.jsxs(Ee,{children:["Order ID: ",(q=y.orderId)==null?void 0:q._id]})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:"Items"}),s.jsx("div",{className:"space-y-3",children:(z=(U=y.orderId)==null?void 0:U.items)==null?void 0:z.map((W,Ce)=>{var _e,De,He,X;return s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border rounded-lg","data-testid":`item-${W._id}`,children:[(De=(_e=W.productId)==null?void 0:_e.images)!=null&&De[0]?s.jsx("img",{src:Yc(W.productId.images[0],i),alt:W.productId.name,className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:s.jsx(on,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((He=W.productId)==null?void 0:He.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",W.quantity||1]}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:["$",(X=W.price)==null?void 0:X.toFixed(2)]})]})]},W._id||Ce)})})]}),s.jsx(ar,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",P.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",E.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{children:["$",O.toFixed(2)]})]}),s.jsx(ar,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",C.toFixed(2)]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[s.jsx(Gs,{className:"h-4 w-4"}),"Customer"]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-primary",children:((B=(L=y.userId)==null?void 0:L.userName)==null?void 0:B.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((le=y.userId)==null?void 0:le.userName)||"Unknown"}),((ce=y.userId)==null?void 0:ce.email)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:y.userId.email})]})]})})]}),!N&&s.jsxs(ee,{className:"border-primary/50",children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2 text-base",children:[s.jsx(n5,{className:"h-4 w-4"}),"Resolve Dispute"]}),s.jsx(Ee,{children:"Rule in favor of one party"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Admin Notes (Optional)"}),s.jsx(Xt,{placeholder:"Add any notes about your decision...",value:a,onChange:W=>o(W.target.value),rows:4,"data-testid":"textarea-admin-notes"})]}),s.jsx(ar,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(K,{className:"w-full",variant:"default",size:"lg",onClick:()=>g("buyer"),disabled:x.isPending,"data-testid":"button-favor-buyer",children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Buyer"]}),s.jsxs(K,{className:"w-full",variant:"outline",size:"lg",onClick:()=>g("seller"),disabled:x.isPending,"data-testid":"button-favor-seller",children:[s.jsx(Uk,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Seller"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"This action cannot be undone. The appropriate party will be refunded or compensated."})]})]}),N&&s.jsxs(ee,{className:"border-green-500/50 bg-green-500/5",children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2 text-base text-green-700 dark:text-green-400",children:[s.jsx(ru,{className:"h-4 w-4"}),"Dispute Resolved"]})}),s.jsx(te,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"This dispute has been resolved and closed."})})]})]})]}),s.jsx(lg,{open:l,onOpenChange:c,children:s.jsxs(Eh,{children:[s.jsxs(Th,{children:[s.jsx(Ah,{children:"Confirm Resolution"}),s.jsxs(Ih,{children:["Are you sure you want to rule in favor of the ",d==="buyer"?"buyer":"seller","?",d==="buyer"&&" The buyer will be refunded.",d==="seller"&&" The seller will keep the payment.","This action cannot be undone."]})]}),s.jsxs(Ph,{children:[s.jsx(Dh,{"data-testid":"button-cancel-resolve",children:"Cancel"}),s.jsx(Rh,{onClick:S,disabled:x.isPending,"data-testid":"button-confirm-resolve",children:x.isPending?"Resolving...":"Confirm"})]})]})})]})})}function YY(){var j,P;const[e,t]=f.useState(1),[n,r]=f.useState(""),[i,a]=f.useState(!1),{toast:o}=kt(),l=10,{data:c,isLoading:d}=Ve({queryKey:["/api/admin/reported-cases",e],queryFn:async()=>{const E=await fetch(`/api/admin/reported-cases?page=${e}&limit=${l}`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch reported cases");return await E.json()}}),h=Array.isArray((j=c==null?void 0:c.data)==null?void 0:j.data)?c.data.data:Array.isArray(c==null?void 0:c.data)?c.data:[],m=((P=c==null?void 0:c.data)==null?void 0:P.totalPages)||1,p=Ge({mutationFn:async({userId:E,blocked:O})=>ot("PATCH",`/api/admin/users/${E}/block`,{blocked:O}),onSuccess:(E,O)=>{ze.invalidateQueries({queryKey:["/api/admin/reported-cases"]}),o({title:"Success",description:`User ${O.blocked?"blocked":"unblocked"} successfully`})},onError:(E,O)=>{o({title:"Error",description:E.message||`Failed to ${O.blocked?"block":"unblock"} user`,variant:"destructive"})}}),y=h.filter(E=>{var R,T,I,D,q,U;if(!n)return!0;const O=n.toLowerCase(),C=((T=(R=E.reported)==null?void 0:R.userName)==null?void 0:T.toLowerCase())||"",N=((D=(I=E.reported_by)==null?void 0:I.userName)==null?void 0:D.toLowerCase())||"",_=((q=E.reason)==null?void 0:q.toLowerCase())||"",k=((U=E.description)==null?void 0:U.toLowerCase())||"";return C.includes(O)||N.includes(O)||_.includes(O)||k.includes(O)}),x=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",g=E=>{switch(E==null?void 0:E.toLowerCase()){case"resolved":return"default";case"pending":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},S=E=>{var O;return((O=E==null?void 0:E.replace(/_/g," "))==null?void 0:O.replace(/\b\w/g,C=>C.toUpperCase()))||"N/A"},w=()=>{r(""),t(1)},v=n;return d?s.jsx(Me,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading reported cases..."})})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(ey,{className:"h-8 w-8"}),"Reported Cases"]}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-page-description",children:"Review and manage user-reported cases"})]})}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"All Reported Cases"}),s.jsxs(Ee,{children:[y.length," ",y.length===1?"case":"cases"," found"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1 sm:w-64",children:[s.jsx(Nr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ne,{placeholder:"Search by user, reason...",value:n,onChange:E=>r(E.target.value),className:"pl-8","data-testid":"input-search"})]}),v&&s.jsxs(K,{variant:"outline",onClick:w,className:"gap-2","data-testid":"button-clear-filters",children:[s.jsx(_s,{className:"h-4 w-4"}),"Clear"]})]})]})}),s.jsx(te,{children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ey,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-cases",children:n?"No cases match your search criteria":"No reported cases found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(ln,{children:[s.jsx(cn,{children:s.jsxs(rt,{children:[s.jsx(ie,{children:"Case ID"}),s.jsx(ie,{children:"Reported User"}),s.jsx(ie,{className:"hidden md:table-cell",children:"Reporter"}),s.jsx(ie,{children:"Reason"}),s.jsx(ie,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(ie,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(ie,{className:"text-right",children:"Actions"})]})}),s.jsx(dn,{children:y.map(E=>{var O,C;return s.jsxs(rt,{"data-testid":`row-case-${E._id}`,children:[s.jsx(ae,{className:"font-mono text-xs","data-testid":`text-case-id-${E._id}`,children:E._id.slice(-8)}),s.jsx(ae,{"data-testid":`text-reported-user-${E._id}`,children:((O=E.reported)==null?void 0:O.userName)||"Unknown"}),s.jsx(ae,{className:"hidden md:table-cell","data-testid":`text-reporter-${E._id}`,children:((C=E.reported_by)==null?void 0:C.userName)||"Anonymous"}),s.jsx(ae,{"data-testid":`text-reason-${E._id}`,children:S(E.reason||"")}),s.jsx(ae,{className:"hidden lg:table-cell",children:s.jsx(We,{variant:g(E.status||"pending"),"data-testid":`badge-status-${E._id}`,children:E.status||"Pending"})}),s.jsx(ae,{className:"hidden xl:table-cell","data-testid":`text-date-${E._id}`,children:x(E.createdAt||"")}),s.jsx(ae,{className:"text-right",children:E.reported&&s.jsx(K,{variant:E.reported.system_blocked?"outline":"destructive",size:"sm",onClick:()=>{var N;(N=E.reported)!=null&&N._id&&p.mutate({userId:E.reported._id,blocked:!E.reported.system_blocked})},disabled:p.isPending,"data-testid":`button-block-${E._id}`,children:E.reported.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Unblock"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Block"]})})})]},E._id)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":"text-pagination-info",children:["Page ",e," of ",m]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:()=>t(E=>Math.max(1,E-1)),disabled:e===1,"data-testid":"button-previous-page",children:"Previous"}),s.jsx(K,{variant:"outline",onClick:()=>t(E=>Math.min(m,E+1)),disabled:e>=m,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})})}function QY(){const{toast:e}=kt(),[t,n]=f.useState(""),[r,i]=f.useState(""),{data:a}=Ve({queryKey:["/api/settings"]}),o=(a==null?void 0:a.data)||a,l=(o==null?void 0:o.demoMode)||!1;f.useEffect(()=>{o&&(o.seller_approval_email_subject?n(o.seller_approval_email_subject):n("Your {appName} Seller Account is Approved!"),o.seller_approval_email_body?i(o.seller_approval_email_body):i(`Congratulations! Your seller account on {appName} has been approved.

You can now:
- List products for sale
- Host live shopping shows
- Run auctions and giveaways
- Start earning on the platform

Get started by visiting your Seller Hub.`))},[o]);const c=Ge({mutationFn:async h=>ot("POST","/api/settings",h),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/settings"]}),e({title:"Email template saved",description:"Seller approval email has been updated successfully"})},onError:h=>{e({title:"Error saving email",description:h.message||"Failed to save seller approval email",variant:"destructive"})}}),d=()=>{if(!t.trim()||!r.trim()){e({title:"Validation Error",description:"Subject and body are required",variant:"destructive"});return}c.mutate({seller_approval_email_subject:t,seller_approval_email_body:r})};return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[l&&s.jsxs(Dt,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(Au,{className:"h-4 w-4 text-destructive"}),s.jsx(Ot,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(rd,{className:"h-4 w-4"}),"Seller Approval Email"]}),s.jsx(Ee,{children:"Customize the email sent to users when their seller account is approved"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsx(Dt,{children:s.jsx(Ot,{children:"This email is sent automatically when you approve a seller account application. Customize the subject and body to match your brand voice."})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"seller-approval-subject",children:"Subject Line"}),s.jsx(ne,{id:"seller-approval-subject",value:t,onChange:h=>n(h.target.value),placeholder:"Enter email subject...","data-testid":"input-seller-approval-subject",disabled:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"seller-approval-body",children:"Email Body"}),s.jsx(Xt,{id:"seller-approval-body",value:r,onChange:h=>i(h.target.value),placeholder:"Congratulations! Your seller account on {appName} has been approved...",rows:10,"data-testid":"textarea-seller-approval-body",disabled:l}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Available placeholders:"}),s.jsxs("ul",{className:"text-xs text-muted-foreground list-disc list-inside ml-2",children:[s.jsxs("li",{children:[s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"{appName}"})," - Your app name"]}),s.jsxs("li",{children:[s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"{name}"})," - Seller's first name"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:' The email will automatically include a styled "Go to Seller Hub" button'})]})]}),s.jsxs(K,{onClick:d,disabled:l||c.isPending,className:"w-full","data-testid":"button-save-templates",children:[s.jsx(Ks,{className:"h-4 w-4 mr-2"}),c.isPending?"Saving...":"Save Seller Approval Email"]})]})]})]})]})})}function XY(){var S;const{toast:e}=kt(),[t,n]=f.useState("https://play.google.com/store/apps/details?id=com.tokshop.live&hl=en"),[r,i]=f.useState("https://testflight.apple.com/join/jjzjjnC2"),[a,o]=f.useState("all"),[l,c]=f.useState(""),{data:d}=Ve({queryKey:["/api/settings"]}),h=(d==null?void 0:d.data)||d,m=(h==null?void 0:h.demoMode)||!1,{data:p}=Ve({queryKey:["/api/admin/users?limit=1000"],enabled:a==="individual"}),y=((S=p==null?void 0:p.data)==null?void 0:S.users)||[],x=Ge({mutationFn:async w=>ot("POST","/api/admin/send-update-notification",w),onSuccess:()=>{e({title:"Update notification sent",description:a==="all"?"App update notification has been sent to all users":"App update notification has been sent to the selected user"})},onError:w=>{e({title:"Error sending notification",description:w.message||"Failed to send update notification",variant:"destructive"})}}),g=()=>{if(a==="individual"&&!l){e({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}x.mutate({androidLink:t,iosLink:r,sendToAll:a==="all",recipientEmail:a==="individual"?l:void 0})};return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[m&&s.jsxs(Dt,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(Au,{className:"h-4 w-4 text-destructive"}),s.jsx(Ot,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(tj,{className:"h-5 w-5"}),"App Update Notification"]}),s.jsx(Ee,{children:"Send a notification to all users about the latest app version"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(K,{variant:a==="all"?"default":"outline",onClick:()=>o("all"),className:"flex-1","data-testid":"button-update-recipient-all",disabled:m,children:[s.jsx(Ii,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(K,{variant:a==="individual"?"default":"outline",onClick:()=>o("individual"),className:"flex-1","data-testid":"button-update-recipient-individual",disabled:m,children:[s.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),a==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"update-recipient",children:"Select Recipient"}),s.jsxs(Dn,{value:l,onValueChange:c,disabled:m,children:[s.jsx(Cn,{id:"update-recipient","data-testid":"select-update-recipient",children:s.jsx(On,{placeholder:"Choose a user..."})}),s.jsx(kn,{children:y.map(w=>s.jsxs(de,{value:w.email,children:[w.firstName," ",w.lastName," (",w.email,")"]},w._id||w.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(Y,{className:"text-xs text-muted-foreground",children:"Android Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(h==null?void 0:h.androidVersion)||"Not set"})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(Y,{className:"text-xs text-muted-foreground",children:"iOS Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(h==null?void 0:h.iosVersion)||"Not set"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"android-link",children:"Android Store Link"}),s.jsx(ne,{id:"android-link",value:t,onChange:w=>n(w.target.value),placeholder:"https://play.google.com/store/apps/...","data-testid":"input-android-link",disabled:m})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"ios-link",children:"iOS Store Link"}),s.jsx(ne,{id:"ios-link",value:r,onChange:w=>i(w.target.value),placeholder:"https://testflight.apple.com/join/...","data-testid":"input-ios-link",disabled:m})]})]}),s.jsx(Dt,{children:s.jsxs(Ot,{children:[s.jsx("strong",{children:"Email Preview:"})," Users will receive a professionally formatted email with:",s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Personalized greeting with their name"}),s.jsx("li",{children:" Version numbers for Android and iOS"}),s.jsx("li",{children:" Direct links to update on their respective stores"}),s.jsx("li",{children:" Responsive design for mobile and desktop"})]})]})}),s.jsxs(K,{onClick:g,disabled:m||x.isPending,className:"w-full",size:"lg","data-testid":"button-send-update-notification",children:[s.jsx(ty,{className:"h-4 w-4 mr-2"}),x.isPending?"Sending Update Notification...":a==="all"?"Send Update Notification to All Users":"Send Update Notification to Selected User"]})]})]})]})})}function ZY(){const{toast:e}=kt(),[t,n]=f.useState("sendgrid"),[r,i]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(""),[d,h]=f.useState(""),[m,p]=f.useState(""),[y,x]=f.useState(""),[g,S]=f.useState(""),[w,v]=f.useState(""),[j,P]=f.useState(""),{data:E}=Ve({queryKey:["/api/settings"]}),O=(E==null?void 0:E.data)||E,C=(O==null?void 0:O.demoMode)||!1;f.useEffect(()=>{O&&(n(O.email_service_provider||"sendgrid"),i(O.email_api_key||""),o(O.email_from_address||""),c(O.email_from_name||""),h(O.email_reply_to||""),p(O.email_mailgun_domain||""),x(O.email_smtp_host||""),S(O.email_smtp_port||""),v(O.email_smtp_user||""),P(O.email_smtp_pass||""))},[O]);const N=Ge({mutationFn:async k=>ot("POST","/api/settings",k),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/settings"]}),e({title:"Email settings saved",description:"Email configuration has been updated successfully"})},onError:k=>{e({title:"Error saving settings",description:k.message||"Failed to save email settings",variant:"destructive"})}}),_=()=>{if(!a.trim()){e({title:"Validation Error",description:"From Address is required",variant:"destructive"});return}N.mutate({email_service_provider:t,email_api_key:r,email_from_address:a,email_from_name:l,email_reply_to:d,email_mailgun_domain:m,email_smtp_host:y,email_smtp_port:g,email_smtp_user:w,email_smtp_pass:j})};return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[C&&s.jsxs(Dt,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(Au,{className:"h-4 w-4 text-destructive"}),s.jsx(Ot,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Pu,{className:"h-5 w-5"}),"Email Service Configuration"]}),s.jsx(Ee,{children:"Configure email service provider for sending emails to users"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_service_provider",children:"Email Service Provider"}),s.jsxs(Dn,{value:t,onValueChange:n,disabled:C,children:[s.jsx(Cn,{id:"email_service_provider","data-testid":"select-email-provider",children:s.jsx(On,{placeholder:"Select provider"})}),s.jsxs(kn,{children:[s.jsx(de,{value:"sendgrid",children:"SendGrid"}),s.jsx(de,{value:"mailgun",children:"Mailgun"}),s.jsx(de,{value:"resend",children:"Resend"}),s.jsx(de,{value:"smtp",children:"SMTP"})]})]})]}),t!=="smtp"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_api_key",children:"API Key"}),s.jsx(ne,{id:"email_api_key",type:C?"text":"password",value:r,onChange:k=>i(k.target.value),placeholder:"Enter API key","data-testid":"input-email-api-key",disabled:C})]}),t==="mailgun"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_mailgun_domain",children:"Mailgun Domain"}),s.jsx(ne,{id:"email_mailgun_domain",value:m,onChange:k=>p(k.target.value),placeholder:"yourdomain.com","data-testid":"input-mailgun-domain",disabled:C})]})]}),t==="smtp"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs(Dt,{children:[s.jsx(Ba,{className:"h-4 w-4"}),s.jsxs(Ot,{children:[s.jsx("strong",{children:"SMTP Configuration:"})," Use this for custom SMTP servers like Gmail, Outlook, etc."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_smtp_host",children:"SMTP Host"}),s.jsx(ne,{id:"email_smtp_host",value:y,onChange:k=>x(k.target.value),placeholder:"smtp.gmail.com","data-testid":"input-smtp-host",disabled:C})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_smtp_port",children:"SMTP Port"}),s.jsx(ne,{id:"email_smtp_port",value:g,onChange:k=>S(k.target.value),placeholder:"587","data-testid":"input-smtp-port",disabled:C})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_smtp_user",children:"SMTP Username"}),s.jsx(ne,{id:"email_smtp_user",value:w,onChange:k=>v(k.target.value),placeholder:"your-email@gmail.com","data-testid":"input-smtp-user",disabled:C})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_smtp_pass",children:"SMTP Password"}),s.jsx(ne,{id:"email_smtp_pass",type:C?"text":"password",value:j,onChange:k=>P(k.target.value),placeholder:"App Password (16 characters)","data-testid":"input-smtp-pass",disabled:C})]})]})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_from_address",children:"From Address *"}),s.jsx(ne,{id:"email_from_address",type:"email",value:a,onChange:k=>o(k.target.value),placeholder:"noreply@yourdomain.com","data-testid":"input-email-from",disabled:C})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_from_name",children:"From Name"}),s.jsx(ne,{id:"email_from_name",value:l,onChange:k=>c(k.target.value),placeholder:"Your App Name","data-testid":"input-email-from-name",disabled:C})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"email_reply_to",children:"Reply-To Address"}),s.jsx(ne,{id:"email_reply_to",type:"email",value:d,onChange:k=>h(k.target.value),placeholder:"support@yourdomain.com","data-testid":"input-email-reply-to",disabled:C})]})]}),s.jsxs(K,{onClick:_,disabled:C||N.isPending,className:"w-full",size:"lg","data-testid":"button-save-email-settings",children:[s.jsx(Ks,{className:"h-4 w-4 mr-2"}),N.isPending?"Saving...":"Save Email Settings"]})]})]})]})})}function JY(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Cb="ScrollArea",[sR]=Fn(Cb),[eQ,Qs]=sR(Cb),rR=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=f.useState(null),[d,h]=f.useState(null),[m,p]=f.useState(null),[y,x]=f.useState(null),[g,S]=f.useState(null),[w,v]=f.useState(0),[j,P]=f.useState(0),[E,O]=f.useState(!1),[C,N]=f.useState(!1),_=Ye(t,R=>c(R)),k=gh(i);return s.jsx(eQ,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:m,onContentChange:p,scrollbarX:y,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:O,scrollbarY:g,onScrollbarYChange:S,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:v,onCornerHeightChange:P,children:s.jsx($e.div,{dir:k,...o,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});rR.displayName=Cb;var iR="ScrollAreaViewport",aR=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=Qs(iR,n),l=f.useRef(null),c=Ye(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx($e.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});aR.displayName=iR;var oi="ScrollAreaScrollbar",kb=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qs(oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(tQ,{...r,ref:t,forceMount:n}):i.type==="scroll"?s.jsx(nQ,{...r,ref:t,forceMount:n}):i.type==="auto"?s.jsx(oR,{...r,ref:t,forceMount:n}):i.type==="always"?s.jsx(Eb,{...r,ref:t}):null});kb.displayName=oi;var tQ=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qs(oi,e.__scopeScrollArea),[a,o]=f.useState(!1);return f.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(xn,{present:n||a,children:s.jsx(oR,{"data-state":a?"visible":"hidden",...r,ref:t})})}),nQ=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Qs(oi,e.__scopeScrollArea),a=e.orientation==="horizontal",o=dg(()=>c("SCROLL_END"),100),[l,c]=JY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),f.useEffect(()=>{const d=i.viewport,h=a?"scrollLeft":"scrollTop";if(d){let m=d[h];const p=()=>{const y=d[h];m!==y&&(c("SCROLL"),o()),m=y};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[i.viewport,a,c,o]),s.jsx(xn,{present:n||l!=="hidden",children:s.jsx(Eb,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:pe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:pe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),oR=f.forwardRef((e,t)=>{const n=Qs(oi,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=f.useState(!1),l=e.orientation==="horizontal",c=dg(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:h)}},10);return Qc(n.viewport,c),Qc(n.content,c),s.jsx(xn,{present:r||a,children:s.jsx(Eb,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Eb=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Qs(oi,e.__scopeScrollArea),a=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=hR(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,y){return lQ(p,o.current,l,y)}return n==="horizontal"?s.jsx(sQ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,y=lS(p,l,i.dir);a.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=m(p,i.dir))}}):n==="vertical"?s.jsx(rQ,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,y=lS(p,l);a.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=m(p))}}):null}),sQ=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Qs(oi,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Ye(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(cR,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cg(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(a.viewport){const p=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),mR(p,m)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ip(o.paddingLeft),paddingEnd:ip(o.paddingRight)}})}})}),rQ=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=Qs(oi,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Ye(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(cR,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cg(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(a.viewport){const p=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),mR(p,m)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ip(o.paddingTop),paddingEnd:ip(o.paddingBottom)}})}})}),[iQ,lR]=sR(oi),cR=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:m,...p}=e,y=Qs(oi,n),[x,g]=f.useState(null),S=Ye(t,_=>g(_)),w=f.useRef(null),v=f.useRef(""),j=y.viewport,P=r.content-r.viewport,E=Yt(h),O=Yt(c),C=dg(m,10);function N(_){if(w.current){const k=_.clientX-w.current.left,R=_.clientY-w.current.top;d({x:k,y:R})}}return f.useEffect(()=>{const _=k=>{const R=k.target;(x==null?void 0:x.contains(R))&&E(k,P)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[j,x,P,E]),f.useEffect(O,[r,O]),Qc(x,C),Qc(y.content,C),s.jsx(iQ,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:Yt(a),onThumbPointerUp:Yt(o),onThumbPositionChange:O,onThumbPointerDown:Yt(l),children:s.jsx($e.div,{...p,ref:S,style:{position:"absolute",...p.style},onPointerDown:pe(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),w.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),N(_))}),onPointerMove:pe(e.onPointerMove,N),onPointerUp:pe(e.onPointerUp,_=>{const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=v.current,y.viewport&&(y.viewport.style.scrollBehavior=""),w.current=null})})})}),rp="ScrollAreaThumb",dR=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=lR(rp,e.__scopeScrollArea);return s.jsx(xn,{present:n||i.hasThumb,children:s.jsx(aQ,{ref:t,...r})})}),aQ=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=Qs(rp,n),o=lR(rp,n),{onThumbPositionChange:l}=o,c=Ye(t,m=>o.onThumbChange(m)),d=f.useRef(void 0),h=dg(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const m=a.viewport;if(m){const p=()=>{if(h(),!d.current){const y=cQ(m,l);d.current=y,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[a.viewport,h,l]),s.jsx($e.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(e.onPointerDownCapture,m=>{const y=m.target.getBoundingClientRect(),x=m.clientX-y.left,g=m.clientY-y.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:pe(e.onPointerUp,o.onThumbPointerUp)})});dR.displayName=rp;var Tb="ScrollAreaCorner",uR=f.forwardRef((e,t)=>{const n=Qs(Tb,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(oQ,{...e,ref:t}):null});uR.displayName=Tb;var oQ=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Qs(Tb,n),[a,o]=f.useState(0),[l,c]=f.useState(0),d=!!(a&&l);return Qc(i.scrollbarX,()=>{var m;const h=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),Qc(i.scrollbarY,()=>{var m;const h=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),d?s.jsx($e.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ip(e){return e?parseInt(e,10):0}function hR(e,t){const n=e/t;return isNaN(n)?0:n}function cg(e){const t=hR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function lQ(e,t,n,r="ltr"){const i=cg(n),a=i/2,o=t||a,l=i-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return fR([c,d],m)(e)}function lS(e,t,n="ltr"){const r=cg(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Py(e,c);return fR([0,o],[0,l])(d)}function fR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function mR(e,t){return e>0&&e<t}var cQ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function dg(e,t){const n=Yt(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Qc(e,t){const n=Yt(t);Zt(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var pR=rR,dQ=aR,uQ=uR;const Yf=f.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(pR,{ref:r,className:xe("relative overflow-hidden",e),...n,children:[s.jsx(dQ,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(gR,{}),s.jsx(uQ,{})]}));Yf.displayName=pR.displayName;const gR=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(kb,{ref:r,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(dR,{className:"relative flex-1 rounded-full bg-border"})}));gR.displayName=kb.displayName;function hQ(e,t=[]){let n=[];function r(a,o){const l=f.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const d=m=>{var w;const{scope:p,children:y,...x}=m,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||l,S=f.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:S,children:y})};d.displayName=a+"Provider";function h(m,p){var g;const y=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=f.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,fQ(i,...t)]}function fQ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var mQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xR=mQ.reduce((e,t)=>{const n=ph(`Primitive.${t}`),r=f.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Pb="Progress",Ab=100,[pQ]=hQ(Pb),[gQ,xQ]=pQ(Pb),vR=f.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=vQ,...o}=e;(i||i===0)&&!cS(i)&&console.error(yQ(`${i}`,"Progress"));const l=cS(i)?i:Ab;r!==null&&!dS(r,l)&&console.error(wQ(`${r}`,"Progress"));const c=dS(r,l)?r:null,d=ap(c)?a(c,l):void 0;return s.jsx(gQ,{scope:n,value:c,max:l,children:s.jsx(xR.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ap(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":jR(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});vR.displayName=Pb;var yR="ProgressIndicator",wR=f.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=xQ(yR,n);return s.jsx(xR.div,{"data-state":jR(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});wR.displayName=yR;function vQ(e,t){return`${Math.round(e/t*100)}%`}function jR(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ap(e){return typeof e=="number"}function cS(e){return ap(e)&&!isNaN(e)&&e>0}function dS(e,t){return ap(e)&&!isNaN(e)&&e<=t&&e>=0}function yQ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ab}\`.`}function wQ(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ab} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bR=vR,jQ=wR;const NR=f.forwardRef(({className:e,value:t,...n},r)=>s.jsx(bR,{ref:r,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(jQ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));NR.displayName=bR.displayName;const bQ=`<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Launch Your Live Shopping Business with Tokshop</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
  
  <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f4f4f4; padding: 40px 20px;">
    <tr>
      <td align="center">
        <table width="600" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
          
          <!-- Header -->
          <tr>
            <td style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 50px 30px; text-align: center;">
              <h1 style="color: #ffffff; margin: 0; font-size: 36px; font-weight: bold;">TOKSHOP</h1>
              <p style="color: #00d4ff; margin: 15px 0 0 0; font-size: 18px; font-weight: 500;">Your Own Live Shopping Marketplace</p>
            </td>
          </tr>
          
          <!-- Hero Message -->
          <tr>
            <td style="padding: 40px 30px 20px 30px; text-align: center;">
              <h2 style="color: #1a1a2e; margin: 0 0 15px 0; font-size: 26px; line-height: 1.3;">
                Start Your Own Platform Like Whatnot
              </h2>
              <p style="color: #666666; font-size: 16px; line-height: 1.7; margin: 0;">
                Hi {{params.name}},<br><br>
                Live shopping is growing fast - <strong>$68 billion by 2026</strong>. 
                With Tokshop, you get a ready-made platform to start your own live shopping business in days.
              </p>
            </td>
          </tr>
          
          <!-- Stats Bar -->
          <tr>
            <td style="padding: 20px 30px;">
              <table width="100%" cellpadding="0" cellspacing="0" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px;">
                <tr>
                  <td width="33%" style="padding: 25px 10px; text-align: center; border-right: 1px solid rgba(255,255,255,0.2);">
                    <p style="color: #ffffff; font-size: 28px; font-weight: bold; margin: 0;">$68B</p>
                    <p style="color: rgba(255,255,255,0.8); font-size: 12px; margin: 5px 0 0 0;">Market by 2026</p>
                  </td>
                  <td width="33%" style="padding: 25px 10px; text-align: center; border-right: 1px solid rgba(255,255,255,0.2);">
                    <p style="color: #ffffff; font-size: 28px; font-weight: bold; margin: 0;">10x</p>
                    <p style="color: rgba(255,255,255,0.8); font-size: 12px; margin: 5px 0 0 0;">More Sales</p>
                  </td>
                  <td width="33%" style="padding: 25px 10px; text-align: center;">
                    <p style="color: #ffffff; font-size: 28px; font-weight: bold; margin: 0;">48hrs</p>
                    <p style="color: rgba(255,255,255,0.8); font-size: 12px; margin: 5px 0 0 0;">To Launch</p>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          
          <!-- CTA -->
          <tr>
            <td style="padding: 30px 30px 40px 30px; text-align: center;">
              <p style="color: #666666; font-size: 16px; margin: 0 0 25px 0;">
                Want to start your own live shopping business?
              </p>
              <a href="https://wa.me/254791334234?text=Hi%2C%20I%27m%20interested%20in%20Tokshop%20for%20my%20live%20shopping%20business" style="display: inline-block; background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: #ffffff; text-decoration: none; padding: 18px 50px; border-radius: 30px; font-size: 16px; font-weight: bold; box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);">
                Chat With Us on WhatsApp
              </a>
              <p style="color: #999999; font-size: 13px; margin: 20px 0 0 0;">
                or just reply to this email
              </p>
            </td>
          </tr>
          
          <!-- Footer -->
          <tr>
            <td style="background-color: #1a1a2e; padding: 30px; text-align: center;">
              <p style="color: rgba(255,255,255,0.6); font-size: 12px; margin: 0 0 15px 0;">
                Tokshop - Live Shopping Platform
              </p>
              <p style="color: rgba(255,255,255,0.4); font-size: 11px; margin: 0; line-height: 1.6;">
                You got this email because you showed interest in live shopping.<br>
                <a href="https://tokshoplive.com/unsubscribe" style="color: #00d4ff; text-decoration: underline;">Unsubscribe</a>
              </p>
            </td>
          </tr>
          
        </table>
      </td>
    </tr>
  </table>
  
</body>
</html>`;function NQ(){const{toast:e}=kt(),[t,n]=f.useState("Launch Your Live Shopping Business with Tokshop"),[r,i]=f.useState(bQ),[a,o]=f.useState("Tokshop"),[l,c]=f.useState("sales@tokshoplive.com"),[d,h]=f.useState("reggycodas@gmail.com"),[m,p]=f.useState([]),[y,x]=f.useState(""),[g,S]=f.useState(""),[w,v]=f.useState(""),[j,P]=f.useState(""),[E,O]=f.useState(!1),[C,N]=f.useState({current:0,total:0,status:""}),[_,k]=f.useState(!1),[R,T]=f.useState(null),[I,D]=f.useState(!1),q=f.useRef(null),U=Z=>["email","e-mail","email address","emailaddress","mail","recipient"].some(H=>Z.toLowerCase().includes(H))||!Z.includes("@"),z=(Z,be)=>{const H=`email,name
`+Z.map(ke=>`${ke.email},${ke.name||""}`).join(`
`),fe=new Blob([H],{type:"text/csv;charset=utf-8;"}),ge=document.createElement("a");ge.href=URL.createObjectURL(fe),ge.download=be,ge.click()},L=Z=>{var fe;const be=(fe=Z.target.files)==null?void 0:fe[0];if(!be)return;const H=new FileReader;H.onload=ge=>{var Jt,ct,$;const ke=(Jt=ge.target)==null?void 0:Jt.result;if(!ke)return;const st=ke.split(`
`).filter(G=>G.trim()),Be=[],Je=new Set(m.map(G=>G.email.toLowerCase()));let ut=!1;for(const G of st){const se=G.split(",").map(he=>he.trim().replace(/^["']|["']$/g,"")),Ne=(ct=se[0])==null?void 0:ct.trim(),ye=(($=se[1])==null?void 0:$.trim())||void 0;!ut&&(ut=!0,U(Ne))||Ne&&Ne.includes("@")&&Ne.includes(".")&&!Je.has(Ne.toLowerCase())&&(Be.push({email:Ne,name:ye}),Je.add(Ne.toLowerCase()))}Be.length>0?(p([...m,...Be]),e({title:"File imported successfully",description:`Added ${Be.length} recipients from ${be.name}`})):e({title:"No new recipients found",description:"The file contained no valid new email addresses",variant:"destructive"}),q.current&&(q.current.value="")},H.readAsText(be)},B=async Z=>{const fe=[];for(let Be=0;Be<Z.recipients.length;Be+=50)fe.push(Z.recipients.slice(Be,Be+50));const ge=[],ke=[];k(!0),T(null),N({current:0,total:Z.recipients.length,status:"Starting..."});for(let Be=0;Be<fe.length;Be++){const Je=fe[Be],ut=Be*50;N({current:ut,total:Z.recipients.length,status:`Sending batch ${Be+1} of ${fe.length}...`});try{const ct=await(await ot("POST","/api/admin/brevo/send-batch",{recipients:Je,subject:Z.subject,htmlContent:Z.htmlContent,senderName:Z.senderName,senderEmail:Z.senderEmail,replyToEmail:Z.replyToEmail})).json();if(ct.success)Je.forEach($=>ge.push($));else{const $=ct.error||`Batch ${Be+1} failed`;Je.forEach(G=>ke.push({recipient:G,error:$}))}}catch(Jt){const ct=Jt.message||`Batch ${Be+1} error`;Je.forEach($=>ke.push({recipient:$,error:ct}))}N({current:ut+Je.length,total:Z.recipients.length,status:`Sent ${ut+Je.length} of ${Z.recipients.length}`}),Be<fe.length-1&&await new Promise(Jt=>setTimeout(Jt,1e3))}if(k(!1),N({current:Z.recipients.length,total:Z.recipients.length,status:"Complete"}),T({successful:ge,failed:ke}),D(!0),ge.length===0&&ke.length>0)throw new Error(`All ${ke.length} emails failed to send. Check your Brevo API key and sender email.`);return{success:ge.length>0,message:`Campaign complete: ${ge.length} sent successfully, ${ke.length} failed`,details:{total:Z.recipients.length,successful:ge.length,failed:ke.length,successfulEmails:ge,failedEmails:ke}}},le=Ge({mutationFn:async Z=>ot("POST","/api/admin/brevo/send-test",Z),onSuccess:Z=>{e({title:"Test email sent",description:Z.message||`Email sent to ${w}`})},onError:Z=>{e({title:"Failed to send test email",description:Z.message||"Please check your Brevo API key and try again",variant:"destructive"})}}),ce=Ge({mutationFn:async Z=>B(Z),onSuccess:Z=>{var H;const be=((H=Z.details)==null?void 0:H.failed)>0;e({title:be?"Campaign completed with some failures":"Campaign sent successfully",description:Z.message||"Emails sent successfully",variant:"default"})},onError:Z=>{k(!1),e({title:"Campaign failed",description:Z.message||"Please check your settings and try again",variant:"destructive"})}}),W=()=>{if(!y.trim()){e({title:"Email required",description:"Please enter an email address",variant:"destructive"});return}if(m.some(Z=>Z.email===y.trim())){e({title:"Duplicate email",description:"This email is already in the list",variant:"destructive"});return}p([...m,{email:y.trim(),name:g.trim()||void 0}]),x(""),S("")},Ce=Z=>{p(m.filter(be=>be.email!==Z))},_e=()=>{var ge,ke;if(!j.trim()){e({title:"No data",description:"Please paste CSV data",variant:"destructive"});return}const Z=j.split(`
`).filter(st=>st.trim()),be=[],H=new Set(m.map(st=>st.email.toLowerCase()));let fe=!1;for(const st of Z){const Be=st.split(",").map(Jt=>Jt.trim().replace(/^["']|["']$/g,"")),Je=(ge=Be[0])==null?void 0:ge.trim(),ut=((ke=Be[1])==null?void 0:ke.trim())||void 0;!fe&&(fe=!0,U(Je))||Je&&Je.includes("@")&&Je.includes(".")&&!H.has(Je.toLowerCase())&&(be.push({email:Je,name:ut}),H.add(Je.toLowerCase()))}be.length>0?(p([...m,...be]),P(""),e({title:"Import successful",description:`Added ${be.length} recipients`})):e({title:"No new recipients",description:"No valid new email addresses found",variant:"destructive"})},De=()=>{if(!w.trim()){e({title:"Email required",description:"Please enter a test email address",variant:"destructive"});return}le.mutate({email:w.trim(),subject:t,htmlContent:r,senderName:a,senderEmail:l})},He=()=>{if(m.length===0){e({title:"No recipients",description:"Please add at least one recipient",variant:"destructive"});return}if(!t.trim()||!r.trim()){e({title:"Missing content",description:"Please provide subject and email content",variant:"destructive"});return}ce.mutate({recipients:m,subject:t,htmlContent:r,senderName:a,senderEmail:l,replyToEmail:d})},X=async()=>{try{const Z=await fetch("/email-preview.html");if(Z.ok){const be=await Z.text();i(be),e({title:"Template loaded",description:"Email template has been loaded"})}}catch{e({title:"Failed to load template",description:"Could not load the email template",variant:"destructive"})}};return s.jsx(Me,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(rd,{className:"h-6 w-6"}),"Brevo Email Campaign"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Send marketing emails using Brevo (formerly Sendinblue)"})]}),s.jsxs(vs,{open:E,onOpenChange:O,children:[s.jsx(Wu,{asChild:!0,children:s.jsxs(K,{variant:"outline","data-testid":"button-preview-email",children:[s.jsx(qs,{className:"h-4 w-4 mr-2"}),"Preview Email"]})}),s.jsxs(es,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[s.jsx(ts,{children:s.jsx(ns,{children:"Email Preview"})}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("iframe",{srcDoc:r,title:"Email Preview",className:"w-full h-[600px] bg-white"})})]})]})]}),s.jsxs(Dt,{children:[s.jsx(To,{className:"h-4 w-4"}),s.jsxs(Ot,{children:["Make sure you have configured your ",s.jsx("strong",{children:"BREVO_API_KEY"})," in the environment variables. You can get your API key from the ",s.jsx("a",{href:"https://app.brevo.com/settings/keys/api",target:"_blank",rel:"noopener noreferrer",className:"underline text-primary",children:"Brevo dashboard"}),"."]})]}),s.jsxs(qi,{defaultValue:"compose",className:"space-y-6",children:[s.jsxs(ei,{children:[s.jsx(it,{value:"compose","data-testid":"tab-compose",children:"Compose"}),s.jsxs(it,{value:"recipients","data-testid":"tab-recipients",children:["Recipients",m.length>0&&s.jsx(We,{variant:"secondary",className:"ml-2",children:m.length})]}),s.jsx(it,{value:"settings","data-testid":"tab-settings",children:"Settings"})]}),s.jsxs(gt,{value:"compose",className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Email Content"}),s.jsxs(Ee,{children:["Write your email subject and content. Use ","{{params.name}}"," to personalize with recipient's name."]})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"subject",children:"Subject Line"}),s.jsx(ne,{id:"subject",value:t,onChange:Z=>n(Z.target.value),placeholder:"Enter email subject...","data-testid":"input-subject"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Y,{htmlFor:"html-content",children:"HTML Content"}),s.jsxs(K,{variant:"outline",size:"sm",onClick:X,"data-testid":"button-load-template",children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Load Template"]})]}),s.jsx(Xt,{id:"html-content",value:r,onChange:Z=>i(Z.target.value),placeholder:"Paste your HTML email content here...",rows:15,className:"font-mono text-sm","data-testid":"textarea-html-content"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Send Test Email"}),s.jsx(Ee,{children:"Send a test email to yourself before sending to all recipients"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ne,{value:w,onChange:Z=>v(Z.target.value),placeholder:"Enter your email address...","data-testid":"input-test-email"})}),s.jsxs(K,{onClick:De,disabled:le.isPending,"data-testid":"button-send-test",children:[s.jsx(ty,{className:"h-4 w-4 mr-2"}),le.isPending?"Sending...":"Send Test"]})]})})]})]}),s.jsxs(gt,{value:"recipients",className:"space-y-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Add Recipients"}),s.jsx(Ee,{children:"Add email addresses manually or import from CSV"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-[1fr,1fr,auto]",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Email Address"}),s.jsx(ne,{value:y,onChange:Z=>x(Z.target.value),placeholder:"email@example.com","data-testid":"input-new-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Name (Optional)"}),s.jsx(ne,{value:g,onChange:Z=>S(Z.target.value),placeholder:"John Doe","data-testid":"input-new-name"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(K,{onClick:W,"data-testid":"button-add-recipient",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add"]})})]}),s.jsxs("div",{className:"border-t pt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx(Y,{children:"Upload CSV File"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Upload a CSV file with email addresses (supports 2500+ rows)"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(ne,{ref:q,type:"file",accept:".csv,.txt",onChange:L,className:"flex-1","data-testid":"input-file-upload"})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: email,name (one per line). Header row is optional and will be skipped."})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(Y,{children:"Or Paste CSV Data"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"For smaller lists, paste directly"}),s.jsx(Xt,{value:j,onChange:Z=>P(Z.target.value),placeholder:`john@example.com,John Doe
jane@example.com,Jane Smith`,rows:5,"data-testid":"textarea-csv"}),s.jsxs(K,{onClick:_e,className:"mt-2",variant:"outline","data-testid":"button-import-csv",children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Import Pasted Data"]})]})]})]})]}),s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(oe,{children:"Recipients List"}),s.jsxs(Ee,{children:[m.length," recipient",m.length!==1?"s":""," added"]})]}),m.length>0&&s.jsxs(K,{variant:"destructive",size:"sm",onClick:()=>p([]),"data-testid":"button-clear-all",children:[s.jsx(vr,{className:"h-4 w-4 mr-2"}),"Clear All"]})]})}),s.jsx(te,{children:m.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No recipients added yet"}):s.jsx(Yf,{className:"h-[300px]",children:s.jsx("div",{className:"space-y-2",children:m.map((Z,be)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30","data-testid":`recipient-${be}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.email}),Z.name&&s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.name})]}),s.jsx(K,{variant:"ghost",size:"icon",onClick:()=>Ce(Z.email),"data-testid":`button-remove-${be}`,children:s.jsx(vr,{className:"h-4 w-4 text-destructive"})})]},Z.email))})})})]})]}),s.jsx(gt,{value:"settings",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Sender Settings"}),s.jsx(Ee,{children:"Configure the sender name and email address"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"sender-name",children:"Sender Name"}),s.jsx(ne,{id:"sender-name",value:a,onChange:Z=>o(Z.target.value),placeholder:"Your Company Name","data-testid":"input-sender-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"sender-email",children:"Sender Email"}),s.jsx(ne,{id:"sender-email",value:l,onChange:Z=>c(Z.target.value),placeholder:"sales@yourcompany.com","data-testid":"input-sender-email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be a verified sender in your Brevo account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"reply-to-email",children:"Reply-To Email"}),s.jsx(ne,{id:"reply-to-email",value:d,onChange:Z=>h(Z.target.value),placeholder:"replies@yourcompany.com","data-testid":"input-reply-to-email"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Recipients will reply to this email address"})]})]})})]})})]}),s.jsx(ee,{className:"border-primary",children:s.jsx(te,{className:"pt-6",children:_?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nm,{className:"h-5 w-5 animate-spin text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:C.status}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.current," of ",C.total," emails sent"]})]}),s.jsxs(We,{variant:"outline",children:[Math.round(C.current/C.total*100),"%"]})]}),s.jsx(NR,{value:C.current/C.total*100,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Estimated time remaining: ~",Math.ceil((C.total-C.current)/50)," seconds"]})]}):s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[m.length>0?s.jsx(ru,{className:"h-5 w-5 text-green-500"}):s.jsx(To,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Ready to send to ",m.length.toLocaleString()," recipient",m.length!==1?"s":""]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t||"No subject set"}),m.length>100&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estimated time: ~",Math.ceil(m.length/50)," seconds (",Math.ceil(m.length/50)," batches)"]})]})]}),s.jsxs(K,{size:"lg",onClick:He,disabled:m.length===0||ce.isPending,"data-testid":"button-send-campaign",children:[s.jsx(ty,{className:"h-4 w-4 mr-2"}),ce.isPending?"Sending Campaign...":"Send Campaign"]})]})})}),s.jsx(vs,{open:I,onOpenChange:D,children:s.jsxs(es,{className:"max-w-2xl max-h-[90vh] overflow-auto",children:[s.jsx(ts,{children:s.jsxs(ns,{className:"flex items-center gap-2",children:[R&&R.failed.length===0?s.jsx(ru,{className:"h-5 w-5 text-green-500"}):s.jsx(To,{className:"h-5 w-5 text-yellow-500"}),"Campaign Results"]})}),R&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ee,{className:"border-green-200 bg-green-50 dark:bg-green-950/30",children:s.jsxs(te,{className:"pt-6 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:R.successful.length.toLocaleString()}),s.jsx("p",{className:"text-sm text-green-700",children:"Sent Successfully"})]})}),s.jsx(ee,{className:"border-red-200 bg-red-50 dark:bg-red-950/30",children:s.jsxs(te,{className:"pt-6 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-600",children:R.failed.length.toLocaleString()}),s.jsx("p",{className:"text-sm text-red-700",children:"Failed to Send"})]})})]}),R.successful.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-green-700",children:["Successful Emails (",R.successful.length,")"]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>z(R.successful,`successful-emails-${new Date().toISOString().split("T")[0]}.csv`),"data-testid":"button-download-successful",children:[s.jsx(t_,{className:"h-4 w-4 mr-2"}),"Download CSV"]})]}),s.jsx(Yf,{className:"h-[120px] border rounded-lg p-2",children:s.jsxs("div",{className:"space-y-1",children:[R.successful.slice(0,50).map((Z,be)=>s.jsxs("div",{className:"text-sm flex items-center gap-2",children:[s.jsx(ru,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:Z.email}),Z.name&&s.jsxs("span",{className:"text-muted-foreground",children:["(",Z.name,")"]})]},be)),R.successful.length>50&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["... and ",R.successful.length-50," more. Download CSV for full list."]})]})})]}),R.failed.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-medium text-red-700",children:["Failed Emails (",R.failed.length,")"]}),s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>z(R.failed.map(Z=>Z.recipient),`failed-emails-${new Date().toISOString().split("T")[0]}.csv`),"data-testid":"button-download-failed",children:[s.jsx(t_,{className:"h-4 w-4 mr-2"}),"Download Failed CSV"]})]}),s.jsx(Yf,{className:"h-[120px] border rounded-lg p-2 border-red-200",children:s.jsxs("div",{className:"space-y-1",children:[R.failed.slice(0,50).map((Z,be)=>s.jsxs("div",{className:"text-sm flex items-center gap-2",children:[s.jsx(To,{className:"h-3 w-3 text-red-500 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:Z.recipient.email}),s.jsxs("span",{className:"text-xs text-red-500 truncate",children:["- ",Z.error]})]},be)),R.failed.length>50&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["... and ",R.failed.length-50," more. Download CSV for full list."]})]})}),s.jsxs(Dt,{className:"mt-4",variant:"destructive",children:[s.jsx(To,{className:"h-4 w-4"}),s.jsx(Ot,{children:"You can download the failed emails and retry them by importing the CSV again."})]})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(K,{variant:"outline",onClick:()=>D(!1),"data-testid":"button-close-results",children:"Close"})})]})]})})]})})}function pi({value:e="",onChange:t,resourceKey:n,label:r="Upload Image",maxFileSize:i=5*1024*1024,disabled:a=!1,aspectRatio:o="aspect-video"}){const[l,c]=f.useState(!1),[d,h]=f.useState(!1),m=f.useRef(null),{externalApiUrl:p}=kh(),y=async P=>{if(!(a||l)){if(!P.type.startsWith("image/")){console.warn(`File ${P.name} is not an image`);return}if(P.size>i){console.warn(`File ${P.name} exceeds size limit`);return}c(!0);try{const E=new FormData;E.append("key",n),E.append("file",P);const O=localStorage.getItem("adminAccessToken"),C=localStorage.getItem("accessToken"),N=localStorage.getItem("user"),_={};O&&(_["x-admin-token"]=O),C&&(_["x-access-token"]=C),N&&(_["x-user-data"]=btoa(unescape(encodeURIComponent(N))));const k=await fetch("/api/themes/upload-resource",{method:"POST",credentials:"include",headers:_,body:E});if(!k.ok)throw new Error("Upload failed");const R=await k.json();if(R.success&&R.url)t(R.url);else throw new Error(R.message||"Upload failed")}catch(E){console.error("Upload error:",E)}finally{c(!1)}}},x=P=>{if(P.preventDefault(),h(!1),a||l)return;const E=Array.from(P.dataTransfer.files);E.length>0&&y(E[0])},g=P=>{P.preventDefault(),!a&&!l&&h(!0)},S=P=>{P.preventDefault(),h(!1)},w=P=>{P.target.files&&P.target.files.length>0&&y(P.target.files[0]),m.current&&(m.current.value="")},v=()=>{a||l||t("")},j=Yc(e,p);return s.jsx("div",{className:"space-y-2",children:e?s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:`${o} rounded-lg overflow-hidden border bg-muted`,children:s.jsx("img",{src:j,alt:r,className:"w-full h-full object-cover"})}),s.jsx(K,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:v,disabled:a||l,children:s.jsx(_s,{className:"h-4 w-4"})})]}):s.jsx(ee,{className:`border-2 border-dashed transition-colors ${d?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,children:s.jsx(te,{className:"p-4",onDrop:x,onDragOver:g,onDragLeave:S,children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"mx-auto w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:l?s.jsx(Nm,{className:"h-5 w-5 animate-spin text-muted-foreground"}):s.jsx(Vk,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:r}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag & drop or click to upload"})]}),s.jsxs(K,{type:"button",variant:"outline",size:"sm",disabled:a||l,onClick:()=>{var P;return(P=m.current)==null?void 0:P.click()},children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),l?"Uploading...":"Select File"]}),s.jsx(ne,{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:w,disabled:a||l})]})})})})}const gi={hero:{title:"The Live Shopping Marketplace",subtitle:"Shop, sell, and connect around the things you love.",primaryButtonText:"Get Started",primaryButtonLink:"/signup",secondaryButtonText:"Browse Shows",secondaryButtonLink:"/marketplace",downloadText:"Download",phoneImage1:"",phoneImage2:"",qrCodeImage:""},joinFun:{title:"Join In the Fun",subtitle:"Take part in fast-paced auctions, incredible flash sales, live show giveaways, and so much more.",downloadText:"Download",phoneImage:"",qrCodeImage:""},gotItAll:{title:"We've Got It All",subtitle:"Search our marketplace to find the exact product you're looking for",downloadText:"Download",phoneImage:"",qrCodeImage:""},deals:{title:"Find Incredible Deals on Name Brands",subtitle:"From the brands you love, to hard-to-find specialty products. There's a deal on whatever you're looking for.",buttonText:"Start Shopping",buttonLink:"/signup",downloadText:"Download",trustBadgeText:"PEACE OF MIND",phoneImage:"",qrCodeImage:""},footer:{copyrightText:"2025"}};function _Q(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),[r,i]=f.useState(!1),{data:a,isLoading:o}=Ve({queryKey:["/api/content/landing"]}),l=(a==null?void 0:a.data)||null,[c,d]=f.useState(gi);f.useEffect(()=>{var x;l&&l.hero&&l.joinFun&&l.gotItAll&&l.deals&&(x=l.hero)!=null&&x.title&&d({...gi,...l,hero:{...gi.hero,...l.hero},joinFun:{...gi.joinFun,...l.joinFun},gotItAll:{...gi.gotItAll,...l.gotItAll},deals:{...gi.deals,...l.deals},footer:{...gi.footer,...l.footer}})},[l]);const h=Ge({mutationFn:async x=>(await ot("PUT","/api/admin/content/landing",x)).json(),onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/content/landing"]}),e({title:"Success",description:"Landing page updated successfully"}),i(!1)},onError:x=>{e({title:"Error",description:x.message||"Failed to update landing page",variant:"destructive"}),i(!1)}}),m=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}i(!0),h.mutate(c)},p=Ge({mutationFn:async()=>(await ot("PUT","/api/admin/content/landing",gi)).json(),onSuccess:()=>{d(gi),ze.invalidateQueries({queryKey:["/api/content/landing"]}),e({title:"Success",description:"Landing page reset to default"})},onError:x=>{e({title:"Error",description:x.message||"Failed to reset landing page",variant:"destructive"})}}),y=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}p.mutate()};return o?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Landing Page Editor"}),s.jsx("p",{className:"text-muted-foreground",children:"Customize the 4-section landing page with images and text"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:y,disabled:!t||n||p.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(K,{onClick:m,disabled:r||!t||n,"data-testid":"button-save-all",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),r?"Saving...":"Save All Changes"]})]})]}),n&&s.jsx(Dt,{children:s.jsx(Ot,{children:"Content editing is disabled in demo mode"})}),s.jsxs(qi,{defaultValue:"hero",className:"space-y-6",children:[s.jsxs(ei,{className:"grid w-full grid-cols-5",children:[s.jsx(it,{value:"hero",children:"Section 1: Hero"}),s.jsx(it,{value:"join-fun",children:"Section 2: Join Fun"}),s.jsx(it,{value:"got-it-all",children:"Section 3: Got It All"}),s.jsx(it,{value:"deals",children:"Section 4: Deals"}),s.jsx(it,{value:"footer",children:"Footer"})]}),s.jsx(gt,{value:"hero",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Section 1: Hero (Gradient Background)"}),s.jsx(Ee,{children:"Main banner with phone mockups and call-to-action buttons"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Text Content"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-title",children:"Title"}),s.jsx(ne,{id:"hero-title",value:c.hero.title,onChange:x=>d({...c,hero:{...c.hero,title:x.target.value}}),disabled:!t||n,placeholder:"The Live Shopping Marketplace","data-testid":"input-hero-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-subtitle",children:"Subtitle"}),s.jsx(Xt,{id:"hero-subtitle",value:c.hero.subtitle,onChange:x=>d({...c,hero:{...c.hero,subtitle:x.target.value}}),disabled:!t||n,placeholder:"Shop, sell, and connect around the things you love.","data-testid":"input-hero-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-primary-btn",children:"Primary Button Text"}),s.jsx(ne,{id:"hero-primary-btn",value:c.hero.primaryButtonText,onChange:x=>d({...c,hero:{...c.hero,primaryButtonText:x.target.value}}),disabled:!t||n,placeholder:"Get Started","data-testid":"input-hero-primary-btn"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-primary-link",children:"Primary Button Link"}),s.jsx(ne,{id:"hero-primary-link",value:c.hero.primaryButtonLink,onChange:x=>d({...c,hero:{...c.hero,primaryButtonLink:x.target.value}}),disabled:!t||n,placeholder:"/signup","data-testid":"input-hero-primary-link"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-secondary-btn",children:"Secondary Button Text"}),s.jsx(ne,{id:"hero-secondary-btn",value:c.hero.secondaryButtonText,onChange:x=>d({...c,hero:{...c.hero,secondaryButtonText:x.target.value}}),disabled:!t||n,placeholder:"Browse Shows","data-testid":"input-hero-secondary-btn"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-secondary-link",children:"Secondary Button Link"}),s.jsx(ne,{id:"hero-secondary-link",value:c.hero.secondaryButtonLink,onChange:x=>d({...c,hero:{...c.hero,secondaryButtonLink:x.target.value}}),disabled:!t||n,placeholder:"/marketplace","data-testid":"input-hero-secondary-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"hero-download",children:"Download Label"}),s.jsx(ne,{id:"hero-download",value:c.hero.downloadText,onChange:x=>d({...c,hero:{...c.hero,downloadText:x.target.value}}),disabled:!t||n,placeholder:"Download","data-testid":"input-hero-download"})]})]}),s.jsx(ar,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Images"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Main Phone Screenshot"}),s.jsx(pi,{value:c.hero.phoneImage1,onChange:x=>d({...c,hero:{...c.hero,phoneImage1:x}}),label:"Upload Main Phone Image",resourceKey:"landing-hero-phone1",disabled:!t||n,aspectRatio:"aspect-[9/16]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Secondary Phone Screenshot"}),s.jsx(pi,{value:c.hero.phoneImage2,onChange:x=>d({...c,hero:{...c.hero,phoneImage2:x}}),label:"Upload Secondary Phone Image",resourceKey:"landing-hero-phone2",disabled:!t||n,aspectRatio:"aspect-[9/16]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"QR Code Image"}),s.jsx(pi,{value:c.hero.qrCodeImage,onChange:x=>d({...c,hero:{...c.hero,qrCodeImage:x}}),label:"Upload QR Code",resourceKey:"landing-hero-qrcode",disabled:!t||n,aspectRatio:"aspect-square"})]})]})]})]})]})}),s.jsx(gt,{value:"join-fun",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Section 2: Join In the Fun (Dark Background)"}),s.jsx(Ee,{children:"Features auctions, flash sales, and giveaways with phone mockup"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Text Content"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"join-title",children:"Title"}),s.jsx(ne,{id:"join-title",value:c.joinFun.title,onChange:x=>d({...c,joinFun:{...c.joinFun,title:x.target.value}}),disabled:!t||n,placeholder:"Join In the Fun","data-testid":"input-join-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"join-subtitle",children:"Subtitle"}),s.jsx(Xt,{id:"join-subtitle",value:c.joinFun.subtitle,onChange:x=>d({...c,joinFun:{...c.joinFun,subtitle:x.target.value}}),disabled:!t||n,placeholder:"Take part in fast-paced auctions, incredible flash sales...","data-testid":"input-join-subtitle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"join-download",children:"Download Label"}),s.jsx(ne,{id:"join-download",value:c.joinFun.downloadText,onChange:x=>d({...c,joinFun:{...c.joinFun,downloadText:x.target.value}}),disabled:!t||n,placeholder:"Download","data-testid":"input-join-download"})]})]}),s.jsx(ar,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Images"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Phone Screenshot"}),s.jsx(pi,{value:c.joinFun.phoneImage,onChange:x=>d({...c,joinFun:{...c.joinFun,phoneImage:x}}),label:"Upload Phone Image",resourceKey:"landing-joinfun-phone",disabled:!t||n,aspectRatio:"aspect-[9/16]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"QR Code Image"}),s.jsx(pi,{value:c.joinFun.qrCodeImage,onChange:x=>d({...c,joinFun:{...c.joinFun,qrCodeImage:x}}),label:"Upload QR Code",resourceKey:"landing-joinfun-qrcode",disabled:!t||n,aspectRatio:"aspect-square"})]})]})]})]})]})}),s.jsx(gt,{value:"got-it-all",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Section 3: We've Got It All (Dark Background)"}),s.jsx(Ee,{children:"Marketplace search and product discovery with phone mockup"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Text Content"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"got-title",children:"Title"}),s.jsx(ne,{id:"got-title",value:c.gotItAll.title,onChange:x=>d({...c,gotItAll:{...c.gotItAll,title:x.target.value}}),disabled:!t||n,placeholder:"We've Got It All","data-testid":"input-got-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"got-subtitle",children:"Subtitle"}),s.jsx(Xt,{id:"got-subtitle",value:c.gotItAll.subtitle,onChange:x=>d({...c,gotItAll:{...c.gotItAll,subtitle:x.target.value}}),disabled:!t||n,placeholder:"Search our marketplace to find the exact product...","data-testid":"input-got-subtitle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"got-download",children:"Download Label"}),s.jsx(ne,{id:"got-download",value:c.gotItAll.downloadText,onChange:x=>d({...c,gotItAll:{...c.gotItAll,downloadText:x.target.value}}),disabled:!t||n,placeholder:"Download","data-testid":"input-got-download"})]})]}),s.jsx(ar,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Images"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Phone Screenshot"}),s.jsx(pi,{value:c.gotItAll.phoneImage,onChange:x=>d({...c,gotItAll:{...c.gotItAll,phoneImage:x}}),label:"Upload Phone Image",resourceKey:"landing-gotitall-phone",disabled:!t||n,aspectRatio:"aspect-[9/16]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"QR Code Image"}),s.jsx(pi,{value:c.gotItAll.qrCodeImage,onChange:x=>d({...c,gotItAll:{...c.gotItAll,qrCodeImage:x}}),label:"Upload QR Code",resourceKey:"landing-gotitall-qrcode",disabled:!t||n,aspectRatio:"aspect-square"})]})]})]})]})]})}),s.jsx(gt,{value:"deals",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Section 4: Find Incredible Deals (Gradient Background)"}),s.jsx(Ee,{children:"Final call-to-action with trust badge and phone mockup"})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Text Content"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"deals-title",children:"Title"}),s.jsx(ne,{id:"deals-title",value:c.deals.title,onChange:x=>d({...c,deals:{...c.deals,title:x.target.value}}),disabled:!t||n,placeholder:"Find Incredible Deals on Name Brands","data-testid":"input-deals-title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"deals-subtitle",children:"Subtitle"}),s.jsx(Xt,{id:"deals-subtitle",value:c.deals.subtitle,onChange:x=>d({...c,deals:{...c.deals,subtitle:x.target.value}}),disabled:!t||n,placeholder:"From the brands you love, to hard-to-find specialty products...","data-testid":"input-deals-subtitle"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"deals-btn",children:"Button Text"}),s.jsx(ne,{id:"deals-btn",value:c.deals.buttonText,onChange:x=>d({...c,deals:{...c.deals,buttonText:x.target.value}}),disabled:!t||n,placeholder:"Start Shopping","data-testid":"input-deals-btn"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"deals-link",children:"Button Link"}),s.jsx(ne,{id:"deals-link",value:c.deals.buttonLink,onChange:x=>d({...c,deals:{...c.deals,buttonLink:x.target.value}}),disabled:!t||n,placeholder:"/signup","data-testid":"input-deals-link"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"deals-trust",children:"Trust Badge Text"}),s.jsx(ne,{id:"deals-trust",value:c.deals.trustBadgeText,onChange:x=>d({...c,deals:{...c.deals,trustBadgeText:x.target.value}}),disabled:!t||n,placeholder:"PEACE OF MIND","data-testid":"input-deals-trust"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"deals-download",children:"Download Label"}),s.jsx(ne,{id:"deals-download",value:c.deals.downloadText,onChange:x=>d({...c,deals:{...c.deals,downloadText:x.target.value}}),disabled:!t||n,placeholder:"Download","data-testid":"input-deals-download"})]})]}),s.jsx(ar,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Images"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"Phone Screenshot"}),s.jsx(pi,{value:c.deals.phoneImage,onChange:x=>d({...c,deals:{...c.deals,phoneImage:x}}),label:"Upload Phone Image",resourceKey:"landing-deals-phone",disabled:!t||n,aspectRatio:"aspect-[9/16]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{children:"QR Code Image"}),s.jsx(pi,{value:c.deals.qrCodeImage,onChange:x=>d({...c,deals:{...c.deals,qrCodeImage:x}}),label:"Upload QR Code",resourceKey:"landing-deals-qrcode",disabled:!t||n,aspectRatio:"aspect-square"})]})]})]})]})]})}),s.jsx(gt,{value:"footer",className:"space-y-6",children:s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Footer"}),s.jsx(Ee,{children:"Bottom section with links and copyright"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"footer-copyright",children:"Copyright Year"}),s.jsx(ne,{id:"footer-copyright",value:c.footer.copyrightText,onChange:x=>d({...c,footer:{...c.footer,copyrightText:x.target.value}}),disabled:!t||n,placeholder:"2025","data-testid":"input-footer-copyright"})]})})]})})]})]})})}function SQ(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),[,r]=qt(),[i,a]=f.useState(!1),[o,l]=f.useState(null),{data:c,isLoading:d}=Ve({queryKey:["/api/admin/articles"]}),h=(c==null?void 0:c.data)||[],m=Ge({mutationFn:async v=>{const j=await fetch(`/api/admin/articles/${v}`,{method:"DELETE",credentials:"include"});if(!j.ok){const P=await j.json();throw new Error(P.error||"Failed to delete article")}return j.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/articles"]}),e({title:"Success",description:"Help article deleted successfully"}),a(!1),l(null)},onError:v=>{e({title:"Error",description:v.message||"Failed to delete article",variant:"destructive"})}}),p=Ge({mutationFn:async({id:v,published:j})=>{const P=await fetch(`/api/admin/articles/${v}`,{credentials:"include"});if(!P.ok){const N=await P.json();throw new Error(N.error||"Failed to fetch article")}const O=(await P.json()).data,C=await fetch(`/api/admin/articles/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:O.title,slug:O.slug,excerpt:O.excerpt,content:O.content,category:O.category,published:j,order:O.order||0})});if(!C.ok){const N=await C.json();throw new Error(N.error||"Failed to update article")}return C.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/articles"]}),e({title:"Success",description:"Article visibility updated"})},onError:v=>{e({title:"Error",description:v.message||"Failed to update article",variant:"destructive"})}}),y=v=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot delete articles in demo mode":"You don't have permission to manage content",variant:"destructive"});return}l(v),a(!0)},x=()=>{o&&m.mutate(o)},g=(v,j)=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify articles in demo mode":"You don't have permission to manage content",variant:"destructive"});return}p.mutate({id:v,published:!j})},S=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot create articles in demo mode":"You don't have permission to manage content",variant:"destructive"});return}r("/admin/pages/general/new")},w=v=>{r(`/admin/pages/general/${v}`)};return d?s.jsx(Me,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(bm,{className:"h-8 w-8"}),"General Help Articles"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage help center articles for buyers and sellers"})]}),s.jsxs(K,{onClick:S,"data-testid":"button-create-article",className:"gap-2",children:[s.jsx(Ns,{className:"h-4 w-4"}),"New Article"]})]}),n&&s.jsx(Dt,{"data-testid":"alert-demo-mode",children:s.jsx(Ot,{children:"Demo mode is enabled. Article management is read-only."})}),h.length===0?s.jsx(ee,{children:s.jsxs(te,{className:"flex flex-col items-center justify-center min-h-[400px] text-center p-6",children:[s.jsx(bm,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No articles yet"}),s.jsx("p",{className:"text-muted-foreground mb-4 max-w-md",children:"Create your first help article to provide support and guidance to your users"}),s.jsxs(K,{onClick:S,className:"gap-2",children:[s.jsx(Ns,{className:"h-4 w-4"}),"Create First Article"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(v=>s.jsxs(ee,{className:"hover-elevate cursor-pointer transition-all","data-testid":`article-card-${v._id}`,children:[s.jsx(re,{children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(oe,{className:"text-lg line-clamp-2",children:v.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(We,{variant:v.published?"default":"secondary",className:"text-xs",children:v.published?s.jsxs(s.Fragment,{children:[s.jsx(qs,{className:"h-3 w-3 mr-1"}),"Published"]}):s.jsxs(s.Fragment,{children:[s.jsx(e_,{className:"h-3 w-3 mr-1"}),"Draft"]})}),s.jsx(We,{variant:"outline",className:"text-xs capitalize",children:v.category})]})]})})}),s.jsxs(te,{className:"space-y-4",children:[s.jsx(Ee,{className:"line-clamp-3",children:v.excerpt}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(K,{variant:"outline",size:"sm",onClick:()=>w(v._id),className:"flex-1 gap-2","data-testid":`button-edit-${v._id}`,children:[s.jsx(nj,{className:"h-4 w-4"}),"Edit"]}),s.jsx(K,{variant:v.published?"secondary":"default",size:"sm",onClick:j=>{j.stopPropagation(),g(v._id,v.published)},className:"gap-2","data-testid":`button-toggle-publish-${v._id}`,children:v.published?s.jsxs(s.Fragment,{children:[s.jsx(e_,{className:"h-4 w-4"}),"Unpublish"]}):s.jsxs(s.Fragment,{children:[s.jsx(qs,{className:"h-4 w-4"}),"Publish"]})}),s.jsx(K,{variant:"destructive",size:"sm",onClick:j=>{j.stopPropagation(),y(v._id)},"data-testid":`button-delete-${v._id}`,children:s.jsx(vr,{className:"h-4 w-4"})})]})]})]},v._id))}),s.jsx(lg,{open:i,onOpenChange:a,children:s.jsxs(Eh,{children:[s.jsxs(Th,{children:[s.jsx(Ah,{children:"Delete Article"}),s.jsx(Ih,{children:"Are you sure you want to delete this help article? This action cannot be undone."})]}),s.jsxs(Ph,{children:[s.jsx(Dh,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Rh,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})})}const CQ={title:"",slug:"",excerpt:"",content:"",category:"general",published:!0,order:0};function kQ(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),[,r]=qt(),i=X2(),a=i.id==="new",{data:o,isLoading:l}=Ve({queryKey:["/api/admin/articles",i.id],enabled:!a}),c=_l({resolver:Sl(g7),defaultValues:CQ}),d=y=>{if(c.setValue("title",y),a){const x=y.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");c.setValue("slug",x)}};f.useEffect(()=>{o!=null&&o.data&&!a&&c.reset({title:o.data.title||"",slug:o.data.slug||"",excerpt:o.data.excerpt||"",content:o.data.content||"",category:o.data.category||"general",published:o.data.published??!0,order:o.data.order||0})},[o,c,a]);const h=Ge({mutationFn:async y=>{const x=a?"/api/admin/articles":`/api/admin/articles/${i.id}`,S=await fetch(x,{method:a?"POST":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!S.ok){const w=await S.json();throw new Error(w.error||`Failed to ${a?"create":"update"} article`)}return S.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/admin/articles"]}),e({title:"Success",description:`Help article ${a?"created":"updated"} successfully`}),r("/admin/pages/general")},onError:y=>{e({title:"Error",description:y.message||`Failed to ${a?"create":"update"} article`,variant:"destructive"})}}),m=c.handleSubmit(y=>{if(n||!t){e({title:"Permission Denied",description:n?`Cannot ${a?"create":"update"} articles in demo mode`:"You don't have permission to manage content",variant:"destructive"});return}h.mutate(y)}),p=()=>{r("/admin/pages/general")};return l&&!a?s.jsx(Me,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):s.jsx(Me,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(K,{variant:"outline",size:"icon",onClick:p,"data-testid":"button-back",children:s.jsx(Yr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(bm,{className:"h-8 w-8"}),a?"Create Help Article":"Edit Help Article"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:a?"Add a new article to the help center":"Update article content and settings"})]})]}),s.jsxs(K,{onClick:m,disabled:h.isPending,"data-testid":"button-save-article",className:"gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),h.isPending?"Saving...":"Save Article"]})]}),n&&s.jsx(Dt,{"data-testid":"alert-demo-mode",children:s.jsx(Ot,{children:"Demo mode is enabled. Article management is read-only."})}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Article Details"}),s.jsx(Ee,{children:"Basic information about this help article"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"title",children:["Title ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ne,{id:"title",placeholder:"e.g., How do I create an account?",...c.register("title"),onChange:y=>d(y.target.value),"data-testid":"input-title"}),c.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"slug",children:["URL Slug ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ne,{id:"slug",placeholder:"how-do-i-create-an-account",...c.register("slug"),"data-testid":"input-slug"}),c.formState.errors.slug&&s.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.slug.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-generated from title. You can customize it if needed."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Y,{htmlFor:"excerpt",children:["Short Description ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xt,{id:"excerpt",placeholder:"Brief summary that appears on the article card...",rows:3,...c.register("excerpt"),"data-testid":"input-excerpt"}),c.formState.errors.excerpt&&s.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.excerpt.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"category",children:"Category"}),s.jsxs(Dn,{value:c.watch("category"),onValueChange:y=>c.setValue("category",y),children:[s.jsx(Cn,{id:"category","data-testid":"select-category",children:s.jsx(On,{})}),s.jsxs(kn,{children:[s.jsx(de,{value:"general",children:"General"}),s.jsx(de,{value:"seller",children:"Seller"}),s.jsx(de,{value:"buyer",children:"Buyer"}),s.jsx(de,{value:"payments",children:"Payments"}),s.jsx(de,{value:"shipping",children:"Shipping"}),s.jsx(de,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"order",children:"Display Order"}),s.jsx(ne,{id:"order",type:"number",min:"0",placeholder:"0",...c.register("order",{valueAsNumber:!0}),"data-testid":"input-order"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first"})]}),s.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Y,{htmlFor:"published",children:"Published"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Make this article visible to users"})]}),s.jsx(Ri,{id:"published",checked:c.watch("published"),onCheckedChange:y=>c.setValue("published",y),"data-testid":"switch-published"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Article Content"}),s.jsx(Ee,{children:"Full article content (supports Markdown)"})]}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Xt,{id:"content",placeholder:"Write your full article content here. You can use Markdown formatting...",rows:20,className:"font-mono text-sm",...c.register("content"),"data-testid":"input-content"}),c.formState.errors.content&&s.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.content.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use Markdown for formatting: **bold**, *italic*, # Heading, - List items, etc."})]})})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(K,{variant:"outline",onClick:p,"data-testid":"button-cancel",children:"Cancel"}),s.jsxs(K,{onClick:m,disabled:h.isPending,"data-testid":"button-save-bottom",className:"gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),h.isPending?"Saving...":"Save Article"]})]})]})]})})}const uS={title:"Frequently Asked Questions",subtitle:"Find answers to common questions about our platform",faqs:[{question:"How do I create an account?",answer:'Click on the "Get Started" button and follow the registration process. You can sign up using your email or social media accounts.'},{question:"Is it safe to shop here?",answer:"Yes! We provide buyer protection on all purchases and use secure payment processing to ensure your transactions are safe."},{question:"How do live auctions work?",answer:"Join a live show, browse the items being showcased, and place your bids in real-time. The highest bidder wins when the auction closes."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, debit cards, and digital payment methods through our secure payment processor."}]};function EQ(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),{data:r,isLoading:i}=Ve({queryKey:["/api/content/faq"]}),a=_l({resolver:Sl(f7),defaultValues:uS}),{fields:o,append:l,remove:c}=mh({control:a.control,name:"faqs"});f.useEffect(()=>{r!=null&&r.data&&r.data.title&&a.reset(r.data)},[r,a]);const d=Ge({mutationFn:async y=>{const x=await fetch("/api/admin/content/faq",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!x.ok){const g=await x.json();throw new Error(g.message||"Failed to update FAQ page")}return x.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/content/faq"]}),e({title:"Success",description:"FAQ page updated successfully"})},onError:y=>{e({title:"Error",description:y.message||"Failed to update FAQ page",variant:"destructive"})}}),h=Ge({mutationFn:async()=>{const y=await fetch("/api/admin/content/faq/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!y.ok){const x=await y.json();throw new Error(x.message||"Failed to reset FAQ page")}return y.json()},onSuccess:()=>{a.reset(uS),ze.invalidateQueries({queryKey:["/api/content/faq"]}),e({title:"Success",description:"FAQ page reset to default content"})},onError:y=>{e({title:"Error",description:y.message||"Failed to reset FAQ page",variant:"destructive"})}}),m=a.handleSubmit(y=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(y)}),p=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the FAQ page to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Lk,{className:"h-8 w-8"}),"FAQ Page Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage frequently asked questions"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:p,disabled:!t||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(K,{onClick:m,disabled:d.isPending||!t||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Dt,{children:s.jsx(Ot,{children:"Content editing is disabled in demo mode"})}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Page Settings"}),s.jsx(Ee,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",children:"Title"}),s.jsx(ne,{id:"title",...a.register("title"),disabled:!t||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ne,{id:"subtitle",...a.register("subtitle"),disabled:!t||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"FAQ Items"}),s.jsx(Ee,{children:"Add and manage frequently asked questions"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((y,x)=>{var g,S,w,v,j,P,E,O;return s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"text-lg",children:["FAQ #",x+1]}),s.jsx(K,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(x),disabled:!t||n||o.length===1,"data-testid":`button-remove-faq-${x}`,children:s.jsx(vr,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`faqs.${x}.question`,children:"Question"}),s.jsx(Xt,{id:`faqs.${x}.question`,...a.register(`faqs.${x}.question`),disabled:!t||n,className:"min-h-20","data-testid":`input-faq-question-${x}`}),((S=(g=a.formState.errors.faqs)==null?void 0:g[x])==null?void 0:S.question)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(w=a.formState.errors.faqs[x])==null?void 0:w.question)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`faqs.${x}.answer`,children:"Answer"}),s.jsx(Xt,{id:`faqs.${x}.answer`,...a.register(`faqs.${x}.answer`),disabled:!t||n,className:"min-h-32","data-testid":`input-faq-answer-${x}`}),((P=(j=a.formState.errors.faqs)==null?void 0:j[x])==null?void 0:P.answer)&&s.jsx("p",{className:"text-sm text-destructive",children:(O=(E=a.formState.errors.faqs[x])==null?void 0:E.answer)==null?void 0:O.message})]})]})]},y.id)}),s.jsxs(K,{type:"button",variant:"outline",onClick:()=>l({question:"",answer:""}),disabled:!t||n,className:"w-full","data-testid":"button-add-faq",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add FAQ"]})]})]})]})})}const hS={title:"About Us",subtitle:"Learn more about our mission and what makes us different",sections:[{title:"Our Story",content:"We started with a simple mission: to create the most engaging and trustworthy live shopping marketplace. Today, thousands of buyers and sellers connect on our platform every day to discover amazing deals and build lasting relationships."},{title:"Our Mission",content:"We believe shopping should be fun, social, and exciting. That's why we've built a platform that combines the thrill of live auctions with the convenience of online shopping."},{title:"Why Choose Us",content:"With buyer protection, secure payments, and a vibrant community of sellers, we're committed to providing the best live shopping experience possible."}]};function TQ(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),{data:r,isLoading:i}=Ve({queryKey:["/api/content/about"]}),a=_l({resolver:Sl(Fj),defaultValues:hS}),{fields:o,append:l,remove:c}=mh({control:a.control,name:"sections"});f.useEffect(()=>{r!=null&&r.data&&r.data.title&&a.reset(r.data)},[r,a]);const d=Ge({mutationFn:async y=>{const x=await fetch("/api/admin/content/about",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!x.ok){const g=await x.json();throw new Error(g.message||"Failed to update About page")}return x.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/content/about"]}),e({title:"Success",description:"About page updated successfully"})},onError:y=>{e({title:"Error",description:y.message||"Failed to update About page",variant:"destructive"})}}),h=Ge({mutationFn:async()=>{const y=await fetch("/api/admin/content/about/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!y.ok){const x=await y.json();throw new Error(x.message||"Failed to reset About page")}return y.json()},onSuccess:()=>{a.reset(hS),ze.invalidateQueries({queryKey:["/api/content/about"]}),e({title:"Success",description:"About page reset to default content"})},onError:y=>{e({title:"Error",description:y.message||"Failed to reset About page",variant:"destructive"})}}),m=a.handleSubmit(y=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(y)}),p=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the About page to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Jw,{className:"h-8 w-8"}),"About Us Page Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the About Us page content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:p,disabled:!t||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(K,{onClick:m,disabled:d.isPending||!t||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Dt,{children:s.jsx(Ot,{children:"Content editing is disabled in demo mode"})}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Page Settings"}),s.jsx(Ee,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",children:"Title"}),s.jsx(ne,{id:"title",...a.register("title"),disabled:!t||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ne,{id:"subtitle",...a.register("subtitle"),disabled:!t||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Content Sections"}),s.jsx(Ee,{children:"Add and manage page sections"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((y,x)=>{var g,S,w,v,j,P,E,O;return s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"text-lg",children:["Section #",x+1]}),s.jsx(K,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(x),disabled:!t||n||o.length===1,"data-testid":`button-remove-section-${x}`,children:s.jsx(vr,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${x}.title`,children:"Section Title"}),s.jsx(ne,{id:`sections.${x}.title`,...a.register(`sections.${x}.title`),disabled:!t||n,"data-testid":`input-section-title-${x}`}),((S=(g=a.formState.errors.sections)==null?void 0:g[x])==null?void 0:S.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(w=a.formState.errors.sections[x])==null?void 0:w.title)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${x}.content`,children:"Section Content"}),s.jsx(Xt,{id:`sections.${x}.content`,...a.register(`sections.${x}.content`),disabled:!t||n,className:"min-h-48","data-testid":`input-section-content-${x}`}),((P=(j=a.formState.errors.sections)==null?void 0:j[x])==null?void 0:P.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(O=(E=a.formState.errors.sections[x])==null?void 0:E.content)==null?void 0:O.message})]})]})]},y.id)}),s.jsxs(K,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!t||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}const fS={title:"Privacy Policy",subtitle:"How we collect, use, and protect your information",sections:[{title:"Information We Collect",content:"We collect information you provide directly to us, such as when you create an account, make a purchase, or contact our support team."},{title:"How We Use Your Information",content:"We use the information we collect to provide, maintain, and improve our services, process transactions, and communicate with you."},{title:"Data Security",content:"We implement appropriate security measures to protect your personal information from unauthorized access, alteration, or disclosure."},{title:"Your Rights",content:"You have the right to access, update, or delete your personal information. Contact us if you'd like to exercise these rights."}]};function PQ(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),{data:r,isLoading:i}=Ve({queryKey:["/api/content/privacy"]}),a=_l({resolver:Sl(Fj),defaultValues:fS}),{fields:o,append:l,remove:c}=mh({control:a.control,name:"sections"});f.useEffect(()=>{r!=null&&r.data&&r.data.title&&a.reset(r.data)},[r,a]);const d=Ge({mutationFn:async y=>{const x=await fetch("/api/admin/content/privacy",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!x.ok){const g=await x.json();throw new Error(g.message||"Failed to update Privacy Policy")}return x.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/content/privacy"]}),e({title:"Success",description:"Privacy Policy updated successfully"})},onError:y=>{e({title:"Error",description:y.message||"Failed to update Privacy Policy",variant:"destructive"})}}),h=Ge({mutationFn:async()=>{const y=await fetch("/api/admin/content/privacy/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!y.ok){const x=await y.json();throw new Error(x.message||"Failed to reset Privacy Policy")}return y.json()},onSuccess:()=>{a.reset(fS),ze.invalidateQueries({queryKey:["/api/content/privacy"]}),e({title:"Success",description:"Privacy Policy reset to default content"})},onError:y=>{e({title:"Error",description:y.message||"Failed to reset Privacy Policy",variant:"destructive"})}}),m=a.handleSubmit(y=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(y)}),p=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the Privacy Policy to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Bk,{className:"h-8 w-8"}),"Privacy Policy Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the Privacy Policy content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:p,disabled:!t||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(K,{onClick:m,disabled:d.isPending||!t||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Dt,{children:s.jsx(Ot,{children:"Content editing is disabled in demo mode"})}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Page Settings"}),s.jsx(Ee,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",children:"Title"}),s.jsx(ne,{id:"title",...a.register("title"),disabled:!t||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ne,{id:"subtitle",...a.register("subtitle"),disabled:!t||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Content Sections"}),s.jsx(Ee,{children:"Add and manage policy sections"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((y,x)=>{var g,S,w,v,j,P,E,O;return s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"text-lg",children:["Section #",x+1]}),s.jsx(K,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(x),disabled:!t||n||o.length===1,"data-testid":`button-remove-section-${x}`,children:s.jsx(vr,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${x}.title`,children:"Section Title"}),s.jsx(ne,{id:`sections.${x}.title`,...a.register(`sections.${x}.title`),disabled:!t||n,"data-testid":`input-section-title-${x}`}),((S=(g=a.formState.errors.sections)==null?void 0:g[x])==null?void 0:S.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(w=a.formState.errors.sections[x])==null?void 0:w.title)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${x}.content`,children:"Section Content"}),s.jsx(Xt,{id:`sections.${x}.content`,...a.register(`sections.${x}.content`),disabled:!t||n,className:"min-h-48","data-testid":`input-section-content-${x}`}),((P=(j=a.formState.errors.sections)==null?void 0:j[x])==null?void 0:P.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(O=(E=a.formState.errors.sections[x])==null?void 0:E.content)==null?void 0:O.message})]})]})]},y.id)}),s.jsxs(K,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!t||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}const mS={title:"Terms of Service",subtitle:"Rules and guidelines for using our platform",sections:[{title:"Acceptance of Terms",content:"By accessing and using this platform, you accept and agree to be bound by the terms and provision of this agreement."},{title:"User Accounts",content:"You are responsible for maintaining the confidentiality of your account and password. You agree to accept responsibility for all activities that occur under your account."},{title:"Prohibited Activities",content:"You may not use our platform for any illegal purposes or to violate any laws. This includes but is not limited to fraud, harassment, or posting harmful content."},{title:"Termination",content:"We reserve the right to terminate or suspend your account at any time for violations of these terms or for any other reason we deem necessary."}]};function AQ(){const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),{data:r,isLoading:i}=Ve({queryKey:["/api/content/terms"]}),a=_l({resolver:Sl(Fj),defaultValues:mS}),{fields:o,append:l,remove:c}=mh({control:a.control,name:"sections"});f.useEffect(()=>{r!=null&&r.data&&r.data.title&&a.reset(r.data)},[r,a]);const d=Ge({mutationFn:async y=>{const x=await fetch("/api/admin/content/terms",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)});if(!x.ok){const g=await x.json();throw new Error(g.message||"Failed to update Terms of Service")}return x.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/content/terms"]}),e({title:"Success",description:"Terms of Service updated successfully"})},onError:y=>{e({title:"Error",description:y.message||"Failed to update Terms of Service",variant:"destructive"})}}),h=Ge({mutationFn:async()=>{const y=await fetch("/api/admin/content/terms/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!y.ok){const x=await y.json();throw new Error(x.message||"Failed to reset Terms of Service")}return y.json()},onSuccess:()=>{a.reset(mS),ze.invalidateQueries({queryKey:["/api/content/terms"]}),e({title:"Success",description:"Terms of Service reset to default content"})},onError:y=>{e({title:"Error",description:y.message||"Failed to reset Terms of Service",variant:"destructive"})}}),m=a.handleSubmit(y=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(y)}),p=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the Terms of Service to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(Jw,{className:"h-8 w-8"}),"Terms of Service Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the Terms of Service content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:p,disabled:!t||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(K,{onClick:m,disabled:d.isPending||!t||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Dt,{children:s.jsx(Ot,{children:"Content editing is disabled in demo mode"})}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Page Settings"}),s.jsx(Ee,{children:"Configure the main title and subtitle"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",children:"Title"}),s.jsx(ne,{id:"title",...a.register("title"),disabled:!t||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ne,{id:"subtitle",...a.register("subtitle"),disabled:!t||n,"data-testid":"input-subtitle"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Content Sections"}),s.jsx(Ee,{children:"Add and manage terms sections"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((y,x)=>{var g,S,w,v,j,P,E,O;return s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"text-lg",children:["Section #",x+1]}),s.jsx(K,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(x),disabled:!t||n||o.length===1,"data-testid":`button-remove-section-${x}`,children:s.jsx(vr,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${x}.title`,children:"Section Title"}),s.jsx(ne,{id:`sections.${x}.title`,...a.register(`sections.${x}.title`),disabled:!t||n,"data-testid":`input-section-title-${x}`}),((S=(g=a.formState.errors.sections)==null?void 0:g[x])==null?void 0:S.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(v=(w=a.formState.errors.sections[x])==null?void 0:w.title)==null?void 0:v.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${x}.content`,children:"Section Content"}),s.jsx(Xt,{id:`sections.${x}.content`,...a.register(`sections.${x}.content`),disabled:!t||n,className:"min-h-48","data-testid":`input-section-content-${x}`}),((P=(j=a.formState.errors.sections)==null?void 0:j[x])==null?void 0:P.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(O=(E=a.formState.errors.sections[x])==null?void 0:E.content)==null?void 0:O.message})]})]})]},y.id)}),s.jsxs(K,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!t||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}var ug="Checkbox",[IQ]=Fn(ug),[RQ,Ib]=IQ(ug);function DQ(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:m}=e,[p,y]=gr({prop:n,defaultProp:i??!1,onChange:c,caller:ug}),[x,g]=f.useState(null),[S,w]=f.useState(null),v=f.useRef(!1),j=x?!!o||!!x.closest("form"):!0,P={checked:p,disabled:a,setChecked:y,control:x,setControl:g,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:Ya(i)?!1:i,isFormControl:j,bubbleInput:S,setBubbleInput:w};return s.jsx(RQ,{scope:t,...P,children:OQ(m)?m(P):r})}var _R="CheckboxTrigger",SR=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:y,bubbleInput:x}=Ib(_R,e),g=Ye(i,h),S=f.useRef(c);return f.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const v=()=>m(S.current);return w.addEventListener("reset",v),()=>w.removeEventListener("reset",v)}},[a,m]),s.jsx($e.button,{type:"button",role:"checkbox","aria-checked":Ya(c)?"mixed":c,"aria-required":d,"data-state":PR(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:pe(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:pe(n,w=>{m(v=>Ya(v)?!0:!v),x&&y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});SR.displayName=_R;var Rb=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:h,...m}=e;return s.jsx(DQ,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>s.jsxs(s.Fragment,{children:[s.jsx(SR,{...m,ref:t,__scopeCheckbox:n}),p&&s.jsx(TR,{__scopeCheckbox:n})]})})});Rb.displayName=ug;var CR="CheckboxIndicator",kR=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=Ib(CR,n);return s.jsx(xn,{present:r||Ya(a.checked)||a.checked===!0,children:s.jsx($e.span,{"data-state":PR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});kR.displayName=CR;var ER="CheckboxBubbleInput",TR=f.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:h,form:m,bubbleInput:p,setBubbleInput:y}=Ib(ER,e),x=Ye(n,y),g=Bj(a),S=dj(r);f.useEffect(()=>{const v=p;if(!v)return;const j=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(j,"checked").set,O=!i.current;if(g!==a&&E){const C=new Event("click",{bubbles:O});v.indeterminate=Ya(a),E.call(v,Ya(a)?!1:a),v.dispatchEvent(C)}},[p,g,a,i]);const w=f.useRef(Ya(a)?!1:a);return s.jsx($e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:l,disabled:c,name:d,value:h,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});TR.displayName=ER;function OQ(e){return typeof e=="function"}function Ya(e){return e==="indeterminate"}function PR(e){return Ya(e)?"indeterminate":e?"checked":"unchecked"}const AR=f.forwardRef(({className:e,...t},n)=>s.jsx(Rb,{ref:n,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(kR,{className:xe("flex items-center justify-center text-current"),children:s.jsx(Xw,{className:"h-4 w-4"})})}));AR.displayName=Rb.displayName;const pS={title:"Contact Us",subtitle:"Get in touch with our team",description:"Have a question or need help? We're here for you. Reach out and we'll respond as soon as possible.",contactInfo:{email:"support@example.com",phone:"+1 (555) 123-4567",address:"123 Main Street, City, State 12345"},showContactForm:!0,sections:[{title:"Customer Support",content:"Our support team is available Monday through Friday, 9am to 5pm EST. We aim to respond to all inquiries within 24 hours."}]};function MQ(){var y;const{toast:e}=kt(),{canManageSettings:t,isDemoMode:n}=ai(),{data:r,isLoading:i}=Ve({queryKey:["/api/content/contact"]}),a=_l({resolver:Sl(p7),defaultValues:pS}),{fields:o,append:l,remove:c}=mh({control:a.control,name:"sections"});f.useEffect(()=>{r!=null&&r.data&&r.data.title&&a.reset(r.data)},[r,a]);const d=Ge({mutationFn:async x=>{const g=await fetch("/api/admin/content/contact",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!g.ok){const S=await g.json();throw new Error(S.message||"Failed to update Contact page")}return g.json()},onSuccess:()=>{ze.invalidateQueries({queryKey:["/api/content/contact"]}),e({title:"Success",description:"Contact page updated successfully"})},onError:x=>{e({title:"Error",description:x.message||"Failed to update Contact page",variant:"destructive"})}}),h=Ge({mutationFn:async()=>{const x=await fetch("/api/admin/content/contact/reset",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!x.ok){const g=await x.json();throw new Error(g.message||"Failed to reset Contact page")}return x.json()},onSuccess:()=>{a.reset(pS),ze.invalidateQueries({queryKey:["/api/content/contact"]}),e({title:"Success",description:"Contact page reset to default content"})},onError:x=>{e({title:"Error",description:x.message||"Failed to reset Contact page",variant:"destructive"})}}),m=a.handleSubmit(x=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}d.mutate(x)}),p=()=>{if(n||!t){e({title:"Permission Denied",description:n?"Cannot modify content in demo mode":"You don't have permission to modify content",variant:"destructive"});return}confirm("Are you sure you want to reset the Contact page to default content? This cannot be undone.")&&h.mutate()};return i?s.jsx(Me,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})})}):s.jsx(Me,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(rd,{className:"h-8 w-8"}),"Contact Page Editor"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage the Contact Us page content"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{variant:"outline",onClick:p,disabled:!t||n||h.isPending,"data-testid":"button-reset-default",children:"Reset to Default"}),s.jsxs(K,{onClick:m,disabled:d.isPending||!t||n,"data-testid":"button-save",className:"flex items-center gap-2",children:[s.jsx(Ks,{className:"h-4 w-4"}),d.isPending?"Saving...":"Save Changes"]})]})]}),n&&s.jsx(Dt,{children:s.jsx(Ot,{children:"Content editing is disabled in demo mode"})}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Page Settings"}),s.jsx(Ee,{children:"Configure the main title and description"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"title",children:"Title"}),s.jsx(ne,{id:"title",...a.register("title"),disabled:!t||n,"data-testid":"input-title"}),a.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.title.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"subtitle",children:"Subtitle (Optional)"}),s.jsx(ne,{id:"subtitle",...a.register("subtitle"),disabled:!t||n,"data-testid":"input-subtitle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Xt,{id:"description",...a.register("description"),disabled:!t||n,className:"min-h-20","data-testid":"input-description"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Contact Information"}),s.jsx(Ee,{children:"Provide contact details for users"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"contactInfo.email",children:"Email (Optional)"}),s.jsx(ne,{id:"contactInfo.email",type:"email",...a.register("contactInfo.email"),disabled:!t||n,"data-testid":"input-contact-email"}),((y=a.formState.errors.contactInfo)==null?void 0:y.email)&&s.jsx("p",{className:"text-sm text-destructive",children:a.formState.errors.contactInfo.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"contactInfo.phone",children:"Phone (Optional)"}),s.jsx(ne,{id:"contactInfo.phone",...a.register("contactInfo.phone"),disabled:!t||n,"data-testid":"input-contact-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:"contactInfo.address",children:"Address (Optional)"}),s.jsx(Xt,{id:"contactInfo.address",...a.register("contactInfo.address"),disabled:!t||n,className:"min-h-20","data-testid":"input-contact-address"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(AR,{id:"showContactForm",checked:a.watch("showContactForm"),onCheckedChange:x=>a.setValue("showContactForm",x),disabled:!t||n,"data-testid":"checkbox-show-contact-form"}),s.jsx(Y,{htmlFor:"showContactForm",className:"text-sm font-normal",children:"Show contact form on the page"})]})]})]}),s.jsxs(ee,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Additional Sections (Optional)"}),s.jsx(Ee,{children:"Add extra content sections to the contact page"})]}),s.jsxs(te,{className:"space-y-4",children:[o.map((x,g)=>{var S,w,v,j,P,E,O,C;return s.jsxs(ee,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(oe,{className:"text-lg",children:["Section #",g+1]}),s.jsx(K,{type:"button",variant:"destructive",size:"sm",onClick:()=>c(g),disabled:!t||n,"data-testid":`button-remove-section-${g}`,children:s.jsx(vr,{className:"h-4 w-4"})})]})}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${g}.title`,children:"Section Title"}),s.jsx(ne,{id:`sections.${g}.title`,...a.register(`sections.${g}.title`),disabled:!t||n,"data-testid":`input-section-title-${g}`}),((w=(S=a.formState.errors.sections)==null?void 0:S[g])==null?void 0:w.title)&&s.jsx("p",{className:"text-sm text-destructive",children:(j=(v=a.formState.errors.sections[g])==null?void 0:v.title)==null?void 0:j.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Y,{htmlFor:`sections.${g}.content`,children:"Section Content"}),s.jsx(Xt,{id:`sections.${g}.content`,...a.register(`sections.${g}.content`),disabled:!t||n,className:"min-h-32","data-testid":`input-section-content-${g}`}),((E=(P=a.formState.errors.sections)==null?void 0:P[g])==null?void 0:E.content)&&s.jsx("p",{className:"text-sm text-destructive",children:(C=(O=a.formState.errors.sections[g])==null?void 0:O.content)==null?void 0:C.message})]})]})]},x.id)}),s.jsxs(K,{type:"button",variant:"outline",onClick:()=>l({title:"",content:""}),disabled:!t||n,className:"w-full","data-testid":"button-add-section",children:[s.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})]})]})})}function FQ(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(ee,{className:"w-full max-w-md mx-4",children:s.jsxs(te,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(To,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function LQ(e){const{settings:t}=Nl();f.useEffect(()=>{const n=t.seo_title||t.app_name;document.title=n},[e,t.app_name,t.seo_title])}function $Q({children:e}){const[t]=qt(),[n,r]=f.useState(!0),[i,a]=f.useState(!1);return f.useEffect(()=>{if(t==="/admin/setup"){r(!1),a(!0);return}(async()=>{try{const c=await(await fetch("/api/admin/exists",{credentials:"include"})).json();c.success&&a(c.exists)}catch(l){console.error("Error checking if admin exists:",l),a(!0)}finally{r(!1)}})()},[t]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Checking admin setup..."})]})}):!i&&t!=="/admin/setup"?(window.location.href="/admin/setup",s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to setup..."})]})})):s.jsx(s.Fragment,{children:e})}function UQ(){const{isAuthenticated:e,isLoading:t,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:i,pendingSocialAuthData:a,completeSocialAuth:o}=Qi(),[,l]=qt(),[c,d]=f.useState(!1);LQ();const h=async m=>{try{await o(m),d(!0)}catch(p){console.error("Social auth completion failed:",p)}};return f.useEffect(()=>{c&&e&&!r&&n&&(n.admin?l("/admin"):l("/admin/login"),d(!1))},[c,e,r,n,l]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r&&i&&a?s.jsx(OB,{userEmail:i,socialAuthData:a,onComplete:h,isLoading:t}):e?n!=null&&n.admin?s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(D0,{children:[s.jsx(at,{path:"/",component:X1}),s.jsx(at,{path:"/admin",component:X1}),s.jsx(at,{path:"/admin/users/:userId/details/:itemType/:itemId",component:aq}),s.jsx(at,{path:"/admin/users/:userId",component:iq}),s.jsx(at,{path:"/admin/users",component:IH}),s.jsx(at,{path:"/admin/pending-approvals",component:RH}),s.jsx(at,{path:"/admin/inventory",component:oq}),s.jsx(at,{path:"/admin/products/:productId",component:lq}),s.jsx(at,{path:"/admin/orders/:orderId",component:dq}),s.jsx(at,{path:"/admin/orders",component:cq}),s.jsx(at,{path:"/admin/disputes/:disputeId",component:GY}),s.jsx(at,{path:"/admin/disputes",component:zY}),s.jsx(at,{path:"/admin/reported-cases",component:YY}),s.jsx(at,{path:"/admin/transactions",component:uq}),s.jsx(at,{path:"/admin/payouts",component:hq}),s.jsx(at,{path:"/admin/application-fees",component:NY}),s.jsx(at,{path:"/admin/categories/:categoryId/subcategories",component:VY}),s.jsx(at,{path:"/admin/categories",component:$Y}),s.jsx(at,{path:"/admin/shows/:showId",component:yY}),s.jsx(at,{path:"/admin/shows",component:vY}),s.jsx(at,{path:"/admin/email-seller-approval",component:QY}),s.jsx(at,{path:"/admin/email-update",component:XY}),s.jsx(at,{path:"/admin/email-settings",component:ZY}),s.jsx(at,{path:"/admin/email-brevo-campaign",component:NQ}),s.jsx(at,{path:"/admin/pages/landing",component:_Q}),s.jsx(at,{path:"/admin/pages/general/:id",component:kQ}),s.jsx(at,{path:"/admin/pages/general",component:SQ}),s.jsx(at,{path:"/admin/pages/faq",component:EQ}),s.jsx(at,{path:"/admin/pages/about",component:TQ}),s.jsx(at,{path:"/admin/pages/privacy",component:PQ}),s.jsx(at,{path:"/admin/pages/terms",component:AQ}),s.jsx(at,{path:"/admin/pages/contact",component:MQ}),s.jsx(at,{path:"/admin/settings",component:wY}),s.jsx(at,{path:"/admin/profile",component:bY}),s.jsx(at,{component:FQ})]})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(Dx,{})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(D0,{children:[s.jsx(at,{path:"/admin/setup",component:MB}),s.jsx(at,{path:"/admin/login",component:Dx}),s.jsx(at,{component:Dx})]})})})}function VQ(){return s.jsx(vF,{client:ze,children:s.jsx(x7,{children:s.jsx(v7,{children:s.jsxs(E3,{children:[s.jsx(z5,{}),s.jsx($Q,{children:s.jsx(UQ,{})})]})})})})}U2(document.getElementById("root")).render(s.jsx(VQ,{}));
