var sb=e=>{throw TypeError(e)};var Fp=(e,t,n)=>t.has(e)||sb("Cannot "+n);var U=(e,t,n)=>(Fp(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?sb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(Fp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Qe=(e,t,n)=>(Fp(e,t,"access private method"),n);var rh=(e,t,n,r)=>({set _(i){be(e,t,i,n)},get _(){return U(e,t,r)}});function s4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function c1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d1={exports:{}},fm={},u1={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),i4=Symbol.for("react.portal"),a4=Symbol.for("react.fragment"),o4=Symbol.for("react.strict_mode"),l4=Symbol.for("react.profiler"),c4=Symbol.for("react.provider"),d4=Symbol.for("react.context"),u4=Symbol.for("react.forward_ref"),h4=Symbol.for("react.suspense"),f4=Symbol.for("react.memo"),m4=Symbol.for("react.lazy"),ib=Symbol.iterator;function p4(e){return e===null||typeof e!="object"?null:(e=ib&&e[ib]||e["@@iterator"],typeof e=="function"?e:null)}var h1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f1=Object.assign,m1={};function bc(e,t,n){this.props=e,this.context=t,this.refs=m1,this.updater=n||h1}bc.prototype.isReactComponent={};bc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p1(){}p1.prototype=bc.prototype;function zv(e,t,n){this.props=e,this.context=t,this.refs=m1,this.updater=n||h1}var Bv=zv.prototype=new p1;Bv.constructor=zv;f1(Bv,bc.prototype);Bv.isPureReactComponent=!0;var ab=Array.isArray,g1=Object.prototype.hasOwnProperty,Wv={current:null},x1={key:!0,ref:!0,__self:!0,__source:!0};function v1(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)g1.call(t,r)&&!x1.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bu,type:e,key:a,ref:o,props:i,_owner:Wv.current}}function g4(e,t){return{$$typeof:bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hv(e){return typeof e=="object"&&e!==null&&e.$$typeof===bu}function x4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ob=/\/+/g;function Lp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x4(""+e.key):t.toString(36)}function Fh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bu:case i4:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Lp(o,0):r,ab(i)?(n="",e!=null&&(n=e.replace(ob,"$&/")+"/"),Fh(i,t,n,"",function(d){return d})):i!=null&&(Hv(i)&&(i=g4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ob,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ab(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Lp(a,l);o+=Fh(a,t,n,c,i)}else if(c=p4(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Lp(a,l++),o+=Fh(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sh(e,t,n){if(e==null)return e;var r=[],i=0;return Fh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function v4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vn={current:null},Lh={transition:null},y4={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:Wv};function y1(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:sh,forEach:function(e,t,n){sh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sh(e,function(){t++}),t},toArray:function(e){return sh(e,function(t){return t})||[]},only:function(e){if(!Hv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=bc;nt.Fragment=a4;nt.Profiler=l4;nt.PureComponent=zv;nt.StrictMode=o4;nt.Suspense=h4;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y4;nt.act=y1;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f1({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Wv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)g1.call(t,c)&&!x1.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:bu,type:e.type,key:i,ref:a,props:r,_owner:o}};nt.createContext=function(e){return e={$$typeof:d4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c4,_context:e},e.Consumer=e};nt.createElement=v1;nt.createFactory=function(e){var t=v1.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:u4,render:e}};nt.isValidElement=Hv;nt.lazy=function(e){return{$$typeof:m4,_payload:{_status:-1,_result:e},_init:v4}};nt.memo=function(e,t){return{$$typeof:f4,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Lh.transition;Lh.transition={};try{e()}finally{Lh.transition=t}};nt.unstable_act=y1;nt.useCallback=function(e,t){return Vn.current.useCallback(e,t)};nt.useContext=function(e){return Vn.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return Vn.current.useDeferredValue(e)};nt.useEffect=function(e,t){return Vn.current.useEffect(e,t)};nt.useId=function(){return Vn.current.useId()};nt.useImperativeHandle=function(e,t,n){return Vn.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return Vn.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return Vn.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return Vn.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return Vn.current.useReducer(e,t,n)};nt.useRef=function(e){return Vn.current.useRef(e)};nt.useState=function(e){return Vn.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return Vn.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return Vn.current.useTransition()};nt.version="18.3.1";u1.exports=nt;var p=u1.exports;const De=c1(p),qv=s4({__proto__:null,default:De},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=p,j4=Symbol.for("react.element"),b4=Symbol.for("react.fragment"),N4=Object.prototype.hasOwnProperty,_4=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S4={key:!0,ref:!0,__self:!0,__source:!0};function w1(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)N4.call(t,r)&&!S4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:j4,type:e,key:a,ref:o,props:i,_owner:_4.current}}fm.Fragment=b4;fm.jsx=w1;fm.jsxs=w1;d1.exports=fm;var s=d1.exports,j1={exports:{}},pr={},b1={exports:{}},N1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,B){var ee=F.length;F.push(B);e:for(;0<ee;){var ne=ee-1>>>1,W=F[ne];if(0<i(W,B))F[ne]=B,F[ee]=W,ee=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],ee=F.pop();if(ee!==B){F[0]=ee;e:for(var ne=0,W=F.length,ue=W>>>1;ne<ue;){var ae=2*(ne+1)-1,Le=F[ae],We=ae+1,me=F[We];if(0>i(Le,ee))We<W&&0>i(me,Le)?(F[ne]=me,F[We]=ee,ne=We):(F[ne]=Le,F[ae]=ee,ne=ae);else if(We<W&&0>i(me,ee))F[ne]=me,F[We]=ee,ne=We;else break e}}return B}function i(F,B){var ee=F.sortIndex-B.sortIndex;return ee!==0?ee:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,f=3,j=!1,x=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=F)r(d),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(d)}}function w(F){if(g=!1,S(F),!x)if(n(c)!==null)x=!0,z(A);else{var B=n(d);B!==null&&V(w,B.startTime-F)}}function A(F,B){x=!1,g&&(g=!1,N(b),b=-1),j=!0;var ee=f;try{for(S(B),m=n(c);m!==null&&(!(m.expirationTime>B)||F&&!P());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,f=m.priorityLevel;var W=ne(m.expirationTime<=B);B=e.unstable_now(),typeof W=="function"?m.callback=W:m===n(c)&&r(c),S(B)}else r(c);m=n(c)}if(m!==null)var ue=!0;else{var ae=n(d);ae!==null&&V(w,ae.startTime-B),ue=!1}return ue}finally{m=null,f=ee,j=!1}}var M=!1,E=null,b=-1,_=5,R=-1;function P(){return!(e.unstable_now()-R<_)}function k(){if(E!==null){var F=e.unstable_now();R=F;var B=!0;try{B=E(!0,F)}finally{B?I():(M=!1,E=null)}}else M=!1}var I;if(typeof v=="function")I=function(){v(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=k,I=function(){K.postMessage(null)}}else I=function(){C(k,0)};function z(F){E=F,M||(M=!0,I())}function V(F,B){b=C(function(){F(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||j||(x=!0,z(A))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var ee=f;f=B;try{return F()}finally{f=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=f;f=F;try{return B()}finally{f=ee}},e.unstable_scheduleCallback=function(F,B,ee){var ne=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,F={id:h++,callback:B,priorityLevel:F,startTime:ee,expirationTime:W,sortIndex:-1},ee>ne?(F.sortIndex=ee,t(d,F),n(c)===null&&F===n(d)&&(g?(N(b),b=-1):g=!0,V(w,ee-ne))):(F.sortIndex=W,t(c,F),x||j||(x=!0,z(A))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var B=f;return function(){var ee=f;f=B;try{return F.apply(this,arguments)}finally{f=ee}}}})(N1);b1.exports=N1;var C4=b1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=p,dr=C4;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _1=new Set,Ld={};function $o(e,t){Zl(e,t),Zl(e+"Capture",t)}function Zl(e,t){for(Ld[e]=t,e=0;e<t.length;e++)_1.add(t[e])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hg=Object.prototype.hasOwnProperty,E4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lb={},cb={};function T4(e){return Hg.call(cb,e)?!0:Hg.call(lb,e)?!1:E4.test(e)?cb[e]=!0:(lb[e]=!0,!1)}function P4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A4(e,t,n,r){if(t===null||typeof t>"u"||P4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zn(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jn[e]=new zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jn[t]=new zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jn[e]=new zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jn[e]=new zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jn[e]=new zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jn[e]=new zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jn[e]=new zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jn[e]=new zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jn[e]=new zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kv=/[\-:]([a-z])/g;function Gv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kv,Gv);jn[t]=new zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kv,Gv);jn[t]=new zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kv,Gv);jn[t]=new zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jn[e]=new zn(e,1,!1,e.toLowerCase(),null,!1,!1)});jn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jn[e]=new zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yv(e,t,n,r){var i=jn.hasOwnProperty(t)?jn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A4(t,n,i,r)&&(n=null),r||i===null?T4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ji=k4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=Symbol.for("react.element"),cl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Qv=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),S1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Gg=Symbol.for("react.suspense_list"),Zv=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),k1=Symbol.for("react.offscreen"),db=Symbol.iterator;function Zc(e){return e===null||typeof e!="object"?null:(e=db&&e[db]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,$p;function ud(e){if($p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$p=t&&t[1]||""}return`
`+$p+e}var Up=!1;function Vp(e,t){if(!e||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ud(e):""}function I4(e){switch(e.tag){case 5:return ud(e.type);case 16:return ud("Lazy");case 13:return ud("Suspense");case 19:return ud("SuspenseList");case 0:case 2:case 15:return e=Vp(e.type,!1),e;case 11:return e=Vp(e.type.render,!1),e;case 1:return e=Vp(e.type,!0),e;default:return""}}function Yg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dl:return"Fragment";case cl:return"Portal";case qg:return"Profiler";case Qv:return"StrictMode";case Kg:return"Suspense";case Gg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C1:return(e.displayName||"Context")+".Consumer";case S1:return(e._context.displayName||"Context")+".Provider";case Xv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zv:return t=e.displayName||null,t!==null?t:Yg(e.type)||"Memo";case Fi:t=e._payload,e=e._init;try{return Yg(e(t))}catch{}}return null}function R4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yg(t);case 8:return t===Qv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function va(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D4(e){var t=E1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ah(e){e._valueTracker||(e._valueTracker=D4(e))}function T1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=E1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qg(e,t){var n=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ub(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=va(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P1(e,t){t=t.checked,t!=null&&Yv(e,"checked",t,!1)}function Xg(e,t){P1(e,t);var n=va(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zg(e,t.type,va(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zg(e,t,n){(t!=="number"||lf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hd=Array.isArray;function jl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+va(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(de(92));if(hd(n)){if(1<n.length)throw Error(de(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:va(n)}}function A1(e,t){var n=va(t.value),r=va(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ex(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oh,R1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $d(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M4=["Webkit","ms","Moz","O"];Object.keys(yd).forEach(function(e){M4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yd[t]=yd[e]})});function D1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yd.hasOwnProperty(e)&&yd[e]?(""+t).trim():t+"px"}function M1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=D1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var O4=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tx(e,t){if(t){if(O4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function nx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rx=null;function Jv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sx=null,bl=null,Nl=null;function pb(e){if(e=Su(e)){if(typeof sx!="function")throw Error(de(280));var t=e.stateNode;t&&(t=vm(t),sx(e.stateNode,e.type,t))}}function O1(e){bl?Nl?Nl.push(e):Nl=[e]:bl=e}function F1(){if(bl){var e=bl,t=Nl;if(Nl=bl=null,pb(e),t)for(e=0;e<t.length;e++)pb(t[e])}}function L1(e,t){return e(t)}function $1(){}var zp=!1;function U1(e,t,n){if(zp)return e(t,n);zp=!0;try{return L1(e,t,n)}finally{zp=!1,(bl!==null||Nl!==null)&&($1(),F1())}}function Ud(e,t){var n=e.stateNode;if(n===null)return null;var r=vm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var ix=!1;if(li)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){ix=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{ix=!1}function F4(e,t,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var wd=!1,cf=null,df=!1,ax=null,L4={onError:function(e){wd=!0,cf=e}};function $4(e,t,n,r,i,a,o,l,c){wd=!1,cf=null,F4.apply(L4,arguments)}function U4(e,t,n,r,i,a,o,l,c){if($4.apply(this,arguments),wd){if(wd){var d=cf;wd=!1,cf=null}else throw Error(de(198));df||(df=!0,ax=d)}}function Uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function V1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gb(e){if(Uo(e)!==e)throw Error(de(188))}function V4(e){var t=e.alternate;if(!t){if(t=Uo(e),t===null)throw Error(de(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return gb(i),e;if(a===r)return gb(i),t;a=a.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?e:t}function z1(e){return e=V4(e),e!==null?B1(e):null}function B1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B1(e);if(t!==null)return t;e=e.sibling}return null}var W1=dr.unstable_scheduleCallback,xb=dr.unstable_cancelCallback,z4=dr.unstable_shouldYield,B4=dr.unstable_requestPaint,Bt=dr.unstable_now,W4=dr.unstable_getCurrentPriorityLevel,ey=dr.unstable_ImmediatePriority,H1=dr.unstable_UserBlockingPriority,uf=dr.unstable_NormalPriority,H4=dr.unstable_LowPriority,q1=dr.unstable_IdlePriority,mm=null,Ns=null;function q4(e){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(mm,e,void 0,(e.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:Y4,K4=Math.log,G4=Math.LN2;function Y4(e){return e>>>=0,e===0?32:31-(K4(e)/G4|0)|0}var lh=64,ch=4194304;function fd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=fd(l):(a&=o,a!==0&&(r=fd(a)))}else o=n&~i,o!==0?r=fd(o):a!==0&&(r=fd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Hr(t),i=1<<n,r|=e[n],t&=~i;return r}function Q4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Hr(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Q4(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ox(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function K1(){var e=lh;return lh<<=1,!(lh&4194240)&&(lh=64),e}function Bp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hr(t),e[t]=n}function Z4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Hr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function ty(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Hr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function G1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y1,ny,Q1,X1,Z1,lx=!1,dh=[],sa=null,ia=null,aa=null,Vd=new Map,zd=new Map,Ui=[],J4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vb(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":Vd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(t.pointerId)}}function ed(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Su(t),t!==null&&ny(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function eR(e,t,n,r,i){switch(t){case"focusin":return sa=ed(sa,e,t,n,r,i),!0;case"dragenter":return ia=ed(ia,e,t,n,r,i),!0;case"mouseover":return aa=ed(aa,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Vd.set(a,ed(Vd.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,zd.set(a,ed(zd.get(a)||null,e,t,n,r,i)),!0}return!1}function J1(e){var t=Za(e.target);if(t!==null){var n=Uo(t);if(n!==null){if(t=n.tag,t===13){if(t=V1(n),t!==null){e.blockedOn=t,Z1(e.priority,function(){Q1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $h(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rx=r,n.target.dispatchEvent(r),rx=null}else return t=Su(n),t!==null&&ny(t),e.blockedOn=n,!1;t.shift()}return!0}function yb(e,t,n){$h(e)&&n.delete(t)}function tR(){lx=!1,sa!==null&&$h(sa)&&(sa=null),ia!==null&&$h(ia)&&(ia=null),aa!==null&&$h(aa)&&(aa=null),Vd.forEach(yb),zd.forEach(yb)}function td(e,t){e.blockedOn===t&&(e.blockedOn=null,lx||(lx=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,tR)))}function Bd(e){function t(i){return td(i,e)}if(0<dh.length){td(dh[0],e);for(var n=1;n<dh.length;n++){var r=dh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sa!==null&&td(sa,e),ia!==null&&td(ia,e),aa!==null&&td(aa,e),Vd.forEach(t),zd.forEach(t),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)J1(n),n.blockedOn===null&&Ui.shift()}var _l=ji.ReactCurrentBatchConfig,ff=!0;function nR(e,t,n,r){var i=yt,a=_l.transition;_l.transition=null;try{yt=1,ry(e,t,n,r)}finally{yt=i,_l.transition=a}}function rR(e,t,n,r){var i=yt,a=_l.transition;_l.transition=null;try{yt=4,ry(e,t,n,r)}finally{yt=i,_l.transition=a}}function ry(e,t,n,r){if(ff){var i=cx(e,t,n,r);if(i===null)Jp(e,t,r,mf,n),vb(e,r);else if(eR(i,e,t,n,r))r.stopPropagation();else if(vb(e,r),t&4&&-1<J4.indexOf(e)){for(;i!==null;){var a=Su(i);if(a!==null&&Y1(a),a=cx(e,t,n,r),a===null&&Jp(e,t,r,mf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Jp(e,t,r,null,n)}}var mf=null;function cx(e,t,n,r){if(mf=null,e=Jv(r),e=Za(e),e!==null)if(t=Uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=V1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mf=e,null}function eS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W4()){case ey:return 1;case H1:return 4;case uf:case H4:return 16;case q1:return 536870912;default:return 16}default:return 16}}var ta=null,sy=null,Uh=null;function tS(){if(Uh)return Uh;var e,t=sy,n=t.length,r,i="value"in ta?ta.value:ta.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Uh=i.slice(e,1<r?1-r:void 0)}function Vh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uh(){return!0}function wb(){return!1}function gr(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uh:wb,this.isPropagationStopped=wb,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),t}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iy=gr(Nc),_u=Ft({},Nc,{view:0,detail:0}),sR=gr(_u),Wp,Hp,nd,pm=Ft({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nd&&(nd&&e.type==="mousemove"?(Wp=e.screenX-nd.screenX,Hp=e.screenY-nd.screenY):Hp=Wp=0,nd=e),Wp)},movementY:function(e){return"movementY"in e?e.movementY:Hp}}),jb=gr(pm),iR=Ft({},pm,{dataTransfer:0}),aR=gr(iR),oR=Ft({},_u,{relatedTarget:0}),qp=gr(oR),lR=Ft({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),cR=gr(lR),dR=Ft({},Nc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uR=gr(dR),hR=Ft({},Nc,{data:0}),bb=gr(hR),fR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pR[e])?!!t[e]:!1}function ay(){return gR}var xR=Ft({},_u,{key:function(e){if(e.key){var t=fR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(e){return e.type==="keypress"?Vh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vR=gr(xR),yR=Ft({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nb=gr(yR),wR=Ft({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),jR=gr(wR),bR=Ft({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),NR=gr(bR),_R=Ft({},pm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SR=gr(_R),CR=[9,13,27,32],oy=li&&"CompositionEvent"in window,jd=null;li&&"documentMode"in document&&(jd=document.documentMode);var kR=li&&"TextEvent"in window&&!jd,nS=li&&(!oy||jd&&8<jd&&11>=jd),_b=" ",Sb=!1;function rS(e,t){switch(e){case"keyup":return CR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ul=!1;function ER(e,t){switch(e){case"compositionend":return sS(t);case"keypress":return t.which!==32?null:(Sb=!0,_b);case"textInput":return e=t.data,e===_b&&Sb?null:e;default:return null}}function TR(e,t){if(ul)return e==="compositionend"||!oy&&rS(e,t)?(e=tS(),Uh=sy=ta=null,ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nS&&t.locale!=="ko"?null:t.data;default:return null}}var PR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PR[e.type]:t==="textarea"}function iS(e,t,n,r){O1(r),t=pf(t,"onChange"),0<t.length&&(n=new iy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bd=null,Wd=null;function AR(e){gS(e,0)}function gm(e){var t=ml(e);if(T1(t))return e}function IR(e,t){if(e==="change")return t}var aS=!1;if(li){var Kp;if(li){var Gp="oninput"in document;if(!Gp){var kb=document.createElement("div");kb.setAttribute("oninput","return;"),Gp=typeof kb.oninput=="function"}Kp=Gp}else Kp=!1;aS=Kp&&(!document.documentMode||9<document.documentMode)}function Eb(){bd&&(bd.detachEvent("onpropertychange",oS),Wd=bd=null)}function oS(e){if(e.propertyName==="value"&&gm(Wd)){var t=[];iS(t,Wd,e,Jv(e)),U1(AR,t)}}function RR(e,t,n){e==="focusin"?(Eb(),bd=t,Wd=n,bd.attachEvent("onpropertychange",oS)):e==="focusout"&&Eb()}function DR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gm(Wd)}function MR(e,t){if(e==="click")return gm(t)}function OR(e,t){if(e==="input"||e==="change")return gm(t)}function FR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zr=typeof Object.is=="function"?Object.is:FR;function Hd(e,t){if(Zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hg.call(t,i)||!Zr(e[i],t[i]))return!1}return!0}function Tb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pb(e,t){var n=Tb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tb(n)}}function lS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cS(){for(var e=window,t=lf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lf(e.document)}return t}function ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LR(e){var t=cS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lS(n.ownerDocument.documentElement,n)){if(r!==null&&ly(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Pb(n,a);var o=Pb(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $R=li&&"documentMode"in document&&11>=document.documentMode,hl=null,dx=null,Nd=null,ux=!1;function Ab(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ux||hl==null||hl!==lf(r)||(r=hl,"selectionStart"in r&&ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nd&&Hd(Nd,r)||(Nd=r,r=pf(dx,"onSelect"),0<r.length&&(t=new iy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hl)))}function hh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fl={animationend:hh("Animation","AnimationEnd"),animationiteration:hh("Animation","AnimationIteration"),animationstart:hh("Animation","AnimationStart"),transitionend:hh("Transition","TransitionEnd")},Yp={},dS={};li&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function xm(e){if(Yp[e])return Yp[e];if(!fl[e])return e;var t=fl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dS)return Yp[e]=t[n];return e}var uS=xm("animationend"),hS=xm("animationiteration"),fS=xm("animationstart"),mS=xm("transitionend"),pS=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(e,t){pS.set(e,t),$o(t,[e])}for(var Qp=0;Qp<Ib.length;Qp++){var Xp=Ib[Qp],UR=Xp.toLowerCase(),VR=Xp[0].toUpperCase()+Xp.slice(1);Ea(UR,"on"+VR)}Ea(uS,"onAnimationEnd");Ea(hS,"onAnimationIteration");Ea(fS,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(mS,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("cancel close invalid load scroll toggle".split(" ").concat(md));function Rb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,U4(r,t,void 0,e),e.currentTarget=null}function gS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Rb(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Rb(i,l,d),a=c}}}if(df)throw e=ax,df=!1,ax=null,e}function At(e,t){var n=t[gx];n===void 0&&(n=t[gx]=new Set);var r=e+"__bubble";n.has(r)||(xS(t,e,2,!1),n.add(r))}function Zp(e,t,n){var r=0;t&&(r|=4),xS(n,e,r,t)}var fh="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[fh]){e[fh]=!0,_1.forEach(function(n){n!=="selectionchange"&&(zR.has(n)||Zp(n,!1,e),Zp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fh]||(t[fh]=!0,Zp("selectionchange",!1,t))}}function xS(e,t,n,r){switch(eS(t)){case 1:var i=nR;break;case 4:i=rR;break;default:i=ry}n=i.bind(null,t,n,e),i=void 0,!ix||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Za(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}U1(function(){var d=a,h=Jv(n),m=[];e:{var f=pS.get(e);if(f!==void 0){var j=iy,x=e;switch(e){case"keypress":if(Vh(n)===0)break e;case"keydown":case"keyup":j=vR;break;case"focusin":x="focus",j=qp;break;case"focusout":x="blur",j=qp;break;case"beforeblur":case"afterblur":j=qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=aR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=jR;break;case uS:case hS:case fS:j=cR;break;case mS:j=NR;break;case"scroll":j=sR;break;case"wheel":j=SR;break;case"copy":case"cut":case"paste":j=uR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Nb}var g=(t&4)!==0,C=!g&&e==="scroll",N=g?f!==null?f+"Capture":null:f;g=[];for(var v=d,S;v!==null;){S=v;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,N!==null&&(w=Ud(v,N),w!=null&&g.push(Kd(v,w,S)))),C)break;v=v.return}0<g.length&&(f=new j(f,x,null,n,h),m.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",f&&n!==rx&&(x=n.relatedTarget||n.fromElement)&&(Za(x)||x[ci]))break e;if((j||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,j?(x=n.relatedTarget||n.toElement,j=d,x=x?Za(x):null,x!==null&&(C=Uo(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(j=null,x=d),j!==x)){if(g=jb,w="onMouseLeave",N="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Nb,w="onPointerLeave",N="onPointerEnter",v="pointer"),C=j==null?f:ml(j),S=x==null?f:ml(x),f=new g(w,v+"leave",j,n,h),f.target=C,f.relatedTarget=S,w=null,Za(h)===d&&(g=new g(N,v+"enter",x,n,h),g.target=S,g.relatedTarget=C,w=g),C=w,j&&x)t:{for(g=j,N=x,v=0,S=g;S;S=el(S))v++;for(S=0,w=N;w;w=el(w))S++;for(;0<v-S;)g=el(g),v--;for(;0<S-v;)N=el(N),S--;for(;v--;){if(g===N||N!==null&&g===N.alternate)break t;g=el(g),N=el(N)}g=null}else g=null;j!==null&&Db(m,f,j,g,!1),x!==null&&C!==null&&Db(m,C,x,g,!0)}}e:{if(f=d?ml(d):window,j=f.nodeName&&f.nodeName.toLowerCase(),j==="select"||j==="input"&&f.type==="file")var A=IR;else if(Cb(f))if(aS)A=OR;else{A=DR;var M=RR}else(j=f.nodeName)&&j.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=MR);if(A&&(A=A(e,d))){iS(m,A,n,h);break e}M&&M(e,f,d),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Zg(f,"number",f.value)}switch(M=d?ml(d):window,e){case"focusin":(Cb(M)||M.contentEditable==="true")&&(hl=M,dx=d,Nd=null);break;case"focusout":Nd=dx=hl=null;break;case"mousedown":ux=!0;break;case"contextmenu":case"mouseup":case"dragend":ux=!1,Ab(m,n,h);break;case"selectionchange":if($R)break;case"keydown":case"keyup":Ab(m,n,h)}var E;if(oy)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ul?rS(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(nS&&n.locale!=="ko"&&(ul||b!=="onCompositionStart"?b==="onCompositionEnd"&&ul&&(E=tS()):(ta=h,sy="value"in ta?ta.value:ta.textContent,ul=!0)),M=pf(d,b),0<M.length&&(b=new bb(b,e,null,n,h),m.push({event:b,listeners:M}),E?b.data=E:(E=sS(n),E!==null&&(b.data=E)))),(E=kR?ER(e,n):TR(e,n))&&(d=pf(d,"onBeforeInput"),0<d.length&&(h=new bb("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=E))}gS(m,t)})}function Kd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ud(e,n),a!=null&&r.unshift(Kd(e,a,i)),a=Ud(e,t),a!=null&&r.push(Kd(e,a,i))),e=e.return}return r}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Db(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Ud(n,a),c!=null&&o.unshift(Kd(n,c,l))):i||(c=Ud(n,a),c!=null&&o.push(Kd(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var BR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function Mb(e){return(typeof e=="string"?e:""+e).replace(BR,`
`).replace(WR,"")}function mh(e,t,n){if(t=Mb(t),Mb(e)!==t&&n)throw Error(de(425))}function gf(){}var hx=null,fx=null;function mx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var px=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(e){return Ob.resolve(null).then(e).catch(KR)}:px;function KR(e){setTimeout(function(){throw e})}function eg(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Bd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bd(t)}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _c=Math.random().toString(36).slice(2),ps="__reactFiber$"+_c,Gd="__reactProps$"+_c,ci="__reactContainer$"+_c,gx="__reactEvents$"+_c,GR="__reactListeners$"+_c,YR="__reactHandles$"+_c;function Za(e){var t=e[ps];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[ps]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fb(e);e!==null;){if(n=e[ps])return n;e=Fb(e)}return t}e=n,n=e.parentNode}return null}function Su(e){return e=e[ps]||e[ci],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ml(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function vm(e){return e[Gd]||null}var xx=[],pl=-1;function Ta(e){return{current:e}}function It(e){0>pl||(e.current=xx[pl],xx[pl]=null,pl--)}function kt(e,t){pl++,xx[pl]=e.current,e.current=t}var ya={},Cn=Ta(ya),Xn=Ta(!1),wo=ya;function Jl(e,t){var n=e.type.contextTypes;if(!n)return ya;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(e){return e=e.childContextTypes,e!=null}function xf(){It(Xn),It(Cn)}function Lb(e,t,n){if(Cn.current!==ya)throw Error(de(168));kt(Cn,t),kt(Xn,n)}function vS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(de(108,R4(e)||"Unknown",i));return Ft({},n,r)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ya,wo=Cn.current,kt(Cn,e),kt(Xn,Xn.current),!0}function $b(e,t,n){var r=e.stateNode;if(!r)throw Error(de(169));n?(e=vS(e,t,wo),r.__reactInternalMemoizedMergedChildContext=e,It(Xn),It(Cn),kt(Cn,e)):It(Xn),kt(Xn,n)}var Ks=null,ym=!1,tg=!1;function yS(e){Ks===null?Ks=[e]:Ks.push(e)}function QR(e){ym=!0,yS(e)}function Pa(){if(!tg&&Ks!==null){tg=!0;var e=0,t=yt;try{var n=Ks;for(yt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ks=null,ym=!1}catch(i){throw Ks!==null&&(Ks=Ks.slice(e+1)),W1(ey,Pa),i}finally{yt=t,tg=!1}}return null}var gl=[],xl=0,yf=null,wf=0,jr=[],br=0,jo=null,ti=1,ni="";function Ba(e,t){gl[xl++]=wf,gl[xl++]=yf,yf=e,wf=t}function wS(e,t,n){jr[br++]=ti,jr[br++]=ni,jr[br++]=jo,jo=e;var r=ti;e=ni;var i=32-Hr(r)-1;r&=~(1<<i),n+=1;var a=32-Hr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ti=1<<32-Hr(t)+i|n<<i|r,ni=a+e}else ti=1<<a|n<<i|r,ni=e}function cy(e){e.return!==null&&(Ba(e,1),wS(e,1,0))}function dy(e){for(;e===yf;)yf=gl[--xl],gl[xl]=null,wf=gl[--xl],gl[xl]=null;for(;e===jo;)jo=jr[--br],jr[br]=null,ni=jr[--br],jr[br]=null,ti=jr[--br],jr[br]=null}var lr=null,or=null,Rt=!1,Or=null;function jS(e,t){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ub(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lr=e,or=oa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lr=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jo!==null?{id:ti,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lr=e,or=null,!0):!1;default:return!1}}function vx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yx(e){if(Rt){var t=or;if(t){var n=t;if(!Ub(e,t)){if(vx(e))throw Error(de(418));t=oa(n.nextSibling);var r=lr;t&&Ub(e,t)?jS(r,n):(e.flags=e.flags&-4097|2,Rt=!1,lr=e)}}else{if(vx(e))throw Error(de(418));e.flags=e.flags&-4097|2,Rt=!1,lr=e}}}function Vb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lr=e}function ph(e){if(e!==lr)return!1;if(!Rt)return Vb(e),Rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mx(e.type,e.memoizedProps)),t&&(t=or)){if(vx(e))throw bS(),Error(de(418));for(;t;)jS(e,t),t=oa(t.nextSibling)}if(Vb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){or=oa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}or=null}}else or=lr?oa(e.stateNode.nextSibling):null;return!0}function bS(){for(var e=or;e;)e=oa(e.nextSibling)}function ec(){or=lr=null,Rt=!1}function uy(e){Or===null?Or=[e]:Or.push(e)}var XR=ji.ReactCurrentBatchConfig;function rd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,e))}return e}function gh(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zb(e){var t=e._init;return t(e._payload)}function NS(e){function t(N,v){if(e){var S=N.deletions;S===null?(N.deletions=[v],N.flags|=16):S.push(v)}}function n(N,v){if(!e)return null;for(;v!==null;)t(N,v),v=v.sibling;return null}function r(N,v){for(N=new Map;v!==null;)v.key!==null?N.set(v.key,v):N.set(v.index,v),v=v.sibling;return N}function i(N,v){return N=ua(N,v),N.index=0,N.sibling=null,N}function a(N,v,S){return N.index=S,e?(S=N.alternate,S!==null?(S=S.index,S<v?(N.flags|=2,v):S):(N.flags|=2,v)):(N.flags|=1048576,v)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,v,S,w){return v===null||v.tag!==6?(v=lg(S,N.mode,w),v.return=N,v):(v=i(v,S),v.return=N,v)}function c(N,v,S,w){var A=S.type;return A===dl?h(N,v,S.props.children,w,S.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fi&&zb(A)===v.type)?(w=i(v,S.props),w.ref=rd(N,v,S),w.return=N,w):(w=Gh(S.type,S.key,S.props,null,N.mode,w),w.ref=rd(N,v,S),w.return=N,w)}function d(N,v,S,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=cg(S,N.mode,w),v.return=N,v):(v=i(v,S.children||[]),v.return=N,v)}function h(N,v,S,w,A){return v===null||v.tag!==7?(v=go(S,N.mode,w,A),v.return=N,v):(v=i(v,S),v.return=N,v)}function m(N,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=lg(""+v,N.mode,S),v.return=N,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ih:return S=Gh(v.type,v.key,v.props,null,N.mode,S),S.ref=rd(N,null,v),S.return=N,S;case cl:return v=cg(v,N.mode,S),v.return=N,v;case Fi:var w=v._init;return m(N,w(v._payload),S)}if(hd(v)||Zc(v))return v=go(v,N.mode,S,null),v.return=N,v;gh(N,v)}return null}function f(N,v,S,w){var A=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:l(N,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ih:return S.key===A?c(N,v,S,w):null;case cl:return S.key===A?d(N,v,S,w):null;case Fi:return A=S._init,f(N,v,A(S._payload),w)}if(hd(S)||Zc(S))return A!==null?null:h(N,v,S,w,null);gh(N,S)}return null}function j(N,v,S,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return N=N.get(S)||null,l(v,N,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ih:return N=N.get(w.key===null?S:w.key)||null,c(v,N,w,A);case cl:return N=N.get(w.key===null?S:w.key)||null,d(v,N,w,A);case Fi:var M=w._init;return j(N,v,S,M(w._payload),A)}if(hd(w)||Zc(w))return N=N.get(S)||null,h(v,N,w,A,null);gh(v,w)}return null}function x(N,v,S,w){for(var A=null,M=null,E=v,b=v=0,_=null;E!==null&&b<S.length;b++){E.index>b?(_=E,E=null):_=E.sibling;var R=f(N,E,S[b],w);if(R===null){E===null&&(E=_);break}e&&E&&R.alternate===null&&t(N,E),v=a(R,v,b),M===null?A=R:M.sibling=R,M=R,E=_}if(b===S.length)return n(N,E),Rt&&Ba(N,b),A;if(E===null){for(;b<S.length;b++)E=m(N,S[b],w),E!==null&&(v=a(E,v,b),M===null?A=E:M.sibling=E,M=E);return Rt&&Ba(N,b),A}for(E=r(N,E);b<S.length;b++)_=j(E,N,b,S[b],w),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?b:_.key),v=a(_,v,b),M===null?A=_:M.sibling=_,M=_);return e&&E.forEach(function(P){return t(N,P)}),Rt&&Ba(N,b),A}function g(N,v,S,w){var A=Zc(S);if(typeof A!="function")throw Error(de(150));if(S=A.call(S),S==null)throw Error(de(151));for(var M=A=null,E=v,b=v=0,_=null,R=S.next();E!==null&&!R.done;b++,R=S.next()){E.index>b?(_=E,E=null):_=E.sibling;var P=f(N,E,R.value,w);if(P===null){E===null&&(E=_);break}e&&E&&P.alternate===null&&t(N,E),v=a(P,v,b),M===null?A=P:M.sibling=P,M=P,E=_}if(R.done)return n(N,E),Rt&&Ba(N,b),A;if(E===null){for(;!R.done;b++,R=S.next())R=m(N,R.value,w),R!==null&&(v=a(R,v,b),M===null?A=R:M.sibling=R,M=R);return Rt&&Ba(N,b),A}for(E=r(N,E);!R.done;b++,R=S.next())R=j(E,N,b,R.value,w),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?b:R.key),v=a(R,v,b),M===null?A=R:M.sibling=R,M=R);return e&&E.forEach(function(k){return t(N,k)}),Rt&&Ba(N,b),A}function C(N,v,S,w){if(typeof S=="object"&&S!==null&&S.type===dl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ih:e:{for(var A=S.key,M=v;M!==null;){if(M.key===A){if(A=S.type,A===dl){if(M.tag===7){n(N,M.sibling),v=i(M,S.props.children),v.return=N,N=v;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fi&&zb(A)===M.type){n(N,M.sibling),v=i(M,S.props),v.ref=rd(N,M,S),v.return=N,N=v;break e}n(N,M);break}else t(N,M);M=M.sibling}S.type===dl?(v=go(S.props.children,N.mode,w,S.key),v.return=N,N=v):(w=Gh(S.type,S.key,S.props,null,N.mode,w),w.ref=rd(N,v,S),w.return=N,N=w)}return o(N);case cl:e:{for(M=S.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(N,v.sibling),v=i(v,S.children||[]),v.return=N,N=v;break e}else{n(N,v);break}else t(N,v);v=v.sibling}v=cg(S,N.mode,w),v.return=N,N=v}return o(N);case Fi:return M=S._init,C(N,v,M(S._payload),w)}if(hd(S))return x(N,v,S,w);if(Zc(S))return g(N,v,S,w);gh(N,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(N,v.sibling),v=i(v,S),v.return=N,N=v):(n(N,v),v=lg(S,N.mode,w),v.return=N,N=v),o(N)):n(N,v)}return C}var tc=NS(!0),_S=NS(!1),jf=Ta(null),bf=null,vl=null,hy=null;function fy(){hy=vl=bf=null}function my(e){var t=jf.current;It(jf),e._currentValue=t}function wx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sl(e,t){bf=e,hy=vl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yn=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(hy!==e)if(e={context:e,memoizedValue:t,next:null},vl===null){if(bf===null)throw Error(de(308));vl=e,bf.dependencies={lanes:0,firstContext:e}}else vl=vl.next=e;return t}var Ja=null;function py(e){Ja===null?Ja=[e]:Ja.push(e)}function SS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,py(t)):(n.next=i.next,i.next=n),t.interleaved=n,di(e,r)}function di(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Li=!1;function gy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,di(e,n)}return i=r.interleaved,i===null?(t.next=t,py(r)):(t.next=i.next,i.next=t),r.interleaved=t,di(e,n)}function zh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ty(e,n)}}function Bb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nf(e,t,n,r){var i=e.updateQueue;Li=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var m=i.baseState;o=0,h=d=c=null,l=a;do{var f=l.lane,j=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:j,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,j=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){m=x.call(j,m,f);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(j,m,f):x,f==null)break e;m=Ft({},m,f);break e;case 2:Li=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else j={eventTime:j,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=j,c=m):h=h.next=j,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);No|=o,e.lanes=o,e.memoizedState=m}}function Wb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(de(191,i));i.call(r)}}}var Cu={},_s=Ta(Cu),Yd=Ta(Cu),Qd=Ta(Cu);function eo(e){if(e===Cu)throw Error(de(174));return e}function xy(e,t){switch(kt(Qd,t),kt(Yd,e),kt(_s,Cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ex(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ex(t,e)}It(_s),kt(_s,t)}function nc(){It(_s),It(Yd),It(Qd)}function kS(e){eo(Qd.current);var t=eo(_s.current),n=ex(t,e.type);t!==n&&(kt(Yd,e),kt(_s,n))}function vy(e){Yd.current===e&&(It(_s),It(Yd))}var Mt=Ta(0);function _f(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ng=[];function yy(){for(var e=0;e<ng.length;e++)ng[e]._workInProgressVersionPrimary=null;ng.length=0}var Bh=ji.ReactCurrentDispatcher,rg=ji.ReactCurrentBatchConfig,bo=0,Ot=null,tn=null,un=null,Sf=!1,_d=!1,Xd=0,ZR=0;function Nn(){throw Error(de(321))}function wy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zr(e[n],t[n]))return!1;return!0}function jy(e,t,n,r,i,a){if(bo=a,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bh.current=e===null||e.memoizedState===null?nD:rD,e=n(r,i),_d){a=0;do{if(_d=!1,Xd=0,25<=a)throw Error(de(301));a+=1,un=tn=null,t.updateQueue=null,Bh.current=sD,e=n(r,i)}while(_d)}if(Bh.current=Cf,t=tn!==null&&tn.next!==null,bo=0,un=tn=Ot=null,Sf=!1,t)throw Error(de(300));return e}function by(){var e=Xd!==0;return Xd=0,e}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ot.memoizedState=un=e:un=un.next=e,un}function kr(){if(tn===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=un===null?Ot.memoizedState:un.next;if(t!==null)un=t,tn=e;else{if(e===null)throw Error(de(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},un===null?Ot.memoizedState=un=e:un=un.next=e}return un}function Zd(e,t){return typeof t=="function"?t(e):t}function sg(e){var t=kr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var r=tn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((bo&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Ot.lanes|=h,No|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Zr(r,t.memoizedState)||(Yn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ot.lanes|=a,No|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ig(e){var t=kr(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Zr(a,t.memoizedState)||(Yn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ES(){}function TS(e,t){var n=Ot,r=kr(),i=t(),a=!Zr(r.memoizedState,i);if(a&&(r.memoizedState=i,Yn=!0),r=r.queue,Ny(IS.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,Jd(9,AS.bind(null,n,r,i,t),void 0,null),fn===null)throw Error(de(349));bo&30||PS(n,t,i)}return i}function PS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function AS(e,t,n,r){t.value=n,t.getSnapshot=r,RS(t)&&DS(e)}function IS(e,t,n){return n(function(){RS(t)&&DS(e)})}function RS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zr(e,n)}catch{return!0}}function DS(e){var t=di(e,1);t!==null&&qr(t,e,1,-1)}function Hb(e){var t=cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:e},t.queue=e,e=e.dispatch=tD.bind(null,Ot,e),[t.memoizedState,e]}function Jd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function MS(){return kr().memoizedState}function Wh(e,t,n,r){var i=cs();Ot.flags|=e,i.memoizedState=Jd(1|t,n,void 0,r===void 0?null:r)}function wm(e,t,n,r){var i=kr();r=r===void 0?null:r;var a=void 0;if(tn!==null){var o=tn.memoizedState;if(a=o.destroy,r!==null&&wy(r,o.deps)){i.memoizedState=Jd(t,n,a,r);return}}Ot.flags|=e,i.memoizedState=Jd(1|t,n,a,r)}function qb(e,t){return Wh(8390656,8,e,t)}function Ny(e,t){return wm(2048,8,e,t)}function OS(e,t){return wm(4,2,e,t)}function FS(e,t){return wm(4,4,e,t)}function LS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $S(e,t,n){return n=n!=null?n.concat([e]):null,wm(4,4,LS.bind(null,t,e),n)}function _y(){}function US(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function VS(e,t){var n=kr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zS(e,t,n){return bo&21?(Zr(n,t)||(n=K1(),Ot.lanes|=n,No|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yn=!0),e.memoizedState=n)}function JR(e,t){var n=yt;yt=n!==0&&4>n?n:4,e(!0);var r=rg.transition;rg.transition={};try{e(!1),t()}finally{yt=n,rg.transition=r}}function BS(){return kr().memoizedState}function eD(e,t,n){var r=da(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WS(e))HS(t,n);else if(n=SS(e,t,n,r),n!==null){var i=Ln();qr(n,e,r,i),qS(n,t,r)}}function tD(e,t,n){var r=da(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WS(e))HS(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Zr(l,o)){var c=t.interleaved;c===null?(i.next=i,py(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=SS(e,t,i,r),n!==null&&(i=Ln(),qr(n,e,r,i),qS(n,t,r))}}function WS(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function HS(e,t){_d=Sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ty(e,n)}}var Cf={readContext:Cr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},nD={readContext:Cr,useCallback:function(e,t){return cs().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:qb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4194308,4,LS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wh(4,2,e,t)},useMemo:function(e,t){var n=cs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eD.bind(null,Ot,e),[r.memoizedState,e]},useRef:function(e){var t=cs();return e={current:e},t.memoizedState=e},useState:Hb,useDebugValue:_y,useDeferredValue:function(e){return cs().memoizedState=e},useTransition:function(){var e=Hb(!1),t=e[0];return e=JR.bind(null,e[1]),cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ot,i=cs();if(Rt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),fn===null)throw Error(de(349));bo&30||PS(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qb(IS.bind(null,r,a,e),[e]),r.flags|=2048,Jd(9,AS.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=cs(),t=fn.identifierPrefix;if(Rt){var n=ni,r=ti;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rD={readContext:Cr,useCallback:US,useContext:Cr,useEffect:Ny,useImperativeHandle:$S,useInsertionEffect:OS,useLayoutEffect:FS,useMemo:VS,useReducer:sg,useRef:MS,useState:function(){return sg(Zd)},useDebugValue:_y,useDeferredValue:function(e){var t=kr();return zS(t,tn.memoizedState,e)},useTransition:function(){var e=sg(Zd)[0],t=kr().memoizedState;return[e,t]},useMutableSource:ES,useSyncExternalStore:TS,useId:BS,unstable_isNewReconciler:!1},sD={readContext:Cr,useCallback:US,useContext:Cr,useEffect:Ny,useImperativeHandle:$S,useInsertionEffect:OS,useLayoutEffect:FS,useMemo:VS,useReducer:ig,useRef:MS,useState:function(){return ig(Zd)},useDebugValue:_y,useDeferredValue:function(e){var t=kr();return tn===null?t.memoizedState=e:zS(t,tn.memoizedState,e)},useTransition:function(){var e=ig(Zd)[0],t=kr().memoizedState;return[e,t]},useMutableSource:ES,useSyncExternalStore:TS,useId:BS,unstable_isNewReconciler:!1};function Ir(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jm={isMounted:function(e){return(e=e._reactInternals)?Uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ln(),i=da(e),a=ai(r,i);a.payload=t,n!=null&&(a.callback=n),t=la(e,a,i),t!==null&&(qr(t,e,i,r),zh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ln(),i=da(e),a=ai(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=la(e,a,i),t!==null&&(qr(t,e,i,r),zh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ln(),r=da(e),i=ai(n,r);i.tag=2,t!=null&&(i.callback=t),t=la(e,i,r),t!==null&&(qr(t,e,r,n),zh(t,e,r))}};function Kb(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Hd(n,r)||!Hd(i,a):!0}function KS(e,t,n){var r=!1,i=ya,a=t.contextType;return typeof a=="object"&&a!==null?a=Cr(a):(i=Zn(t)?wo:Cn.current,r=t.contextTypes,a=(r=r!=null)?Jl(e,i):ya),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Gb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jm.enqueueReplaceState(t,t.state,null)}function bx(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},gy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Cr(a):(a=Zn(t)?wo:Cn.current,i.context=Jl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(jx(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jm.enqueueReplaceState(i,i.state,null),Nf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function rc(e,t){try{var n="",r=t;do n+=I4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function ag(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iD=typeof WeakMap=="function"?WeakMap:Map;function GS(e,t,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ef||(Ef=!0,Rx=r),Nx(e,t)},n}function YS(e,t,n){n=ai(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Nx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Nx(e,t),typeof r!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yD.bind(null,e,t,n),t.then(e,e))}function Qb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xb(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ai(-1,1),t.tag=2,la(n,t,1))),n.lanes|=1),e)}var aD=ji.ReactCurrentOwner,Yn=!1;function In(e,t,n,r){t.child=e===null?_S(t,null,n,r):tc(t,e.child,n,r)}function Zb(e,t,n,r,i){n=n.render;var a=t.ref;return Sl(t,i),r=jy(e,t,n,r,a,i),n=by(),e!==null&&!Yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ui(e,t,i)):(Rt&&n&&cy(t),t.flags|=1,In(e,t,r,i),t.child)}function Jb(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Iy(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,QS(e,t,a,r,i)):(e=Gh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hd,n(o,r)&&e.ref===t.ref)return ui(e,t,i)}return t.flags|=1,e=ua(a,r),e.ref=t.ref,e.return=t,t.child=e}function QS(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Hd(a,r)&&e.ref===t.ref)if(Yn=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Yn=!0);else return t.lanes=e.lanes,ui(e,t,i)}return _x(e,t,n,r,i)}function XS(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(wl,nr),nr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kt(wl,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,kt(wl,nr),nr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,kt(wl,nr),nr|=r;return In(e,t,i,n),t.child}function ZS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _x(e,t,n,r,i){var a=Zn(n)?wo:Cn.current;return a=Jl(t,a),Sl(t,i),n=jy(e,t,n,r,a,i),r=by(),e!==null&&!Yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ui(e,t,i)):(Rt&&r&&cy(t),t.flags|=1,In(e,t,n,i),t.child)}function eN(e,t,n,r,i){if(Zn(n)){var a=!0;vf(t)}else a=!1;if(Sl(t,i),t.stateNode===null)Hh(e,t),KS(t,n,r),bx(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Cr(d):(d=Zn(n)?wo:Cn.current,d=Jl(t,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Gb(t,o,r,d),Li=!1;var f=t.memoizedState;o.state=f,Nf(t,r,o,i),c=t.memoizedState,l!==r||f!==c||Xn.current||Li?(typeof h=="function"&&(jx(t,n,h,r),c=t.memoizedState),(l=Li||Kb(t,n,l,r,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,CS(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ir(t.type,l),o.props=d,m=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Zn(n)?wo:Cn.current,c=Jl(t,c));var j=n.getDerivedStateFromProps;(h=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Gb(t,o,r,c),Li=!1,f=t.memoizedState,o.state=f,Nf(t,r,o,i);var x=t.memoizedState;l!==m||f!==x||Xn.current||Li?(typeof j=="function"&&(jx(t,n,j,r),x=t.memoizedState),(d=Li||Kb(t,n,d,r,f,x,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Sx(e,t,n,r,a,i)}function Sx(e,t,n,r,i,a){ZS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&$b(t,n,!1),ui(e,t,a);r=t.stateNode,aD.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=tc(t,e.child,null,a),t.child=tc(t,null,l,a)):In(e,t,l,a),t.memoizedState=r.state,i&&$b(t,n,!0),t.child}function JS(e){var t=e.stateNode;t.pendingContext?Lb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lb(e,t.context,!1),xy(e,t.containerInfo)}function tN(e,t,n,r,i){return ec(),uy(i),t.flags|=256,In(e,t,n,r),t.child}var Cx={dehydrated:null,treeContext:null,retryLane:0};function kx(e){return{baseLanes:e,cachePool:null,transitions:null}}function eC(e,t,n){var r=t.pendingProps,i=Mt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),kt(Mt,i&1),e===null)return yx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=_m(o,r,0,null),e=go(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=kx(n),t.memoizedState=Cx,e):Sy(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return oD(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ua(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ua(l,a):(a=go(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?kx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Cx,r}return a=e.child,e=a.sibling,r=ua(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sy(e,t){return t=_m({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xh(e,t,n,r){return r!==null&&uy(r),tc(t,e.child,null,n),e=Sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oD(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=ag(Error(de(422))),xh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=_m({mode:"visible",children:r.children},i,0,null),a=go(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&tc(t,e.child,null,o),t.child.memoizedState=kx(o),t.memoizedState=Cx,a);if(!(t.mode&1))return xh(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(de(419)),r=ag(a,r,void 0),xh(e,t,o,r)}if(l=(o&e.childLanes)!==0,Yn||l){if(r=fn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,di(e,i),qr(r,e,i,-1))}return Ay(),r=ag(Error(de(421))),xh(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wD.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,or=oa(i.nextSibling),lr=t,Rt=!0,Or=null,e!==null&&(jr[br++]=ti,jr[br++]=ni,jr[br++]=jo,ti=e.id,ni=e.overflow,jo=t),t=Sy(t,r.children),t.flags|=4096,t)}function nN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wx(e.return,t,n)}function og(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function tC(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(In(e,t,r.children,n),r=Mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nN(e,n,t);else if(e.tag===19)nN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(kt(Mt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_f(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),og(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_f(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}og(t,!0,n,null,a);break;case"together":og(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ui(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,n=ua(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ua(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lD(e,t,n){switch(t.tag){case 3:JS(t),ec();break;case 5:kS(t);break;case 1:Zn(t.type)&&vf(t);break;case 4:xy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;kt(jf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(kt(Mt,Mt.current&1),t.flags|=128,null):n&t.child.childLanes?eC(e,t,n):(kt(Mt,Mt.current&1),e=ui(e,t,n),e!==null?e.sibling:null);kt(Mt,Mt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Mt,Mt.current),r)break;return null;case 22:case 23:return t.lanes=0,XS(e,t,n)}return ui(e,t,n)}var nC,Ex,rC,sC;nC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ex=function(){};rC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,eo(_s.current);var a=null;switch(n){case"input":i=Qg(e,i),r=Qg(e,r),a=[];break;case"select":i=Ft({},i,{value:void 0}),r=Ft({},r,{value:void 0}),a=[];break;case"textarea":i=Jg(e,i),r=Jg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gf)}tx(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ld.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ld.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&At("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};sC=function(e,t,n,r){n!==r&&(t.flags|=4)};function sd(e,t){if(!Rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _n(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cD(e,t,n){var r=t.pendingProps;switch(dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(t),null;case 1:return Zn(t.type)&&xf(),_n(t),null;case 3:return r=t.stateNode,nc(),It(Xn),It(Cn),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ph(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(Ox(Or),Or=null))),Ex(e,t),_n(t),null;case 5:vy(t);var i=eo(Qd.current);if(n=t.type,e!==null&&t.stateNode!=null)rC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(de(166));return _n(t),null}if(e=eo(_s.current),ph(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ps]=t,r[Gd]=a,e=(t.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(i=0;i<md.length;i++)At(md[i],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":ub(r,a),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},At("invalid",r);break;case"textarea":fb(r,a),At("invalid",r)}tx(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&mh(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&mh(r.textContent,l,e),i=["children",""+l]):Ld.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&At("scroll",r)}switch(n){case"input":ah(r),hb(r,a,!0);break;case"textarea":ah(r),mb(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=gf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ps]=t,e[Gd]=r,nC(e,t,!1,!1),t.stateNode=e;e:{switch(o=nx(n,r),n){case"dialog":At("cancel",e),At("close",e),i=r;break;case"iframe":case"object":case"embed":At("load",e),i=r;break;case"video":case"audio":for(i=0;i<md.length;i++)At(md[i],e);i=r;break;case"source":At("error",e),i=r;break;case"img":case"image":case"link":At("error",e),At("load",e),i=r;break;case"details":At("toggle",e),i=r;break;case"input":ub(e,r),i=Qg(e,r),At("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ft({},r,{value:void 0}),At("invalid",e);break;case"textarea":fb(e,r),i=Jg(e,r),At("invalid",e);break;default:i=r}tx(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?M1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&R1(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$d(e,c):typeof c=="number"&&$d(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ld.hasOwnProperty(a)?c!=null&&a==="onScroll"&&At("scroll",e):c!=null&&Yv(e,a,c,o))}switch(n){case"input":ah(e),hb(e,r,!1);break;case"textarea":ah(e),mb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+va(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?jl(e,!!r.multiple,a,!1):r.defaultValue!=null&&jl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _n(t),null;case 6:if(e&&t.stateNode!=null)sC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(de(166));if(n=eo(Qd.current),eo(_s.current),ph(t)){if(r=t.stateNode,n=t.memoizedProps,r[ps]=t,(a=r.nodeValue!==n)&&(e=lr,e!==null))switch(e.tag){case 3:mh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ps]=t,t.stateNode=r}return _n(t),null;case 13:if(It(Mt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rt&&or!==null&&t.mode&1&&!(t.flags&128))bS(),ec(),t.flags|=98560,a=!1;else if(a=ph(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(de(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[ps]=t}else ec(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_n(t),a=!1}else Or!==null&&(Ox(Or),Or=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Mt.current&1?on===0&&(on=3):Ay())),t.updateQueue!==null&&(t.flags|=4),_n(t),null);case 4:return nc(),Ex(e,t),e===null&&qd(t.stateNode.containerInfo),_n(t),null;case 10:return my(t.type._context),_n(t),null;case 17:return Zn(t.type)&&xf(),_n(t),null;case 19:if(It(Mt),a=t.memoizedState,a===null)return _n(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)sd(a,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_f(e),o!==null){for(t.flags|=128,sd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kt(Mt,Mt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Bt()>sc&&(t.flags|=128,r=!0,sd(a,!1),t.lanes=4194304)}else{if(!r)if(e=_f(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Rt)return _n(t),null}else 2*Bt()-a.renderingStartTime>sc&&n!==1073741824&&(t.flags|=128,r=!0,sd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Bt(),t.sibling=null,n=Mt.current,kt(Mt,r?n&1|2:n&1),t):(_n(t),null);case 22:case 23:return Py(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nr&1073741824&&(_n(t),t.subtreeFlags&6&&(t.flags|=8192)):_n(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function dD(e,t){switch(dy(t),t.tag){case 1:return Zn(t.type)&&xf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nc(),It(Xn),It(Cn),yy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vy(t),null;case 13:if(It(Mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));ec()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return It(Mt),null;case 4:return nc(),null;case 10:return my(t.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var vh=!1,Sn=!1,uD=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function yl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(e,t,r)}else n.current=null}function Tx(e,t,n){try{n()}catch(r){Ut(e,t,r)}}var rN=!1;function hD(e,t){if(hx=ff,e=cS(),ly(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,m=e,f=null;t:for(;;){for(var j;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(j=m.firstChild)!==null;)f=m,m=j;for(;;){if(m===e)break t;if(f===n&&++d===i&&(l=o),f===a&&++h===r&&(c=o),(j=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=j}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fx={focusedElem:e,selectionRange:n},ff=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,C=x.memoizedState,N=t.stateNode,v=N.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ir(t.type,g),C);N.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(w){Ut(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return x=rN,rN=!1,x}function Sd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Tx(t,n,a)}i=i.next}while(i!==r)}}function bm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Px(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iC(e){var t=e.alternate;t!==null&&(e.alternate=null,iC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ps],delete t[Gd],delete t[gx],delete t[GR],delete t[YR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aC(e){return e.tag===5||e.tag===3||e.tag===4}function sN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ax(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gf));else if(r!==4&&(e=e.child,e!==null))for(Ax(e,t,n),e=e.sibling;e!==null;)Ax(e,t,n),e=e.sibling}function Ix(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ix(e,t,n),e=e.sibling;e!==null;)Ix(e,t,n),e=e.sibling}var xn=null,Mr=!1;function Pi(e,t,n){for(n=n.child;n!==null;)oC(e,t,n),n=n.sibling}function oC(e,t,n){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(mm,n)}catch{}switch(n.tag){case 5:Sn||yl(n,t);case 6:var r=xn,i=Mr;xn=null,Pi(e,t,n),xn=r,Mr=i,xn!==null&&(Mr?(e=xn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xn.removeChild(n.stateNode));break;case 18:xn!==null&&(Mr?(e=xn,n=n.stateNode,e.nodeType===8?eg(e.parentNode,n):e.nodeType===1&&eg(e,n),Bd(e)):eg(xn,n.stateNode));break;case 4:r=xn,i=Mr,xn=n.stateNode.containerInfo,Mr=!0,Pi(e,t,n),xn=r,Mr=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Tx(n,t,o),i=i.next}while(i!==r)}Pi(e,t,n);break;case 1:if(!Sn&&(yl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ut(n,t,l)}Pi(e,t,n);break;case 21:Pi(e,t,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,Pi(e,t,n),Sn=r):Pi(e,t,n);break;default:Pi(e,t,n)}}function iN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uD),t.forEach(function(r){var i=jD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Pr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:xn=l.stateNode,Mr=!1;break e;case 3:xn=l.stateNode.containerInfo,Mr=!0;break e;case 4:xn=l.stateNode.containerInfo,Mr=!0;break e}l=l.return}if(xn===null)throw Error(de(160));oC(a,o,i),xn=null,Mr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ut(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lC(t,e),t=t.sibling}function lC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),ls(e),r&4){try{Sd(3,e,e.return),bm(3,e)}catch(g){Ut(e,e.return,g)}try{Sd(5,e,e.return)}catch(g){Ut(e,e.return,g)}}break;case 1:Pr(t,e),ls(e),r&512&&n!==null&&yl(n,n.return);break;case 5:if(Pr(t,e),ls(e),r&512&&n!==null&&yl(n,n.return),e.flags&32){var i=e.stateNode;try{$d(i,"")}catch(g){Ut(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&P1(i,a),nx(l,o);var d=nx(l,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?M1(i,m):h==="dangerouslySetInnerHTML"?R1(i,m):h==="children"?$d(i,m):Yv(i,h,m,d)}switch(l){case"input":Xg(i,a);break;case"textarea":A1(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?jl(i,!!a.multiple,j,!1):f!==!!a.multiple&&(a.defaultValue!=null?jl(i,!!a.multiple,a.defaultValue,!0):jl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Gd]=a}catch(g){Ut(e,e.return,g)}}break;case 6:if(Pr(t,e),ls(e),r&4){if(e.stateNode===null)throw Error(de(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ut(e,e.return,g)}}break;case 3:if(Pr(t,e),ls(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bd(t.containerInfo)}catch(g){Ut(e,e.return,g)}break;case 4:Pr(t,e),ls(e);break;case 13:Pr(t,e),ls(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ey=Bt())),r&4&&iN(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Sn=(d=Sn)||h,Pr(t,e),Sn=d):Pr(t,e),ls(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Ce=e,h=e.child;h!==null;){for(m=Ce=h;Ce!==null;){switch(f=Ce,j=f.child,f.tag){case 0:case 11:case 14:case 15:Sd(4,f,f.return);break;case 1:yl(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Ut(r,n,g)}}break;case 5:yl(f,f.return);break;case 22:if(f.memoizedState!==null){oN(m);continue}}j!==null?(j.return=f,Ce=j):oN(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D1("display",o))}catch(g){Ut(e,e.return,g)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Ut(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Pr(t,e),ls(e),r&4&&iN(e);break;case 21:break;default:Pr(t,e),ls(e)}}function ls(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aC(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($d(i,""),r.flags&=-33);var a=sN(e);Ix(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sN(e);Ax(e,l,o);break;default:throw Error(de(161))}}catch(c){Ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fD(e,t,n){Ce=e,cC(e)}function cC(e,t,n){for(var r=(e.mode&1)!==0;Ce!==null;){var i=Ce,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vh;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Sn;l=vh;var d=Sn;if(vh=o,(Sn=c)&&!d)for(Ce=i;Ce!==null;)o=Ce,c=o.child,o.tag===22&&o.memoizedState!==null?lN(i):c!==null?(c.return=o,Ce=c):lN(i);for(;a!==null;)Ce=a,cC(a),a=a.sibling;Ce=i,vh=l,Sn=d}aN(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ce=a):aN(e)}}function aN(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sn||bm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ir(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Wb(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wb(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Bd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Sn||t.flags&512&&Px(t)}catch(f){Ut(t,t.return,f)}}if(t===e){Ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function oN(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ce=n;break}Ce=t.return}}function lN(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bm(4,t)}catch(c){Ut(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Ut(t,i,c)}}var a=t.return;try{Px(t)}catch(c){Ut(t,a,c)}break;case 5:var o=t.return;try{Px(t)}catch(c){Ut(t,o,c)}}}catch(c){Ut(t,t.return,c)}if(t===e){Ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ce=l;break}Ce=t.return}}var mD=Math.ceil,kf=ji.ReactCurrentDispatcher,Cy=ji.ReactCurrentOwner,_r=ji.ReactCurrentBatchConfig,ct=0,fn=null,qt=null,vn=0,nr=0,wl=Ta(0),on=0,eu=null,No=0,Nm=0,ky=0,Cd=null,Gn=null,Ey=0,sc=1/0,qs=null,Ef=!1,Rx=null,ca=null,yh=!1,na=null,Tf=0,kd=0,Dx=null,qh=-1,Kh=0;function Ln(){return ct&6?Bt():qh!==-1?qh:qh=Bt()}function da(e){return e.mode&1?ct&2&&vn!==0?vn&-vn:XR.transition!==null?(Kh===0&&(Kh=K1()),Kh):(e=yt,e!==0||(e=window.event,e=e===void 0?16:eS(e.type)),e):1}function qr(e,t,n,r){if(50<kd)throw kd=0,Dx=null,Error(de(185));Nu(e,n,r),(!(ct&2)||e!==fn)&&(e===fn&&(!(ct&2)&&(Nm|=n),on===4&&Vi(e,vn)),Jn(e,r),n===1&&ct===0&&!(t.mode&1)&&(sc=Bt()+500,ym&&Pa()))}function Jn(e,t){var n=e.callbackNode;X4(e,t);var r=hf(e,e===fn?vn:0);if(r===0)n!==null&&xb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xb(n),t===1)e.tag===0?QR(cN.bind(null,e)):yS(cN.bind(null,e)),qR(function(){!(ct&6)&&Pa()}),n=null;else{switch(G1(r)){case 1:n=ey;break;case 4:n=H1;break;case 16:n=uf;break;case 536870912:n=q1;break;default:n=uf}n=xC(n,dC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dC(e,t){if(qh=-1,Kh=0,ct&6)throw Error(de(327));var n=e.callbackNode;if(Cl()&&e.callbackNode!==n)return null;var r=hf(e,e===fn?vn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pf(e,r);else{t=r;var i=ct;ct|=2;var a=hC();(fn!==e||vn!==t)&&(qs=null,sc=Bt()+500,po(e,t));do try{xD();break}catch(l){uC(e,l)}while(!0);fy(),kf.current=a,ct=i,qt!==null?t=0:(fn=null,vn=0,t=on)}if(t!==0){if(t===2&&(i=ox(e),i!==0&&(r=i,t=Mx(e,i))),t===1)throw n=eu,po(e,0),Vi(e,r),Jn(e,Bt()),n;if(t===6)Vi(e,r);else{if(i=e.current.alternate,!(r&30)&&!pD(i)&&(t=Pf(e,r),t===2&&(a=ox(e),a!==0&&(r=a,t=Mx(e,a))),t===1))throw n=eu,po(e,0),Vi(e,r),Jn(e,Bt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(de(345));case 2:Wa(e,Gn,qs);break;case 3:if(Vi(e,r),(r&130023424)===r&&(t=Ey+500-Bt(),10<t)){if(hf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=px(Wa.bind(null,e,Gn,qs),t);break}Wa(e,Gn,qs);break;case 4:if(Vi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Hr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mD(r/1960))-r,10<r){e.timeoutHandle=px(Wa.bind(null,e,Gn,qs),r);break}Wa(e,Gn,qs);break;case 5:Wa(e,Gn,qs);break;default:throw Error(de(329))}}}return Jn(e,Bt()),e.callbackNode===n?dC.bind(null,e):null}function Mx(e,t){var n=Cd;return e.current.memoizedState.isDehydrated&&(po(e,t).flags|=256),e=Pf(e,t),e!==2&&(t=Gn,Gn=n,t!==null&&Ox(t)),e}function Ox(e){Gn===null?Gn=e:Gn.push.apply(Gn,e)}function pD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Zr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vi(e,t){for(t&=~ky,t&=~Nm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Hr(t),r=1<<n;e[n]=-1,t&=~r}}function cN(e){if(ct&6)throw Error(de(327));Cl();var t=hf(e,0);if(!(t&1))return Jn(e,Bt()),null;var n=Pf(e,t);if(e.tag!==0&&n===2){var r=ox(e);r!==0&&(t=r,n=Mx(e,r))}if(n===1)throw n=eu,po(e,0),Vi(e,t),Jn(e,Bt()),n;if(n===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wa(e,Gn,qs),Jn(e,Bt()),null}function Ty(e,t){var n=ct;ct|=1;try{return e(t)}finally{ct=n,ct===0&&(sc=Bt()+500,ym&&Pa())}}function _o(e){na!==null&&na.tag===0&&!(ct&6)&&Cl();var t=ct;ct|=1;var n=_r.transition,r=yt;try{if(_r.transition=null,yt=1,e)return e()}finally{yt=r,_r.transition=n,ct=t,!(ct&6)&&Pa()}}function Py(){nr=wl.current,It(wl)}function po(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HR(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xf();break;case 3:nc(),It(Xn),It(Cn),yy();break;case 5:vy(r);break;case 4:nc();break;case 13:It(Mt);break;case 19:It(Mt);break;case 10:my(r.type._context);break;case 22:case 23:Py()}n=n.return}if(fn=e,qt=e=ua(e.current,null),vn=nr=t,on=0,eu=null,ky=Nm=No=0,Gn=Cd=null,Ja!==null){for(t=0;t<Ja.length;t++)if(n=Ja[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Ja=null}return e}function uC(e,t){do{var n=qt;try{if(fy(),Bh.current=Cf,Sf){for(var r=Ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sf=!1}if(bo=0,un=tn=Ot=null,_d=!1,Xd=0,Cy.current=null,n===null||n.return===null){on=1,eu=t,qt=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=vn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var j=Qb(o);if(j!==null){j.flags&=-257,Xb(j,o,l,a,t),j.mode&1&&Yb(a,d,t),t=j,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Yb(a,d,t),Ay();break e}c=Error(de(426))}}else if(Rt&&l.mode&1){var C=Qb(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Xb(C,o,l,a,t),uy(rc(c,l));break e}}a=c=rc(c,l),on!==4&&(on=2),Cd===null?Cd=[a]:Cd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=GS(a,c,t);Bb(a,N);break e;case 1:l=c;var v=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ca===null||!ca.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=YS(a,l,t);Bb(a,w);break e}}a=a.return}while(a!==null)}mC(n)}catch(A){t=A,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(!0)}function hC(){var e=kf.current;return kf.current=Cf,e===null?Cf:e}function Ay(){(on===0||on===3||on===2)&&(on=4),fn===null||!(No&268435455)&&!(Nm&268435455)||Vi(fn,vn)}function Pf(e,t){var n=ct;ct|=2;var r=hC();(fn!==e||vn!==t)&&(qs=null,po(e,t));do try{gD();break}catch(i){uC(e,i)}while(!0);if(fy(),ct=n,kf.current=r,qt!==null)throw Error(de(261));return fn=null,vn=0,on}function gD(){for(;qt!==null;)fC(qt)}function xD(){for(;qt!==null&&!z4();)fC(qt)}function fC(e){var t=gC(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?mC(e):qt=t,Cy.current=null}function mC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dD(n,t),n!==null){n.flags&=32767,qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,qt=null;return}}else if(n=cD(n,t,nr),n!==null){qt=n;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);on===0&&(on=5)}function Wa(e,t,n){var r=yt,i=_r.transition;try{_r.transition=null,yt=1,vD(e,t,n,r)}finally{_r.transition=i,yt=r}return null}function vD(e,t,n,r){do Cl();while(na!==null);if(ct&6)throw Error(de(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Z4(e,a),e===fn&&(qt=fn=null,vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yh||(yh=!0,xC(uf,function(){return Cl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=_r.transition,_r.transition=null;var o=yt;yt=1;var l=ct;ct|=4,Cy.current=null,hD(e,n),lC(n,e),LR(fx),ff=!!hx,fx=hx=null,e.current=n,fD(n),B4(),ct=l,yt=o,_r.transition=a}else e.current=n;if(yh&&(yh=!1,na=e,Tf=i),a=e.pendingLanes,a===0&&(ca=null),q4(n.stateNode),Jn(e,Bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,e=Rx,Rx=null,e;return Tf&1&&e.tag!==0&&Cl(),a=e.pendingLanes,a&1?e===Dx?kd++:(kd=0,Dx=e):kd=0,Pa(),null}function Cl(){if(na!==null){var e=G1(Tf),t=_r.transition,n=yt;try{if(_r.transition=null,yt=16>e?16:e,na===null)var r=!1;else{if(e=na,na=null,Tf=0,ct&6)throw Error(de(331));var i=ct;for(ct|=4,Ce=e.current;Ce!==null;){var a=Ce,o=a.child;if(Ce.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ce=d;Ce!==null;){var h=Ce;switch(h.tag){case 0:case 11:case 15:Sd(8,h,a)}var m=h.child;if(m!==null)m.return=h,Ce=m;else for(;Ce!==null;){h=Ce;var f=h.sibling,j=h.return;if(iC(h),h===d){Ce=null;break}if(f!==null){f.return=j,Ce=f;break}Ce=j}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}Ce=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ce=o;else e:for(;Ce!==null;){if(a=Ce,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sd(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,Ce=N;break e}Ce=a.return}}var v=e.current;for(Ce=v;Ce!==null;){o=Ce;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ce=S;else e:for(o=v;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bm(9,l)}}catch(A){Ut(l,l.return,A)}if(l===o){Ce=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ce=w;break e}Ce=l.return}}if(ct=i,Pa(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(mm,e)}catch{}r=!0}return r}finally{yt=n,_r.transition=t}}return!1}function dN(e,t,n){t=rc(n,t),t=GS(e,t,1),e=la(e,t,1),t=Ln(),e!==null&&(Nu(e,1,t),Jn(e,t))}function Ut(e,t,n){if(e.tag===3)dN(e,e,n);else for(;t!==null;){if(t.tag===3){dN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ca===null||!ca.has(r))){e=rc(n,e),e=YS(t,e,1),t=la(t,e,1),e=Ln(),t!==null&&(Nu(t,1,e),Jn(t,e));break}}t=t.return}}function yD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&n,fn===e&&(vn&n)===n&&(on===4||on===3&&(vn&130023424)===vn&&500>Bt()-Ey?po(e,0):ky|=n),Jn(e,t)}function pC(e,t){t===0&&(e.mode&1?(t=ch,ch<<=1,!(ch&130023424)&&(ch=4194304)):t=1);var n=Ln();e=di(e,t),e!==null&&(Nu(e,t,n),Jn(e,n))}function wD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pC(e,n)}function jD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(t),pC(e,n)}var gC;gC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xn.current)Yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Yn=!1,lD(e,t,n);Yn=!!(e.flags&131072)}else Yn=!1,Rt&&t.flags&1048576&&wS(t,wf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hh(e,t),e=t.pendingProps;var i=Jl(t,Cn.current);Sl(t,n),i=jy(null,t,r,e,i,n);var a=by();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zn(r)?(a=!0,vf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gy(t),i.updater=jm,t.stateNode=i,i._reactInternals=t,bx(t,r,e,n),t=Sx(null,t,r,!0,a,n)):(t.tag=0,Rt&&a&&cy(t),In(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ND(r),e=Ir(r,e),i){case 0:t=_x(null,t,r,e,n);break e;case 1:t=eN(null,t,r,e,n);break e;case 11:t=Zb(null,t,r,e,n);break e;case 14:t=Jb(null,t,r,Ir(r.type,e),n);break e}throw Error(de(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ir(r,i),_x(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ir(r,i),eN(e,t,r,i,n);case 3:e:{if(JS(t),e===null)throw Error(de(387));r=t.pendingProps,a=t.memoizedState,i=a.element,CS(e,t),Nf(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=rc(Error(de(423)),t),t=tN(e,t,r,n,i);break e}else if(r!==i){i=rc(Error(de(424)),t),t=tN(e,t,r,n,i);break e}else for(or=oa(t.stateNode.containerInfo.firstChild),lr=t,Rt=!0,Or=null,n=_S(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ec(),r===i){t=ui(e,t,n);break e}In(e,t,r,n)}t=t.child}return t;case 5:return kS(t),e===null&&yx(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,mx(r,i)?o=null:a!==null&&mx(r,a)&&(t.flags|=32),ZS(e,t),In(e,t,o,n),t.child;case 6:return e===null&&yx(t),null;case 13:return eC(e,t,n);case 4:return xy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tc(t,null,r,n):In(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ir(r,i),Zb(e,t,r,i,n);case 7:return In(e,t,t.pendingProps,n),t.child;case 8:return In(e,t,t.pendingProps.children,n),t.child;case 12:return In(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,kt(jf,r._currentValue),r._currentValue=o,a!==null)if(Zr(a.value,o)){if(a.children===i.children&&!Xn.current){t=ui(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=ai(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),wx(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(de(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wx(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}In(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sl(t,n),i=Cr(i),r=r(i),t.flags|=1,In(e,t,r,n),t.child;case 14:return r=t.type,i=Ir(r,t.pendingProps),i=Ir(r.type,i),Jb(e,t,r,i,n);case 15:return QS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ir(r,i),Hh(e,t),t.tag=1,Zn(r)?(e=!0,vf(t)):e=!1,Sl(t,n),KS(t,r,i),bx(t,r,i,n),Sx(null,t,r,!0,e,n);case 19:return tC(e,t,n);case 22:return XS(e,t,n)}throw Error(de(156,t.tag))};function xC(e,t){return W1(e,t)}function bD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(e,t,n,r){return new bD(e,t,n,r)}function Iy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ND(e){if(typeof e=="function")return Iy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xv)return 11;if(e===Zv)return 14}return 2}function ua(e,t){var n=e.alternate;return n===null?(n=Nr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gh(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")Iy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dl:return go(n.children,i,a,t);case Qv:o=8,i|=8;break;case qg:return e=Nr(12,n,t,i|2),e.elementType=qg,e.lanes=a,e;case Kg:return e=Nr(13,n,t,i),e.elementType=Kg,e.lanes=a,e;case Gg:return e=Nr(19,n,t,i),e.elementType=Gg,e.lanes=a,e;case k1:return _m(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S1:o=10;break e;case C1:o=9;break e;case Xv:o=11;break e;case Zv:o=14;break e;case Fi:o=16,r=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Nr(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function go(e,t,n,r){return e=Nr(7,e,r,t),e.lanes=n,e}function _m(e,t,n,r){return e=Nr(22,e,r,t),e.elementType=k1,e.lanes=n,e.stateNode={isHidden:!1},e}function lg(e,t,n){return e=Nr(6,e,null,t),e.lanes=n,e}function cg(e,t,n){return t=Nr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _D(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ry(e,t,n,r,i,a,o,l,c){return e=new _D(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Nr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(a),e}function SD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vC(e){if(!e)return ya;e=e._reactInternals;e:{if(Uo(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var n=e.type;if(Zn(n))return vS(e,n,t)}return t}function yC(e,t,n,r,i,a,o,l,c){return e=Ry(n,r,!0,e,i,a,o,l,c),e.context=vC(null),n=e.current,r=Ln(),i=da(n),a=ai(r,i),a.callback=t??null,la(n,a,i),e.current.lanes=i,Nu(e,i,r),Jn(e,r),e}function Sm(e,t,n,r){var i=t.current,a=Ln(),o=da(i);return n=vC(n),t.context===null?t.context=n:t.pendingContext=n,t=ai(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=la(i,t,o),e!==null&&(qr(e,i,o,a),zh(e,i,o)),o}function Af(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dy(e,t){uN(e,t),(e=e.alternate)&&uN(e,t)}function CD(){return null}var wC=typeof reportError=="function"?reportError:function(e){console.error(e)};function My(e){this._internalRoot=e}Cm.prototype.render=My.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Sm(e,t,null,null)};Cm.prototype.unmount=My.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_o(function(){Sm(null,e,null,null)}),t[ci]=null}};function Cm(e){this._internalRoot=e}Cm.prototype.unstable_scheduleHydration=function(e){if(e){var t=X1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ui.length&&t!==0&&t<Ui[n].priority;n++);Ui.splice(n,0,e),n===0&&J1(e)}};function Oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hN(){}function kD(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Af(o);a.call(d)}}var o=yC(t,r,e,0,null,!1,!1,"",hN);return e._reactRootContainer=o,e[ci]=o.current,qd(e.nodeType===8?e.parentNode:e),_o(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Af(c);l.call(d)}}var c=Ry(e,0,!1,null,null,!1,!1,"",hN);return e._reactRootContainer=c,e[ci]=c.current,qd(e.nodeType===8?e.parentNode:e),_o(function(){Sm(t,c,n,r)}),c}function Em(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Af(o);l.call(c)}}Sm(t,o,e,i)}else o=kD(n,t,e,i,r);return Af(o)}Y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fd(t.pendingLanes);n!==0&&(ty(t,n|1),Jn(t,Bt()),!(ct&6)&&(sc=Bt()+500,Pa()))}break;case 13:_o(function(){var r=di(e,1);if(r!==null){var i=Ln();qr(r,e,1,i)}}),Dy(e,1)}};ny=function(e){if(e.tag===13){var t=di(e,134217728);if(t!==null){var n=Ln();qr(t,e,134217728,n)}Dy(e,134217728)}};Q1=function(e){if(e.tag===13){var t=da(e),n=di(e,t);if(n!==null){var r=Ln();qr(n,e,t,r)}Dy(e,t)}};X1=function(){return yt};Z1=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}};sx=function(e,t,n){switch(t){case"input":if(Xg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=vm(r);if(!i)throw Error(de(90));T1(r),Xg(r,i)}}}break;case"textarea":A1(e,n);break;case"select":t=n.value,t!=null&&jl(e,!!n.multiple,t,!1)}};L1=Ty;$1=_o;var ED={usingClientEntryPoint:!1,Events:[Su,ml,vm,O1,F1,Ty]},id={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TD={bundleType:id.bundleType,version:id.version,rendererPackageName:id.rendererPackageName,rendererConfig:id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=z1(e),e===null?null:e.stateNode},findFiberByHostInstance:id.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{mm=wh.inject(TD),Ns=wh}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ED;pr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(t))throw Error(de(200));return SD(e,t,null,n)};pr.createRoot=function(e,t){if(!Oy(e))throw Error(de(299));var n=!1,r="",i=wC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ry(e,1,!1,null,null,n,!1,r,i),e[ci]=t.current,qd(e.nodeType===8?e.parentNode:e),new My(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=z1(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return _o(e)};pr.hydrate=function(e,t,n){if(!km(t))throw Error(de(200));return Em(null,e,t,!0,n)};pr.hydrateRoot=function(e,t,n){if(!Oy(e))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=wC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yC(t,null,e,1,n??null,i,!1,a,o),e[ci]=t.current,qd(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Cm(t)};pr.render=function(e,t,n){if(!km(t))throw Error(de(200));return Em(null,e,t,!1,n)};pr.unmountComponentAtNode=function(e){if(!km(e))throw Error(de(40));return e._reactRootContainer?(_o(function(){Em(null,null,e,!1,function(){e._reactRootContainer=null,e[ci]=null})}),!0):!1};pr.unstable_batchedUpdates=Ty;pr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!km(n))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return Em(e,t,n,!1,r)};pr.version="18.3.1-next-f1338f8080-20240426";function jC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jC)}catch(e){console.error(e)}}jC(),j1.exports=pr;var Vo=j1.exports;const PD=c1(Vo);var bC,fN=Vo;bC=fN.createRoot,fN.hydrateRoot;function AD(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var NC={exports:{}},_C={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=p;function ID(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RD=typeof Object.is=="function"?Object.is:ID,DD=ic.useState,MD=ic.useEffect,OD=ic.useLayoutEffect,FD=ic.useDebugValue;function LD(e,t){var n=t(),r=DD({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return OD(function(){i.value=n,i.getSnapshot=t,dg(i)&&a({inst:i})},[e,n,t]),MD(function(){return dg(i)&&a({inst:i}),e(function(){dg(i)&&a({inst:i})})},[e]),FD(n),n}function dg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!RD(e,n)}catch{return!0}}function $D(e,t){return t()}var UD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$D:LD;_C.useSyncExternalStore=ic.useSyncExternalStore!==void 0?ic.useSyncExternalStore:UD;NC.exports=_C;var SC=NC.exports;const VD=qv.useInsertionEffect,zD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BD=zD?p.useLayoutEffect:p.useEffect,WD=VD||BD,CC=e=>{const t=p.useRef([e,(...n)=>t[0](...n)]).current;return WD(()=>{t[0]=e}),t[1]},HD="popstate",Fy="pushState",Ly="replaceState",qD="hashchange",mN=[HD,Fy,Ly,qD],KD=e=>{for(const t of mN)addEventListener(t,e);return()=>{for(const t of mN)removeEventListener(t,e)}},kC=(e,t)=>SC.useSyncExternalStore(KD,e,t),GD=()=>location.search,YD=({ssrSearch:e=""}={})=>kC(GD,()=>e),pN=()=>location.pathname,QD=({ssrPath:e}={})=>kC(pN,e?()=>e:pN),XD=(e,{replace:t=!1,state:n=null}={})=>history[t?Ly:Fy](n,"",e),ZD=(e={})=>[QD(e),XD],gN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[gN]>"u"){for(const e of[Fy,Ly]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,gN,{value:!0})}const JD=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",EC=(e="")=>e==="/"?"":e,eM=(e,t)=>e[0]==="~"?e.slice(1):EC(t)+e,tM=(e="",t)=>JD(xN(EC(e)),xN(t)),xN=e=>{try{return decodeURI(e)}catch{return e}},TC={hook:ZD,searchHook:YD,parser:AD,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},PC=p.createContext(TC),Sc=()=>p.useContext(PC),AC={},IC=p.createContext(AC),nM=()=>p.useContext(IC),Tm=e=>{const[t,n]=e.hook(e);return[tM(e.base,t),CC((r,i)=>n(eM(r,e.base),i))]},Zt=()=>Tm(Sc()),$y=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((m,f)=>[m,c[f]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},zo=e=>$y(Sc().parser,e,Zt()[0]),rM=({children:e,...t})=>{var h,m;const n=Sc(),r=t.hook?TC:n;let i=r;const[a,o]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let f in r){const j=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===d&&j!==d[f]&&(l.current=d={...d}),d[f]=j,(j!==r[f]||j!==i[f])&&(i=d)}return p.createElement(PC.Provider,{value:i,children:e})},vN=({children:e,component:t},n)=>t?p.createElement(t,{params:n}):typeof e=="function"?e(n):e,sM=e=>{let t=p.useRef(AC);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},_t=({path:e,nest:t,match:n,...r})=>{const i=Sc(),[a]=Tm(i),[o,l,c]=n??$y(i.parser,e,a,t),d=sM({...nM(),...l});if(!o)return null;const h=c?p.createElement(rM,{base:c},vN(r,d)):vN(r,d);return p.createElement(IC.Provider,{value:d,children:h})},kl=p.forwardRef((e,t)=>{const n=Sc(),[r,i]=Tm(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:m,state:f,...j}=e,x=CC(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(l==null||l(C),C.defaultPrevented||(C.preventDefault(),i(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:x,href:g}):p.createElement("a",{...j,onClick:x,href:g,className:h!=null&&h.call?h(r===o):h,children:d,ref:t})}),RC=e=>Array.isArray(e)?e.flatMap(t=>RC(t&&t.type===p.Fragment?t.props.children:t)):[e],yN=({children:e,location:t})=>{const n=Sc(),[r]=Tm(n);for(const i of RC(e)){let a=0;if(p.isValidElement(i)&&(a=$y(n.parser,i.props.path,t||r,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null};var Cc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},iM={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qi,Vv,Z_,aM=(Z_=class{constructor(){Ae(this,qi,iM);Ae(this,Vv,!1)}setTimeoutProvider(e){be(this,qi,e)}setTimeout(e,t){return U(this,qi).setTimeout(e,t)}clearTimeout(e){U(this,qi).clearTimeout(e)}setInterval(e,t){return U(this,qi).setInterval(e,t)}clearInterval(e){U(this,qi).clearInterval(e)}},qi=new WeakMap,Vv=new WeakMap,Z_),to=new aM;function oM(e){setTimeout(e,0)}var So=typeof window>"u"||"Deno"in globalThis;function Rn(){}function lM(e,t){return typeof e=="function"?e(t):e}function Fx(e){return typeof e=="number"&&e>=0&&e!==1/0}function DC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ha(e,t){return typeof e=="function"?e(t):e}function wr(e,t){return typeof e=="function"?e(t):e}function wN(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Uy(o,t.options))return!1}else if(!tu(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function jN(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Co(t.options.mutationKey)!==Co(a))return!1}else if(!tu(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Uy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Co)(e)}function Co(e){return JSON.stringify(e,(t,n)=>Lx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function tu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>tu(e[n],t[n])):!1}var cM=Object.prototype.hasOwnProperty;function MC(e,t){if(e===t)return e;const n=bN(e)&&bN(t);if(!n&&!(Lx(e)&&Lx(t)))return t;const i=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),o=a.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=n?d:a[d],m=e[h],f=t[h];if(m===f){l[h]=m,(n?d<i:cM.call(e,h))&&c++;continue}if(m===null||f===null||typeof m!="object"||typeof f!="object"){l[h]=f;continue}const j=MC(m,f);l[h]=j,j===m&&c++}return i===o&&c===i?e:l}function If(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function bN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lx(e){if(!NN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!NN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function NN(e){return Object.prototype.toString.call(e)==="[object Object]"}function dM(e){return new Promise(t=>{to.setTimeout(t,e)})}function $x(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?MC(e,t):t}function uM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function hM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Vy=Symbol();function OC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Vy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function FC(e,t){return typeof e=="function"?e(...t):!!e}var io,Ki,Ul,J_,fM=(J_=class extends Cc{constructor(){super();Ae(this,io);Ae(this,Ki);Ae(this,Ul);be(this,Ul,t=>{if(!So&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ki)||this.setEventListener(U(this,Ul))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Ki))==null||t.call(this),be(this,Ki,void 0))}setEventListener(t){var n;be(this,Ul,t),(n=U(this,Ki))==null||n.call(this),be(this,Ki,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,io)!==t&&(be(this,io,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,io)=="boolean"?U(this,io):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},io=new WeakMap,Ki=new WeakMap,Ul=new WeakMap,J_),zy=new fM;function Ux(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var mM=oM;function pM(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=mM;const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var nn=pM(),Vl,Gi,zl,e1,gM=(e1=class extends Cc{constructor(){super();Ae(this,Vl,!0);Ae(this,Gi);Ae(this,zl);be(this,zl,t=>{if(!So&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Gi)||this.setEventListener(U(this,zl))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Gi))==null||t.call(this),be(this,Gi,void 0))}setEventListener(t){var n;be(this,zl,t),(n=U(this,Gi))==null||n.call(this),be(this,Gi,t(this.setOnline.bind(this)))}setOnline(t){U(this,Vl)!==t&&(be(this,Vl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Vl)}},Vl=new WeakMap,Gi=new WeakMap,zl=new WeakMap,e1),Rf=new gM;function xM(e){return Math.min(1e3*2**e,3e4)}function LC(e){return(e??"online")==="online"?Rf.isOnline():!0}var Vx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $C(e){let t=!1,n=0,r;const i=Ux(),a=()=>i.status!=="pending",o=g=>{var C;if(!a()){const N=new Vx(g);f(N),(C=e.onCancel)==null||C.call(e,N)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>zy.isFocused()&&(e.networkMode==="always"||Rf.isOnline())&&e.canRun(),h=()=>LC(e.networkMode)&&e.canRun(),m=g=>{a()||(r==null||r(),i.resolve(g))},f=g=>{a()||(r==null||r(),i.reject(g))},j=()=>new Promise(g=>{var C;r=N=>{(a()||d())&&g(N)},(C=e.onPause)==null||C.call(e)}).then(()=>{var g;r=void 0,a()||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(a())return;let g;const C=n===0?e.initialPromise:void 0;try{g=C??e.fn()}catch(N){g=Promise.reject(N)}Promise.resolve(g).then(m).catch(N=>{var M;if(a())return;const v=e.retry??(So?0:3),S=e.retryDelay??xM,w=typeof S=="function"?S(n,N):S,A=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,N);if(t||!A){f(N);return}n++,(M=e.onFail)==null||M.call(e,n,N),dM(w).then(()=>d()?void 0:j()).then(()=>{t?f(N):x()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?x():j().then(x),i)}}var ao,t1,UC=(t1=class{constructor(){Ae(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fx(this.gcTime)&&be(this,ao,to.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(So?1/0:5*60*1e3))}clearGcTimeout(){U(this,ao)&&(to.clearTimeout(U(this,ao)),be(this,ao,void 0))}},ao=new WeakMap,t1),oo,Bl,yr,lo,dn,xu,co,Rr,Hs,n1,vM=(n1=class extends UC{constructor(n){super();Ae(this,Rr);Ae(this,oo);Ae(this,Bl);Ae(this,yr);Ae(this,lo);Ae(this,dn);Ae(this,xu);Ae(this,co);be(this,co,!1),be(this,xu,n.defaultOptions),this.setOptions(n.options),this.observers=[],be(this,lo,n.client),be(this,yr,U(this,lo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,be(this,oo,SN(this.options)),this.state=n.state??U(this,oo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,dn))==null?void 0:n.promise}setOptions(n){if(this.options={...U(this,xu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=SN(this.options);r.data!==void 0&&(this.setState(_N(r.data,r.dataUpdatedAt)),be(this,oo,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,yr).remove(this)}setData(n,r){const i=$x(this.state.data,n,this.options);return Qe(this,Rr,Hs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Qe(this,Rr,Hs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=U(this,dn))==null?void 0:i.promise;return(a=U(this,dn))==null||a.cancel(n),r?r.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,oo))}isActive(){return this.observers.some(n=>wr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Vy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ha(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!DC(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,dn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,dn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,yr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,dn)&&(U(this,co)?U(this,dn).cancel({revert:!0}):U(this,dn).cancelRetry()),this.scheduleGc()),U(this,yr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,Rr,Hs).call(this,{type:"invalidate"})}async fetch(n,r){var d,h,m,f,j,x,g,C,N,v,S,w;if(this.state.fetchStatus!=="idle"&&((d=U(this,dn))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,dn))return U(this,dn).continueRetry(),U(this,dn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const A=this.observers.find(M=>M.options.queryFn);A&&this.setOptions(A.options)}const i=new AbortController,a=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(be(this,co,!0),i.signal)})},o=()=>{const A=OC(this.options,r),E=(()=>{const b={client:U(this,lo),queryKey:this.queryKey,meta:this.meta};return a(b),b})();return be(this,co,!1),this.options.persister?this.options.persister(A,E,this):A(E)},c=(()=>{const A={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,lo),state:this.state,fetchFn:o};return a(A),A})();(h=this.options.behavior)==null||h.onFetch(c,this),be(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&Qe(this,Rr,Hs).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),be(this,dn,$C({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:A=>{A instanceof Vx&&A.revert&&this.setState({...U(this,Bl),fetchStatus:"idle"}),i.abort()},onFail:(A,M)=>{Qe(this,Rr,Hs).call(this,{type:"failed",failureCount:A,error:M})},onPause:()=>{Qe(this,Rr,Hs).call(this,{type:"pause"})},onContinue:()=>{Qe(this,Rr,Hs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const A=await U(this,dn).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(x=(j=U(this,yr).config).onSuccess)==null||x.call(j,A,this),(C=(g=U(this,yr).config).onSettled)==null||C.call(g,A,this.state.error,this),A}catch(A){if(A instanceof Vx){if(A.silent)return U(this,dn).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw Qe(this,Rr,Hs).call(this,{type:"error",error:A}),(v=(N=U(this,yr).config).onError)==null||v.call(N,A,this),(w=(S=U(this,yr).config).onSettled)==null||w.call(S,this.state.data,A,this),A}finally{this.scheduleGc()}}},oo=new WeakMap,Bl=new WeakMap,yr=new WeakMap,lo=new WeakMap,dn=new WeakMap,xu=new WeakMap,co=new WeakMap,Rr=new WeakSet,Hs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...VC(i.data,this.options),fetchMeta:n.meta??null};case"success":const a={...i,..._N(n.data,n.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,Bl,n.manual?a:void 0),a;case"error":const o=n.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,yr).notify({query:this,type:"updated",action:n})})},n1);function VC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _N(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hn,st,vu,Tn,uo,Wl,Gs,Yi,yu,Hl,ql,ho,fo,Qi,Kl,pt,pd,zx,Bx,Wx,Hx,qx,Kx,Gx,zC,r1,yM=(r1=class extends Cc{constructor(t,n){super();Ae(this,pt);Ae(this,Hn);Ae(this,st);Ae(this,vu);Ae(this,Tn);Ae(this,uo);Ae(this,Wl);Ae(this,Gs);Ae(this,Yi);Ae(this,yu);Ae(this,Hl);Ae(this,ql);Ae(this,ho);Ae(this,fo);Ae(this,Qi);Ae(this,Kl,new Set);this.options=n,be(this,Hn,t),be(this,Yi,null),be(this,Gs,Ux()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,st).addObserver(this),CN(U(this,st),this.options)?Qe(this,pt,pd).call(this):this.updateResult(),Qe(this,pt,Hx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yx(U(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yx(U(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,pt,qx).call(this),Qe(this,pt,Kx).call(this),U(this,st).removeObserver(this)}setOptions(t){const n=this.options,r=U(this,st);if(this.options=U(this,Hn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wr(this.options.enabled,U(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,pt,Gx).call(this),U(this,st).setOptions(this.options),n._defaulted&&!If(this.options,n)&&U(this,Hn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,st),observer:this});const i=this.hasListeners();i&&kN(U(this,st),r,this.options,n)&&Qe(this,pt,pd).call(this),this.updateResult(),i&&(U(this,st)!==r||wr(this.options.enabled,U(this,st))!==wr(n.enabled,U(this,st))||ha(this.options.staleTime,U(this,st))!==ha(n.staleTime,U(this,st)))&&Qe(this,pt,zx).call(this);const a=Qe(this,pt,Bx).call(this);i&&(U(this,st)!==r||wr(this.options.enabled,U(this,st))!==wr(n.enabled,U(this,st))||a!==U(this,Qi))&&Qe(this,pt,Wx).call(this,a)}getOptimisticResult(t){const n=U(this,Hn).getQueryCache().build(U(this,Hn),t),r=this.createResult(n,t);return jM(this,r)&&(be(this,Tn,r),be(this,Wl,this.options),be(this,uo,U(this,st).state)),r}getCurrentResult(){return U(this,Tn)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&U(this,Gs).status==="pending"&&U(this,Gs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){U(this,Kl).add(t)}getCurrentQuery(){return U(this,st)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=U(this,Hn).defaultQueryOptions(t),r=U(this,Hn).getQueryCache().build(U(this,Hn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Qe(this,pt,pd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Tn)))}createResult(t,n){var _;const r=U(this,st),i=this.options,a=U(this,Tn),o=U(this,uo),l=U(this,Wl),d=t!==r?t.state:U(this,vu),{state:h}=t;let m={...h},f=!1,j;if(n._optimisticResults){const R=this.hasListeners(),P=!R&&CN(t,n),k=R&&kN(t,r,n,i);(P||k)&&(m={...m,...VC(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:C}=m;j=m.data;let N=!1;if(n.placeholderData!==void 0&&j===void 0&&C==="pending"){let R;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=a.data,N=!0):R=typeof n.placeholderData=="function"?n.placeholderData((_=U(this,ql))==null?void 0:_.state.data,U(this,ql)):n.placeholderData,R!==void 0&&(C="success",j=$x(a==null?void 0:a.data,R,n),f=!0)}if(n.select&&j!==void 0&&!N)if(a&&j===(o==null?void 0:o.data)&&n.select===U(this,yu))j=U(this,Hl);else try{be(this,yu,n.select),j=n.select(j),j=$x(a==null?void 0:a.data,j,n),be(this,Hl,j),be(this,Yi,null)}catch(R){be(this,Yi,R)}U(this,Yi)&&(x=U(this,Yi),j=U(this,Hl),g=Date.now(),C="error");const v=m.fetchStatus==="fetching",S=C==="pending",w=C==="error",A=S&&v,M=j!==void 0,b={status:C,fetchStatus:m.fetchStatus,isPending:S,isSuccess:C==="success",isError:w,isInitialLoading:A,isLoading:A,data:j,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!S,isLoadingError:w&&!M,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&M,isStale:By(t,n),refetch:this.refetch,promise:U(this,Gs),isEnabled:wr(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=I=>{b.status==="error"?I.reject(b.error):b.data!==void 0&&I.resolve(b.data)},P=()=>{const I=be(this,Gs,b.promise=Ux());R(I)},k=U(this,Gs);switch(k.status){case"pending":t.queryHash===r.queryHash&&R(k);break;case"fulfilled":(b.status==="error"||b.data!==k.value)&&P();break;case"rejected":(b.status!=="error"||b.error!==k.reason)&&P();break}}return b}updateResult(){const t=U(this,Tn),n=this.createResult(U(this,st),this.options);if(be(this,uo,U(this,st).state),be(this,Wl,this.options),U(this,uo).data!==void 0&&be(this,ql,U(this,st)),If(n,t))return;be(this,Tn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!U(this,Kl).size)return!0;const o=new Set(a??U(this,Kl));return this.options.throwOnError&&o.add("error"),Object.keys(U(this,Tn)).some(l=>{const c=l;return U(this,Tn)[c]!==t[c]&&o.has(c)})};Qe(this,pt,zC).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,pt,Hx).call(this)}},Hn=new WeakMap,st=new WeakMap,vu=new WeakMap,Tn=new WeakMap,uo=new WeakMap,Wl=new WeakMap,Gs=new WeakMap,Yi=new WeakMap,yu=new WeakMap,Hl=new WeakMap,ql=new WeakMap,ho=new WeakMap,fo=new WeakMap,Qi=new WeakMap,Kl=new WeakMap,pt=new WeakSet,pd=function(t){Qe(this,pt,Gx).call(this);let n=U(this,st).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Rn)),n},zx=function(){Qe(this,pt,qx).call(this);const t=ha(this.options.staleTime,U(this,st));if(So||U(this,Tn).isStale||!Fx(t))return;const r=DC(U(this,Tn).dataUpdatedAt,t)+1;be(this,ho,to.setTimeout(()=>{U(this,Tn).isStale||this.updateResult()},r))},Bx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,st)):this.options.refetchInterval)??!1},Wx=function(t){Qe(this,pt,Kx).call(this),be(this,Qi,t),!(So||wr(this.options.enabled,U(this,st))===!1||!Fx(U(this,Qi))||U(this,Qi)===0)&&be(this,fo,to.setInterval(()=>{(this.options.refetchIntervalInBackground||zy.isFocused())&&Qe(this,pt,pd).call(this)},U(this,Qi)))},Hx=function(){Qe(this,pt,zx).call(this),Qe(this,pt,Wx).call(this,Qe(this,pt,Bx).call(this))},qx=function(){U(this,ho)&&(to.clearTimeout(U(this,ho)),be(this,ho,void 0))},Kx=function(){U(this,fo)&&(to.clearInterval(U(this,fo)),be(this,fo,void 0))},Gx=function(){const t=U(this,Hn).getQueryCache().build(U(this,Hn),this.options);if(t===U(this,st))return;const n=U(this,st);be(this,st,t),be(this,vu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},zC=function(t){nn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(U(this,Tn))}),U(this,Hn).getQueryCache().notify({query:U(this,st),type:"observerResultsUpdated"})})},r1);function wM(e,t){return wr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function CN(e,t){return wM(e,t)||e.state.data!==void 0&&Yx(e,t,t.refetchOnMount)}function Yx(e,t,n){if(wr(t.enabled,e)!==!1&&ha(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&By(e,t)}return!1}function kN(e,t,n,r){return(e!==t||wr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&By(e,n)}function By(e,t){return wr(t.enabled,e)!==!1&&e.isStaleByTime(ha(t.staleTime,e))}function jM(e,t){return!If(e.getCurrentResult(),t)}function EN(e){return{onFetch:(t,n)=>{var h,m,f,j,x;const r=t.options,i=(f=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,a=((j=t.state.data)==null?void 0:j.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const C=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},N=OC(t.options,t.fetchOptions),v=async(S,w,A)=>{if(g)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const E=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:A?"backward":"forward",meta:t.options.meta};return C(P),P})(),b=await N(E),{maxPages:_}=t.options,R=A?hM:uM;return{pages:R(S.pages,b,_),pageParams:R(S.pageParams,w,_)}};if(i&&a.length){const S=i==="backward",w=S?bM:TN,A={pages:a,pageParams:o},M=w(r,A);l=await v(A,M,S)}else{const S=e??a.length;do{const w=c===0?o[0]??r.initialPageParam:TN(r,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var g,C;return(C=(g=t.options).persister)==null?void 0:C.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function TN(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function bM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var wu,us,Pn,mo,hs,Mi,s1,NM=(s1=class extends UC{constructor(t){super();Ae(this,hs);Ae(this,wu);Ae(this,us);Ae(this,Pn);Ae(this,mo);be(this,wu,t.client),this.mutationId=t.mutationId,be(this,Pn,t.mutationCache),be(this,us,[]),this.state=t.state||BC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,us).includes(t)||(U(this,us).push(t),this.clearGcTimeout(),U(this,Pn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,us,U(this,us).filter(n=>n!==t)),this.scheduleGc(),U(this,Pn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,us).length||(this.state.status==="pending"?this.scheduleGc():U(this,Pn).remove(this))}continue(){var t;return((t=U(this,mo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,h,m,f,j,x,g,C,N,v,S,w,A,M,E,b,_;const n=()=>{Qe(this,hs,Mi).call(this,{type:"continue"})},r={client:U(this,wu),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,mo,$C({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{Qe(this,hs,Mi).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{Qe(this,hs,Mi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Pn).canRun(this)}));const i=this.state.status==="pending",a=!U(this,mo).canStart();try{if(i)n();else{Qe(this,hs,Mi).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=U(this,Pn).config).onMutate)==null?void 0:l.call(o,t,this,r));const P=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,r));P!==this.state.context&&Qe(this,hs,Mi).call(this,{type:"pending",context:P,variables:t,isPaused:a})}const R=await U(this,mo).start();return await((m=(h=U(this,Pn).config).onSuccess)==null?void 0:m.call(h,R,t,this.state.context,this,r)),await((j=(f=this.options).onSuccess)==null?void 0:j.call(f,R,t,this.state.context,r)),await((g=(x=U(this,Pn).config).onSettled)==null?void 0:g.call(x,R,null,this.state.variables,this.state.context,this,r)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,R,null,t,this.state.context,r)),Qe(this,hs,Mi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((S=(v=U(this,Pn).config).onError)==null?void 0:S.call(v,R,t,this.state.context,this,r)),await((A=(w=this.options).onError)==null?void 0:A.call(w,R,t,this.state.context,r)),await((E=(M=U(this,Pn).config).onSettled)==null?void 0:E.call(M,void 0,R,this.state.variables,this.state.context,this,r)),await((_=(b=this.options).onSettled)==null?void 0:_.call(b,void 0,R,t,this.state.context,r)),R}finally{Qe(this,hs,Mi).call(this,{type:"error",error:R})}}finally{U(this,Pn).runNext(this)}}},wu=new WeakMap,us=new WeakMap,Pn=new WeakMap,mo=new WeakMap,hs=new WeakSet,Mi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{U(this,us).forEach(r=>{r.onMutationUpdate(t)}),U(this,Pn).notify({mutation:this,type:"updated",action:t})})},s1);function BC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ys,Dr,ju,i1,_M=(i1=class extends Cc{constructor(t={}){super();Ae(this,Ys);Ae(this,Dr);Ae(this,ju);this.config=t,be(this,Ys,new Set),be(this,Dr,new Map),be(this,ju,0)}build(t,n,r){const i=new NM({client:t,mutationCache:this,mutationId:++rh(this,ju)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){U(this,Ys).add(t);const n=jh(t);if(typeof n=="string"){const r=U(this,Dr).get(n);r?r.push(t):U(this,Dr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,Ys).delete(t)){const n=jh(t);if(typeof n=="string"){const r=U(this,Dr).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&U(this,Dr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=jh(t);if(typeof n=="string"){const r=U(this,Dr).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=jh(t);if(typeof n=="string"){const i=(r=U(this,Dr).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nn.batch(()=>{U(this,Ys).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,Ys).clear(),U(this,Dr).clear()})}getAll(){return Array.from(U(this,Ys))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>jN(n,r))}findAll(t={}){return this.getAll().filter(n=>jN(t,n))}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Rn))))}},Ys=new WeakMap,Dr=new WeakMap,ju=new WeakMap,i1);function jh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Qs,Xi,qn,Xs,oi,Yh,Qx,a1,SM=(a1=class extends Cc{constructor(n,r){super();Ae(this,oi);Ae(this,Qs);Ae(this,Xi);Ae(this,qn);Ae(this,Xs);be(this,Qs,n),this.setOptions(r),this.bindMethods(),Qe(this,oi,Yh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=U(this,Qs).defaultMutationOptions(n),If(this.options,r)||U(this,Qs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,qn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Co(r.mutationKey)!==Co(this.options.mutationKey)?this.reset():((i=U(this,qn))==null?void 0:i.state.status)==="pending"&&U(this,qn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,qn))==null||n.removeObserver(this)}onMutationUpdate(n){Qe(this,oi,Yh).call(this),Qe(this,oi,Qx).call(this,n)}getCurrentResult(){return U(this,Xi)}reset(){var n;(n=U(this,qn))==null||n.removeObserver(this),be(this,qn,void 0),Qe(this,oi,Yh).call(this),Qe(this,oi,Qx).call(this)}mutate(n,r){var i;return be(this,Xs,r),(i=U(this,qn))==null||i.removeObserver(this),be(this,qn,U(this,Qs).getMutationCache().build(U(this,Qs),this.options)),U(this,qn).addObserver(this),U(this,qn).execute(n)}},Qs=new WeakMap,Xi=new WeakMap,qn=new WeakMap,Xs=new WeakMap,oi=new WeakSet,Yh=function(){var r;const n=((r=U(this,qn))==null?void 0:r.state)??BC();be(this,Xi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Qx=function(n){nn.batch(()=>{var r,i,a,o,l,c,d,h;if(U(this,Xs)&&this.hasListeners()){const m=U(this,Xi).variables,f=U(this,Xi).context,j={client:U(this,Qs),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=U(this,Xs)).onSuccess)==null||i.call(r,n.data,m,f,j),(o=(a=U(this,Xs)).onSettled)==null||o.call(a,n.data,null,m,f,j)):(n==null?void 0:n.type)==="error"&&((c=(l=U(this,Xs)).onError)==null||c.call(l,n.error,m,f,j),(h=(d=U(this,Xs)).onSettled)==null||h.call(d,void 0,n.error,m,f,j))}this.listeners.forEach(m=>{m(U(this,Xi))})})},a1),fs,o1,CM=(o1=class extends Cc{constructor(t={}){super();Ae(this,fs);this.config=t,be(this,fs,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Uy(i,n);let o=this.get(a);return o||(o=new vM({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){U(this,fs).has(t.queryHash)||(U(this,fs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,fs).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,fs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,fs).get(t)}getAll(){return[...U(this,fs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wN(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>wN(t,r)):n}notify(t){nn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fs=new WeakMap,o1),$t,Zi,Ji,Gl,Yl,ea,Ql,Xl,l1,kM=(l1=class{constructor(e={}){Ae(this,$t);Ae(this,Zi);Ae(this,Ji);Ae(this,Gl);Ae(this,Yl);Ae(this,ea);Ae(this,Ql);Ae(this,Xl);be(this,$t,e.queryCache||new CM),be(this,Zi,e.mutationCache||new _M),be(this,Ji,e.defaultOptions||{}),be(this,Gl,new Map),be(this,Yl,new Map),be(this,ea,0)}mount(){rh(this,ea)._++,U(this,ea)===1&&(be(this,Ql,zy.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,$t).onFocus())})),be(this,Xl,Rf.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,$t).onOnline())})))}unmount(){var e,t;rh(this,ea)._--,U(this,ea)===0&&((e=U(this,Ql))==null||e.call(this),be(this,Ql,void 0),(t=U(this,Xl))==null||t.call(this),be(this,Xl,void 0))}isFetching(e){return U(this,$t).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Zi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,$t).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=U(this,$t).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ha(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return U(this,$t).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=U(this,$t).get(r.queryHash),a=i==null?void 0:i.state.data,o=lM(t,a);if(o!==void 0)return U(this,$t).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return nn.batch(()=>U(this,$t).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,$t).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,$t);nn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,$t);return nn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=nn.batch(()=>U(this,$t).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Rn).catch(Rn)}invalidateQueries(e,t={}){return nn.batch(()=>(U(this,$t).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=nn.batch(()=>U(this,$t).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Rn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Rn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,$t).build(this,t);return n.isStaleByTime(ha(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rn).catch(Rn)}fetchInfiniteQuery(e){return e.behavior=EN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rn).catch(Rn)}ensureInfiniteQueryData(e){return e.behavior=EN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rf.isOnline()?U(this,Zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,$t)}getMutationCache(){return U(this,Zi)}getDefaultOptions(){return U(this,Ji)}setDefaultOptions(e){be(this,Ji,e)}setQueryDefaults(e,t){U(this,Gl).set(Co(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,Gl).values()],n={};return t.forEach(r=>{tu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){U(this,Yl).set(Co(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,Yl).values()],n={};return t.forEach(r=>{tu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Ji).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Uy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Vy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Ji).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,$t).clear(),U(this,Zi).clear()}},$t=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,ea=new WeakMap,Ql=new WeakMap,Xl=new WeakMap,l1),WC=p.createContext(void 0),HC=e=>{const t=p.useContext(WC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},EM=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(WC.Provider,{value:e,children:t})),qC=p.createContext(!1),TM=()=>p.useContext(qC);qC.Provider;function PM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AM=p.createContext(PM()),IM=()=>p.useContext(AM),RM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},DM=e=>{p.useEffect(()=>{e.clearReset()},[e])},MM=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||FC(n,[e.error,r])),OM=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},FM=(e,t)=>e.isLoading&&e.isFetching&&!t,LM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PN=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function $M(e,t,n){var m,f,j,x,g;const r=TM(),i=IM(),a=HC(),o=a.defaultQueryOptions(e);(f=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||f.call(m,o),o._optimisticResults=r?"isRestoring":"optimistic",OM(o),RM(o,i),DM(i);const l=!a.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(a,o)),d=c.getOptimisticResult(o),h=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(C=>{const N=h?c.subscribe(nn.batchCalls(C)):Rn;return c.updateResult(),N},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o)},[o,c]),LM(o,d))throw PN(o,c,i);if(MM({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(j=a.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||x.call(j,o,d),o.experimental_prefetchInRender&&!So&&FM(d,r)){const C=l?PN(o,c,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;C==null||C.catch(Rn).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ze(e,t){return $M(e,yM)}function Dt(e,t){const n=HC(),[r]=p.useState(()=>new SM(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const i=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(nn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,l)=>{r.mutate(o,l).catch(Rn)},[r]);if(i.error&&FC(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function KC(e){if(!e.ok){const t=await e.text()||e.statusText;console.error(`API Error: ${e.status} - ${e.statusText}`,{url:e.url,status:e.status,statusText:e.statusText,text:t});let n;try{n=JSON.parse(t)}catch(r){console.log("JSON parsing failed:",r,"Original text:",t)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw e.status===400?new Error("Please check your information and try again."):e.status===401?new Error("Invalid email or password."):e.status===403?new Error("Access denied. Please contact support."):e.status===404?new Error("Service not available. Please try again later."):e.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function mt(e,t,n){const r=t,i=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),o=localStorage.getItem("user");t.includes("/api/admin/users")&&(console.log("[apiRequest] Calling /api/admin/users:"),console.log("  - adminAccessToken:",i?"present":"missing"),console.log("  - accessToken:",a?"present":"missing"),console.log("  - user:",o?"present":"missing"));const l=n?{"Content-Type":"application/json"}:{};i&&(l["x-admin-token"]=i),a&&(l["x-access-token"]=a),o&&(l["x-user-data"]=btoa(unescape(encodeURIComponent(o)))),t.includes("/api/admin/users")&&console.log("  - Headers:",Object.keys(l));const c=await fetch(r,{method:e,headers:l,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(d=>{throw console.error("Fetch error for:",r,d),d});return await KC(c),c}const UM=({on401:e})=>async({queryKey:t})=>{const[n,...r]=t,i=new URLSearchParams;if(r.length>0)if(n==="/api/admin/shows"&&r.length>=2){const[m,f,j,x]=r;m&&i.set("page",String(m)),f&&i.set("limit",String(f)),j&&i.set("title",String(j)),x&&i.set("type",String(x))}else if(n==="/api/admin/users"&&r.length>=2){const[m,f,j]=r;m&&i.set("page",String(m)),f&&i.set("limit",String(f)),j&&i.set("title",String(j))}else r[0]&&typeof r[0]=="string"&&i.set("userId",r[0]);const a=`${n}${i.toString()?"?"+i.toString():""}`,o=localStorage.getItem("adminAccessToken"),l=localStorage.getItem("accessToken"),c=localStorage.getItem("user");n==="/api/admin/users"&&(console.log("[QueryClient] Fetching /api/admin/users:"),console.log("  - adminAccessToken:",o?"present":"missing"),console.log("  - accessToken:",l?"present":"missing"),console.log("  - user:",c?"present":"missing"));const d={"Content-Type":"application/json"};o&&(d["x-admin-token"]=o),l&&(d["x-access-token"]=l),c&&(d["x-user-data"]=btoa(unescape(encodeURIComponent(c)))),n==="/api/admin/users"&&console.log("  - Headers:",Object.keys(d));const h=await fetch(a,{credentials:"include",headers:d});return await KC(h),await h.json()},vt=new kM({defaultOptions:{queries:{queryFn:UM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),VM=1,zM=1e6;let ug=0;function BM(){return ug=(ug+1)%Number.MAX_SAFE_INTEGER,ug.toString()}const hg=new Map,AN=e=>{if(hg.has(e))return;const t=setTimeout(()=>{hg.delete(e),Ed({type:"REMOVE_TOAST",toastId:e})},zM);hg.set(e,t)},WM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,VM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?AN(n):e.toasts.forEach(r=>{AN(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Qh=[];let Xh={toasts:[]};function Ed(e){Xh=WM(Xh,e),Qh.forEach(t=>{t(Xh)})}function HM({...e}){const t=BM(),n=i=>Ed({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ed({type:"DISMISS_TOAST",toastId:t});return Ed({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function bn(){const[e,t]=p.useState(Xh);return p.useEffect(()=>(Qh.push(t),()=>{const n=Qh.indexOf(t);n>-1&&Qh.splice(n,1)}),[e]),{...e,toast:HM,dismiss:n=>Ed({type:"DISMISS_TOAST",toastId:n})}}function ge(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function IN(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pm(...e){return t=>{let n=!1;const r=e.map(i=>{const a=IN(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():IN(e[i],null)}}}}function tt(...e){return p.useCallback(Pm(...e),e)}function qM(e,t){const n=p.createContext(t),r=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function tr(e,t=[]){let n=[];function r(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const d=m=>{var N;const{scope:f,children:j,...x}=m,g=((N=f==null?void 0:f[e])==null?void 0:N[c])||l,C=p.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:C,children:j})};d.displayName=a+"Provider";function h(m,f){var g;const j=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,x=p.useContext(j);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,KM(i,...t)]}function KM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function wa(e){const t=GM(e),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(YM);if(c){const d=c.props.children,h=l.map(m=>m===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:m);return s.jsx(t,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var GC=wa("Slot");function GM(e){const t=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=XM(i),l=QM(a,i.props);return i.type!==p.Fragment&&(l.ref=r?Pm(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YC=Symbol("radix.slottable");function QC(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=YC,t}function YM(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YC}function QM(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function XM(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Am(e){const t=e+"CollectionProvider",[n,r]=tr(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:C,children:N}=g,v=De.useRef(null),S=De.useRef(new Map).current;return s.jsx(i,{scope:C,itemMap:S,collectionRef:v,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=wa(l),d=De.forwardRef((g,C)=>{const{scope:N,children:v}=g,S=a(l,N),w=tt(C,S.collectionRef);return s.jsx(c,{ref:w,children:v})});d.displayName=l;const h=e+"CollectionItemSlot",m="data-radix-collection-item",f=wa(h),j=De.forwardRef((g,C)=>{const{scope:N,children:v,...S}=g,w=De.useRef(null),A=tt(C,w),M=a(h,N);return De.useEffect(()=>(M.itemMap.set(w,{ref:w,...S}),()=>void M.itemMap.delete(w))),s.jsx(f,{[m]:"",ref:A,children:v})});j.displayName=h;function x(g){const C=a(e+"CollectionConsumer",g);return De.useCallback(()=>{const v=C.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((M,E)=>S.indexOf(M.ref.current)-S.indexOf(E.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:j},x,r]}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=ZM.reduce((e,t)=>{const n=wa(`Primitive.${t}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Wy(e,t){e&&Vo.flushSync(()=>e.dispatchEvent(t))}function $n(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function JM(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var eO="DismissableLayer",Xx="dismissableLayer.update",tO="dismissableLayer.pointerDownOutside",nO="dismissableLayer.focusOutside",RN,XC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bo=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=p.useContext(XC),[h,m]=p.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=p.useState({}),x=tt(t,E=>m(E)),g=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=g.indexOf(C),v=h?g.indexOf(h):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=N,A=sO(E=>{const b=E.target,_=[...d.branches].some(R=>R.contains(b));!w||_||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},f),M=iO(E=>{const b=E.target;[...d.branches].some(R=>R.contains(b))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},f);return JM(E=>{v===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},f),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(RN=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),DN(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=RN)}},[h,f,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),DN())},[h,d]),p.useEffect(()=>{const E=()=>j({});return document.addEventListener(Xx,E),()=>document.removeEventListener(Xx,E)},[]),s.jsx(Ie.div,{...c,ref:x,style:{pointerEvents:S?w?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,M.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,A.onPointerDownCapture)})});Bo.displayName=eO;var rO="DismissableLayerBranch",ZC=p.forwardRef((e,t)=>{const n=p.useContext(XC),r=p.useRef(null),i=tt(t,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ie.div,{...e,ref:i})});ZC.displayName=rO;function sO(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){JC(tO,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function iO(e,t=globalThis==null?void 0:globalThis.document){const n=$n(e),r=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!r.current&&JC(nO,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DN(){const e=new CustomEvent(Xx);document.dispatchEvent(e)}function JC(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Wy(i,a):i.dispatchEvent(a)}var aO=Bo,oO=ZC,Xt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},lO="Portal",kc=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=p.useState(!1);Xt(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PD.createPortal(s.jsx(Ie.div,{...r,ref:t}),o):null});kc.displayName=lO;function cO(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var xr=e=>{const{present:t,children:n}=e,r=dO(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=tt(r.ref,uO(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};xr.displayName="Presence";function dO(e){const[t,n]=p.useState(),r=p.useRef(null),i=p.useRef(e),a=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=cO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=bh(r.current);a.current=l==="mounted"?d:"none"},[l]),Xt(()=>{const d=r.current,h=i.current;if(h!==e){const f=a.current,j=bh(d);e?c("MOUNT"):j==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Xt(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,m=j=>{const g=bh(r.current).includes(CSS.escape(j.animationName));if(j.target===t&&g&&(c("ANIMATION_END"),!i.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},f=j=>{j.target===t&&(a.current=bh(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function bh(e){return(e==null?void 0:e.animationName)||"none"}function uO(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hO=qv[" useInsertionEffect ".trim().toString()]||Xt;function hi({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=fO({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=p.useCallback(h=>{var m;if(l){const f=mO(h)?h(e):h;f!==e&&((m=o.current)==null||m.call(o,f))}else a(h)},[l,e,a,o]);return[c,d]}function fO({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),i=p.useRef(n),a=p.useRef(t);return hO(()=>{a.current=t},[t]),p.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function mO(e){return typeof e=="function"}var ek=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pO="VisuallyHidden",Im=p.forwardRef((e,t)=>s.jsx(Ie.span,{...e,ref:t,style:{...ek,...e.style}}));Im.displayName=pO;var gO=Im,Hy="ToastProvider",[qy,xO,vO]=Am("Toast"),[tk]=tr("Toast",[vO]),[yO,Rm]=tk(Hy),nk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=p.useState(null),[d,h]=p.useState(0),m=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hy}\`. Expected non-empty \`string\`.`),s.jsx(qy.Provider,{scope:t,children:s.jsx(yO,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(j=>j+1),[]),onToastRemove:p.useCallback(()=>h(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:o})})};nk.displayName=Hy;var rk="ToastViewport",wO=["F8"],Zx="toast.viewportPause",Jx="toast.viewportResume",sk=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=wO,label:i="Notifications ({hotkey})",...a}=e,o=Rm(rk,n),l=xO(n),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),m=p.useRef(null),f=tt(t,m,o.onViewportChange),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;p.useEffect(()=>{const C=N=>{var S;r.length!==0&&r.every(w=>N[w]||N.code===w)&&((S=m.current)==null||S.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),p.useEffect(()=>{const C=c.current,N=m.current;if(x&&C&&N){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Zx);N.dispatchEvent(M),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Jx);N.dispatchEvent(M),o.isClosePausedRef.current=!1}},w=M=>{!C.contains(M.relatedTarget)&&S()},A=()=>{C.contains(document.activeElement)||S()};return C.addEventListener("focusin",v),C.addEventListener("focusout",w),C.addEventListener("pointermove",v),C.addEventListener("pointerleave",A),window.addEventListener("blur",v),window.addEventListener("focus",S),()=>{C.removeEventListener("focusin",v),C.removeEventListener("focusout",w),C.removeEventListener("pointermove",v),C.removeEventListener("pointerleave",A),window.removeEventListener("blur",v),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:C})=>{const v=l().map(S=>{const w=S.ref.current,A=[w,...RO(w)];return C==="forwards"?A:A.reverse()});return(C==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const C=m.current;if(C){const N=v=>{var A,M,E;const S=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!S){const b=document.activeElement,_=v.shiftKey;if(v.target===C&&_){(A=d.current)==null||A.focus();return}const k=g({tabbingDirection:_?"backwards":"forwards"}),I=k.findIndex(O=>O===b);fg(k.slice(I+1))?v.preventDefault():_?(M=d.current)==null||M.focus():(E=h.current)==null||E.focus()}};return C.addEventListener("keydown",N),()=>C.removeEventListener("keydown",N)}},[l,g]),s.jsxs(oO,{ref:c,role:"region","aria-label":i.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(ev,{ref:d,onFocusFromOutsideViewport:()=>{const C=g({tabbingDirection:"forwards"});fg(C)}}),s.jsx(qy.Slot,{scope:n,children:s.jsx(Ie.ol,{tabIndex:-1,...a,ref:f})}),x&&s.jsx(ev,{ref:h,onFocusFromOutsideViewport:()=>{const C=g({tabbingDirection:"backwards"});fg(C)}})]})});sk.displayName=rk;var ik="ToastFocusProxy",ev=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Rm(ik,n);return s.jsx(Im,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});ev.displayName=ik;var ku="Toast",jO="toast.swipeStart",bO="toast.swipeMove",NO="toast.swipeCancel",_O="toast.swipeEnd",ak=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=hi({prop:r,defaultProp:i??!0,onChange:a,caller:ku});return s.jsx(xr,{present:n||l,children:s.jsx(kO,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:$n(e.onPause),onResume:$n(e.onResume),onSwipeStart:ge(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ge(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});ak.displayName=ku;var[SO,CO]=tk(ku,{onClose(){}}),kO=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:j,...x}=e,g=Rm(ku,n),[C,N]=p.useState(null),v=tt(t,O=>N(O)),S=p.useRef(null),w=p.useRef(null),A=i||g.duration,M=p.useRef(0),E=p.useRef(A),b=p.useRef(0),{onToastAdd:_,onToastRemove:R}=g,P=$n(()=>{var K;(C==null?void 0:C.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),k=p.useCallback(O=>{!O||O===1/0||(window.clearTimeout(b.current),M.current=new Date().getTime(),b.current=window.setTimeout(P,O))},[P]);p.useEffect(()=>{const O=g.viewport;if(O){const K=()=>{k(E.current),d==null||d()},z=()=>{const V=new Date().getTime()-M.current;E.current=E.current-V,window.clearTimeout(b.current),c==null||c()};return O.addEventListener(Zx,z),O.addEventListener(Jx,K),()=>{O.removeEventListener(Zx,z),O.removeEventListener(Jx,K)}}},[g.viewport,A,c,d,k]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&k(A)},[a,A,g.isClosePausedRef,k]),p.useEffect(()=>(_(),()=>R()),[_,R]);const I=p.useMemo(()=>C?fk(C):null,[C]);return g.viewport?s.jsxs(s.Fragment,{children:[I&&s.jsx(EO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:I}),s.jsx(SO,{scope:n,onClose:P,children:Vo.createPortal(s.jsx(qy.ItemSlot,{scope:n,children:s.jsx(aO,{asChild:!0,onEscapeKeyDown:ge(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ie.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ge(e.onPointerDown,O=>{O.button===0&&(S.current={x:O.clientX,y:O.clientY})}),onPointerMove:ge(e.onPointerMove,O=>{if(!S.current)return;const K=O.clientX-S.current.x,z=O.clientY-S.current.y,V=!!w.current,F=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=F?B(0,K):0,ne=F?0:B(0,z),W=O.pointerType==="touch"?10:2,ue={x:ee,y:ne},ae={originalEvent:O,delta:ue};V?(w.current=ue,Nh(bO,m,ae,{discrete:!1})):MN(ue,g.swipeDirection,W)?(w.current=ue,Nh(jO,h,ae,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(K)>W||Math.abs(z)>W)&&(S.current=null)}),onPointerUp:ge(e.onPointerUp,O=>{const K=w.current,z=O.target;if(z.hasPointerCapture(O.pointerId)&&z.releasePointerCapture(O.pointerId),w.current=null,S.current=null,K){const V=O.currentTarget,F={originalEvent:O,delta:K};MN(K,g.swipeDirection,g.swipeThreshold)?Nh(_O,j,F,{discrete:!0}):Nh(NO,f,F,{discrete:!0}),V.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),EO=e=>{const{__scopeToast:t,children:n,...r}=e,i=Rm(ku,t),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return AO(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(kc,{asChild:!0,children:s.jsx(Im,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},TO="ToastTitle",ok=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ie.div,{...r,ref:t})});ok.displayName=TO;var PO="ToastDescription",lk=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ie.div,{...r,ref:t})});lk.displayName=PO;var ck="ToastAction",dk=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(hk,{altText:n,asChild:!0,children:s.jsx(Ky,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ck}\`. Expected non-empty \`string\`.`),null)});dk.displayName=ck;var uk="ToastClose",Ky=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=CO(uk,n);return s.jsx(hk,{asChild:!0,children:s.jsx(Ie.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,i.onClose)})})});Ky.displayName=uk;var hk=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function fk(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),IO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...fk(r))}}),t}function Nh(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Wy(i,a):i.dispatchEvent(a)}var MN=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function AO(e=()=>{}){const t=$n(e);Xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function IO(e){return e.nodeType===e.ELEMENT_NODE}function RO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var DO=nk,mk=sk,pk=ak,gk=ok,xk=lk,vk=dk,yk=Ky;function wk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jk(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wk(e))&&(r&&(r+=" "),r+=t);return r}const ON=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FN=jk,Eu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return FN(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],m=a==null?void 0:a[d];if(h===null)return null;const f=ON(h)||ON(m);return i[d][f]}),l=n&&Object.entries(n).reduce((d,h)=>{let[m,f]=h;return f===void 0||(d[m]=f),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:f,...j}=h;return Object.entries(j).every(x=>{let[g,C]=x;return Array.isArray(C)?C.includes({...a,...l}[g]):{...a,...l}[g]===C})?[...d,m,f]:d},[]);return FN(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bk=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...OO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bk("lucide",i),...l},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=p.forwardRef(({className:r,...i},a)=>p.createElement(FO,{ref:a,iconNode:t,className:bk(`lucide-${MO(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=_e("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=_e("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=_e("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=_e("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=_e("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=_e("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=_e("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=_e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=_e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=_e("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=_e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=_e("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=_e("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=_e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=_e("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=_e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=_e("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=_e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=_e("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=_e("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=_e("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=_e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=_e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=_e("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=_e("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=_e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jy="-",oF=e=>{const t=cF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Jy);return l[0]===""&&l.length!==1&&l.shift(),Pk(l,t)||lF(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Pk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Pk(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Jy);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},BN=/^\[(.+)\]$/,lF=e=>{if(BN.test(e)){const t=BN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return uF(Object.entries(e.classGroups),n).forEach(([a,o])=>{iv(o,r,a,t)}),r},iv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:WN(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(dF(i)){iv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{iv(o,WN(t,a),n,r)})})},WN=(e,t)=>{let n=e;return t.split(Jy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dF=e=>e.isThemeGetter,uF=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,hF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Ak="!",fF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,h=0,m;for(let C=0;C<l.length;C++){let N=l[C];if(d===0){if(N===i&&(r||l.slice(C,C+a)===t)){c.push(l.slice(h,C)),h=C+a;continue}if(N==="/"){m=C;continue}}N==="["?d++:N==="]"&&d--}const f=c.length===0?l:l.substring(h),j=f.startsWith(Ak),x=j?f.substring(1):f,g=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:j,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},mF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},pF=e=>({cache:hF(e.cacheSize),parseClassName:fF(e),...oF(e)}),gF=/\s+/,xF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(gF);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:j}=n(d);let x=!!j,g=r(x?f.substring(0,j):f);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const C=mF(h).join(":"),N=m?C+Ak:C,v=N+g;if(a.includes(v))continue;a.push(v);const S=i(g,x);for(let w=0;w<S.length;++w){const A=S[w];a.push(N+A)}l=d+(l.length>0?" "+l:l)}return l};function vF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Ik(t))&&(r&&(r+=" "),r+=n);return r}const Ik=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ik(e[r]))&&(n&&(n+=" "),n+=t);return n};function yF(e,...t){let n,r,i,a=o;function o(c){const d=t.reduce((h,m)=>m(h),e());return n=pF(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=xF(c,n);return i(c,h),h}return function(){return a(vF.apply(null,arguments))}}const Pt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Rk=/^\[(?:([a-z-]+):)?(.+)\]$/i,wF=/^\d+\/\d+$/,jF=new Set(["px","full","screen"]),bF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_F=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zs=e=>Pl(e)||jF.has(e)||wF.test(e),Ai=e=>Pc(e,"length",DF),Pl=e=>!!e&&!Number.isNaN(Number(e)),mg=e=>Pc(e,"number",Pl),ad=e=>!!e&&Number.isInteger(Number(e)),kF=e=>e.endsWith("%")&&Pl(e.slice(0,-1)),qe=e=>Rk.test(e),Ii=e=>bF.test(e),EF=new Set(["length","size","percentage"]),TF=e=>Pc(e,EF,Dk),PF=e=>Pc(e,"position",Dk),AF=new Set(["image","url"]),IF=e=>Pc(e,AF,OF),RF=e=>Pc(e,"",MF),od=()=>!0,Pc=(e,t,n)=>{const r=Rk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},DF=e=>NF.test(e)&&!_F.test(e),Dk=()=>!1,MF=e=>SF.test(e),OF=e=>CF.test(e),FF=()=>{const e=Pt("colors"),t=Pt("spacing"),n=Pt("blur"),r=Pt("brightness"),i=Pt("borderColor"),a=Pt("borderRadius"),o=Pt("borderSpacing"),l=Pt("borderWidth"),c=Pt("contrast"),d=Pt("grayscale"),h=Pt("hueRotate"),m=Pt("invert"),f=Pt("gap"),j=Pt("gradientColorStops"),x=Pt("gradientColorStopPositions"),g=Pt("inset"),C=Pt("margin"),N=Pt("opacity"),v=Pt("padding"),S=Pt("saturate"),w=Pt("scale"),A=Pt("sepia"),M=Pt("skew"),E=Pt("space"),b=Pt("translate"),_=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",qe,t],k=()=>[qe,t],I=()=>["",zs,Ai],O=()=>["auto",Pl,qe],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",qe],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Pl,qe];return{cacheSize:500,separator:":",theme:{colors:[od],spacing:[zs,Ai],blur:["none","",Ii,qe],brightness:ne(),borderColor:[e],borderRadius:["none","","full",Ii,qe],borderSpacing:k(),borderWidth:I(),contrast:ne(),grayscale:B(),hueRotate:ne(),invert:B(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[kF,Ai],inset:P(),margin:P(),opacity:ne(),padding:k(),saturate:ne(),scale:ne(),sepia:B(),skew:ne(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Ii]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),qe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ad,qe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ad,qe]}],"grid-cols":[{"grid-cols":[od]}],"col-start-end":[{col:["auto",{span:["full",ad,qe]},qe]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[od]}],"row-start-end":[{row:["auto",{span:[ad,qe]},qe]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[Ii]},Ii]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ii,Ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mg]}],"font-family":[{font:[od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Pl,mg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zs,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zs,Ai]}],"underline-offset":[{"underline-offset":["auto",zs,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),PF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[zs,qe]}],"outline-w":[{outline:[zs,Ai]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[zs,Ai]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ii,RF]}],"shadow-color":[{shadow:[od]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ii,qe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[S]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ad,qe]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zs,Ai,mg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LF=yF(FF);function ve(...e){return LF(jk(e))}const $F=DO,Mk=p.forwardRef(({className:e,...t},n)=>s.jsx(mk,{ref:n,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",e),...t}));Mk.displayName=mk.displayName;const UF=Eu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ok=p.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(pk,{ref:r,className:ve(UF({variant:t}),e),...n}));Ok.displayName=pk.displayName;const VF=p.forwardRef(({className:e,...t},n)=>s.jsx(vk,{ref:n,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));VF.displayName=vk.displayName;const Fk=p.forwardRef(({className:e,...t},n)=>s.jsx(yk,{ref:n,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Er,{className:"h-4 w-4"})}));Fk.displayName=yk.displayName;const Lk=p.forwardRef(({className:e,...t},n)=>s.jsx(gk,{ref:n,className:ve("text-sm font-semibold",e),...t}));Lk.displayName=gk.displayName;const $k=p.forwardRef(({className:e,...t},n)=>s.jsx(xk,{ref:n,className:ve("text-sm opacity-90",e),...t}));$k.displayName=xk.displayName;function zF(){const{toasts:e}=bn();return s.jsxs($F,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(Ok,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Lk,{children:n}),r&&s.jsx($k,{children:r})]}),i,s.jsx(Fk,{})]},t)}),s.jsx(Mk,{})]})}var BF=qv[" useId ".trim().toString()]||(()=>{}),WF=0;function Kr(e){const[t,n]=p.useState(BF());return Xt(()=>{n(r=>r??String(WF++))},[e]),t?`radix-${t}`:""}const HF=["top","right","bottom","left"],ba=Math.min,sr=Math.max,Ff=Math.round,Ch=Math.floor,ks=e=>({x:e,y:e}),qF={left:"right",right:"left",bottom:"top",top:"bottom"},KF={start:"end",end:"start"};function av(e,t,n){return sr(e,ba(t,n))}function mi(e,t){return typeof e=="function"?e(t):e}function pi(e){return e.split("-")[0]}function Ac(e){return e.split("-")[1]}function ew(e){return e==="x"?"y":"x"}function tw(e){return e==="y"?"height":"width"}const GF=new Set(["top","bottom"]);function ws(e){return GF.has(pi(e))?"y":"x"}function nw(e){return ew(ws(e))}function YF(e,t,n){n===void 0&&(n=!1);const r=Ac(e),i=nw(e),a=tw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Lf(o)),[o,Lf(o)]}function QF(e){const t=Lf(e);return[ov(e),t,ov(t)]}function ov(e){return e.replace(/start|end/g,t=>KF[t])}const HN=["left","right"],qN=["right","left"],XF=["top","bottom"],ZF=["bottom","top"];function JF(e,t,n){switch(e){case"top":case"bottom":return n?t?qN:HN:t?HN:qN;case"left":case"right":return t?XF:ZF;default:return[]}}function eL(e,t,n,r){const i=Ac(e);let a=JF(pi(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(ov)))),a}function Lf(e){return e.replace(/left|right|bottom|top/g,t=>qF[t])}function tL(e){return{top:0,right:0,bottom:0,left:0,...e}}function Uk(e){return typeof e!="number"?tL(e):{top:e,right:e,bottom:e,left:e}}function $f(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function KN(e,t,n){let{reference:r,floating:i}=e;const a=ws(t),o=nw(t),l=tw(o),c=pi(t),d=a==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let j;switch(c){case"top":j={x:h,y:r.y-i.height};break;case"bottom":j={x:h,y:r.y+r.height};break;case"right":j={x:r.x+r.width,y:m};break;case"left":j={x:r.x-i.width,y:m};break;default:j={x:r.x,y:r.y}}switch(Ac(t)){case"start":j[o]-=f*(n&&d?-1:1);break;case"end":j[o]+=f*(n&&d?-1:1);break}return j}const nL=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=KN(d,r,c),f=r,j={},x=0;for(let g=0;g<l.length;g++){const{name:C,fn:N}=l[g],{x:v,y:S,data:w,reset:A}=await N({x:h,y:m,initialPlacement:r,placement:f,strategy:i,middlewareData:j,rects:d,platform:o,elements:{reference:e,floating:t}});h=v??h,m=S??m,j={...j,[C]:{...j[C],...w}},A&&x<=50&&(x++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:h,y:m}=KN(d,f,c)),g=-1)}return{x:h,y:m,placement:f,strategy:i,middlewareData:j}};async function iu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:f=!1,padding:j=0}=mi(t,e),x=Uk(j),C=l[f?m==="floating"?"reference":"floating":m],N=$f(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),v=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},A=$f(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:S,strategy:c}):v);return{top:(N.top-A.top+x.top)/w.y,bottom:(A.bottom-N.bottom+x.bottom)/w.y,left:(N.left-A.left+x.left)/w.x,right:(A.right-N.right+x.right)/w.x}}const rL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=mi(e,t)||{};if(d==null)return{};const m=Uk(h),f={x:n,y:r},j=nw(i),x=tw(j),g=await o.getDimensions(d),C=j==="y",N=C?"top":"left",v=C?"bottom":"right",S=C?"clientHeight":"clientWidth",w=a.reference[x]+a.reference[j]-f[j]-a.floating[x],A=f[j]-a.reference[j],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=M?M[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(M)))&&(E=l.floating[S]||a.floating[x]);const b=w/2-A/2,_=E/2-g[x]/2-1,R=ba(m[N],_),P=ba(m[v],_),k=R,I=E-g[x]-P,O=E/2-g[x]/2+b,K=av(k,O,I),z=!c.arrow&&Ac(i)!=null&&O!==K&&a.reference[x]/2-(O<k?R:P)-g[x]/2<0,V=z?O<k?O-k:O-I:0;return{[j]:f[j]+V,data:{[j]:K,centerOffset:O-K-V,...z&&{alignmentOffset:V}},reset:z}}}),sL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...C}=mi(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=pi(i),v=ws(l),S=pi(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=f||(S||!g?[Lf(l)]:QF(l)),M=x!=="none";!f&&M&&A.push(...eL(l,g,x,w));const E=[l,...A],b=await iu(t,C),_=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&_.push(b[N]),m){const O=YF(i,o,w);_.push(b[O[0]],b[O[1]])}if(R=[...R,{placement:i,overflows:_}],!_.every(O=>O<=0)){var P,k;const O=(((P=a.flip)==null?void 0:P.index)||0)+1,K=E[O];if(K&&(!(m==="alignment"?v!==ws(K):!1)||R.every(F=>ws(F.placement)===v?F.overflows[0]>0:!0)))return{data:{index:O,overflows:R},reset:{placement:K}};let z=(k=R.filter(V=>V.overflows[0]<=0).sort((V,F)=>V.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!z)switch(j){case"bestFit":{var I;const V=(I=R.filter(F=>{if(M){const B=ws(F.placement);return B===v||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,ee)=>B+ee,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:I[0];V&&(z=V);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function GN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YN(e){return HF.some(t=>e[t]>=0)}const iL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=mi(e,t);switch(r){case"referenceHidden":{const a=await iu(t,{...i,elementContext:"reference"}),o=GN(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YN(o)}}}case"escaped":{const a=await iu(t,{...i,altBoundary:!0}),o=GN(a,n.floating);return{data:{escapedOffsets:o,escaped:YN(o)}}}default:return{}}}}},Vk=new Set(["left","top"]);async function aL(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=pi(n),l=Ac(n),c=ws(n)==="y",d=Vk.has(o)?-1:1,h=a&&c?-1:1,m=mi(t,e);let{mainAxis:f,crossAxis:j,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(j=l==="end"?x*-1:x),c?{x:j*h,y:f*d}:{x:f*d,y:j*h}}const oL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await aL(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},lL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:N,y:v}=C;return{x:N,y:v}}},...c}=mi(e,t),d={x:n,y:r},h=await iu(t,c),m=ws(pi(i)),f=ew(m);let j=d[f],x=d[m];if(a){const C=f==="y"?"top":"left",N=f==="y"?"bottom":"right",v=j+h[C],S=j-h[N];j=av(v,j,S)}if(o){const C=m==="y"?"top":"left",N=m==="y"?"bottom":"right",v=x+h[C],S=x-h[N];x=av(v,x,S)}const g=l.fn({...t,[f]:j,[m]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:a,[m]:o}}}}}},cL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=mi(e,t),h={x:n,y:r},m=ws(i),f=ew(m);let j=h[f],x=h[m];const g=mi(l,t),C=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const S=f==="y"?"height":"width",w=a.reference[f]-a.floating[S]+C.mainAxis,A=a.reference[f]+a.reference[S]-C.mainAxis;j<w?j=w:j>A&&(j=A)}if(d){var N,v;const S=f==="y"?"width":"height",w=Vk.has(pi(i)),A=a.reference[m]-a.floating[S]+(w&&((N=o.offset)==null?void 0:N[m])||0)+(w?0:C.crossAxis),M=a.reference[m]+a.reference[S]+(w?0:((v=o.offset)==null?void 0:v[m])||0)-(w?C.crossAxis:0);x<A?x=A:x>M&&(x=M)}return{[f]:j,[m]:x}}}},dL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=mi(e,t),h=await iu(t,d),m=pi(i),f=Ac(i),j=ws(i)==="y",{width:x,height:g}=a.floating;let C,N;m==="top"||m==="bottom"?(C=m,N=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=m,C=f==="end"?"top":"bottom");const v=g-h.top-h.bottom,S=x-h.left-h.right,w=ba(g-h[C],v),A=ba(x-h[N],S),M=!t.middlewareData.shift;let E=w,b=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(b=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),M&&!f){const R=sr(h.left,0),P=sr(h.right,0),k=sr(h.top,0),I=sr(h.bottom,0);j?b=x-2*(R!==0||P!==0?R+P:sr(h.left,h.right)):E=g-2*(k!==0||I!==0?k+I:sr(h.top,h.bottom))}await c({...t,availableWidth:b,availableHeight:E});const _=await o.getDimensions(l.floating);return x!==_.width||g!==_.height?{reset:{rects:!0}}:{}}}};function Mm(){return typeof window<"u"}function Ic(e){return zk(e)?(e.nodeName||"").toLowerCase():"#document"}function cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fs(e){var t;return(t=(zk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zk(e){return Mm()?e instanceof Node||e instanceof cr(e).Node:!1}function Jr(e){return Mm()?e instanceof Element||e instanceof cr(e).Element:!1}function Is(e){return Mm()?e instanceof HTMLElement||e instanceof cr(e).HTMLElement:!1}function QN(e){return!Mm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cr(e).ShadowRoot}const uL=new Set(["inline","contents"]);function Tu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=es(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!uL.has(i)}const hL=new Set(["table","td","th"]);function fL(e){return hL.has(Ic(e))}const mL=[":popover-open",":modal"];function Om(e){return mL.some(t=>{try{return e.matches(t)}catch{return!1}})}const pL=["transform","translate","scale","rotate","perspective"],gL=["transform","translate","scale","rotate","perspective","filter"],xL=["paint","layout","strict","content"];function rw(e){const t=sw(),n=Jr(e)?es(e):e;return pL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||gL.some(r=>(n.willChange||"").includes(r))||xL.some(r=>(n.contain||"").includes(r))}function vL(e){let t=Na(e);for(;Is(t)&&!lc(t);){if(rw(t))return t;if(Om(t))return null;t=Na(t)}return null}function sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yL=new Set(["html","body","#document"]);function lc(e){return yL.has(Ic(e))}function es(e){return cr(e).getComputedStyle(e)}function Fm(e){return Jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Na(e){if(Ic(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QN(e)&&e.host||Fs(e);return QN(t)?t.host:t}function Bk(e){const t=Na(e);return lc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Is(t)&&Tu(t)?t:Bk(t)}function au(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Bk(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=cr(i);if(a){const l=lv(o);return t.concat(o,o.visualViewport||[],Tu(i)?i:[],l&&n?au(l):[])}return t.concat(i,au(i,[],n))}function lv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wk(e){const t=es(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Is(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=Ff(n)!==a||Ff(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function iw(e){return Jr(e)?e:e.contextElement}function Al(e){const t=iw(e);if(!Is(t))return ks(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Wk(t);let o=(a?Ff(n.width):n.width)/r,l=(a?Ff(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const wL=ks(0);function Hk(e){const t=cr(e);return!sw()||!t.visualViewport?wL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cr(e)?!1:t}function ko(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=iw(e);let o=ks(1);t&&(r?Jr(r)&&(o=Al(r)):o=Al(e));const l=jL(a,n,r)?Hk(a):ks(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,m=i.height/o.y;if(a){const f=cr(a),j=r&&Jr(r)?cr(r):r;let x=f,g=lv(x);for(;g&&r&&j!==x;){const C=Al(g),N=g.getBoundingClientRect(),v=es(g),S=N.left+(g.clientLeft+parseFloat(v.paddingLeft))*C.x,w=N.top+(g.clientTop+parseFloat(v.paddingTop))*C.y;c*=C.x,d*=C.y,h*=C.x,m*=C.y,c+=S,d+=w,x=cr(g),g=lv(x)}}return $f({width:h,height:m,x:c,y:d})}function Lm(e,t){const n=Fm(e).scrollLeft;return t?t.left+n:ko(Fs(e)).left+n}function qk(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Lm(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function bL(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Fs(r),l=t?Om(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=ks(1);const h=ks(0),m=Is(r);if((m||!m&&!a)&&((Ic(r)!=="body"||Tu(o))&&(c=Fm(r)),Is(r))){const j=ko(r);d=Al(r),h.x=j.x+r.clientLeft,h.y=j.y+r.clientTop}const f=o&&!m&&!a?qk(o,c):ks(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+f.x,y:n.y*d.y-c.scrollTop*d.y+h.y+f.y}}function NL(e){return Array.from(e.getClientRects())}function _L(e){const t=Fs(e),n=Fm(e),r=e.ownerDocument.body,i=sr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=sr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lm(e);const l=-n.scrollTop;return es(r).direction==="rtl"&&(o+=sr(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const XN=25;function SL(e,t){const n=cr(e),r=Fs(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const h=sw();(!h||h&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=Lm(r);if(d<=0){const h=r.ownerDocument,m=h.body,f=getComputedStyle(m),j=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-j);x<=XN&&(a-=x)}else d<=XN&&(a+=d);return{width:a,height:o,x:l,y:c}}const CL=new Set(["absolute","fixed"]);function kL(e,t){const n=ko(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Is(e)?Al(e):ks(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function ZN(e,t,n){let r;if(t==="viewport")r=SL(e,n);else if(t==="document")r=_L(Fs(e));else if(Jr(t))r=kL(t,n);else{const i=Hk(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $f(r)}function Kk(e,t){const n=Na(e);return n===t||!Jr(n)||lc(n)?!1:es(n).position==="fixed"||Kk(n,t)}function EL(e,t){const n=t.get(e);if(n)return n;let r=au(e,[],!1).filter(l=>Jr(l)&&Ic(l)!=="body"),i=null;const a=es(e).position==="fixed";let o=a?Na(e):e;for(;Jr(o)&&!lc(o);){const l=es(o),c=rw(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&CL.has(i.position)||Tu(o)&&!c&&Kk(e,o))?r=r.filter(h=>h!==o):i=l,o=Na(o)}return t.set(e,r),r}function TL(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Om(t)?[]:EL(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const m=ZN(t,h,i);return d.top=sr(m.top,d.top),d.right=ba(m.right,d.right),d.bottom=ba(m.bottom,d.bottom),d.left=sr(m.left,d.left),d},ZN(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PL(e){const{width:t,height:n}=Wk(e);return{width:t,height:n}}function AL(e,t,n){const r=Is(t),i=Fs(t),a=n==="fixed",o=ko(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ks(0);function d(){c.x=Lm(i)}if(r||!r&&!a)if((Ic(t)!=="body"||Tu(i))&&(l=Fm(t)),r){const j=ko(t,!0,a,t);c.x=j.x+t.clientLeft,c.y=j.y+t.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?qk(i,l):ks(0),m=o.left+l.scrollLeft-c.x-h.x,f=o.top+l.scrollTop-c.y-h.y;return{x:m,y:f,width:o.width,height:o.height}}function pg(e){return es(e).position==="static"}function JN(e,t){if(!Is(e)||es(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fs(e)===n&&(n=n.ownerDocument.body),n}function Gk(e,t){const n=cr(e);if(Om(e))return n;if(!Is(e)){let i=Na(e);for(;i&&!lc(i);){if(Jr(i)&&!pg(i))return i;i=Na(i)}return n}let r=JN(e,t);for(;r&&fL(r)&&pg(r);)r=JN(r,t);return r&&lc(r)&&pg(r)&&!rw(r)?n:r||vL(e)||n}const IL=async function(e){const t=this.getOffsetParent||Gk,n=this.getDimensions,r=await n(e.floating);return{reference:AL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RL(e){return es(e).direction==="rtl"}const DL={convertOffsetParentRelativeRectToViewportRelativeRect:bL,getDocumentElement:Fs,getClippingRect:TL,getOffsetParent:Gk,getElementRects:IL,getClientRects:NL,getDimensions:PL,getScale:Al,isElement:Jr,isRTL:RL};function Yk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ML(e,t){let n=null,r;const i=Fs(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:m,width:f,height:j}=d;if(l||t(),!f||!j)return;const x=Ch(m),g=Ch(i.clientWidth-(h+f)),C=Ch(i.clientHeight-(m+j)),N=Ch(h),S={rootMargin:-x+"px "+-g+"px "+-C+"px "+-N+"px",threshold:sr(0,ba(1,c))||1};let w=!0;function A(M){const E=M[0].intersectionRatio;if(E!==c){if(!w)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!Yk(d,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(A,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,S)}n.observe(e)}return o(!0),a}function OL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=iw(e),h=i||a?[...d?au(d):[],...au(t)]:[];h.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const m=d&&l?ML(d,n):null;let f=-1,j=null;o&&(j=new ResizeObserver(N=>{let[v]=N;v&&v.target===d&&j&&(j.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=j)==null||S.observe(t)})),n()}),d&&!c&&j.observe(d),j.observe(t));let x,g=c?ko(e):null;c&&C();function C(){const N=ko(e);g&&!Yk(g,N)&&n(),g=N,x=requestAnimationFrame(C)}return n(),()=>{var N;h.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),m==null||m(),(N=j)==null||N.disconnect(),j=null,c&&cancelAnimationFrame(x)}}const FL=oL,LL=lL,$L=sL,UL=dL,VL=iL,e0=rL,zL=cL,BL=(e,t,n)=>{const r=new Map,i={platform:DL,...n},a={...i.platform,_c:r};return nL(e,t,{...i,platform:a})};var WL=typeof document<"u",HL=function(){},Zh=WL?p.useLayoutEffect:HL;function Uf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Uf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Qk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t0(e,t){const n=Qk(e);return Math.round(t*n)/n}function gg(e){const t=p.useRef(e);return Zh(()=>{t.current=e}),t}function qL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,m]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,j]=p.useState(r);Uf(f,r)||j(r);const[x,g]=p.useState(null),[C,N]=p.useState(null),v=p.useCallback(F=>{F!==M.current&&(M.current=F,g(F))},[]),S=p.useCallback(F=>{F!==E.current&&(E.current=F,N(F))},[]),w=a||x,A=o||C,M=p.useRef(null),E=p.useRef(null),b=p.useRef(h),_=c!=null,R=gg(c),P=gg(i),k=gg(d),I=p.useCallback(()=>{if(!M.current||!E.current)return;const F={placement:t,strategy:n,middleware:f};P.current&&(F.platform=P.current),BL(M.current,E.current,F).then(B=>{const ee={...B,isPositioned:k.current!==!1};O.current&&!Uf(b.current,ee)&&(b.current=ee,Vo.flushSync(()=>{m(ee)}))})},[f,t,n,P,k]);Zh(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const O=p.useRef(!1);Zh(()=>(O.current=!0,()=>{O.current=!1}),[]),Zh(()=>{if(w&&(M.current=w),A&&(E.current=A),w&&A){if(R.current)return R.current(w,A,I);I()}},[w,A,I,R,_]);const K=p.useMemo(()=>({reference:M,floating:E,setReference:v,setFloating:S}),[v,S]),z=p.useMemo(()=>({reference:w,floating:A}),[w,A]),V=p.useMemo(()=>{const F={position:n,left:0,top:0};if(!z.floating)return F;const B=t0(z.floating,h.x),ee=t0(z.floating,h.y);return l?{...F,transform:"translate("+B+"px, "+ee+"px)",...Qk(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:ee}},[n,l,z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:I,refs:K,elements:z,floatingStyles:V}),[h,I,K,z,V])}const KL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?e0({element:r.current,padding:i}).fn(n):{}:r?e0({element:r,padding:i}).fn(n):{}}}},GL=(e,t)=>({...FL(e),options:[e,t]}),YL=(e,t)=>({...LL(e),options:[e,t]}),QL=(e,t)=>({...zL(e),options:[e,t]}),XL=(e,t)=>({...$L(e),options:[e,t]}),ZL=(e,t)=>({...UL(e),options:[e,t]}),JL=(e,t)=>({...VL(e),options:[e,t]}),e3=(e,t)=>({...KL(e),options:[e,t]});var t3="Arrow",Xk=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(Ie.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xk.displayName=t3;var n3=Xk;function Zk(e){const[t,n]=p.useState(void 0);return Xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var aw="Popper",[Jk,Ia]=tr(aw),[r3,e2]=Jk(aw),t2=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return s.jsx(r3,{scope:t,anchor:r,onAnchorChange:i,children:n})};t2.displayName=aw;var n2="PopperAnchor",r2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=e2(n2,n),o=p.useRef(null),l=tt(t,o),c=p.useRef(null);return p.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(Ie.div,{...i,ref:l})});r2.displayName=n2;var ow="PopperContent",[s3,i3]=Jk(ow),s2=p.forwardRef((e,t)=>{var me,Be,Ue,H,Ne,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:j="optimized",onPlaced:x,...g}=e,C=e2(ow,n),[N,v]=p.useState(null),S=tt(t,Ke=>v(Ke)),[w,A]=p.useState(null),M=Zk(w),E=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,_=r+(a!=="center"?"-"+a:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],k=P.length>0,I={padding:R,boundary:P.filter(o3),altBoundary:k},{refs:O,floatingStyles:K,placement:z,isPositioned:V,middlewareData:F}=qL({strategy:"fixed",placement:_,whileElementsMounted:(...Ke)=>OL(...Ke,{animationFrame:j==="always"}),elements:{reference:C.anchor},middleware:[GL({mainAxis:i+b,alignmentAxis:o}),c&&YL({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?QL():void 0,...I}),c&&XL({...I}),ZL({...I,apply:({elements:Ke,rects:wt,availableWidth:bt,availableHeight:ln})=>{const{width:kn,height:ss}=wt.reference,Nt=Ke.floating.style;Nt.setProperty("--radix-popper-available-width",`${bt}px`),Nt.setProperty("--radix-popper-available-height",`${ln}px`),Nt.setProperty("--radix-popper-anchor-width",`${kn}px`),Nt.setProperty("--radix-popper-anchor-height",`${ss}px`)}}),w&&e3({element:w,padding:l}),l3({arrowWidth:E,arrowHeight:b}),f&&JL({strategy:"referenceHidden",...I})]}),[B,ee]=o2(z),ne=$n(x);Xt(()=>{V&&(ne==null||ne())},[V,ne]);const W=(me=F.arrow)==null?void 0:me.x,ue=(Be=F.arrow)==null?void 0:Be.y,ae=((Ue=F.arrow)==null?void 0:Ue.centerOffset)!==0,[Le,We]=p.useState();return Xt(()=>{N&&We(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(H=F.transformOrigin)==null?void 0:H.x,(Ne=F.transformOrigin)==null?void 0:Ne.y].join(" "),...((ke=F.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(s3,{scope:n,placedSide:B,onArrowChange:A,arrowX:W,arrowY:ue,shouldHideArrow:ae,children:s.jsx(Ie.div,{"data-side":B,"data-align":ee,...g,ref:S,style:{...g.style,animation:V?void 0:"none"}})})})});s2.displayName=ow;var i2="PopperArrow",a3={top:"bottom",right:"left",bottom:"top",left:"right"},a2=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=i3(i2,r),o=a3[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(n3,{...i,ref:n,style:{...i.style,display:"block"}})})});a2.displayName=i2;function o3(e){return e!==null}var l3=e=>({name:"transformOrigin",options:e,fn(t){var C,N,v;const{placement:n,rects:r,middlewareData:i}=t,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,h]=o2(n),m={start:"0%",center:"50%",end:"100%"}[h],f=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,j=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?m:`${f}px`,g=`${-c}px`):d==="top"?(x=o?m:`${f}px`,g=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?m:`${j}px`):d==="left"&&(x=`${r.floating.width+c}px`,g=o?m:`${j}px`),{data:{x,y:g}}}});function o2(e){const[t,n="center"]=e.split("-");return[t,n]}var lw=t2,Pu=r2,$m=s2,Um=a2,[Vm]=tr("Tooltip",[Ia]),cw=Ia(),l2="TooltipProvider",c3=700,n0="tooltip.open",[d3,c2]=Vm(l2),d2=e=>{const{__scopeTooltip:t,delayDuration:n=c3,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(d3,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};d2.displayName=l2;var u2="Tooltip",[tK,zm]=Vm(u2),cv="TooltipTrigger",u3=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=zm(cv,n),a=c2(cv,n),o=cw(n),l=p.useRef(null),c=tt(t,l,i.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),m=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Pu,{asChild:!0,...o,children:s.jsx(Ie.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ge(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ge(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:ge(e.onBlur,i.onClose),onClick:ge(e.onClick,i.onClose)})})});u3.displayName=cv;var h3="TooltipPortal",[nK,f3]=Vm(h3,{forceMount:void 0}),cc="TooltipContent",h2=p.forwardRef((e,t)=>{const n=f3(cc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=zm(cc,e.__scopeTooltip);return s.jsx(xr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(f2,{side:i,...a,ref:t}):s.jsx(m3,{side:i,...a,ref:t})})}),m3=p.forwardRef((e,t)=>{const n=zm(cc,e.__scopeTooltip),r=c2(cc,e.__scopeTooltip),i=p.useRef(null),a=tt(t,i),[o,l]=p.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:m}=r,f=p.useCallback(()=>{l(null),m(!1)},[m]),j=p.useCallback((x,g)=>{const C=x.currentTarget,N={x:x.clientX,y:x.clientY},v=y3(N,C.getBoundingClientRect()),S=w3(N,v),w=j3(g.getBoundingClientRect()),A=N3([...S,...w]);l(A),m(!0)},[m]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&h){const x=C=>j(C,h),g=C=>j(C,c);return c.addEventListener("pointerleave",x),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",g)}}},[c,h,j,f]),p.useEffect(()=>{if(o){const x=g=>{const C=g.target,N={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(C))||(h==null?void 0:h.contains(C)),S=!b3(N,o);v?f():S&&(f(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,h,o,d,f]),s.jsx(f2,{...e,ref:a})}),[p3,g3]=Vm(u2,{isInside:!1}),x3=QC("TooltipContent"),f2=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=zm(cc,n),d=cw(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(n0,h),()=>document.removeEventListener(n0,h)),[h]),p.useEffect(()=>{if(c.trigger){const m=f=>{const j=f.target;j!=null&&j.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:s.jsxs($m,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(x3,{children:r}),s.jsx(p3,{scope:n,isInside:!0,children:s.jsx(gO,{id:c.contentId,role:"tooltip",children:i||r})})]})})});h2.displayName=cc;var m2="TooltipArrow",v3=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=cw(n);return g3(m2,n).isInside?null:s.jsx(Um,{...i,...r,ref:t})});v3.displayName=m2;function y3(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function w3(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function j3(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function b3(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,h=l.y,m=c.x,f=c.y;h>r!=f>r&&n<(m-d)*(r-h)/(f-h)+d&&(i=!i)}return i}function N3(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_3(t)}function _3(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var S3=d2,p2=h2;const C3=S3,k3=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(p2,{ref:r,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));k3.displayName=p2.displayName;const E3=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},T3=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],o=e[n++],l=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},x2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let f=(l&15)<<2|d>>6,j=d&63;c||(j=64,o||(f=64)),r.push(n[h],n[m],n[f],n[j])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(g2(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):T3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const d=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||m==null)throw new P3;const f=a<<2|l>>4;if(r.push(f),d!==64){const j=l<<4&240|d>>2;if(r.push(j),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class P3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A3=function(e){const t=g2(e);return x2.encodeByteArray(t,!0)},Vf=function(e){return A3(e).replace(/\./g,"")},v2=function(e){try{return x2.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=()=>I3().__FIREBASE_DEFAULTS__,D3=()=>{if(typeof process>"u"||typeof r0>"u")return;const e=r0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},M3=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&v2(e[1]);return t&&JSON.parse(t)},dw=()=>{try{return E3()||R3()||D3()||M3()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},y2=e=>{var t,n;return(n=(t=dw())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},w2=e=>{const t=y2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},j2=()=>{var e;return(e=dw())==null?void 0:e.config},b2=e=>{var t;return(t=dw())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uw(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Vf(JSON.stringify(n)),Vf(JSON.stringify(o)),""].join(".")}const Pd={};function F3(){const e={prod:[],emulator:[]};for(const t of Object.keys(Pd))Pd[t]?e.emulator.push(t):e.prod.push(t);return e}function L3(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let s0=!1;function hw(e,t){if(typeof window>"u"||typeof document>"u"||!Rc(window.location.host)||Pd[e]===t||Pd[e]||s0)return;Pd[e]=t;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",a=F3().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,j){f.setAttribute("width","24"),f.setAttribute("id",j),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{s0=!0,o()},f}function h(f,j){f.setAttribute("id",j),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=L3(r),j=n("text"),x=document.getElementById(j)||document.createElement("span"),g=n("learnmore"),C=document.getElementById(g)||document.createElement("a"),N=n("preprendIcon"),v=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;l(S),h(C,g);const w=d();c(v,N),S.append(v,x,C,w),document.body.appendChild(S)}a?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function U3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V3(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function z3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B3(){const e=Un();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function W3(){try{return typeof indexedDB=="object"}catch{return!1}}function H3(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="FirebaseError";class Ls extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=q3,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?K3(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ls(i,l,r)}}function K3(e,t){return e.replace(G3,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const G3=/\{\$([^}]+)}/g;function Y3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],o=t[i];if(i0(a)&&i0(o)){if(!Eo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Q3(e,t){const n=new X3(e,t);return n.subscribe.bind(n)}class X3{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z3(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=xg),i.error===void 0&&(i.error=xg),i.complete===void 0&&(i.complete=xg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z3(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e){return e&&e._delegate?e._delegate:e}class _a{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new O3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t6(t))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=Ha){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ha){return this.instances.has(t)}getOptions(t=Ha){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e6(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ha){return this.component?this.component.multipleInstances?t:Ha:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e6(e){return e===Ha?void 0:e}function t6(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new J3(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ft||(ft={}));const r6={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},s6=ft.INFO,i6={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},a6=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=i6[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fw{constructor(t){this.name=t,this._logLevel=s6,this._logHandler=a6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...t),this._logHandler(this,ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...t),this._logHandler(this,ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...t),this._logHandler(this,ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...t),this._logHandler(this,ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...t),this._logHandler(this,ft.ERROR,...t)}}const o6=(e,t)=>t.some(n=>e instanceof n);let a0,o0;function l6(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c6(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _2=new WeakMap,dv=new WeakMap,S2=new WeakMap,vg=new WeakMap,mw=new WeakMap;function d6(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(ma(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&_2.set(n,e)}).catch(()=>{}),mw.set(t,e),t}function u6(e){if(dv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});dv.set(e,t)}let uv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||S2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function h6(e){uv=e(uv)}function f6(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(yg(this),t,...n);return S2.set(r,t.sort?t.sort():[t]),ma(r)}:c6().includes(e)?function(...t){return e.apply(yg(this),t),ma(_2.get(this))}:function(...t){return ma(e.apply(yg(this),t))}}function m6(e){return typeof e=="function"?f6(e):(e instanceof IDBTransaction&&u6(e),o6(e,l6())?new Proxy(e,uv):e)}function ma(e){if(e instanceof IDBRequest)return d6(e);if(vg.has(e))return vg.get(e);const t=m6(e);return t!==e&&(vg.set(e,t),mw.set(t,e)),t}const yg=e=>mw.get(e);function p6(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=ma(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ma(o.result),c.oldVersion,c.newVersion,ma(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const g6=["get","getKey","getAll","getAllKeys","count"],x6=["put","add","delete","clear"],wg=new Map;function l0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wg.get(t))return wg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=x6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||g6.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return wg.set(t,a),a}h6(e=>({...e,get:(t,n,r)=>l0(t,n)||e.get(t,n,r),has:(t,n)=>!!l0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function y6(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hv="@firebase/app",c0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new fw("@firebase/app"),w6="@firebase/app-compat",j6="@firebase/analytics-compat",b6="@firebase/analytics",N6="@firebase/app-check-compat",_6="@firebase/app-check",S6="@firebase/auth",C6="@firebase/auth-compat",k6="@firebase/database",E6="@firebase/data-connect",T6="@firebase/database-compat",P6="@firebase/functions",A6="@firebase/functions-compat",I6="@firebase/installations",R6="@firebase/installations-compat",D6="@firebase/messaging",M6="@firebase/messaging-compat",O6="@firebase/performance",F6="@firebase/performance-compat",L6="@firebase/remote-config",$6="@firebase/remote-config-compat",U6="@firebase/storage",V6="@firebase/storage-compat",z6="@firebase/firestore",B6="@firebase/ai",W6="@firebase/firestore-compat",H6="firebase",q6="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="[DEFAULT]",K6={[hv]:"fire-core",[w6]:"fire-core-compat",[b6]:"fire-analytics",[j6]:"fire-analytics-compat",[_6]:"fire-app-check",[N6]:"fire-app-check-compat",[S6]:"fire-auth",[C6]:"fire-auth-compat",[k6]:"fire-rtdb",[E6]:"fire-data-connect",[T6]:"fire-rtdb-compat",[P6]:"fire-fn",[A6]:"fire-fn-compat",[I6]:"fire-iid",[R6]:"fire-iid-compat",[D6]:"fire-fcm",[M6]:"fire-fcm-compat",[O6]:"fire-perf",[F6]:"fire-perf-compat",[L6]:"fire-rc",[$6]:"fire-rc-compat",[U6]:"fire-gcs",[V6]:"fire-gcs-compat",[z6]:"fire-fst",[W6]:"fire-fst-compat",[B6]:"fire-vertex","fire-js":"fire-js",[H6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,G6=new Map,mv=new Map;function d0(e,t){try{e.container.addComponent(t)}catch(n){gi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function To(e){const t=e.name;if(mv.has(t))return gi.debug(`There were multiple attempts to register component ${t}.`),!1;mv.set(t,e);for(const n of zf.values())d0(n,e);for(const n of G6.values())d0(n,e);return!0}function Bm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ir(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new Au("app","Firebase",Y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=q6;function C2(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:fv,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw pa.create("bad-app-name",{appName:String(i)});if(n||(n=j2()),!n)throw pa.create("no-options");const a=zf.get(i);if(a){if(Eo(n,a.options)&&Eo(r,a.config))return a;throw pa.create("duplicate-app",{appName:i})}const o=new n6(i);for(const c of mv.values())o.addComponent(c);const l=new Q6(n,r,o);return zf.set(i,l),l}function pw(e=fv){const t=zf.get(e);if(!t&&e===fv&&j2())return C2();if(!t)throw pa.create("no-app",{appName:e});return t}function Es(e,t,n){let r=K6[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gi.warn(o.join(" "));return}To(new _a(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="firebase-heartbeat-database",Z6=1,ou="firebase-heartbeat-store";let jg=null;function k2(){return jg||(jg=p6(X6,Z6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(e=>{throw pa.create("idb-open",{originalErrorMessage:e.message})})),jg}async function J6(e){try{const n=(await k2()).transaction(ou),r=await n.objectStore(ou).get(E2(e));return await n.done,r}catch(t){if(t instanceof Ls)gi.warn(t.message);else{const n=pa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gi.warn(n.message)}}}async function u0(e,t){try{const r=(await k2()).transaction(ou,"readwrite");await r.objectStore(ou).put(t,E2(e)),await r.done}catch(n){if(n instanceof Ls)gi.warn(n.message);else{const r=pa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function E2(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1024,t5=30;class n5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>t5){const o=i5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h0(),{heartbeatsToSend:r,unsentEntries:i}=r5(this._heartbeatsCache.heartbeats),a=Vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return gi.warn(n),""}}}function h0(){return new Date().toISOString().substring(0,10)}function r5(e,t=e5){const n=[];let r=e.slice();for(const i of e){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),f0(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),f0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W3()?H3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return u0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function f0(e){return Vf(JSON.stringify({version:2,heartbeats:e})).length}function i5(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(e){To(new _a("platform-logger",t=>new v6(t),"PRIVATE")),To(new _a("heartbeat",t=>new n5(t),"PRIVATE")),Es(hv,c0,e),Es(hv,c0,"esm2020"),Es("fire-js","")}a5("");var o5="firebase",l5="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(o5,l5,"app");function T2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c5=T2,P2=new Au("auth","Firebase",T2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new fw("@firebase/auth");function d5(e,...t){Bf.logLevel<=ft.WARN&&Bf.warn(`Auth (${Wo}): ${e}`,...t)}function Jh(e,...t){Bf.logLevel<=ft.ERROR&&Bf.error(`Auth (${Wo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e,...t){throw xw(e,...t)}function Gr(e,...t){return xw(e,...t)}function gw(e,t,n){const r={...c5(),[t]:n};return new Au("auth","Firebase",r).create(t,{appName:e.name})}function ga(e){return gw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A2(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Rs(e,"argument-error"),gw(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return P2.create(e,...t)}function Me(e,t,...n){if(!e)throw xw(t,...n)}function ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jh(t),new Error(t)}function xi(e,t){e||ri(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function u5(){return m0()==="http:"||m0()==="https:"}function m0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u5()||V3()||"connection"in navigator)?navigator.onLine:!0}function f5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n){this.shortDelay=t,this.longDelay=n,xi(n>t,"Short delay should be less than long delay!"),this.isMobile=$3()||z3()}get(){return h5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g5=new Ru(3e4,6e4);function yw(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Dc(e,t,n,r,i={}){return R2(e,i,async()=>{let a={},o={};r&&(t==="GET"?o=r:a={body:JSON.stringify(r)});const l=Iu({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:c,...a};return U3()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&Rc(e.emulatorConfig.host)&&(d.credentials="include"),I2.fetch()(await D2(e,e.config.apiHost,n,l),d)})}async function R2(e,t,n){e._canInitEmulator=!1;const r={...m5,...t};try{const i=new v5(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw kh(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw kh(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw kh(e,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gw(e,h,d);Rs(e,h)}}catch(i){if(i instanceof Ls)throw i;Rs(e,"network-request-failed",{message:String(i)})}}async function x5(e,t,n,r,i={}){const a=await Dc(e,t,n,r,i);return"mfaPendingCredential"in a&&Rs(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function D2(e,t,n,r){const i=`${t}${n}?${r}`,a=e,o=a.config.emulator?vw(e.config,i):`${e.config.apiScheme}://${i}`;return p5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class v5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),g5.get())})}}function kh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(e,t){return Dc(e,"POST","/v1/accounts:delete",t)}async function Wf(e,t){return Dc(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function w5(e,t=!1){const n=bi(e),r=await n.getIdToken(t),i=ww(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ad(bg(i.auth_time)),issuedAtTime:Ad(bg(i.iat)),expirationTime:Ad(bg(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bg(e){return Number(e)*1e3}function ww(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const i=v2(n);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p0(e){const t=ww(e);return Me(t,"internal-error"),Me(typeof t.exp<"u","internal-error"),Me(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Ls&&j5(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function j5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(e){var m;const t=e.auth,n=await e.getIdToken(),r=await lu(e,Wf(t,{idToken:n}));Me(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?M2(i.providerUserInfo):[],o=_5(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,h)}async function N5(e){const t=bi(e);await Hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _5(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function M2(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(e,t){const n=await R2(e,{},async()=>{const r=Iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=await D2(e,i,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return e.emulatorConfig&&Rc(e.emulatorConfig.host)&&(c.credentials="include"),I2.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C5(e,t){return Dc(e,"POST","/v2/accounts:revokeToken",yw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Me(t.idToken,"internal-error"),Me(typeof t.idToken<"u","internal-error"),Me(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Me(t.length!==0,"internal-error");const n=p0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await S5(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Il;return r&&(Me(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(e,t){Me(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Vr{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new b5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await lu(this,this.stsTokenManager.getToken(this.auth,t));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return w5(this,t)}reload(){return N5(this)}_assign(t){this!==t&&(Me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Vr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(ga(this.auth));const t=await this.getIdToken();return await lu(this,y5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:j,providerData:x,stsTokenManager:g}=n;Me(m&&g,t,"internal-error");const C=Il.fromJSON(this.name,g);Me(typeof m=="string",t,"internal-error"),Ri(r,t.name),Ri(i,t.name),Me(typeof f=="boolean",t,"internal-error"),Me(typeof j=="boolean",t,"internal-error"),Ri(a,t.name),Ri(o,t.name),Ri(l,t.name),Ri(c,t.name),Ri(d,t.name),Ri(h,t.name);const N=new Vr({uid:m,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:j,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:C,createdAt:d,lastLoginAt:h});return x&&Array.isArray(x)&&(N.providerData=x.map(v=>({...v}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(t,n,r=!1){const i=new Il;i.updateFromServerResponse(n);const a=new Vr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Hf(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?M2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Il;l.updateFromIdToken(r);const c=new Vr({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;function si(e){xi(e instanceof Function,"Expected a class definition");let t=g0.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,g0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}O2.type="NONE";const x0=O2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e,t,n){return`firebase:${e}:${t}:${n}`}class Rl{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,a),this.fullPersistenceKey=ef("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Wf(this.auth,{idToken:t}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,t):null}return Vr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Rl(si(x0),t,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||si(x0);const o=ef(r,t.config.apiKey,t.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const f=await Wf(t,{idToken:h}).catch(()=>{});if(!f)break;m=await Vr._fromGetAccountInfoResponse(t,f,h)}else m=Vr._fromJSON(t,h);d!==a&&(l=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Rl(a,t,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Rl(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(F2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z2(t))return"Blackberry";if(B2(t))return"Webos";if(L2(t))return"Safari";if((t.includes("chrome/")||$2(t))&&!t.includes("edge/"))return"Chrome";if(V2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function F2(e=Un()){return/firefox\//i.test(e)}function L2(e=Un()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $2(e=Un()){return/crios\//i.test(e)}function U2(e=Un()){return/iemobile/i.test(e)}function V2(e=Un()){return/android/i.test(e)}function z2(e=Un()){return/blackberry/i.test(e)}function B2(e=Un()){return/webos/i.test(e)}function jw(e=Un()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function k5(e=Un()){var t;return jw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function E5(){return B3()&&document.documentMode===10}function W2(e=Un()){return jw(e)||V2(e)||B2(e)||z2(e)||/windows phone/i.test(e)||U2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(e,t=[]){let n;switch(e){case"Browser":n=v0(Un());break;case"Worker":n=`${v0(Un())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(e,t={}){return Dc(e,"GET","/v2/passwordPolicy",yw(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=6;class I5{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new T5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Rl.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Wf(this,{idToken:t}),r=await Vr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Hf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=f5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ir(this.app))return Promise.reject(ga(this));const n=t?bi(t):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ir(this.app)?Promise.reject(ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await P5(this),n=new I5(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Au("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C5(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&si(t)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&d5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mc(e){return bi(e)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Q3(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D5(e){bw=e}function M5(e){return bw.loadJS(e)}function O5(){return bw.gapiScript}function F5(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(e,t){const n=Bm(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Eo(a,t??{}))return i;Rs(i,"already-initialized")}return n.initialize({options:t})}function $5(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function U5(e,t,n){const r=Mc(e);Me(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=q2(t),{host:o,port:l}=V5(t),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Eo(d,r.config.emulator)&&Eo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Rc(o)?(uw(`${a}//${o}${c}`),hw("Auth",!0)):z5()}function q2(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function V5(e){const t=q2(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:w0(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:w0(o)}}}function w0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function z5(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(t){return ri("not implemented")}_linkToIdToken(t,n){return ri("not implemented")}_getReauthenticationResolver(t){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(e,t){return x5(e,"POST","/v1/accounts:signInWithIdp",yw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="http://localhost";class vi extends K2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new vi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new vi(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Dl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Dl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Dl(t,n)}buildRequest(){const t={requestUri:B5,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Iu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Wm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Id extends Oc{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return Me("providerId"in n&&"signInMethod"in n,"argument-error"),vi._fromParams(n)}credential(t){return this._credential({...t,nonce:t.rawNonce})}_credential(t){return Me(t.idToken||t.accessToken,"argument-error"),vi._fromParams({...t,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(t){return Id.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Id.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:o,providerId:l}=t;if(!r&&!i&&!n&&!a||!l)return null;try{return new Id(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Oc{constructor(){super("facebook.com")}static credential(t){return vi._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zi.credential(t.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return vi._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Oc{constructor(){super("github.com")}static credential(t){return vi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bi.credential(t.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Oc{constructor(){super("twitter.com")}static credential(t,n){return vi._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await Vr._fromIdTokenResponse(t,r,i),o=j0(r);return new dc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=j0(r);return new dc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function j0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends Ls{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new qf(t,n,r,i)}}function G2(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(e,a,t,r):a})}async function W5(e,t,n=!1){const r=await lu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(e,t,n=!1){const{auth:r}=e;if(ir(r.app))return Promise.reject(ga(r));const i="reauthenticate";try{const a=await lu(e,G2(r,i,t,e),n);Me(a.idToken,r,"internal-error");const o=ww(a.idToken);Me(o,r,"internal-error");const{sub:l}=o;return Me(e.uid===l,r,"user-mismatch"),dc._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Rs(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(e,t,n=!1){if(ir(e.app))return Promise.reject(ga(e));const r="signIn",i=await G2(e,r,t),a=await dc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function K5(e,t,n,r){return bi(e).onIdTokenChanged(t,n,r)}function G5(e,t,n){return bi(e).beforeAuthStateChanged(t,n)}function Y5(e,t,n,r){return bi(e).onAuthStateChanged(t,n,r)}function Q5(e){return bi(e).signOut()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=1e3,Z5=10;class Q2 extends Y2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);E5()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Z5):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},X5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q2.type="LOCAL";const J5=Q2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends Y2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}X2.type="SESSION";const Z2=X2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Hm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await e9(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Nw("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return window}function n9(e){Ts().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function r9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function i9(){return J2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firebaseLocalStorageDb",a9=1,Gf="firebaseLocalStorage",tE="fbase_key";class Du{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qm(e,t){return e.transaction([Gf],t?"readwrite":"readonly").objectStore(Gf)}function o9(){const e=indexedDB.deleteDatabase(eE);return new Du(e).toPromise()}function xv(){const e=indexedDB.open(eE,a9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Gf,{keyPath:tE})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Gf)?t(r):(r.close(),await o9(),t(await xv()))})})}async function b0(e,t,n){const r=qm(e,!0).put({[tE]:t,value:n});return new Du(r).toPromise()}async function l9(e,t){const n=qm(e,!1).get(t),r=await new Du(n).toPromise();return r===void 0?null:r.value}function N0(e,t){const n=qm(e,!0).delete(t);return new Du(n).toPromise()}const c9=800,d9=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>d9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(i9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await r9(),!this.activeServiceWorker)return;this.sender=new t9(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||s9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xv();return await b0(t,Kf,"1"),await N0(t,Kf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>l9(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>N0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=qm(i,!1).getAll();return new Du(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const u9=nE;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(e,t){return t?si(t):(Me(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends K2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Dl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Dl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Dl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function h9(e){return q5(e.auth,new Sw(e),e.bypassAuthState)}function f9(e){const{auth:t,user:n}=e;return Me(n,t,"internal-error"),H5(n,new Sw(e),e.bypassAuthState)}async function m9(e){const{auth:t,user:n}=e;return Me(n,t,"internal-error"),W5(n,new Sw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return h9;case"linkViaPopup":case"linkViaRedirect":return m9;case"reauthViaPopup":case"reauthViaRedirect":return f9;default:Rs(this.auth,"internal-error")}}resolve(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=new Ru(2e3,1e4);async function sE(e,t,n){if(ir(e.app))return Promise.reject(Gr(e,"operation-not-supported-in-this-environment"));const r=Mc(e);A2(e,t,Wm);const i=_w(r,n);return new no(r,"signInViaPopup",t,i).executeNotNull()}class no extends rE{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Me(t,this.auth,"internal-error"),t}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const t=Nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,p9.get())};t()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="pendingRedirect",tf=new Map;class x9 extends rE{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const r=await v9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v9(e,t){const n=aE(t),r=iE(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function y9(e,t){return iE(e)._set(aE(t),"true")}function w9(e,t){tf.set(e._key(),t)}function iE(e){return si(e._redirectPersistence)}function aE(e){return ef(g9,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(e,t,n){return j9(e,t,n)}async function j9(e,t,n){if(ir(e.app))return Promise.reject(ga(e));const r=Mc(e);A2(e,t,Wm),await r._initializationPromise;const i=_w(r,n);return await y9(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function b9(e,t){return await Mc(e)._initializationPromise,lE(e,t,!1)}async function lE(e,t,n=!1){if(ir(e.app))return Promise.reject(ga(e));const r=Mc(e),i=_w(r,t),o=await new x9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=10*60*1e3;class _9{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!S9(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!cE(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=N9&&this.cachedEventUids.clear(),this.cachedEventUids.has(_0(t))}saveEventToCache(t){this.cachedEventUids.add(_0(t)),this.lastProcessedEventTime=Date.now()}}function _0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function cE({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function S9(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(e,t={}){return Dc(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E9=/^https?/;async function T9(e){if(e.config.emulator)return;const{authorizedDomains:t}=await C9(e);for(const n of t)try{if(P9(n))return}catch{}Rs(e,"unauthorized-domain")}function P9(e){const t=pv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E9.test(n))return!1;if(k9.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new Ru(3e4,6e4);function S0(){const e=Ts().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function I9(e){return new Promise((t,n)=>{var i,a,o;function r(){S0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(Gr(e,"network-request-failed"))},timeout:A9.get()})}if((a=(i=Ts().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((o=Ts().gapi)!=null&&o.load)r();else{const l=F5("iframefcb");return Ts()[l]=()=>{gapi.load?r():n(Gr(e,"network-request-failed"))},M5(`${O5()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw nf=null,t})}let nf=null;function R9(e){return nf=nf||I9(e),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new Ru(5e3,15e3),M9="__/auth/iframe",O9="emulator/auth/iframe",F9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $9(e){const t=e.config;Me(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?vw(t,O9):`https://${e.config.authDomain}/${M9}`,r={apiKey:t.apiKey,appName:e.name,v:Wo},i=L9.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Iu(r).slice(1)}`}async function U9(e){const t=await R9(e),n=Ts().gapi;return Me(n,e,"internal-error"),t.open({where:document.body,url:$9(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Gr(e,"network-request-failed"),l=Ts().setTimeout(()=>{a(o)},D9.get());function c(){Ts().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z9=500,B9=600,W9="_blank",H9="http://localhost";class C0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q9(e,t,n,r=z9,i=B9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...V9,width:r.toString(),height:i.toString(),top:a,left:o},d=Un().toLowerCase();n&&(l=$2(d)?W9:n),F2(d)&&(t=t||H9,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[j,x])=>`${f}${j}=${x},`,"");if(k5(d)&&l!=="_self")return K9(t||"",l),new C0(null);const m=window.open(t||"",l,h);Me(m,e,"popup-blocked");try{m.focus()}catch{}return new C0(m)}function K9(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="__/auth/handler",Y9="emulator/auth/handler",Q9=encodeURIComponent("fac");async function k0(e,t,n,r,i,a){Me(e.config.authDomain,e,"auth-domain-config-required"),Me(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wo,eventId:i};if(t instanceof Wm){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Y3(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(t instanceof Oc){const h=t.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await e._getAppCheckToken(),d=c?`#${Q9}=${encodeURIComponent(c)}`:"";return`${X9(e)}?${Iu(l).slice(1)}${d}`}function X9({config:e}){return e.emulator?vw(e,Y9):`https://${e.authDomain}/${G9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class Z9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z2,this._completeRedirectFn=lE,this._overrideRedirectResult=w9}async _openPopup(t,n,r,i){var o;xi((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await k0(t,n,r,pv(),i);return q9(t,a,Nw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await k0(t,n,r,pv(),i);return n9(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(xi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await U9(t),r=new _9(t);return n.register("authEvent",i=>(Me(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ng,{type:Ng},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Ng];a!==void 0&&n(!!a),Rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T9(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return W2()||L2()||jw()}}const J9=Z9;var E0="@firebase/auth",T0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n$(e){To(new _a("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H2(e)},d=new R5(r,i,a,c);return $5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),To(new _a("auth-internal",t=>{const n=Mc(t.getProvider("auth").getImmediate());return(r=>new e$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(E0,T0,t$(e)),Es(E0,T0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=5*60,s$=b2("authIdTokenMaxAge")||r$;let P0=null;const i$=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s$)return;const i=n==null?void 0:n.token;P0!==i&&(P0=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a$(e=pw()){const t=Bm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=L5(e,{popupRedirectResolver:J9,persistence:[u9,J5,Z2]}),r=b2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=i$(a.toString());G5(n,o,()=>o(n.currentUser)),K5(n,l=>o(l))}}const i=y2("auth");return i&&U5(n,`http://${i}`),n}function o$(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}D5({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=Gr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",o$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n$("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebasestorage.googleapis.com",l$="storageBucket",c$=2*60*1e3,d$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Ls{constructor(t,n,r=0){super(_g(t),`Firebase Storage: ${n} (${_g(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$s.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _g(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ds;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ds||(Ds={}));function _g(e){return"storage/"+e}function u$(){const e="An unknown error occurred, please check the error payload for server response.";return new $s(Ds.UNKNOWN,e)}function h$(){return new $s(Ds.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f$(){return new $s(Ds.CANCELED,"User canceled the upload/download.")}function m$(e){return new $s(Ds.INVALID_URL,"Invalid URL '"+e+"'.")}function p$(e){return new $s(Ds.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function A0(e){return new $s(Ds.INVALID_ARGUMENT,e)}function uE(){return new $s(Ds.APP_DELETED,"The Firebase app was deleted.")}function g$(e){return new $s(Ds.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=zr.makeFromUrl(t,n)}catch{return new zr(t,"")}if(r.path==="")return r;throw p$(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(w){w.path_=decodeURIComponent(w.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",j=new RegExp(`^https?://${m}/${h}/b/${i}/o${f}`,"i"),x={bucket:1,path:3},g=n===dE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",N=new RegExp(`^https?://${g}/${i}/${C}`,"i"),S=[{regex:l,indices:c,postModify:a},{regex:j,indices:x,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let w=0;w<S.length;w++){const A=S[w],M=A.regex.exec(t);if(M){const E=M[A.indices.bucket];let b=M[A.indices.path];b||(b=""),r=new zr(E,b),A.postModify(r);break}}if(r==null)throw m$(t);return r}}class x${constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(e,t,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...C){d||(d=!0,t.apply(null,C))}function m(C){i=setTimeout(()=>{i=null,e(j,c())},C)}function f(){a&&clearTimeout(a)}function j(C,...N){if(d){f();return}if(C){f(),h.call(null,C,...N);return}if(c()||o){f(),h.call(null,C,...N);return}r<64&&(r*=2);let S;l===1?(l=2,S=0):S=(r+Math.random())*1e3,m(S)}let x=!1;function g(C){x||(x=!0,f(),!d&&(i!==null?(C||(l=2),clearTimeout(i),m(0)):C||(l=1)))}return m(0),a=setTimeout(()=>{o=!0,g(!0)},n),g}function y$(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(e){return e!==void 0}function I0(e,t,n,r){if(r<t)throw A0(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw A0(`Invalid value for '${e}'. Expected ${n} or less.`)}function j$(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(t,n,r,i,a,o,l,c,d,h,m,f=!0,j=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=f,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,g)=>{this.resolve_=x,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Eh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Yf.NO_ERROR,c=a.getStatus();if(!l||b$(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Yf.ABORT;r(!1,new Eh(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Eh(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());w$(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=u$();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?uE():f$();o(c)}else{const c=h$();o(c)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=v$(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&y$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function _$(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function S$(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function C$(e,t){t&&(e["X-Firebase-GMPID"]=t)}function k$(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function E$(e,t,n,r,i,a,o=!0,l=!1){const c=j$(e.urlParams),d=e.url+c,h=Object.assign({},e.headers);return C$(h,t),_$(h,n),S$(h,a),k$(h,r),new N$(d,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function P$(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,n){this._service=t,n instanceof zr?this._location=n:this._location=zr.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Qf(t,n)}get root(){const t=new zr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P$(this._location.path)}get storage(){return this._service}get parent(){const t=T$(this._location.path);if(t===null)return null;const n=new zr(this._location.bucket,t);return new Qf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw g$(t)}}function R0(e,t){const n=t==null?void 0:t[l$];return n==null?null:zr.makeFromBucketSpec(n,e)}function A$(e,t,n,r={}){e.host=`${t}:${n}`;const i=Rc(t);i&&(uw(`https://${e.host}/b`),hw("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a=="string"?a:N2(a,e.app.options.projectId))}class I${constructor(t,n,r,i,a,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=dE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c$,this._maxUploadRetryTime=d$,this._requests=new Set,i!=null?this._bucket=zr.makeFromBucketSpec(i,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=zr.makeFromBucketSpec(this._url,t):this._bucket=R0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){I0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){I0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Qf(this,t)}_makeRequest(t,n,r,i,a=!0){if(this._deleted)return new x$(uE());{const o=E$(t,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const D0="@firebase/storage",M0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="storage";function R$(e=pw(),t){e=bi(e);const r=Bm(e,hE).getImmediate({identifier:t}),i=w2("storage");return i&&D$(r,...i),r}function D$(e,t,n,r={}){A$(e,t,n,r)}function M$(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new I$(n,r,i,t,Wo)}function O$(){To(new _a(hE,M$,"PUBLIC").setMultipleInstances(!0)),Es(D0,M0,""),Es(D0,M0,"esm2020")}O$();var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,b){function _(){}_.prototype=b.prototype,E.F=b.prototype,E.prototype=new _,E.prototype.constructor=E,E.D=function(R,P,k){for(var I=Array(arguments.length-2),O=2;O<arguments.length;O++)I[O-2]=arguments[O];return b.prototype[P].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,b,_){_||(_=0);const R=Array(16);if(typeof b=="string")for(var P=0;P<16;++P)R[P]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(P=0;P<16;++P)R[P]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=E.g[0],_=E.g[1],P=E.g[2];let k=E.g[3],I;I=b+(k^_&(P^k))+R[0]+3614090360&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(P^b&(_^P))+R[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=P+(_^k&(b^_))+R[2]+606105819&4294967295,P=k+(I<<17&4294967295|I>>>15),I=_+(b^P&(k^b))+R[3]+3250441966&4294967295,_=P+(I<<22&4294967295|I>>>10),I=b+(k^_&(P^k))+R[4]+4118548399&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(P^b&(_^P))+R[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=P+(_^k&(b^_))+R[6]+2821735955&4294967295,P=k+(I<<17&4294967295|I>>>15),I=_+(b^P&(k^b))+R[7]+4249261313&4294967295,_=P+(I<<22&4294967295|I>>>10),I=b+(k^_&(P^k))+R[8]+1770035416&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(P^b&(_^P))+R[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=P+(_^k&(b^_))+R[10]+4294925233&4294967295,P=k+(I<<17&4294967295|I>>>15),I=_+(b^P&(k^b))+R[11]+2304563134&4294967295,_=P+(I<<22&4294967295|I>>>10),I=b+(k^_&(P^k))+R[12]+1804603682&4294967295,b=_+(I<<7&4294967295|I>>>25),I=k+(P^b&(_^P))+R[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=P+(_^k&(b^_))+R[14]+2792965006&4294967295,P=k+(I<<17&4294967295|I>>>15),I=_+(b^P&(k^b))+R[15]+1236535329&4294967295,_=P+(I<<22&4294967295|I>>>10),I=b+(P^k&(_^P))+R[1]+4129170786&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^P&(b^_))+R[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=P+(b^_&(k^b))+R[11]+643717713&4294967295,P=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(P^k))+R[0]+3921069994&4294967295,_=P+(I<<20&4294967295|I>>>12),I=b+(P^k&(_^P))+R[5]+3593408605&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^P&(b^_))+R[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=P+(b^_&(k^b))+R[15]+3634488961&4294967295,P=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(P^k))+R[4]+3889429448&4294967295,_=P+(I<<20&4294967295|I>>>12),I=b+(P^k&(_^P))+R[9]+568446438&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^P&(b^_))+R[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=P+(b^_&(k^b))+R[3]+4107603335&4294967295,P=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(P^k))+R[8]+1163531501&4294967295,_=P+(I<<20&4294967295|I>>>12),I=b+(P^k&(_^P))+R[13]+2850285829&4294967295,b=_+(I<<5&4294967295|I>>>27),I=k+(_^P&(b^_))+R[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=P+(b^_&(k^b))+R[7]+1735328473&4294967295,P=k+(I<<14&4294967295|I>>>18),I=_+(k^b&(P^k))+R[12]+2368359562&4294967295,_=P+(I<<20&4294967295|I>>>12),I=b+(_^P^k)+R[5]+4294588738&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^P)+R[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=P+(k^b^_)+R[11]+1839030562&4294967295,P=k+(I<<16&4294967295|I>>>16),I=_+(P^k^b)+R[14]+4259657740&4294967295,_=P+(I<<23&4294967295|I>>>9),I=b+(_^P^k)+R[1]+2763975236&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^P)+R[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=P+(k^b^_)+R[7]+4139469664&4294967295,P=k+(I<<16&4294967295|I>>>16),I=_+(P^k^b)+R[10]+3200236656&4294967295,_=P+(I<<23&4294967295|I>>>9),I=b+(_^P^k)+R[13]+681279174&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^P)+R[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=P+(k^b^_)+R[3]+3572445317&4294967295,P=k+(I<<16&4294967295|I>>>16),I=_+(P^k^b)+R[6]+76029189&4294967295,_=P+(I<<23&4294967295|I>>>9),I=b+(_^P^k)+R[9]+3654602809&4294967295,b=_+(I<<4&4294967295|I>>>28),I=k+(b^_^P)+R[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=P+(k^b^_)+R[15]+530742520&4294967295,P=k+(I<<16&4294967295|I>>>16),I=_+(P^k^b)+R[2]+3299628645&4294967295,_=P+(I<<23&4294967295|I>>>9),I=b+(P^(_|~k))+R[0]+4096336452&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~P))+R[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=P+(b^(k|~_))+R[14]+2878612391&4294967295,P=k+(I<<15&4294967295|I>>>17),I=_+(k^(P|~b))+R[5]+4237533241&4294967295,_=P+(I<<21&4294967295|I>>>11),I=b+(P^(_|~k))+R[12]+1700485571&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~P))+R[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=P+(b^(k|~_))+R[10]+4293915773&4294967295,P=k+(I<<15&4294967295|I>>>17),I=_+(k^(P|~b))+R[1]+2240044497&4294967295,_=P+(I<<21&4294967295|I>>>11),I=b+(P^(_|~k))+R[8]+1873313359&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~P))+R[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=P+(b^(k|~_))+R[6]+2734768916&4294967295,P=k+(I<<15&4294967295|I>>>17),I=_+(k^(P|~b))+R[13]+1309151649&4294967295,_=P+(I<<21&4294967295|I>>>11),I=b+(P^(_|~k))+R[4]+4149444226&4294967295,b=_+(I<<6&4294967295|I>>>26),I=k+(_^(b|~P))+R[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=P+(b^(k|~_))+R[2]+718787259&4294967295,P=k+(I<<15&4294967295|I>>>17),I=_+(k^(P|~b))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.v=function(E,b){b===void 0&&(b=E.length);const _=b-this.blockSize,R=this.C;let P=this.h,k=0;for(;k<b;){if(P==0)for(;k<=_;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<b;)if(R[P++]=E.charCodeAt(k++),P==this.blockSize){i(this,R),P=0;break}}else for(;k<b;)if(R[P++]=E[k++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=b},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;b=this.o*8;for(var _=E.length-8;_<E.length;++_)E[_]=b&255,b/=256;for(this.v(E),E=Array(16),b=0,_=0;_<4;++_)for(let R=0;R<32;R+=8)E[b++]=this.g[_]>>>R&255;return E};function a(E,b){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=b(E)}function o(E,b){this.h=b;const _=[];let R=!0;for(let P=E.length-1;P>=0;P--){const k=E[P]|0;R&&k==b||(_[P]=k,R=!1)}this.g=_}var l={};function c(E){return-128<=E&&E<128?a(E,function(b){return new o([b|0],b<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return C(d(-E));const b=[];let _=1;for(let R=0;E>=_;R++)b[R]=E/_|0,_*=4294967296;return new o(b,0)}function h(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return C(h(E.substring(1),b));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=d(Math.pow(b,8));let R=m;for(let k=0;k<E.length;k+=8){var P=Math.min(8,E.length-k);const I=parseInt(E.substring(k,k+P),b);P<8?(P=d(Math.pow(b,P)),R=R.j(P).add(d(I))):(R=R.j(_),R=R.add(d(I)))}return R}var m=c(0),f=c(1),j=c(16777216);e=o.prototype,e.m=function(){if(g(this))return-C(this).m();let E=0,b=1;for(let _=0;_<this.g.length;_++){const R=this.i(_);E+=(R>=0?R:4294967296+R)*b,b*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(g(this))return"-"+C(this).toString(E);const b=d(Math.pow(E,6));var _=this;let R="";for(;;){const P=w(_,b).g;_=N(_,P.j(b));let k=((_.g.length>0?_.g[0]:_.h)>>>0).toString(E);if(_=P,x(_))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(let b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function g(E){return E.h==-1}e.l=function(E){return E=N(this,E),g(E)?-1:x(E)?0:1};function C(E){const b=E.g.length,_=[];for(let R=0;R<b;R++)_[R]=~E.g[R];return new o(_,~E.h).add(f)}e.abs=function(){return g(this)?C(this):this},e.add=function(E){const b=Math.max(this.g.length,E.g.length),_=[];let R=0;for(let P=0;P<=b;P++){let k=R+(this.i(P)&65535)+(E.i(P)&65535),I=(k>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);R=I>>>16,k&=65535,I&=65535,_[P]=I<<16|k}return new o(_,_[_.length-1]&-2147483648?-1:0)};function N(E,b){return E.add(C(b))}e.j=function(E){if(x(this)||x(E))return m;if(g(this))return g(E)?C(this).j(C(E)):C(C(this).j(E));if(g(E))return C(this.j(C(E)));if(this.l(j)<0&&E.l(j)<0)return d(this.m()*E.m());const b=this.g.length+E.g.length,_=[];for(var R=0;R<2*b;R++)_[R]=0;for(R=0;R<this.g.length;R++)for(let P=0;P<E.g.length;P++){const k=this.i(R)>>>16,I=this.i(R)&65535,O=E.i(P)>>>16,K=E.i(P)&65535;_[2*R+2*P]+=I*K,v(_,2*R+2*P),_[2*R+2*P+1]+=k*K,v(_,2*R+2*P+1),_[2*R+2*P+1]+=I*O,v(_,2*R+2*P+1),_[2*R+2*P+2]+=k*O,v(_,2*R+2*P+2)}for(E=0;E<b;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=b;E<2*b;E++)_[E]=0;return new o(_,0)};function v(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function S(E,b){this.g=E,this.h=b}function w(E,b){if(x(b))throw Error("division by zero");if(x(E))return new S(m,m);if(g(E))return b=w(C(E),b),new S(C(b.g),C(b.h));if(g(b))return b=w(E,C(b)),new S(C(b.g),b.h);if(E.g.length>30){if(g(E)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var _=f,R=b;R.l(E)<=0;)_=A(_),R=A(R);var P=M(_,1),k=M(R,1);for(R=M(R,2),_=M(_,2);!x(R);){var I=k.add(R);I.l(E)<=0&&(P=P.add(_),k=I),R=M(R,1),_=M(_,1)}return b=N(E,P.j(b)),new S(P,b)}for(P=m;E.l(b)>=0;){for(_=Math.max(1,Math.floor(E.m()/b.m())),R=Math.ceil(Math.log(_)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=d(_),I=k.j(b);g(I)||I.l(E)>0;)_-=R,k=d(_),I=k.j(b);x(k)&&(k=f),P=P.add(k),E=N(E,I)}return new S(P,E)}e.B=function(E){return w(this,E).h},e.and=function(E){const b=Math.max(this.g.length,E.g.length),_=[];for(let R=0;R<b;R++)_[R]=this.i(R)&E.i(R);return new o(_,this.h&E.h)},e.or=function(E){const b=Math.max(this.g.length,E.g.length),_=[];for(let R=0;R<b;R++)_[R]=this.i(R)|E.i(R);return new o(_,this.h|E.h)},e.xor=function(E){const b=Math.max(this.g.length,E.g.length),_=[];for(let R=0;R<b;R++)_[R]=this.i(R)^E.i(R);return new o(_,this.h^E.h)};function A(E){const b=E.g.length+1,_=[];for(let R=0;R<b;R++)_[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(_,E.h)}function M(E,b){const _=b>>5;b%=32;const R=E.g.length-_,P=[];for(let k=0;k<R;k++)P[k]=b>0?E.i(k+_)>>>b|E.i(k+_+1)<<32-b:E.i(k+_);return new o(P,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Cw=o}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var y=0;y<u.length;++y){var T=u[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(u,y){if(y)e:{var T=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var q=u[D];if(!(q in T))break e;T=T[q]}u=u[u.length-1],D=T[u],y=y(D),y!=D&&y!=null&&t(T,u,{configurable:!0,writable:!0,value:y})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(y){var T=[],D;for(D in y)Object.prototype.hasOwnProperty.call(y,D)&&T.push([D,y[D]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function c(u,y,T){return u.call.apply(u.bind,arguments)}function d(u,y,T){return d=c,d.apply(null,arguments)}function h(u,y){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function m(u,y){function T(){}T.prototype=y.prototype,u.Z=y.prototype,u.prototype=new T,u.prototype.constructor=u,u.Ob=function(D,q,Y){for(var xe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)xe[Ye-2]=arguments[Ye];return y.prototype[q].apply(D,xe)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const y=u.length;if(y>0){const T=Array(y);for(let D=0;D<y;D++)T[D]=u[D];return T}return[]}function x(u,y){for(let D=1;D<arguments.length;D++){const q=arguments[D];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=u.length||0;const Y=q.length||0;u.length=T+Y;for(let xe=0;xe<Y;xe++)u[T+xe]=q[xe]}else u.push(q)}}class g{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function C(u){o.setTimeout(()=>{throw u},0)}function N(){var u=E;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class v{constructor(){this.h=this.g=null}add(y,T){const D=S.get();D.set(y,T),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new g(()=>new w,u=>u.reset());class w{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let A,M=!1,E=new v,b=()=>{const u=Promise.resolve(void 0);A=()=>{u.then(_)}};function _(){for(var u;u=N();){try{u.h.call(u.g)}catch(T){C(T)}var y=S;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};o.addEventListener("test",T,y),o.removeEventListener("test",T,y)}catch{}return u}();function I(u){return/^[\s\xa0]*$/.test(u)}function O(u,y){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}m(O,P),O.prototype.init=function(u,y){const T=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(T=="mouseover"?y=u.fromElement:T=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&O.Z.h.call(this)},O.prototype.h=function(){O.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),z=0;function V(u,y,T,D,q){this.listener=u,this.proxy=null,this.src=y,this.type=T,this.capture=!!D,this.ha=q,this.key=++z,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function B(u,y,T){for(const D in u)y.call(T,u[D],D,u)}function ee(u,y){for(const T in u)y.call(void 0,u[T],T,u)}function ne(u){const y={};for(const T in u)y[T]=u[T];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,y){let T,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(T in D)u[T]=D[T];for(let Y=0;Y<W.length;Y++)T=W[Y],Object.prototype.hasOwnProperty.call(D,T)&&(u[T]=D[T])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,y,T,D,q){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const xe=We(u,y,D,q);return xe>-1?(y=u[xe],T||(y.fa=!1)):(y=new V(y,this.src,Y,!!D,q),y.fa=T,u.push(y)),y};function Le(u,y){const T=y.type;if(T in u.g){var D=u.g[T],q=Array.prototype.indexOf.call(D,y,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(D,q,1),Y&&(F(y),u.g[T].length==0&&(delete u.g[T],u.h--))}}function We(u,y,T,D){for(let q=0;q<u.length;++q){const Y=u[q];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==D)return q}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Be={};function Ue(u,y,T,D,q){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Ue(u,y[Y],T,D,q);return null}return T=ss(T),u&&u[K]?u.J(y,T,l(D)?!!D.capture:!1,q):H(u,y,T,!1,D,q)}function H(u,y,T,D,q,Y){if(!y)throw Error("Invalid event type");const xe=l(q)?!!q.capture:!!q;let Ye=ln(u);if(Ye||(u[me]=Ye=new ae(u)),T=Ye.add(y,T,D,xe,Y),T.proxy)return T;if(D=Ne(),T.proxy=D,D.src=u,D.listener=T,u.addEventListener)k||(q=xe),q===void 0&&(q=!1),u.addEventListener(y.toString(),D,q);else if(u.attachEvent)u.attachEvent(wt(y.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ne(){function u(T){return y.call(u.src,u.listener,T)}const y=bt;return u}function ke(u,y,T,D,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ke(u,y[Y],T,D,q);else D=l(D)?!!D.capture:!!D,T=ss(T),u&&u[K]?(u=u.i,Y=String(y).toString(),Y in u.g&&(y=u.g[Y],T=We(y,T,D,q),T>-1&&(F(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete u.g[Y],u.h--)))):u&&(u=ln(u))&&(y=u.g[y.toString()],u=-1,y&&(u=We(y,T,D,q)),(T=u>-1?y[u]:null)&&Ke(T))}function Ke(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[K])Le(y.i,u);else{var T=u.type,D=u.proxy;y.removeEventListener?y.removeEventListener(T,D,u.capture):y.detachEvent?y.detachEvent(wt(T),D):y.addListener&&y.removeListener&&y.removeListener(D),(T=ln(y))?(Le(T,u),T.h==0&&(T.src=null,y[me]=null)):F(u)}}}function wt(u){return u in Be?Be[u]:Be[u]="on"+u}function bt(u,y){if(u.da)u=!0;else{y=new O(y,this);const T=u.listener,D=u.ha||u.src;u.fa&&Ke(u),u=T.call(D,y)}return u}function ln(u){return u=u[me],u instanceof ae?u:null}var kn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ss(u){return typeof u=="function"?u:(u[kn]||(u[kn]=function(y){return u.handleEvent(y)}),u[kn])}function Nt(){R.call(this),this.i=new ae(this),this.M=this,this.G=null}m(Nt,R),Nt.prototype[K]=!0,Nt.prototype.removeEventListener=function(u,y,T,D){ke(this,u,y,T,D)};function L(u,y){var T,D=u.G;if(D)for(T=[];D;D=D.G)T.push(D);if(u=u.M,D=y.type||y,typeof y=="string")y=new P(y,u);else if(y instanceof P)y.target=y.target||u;else{var q=y;y=new P(D,u),ue(y,q)}q=!0;let Y,xe;if(T)for(xe=T.length-1;xe>=0;xe--)Y=y.g=T[xe],q=G(Y,D,!0,y)&&q;if(Y=y.g=u,q=G(Y,D,!0,y)&&q,q=G(Y,D,!1,y)&&q,T)for(xe=0;xe<T.length;xe++)Y=y.g=T[xe],q=G(Y,D,!1,y)&&q}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const T=u.g[y];for(let D=0;D<T.length;D++)F(T[D]);delete u.g[y],u.h--}}this.G=null},Nt.prototype.J=function(u,y,T,D){return this.i.add(String(u),y,!1,T,D)},Nt.prototype.K=function(u,y,T,D){return this.i.add(String(u),y,!0,T,D)};function G(u,y,T,D){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Y=0;Y<y.length;++Y){const xe=y[Y];if(xe&&!xe.da&&xe.capture==T){const Ye=xe.listener,Jt=xe.ha||xe.src;xe.fa&&Le(u.i,xe),q=Ye.call(Jt,D)!==!1&&q}}return q&&!D.defaultPrevented}function Q(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:o.setTimeout(u,y||0)}function we(u){u.g=Q(()=>{u.g=null,u.i&&(u.i=!1,we(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class pe extends R{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(u){R.call(this),this.h=u,this.g={}}m(oe,R);var Pe=[];function rt(u){B(u.g,function(y,T){this.g.hasOwnProperty(T)&&Ke(y)},u),u.g={}}oe.prototype.N=function(){oe.Z.N.call(this),rt(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=o.JSON.stringify,gn=o.JSON.parse,re=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ge(){}function is(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wn(){P.call(this,"d")}m(Wn,P);function Us(){P.call(this,"c")}m(Us,P);var Vs={},Gu=null;function Qo(){return Gu=Gu||new Nt}Vs.Ia="serverreachability";function xj(u){P.call(this,Vs.Ia,u)}m(xj,P);function Lc(u){const y=Qo();L(y,new xj(y))}Vs.STAT_EVENT="statevent";function vj(u,y){P.call(this,Vs.STAT_EVENT,u),this.stat=y}m(vj,P);function En(u){const y=Qo();L(y,new vj(y,u))}Vs.Ja="timingevent";function yj(u,y){P.call(this,Vs.Ja,u),this.size=y}m(yj,P);function $c(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},y)}function Uc(){this.g=!0}Uc.prototype.ua=function(){this.g=!1};function MI(u,y,T,D,q,Y){u.info(function(){if(u.g)if(Y){var xe="",Ye=Y.split("&");for(let jt=0;jt<Ye.length;jt++){var Jt=Ye[jt].split("=");if(Jt.length>1){const cn=Jt[0];Jt=Jt[1];const os=cn.split("_");xe=os.length>=2&&os[1]=="type"?xe+(cn+"="+Jt+"&"):xe+(cn+"=redacted&")}}}else xe=null;else xe=Y;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+y+`
`+T+`
`+xe})}function OI(u,y,T,D,q,Y,xe){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+y+`
`+T+`
`+Y+" "+xe})}function Xo(u,y,T,D){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+LI(u,T)+(D?" "+D:"")})}function FI(u,y){u.info(function(){return"TIMEOUT: "+y})}Uc.prototype.info=function(){};function LI(u,y){if(!u.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var T=Y[u];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var q=D[0];if(q!="noop"&&q!="stop"&&q!="close")for(let xe=1;xe<D.length;xe++)D[xe]=""}}}}return lt(Y)}catch{return y}}var bp={NO_ERROR:0,TIMEOUT:8},$I={},wj;function Np(){}m(Np,Ge),Np.prototype.g=function(){return new XMLHttpRequest},wj=new Np;function Vc(u){return encodeURIComponent(String(u))}function UI(u){var y=1;u=u.split(":");const T=[];for(;y>0&&u.length;)T.push(u.shift()),y--;return u.length&&T.push(u.join(":")),T}function _i(u,y,T,D){this.j=u,this.i=y,this.l=T,this.S=D||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jj}function jj(){this.i=null,this.g="",this.h=!1}var bj={},_p={};function Sp(u,y,T){u.M=1,u.A=Qu(as(y)),u.u=T,u.R=!0,Nj(u,null)}function Nj(u,y){u.F=Date.now(),Yu(u),u.B=as(u.A);var T=u.B,D=u.S;Array.isArray(D)||(D=[String(D)]),Oj(T.i,"t",D),u.C=0,T=u.j.L,u.h=new jj,u.g=eb(u.j,T?y:null,!u.u),u.P>0&&(u.O=new pe(d(u.Y,u,u.g),u.P)),y=u.V,T=u.g,D=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Pe[0]=q.toString()),q=Pe);for(let Y=0;Y<q.length;Y++){const xe=Ue(T,q[Y],D||y.handleEvent,!1,y.h||y);if(!xe)break;y.g[xe.key]=xe}y=u.J?ne(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Lc(),MI(u.i,u.v,u.B,u.l,u.S,u.u)}_i.prototype.ba=function(u){u=u.target;const y=this.O;y&&ki(u)==3?y.j():this.Y(u)},_i.prototype.Y=function(u){try{if(u==this.g)e:{const Ye=ki(this.g),Jt=this.g.ya(),jt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||Bj(this.g)))){this.K||Ye!=4||Jt==7||(Jt==8||jt<=0?Lc(3):Lc(2)),Cp(this);var y=this.g.ca();this.X=y;var T=VI(this);if(this.o=y==200,OI(this.i,this.v,this.B,this.l,this.S,Ye,y),this.o){if(this.U&&!this.L){t:{if(this.g){var D,q=this.g;if((D=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(D)){var Y=D;break t}}Y=null}if(u=Y)Xo(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kp(this,u);else{this.o=!1,this.m=3,En(12),$a(this),zc(this);break e}}if(this.R){u=!0;let cn;for(;!this.K&&this.C<T.length;)if(cn=zI(this,T),cn==_p){Ye==4&&(this.m=4,En(14),u=!1),Xo(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==bj){this.m=4,En(15),Xo(this.i,this.l,T,"[Invalid Chunk]"),u=!1;break}else Xo(this.i,this.l,cn,null),kp(this,cn);if(_j(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||T.length!=0||this.h.h||(this.m=1,En(16),u=!1),this.o=this.o&&u,!u)Xo(this.i,this.l,T,"[Invalid Chunked Response]"),$a(this),zc(this);else if(T.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Mp(xe),xe.P=!0,En(11))}}else Xo(this.i,this.l,T,null),kp(this,T);Ye==4&&$a(this),this.o&&!this.K&&(Ye==4?Qj(this.j,this):(this.o=!1,Yu(this)))}else n4(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,En(12)):(this.m=0,En(13)),$a(this),zc(this)}}}catch{}finally{}};function VI(u){if(!_j(u))return u.g.la();const y=Bj(u.g);if(y==="")return"";let T="";const D=y.length,q=ki(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return $a(u),zc(u),"";u.h.i=new o.TextDecoder}for(let Y=0;Y<D;Y++)u.h.h=!0,T+=u.h.i.decode(y[Y],{stream:!(q&&Y==D-1)});return y.length=0,u.h.g+=T,u.C=0,u.h.g}function _j(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function zI(u,y){var T=u.C,D=y.indexOf(`
`,T);return D==-1?_p:(T=Number(y.substring(T,D)),isNaN(T)?bj:(D+=1,D+T>y.length?_p:(y=y.slice(D,D+T),u.C=D+T,y)))}_i.prototype.cancel=function(){this.K=!0,$a(this)};function Yu(u){u.T=Date.now()+u.H,Sj(u,u.H)}function Sj(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$c(d(u.aa,u),y)}function Cp(u){u.D&&(o.clearTimeout(u.D),u.D=null)}_i.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(FI(this.i,this.B),this.M!=2&&(Lc(),En(17)),$a(this),this.m=2,zc(this)):Sj(this,this.T-u)};function zc(u){u.j.I==0||u.K||Qj(u.j,u)}function $a(u){Cp(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,rt(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function kp(u,y){try{var T=u.j;if(T.I!=0&&(T.g==u||Ep(T.h,u))){if(!u.L&&Ep(T.h,u)&&T.I==3){try{var D=T.Ba.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<u.F)th(T),Ju(T);else break e;Dp(T),En(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=$c(d(T.Va,T),6e3));Ej(T.h)<=1&&T.ta&&(T.ta=void 0)}else Va(T,11)}else if((u.L||T.g==u)&&th(T),!I(y))for(q=T.Ba.g.parse(y),y=0;y<q.length;y++){let jt=q[y];const cn=jt[0];if(!(cn<=T.K))if(T.K=cn,jt=jt[1],T.I==2)if(jt[0]=="c"){T.M=jt[1],T.ba=jt[2];const os=jt[3];os!=null&&(T.ka=os,T.j.info("VER="+T.ka));const za=jt[4];za!=null&&(T.za=za,T.j.info("SVER="+T.za));const Ei=jt[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(D=1.5*Ei,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Ti=u.g;if(Ti){const nh=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nh){var Y=D.h;Y.g||nh.indexOf("spdy")==-1&&nh.indexOf("quic")==-1&&nh.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Tp(Y,Y.h),Y.h=null))}if(D.G){const Op=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Op&&(D.wa=Op,Tt(D.J,D.G,Op))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-u.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var xe=u;if(D.na=Jj(D,D.L?D.ba:null,D.W),xe.L){Tj(D.h,xe);var Ye=xe,Jt=D.O;Jt&&(Ye.H=Jt),Ye.D&&(Cp(Ye),Yu(Ye)),D.g=xe}else Gj(D);T.i.length>0&&eh(T)}else jt[0]!="stop"&&jt[0]!="close"||Va(T,7);else T.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Va(T,7):Rp(T):jt[0]!="noop"&&T.l&&T.l.qa(jt),T.A=0)}}Lc(4)}catch{}}var BI=class{constructor(u,y){this.g=u,this.map=y}};function Cj(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kj(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ej(u){return u.h?1:u.g?u.g.size:0}function Ep(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Tp(u,y){u.g?u.g.add(y):u.h=y}function Tj(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Cj.prototype.cancel=function(){if(this.i=Pj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pj(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const T of u.g.values())y=y.concat(T.G);return y}return j(u.i)}var Aj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WI(u,y){if(u){u=u.split("&");for(let T=0;T<u.length;T++){const D=u[T].indexOf("=");let q,Y=null;D>=0?(q=u[T].substring(0,D),Y=u[T].substring(D+1)):q=u[T],y(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Si(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Si?(this.l=u.l,Bc(this,u.j),this.o=u.o,this.g=u.g,Wc(this,u.u),this.h=u.h,Pp(this,Fj(u.i)),this.m=u.m):u&&(y=String(u).match(Aj))?(this.l=!1,Bc(this,y[1]||"",!0),this.o=Hc(y[2]||""),this.g=Hc(y[3]||"",!0),Wc(this,y[4]),this.h=Hc(y[5]||"",!0),Pp(this,y[6]||"",!0),this.m=Hc(y[7]||"")):(this.l=!1,this.i=new Kc(null,this.l))}Si.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(qc(y,Ij,!0),":");var T=this.g;return(T||y=="file")&&(u.push("//"),(y=this.o)&&u.push(qc(y,Ij,!0),"@"),u.push(Vc(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&u.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(qc(T,T.charAt(0)=="/"?KI:qI,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",qc(T,YI)),u.join("")},Si.prototype.resolve=function(u){const y=as(this);let T=!!u.j;T?Bc(y,u.j):T=!!u.o,T?y.o=u.o:T=!!u.g,T?y.g=u.g:T=u.u!=null;var D=u.h;if(T)Wc(y,u.u);else if(T=!!u.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var q=y.h.lastIndexOf("/");q!=-1&&(D=y.h.slice(0,q+1)+D)}if(q=D,q==".."||q==".")D="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){D=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let xe=0;xe<q.length;){const Ye=q[xe++];Ye=="."?D&&xe==q.length&&Y.push(""):Ye==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),D&&xe==q.length&&Y.push("")):(Y.push(Ye),D=!0)}D=Y.join("/")}else D=q}return T?y.h=D:T=u.i.toString()!=="",T?Pp(y,Fj(u.i)):T=!!u.m,T&&(y.m=u.m),y};function as(u){return new Si(u)}function Bc(u,y,T){u.j=T?Hc(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Wc(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Pp(u,y,T){y instanceof Kc?(u.i=y,QI(u.i,u.l)):(T||(y=qc(y,GI)),u.i=new Kc(y,u.l))}function Tt(u,y,T){u.i.set(y,T)}function Qu(u){return Tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Hc(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qc(u,y,T){return typeof u=="string"?(u=encodeURI(u).replace(y,HI),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function HI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ij=/[#\/\?@]/g,qI=/[#\?:]/g,KI=/[#\?]/g,GI=/[#\?@]/g,YI=/#/g;function Kc(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Ua(u){u.g||(u.g=new Map,u.h=0,u.i&&WI(u.i,function(y,T){u.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=Kc.prototype,e.add=function(u,y){Ua(this),this.i=null,u=Zo(this,u);let T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(y),this.h+=1,this};function Rj(u,y){Ua(u),y=Zo(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Dj(u,y){return Ua(u),y=Zo(u,y),u.g.has(y)}e.forEach=function(u,y){Ua(this),this.g.forEach(function(T,D){T.forEach(function(q){u.call(y,q,D,this)},this)},this)};function Mj(u,y){Ua(u);let T=[];if(typeof y=="string")Dj(u,y)&&(T=T.concat(u.g.get(Zo(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)T=T.concat(u[y]);return T}e.set=function(u,y){return Ua(this),this.i=null,u=Zo(this,u),Dj(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},e.get=function(u,y){return u?(u=Mj(this,u),u.length>0?String(u[0]):y):y};function Oj(u,y,T){Rj(u,y),T.length>0&&(u.i=null,u.g.set(Zo(u,y),j(T)),u.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let D=0;D<y.length;D++){var T=y[D];const q=Vc(T);T=Mj(this,T);for(let Y=0;Y<T.length;Y++){let xe=q;T[Y]!==""&&(xe+="="+Vc(T[Y])),u.push(xe)}}return this.i=u.join("&")};function Fj(u){const y=new Kc;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Zo(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function QI(u,y){y&&!u.j&&(Ua(u),u.i=null,u.g.forEach(function(T,D){const q=D.toLowerCase();D!=q&&(Rj(this,D),Oj(this,q,T))},u)),u.j=y}function XI(u,y){const T=new Uc;if(o.Image){const D=new Image;D.onload=h(Ci,T,"TestLoadImage: loaded",!0,y,D),D.onerror=h(Ci,T,"TestLoadImage: error",!1,y,D),D.onabort=h(Ci,T,"TestLoadImage: abort",!1,y,D),D.ontimeout=h(Ci,T,"TestLoadImage: timeout",!1,y,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else y(!1)}function ZI(u,y){const T=new Uc,D=new AbortController,q=setTimeout(()=>{D.abort(),Ci(T,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:D.signal}).then(Y=>{clearTimeout(q),Y.ok?Ci(T,"TestPingServer: ok",!0,y):Ci(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Ci(T,"TestPingServer: error",!1,y)})}function Ci(u,y,T,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(T)}catch{}}function JI(){this.g=new re}function Ap(u){this.i=u.Sb||null,this.h=u.ab||!1}m(Ap,Ge),Ap.prototype.g=function(){return new Xu(this.i,this.h)};function Xu(u,y){Nt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Xu,Nt),e=Xu.prototype,e.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Yc(this)},e.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||o).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gc(this)),this.readyState=0},e.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lj(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lj(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}e.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Gc(this):Yc(this),this.readyState==3&&Lj(this)}},e.Oa=function(u){this.g&&(this.response=this.responseText=u,Gc(this))},e.Na=function(u){this.g&&(this.response=u,Gc(this))},e.ga=function(){this.g&&Gc(this)};function Gc(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yc(u)}e.setRequestHeader=function(u,y){this.A.append(u,y)},e.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=y.next();return u.join(`\r
`)};function Yc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $j(u){let y="";return B(u,function(T,D){y+=D,y+=":",y+=T,y+=`\r
`}),y}function Ip(u,y,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=$j(T),typeof u=="string"?T!=null&&Vc(T):Tt(u,y,T))}function zt(u){Nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(zt,Nt);var e4=/^https?$/i,t4=["POST","PUT"];e=zt.prototype,e.Fa=function(u){this.H=u},e.ea=function(u,y,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wj.g(),this.g.onreadystatechange=f(d(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(Y){Uj(this,Y);return}if(u=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)T.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Y of D.keys())T.set(Y,D.get(Y));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(t4,y,void 0)>=0)||D||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,xe]of T)this.g.setRequestHeader(Y,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Uj(this,Y)}};function Uj(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Vj(u),Zu(u)}function Vj(u){u.A||(u.A=!0,L(u,"complete"),L(u,"error"))}e.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,L(this,"complete"),L(this,"abort"),Zu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),zt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?zj(this):this.Xa())},e.Xa=function(){zj(this)};function zj(u){if(u.h&&typeof a<"u"){if(u.v&&ki(u)==4)setTimeout(u.Ca.bind(u),0);else if(L(u,"readystatechange"),ki(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var D;if(D=Y===0){let xe=String(u.D).match(Aj)[1]||null;!xe&&o.self&&o.self.location&&(xe=o.self.location.protocol.slice(0,-1)),D=!e4.test(xe?xe.toLowerCase():"")}T=D}if(T)L(u,"complete"),L(u,"success");else{u.o=6;try{var q=ki(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Vj(u)}}finally{Zu(u)}}}}function Zu(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const T=u.g;u.g=null,y||L(u,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ki(u){return u.g?u.g.readyState:0}e.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),gn(y)}};function Bj(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function n4(u){const y={};u=(u.g&&ki(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(I(u[D]))continue;var T=UI(u[D]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[q]||[];y[q]=Y,Y.push(T)}ee(y,function(D){return D.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(u,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||y}function Wj(u){this.za=0,this.i=[],this.j=new Uc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qc("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qc("baseRetryDelayMs",5e3,u),this.Za=Qc("retryDelaySeedMs",1e4,u),this.Ta=Qc("forwardChannelMaxRetries",2,u),this.va=Qc("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cj(u&&u.concurrentRequestLimit),this.Ba=new JI,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Wj.prototype,e.ka=8,e.I=1,e.connect=function(u,y,T,D){En(0),this.W=u,this.H=y||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=Jj(this,null,this.W),eh(this)};function Rp(u){if(Hj(u),u.I==3){var y=u.V++,T=as(u.J);if(Tt(T,"SID",u.M),Tt(T,"RID",y),Tt(T,"TYPE","terminate"),Xc(u,T),y=new _i(u,u.j,y),y.M=2,y.A=Qu(as(T)),T=!1,o.navigator&&o.navigator.sendBeacon)try{T=o.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&o.Image&&(new Image().src=y.A,T=!0),T||(y.g=eb(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Yu(y)}Zj(u)}function Ju(u){u.g&&(Mp(u),u.g.cancel(),u.g=null)}function Hj(u){Ju(u),u.v&&(o.clearTimeout(u.v),u.v=null),th(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function eh(u){if(!kj(u.h)&&!u.m){u.m=!0;var y=u.Ea;A||b(),M||(A(),M=!0),E.add(y,u),u.D=0}}function r4(u,y){return Ej(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$c(d(u.Ea,u,y),Xj(u,u.D)),u.D++,!0)}e.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new _i(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=ne(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(y+=D,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Kj(this,q,y),T=as(this.J),Tt(T,"RID",u),Tt(T,"CVER",22),this.G&&Tt(T,"X-HTTP-Session-Id",this.G),Xc(this,T),Y&&(this.R?y="headers="+Vc($j(Y))+"&"+y:this.u&&Ip(T,this.u,Y)),Tp(this.h,q),this.Ra&&Tt(T,"TYPE","init"),this.S?(Tt(T,"$req",y),Tt(T,"SID","null"),q.U=!0,Sp(q,T,null)):Sp(q,T,y),this.I=2}}else this.I==3&&(u?qj(this,u):this.i.length==0||kj(this.h)||qj(this))};function qj(u,y){var T;y?T=y.l:T=u.V++;const D=as(u.J);Tt(D,"SID",u.M),Tt(D,"RID",T),Tt(D,"AID",u.K),Xc(u,D),u.u&&u.o&&Ip(D,u.u,u.o),T=new _i(u,u.j,T,u.D+1),u.u===null&&(T.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Kj(u,T,1e3),T.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Tp(u.h,T),Sp(T,D,y)}function Xc(u,y){u.H&&B(u.H,function(T,D){Tt(y,D,T)}),u.l&&B({},function(T,D){Tt(y,D,T)})}function Kj(u,y,T){T=Math.min(u.i.length,T);const D=u.l?d(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ye=-1;for(;;){const Jt=["count="+T];Ye==-1?T>0?(Ye=q[0].g,Jt.push("ofs="+Ye)):Ye=0:Jt.push("ofs="+Ye);let jt=!0;for(let cn=0;cn<T;cn++){var Y=q[cn].g;const os=q[cn].map;if(Y-=Ye,Y<0)Ye=Math.max(0,q[cn].g-100),jt=!1;else try{Y="req"+Y+"_"||"";try{var xe=os instanceof Map?os:Object.entries(os);for(const[za,Ei]of xe){let Ti=Ei;l(Ei)&&(Ti=lt(Ei)),Jt.push(Y+za+"="+encodeURIComponent(Ti))}}catch(za){throw Jt.push(Y+"type="+encodeURIComponent("_badmap")),za}}catch{D&&D(os)}}if(jt){xe=Jt.join("&");break e}}xe=void 0}return u=u.i.splice(0,T),y.G=u,xe}function Gj(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;A||b(),M||(A(),M=!0),E.add(y,u),u.A=0}}function Dp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$c(d(u.Da,u),Xj(u,u.A)),u.A++,!0)}e.Da=function(){if(this.v=null,Yj(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$c(d(this.Wa,this),u)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,En(10),Ju(this),Yj(this))};function Mp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Yj(u){u.g=new _i(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=as(u.na);Tt(y,"RID","rpc"),Tt(y,"SID",u.M),Tt(y,"AID",u.K),Tt(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Tt(y,"TO",u.ia),Tt(y,"TYPE","xmlhttp"),Xc(u,y),u.u&&u.o&&Ip(y,u.u,u.o),u.O&&(u.g.H=u.O);var T=u.g;u=u.ba,T.M=1,T.A=Qu(as(y)),T.u=null,T.R=!0,Nj(T,u)}e.Va=function(){this.C!=null&&(this.C=null,Ju(this),Dp(this),En(19))};function th(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Qj(u,y){var T=null;if(u.g==y){th(u),Mp(u),u.g=null;var D=2}else if(Ep(u.h,y))T=y.G,Tj(u.h,y),D=1;else return;if(u.I!=0){if(y.o)if(D==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var q=u.D;D=Qo(),L(D,new yj(D,T)),eh(u)}else Gj(u);else if(q=y.m,q==3||q==0&&y.X>0||!(D==1&&r4(u,y)||D==2&&Dp(u)))switch(T&&T.length>0&&(y=u.h,y.i=y.i.concat(T)),q){case 1:Va(u,5);break;case 4:Va(u,10);break;case 3:Va(u,6);break;default:Va(u,2)}}}function Xj(u,y){let T=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(T*=2),T*y}function Va(u,y){if(u.j.info("Error code "+y),y==2){var T=d(u.bb,u),D=u.Ua;const q=!D;D=new Si(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bc(D,"https"),Qu(D),q?XI(D.toString(),T):ZI(D.toString(),T)}else En(2);u.I=0,u.l&&u.l.pa(y),Zj(u),Hj(u)}e.bb=function(u){u?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function Zj(u){if(u.I=0,u.ja=[],u.l){const y=Pj(u.h);(y.length!=0||u.i.length!=0)&&(x(u.ja,y),x(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function Jj(u,y,T){var D=T instanceof Si?as(T):new Si(T);if(D.g!="")y&&(D.g=y+"."+D.g),Wc(D,D.u);else{var q=o.location;D=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Y=new Si(null);D&&Bc(Y,D),y&&(Y.g=y),q&&Wc(Y,q),T&&(Y.h=T),D=Y}return T=u.G,y=u.wa,T&&y&&Tt(D,T,y),Tt(D,"VER",u.ka),Xc(u,D),D}function eb(u,y,T){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new zt(new Ap({ab:T})):new zt(u.ma),y.Fa(u.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tb(){}e=tb.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function vr(u,y){Nt.call(this),this.g=new Wj(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Jo(this)}m(vr,Nt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Rp(this.g)},vr.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.v&&(T={},T.__data__=lt(u),u=T);y.i.push(new BI(y.Ya++,u)),y.I==3&&eh(y)},vr.prototype.N=function(){this.g.l=null,delete this.j,Rp(this.g),delete this.g,vr.Z.N.call(this)};function nb(u){Wn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const T in y){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}m(nb,Wn);function rb(){Us.call(this),this.status=1}m(rb,Us);function Jo(u){this.g=u}m(Jo,tb),Jo.prototype.ra=function(){L(this.g,"a")},Jo.prototype.qa=function(u){L(this.g,new nb(u))},Jo.prototype.pa=function(u){L(this.g,new rb)},Jo.prototype.oa=function(){L(this.g,"b")},vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,bp.NO_ERROR=0,bp.TIMEOUT=8,bp.HTTP_ERROR=6,$I.COMPLETE="complete",is.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",L0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new fw("@firebase/firestore");function Br(e,...t){if(uc.logLevel<=ft.DEBUG){const n=t.map(kw);uc.debug(`Firestore (${Mu}): ${e}`,...n)}}function fE(e,...t){if(uc.logLevel<=ft.ERROR){const n=t.map(kw);uc.error(`Firestore (${Mu}): ${e}`,...n)}}function F$(e,...t){if(uc.logLevel<=ft.WARN){const n=t.map(kw);uc.warn(`Firestore (${Mu}): ${e}`,...n)}}function kw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,mE(e,r,n)}function mE(e,t,n){let r=`FIRESTORE (${Mu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fE(r),new Error(r)}function Rd(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||mE(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ot extends Ls{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class $${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U${constructor(t){this.t=t,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Rd(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Dd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Dd,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Br("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Br("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dd)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Br("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rd(typeof r.accessToken=="string",31837,{l:r}),new pE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Rd(t===null||typeof t=="string",2055,{h:t}),new Dn(t)}}class V${constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z${constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new V$(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B${constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Rd(this.o===void 0,3512);const r=a=>{a.error!=null&&Br("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Br("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{Br("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Br("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Rd(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=W$(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function Sa(e,t){return e<t?-1:e>t?1:0}function q$(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return Sg(i)===Sg(a)?Sa(i,a):Sg(i)?1:-1}return Sa(e.length,t.length)}const K$=55296,G$=57343;function Sg(e){const t=e.charCodeAt(0);return t>=K$&&t<=G$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__name__";class ds{constructor(t,n,r){n===void 0?n=0:n>t.length&&cu(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&cu(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ds.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ds?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=ds.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return Sa(t.length,n.length)}static compareSegments(t,n){const r=ds.isNumericId(t),i=ds.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ds.extractNumericId(t).compare(ds.extractNumericId(n)):q$(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cw.fromString(t.substring(4,t.length-2))}}class Fr extends ds{construct(t,n,r){return new Fr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fr(n)}static emptyPath(){return new Fr([])}}const Y$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xa extends ds{construct(t,n,r){return new Xa(t,n,r)}static isValidIdentifier(t){return Y$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xa.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new Xa([U0])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ot(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new ot(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ot(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new ot(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xa(n)}static emptyPath(){return new Xa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.path=t}static fromPath(t){return new ro(Fr.fromString(t))}static fromName(t){return new ro(Fr.fromString(t).popFirst(5))}static empty(){return new ro(Fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Fr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Fr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ro(new Fr(t.slice()))}}function Q$(e,t,n,r){if(t===!0&&r===!0)throw new ot(at.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function X$(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Z$(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":cu(12329,{type:typeof e})}function J$(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ot(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Z$(e);throw new ot(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ou(e,t){if(!X$(e))throw new ot(at.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ot(at.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,z0=1e6;class ms{static now(){return ms.fromMillis(Date.now())}static fromDate(t){return ms.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*z0);return new ms(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<V0)throw new ot(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(t){return this.seconds===t.seconds?Sa(this.nanoseconds,t.nanoseconds):Sa(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ms._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ou(t,ms._jsonSchema))return new ms(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-V0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ms._jsonSchemaVersion="firestore/timestamp/1.0",ms._jsonSchema={type:Gt("string",ms._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};function e8(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new t8("Invalid base64 string: "+a):a}}(t);return new Po(n)}static fromUint8Array(t){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new Po(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sa(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Po.EMPTY_BYTE_STRING=new Po("");const vv="(default)";class Xf{constructor(t,n){this.projectId=t,this.database=n||vv}static empty(){return new Xf("","")}get isDefaultDatabase(){return this.database===vv}isEqual(t){return t instanceof Xf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(t,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function r8(e){return new n8(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B0,it;(it=B0||(B0={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Cw([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=1048576;function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Br("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const o=Date.now()+r,l=new Ew(t,n,o,i,a);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var W0,H0;(H0=W0||(W0={})).Ma="default",H0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firestore.googleapis.com",K0=!0;class G0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gE,this.ssl=K0}else this.host=t.host,this.ssl=t.ssl??K0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=s8;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<i8)throw new ot(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Q$("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o8(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(at.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xE{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L$;switch(r.type){case"firstParty":return new z$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q0.get(n);r&&(Br("ComponentProvider","Removing Datastore"),q0.delete(n),r.terminate())}(this),Promise.resolve()}}function l8(e,t,n,r={}){var d;e=J$(e,xE);const i=Rc(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;i&&(uw(`https://${l}`),hw("Firestore",!0)),a.host!==gE&&a.host!==l&&F$("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Eo(c,o)&&(e._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Dn.MOCK_USER;else{h=N2(r.mockUserToken,(d=e._app)==null?void 0:d.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ot(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Dn(f)}e._authCredentials=new $$(new pE(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Tw(this.firestore,t,this._query)}}class js{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pw(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new js(this.firestore,t,this._key)}toJSON(){return{type:js._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Ou(n,js._jsonSchema))return new js(t,r||null,new ro(Fr.fromString(n.referencePath)))}}js._jsonSchemaVersion="firestore/documentReference/1.0",js._jsonSchema={type:Gt("string",js._jsonSchemaVersion),referencePath:Gt("string")};class Pw extends Tw{constructor(t,n,r){super(t,n,r8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new js(this.firestore,null,new ro(t))}withConverter(t){return new Pw(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class Q0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a8(this,"async_queue_retry"),this._c=()=>{const r=Cg();r&&Br(Y0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Dd;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!e8(t))throw t;Br(Y0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,fE("INTERNAL UNHANDLED ERROR: ",X0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=Ew.createAndSchedule(this,t,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&cu(47125,{Pc:X0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function X0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class c8 extends xE{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Q0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q0(t),this._firestoreClient=void 0,await t}}}function d8(e,t){const n=typeof e=="object"?e:pw(),r=typeof e=="string"?e:vv,i=Bm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=w2("firestore");a&&l8(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Js(Po.fromBase64String(t))}catch(n){throw new ot(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Js(Po.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ou(t,Js._jsonSchema))return Js.fromBase64String(t.bytes)}}Js._jsonSchemaVersion="firestore/bytes/1.0",Js._jsonSchema={type:Gt("string",Js._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xa(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sa(this._lat,t._lat)||Sa(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vo._jsonSchemaVersion}}static fromJSON(t){if(Ou(t,vo._jsonSchema))return new vo(t.latitude,t.longitude)}}vo._jsonSchemaVersion="firestore/geoPoint/1.0",vo._jsonSchema={type:Gt("string",vo._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:yo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ou(t,yo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new yo(t.vectorValues);throw new ot(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yo._jsonSchemaVersion="firestore/vectorValue/1.0",yo._jsonSchema={type:Gt("string",yo._jsonSchemaVersion),vectorValues:Gt("object")};const u8=new RegExp("[~\\*/\\[\\]]");function h8(e,t,n){if(t.search(u8)>=0)throw Z0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new vE(...t.split("."))._internalPath}catch{throw Z0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Z0(e,t,n,r,i){let a=`Function ${t}() called with invalid data`;a+=". ";let o="";return new ot(at.INVALID_ARGUMENT,a+e+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new f8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f8 extends yE{data(){return super.data()}}function wE(e,t){return typeof t=="string"?h8(e,t):t instanceof vE?t._internalPath:t._delegate._internalPath}class Ph{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ml extends yE{constructor(t,n,r,i,a,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(wE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ml._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ml._jsonSchema={type:Gt("string",Ml._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class rf extends Ml{data(t={}){return super.data(t)}}class Md{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new Ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new rf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ph(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new rf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ph(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:m8(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Md._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=H$.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m8(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cu(61501,{type:e})}}Md._jsonSchemaVersion="firestore/querySnapshot/1.0",Md._jsonSchema={type:Gt("string",Md._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};(function(t,n=!0){(function(i){Mu=i})(Wo),To(new _a("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new c8(new U$(r.getProvider("auth-internal")),new B$(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ot(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(d.options.projectId,h)}(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Es(F0,L0,t),Es(F0,L0,"esm2020")})();let Ah,jE,bE,NE,du=!1;function p8(e){if(!e||e.projectId==="your-project-id"){console.warn(" Refusing to initialize Firebase with placeholder/missing config");return}if(du){console.log(" Firebase already initialized, skipping re-initialization");return}console.log(" Initializing Firebase with config:",{projectId:e.projectId}),Ah=C2(e),jE=a$(Ah),bE=R$(Ah),NE=d8(Ah),du=!0,console.log(" Firebase initialized successfully")}const Ra=()=>{if(!du)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return jE},g8=()=>{if(!du)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return bE},x8=()=>{if(!du)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return NE};new Proxy({},{get:(e,t)=>Ra()[t]});new Proxy({},{get:(e,t)=>g8()[t]});new Proxy({},{get:(e,t)=>x8()[t]});const Km=new Zs,Gm=new Id("apple.com");Km.addScope("email");Km.addScope("profile");Gm.addScope("email");Gm.addScope("name");const v8=async()=>{try{return await sE(Ra(),Km)}catch(e){if(e.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await y8();throw e}},y8=()=>oE(Ra(),Km),w8=()=>b9(Ra()),j8=()=>Q5(Ra()),b8=async()=>{try{return await sE(Ra(),Gm)}catch(e){if(e.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await N8();throw e}},N8=()=>oE(Ra(),Gm),_8=e=>Y5(Ra(),e);var ht;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ht||(ht={}));var J0;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(J0||(J0={}));const Ee=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$i=e=>{switch(typeof e){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return Number.isNaN(e)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(e)?Ee.array:e===null?Ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ee.promise:typeof Map<"u"&&e instanceof Map?Ee.map:typeof Set<"u"&&e instanceof Set?Ee.set:typeof Date<"u"&&e instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},he=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(t){if(!(t instanceof yi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}yi.create=e=>new yi(e);const yv=(e,t)=>{let n;switch(e.code){case he.invalid_type:e.received===Ee.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ht.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(e.keys,", ")}`;break;case he.invalid_union:n="Invalid input";break;case he.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(e.options)}`;break;case he.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:n="Invalid function arguments";break;case he.invalid_return_type:n="Invalid function return type";break;case he.invalid_date:n="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ht.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case he.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case he.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case he.custom:n="Invalid input";break;case he.invalid_intersection_types:n="Intersection results could not be merged";break;case he.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:n="Number must be finite";break;default:n=t.defaultError,ht.assertNever(e)}return{message:n}};let S8=yv;function C8(){return S8}const k8=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}};function Se(e,t){const n=C8(),r=k8({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===yv?void 0:yv].filter(i=>!!i)});e.common.issues.push(r)}class hr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Ve;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return hr.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Ve;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const Ve=Object.freeze({status:"aborted"}),gd=e=>({status:"dirty",value:e}),Tr=e=>({status:"valid",value:e}),e_=e=>e.status==="aborted",t_=e=>e.status==="dirty",hc=e=>e.status==="valid",Zf=e=>typeof Promise<"u"&&e instanceof Promise;var Te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Te||(Te={}));class Ca{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const n_=(e,t)=>{if(hc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new yi(e.common.issues);return this._error=n,this._error}}};function Je(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class ut{get description(){return this._def.description}_getType(t){return $i(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:$i(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hr,ctx:{common:t.parent.common,data:t.data,parsedType:$i(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Zf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$i(t)},i=this._parseSync({data:t,path:r.path,parent:r});return n_(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$i(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return hc(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>hc(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$i(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(Zf(i)?i:Promise.resolve(i));return n_(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:he.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new pc({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return xa.create(this,this._def)}nullable(){return gc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ps.create(this)}promise(){return nm.create(this,this._def)}or(t){return em.create([this,t],this._def)}and(t){return tm.create(this,t,this._def)}transform(t){return new pc({...Je(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Nv({...Je(this._def),innerType:this,defaultValue:n,typeName:ze.ZodDefault})}brand(){return new Q8({typeName:ze.ZodBranded,type:this,...Je(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new _v({...Je(this._def),innerType:this,catchValue:n,typeName:ze.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Aw.create(this,t)}readonly(){return Sv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const E8=/^c[^\s-]{8,}$/i,T8=/^[0-9a-z]+$/,P8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,A8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,I8=/^[a-z0-9_-]{21}$/i,R8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,O8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kg;const F8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,L8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,U8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_E="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B8=new RegExp(`^${_E}$`);function SE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function W8(e){return new RegExp(`^${SE(e)}$`)}function H8(e){let t=`${_E}T${SE(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function q8(e,t){return!!((t==="v4"||!t)&&F8.test(e)||(t==="v6"||!t)&&$8.test(e))}function K8(e,t){if(!R8.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function G8(e,t){return!!((t==="v4"||!t)&&L8.test(e)||(t==="v6"||!t)&&U8.test(e))}class ii extends ut{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ee.string){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_type,expected:Ee.string,received:a.parsedType}),Ve}const r=new hr;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Se(i,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Se(i,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Se(i,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Se(i,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")M8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"email",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")kg||(kg=new RegExp(O8,"u")),kg.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"emoji",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")A8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"uuid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")I8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"nanoid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")E8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"cuid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")T8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"cuid2",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")P8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"ulid",code:he.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Se(i,{validation:"url",code:he.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"regex",code:he.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Se(i,{code:he.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Se(i,{code:he.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Se(i,{code:he.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?H8(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:he.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?B8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:he.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?W8(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{code:he.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?D8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"duration",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?q8(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"ip",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?K8(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"jwt",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?G8(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"cidr",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?V8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"base64",code:he.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?z8.test(t.data)||(i=this._getOrReturnCtx(t,i),Se(i,{validation:"base64url",code:he.invalid_string,message:a.message}),r.dirty()):ht.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:he.invalid_string,...Te.errToObj(r)})}_addCheck(t){return new ii({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Te.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Te.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Te.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Te.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Te.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Te.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Te.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Te.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Te.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Te.errToObj(n)})}nonempty(t){return this.min(1,Te.errToObj(t))}trim(){return new ii({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ii({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ii({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ii.create=e=>new ii({checks:[],typeName:ze.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Je(e)});function Y8(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class Ao extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ee.number){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_type,expected:Ee.number,received:a.parsedType}),Ve}let r;const i=new hr;for(const a of this._def.checks)a.kind==="int"?ht.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Se(r,{code:he.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Y8(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Se(r,{code:he.not_finite,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,r,i){return new Ao({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Te.toString(i)}]})}_addCheck(t){return new Ao({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ht.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ao.create=e=>new Ao({checks:[],typeName:ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Je(e)});class Io extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ee.bigint)return this._getInvalidInput(t);let r;const i=new hr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Se(r,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Ee.bigint,received:n.parsedType}),Ve}gte(t,n){return this.setLimit("min",t,!0,Te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Te.toString(n))}setLimit(t,n,r,i){return new Io({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Te.toString(i)}]})}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Io.create=e=>new Io({checks:[],typeName:ze.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Je(e)});class Jf extends ut{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ee.boolean){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Ee.boolean,received:r.parsedType}),Ve}return Tr(t.data)}}Jf.create=e=>new Jf({typeName:ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Je(e)});class fc extends ut{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ee.date){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_type,expected:Ee.date,received:a.parsedType}),Ve}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_date}),Ve}const r=new hr;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Se(i,{code:he.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Se(i,{code:he.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ht.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new fc({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}fc.create=e=>new fc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ze.ZodDate,...Je(e)});class r_ extends ut{_parse(t){if(this._getType(t)!==Ee.symbol){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Ee.symbol,received:r.parsedType}),Ve}return Tr(t.data)}}r_.create=e=>new r_({typeName:ze.ZodSymbol,...Je(e)});class s_ extends ut{_parse(t){if(this._getType(t)!==Ee.undefined){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Ee.undefined,received:r.parsedType}),Ve}return Tr(t.data)}}s_.create=e=>new s_({typeName:ze.ZodUndefined,...Je(e)});class i_ extends ut{_parse(t){if(this._getType(t)!==Ee.null){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Ee.null,received:r.parsedType}),Ve}return Tr(t.data)}}i_.create=e=>new i_({typeName:ze.ZodNull,...Je(e)});class wv extends ut{constructor(){super(...arguments),this._any=!0}_parse(t){return Tr(t.data)}}wv.create=e=>new wv({typeName:ze.ZodAny,...Je(e)});class a_ extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Tr(t.data)}}a_.create=e=>new a_({typeName:ze.ZodUnknown,...Je(e)});class ka extends ut{_parse(t){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Ee.never,received:n.parsedType}),Ve}}ka.create=e=>new ka({typeName:ze.ZodNever,...Je(e)});class o_ extends ut{_parse(t){if(this._getType(t)!==Ee.undefined){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Ee.void,received:r.parsedType}),Ve}return Tr(t.data)}}o_.create=e=>new o_({typeName:ze.ZodVoid,...Je(e)});class Ps extends ut{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Ee.array)return Se(n,{code:he.invalid_type,expected:Ee.array,received:n.parsedType}),Ve;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Se(n,{code:o?he.too_big:he.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Se(n,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Se(n,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Ca(n,o,n.path,l)))).then(o=>hr.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Ca(n,o,n.path,l)));return hr.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Ps({...this._def,minLength:{value:t,message:Te.toString(n)}})}max(t,n){return new Ps({...this._def,maxLength:{value:t,message:Te.toString(n)}})}length(t,n){return new Ps({...this._def,exactLength:{value:t,message:Te.toString(n)}})}nonempty(t){return this.min(1,t)}}Ps.create=(e,t)=>new Ps({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Je(t)});function ol(e){if(e instanceof Ht){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=xa.create(ol(r))}return new Ht({...e._def,shape:()=>t})}else return e instanceof Ps?new Ps({...e._def,type:ol(e.element)}):e instanceof xa?xa.create(ol(e.unwrap())):e instanceof gc?gc.create(ol(e.unwrap())):e instanceof Ro?Ro.create(e.items.map(t=>ol(t))):e}class Ht extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ht.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ee.object){const d=this._getOrReturnCtx(t);return Se(d,{code:he.invalid_type,expected:Ee.object,received:d.parsedType}),Ve}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ka&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],m=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ca(i,m,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ka){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(Se(i,{code:he.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ca(i,m,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const m=await h.key,f=await h.value;d.push({key:m,value:f,alwaysSet:h.alwaysSet})}return d}).then(d=>hr.mergeObjectSync(r,d)):hr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Te.errToObj,new Ht({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Te.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Ht({...this._def,unknownKeys:"strip"})}passthrough(){return new Ht({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ht({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ht({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ze.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ht({...this._def,catchall:t})}pick(t){const n={};for(const r of ht.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ht({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ht.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Ht({...this._def,shape:()=>n})}deepPartial(){return ol(this)}partial(t){const n={};for(const r of ht.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new Ht({...this._def,shape:()=>n})}required(t){const n={};for(const r of ht.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof xa;)a=a._def.innerType;n[r]=a}return new Ht({...this._def,shape:()=>n})}keyof(){return CE(ht.objectKeys(this.shape))}}Ht.create=(e,t)=>new Ht({shape:()=>e,unknownKeys:"strip",catchall:ka.create(),typeName:ze.ZodObject,...Je(t)});Ht.strictCreate=(e,t)=>new Ht({shape:()=>e,unknownKeys:"strict",catchall:ka.create(),typeName:ze.ZodObject,...Je(t)});Ht.lazycreate=(e,t)=>new Ht({shape:e,unknownKeys:"strip",catchall:ka.create(),typeName:ze.ZodObject,...Je(t)});class em extends ut{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new yi(l.ctx.common.issues));return Se(n,{code:he.invalid_union,unionErrors:o}),Ve}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new yi(c));return Se(n,{code:he.invalid_union,unionErrors:l}),Ve}}get options(){return this._def.options}}em.create=(e,t)=>new em({options:e,typeName:ze.ZodUnion,...Je(t)});function jv(e,t){const n=$i(e),r=$i(t);if(e===t)return{valid:!0,data:e};if(n===Ee.object&&r===Ee.object){const i=ht.objectKeys(t),a=ht.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=jv(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ee.array&&r===Ee.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=jv(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Ee.date&&r===Ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class tm extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(e_(a)||e_(o))return Ve;const l=jv(a.value,o.value);return l.valid?((t_(a)||t_(o))&&n.dirty(),{status:n.value,value:l.data}):(Se(r,{code:he.invalid_intersection_types}),Ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tm.create=(e,t,n)=>new tm({left:e,right:t,typeName:ze.ZodIntersection,...Je(n)});class Ro extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.array)return Se(r,{code:he.invalid_type,expected:Ee.array,received:r.parsedType}),Ve;if(r.data.length<this._def.items.length)return Se(r,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&r.data.length>this._def.items.length&&(Se(r,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ca(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>hr.mergeArray(n,o)):hr.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Ro({...this._def,rest:t})}}Ro.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ro({items:e,typeName:ze.ZodTuple,rest:null,...Je(t)})};class l_ extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.map)return Se(r,{code:he.invalid_type,expected:Ee.map,received:r.parsedType}),Ve;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Ca(r,l,r.path,[d,"key"])),value:a._parse(new Ca(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Ve;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Ve;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}l_.create=(e,t,n)=>new l_({valueType:t,keyType:e,typeName:ze.ZodMap,...Je(n)});class uu extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.set)return Se(r,{code:he.invalid_type,expected:Ee.set,received:r.parsedType}),Ve;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Se(r,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Se(r,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Ve;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Ca(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new uu({...this._def,minSize:{value:t,message:Te.toString(n)}})}max(t,n){return new uu({...this._def,maxSize:{value:t,message:Te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}uu.create=(e,t)=>new uu({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet,...Je(t)});class bv extends ut{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}bv.create=(e,t)=>new bv({getter:e,typeName:ze.ZodLazy,...Je(t)});class c_ extends ut{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Se(n,{received:n.data,code:he.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:t.data}}get value(){return this._def.value}}c_.create=(e,t)=>new c_({value:e,typeName:ze.ZodLiteral,...Je(t)});function CE(e,t){return new mc({values:e,typeName:ze.ZodEnum,...Je(t)})}class mc extends ut{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Se(n,{expected:ht.joinValues(r),received:n.parsedType,code:he.invalid_type}),Ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Se(n,{received:n.data,code:he.invalid_enum_value,options:r}),Ve}return Tr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return mc.create(t,{...this._def,...n})}exclude(t,n=this._def){return mc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}mc.create=CE;class d_ extends ut{_parse(t){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ee.string&&r.parsedType!==Ee.number){const i=ht.objectValues(n);return Se(r,{expected:ht.joinValues(i),received:r.parsedType,code:he.invalid_type}),Ve}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ht.objectValues(n);return Se(r,{received:r.data,code:he.invalid_enum_value,options:i}),Ve}return Tr(t.data)}get enum(){return this._def.values}}d_.create=(e,t)=>new d_({values:e,typeName:ze.ZodNativeEnum,...Je(t)});class nm extends ut{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.promise&&n.common.async===!1)return Se(n,{code:he.invalid_type,expected:Ee.promise,received:n.parsedType}),Ve;const r=n.parsedType===Ee.promise?n.data:Promise.resolve(n.data);return Tr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}nm.create=(e,t)=>new nm({type:e,typeName:ze.ZodPromise,...Je(t)});class pc extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ve;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ve:c.status==="dirty"||n.value==="dirty"?gd(c.value):c});{if(n.value==="aborted")return Ve;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ve:l.status==="dirty"||n.value==="dirty"?gd(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ve:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ve:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hc(o))return Ve;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hc(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):Ve);ht.assertNever(i)}}pc.create=(e,t,n)=>new pc({schema:e,typeName:ze.ZodEffects,effect:t,...Je(n)});pc.createWithPreprocess=(e,t,n)=>new pc({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects,...Je(n)});class xa extends ut{_parse(t){return this._getType(t)===Ee.undefined?Tr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xa.create=(e,t)=>new xa({innerType:e,typeName:ze.ZodOptional,...Je(t)});class gc extends ut{_parse(t){return this._getType(t)===Ee.null?Tr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gc.create=(e,t)=>new gc({innerType:e,typeName:ze.ZodNullable,...Je(t)});class Nv extends ut{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Nv.create=(e,t)=>new Nv({innerType:e,typeName:ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Je(t)});class _v extends ut{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Zf(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new yi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_v.create=(e,t)=>new _v({innerType:e,typeName:ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Je(t)});class u_ extends ut{_parse(t){if(this._getType(t)!==Ee.nan){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Ee.nan,received:r.parsedType}),Ve}return{status:"valid",value:t.data}}}u_.create=e=>new u_({typeName:ze.ZodNaN,...Je(e)});class Q8 extends ut{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Aw extends ut{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ve:a.status==="dirty"?(n.dirty(),gd(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ve:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Aw({in:t,out:n,typeName:ze.ZodPipeline})}}class Sv extends ut{_parse(t){const n=this._def.innerType._parse(t),r=i=>(hc(i)&&(i.value=Object.freeze(i.value)),i);return Zf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Sv.create=(e,t)=>new Sv({innerType:e,typeName:ze.ZodReadonly,...Je(t)});var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));const $=ii.create,Xe=Ao.create;Io.create;const fr=Jf.create;fc.create;const Ol=wv.create;ka.create;const Yt=Ps.create,Fe=Ht.create,ra=em.create;tm.create;Ro.create;const X8=bv.create,hu=mc.create;nm.create;xa.create;gc.create;const Ih={string:e=>ii.create({...e,coerce:!0}),number:e=>Ao.create({...e,coerce:!0}),boolean:e=>Jf.create({...e,coerce:!0}),bigint:e=>Io.create({...e,coerce:!0}),date:e=>fc.create({...e,coerce:!0})},Z8=Fe({email:$().email("Please enter a valid email address"),password:$().min(1,"Password is required")}),J8=Fe({email:$().email("Please enter a valid email address"),password:$().min(6,"Password must be at least 6 characters"),firstName:$().min(1,"First name is required"),lastName:$().min(1,"Last name is required"),userName:$().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:$().optional().refine(e=>!e||e===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(e.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:$().min(1,"Country is required")});Fe({email:$().optional(),firstName:$().optional(),lastName:$().optional(),type:hu(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:$().optional(),userName:$().optional(),country:$().optional(),phone:$().optional(),gender:$().optional(),uid:$().optional(),idToken:$().min(1,"Firebase ID token is required for authentication"),provider:$().optional(),profilePicture:$().optional()}).refine(e=>e.type==="google"?!!e.email&&!!e.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const kE=Fe({firstName:$().min(1,"First name is required"),lastName:$().min(1,"Last name is required"),userName:$().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:$().min(1,"Country is required"),phone:$().optional().refine(e=>!e||e===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(e.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:$().optional()});Fe({token:$().optional(),user:Fe({id:$(),email:$(),name:$().optional()}).optional(),message:$().optional()});Fe({success:fr(),message:$().optional(),data:Ol(),accessToken:$().optional(),authtoken:$().optional(),newuser:fr().optional()});Fe({success:fr().optional(),message:$(),error:$().optional(),details:Ol().optional()});const eU=Fe({_id:$(),customer:Fe({_id:$(),firstName:$(),lastName:$().optional(),userName:$().optional(),email:$(),profilePhoto:$().optional(),address:Fe({_id:$(),name:$(),addrress1:$(),city:$(),state:$(),zipcode:$(),phone:$(),email:$()}).optional()}),seller:Fe({_id:$(),firstName:$(),lastName:$().optional(),userName:$().optional(),email:$()}),need_label:fr(),giveaway:Fe({_id:$(),name:$(),description:$().optional(),quantity:Xe(),images:Yt($()).optional(),category:Fe({_id:$(),name:$()}).optional(),shipping_profile:Fe({_id:$(),weight:Xe(),name:$(),scale:$()}).optional(),height:$().optional(),width:$().optional(),length:$().optional(),status:$().optional(),participants:Yt($()).optional()}).optional(),ordertype:$().optional(),items:Yt(Fe({_id:$().optional(),orderId:$().optional(),productId:Fe({_id:$().optional(),name:$().optional(),images:Yt($()).optional(),category:Fe({_id:$().optional(),name:$().optional()}).optional()}).optional(),quantity:Xe().optional(),price:Xe().optional(),shipping_fee:Xe().optional(),weight:$().optional(),height:$().optional(),width:$().optional(),length:$().optional(),scale:$().optional()})).optional(),total:Xe().optional(),servicefee:Xe().optional(),tax:Xe().optional(),shipping_fee:Xe().optional(),seller_shipping_fee_pay:Xe().optional(),total_shipping_cost:Xe().optional(),invoice:Xe().optional(),status:$().optional(),tracking_number:$().optional(),label:$().optional(),weight:ra([Xe(),$()]).optional(),date:Xe().optional(),createdAt:$().optional(),updatedAt:$().optional(),bundleId:$().optional().nullable(),tokshow:Fe({_id:$(),title:$().optional(),name:$().optional()}).optional(),height:$().optional(),width:$().optional(),length:$().optional(),scale:$().optional()});Fe({orders:Yt(eU),limits:Xe(),pages:Xe(),total:Xe()});Fe({totalOrder:Xe(),totalAmount:$(),todayOrder:Yt(Ol()),totalAmountOfThisMonth:$(),totalPendingOrder:Fe({total:Xe(),count:Xe()}).optional(),totalDeliveredOrder:Xe(),orders:Yt(Ol()),weeklySaleReport:Yt(Ol())});const tU=Fe({_id:$(),name:$(),description:$().optional(),price:Xe(),quantity:Xe(),images:Yt($()).optional(),category:Fe({_id:$(),name:$()}).optional(),seller:Fe({_id:$(),firstName:$(),lastName:$().optional(),userName:$().optional(),email:$()}),status:$().optional(),weight:ra([Xe(),$()]).optional(),height:$().optional(),width:$().optional(),length:$().optional(),scale:$().optional(),shipping_profile:Fe({_id:$(),weight:Xe(),name:$(),scale:$()}).optional(),colors:Yt($()).optional(),sizes:Yt($()).optional(),featured:fr().optional(),createdAt:$().optional(),updatedAt:$().optional()});Fe({products:Yt(tU),limits:Xe(),pages:Xe(),totalDoc:Xe()});const EE=X8(()=>Fe({_id:$(),name:$(),description:$().optional(),status:$().optional(),icon:$().optional(),type:$().optional(),subCategories:Yt(EE).optional()}));Fe({categories:Yt(EE),limits:Xe().optional(),pages:Xe().optional(),total:Xe().optional()});const nU=Fe({_id:$(),name:$(),weight:Xe(),scale:$(),description:$().optional()});Yt(nU);const rU=hu(["auction","buy_now","giveaway"]);Fe({name:$().min(1,"Product name is required"),description:$().optional(),price:Ih.number().optional().nullable(),quantity:Ih.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:$().min(1,"Category is required"),status:hu(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:rU,shippingProfile:$().nullable().optional(),images:Yt($()).optional(),startingPrice:Ih.number().optional().nullable(),duration:Ih.number().int().optional().nullable(),sudden:fr().optional().default(!1),featured:fr().optional().default(!1),whocanenter:hu(["everyone","followers"]).optional().default("everyone"),tokshow:$().optional()}).refine(e=>e.listingType==="auction"?e.startingPrice!==void 0&&e.startingPrice!==null&&e.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(e=>e.listingType==="auction"?e.duration!==void 0&&e.duration!==null&&e.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(e=>e.listingType==="buy_now"?e.price!==void 0&&e.price!==null&&e.price>0:!0,{message:"Price must be greater than 0",path:["price"]});Fe({id:$(),customerId:$(),customerName:$(),orderIds:Yt($()),count:Xe(),weight:$().optional(),dimensions:$().optional(),totalValue:Xe(),status:hu(["pending","labeled"]).optional().default("pending"),createdAt:$().optional()});const sU=Fe({name:$().min(1,"Address name is required"),addrress1:$().min(1,"Street address is required"),addrress2:$().optional().default(""),city:$().min(1,"City is required"),state:$().min(1,"State is required"),stateCode:$().optional().default(""),cityCode:$().optional().default(""),zipcode:$().min(1,"ZIP code is required"),countryCode:$().min(1,"Country is required"),country:$().optional(),phone:$().min(1,"Phone number is required"),email:$().email("Please enter a valid email address"),userId:$().min(1,"User ID is required")});sU.partial().extend({name:$().min(1,"Address name is required").optional(),addrress1:$().min(1,"Street address is required").optional(),city:$().min(1,"City is required").optional(),state:$().min(1,"State is required").optional(),zipcode:$().min(1,"ZIP code is required").optional(),countryCode:$().min(1,"Country is required").optional(),phone:$().min(1,"Phone number is required").optional(),email:$().email("Please enter a valid email address").optional()});Fe({primary:fr(),userId:$().min(1,"User ID is required")});Fe({weight:ra([$(),Xe()]).transform(String),unit:$().optional().default("oz"),product:$(),update:fr().optional().default(!0),owner:$(),customer:$(),length:ra([$(),Xe()]).transform(Number),width:ra([$(),Xe()]).transform(Number),height:ra([$(),Xe()]).transform(Number)});Fe({carrier:$(),service:$(),price:$(),deliveryTime:$(),objectId:$().min(1,"Rate ID is required")});Fe({rate_id:$().min(1,"Rate ID is required"),order:ra([$(),Fe({_id:$(),customer:Fe({_id:$(),firstName:$(),lastName:$().optional(),email:$().email(),address:Fe({name:$(),addrress1:$(),city:$(),state:$(),zipcode:$(),phone:$(),email:$().email()}).optional()}),seller:Fe({_id:$(),firstName:$(),lastName:$().optional(),email:$().email()})})]),isBundle:fr().optional(),shipping_fee:ra([$(),Xe()]).transform(Number),servicelevel:$().min(1,"Service level is required"),carrier:$().optional(),deliveryTime:$().optional()});Fe({success:fr(),message:$(),data:Fe({tracking_number:$(),label_url:$().optional(),label_data:$().optional(),carrier:$(),service:$(),cost:$(),delivery_time:$(),purchased_at:$()}).optional(),error:$().optional()});Fe({orderIds:Yt($().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:$().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:$().min(1,"Rate ID is required")});Fe({success:fr(),message:$(),data:Fe({tracking_number:$(),label_url:$().optional(),cost:Xe(),carrier:$(),service:$(),affected_orders:Yt($()),update_results:Yt(Fe({orderId:$(),success:fr(),error:$().optional(),data:Ol().optional()})),aggregated_weight:$().optional(),aggregated_dimensions:$().optional()}).optional(),error:$().optional()});const TE={app_name:"TokShop",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0,demoMode:!1},PE=p.createContext({settings:TE,isLoading:!0,isFirebaseReady:!1,appName:"TokShop"});function h_(e){e=e.replace("#",""),e.length===8&&(e=e.substring(2));const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=Math.max(t,n,r),a=Math.min(t,n,r);let o=0,l=0,c=(i+a)/2;if(i!==a){const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case t:o=((n-r)/d+(n<r?6:0))/6;break;case n:o=((r-t)/d+2)/6;break;case r:o=((t-n)/d+4)/6;break}}return o=Math.round(o*360),l=Math.round(l*100),c=Math.round(c*100),`${o} ${l}% ${c}%`}function f_(e){e=e.replace("#",""),e.length===8&&(e=e.substring(2));const t=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*i+.7152*a+.0722*o}function iU(e,t){console.log(" Applying theme colors:",{primaryColor:e,secondaryColor:t});const n=document.documentElement,r=h_(e),i=h_(t);console.log(" Converted to HSL:",{primaryHSL:r,secondaryHSL:i});const a=f_(e),o=a>.5;console.log(" Luminance:",{luminance:a,isLightColor:o});const l=o?"0 0% 9%":"0 0% 100%";n.style.setProperty("--primary",r),n.style.setProperty("--primary-foreground",l),n.style.setProperty("--ring",r),n.style.setProperty("--chart-1",r),n.style.setProperty("--sidebar-primary",r),n.style.setProperty("--sidebar-primary-foreground",l),n.style.setProperty("--sidebar-ring",r);const h=f_(t)>.5?"0 0% 9%":"0 0% 100%";n.style.setProperty("--secondary",i),n.style.setProperty("--secondary-foreground",h),n.style.setProperty("--accent",i),n.style.setProperty("--accent-foreground",h),n.style.setProperty("--chart-2",i),console.log(" Theme colors applied successfully")}function aU({children:e}){const[t,n]=p.useState(TE),[r,i]=p.useState(!0),[a,o]=p.useState(!1);p.useEffect(()=>{async function c(){try{const d=await fetch("/api/settings");if(d.ok){const h=await d.json();if(console.log(" Settings fetched:",h),h.success&&h.data){console.log(" Settings data:",h.data),n(h.data);let m;h.data.firebase_config?(m=h.data.firebase_config,console.log(" Using nested firebase_config from API")):(h.data.firebase_auth_domain||h.data.firebase_project_id)&&(m={apiKey:h.data.firebase_api_key||h.data.FIREBASE_API_KEY||"",authDomain:h.data.firebase_auth_domain||"",projectId:h.data.firebase_project_id||"",storageBucket:h.data.firebase_storage_bucket||"",appId:h.data.firebase_app_id||""},console.log(" Built firebase_config from individual fields")),m&&m.apiKey&&m.projectId?(console.log(" Initializing Firebase with config:",{projectId:m.projectId}),p8(m),console.log(" Firebase initialized successfully"),o(!0)):(console.warn(" No valid Firebase config found in settings"),o(!1))}}}catch(d){console.error("Failed to fetch app settings:",d),console.warn(" Cannot initialize Firebase without settings")}finally{i(!1)}}c()},[]),p.useEffect(()=>{t.primary_color&&t.secondary_color&&iU(t.primary_color,t.secondary_color)},[t.primary_color,t.secondary_color]);const l=t.app_name||"TokShop";return s.jsx(PE.Provider,{value:{settings:t,isLoading:r,isFirebaseReady:a,appName:l},children:e})}function Ho(){const e=p.useContext(PE);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const AE=p.createContext(null);function oU({children:e}){console.log("[AuthProvider] Initializing AuthProvider");const{isFirebaseReady:t}=Ho(),[n,r]=p.useState(null),[i,a]=p.useState(!0),[o,l]=p.useState(!1),[c,d]=p.useState(null),[h,m]=p.useState(null),f=p.useRef(!1),j=p.useRef(!1),x=p.useRef(0),g=p.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",i,"user:",n?n.id:"null","isAuthenticated:",!!n,"isFirebaseReady:",t);const C=!!n,N=async(k,I,O=!1)=>{var K,z;try{const V=await k.getIdToken(!0);let F=null;if(k.providerData&&k.providerData.length>0&&(k.providerData.some(Le=>Le.providerId==="apple.com")?F="apple":k.providerData.some(Le=>Le.providerId==="google.com")&&(F="google")),!F&&(I==null?void 0:I.providerId)==="apple.com"?F="apple":!F&&(I==null?void 0:I.providerId)==="google.com"&&(F="google"),!F)throw new Error("Unable to determine authentication provider");let B="",ee="",ne=k.email||"";if(F==="apple"&&(I!=null&&I.profile)){const Le=I.profile;Le.name&&(B=Le.name.firstName||"",ee=Le.name.lastName||""),Le.email&&(ne=Le.email)}else(F==="google"||!(I!=null&&I.profile))&&(B=((K=k.displayName)==null?void 0:K.split(" ")[0])||"",ee=((z=k.displayName)==null?void 0:z.split(" ").slice(1).join(" "))||"");const W={idToken:V,uid:k.uid,email:ne,firstName:B,lastName:ee,type:F,profilePhoto:k.photoURL||"",userName:F==="apple"?"":ne||k.uid,country:"",phone:"",gender:""},ue=await mt("POST","/api/auth/social",W),ae=await ue.json();if(!ue.ok)throw new Error(ae.error||`Authentication failed: ${ue.status}`);if(ae.success){if(!O&&ae.newuser===!0)return l(!0),d(k.email||""),m(k),ae;const Le={id:ae.data._id||ae.data.id,email:ae.data.email,firstName:ae.data.firstName,lastName:ae.data.lastName||"",profilePhoto:ae.data.profilePhoto||k.photoURL||"",userName:ae.data.userName,country:ae.data.country||"",phone:ae.data.phone||"",seller:ae.data.seller||!1,admin:ae.data.admin||!1,authProvider:F,address:ae.data.address,defaultpaymentmethod:ae.data.defaultpaymentmethod};r(Le),localStorage.setItem("userId",Le.id),localStorage.setItem("user",JSON.stringify(Le)),ae.accessToken&&localStorage.setItem("accessToken",ae.accessToken),l(!1),d(null),m(null)}else throw new Error(ae.message||"Authentication failed");return ae}catch(V){throw console.error("Authentication failed:",(V==null?void 0:V.message)||V),V}},v=async(k,I)=>await S(k,I),S=async(k,I)=>{try{a(!0);const O=Z8.parse({email:k,password:I}),z=await(await mt("POST","/api/auth/login",O)).json();if(z.success){const V={id:z.data._id||z.data.id,email:z.data.email,firstName:z.data.firstName,lastName:z.data.lastName||"",profilePhoto:z.data.profilePhoto||"",userName:z.data.userName,country:z.data.country||"",phone:z.data.phone||"",seller:z.data.seller||!1,admin:z.data.admin||!1,authProvider:"email",address:z.data.address,defaultpaymentmethod:z.data.defaultpaymentmethod};r(V),localStorage.setItem("userId",V.id),localStorage.setItem("user",JSON.stringify(V)),z.accessToken&&localStorage.setItem("accessToken",z.accessToken)}else{const V=z.message||z.error||"Login failed";throw new Error(V)}}catch(O){throw console.error("Email login failed:",O),O}finally{a(!1)}},w=async(k,I,O,K,z,V,F)=>{try{a(!0);const B=J8.parse({email:k,password:I,firstName:O,lastName:K,userName:z,phone:V,country:F}),ne=await(await mt("POST","/api/auth/signup",B)).json();if(ne.success){const W={id:ne.data._id||ne.data.id,email:ne.data.email,firstName:ne.data.firstName,lastName:ne.data.lastName||"",profilePhoto:ne.data.profilePhoto||"",userName:ne.data.userName,country:ne.data.country||F,phone:ne.data.phone||"",seller:ne.data.seller||!1,admin:ne.data.admin||!1,authProvider:"email",address:ne.data.address,defaultpaymentmethod:ne.data.defaultpaymentmethod};r(W),localStorage.setItem("userId",W.id),localStorage.setItem("user",JSON.stringify(W)),ne.accessToken&&localStorage.setItem("accessToken",ne.accessToken)}else{const W=ne.message||ne.error||"Signup failed";throw new Error(W)}}catch(B){throw console.error("Email signup failed:",B),B}finally{a(!1)}},A=async()=>{try{a(!0);const k=await v8();if(k!=null&&k.user){const I=k.user.email;if(!I)throw new Error("No email found in Google account");const K=await(await mt("GET",`/api/users/userexists/email?email=${encodeURIComponent(I)}`)).json();console.log("[loginWithGoogle] User existence check:",K),K.exists?await N(k.user,k==null?void 0:k.additionalUserInfo,!0):(l(!0),d(I),m(k.user),console.log("[loginWithGoogle] New user detected, redirecting to data collection"))}}catch(k){throw console.error("Google login failed:",k),k}finally{a(!1)}},M=async()=>{try{a(!0);const k=await b8();k!=null&&k.user&&await N(k.user,k==null?void 0:k.additionalUserInfo)}catch(k){throw console.error("Apple login failed:",k),k}finally{a(!1)}},E=async k=>{try{if(a(!0),!h)throw new Error("No pending social authentication data found");const I=kE.parse(k);let O="google";h.providerData&&h.providerData.length>0&&(h.providerData.some(F=>F.providerId==="apple.com")?O="apple":h.providerData.some(F=>F.providerId==="google.com")&&(O="google"));const K={email:h.email||"",firstName:I.firstName,lastName:I.lastName,userName:I.userName,type:O,profilePhoto:h.photoURL||"",country:I.country||"",phone:I.phone||"",gender:I.gender||""},V=await(await mt("POST","/api/auth/social/complete",K)).json();if(V.success){const F={id:V.data._id||V.data.id,email:V.data.email,firstName:V.data.firstName,lastName:V.data.lastName||"",profilePhoto:V.data.profilePhoto||h.photoURL||"",userName:V.data.userName,country:V.data.country||"",phone:V.data.phone||"",seller:V.data.seller||!1,admin:V.data.admin||!1,authProvider:O,address:V.data.address,defaultpaymentmethod:V.data.defaultpaymentmethod};r(F),localStorage.setItem("userId",F.id),localStorage.setItem("user",JSON.stringify(F)),V.accessToken&&localStorage.setItem("accessToken",V.accessToken),l(!1),d(null),m(null)}else throw new Error(V.error||"Failed to complete social authentication")}catch(I){throw console.error("Social auth completion failed:",I),I}finally{a(!1)}},b=async()=>{try{await mt("POST","/api/auth/logout",{}),await j8(),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),l(!1),d(null),m(null)}catch(k){console.error("Logout failed:",k),r(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),l(!1),d(null),m(null)}},_=async()=>{try{console.log("[checkAuth] Starting auth check...");const k=w8(),I=new Promise(z=>setTimeout(()=>z(null),2e3)),O=await Promise.race([k,I]);if(O!=null&&O.user&&!f.current){f.current=!0;try{await N(O.user,O==null?void 0:O.additionalUserInfo)}finally{f.current=!1}return}const K=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",K?"EXISTS":"NONE"),K)try{const z=JSON.parse(K);console.log("[checkAuth] Setting user from localStorage:",z.id),r(z),mt("GET","/api/auth/session").then(V=>V.json()).then(V=>{V.success||console.log("Session validation failed but keeping localStorage user")}).catch(V=>{console.log("Session validation error but keeping localStorage user:",V)})}catch(z){console.error("Failed to parse stored user data:",z),localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}catch(k){console.error("Auth check failed:",k);const I=localStorage.getItem("user");if(I)try{const O=JSON.parse(I);r(O)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),r(null)}else r(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),j.current=!0,a(!1)}},R=async()=>{try{if(!(n!=null&&n.id)){console.log("[refreshUserData] No user logged in");return}if(g.current){console.log("[refreshUserData] Already refreshing, skipping...");return}const k=Date.now();if(k-x.current<2e3){console.log("[refreshUserData] Refreshed recently, skipping...");return}g.current=!0,x.current=k,console.log("[refreshUserData] Fetching latest user data for:",n.id);const O=await(await mt("GET",`/api/address/default/address/${n.id}`)).json(),K=(O==null?void 0:O.address)||null,V=await(await mt("GET",`/api/users/paymentmethod/${n.id}`)).json(),F=(V==null?void 0:V.data)||null,B={...n,address:K||n.address,defaultpaymentmethod:F||n.defaultpaymentmethod};r(B),localStorage.setItem("user",JSON.stringify(B)),console.log("[refreshUserData] User data updated:",{hasAddress:!!B.address,hasPayment:!!B.defaultpaymentmethod})}catch(k){console.error("[refreshUserData] Failed to refresh user data:",k)}finally{g.current=!1}};p.useEffect(()=>{if(!t){console.log("[AuthProvider] Waiting for Firebase to be ready...");return}console.log("[AuthProvider] Firebase ready, setting up auth listener");const k=_8(async I=>{console.log("[Firebase Listener] Auth state changed, user:",I?"EXISTS":"NONE","hasCheckedAuth:",j.current),I||r(null),j.current?(console.log("[Firebase Listener] Setting isLoading = false"),a(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return _(),()=>k()},[t]);const P={user:n,isLoading:i,isAuthenticated:C,pendingSocialAuth:o,pendingSocialAuthEmail:c,pendingSocialAuthData:h,login:v,emailLogin:S,emailSignup:w,loginWithGoogle:A,loginWithApple:M,completeSocialAuth:E,logout:b,checkAuth:_,refreshUserData:R};return s.jsx(AE.Provider,{value:P,children:e})}function Da(){const e=p.useContext(AE);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var Fu=e=>e.type==="checkbox",so=e=>e instanceof Date,Kn=e=>e==null;const IE=e=>typeof e=="object";var Qt=e=>!Kn(e)&&!Array.isArray(e)&&IE(e)&&!so(e),RE=e=>Qt(e)&&e.target?Fu(e.target)?e.target.checked:e.target.value:e,lU=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,DE=(e,t)=>e.has(lU(t)),cU=e=>{const t=e.constructor&&e.constructor.prototype;return Qt(t)&&t.hasOwnProperty("isPrototypeOf")},Iw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function en(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Iw&&(e instanceof Blob||r))&&(n||Qt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!cU(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=en(e[i]));else return e;return t}var Ym=e=>/^\w*$/.test(e),Vt=e=>e===void 0,Rw=e=>Array.isArray(e)?e.filter(Boolean):[],Dw=e=>Rw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,n)=>{if(!t||!Qt(e))return n;const r=(Ym(t)?[t]:Dw(t)).reduce((i,a)=>Kn(i)?i:i[a],e);return Vt(r)||r===e?Vt(e[t])?n:e[t]:r},rr=e=>typeof e=="boolean",gt=(e,t,n)=>{let r=-1;const i=Ym(t)?[t]:Dw(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=e[l];c=Qt(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const rm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Lr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Mw=De.createContext(null);Mw.displayName="HookFormContext";const Qm=()=>De.useContext(Mw),dU=e=>{const{children:t,...n}=e;return De.createElement(Mw.Provider,{value:n},t)};var ME=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Lr.all&&(t._proxyFormState[o]=!r||Lr.all),n&&(n[o]=!0),e[o]}});return i};const Ow=typeof window<"u"?De.useLayoutEffect:De.useEffect;function uU(e){const t=Qm(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=De.useState(n._formState),c=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ow(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[i,r,a]),De.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),De.useMemo(()=>ME(o,n,c.current,!1),[o,n])}var ar=e=>typeof e=="string",Cv=(e,t,n,r,i)=>ar(e)?(r&&t.watch.add(e),je(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),je(n,a))):(r&&(t.watchAll=!0),n),kv=e=>Kn(e)||!IE(e);function $r(e,t,n=new WeakSet){if(kv(e)||kv(t))return e===t;if(so(e)&&so(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(so(o)&&so(l)||Qt(o)&&Qt(l)||Array.isArray(o)&&Array.isArray(l)?!$r(o,l,n):o!==l)return!1}}return!0}function hU(e){const t=Qm(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=e||{},c=De.useRef(i),d=De.useRef(l),h=De.useRef(void 0),m=De.useRef(n),f=De.useRef(r);d.current=l;const[j,x]=De.useState(()=>{const w=n._getWatch(r,c.current);return d.current?d.current(w):w}),g=De.useCallback(w=>{const A=Cv(r,n._names,w||n._formValues,!1,c.current);return d.current?d.current(A):A},[n._formValues,n._names,r]),C=De.useCallback(w=>{if(!a){const A=Cv(r,n._names,w||n._formValues,!1,c.current);if(d.current){const M=d.current(A);$r(M,h.current)||(x(M),h.current=M)}else x(A)}},[n._formValues,n._names,a,r]);Ow(()=>((m.current!==n||!$r(f.current,r))&&(m.current=n,f.current=r,C()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:w=>{C(w.values)}})),[n,o,r,C]),De.useEffect(()=>n._removeUnmounted());const N=m.current!==n,v=f.current,S=De.useMemo(()=>{if(a)return null;const w=!N&&!$r(v,r);return N||w?g():null},[a,N,r,v,g]);return S!==null?S:j}function fU(e){const t=Qm(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:o}=e,l=DE(i._names.array,n),c=De.useMemo(()=>je(i._formValues,n,je(i._defaultValues,n,o)),[i,n,o]),d=hU({control:i,name:n,defaultValue:c,exact:!0}),h=uU({control:i,name:n,exact:!0}),m=De.useRef(e),f=De.useRef(void 0),j=De.useRef(i.register(n,{...e.rules,value:d,...rr(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const x=De.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!je(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!je(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!je(h.validatingFields,n)},error:{enumerable:!0,get:()=>je(h.errors,n)}}),[h,n]),g=De.useCallback(S=>j.current.onChange({target:{value:RE(S),name:n},type:rm.CHANGE}),[n]),C=De.useCallback(()=>j.current.onBlur({target:{value:je(i._formValues,n),name:n},type:rm.BLUR}),[n,i._formValues]),N=De.useCallback(S=>{const w=je(i._fields,n);w&&S&&(w._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:A=>S.setCustomValidity(A),reportValidity:()=>S.reportValidity()})},[i._fields,n]),v=De.useMemo(()=>({name:n,value:d,...rr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:g,onBlur:C,ref:N}),[n,r,h.disabled,g,C,N,d]);return De.useEffect(()=>{const S=i._options.shouldUnregister||a,w=f.current;w&&w!==n&&!l&&i.unregister(w),i.register(n,{...m.current.rules,...rr(m.current.disabled)?{disabled:m.current.disabled}:{}});const A=(M,E)=>{const b=je(i._fields,M);b&&b._f&&(b._f.mount=E)};if(A(n,!0),S){const M=en(je(i._options.defaultValues,n,m.current.defaultValue));gt(i._defaultValues,n,M),Vt(je(i._formValues,n))&&gt(i._formValues,n,M)}return!l&&i.register(n),f.current=n,()=>{(l?S&&!i._state.action:S)?i.unregister(n):A(n,!1)}},[n,i,l,a]),De.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),De.useMemo(()=>({field:v,formState:h,fieldState:x}),[v,h,x])}const mU=e=>e.render(fU(e));var OE=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Od=e=>Array.isArray(e)?e:[e],m_=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function FE(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&Qt(i)&&a){const o=FE(i,a);Qt(o)&&(n[r]=o)}else e[r]&&(n[r]=a)}return n}var An=e=>Qt(e)&&!Object.keys(e).length,Fw=e=>e.type==="file",Ur=e=>typeof e=="function",sm=e=>{if(!Iw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},LE=e=>e.type==="select-multiple",Lw=e=>e.type==="radio",pU=e=>Lw(e)||Fu(e),Eg=e=>sm(e)&&e.isConnected;function gU(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Vt(e)?r++:e[t[r++]];return e}function xU(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function Wt(e,t){const n=Array.isArray(t)?t:Ym(t)?[t]:Dw(t),r=n.length===1?e:gU(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Qt(r)&&An(r)||Array.isArray(r)&&xU(r))&&Wt(e,n.slice(0,-1)),e}var vU=e=>{for(const t in e)if(Ur(e[t]))return!0;return!1};function $E(e){return Array.isArray(e)||Qt(e)&&!vU(e)}function Ev(e,t={}){for(const n in e)$E(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ev(e[n],t[n])):Vt(e[n])||(t[n]=!0);return t}function ll(e,t,n){n||(n=Ev(t));for(const r in e)$E(e[r])?Vt(t)||kv(n[r])?n[r]=Ev(e[r],Array.isArray(e[r])?[]:{}):ll(e[r],Kn(t)?{}:t[r],n[r]):n[r]=!$r(e[r],t[r]);return n}const p_={value:!1,isValid:!1},g_={value:!0,isValid:!0};var UE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?g_:{value:e[0].value,isValid:!0}:g_:p_}return p_},VE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Vt(e)?e:t?e===""?NaN:e&&+e:n&&ar(e)?new Date(e):r?r(e):e;const x_={isValid:!1,value:null};var zE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,x_):x_;function v_(e){const t=e.ref;return Fw(t)?t.files:Lw(t)?zE(e.refs).value:LE(t)?[...t.selectedOptions].map(({value:n})=>n):Fu(t)?UE(e.refs).value:VE(Vt(t.value)?e.ref.value:t.value,e)}var yU=(e,t,n,r)=>{const i={};for(const a of e){const o=je(t,a);o&&gt(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},im=e=>e instanceof RegExp,ld=e=>Vt(e)?e:im(e)?e.source:Qt(e)?im(e.value)?e.value.source:e.value:e,y_=e=>({isOnSubmit:!e||e===Lr.onSubmit,isOnBlur:e===Lr.onBlur,isOnChange:e===Lr.onChange,isOnAll:e===Lr.all,isOnTouch:e===Lr.onTouched});const w_="AsyncFunction";var wU=e=>!!e&&!!e.validate&&!!(Ur(e.validate)&&e.validate.constructor.name===w_||Qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===w_)),jU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),j_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Fd=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=je(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Fd(l,t))break}else if(Qt(l)&&Fd(l,t))break}}};function b_(e,t,n){const r=je(e,n);if(r||Ym(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=je(t,a),l=je(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var bU=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return An(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Lr.all))},NU=(e,t,n)=>!e||!t||e===t||Od(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),_U=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,SU=(e,t)=>!Rw(je(e,t)).length&&Wt(e,t),CU=(e,t,n)=>{const r=Od(je(e,n));return gt(r,"root",t[n]),gt(e,n,r),e};function N_(e,t,n="validate"){if(ar(e)||Array.isArray(e)&&e.every(ar)||rr(e)&&!e)return{type:n,message:ar(e)?e:"",ref:t}}var tl=e=>Qt(e)&&!im(e)?e:{value:e,message:""},__=async(e,t,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:m,max:f,pattern:j,validate:x,name:g,valueAsNumber:C,mount:N}=e._f,v=je(n,g);if(!N||t.has(g))return{};const S=l?l[0]:o,w=k=>{i&&S.reportValidity&&(S.setCustomValidity(rr(k)?"":k||""),S.reportValidity())},A={},M=Lw(o),E=Fu(o),b=M||E,_=(C||Fw(o))&&Vt(o.value)&&Vt(v)||sm(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,R=OE.bind(null,g,r,A),P=(k,I,O,K=Bs.maxLength,z=Bs.minLength)=>{const V=k?I:O;A[g]={type:k?K:z,message:V,ref:o,...R(k?K:z,V)}};if(a?!Array.isArray(v)||!v.length:c&&(!b&&(_||Kn(v))||rr(v)&&!v||E&&!UE(l).isValid||M&&!zE(l).isValid)){const{value:k,message:I}=ar(c)?{value:!!c,message:c}:tl(c);if(k&&(A[g]={type:Bs.required,message:I,ref:S,...R(Bs.required,I)},!r))return w(I),A}if(!_&&(!Kn(m)||!Kn(f))){let k,I;const O=tl(f),K=tl(m);if(!Kn(v)&&!isNaN(v)){const z=o.valueAsNumber||v&&+v;Kn(O.value)||(k=z>O.value),Kn(K.value)||(I=z<K.value)}else{const z=o.valueAsDate||new Date(v),V=ee=>new Date(new Date().toDateString()+" "+ee),F=o.type=="time",B=o.type=="week";ar(O.value)&&v&&(k=F?V(v)>V(O.value):B?v>O.value:z>new Date(O.value)),ar(K.value)&&v&&(I=F?V(v)<V(K.value):B?v<K.value:z<new Date(K.value))}if((k||I)&&(P(!!k,O.message,K.message,Bs.max,Bs.min),!r))return w(A[g].message),A}if((d||h)&&!_&&(ar(v)||a&&Array.isArray(v))){const k=tl(d),I=tl(h),O=!Kn(k.value)&&v.length>+k.value,K=!Kn(I.value)&&v.length<+I.value;if((O||K)&&(P(O,k.message,I.message),!r))return w(A[g].message),A}if(j&&!_&&ar(v)){const{value:k,message:I}=tl(j);if(im(k)&&!v.match(k)&&(A[g]={type:Bs.pattern,message:I,ref:o,...R(Bs.pattern,I)},!r))return w(I),A}if(x){if(Ur(x)){const k=await x(v,n),I=N_(k,S);if(I&&(A[g]={...I,...R(Bs.validate,I.message)},!r))return w(I.message),A}else if(Qt(x)){let k={};for(const I in x){if(!An(k)&&!r)break;const O=N_(await x[I](v,n),S,I);O&&(k={...O,...R(I,O.message)},w(O.message),r&&(A[g]=k))}if(!An(k)&&(A[g]={ref:S,...k},!r))return A}}return w(!0),A};const kU={mode:Lr.onSubmit,reValidateMode:Lr.onChange,shouldFocusError:!0};function EU(e={}){let t={...kU,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Qt(t.defaultValues)||Qt(t.values)?en(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:en(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const f={array:m_(),state:m_()},j=t.criteriaMode===Lr.all,x=L=>G=>{clearTimeout(d),d=setTimeout(L,G)},g=async L=>{if(!t.disabled&&(h.isValid||m.isValid||L)){const G=t.resolver?An((await E()).errors):await _(r,!0);G!==n.isValid&&f.state.next({isValid:G})}},C=(L,G)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((L||Array.from(l.mount)).forEach(Q=>{Q&&(G?gt(n.validatingFields,Q,G):Wt(n.validatingFields,Q))}),f.state.next({validatingFields:n.validatingFields,isValidating:!An(n.validatingFields)}))},N=(L,G=[],Q,we,pe=!0,oe=!0)=>{if(we&&Q&&!t.disabled){if(o.action=!0,oe&&Array.isArray(je(r,L))){const Pe=Q(je(r,L),we.argA,we.argB);pe&&gt(r,L,Pe)}if(oe&&Array.isArray(je(n.errors,L))){const Pe=Q(je(n.errors,L),we.argA,we.argB);pe&&gt(n.errors,L,Pe),SU(n.errors,L)}if((h.touchedFields||m.touchedFields)&&oe&&Array.isArray(je(n.touchedFields,L))){const Pe=Q(je(n.touchedFields,L),we.argA,we.argB);pe&&gt(n.touchedFields,L,Pe)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=ll(i,a)),f.state.next({name:L,isDirty:P(L,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gt(a,L,G)},v=(L,G)=>{gt(n.errors,L,G),f.state.next({errors:n.errors})},S=L=>{n.errors=L,f.state.next({errors:n.errors,isValid:!1})},w=(L,G,Q,we)=>{const pe=je(r,L);if(pe){const oe=je(a,L,Vt(Q)?je(i,L):Q);Vt(oe)||we&&we.defaultChecked||G?gt(a,L,G?oe:v_(pe._f)):O(L,oe),o.mount&&g()}},A=(L,G,Q,we,pe)=>{let oe=!1,Pe=!1;const rt={name:L};if(!t.disabled){if(!Q||we){(h.isDirty||m.isDirty)&&(Pe=n.isDirty,n.isDirty=rt.isDirty=P(),oe=Pe!==rt.isDirty);const lt=$r(je(i,L),G);Pe=!!je(n.dirtyFields,L),lt?Wt(n.dirtyFields,L):gt(n.dirtyFields,L,!0),rt.dirtyFields=n.dirtyFields,oe=oe||(h.dirtyFields||m.dirtyFields)&&Pe!==!lt}if(Q){const lt=je(n.touchedFields,L);lt||(gt(n.touchedFields,L,Q),rt.touchedFields=n.touchedFields,oe=oe||(h.touchedFields||m.touchedFields)&&lt!==Q)}oe&&pe&&f.state.next(rt)}return oe?rt:{}},M=(L,G,Q,we)=>{const pe=je(n.errors,L),oe=(h.isValid||m.isValid)&&rr(G)&&n.isValid!==G;if(t.delayError&&Q?(c=x(()=>v(L,Q)),c(t.delayError)):(clearTimeout(d),c=null,Q?gt(n.errors,L,Q):Wt(n.errors,L)),(Q?!$r(pe,Q):pe)||!An(we)||oe){const Pe={...we,...oe&&rr(G)?{isValid:G}:{},errors:n.errors,name:L};n={...n,...Pe},f.state.next(Pe)}},E=async L=>{C(L,!0);const G=await t.resolver(a,t.context,yU(L||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return C(L),G},b=async L=>{const{errors:G}=await E(L);if(L)for(const Q of L){const we=je(G,Q);we?gt(n.errors,Q,we):Wt(n.errors,Q)}else n.errors=G;return G},_=async(L,G,Q={valid:!0})=>{for(const we in L){const pe=L[we];if(pe){const{_f:oe,...Pe}=pe;if(oe){const rt=l.array.has(oe.name),lt=pe._f&&wU(pe._f);lt&&h.validatingFields&&C([oe.name],!0);const gn=await __(pe,l.disabled,a,j,t.shouldUseNativeValidation&&!G,rt);if(lt&&h.validatingFields&&C([oe.name]),gn[oe.name]&&(Q.valid=!1,G))break;!G&&(je(gn,oe.name)?rt?CU(n.errors,gn,oe.name):gt(n.errors,oe.name,gn[oe.name]):Wt(n.errors,oe.name))}!An(Pe)&&await _(Pe,G,Q)}}return Q.valid},R=()=>{for(const L of l.unMount){const G=je(r,L);G&&(G._f.refs?G._f.refs.every(Q=>!Eg(Q)):!Eg(G._f.ref))&&me(L)}l.unMount=new Set},P=(L,G)=>!t.disabled&&(L&&G&&gt(a,L,G),!$r(ee(),i)),k=(L,G,Q)=>Cv(L,l,{...o.mount?a:Vt(G)?i:ar(L)?{[L]:G}:G},Q,G),I=L=>Rw(je(o.mount?a:i,L,t.shouldUnregister?je(i,L,[]):[])),O=(L,G,Q={})=>{const we=je(r,L);let pe=G;if(we){const oe=we._f;oe&&(!oe.disabled&&gt(a,L,VE(G,oe)),pe=sm(oe.ref)&&Kn(G)?"":G,LE(oe.ref)?[...oe.ref.options].forEach(Pe=>Pe.selected=pe.includes(Pe.value)):oe.refs?Fu(oe.ref)?oe.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(pe)?Pe.checked=!!pe.find(rt=>rt===Pe.value):Pe.checked=pe===Pe.value||!!pe)}):oe.refs.forEach(Pe=>Pe.checked=Pe.value===pe):Fw(oe.ref)?oe.ref.value="":(oe.ref.value=pe,oe.ref.type||f.state.next({name:L,values:en(a)})))}(Q.shouldDirty||Q.shouldTouch)&&A(L,pe,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&B(L)},K=(L,G,Q)=>{for(const we in G){if(!G.hasOwnProperty(we))return;const pe=G[we],oe=L+"."+we,Pe=je(r,oe);(l.array.has(L)||Qt(pe)||Pe&&!Pe._f)&&!so(pe)?K(oe,pe,Q):O(oe,pe,Q)}},z=(L,G,Q={})=>{const we=je(r,L),pe=l.array.has(L),oe=en(G);gt(a,L,oe),pe?(f.array.next({name:L,values:en(a)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&Q.shouldDirty&&f.state.next({name:L,dirtyFields:ll(i,a),isDirty:P(L,oe)})):we&&!we._f&&!Kn(oe)?K(L,oe,Q):O(L,oe,Q),j_(L,l)&&f.state.next({...n,name:L}),f.state.next({name:o.mount?L:void 0,values:en(a)})},V=async L=>{o.mount=!0;const G=L.target;let Q=G.name,we=!0;const pe=je(r,Q),oe=lt=>{we=Number.isNaN(lt)||so(lt)&&isNaN(lt.getTime())||$r(lt,je(a,Q,lt))},Pe=y_(t.mode),rt=y_(t.reValidateMode);if(pe){let lt,gn;const re=G.type?v_(pe._f):RE(L),Ge=L.type===rm.BLUR||L.type===rm.FOCUS_OUT,is=!jU(pe._f)&&!t.resolver&&!je(n.errors,Q)&&!pe._f.deps||_U(Ge,je(n.touchedFields,Q),n.isSubmitted,rt,Pe),Lt=j_(Q,l,Ge);gt(a,Q,re),Ge?(!G||!G.readOnly)&&(pe._f.onBlur&&pe._f.onBlur(L),c&&c(0)):pe._f.onChange&&pe._f.onChange(L);const Wn=A(Q,re,Ge),Us=!An(Wn)||Lt;if(!Ge&&f.state.next({name:Q,type:L.type,values:en(a)}),is)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?Ge&&g():Ge||g()),Us&&f.state.next({name:Q,...Lt?{}:Wn});if(!Ge&&Lt&&f.state.next({...n}),t.resolver){const{errors:Vs}=await E([Q]);if(oe(re),we){const Gu=b_(n.errors,r,Q),Qo=b_(Vs,r,Gu.name||Q);lt=Qo.error,Q=Qo.name,gn=An(Vs)}}else C([Q],!0),lt=(await __(pe,l.disabled,a,j,t.shouldUseNativeValidation))[Q],C([Q]),oe(re),we&&(lt?gn=!1:(h.isValid||m.isValid)&&(gn=await _(r,!0)));we&&(pe._f.deps&&(!Array.isArray(pe._f.deps)||pe._f.deps.length>0)&&B(pe._f.deps),M(Q,gn,lt,Wn))}},F=(L,G)=>{if(je(n.errors,G)&&L.focus)return L.focus(),1},B=async(L,G={})=>{let Q,we;const pe=Od(L);if(t.resolver){const oe=await b(Vt(L)?L:pe);Q=An(oe),we=L?!pe.some(Pe=>je(oe,Pe)):Q}else L?(we=(await Promise.all(pe.map(async oe=>{const Pe=je(r,oe);return await _(Pe&&Pe._f?{[oe]:Pe}:Pe)}))).every(Boolean),!(!we&&!n.isValid)&&g()):we=Q=await _(r);return f.state.next({...!ar(L)||(h.isValid||m.isValid)&&Q!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:n.errors}),G.shouldFocus&&!we&&Fd(r,F,L?pe:l.mount),we},ee=(L,G)=>{let Q={...o.mount?a:i};return G&&(Q=FE(G.dirtyFields?n.dirtyFields:n.touchedFields,Q)),Vt(L)?Q:ar(L)?je(Q,L):L.map(we=>je(Q,we))},ne=(L,G)=>({invalid:!!je((G||n).errors,L),isDirty:!!je((G||n).dirtyFields,L),error:je((G||n).errors,L),isValidating:!!je(n.validatingFields,L),isTouched:!!je((G||n).touchedFields,L)}),W=L=>{L&&Od(L).forEach(G=>Wt(n.errors,G)),f.state.next({errors:L?n.errors:{}})},ue=(L,G,Q)=>{const we=(je(r,L,{_f:{}})._f||{}).ref,pe=je(n.errors,L)||{},{ref:oe,message:Pe,type:rt,...lt}=pe;gt(n.errors,L,{...lt,...G,ref:we}),f.state.next({name:L,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&we&&we.focus&&we.focus()},ae=(L,G)=>Ur(L)?f.state.subscribe({next:Q=>"values"in Q&&L(k(void 0,G),Q)}):k(L,G,!0),Le=L=>f.state.subscribe({next:G=>{NU(L.name,G.name,L.exact)&&bU(G,L.formState||h,kn,L.reRenderRoot)&&L.callback({values:{...a},...n,...G,defaultValues:i})}}).unsubscribe,We=L=>(o.mount=!0,m={...m,...L.formState},Le({...L,formState:m})),me=(L,G={})=>{for(const Q of L?Od(L):l.mount)l.mount.delete(Q),l.array.delete(Q),G.keepValue||(Wt(r,Q),Wt(a,Q)),!G.keepError&&Wt(n.errors,Q),!G.keepDirty&&Wt(n.dirtyFields,Q),!G.keepTouched&&Wt(n.touchedFields,Q),!G.keepIsValidating&&Wt(n.validatingFields,Q),!t.shouldUnregister&&!G.keepDefaultValue&&Wt(i,Q);f.state.next({values:en(a)}),f.state.next({...n,...G.keepDirty?{isDirty:P()}:{}}),!G.keepIsValid&&g()},Be=({disabled:L,name:G})=>{(rr(L)&&o.mount||L||l.disabled.has(G))&&(L?l.disabled.add(G):l.disabled.delete(G))},Ue=(L,G={})=>{let Q=je(r,L);const we=rr(G.disabled)||rr(t.disabled);return gt(r,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...G}}),l.mount.add(L),Q?Be({disabled:rr(G.disabled)?G.disabled:t.disabled,name:L}):w(L,!0,G.value),{...we?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:ld(G.min),max:ld(G.max),minLength:ld(G.minLength),maxLength:ld(G.maxLength),pattern:ld(G.pattern)}:{},name:L,onChange:V,onBlur:V,ref:pe=>{if(pe){Ue(L,G),Q=je(r,L);const oe=Vt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Pe=pU(oe),rt=Q._f.refs||[];if(Pe?rt.find(lt=>lt===oe):oe===Q._f.ref)return;gt(r,L,{_f:{...Q._f,...Pe?{refs:[...rt.filter(Eg),oe,...Array.isArray(je(i,L))?[{}]:[]],ref:{type:oe.type,name:L}}:{ref:oe}}}),w(L,!1,void 0,oe)}else Q=je(r,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(DE(l.array,L)&&o.action)&&l.unMount.add(L)}}},H=()=>t.shouldFocusError&&Fd(r,F,l.mount),Ne=L=>{rr(L)&&(f.state.next({disabled:L}),Fd(r,(G,Q)=>{const we=je(r,Q);we&&(G.disabled=we._f.disabled||L,Array.isArray(we._f.refs)&&we._f.refs.forEach(pe=>{pe.disabled=we._f.disabled||L}))},0,!1))},ke=(L,G)=>async Q=>{let we;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let pe=en(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:Pe}=await E();n.errors=oe,pe=en(Pe)}else await _(r);if(l.disabled.size)for(const oe of l.disabled)Wt(pe,oe);if(Wt(n.errors,"root"),An(n.errors)){f.state.next({errors:{}});try{await L(pe,Q)}catch(oe){we=oe}}else G&&await G({...n.errors},Q),H(),setTimeout(H);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},Ke=(L,G={})=>{je(r,L)&&(Vt(G.defaultValue)?z(L,en(je(i,L))):(z(L,G.defaultValue),gt(i,L,en(G.defaultValue))),G.keepTouched||Wt(n.touchedFields,L),G.keepDirty||(Wt(n.dirtyFields,L),n.isDirty=G.defaultValue?P(L,en(je(i,L))):P()),G.keepError||(Wt(n.errors,L),h.isValid&&g()),f.state.next({...n}))},wt=(L,G={})=>{const Q=L?en(L):i,we=en(Q),pe=An(L),oe=pe?i:we;if(G.keepDefaultValues||(i=Q),!G.keepValues){if(G.keepDirtyValues){const Pe=new Set([...l.mount,...Object.keys(ll(i,a))]);for(const rt of Array.from(Pe))je(n.dirtyFields,rt)?gt(oe,rt,je(a,rt)):z(rt,je(oe,rt))}else{if(Iw&&Vt(L))for(const Pe of l.mount){const rt=je(r,Pe);if(rt&&rt._f){const lt=Array.isArray(rt._f.refs)?rt._f.refs[0]:rt._f.ref;if(sm(lt)){const gn=lt.closest("form");if(gn){gn.reset();break}}}}if(G.keepFieldsRef)for(const Pe of l.mount)z(Pe,je(oe,Pe));else r={}}a=t.shouldUnregister?G.keepDefaultValues?en(i):{}:en(oe),f.array.next({values:{...oe}}),f.state.next({values:{...oe}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!An(oe),o.watch=!!t.shouldUnregister,f.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!$r(L,i)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:G.keepDirtyValues?G.keepDefaultValues&&a?ll(i,a):n.dirtyFields:G.keepDefaultValues&&L?ll(i,L):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},bt=(L,G)=>wt(Ur(L)?L(a):L,G),ln=(L,G={})=>{const Q=je(r,L),we=Q&&Q._f;if(we){const pe=we.refs?we.refs[0]:we.ref;pe.focus&&(pe.focus(),G.shouldSelect&&Ur(pe.select)&&pe.select())}},kn=L=>{n={...n,...L}},Nt={control:{register:Ue,unregister:me,getFieldState:ne,handleSubmit:ke,setError:ue,_subscribe:Le,_runSchema:E,_focusError:H,_getWatch:k,_getDirty:P,_setValid:g,_setFieldArray:N,_setDisabledField:Be,_setErrors:S,_getFieldArray:I,_reset:wt,_resetDefaultValues:()=>Ur(t.defaultValues)&&t.defaultValues().then(L=>{bt(L,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ne,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:We,trigger:B,register:Ue,handleSubmit:ke,watch:ae,setValue:z,getValues:ee,reset:bt,resetField:Ke,clearErrors:W,unregister:me,setError:ue,setFocus:ln,getFieldState:ne};return{...Nt,formControl:Nt}}function TU(e={}){const t=De.useRef(void 0),n=De.useRef(void 0),[r,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:Ur(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ur(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Ur(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=EU(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,Ow(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),De.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),De.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),De.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),De.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),De.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),De.useEffect(()=>{e.values&&!$r(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),De.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=ME(r,a),t.current}const S_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=je(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},BE=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?S_(r.ref,n,e):r.refs&&r.refs.forEach(i=>S_(i,n,e))}},PU=(e,t)=>{t.shouldUseNativeValidation&&BE(e,t);const n={};for(const r in e){const i=je(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(AU(t.names||Object.keys(e),r)){const o=Object.assign({},je(n,r));gt(o,"root",a),gt(n,r,o)}else gt(n,r,a)}return n},AU=(e,t)=>e.some(n=>n.startsWith(t+"."));var IU=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return e.push(m)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=OE(o,t,n,i,d?[].concat(d,r.message):r.message)}e.shift()}return n},RU=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return a.shouldUseNativeValidation&&BE({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:PU(IU(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const se=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const le=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));le.displayName="CardHeader";const ce=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));ce.displayName="CardTitle";const Re=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));Re.displayName="CardDescription";const ie=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("p-6 pt-0",e),...t}));ie.displayName="CardContent";const DU=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",e),...t}));DU.displayName="CardFooter";const fu=Eu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?GC:"button";return s.jsx(o,{className:ve(fu({variant:t,size:n,className:e})),ref:a,...i})});X.displayName="Button";const ye=p.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ye.displayName="Input";var MU="Label",WE=p.forwardRef((e,t)=>s.jsx(Ie.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WE.displayName=MU;var HE=WE;const OU=Eu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=p.forwardRef(({className:e,...t},n)=>s.jsx(HE,{ref:n,className:ve(OU(),e),...t}));fe.displayName=HE.displayName;const FU=dU,qE=p.createContext({}),nl=({...e})=>s.jsx(qE.Provider,{value:{name:e.name},children:s.jsx(mU,{...e})}),Xm=()=>{const e=p.useContext(qE),t=p.useContext(KE),{getFieldState:n,formState:r}=Qm(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},KE=p.createContext({}),qa=p.forwardRef(({className:e,...t},n)=>{const r=p.useId();return s.jsx(KE.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:ve("space-y-2",e),...t})})});qa.displayName="FormItem";const LU=p.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=Xm();return s.jsx(fe,{ref:n,className:ve(r&&"text-destructive",e),htmlFor:i,...t})});LU.displayName="FormLabel";const Ka=p.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=Xm();return s.jsx(GC,{ref:t,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...e})});Ka.displayName="FormControl";const $U=p.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Xm();return s.jsx("p",{ref:n,id:r,className:ve("text-sm text-muted-foreground",e),...t})});$U.displayName="FormDescription";const Ga=p.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:a}=Xm(),o=i?String((i==null?void 0:i.message)??""):t;return o?s.jsx("p",{ref:r,id:a,className:ve("text-sm font-medium text-destructive",e),...n,children:o}):null});Ga.displayName="FormMessage";function C_(e,[t,n]){return Math.min(n,Math.max(t,e))}var UU=p.createContext(void 0);function Zm(e){const t=p.useContext(UU);return e||t||"ltr"}var Tg=0;function Jm(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??k_()),document.body.insertAdjacentElement("beforeend",e[1]??k_()),Tg++,()=>{Tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tg--}},[])}function k_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pg="focusScope.autoFocusOnMount",Ag="focusScope.autoFocusOnUnmount",E_={bubbles:!1,cancelable:!0},VU="FocusScope",Lu=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=p.useState(null),d=$n(i),h=$n(a),m=p.useRef(null),f=tt(t,g=>c(g)),j=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(S){if(j.paused||!l)return;const w=S.target;l.contains(w)?m.current=w:Oi(m.current,{select:!0})},C=function(S){if(j.paused||!l)return;const w=S.relatedTarget;w!==null&&(l.contains(w)||Oi(m.current,{select:!0}))},N=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Oi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",C);const v=new MutationObserver(N);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",C),v.disconnect()}}},[r,l,j.paused]),p.useEffect(()=>{if(l){P_.add(j);const g=document.activeElement;if(!l.contains(g)){const N=new CustomEvent(Pg,E_);l.addEventListener(Pg,d),l.dispatchEvent(N),N.defaultPrevented||(zU(KU(GE(l)),{select:!0}),document.activeElement===g&&Oi(l))}return()=>{l.removeEventListener(Pg,d),setTimeout(()=>{const N=new CustomEvent(Ag,E_);l.addEventListener(Ag,h),l.dispatchEvent(N),N.defaultPrevented||Oi(g??document.body,{select:!0}),l.removeEventListener(Ag,h),P_.remove(j)},0)}}},[l,d,h,j]);const x=p.useCallback(g=>{if(!n&&!r||j.paused)return;const C=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,N=document.activeElement;if(C&&N){const v=g.currentTarget,[S,w]=BU(v);S&&w?!g.shiftKey&&N===w?(g.preventDefault(),n&&Oi(S,{select:!0})):g.shiftKey&&N===S&&(g.preventDefault(),n&&Oi(w,{select:!0})):N===v&&g.preventDefault()}},[n,r,j.paused]);return s.jsx(Ie.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Lu.displayName=VU;function zU(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Oi(r,{select:t}),document.activeElement!==n)return}function BU(e){const t=GE(e),n=T_(t,e),r=T_(t.reverse(),e);return[n,r]}function GE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function T_(e,t){for(const n of e)if(!WU(n,{upTo:t}))return n}function WU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HU(e){return e instanceof HTMLInputElement&&"select"in e}function Oi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HU(e)&&t&&e.select()}}var P_=qU();function qU(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=A_(e,t),e.unshift(t)},remove(t){var n;e=A_(e,t),(n=e[0])==null||n.resume()}}}function A_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function KU(e){return e.filter(t=>t.tagName!=="A")}function YE(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var GU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rl=new WeakMap,Rh=new WeakMap,Dh={},Ig=0,QE=function(e){return e&&(e.host||QE(e.parentNode))},YU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=QE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},QU=function(e,t,n,r){var i=YU(t,Array.isArray(e)?e:[e]);Dh[n]||(Dh[n]=new WeakMap);var a=Dh[n],o=[],l=new Set,c=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))h(f);else try{var j=f.getAttribute(r),x=j!==null&&j!=="false",g=(rl.get(f)||0)+1,C=(a.get(f)||0)+1;rl.set(f,g),a.set(f,C),o.push(f),g===1&&x&&Rh.set(f,!0),C===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",f,N)}})};return h(t),l.clear(),Ig++,function(){o.forEach(function(m){var f=rl.get(m)-1,j=a.get(m)-1;rl.set(m,f),a.set(m,j),f||(Rh.has(m)||m.removeAttribute(r),Rh.delete(m)),j||m.removeAttribute(n)}),Ig--,Ig||(rl=new WeakMap,rl=new WeakMap,Rh=new WeakMap,Dh={})}},ep=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=GU(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),QU(r,i,n,"aria-hidden")):function(){return null}},gs=function(){return gs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},gs.apply(this,arguments)};function XE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function XU(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var sf="right-scroll-bar-position",af="width-before-scroll-bar",ZU="with-scroll-bars-hidden",JU="--removed-body-scroll-bar-size";function Rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eV(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var tV=typeof window<"u"?p.useLayoutEffect:p.useEffect,I_=new WeakMap;function nV(e,t){var n=eV(null,function(r){return e.forEach(function(i){return Rg(i,r)})});return tV(function(){var r=I_.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||Rg(l,null)}),a.forEach(function(l){i.has(l)||Rg(l,o)})}I_.set(n,e)},[e]),n}function rV(e){return e}function sV(e,t){t===void 0&&(t=rV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function iV(e){e===void 0&&(e={});var t=sV(null);return t.options=gs({async:!0,ssr:!1},e),t}var ZE=function(e){var t=e.sideCar,n=XE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,gs({},n))};ZE.isSideCarExport=!0;function aV(e,t){return e.useMedium(t),ZE}var JE=iV(),Dg=function(){},tp=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,m=e.shards,f=e.sideCar,j=e.noRelative,x=e.noIsolation,g=e.inert,C=e.allowPinchZoom,N=e.as,v=N===void 0?"div":N,S=e.gapMode,w=XE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,M=nV([n,t]),E=gs(gs({},w),i);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:JE,removeScrollBar:d,shards:m,noRelative:j,noIsolation:x,inert:g,setCallbacks:a,allowPinchZoom:!!C,lockRef:n,gapMode:S}),o?p.cloneElement(p.Children.only(l),gs(gs({},E),{ref:M})):p.createElement(v,gs({},E,{className:c,ref:M}),l))});tp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tp.classNames={fullWidth:af,zeroRight:sf};var oV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oV();return t&&e.setAttribute("nonce",t),e}function cV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lV())&&(cV(t,n),dV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hV=function(){var e=uV();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eT=function(){var e=hV(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},fV={left:0,top:0,right:0,gap:0},Mg=function(e){return parseInt(e||"",10)||0},mV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Mg(n),Mg(r),Mg(i)]},pV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fV;var t=mV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gV=eT(),Fl="data-scroll-locked",xV=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Fl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(af,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(af," .").concat(af,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fl,`] {
    `).concat(JU,": ").concat(l,`px;
  }
`)},R_=function(){var e=parseInt(document.body.getAttribute(Fl)||"0",10);return isFinite(e)?e:0},vV=function(){p.useEffect(function(){return document.body.setAttribute(Fl,(R_()+1).toString()),function(){var e=R_()-1;e<=0?document.body.removeAttribute(Fl):document.body.setAttribute(Fl,e.toString())}},[])},yV=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;vV();var a=p.useMemo(function(){return pV(i)},[i]);return p.createElement(gV,{styles:xV(a,!t,i,n?"":"!important")})},Tv=!1;if(typeof window<"u")try{var Mh=Object.defineProperty({},"passive",{get:function(){return Tv=!0,!0}});window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{Tv=!1}var sl=Tv?{passive:!1}:!1,wV=function(e){return e.tagName==="TEXTAREA"},tT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wV(e)&&n[t]==="visible")},jV=function(e){return tT(e,"overflowY")},bV=function(e){return tT(e,"overflowX")},D_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=nT(e,r);if(i){var a=rT(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},NV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_V=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},nT=function(e,t){return e==="v"?jV(t):bV(t)},rT=function(e,t){return e==="v"?NV(t):_V(t)},SV=function(e,t){return e==="h"&&t==="rtl"?-1:1},CV=function(e,t,n,r,i){var a=SV(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),d=!1,h=o>0,m=0,f=0;do{if(!l)break;var j=rT(e,l),x=j[0],g=j[1],C=j[2],N=g-C-a*x;(x||N)&&nT(e,l)&&(m+=N,f+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(m)<1||!h&&Math.abs(f)<1)&&(d=!0),d},Oh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},M_=function(e){return[e.deltaX,e.deltaY]},O_=function(e){return e&&"current"in e?e.current:e},kV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},EV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},TV=0,il=[];function PV(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(TV++)[0],a=p.useState(eT)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=XU([e.lockRef.current],(e.shards||[]).map(O_),!0).filter(Boolean);return g.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,C){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var N=Oh(g),v=n.current,S="deltaX"in g?g.deltaX:v[0]-N[0],w="deltaY"in g?g.deltaY:v[1]-N[1],A,M=g.target,E=Math.abs(S)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&M.type==="range")return!1;var b=D_(E,M);if(!b)return!0;if(b?A=E:(A=E==="v"?"h":"v",b=D_(E,M)),!b)return!1;if(!r.current&&"changedTouches"in g&&(S||w)&&(r.current=A),!A)return!0;var _=r.current||A;return CV(_,C,g,_==="h"?S:w)},[]),c=p.useCallback(function(g){var C=g;if(!(!il.length||il[il.length-1]!==a)){var N="deltaY"in C?M_(C):Oh(C),v=t.current.filter(function(A){return A.name===C.type&&(A.target===C.target||C.target===A.shadowParent)&&kV(A.delta,N)})[0];if(v&&v.should){C.cancelable&&C.preventDefault();return}if(!v){var S=(o.current.shards||[]).map(O_).filter(Boolean).filter(function(A){return A.contains(C.target)}),w=S.length>0?l(C,S[0]):!o.current.noIsolation;w&&C.cancelable&&C.preventDefault()}}},[]),d=p.useCallback(function(g,C,N,v){var S={name:g,delta:C,target:N,should:v,shadowParent:AV(N)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(w){return w!==S})},1)},[]),h=p.useCallback(function(g){n.current=Oh(g),r.current=void 0},[]),m=p.useCallback(function(g){d(g.type,M_(g),g.target,l(g,e.lockRef.current))},[]),f=p.useCallback(function(g){d(g.type,Oh(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return il.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,sl),document.addEventListener("touchmove",c,sl),document.addEventListener("touchstart",h,sl),function(){il=il.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,sl),document.removeEventListener("touchmove",c,sl),document.removeEventListener("touchstart",h,sl)}},[]);var j=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(a,{styles:EV(i)}):null,j?p.createElement(yV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function AV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IV=aV(JE,PV);var $u=p.forwardRef(function(e,t){return p.createElement(tp,gs({},e,{ref:t,sideCar:IV}))});$u.classNames=tp.classNames;var RV=[" ","Enter","ArrowUp","ArrowDown"],DV=[" ","Enter"],Do="Select",[np,rp,MV]=Am(Do),[Fc]=tr(Do,[MV,Ia]),sp=Ia(),[OV,Ma]=Fc(Do),[FV,LV]=Fc(Do),sT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:m,disabled:f,required:j,form:x}=e,g=sp(t),[C,N]=p.useState(null),[v,S]=p.useState(null),[w,A]=p.useState(!1),M=Zm(d),[E,b]=hi({prop:r,defaultProp:i??!1,onChange:a,caller:Do}),[_,R]=hi({prop:o,defaultProp:l,onChange:c,caller:Do}),P=p.useRef(null),k=C?x||!!C.closest("form"):!0,[I,O]=p.useState(new Set),K=Array.from(I).map(z=>z.props.value).join(";");return s.jsx(lw,{...g,children:s.jsxs(OV,{required:j,scope:t,trigger:C,onTriggerChange:N,valueNode:v,onValueNodeChange:S,valueNodeHasChildren:w,onValueNodeHasChildrenChange:A,contentId:Kr(),value:_,onValueChange:R,open:E,onOpenChange:b,dir:M,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx(np.Provider,{scope:t,children:s.jsx(FV,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(z=>{O(V=>new Set(V).add(z))},[]),onNativeOptionRemove:p.useCallback(z=>{O(V=>{const F=new Set(V);return F.delete(z),F})},[]),children:n})}),k?s.jsxs(ET,{"aria-hidden":!0,required:j,tabIndex:-1,name:h,autoComplete:m,value:_,onChange:z=>R(z.target.value),disabled:f,form:x,children:[_===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},K):null]})})};sT.displayName=Do;var iT="SelectTrigger",aT=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=sp(n),o=Ma(iT,n),l=o.disabled||r,c=tt(t,o.onTriggerChange),d=rp(n),h=p.useRef("touch"),[m,f,j]=PT(g=>{const C=d().filter(S=>!S.disabled),N=C.find(S=>S.value===o.value),v=AT(C,g,N);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),j()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Pu,{asChild:!0,...a,children:s.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TT(o.value)?"":void 0,...i,ref:c,onClick:ge(i.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&x(g)}),onPointerDown:ge(i.onPointerDown,g=>{h.current=g.pointerType;const C=g.target;C.hasPointerCapture(g.pointerId)&&C.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ge(i.onKeyDown,g=>{const C=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(C&&g.key===" ")&&RV.includes(g.key)&&(x(),g.preventDefault())})})})});aT.displayName=iT;var oT="SelectValue",lT=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=Ma(oT,n),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,m=tt(t,c.onValueNodeChange);return Xt(()=>{d(h)},[d,h]),s.jsx(Ie.span,{...l,ref:m,style:{pointerEvents:"none"},children:TT(c.value)?s.jsx(s.Fragment,{children:o}):a})});lT.displayName=oT;var $V="SelectIcon",cT=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Ie.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});cT.displayName=$V;var UV="SelectPortal",dT=e=>s.jsx(kc,{asChild:!0,...e});dT.displayName=UV;var Mo="SelectContent",uT=p.forwardRef((e,t)=>{const n=Ma(Mo,e.__scopeSelect),[r,i]=p.useState();if(Xt(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Vo.createPortal(s.jsx(hT,{scope:e.__scopeSelect,children:s.jsx(np.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(fT,{...e,ref:t})});uT.displayName=Mo;var Ar=10,[hT,Oa]=Fc(Mo),VV="SelectContentImpl",zV=wa("SelectContent.RemoveScroll"),fT=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:f,collisionPadding:j,sticky:x,hideWhenDetached:g,avoidCollisions:C,...N}=e,v=Ma(Mo,n),[S,w]=p.useState(null),[A,M]=p.useState(null),E=tt(t,me=>w(me)),[b,_]=p.useState(null),[R,P]=p.useState(null),k=rp(n),[I,O]=p.useState(!1),K=p.useRef(!1);p.useEffect(()=>{if(S)return ep(S)},[S]),Jm();const z=p.useCallback(me=>{const[Be,...Ue]=k().map(ke=>ke.ref.current),[H]=Ue.slice(-1),Ne=document.activeElement;for(const ke of me)if(ke===Ne||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===Be&&A&&(A.scrollTop=0),ke===H&&A&&(A.scrollTop=A.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ne))return},[k,A]),V=p.useCallback(()=>z([b,S]),[z,b,S]);p.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:F,triggerPointerDownPosRef:B}=v;p.useEffect(()=>{if(S){let me={x:0,y:0};const Be=H=>{var Ne,ke;me={x:Math.abs(Math.round(H.pageX)-(((Ne=B.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(H.pageY)-(((ke=B.current)==null?void 0:ke.y)??0))}},Ue=H=>{me.x<=10&&me.y<=10?H.preventDefault():S.contains(H.target)||F(!1),document.removeEventListener("pointermove",Be),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",Ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",Ue,{capture:!0})}}},[S,F,B]),p.useEffect(()=>{const me=()=>F(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[F]);const[ee,ne]=PT(me=>{const Be=k().filter(Ne=>!Ne.disabled),Ue=Be.find(Ne=>Ne.ref.current===document.activeElement),H=AT(Be,me,Ue);H&&setTimeout(()=>H.ref.current.focus())}),W=p.useCallback((me,Be,Ue)=>{const H=!K.current&&!Ue;(v.value!==void 0&&v.value===Be||H)&&(_(me),H&&(K.current=!0))},[v.value]),ue=p.useCallback(()=>S==null?void 0:S.focus(),[S]),ae=p.useCallback((me,Be,Ue)=>{const H=!K.current&&!Ue;(v.value!==void 0&&v.value===Be||H)&&P(me)},[v.value]),Le=r==="popper"?Pv:mT,We=Le===Pv?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:f,collisionPadding:j,sticky:x,hideWhenDetached:g,avoidCollisions:C}:{};return s.jsx(hT,{scope:n,content:S,viewport:A,onViewportChange:M,itemRefCallback:W,selectedItem:b,onItemLeave:ue,itemTextRefCallback:ae,focusSelectedItem:V,selectedItemText:R,position:r,isPositioned:I,searchRef:ee,children:s.jsx($u,{as:zV,allowPinchZoom:!0,children:s.jsx(Lu,{asChild:!0,trapped:v.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:ge(i,me=>{var Be;(Be=v.trigger)==null||Be.focus({preventScroll:!0}),me.preventDefault()}),children:s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(Le,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:me=>me.preventDefault(),...N,...We,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ge(N.onKeyDown,me=>{const Be=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Be&&me.key.length===1&&ne(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let H=k().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(me.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Ne=me.target,ke=H.indexOf(Ne);H=H.slice(ke+1)}setTimeout(()=>z(H)),me.preventDefault()}})})})})})})});fT.displayName=VV;var BV="SelectItemAlignedPosition",mT=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Ma(Mo,n),o=Oa(Mo,n),[l,c]=p.useState(null),[d,h]=p.useState(null),m=tt(t,E=>h(E)),f=rp(n),j=p.useRef(!1),x=p.useRef(!0),{viewport:g,selectedItem:C,selectedItemText:N,focusSelectedItem:v}=o,S=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&C&&N){const E=a.trigger.getBoundingClientRect(),b=d.getBoundingClientRect(),_=a.valueNode.getBoundingClientRect(),R=N.getBoundingClientRect();if(a.dir!=="rtl"){const Ne=R.left-b.left,ke=_.left-Ne,Ke=E.left-ke,wt=E.width+Ke,bt=Math.max(wt,b.width),ln=window.innerWidth-Ar,kn=C_(ke,[Ar,Math.max(Ar,ln-bt)]);l.style.minWidth=wt+"px",l.style.left=kn+"px"}else{const Ne=b.right-R.right,ke=window.innerWidth-_.right-Ne,Ke=window.innerWidth-E.right-ke,wt=E.width+Ke,bt=Math.max(wt,b.width),ln=window.innerWidth-Ar,kn=C_(ke,[Ar,Math.max(Ar,ln-bt)]);l.style.minWidth=wt+"px",l.style.right=kn+"px"}const P=f(),k=window.innerHeight-Ar*2,I=g.scrollHeight,O=window.getComputedStyle(d),K=parseInt(O.borderTopWidth,10),z=parseInt(O.paddingTop,10),V=parseInt(O.borderBottomWidth,10),F=parseInt(O.paddingBottom,10),B=K+z+I+F+V,ee=Math.min(C.offsetHeight*5,B),ne=window.getComputedStyle(g),W=parseInt(ne.paddingTop,10),ue=parseInt(ne.paddingBottom,10),ae=E.top+E.height/2-Ar,Le=k-ae,We=C.offsetHeight/2,me=C.offsetTop+We,Be=K+z+me,Ue=B-Be;if(Be<=ae){const Ne=P.length>0&&C===P[P.length-1].ref.current;l.style.bottom="0px";const ke=d.clientHeight-g.offsetTop-g.offsetHeight,Ke=Math.max(Le,We+(Ne?ue:0)+ke+V),wt=Be+Ke;l.style.height=wt+"px"}else{const Ne=P.length>0&&C===P[0].ref.current;l.style.top="0px";const Ke=Math.max(ae,K+g.offsetTop+(Ne?W:0)+We)+Ue;l.style.height=Ke+"px",g.scrollTop=Be-ae+g.offsetTop}l.style.margin=`${Ar}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>j.current=!0)}},[f,a.trigger,a.valueNode,l,d,g,C,N,a.dir,r]);Xt(()=>S(),[S]);const[w,A]=p.useState();Xt(()=>{d&&A(window.getComputedStyle(d).zIndex)},[d]);const M=p.useCallback(E=>{E&&x.current===!0&&(S(),v==null||v(),x.current=!1)},[S,v]);return s.jsx(HV,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:j,onScrollButtonChange:M,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(Ie.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mT.displayName=BV;var WV="SelectPopperPosition",Pv=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ar,...a}=e,o=sp(n);return s.jsx($m,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pv.displayName=WV;var[HV,$w]=Fc(Mo,{}),Av="SelectViewport",pT=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Oa(Av,n),o=$w(Av,n),l=tt(t,a.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(np.Slot,{scope:n,children:s.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ge(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&m){const j=Math.abs(c.current-h.scrollTop);if(j>0){const x=window.innerHeight-Ar*2,g=parseFloat(m.style.minHeight),C=parseFloat(m.style.height),N=Math.max(g,C);if(N<x){const v=N+j,S=Math.min(x,v),w=v-S;m.style.height=S+"px",m.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});pT.displayName=Av;var gT="SelectGroup",[qV,KV]=Fc(gT),GV=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Kr();return s.jsx(qV,{scope:n,id:i,children:s.jsx(Ie.div,{role:"group","aria-labelledby":i,...r,ref:t})})});GV.displayName=gT;var xT="SelectLabel",vT=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=KV(xT,n);return s.jsx(Ie.div,{id:i.id,...r,ref:t})});vT.displayName=xT;var am="SelectItem",[YV,yT]=Fc(am),wT=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=Ma(am,n),c=Oa(am,n),d=l.value===r,[h,m]=p.useState(a??""),[f,j]=p.useState(!1),x=tt(t,v=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,v,r,i)}),g=Kr(),C=p.useRef("touch"),N=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(YV,{scope:n,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:p.useCallback(v=>{m(S=>S||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(np.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx(Ie.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:ge(o.onFocus,()=>j(!0)),onBlur:ge(o.onBlur,()=>j(!1)),onClick:ge(o.onClick,()=>{C.current!=="mouse"&&N()}),onPointerUp:ge(o.onPointerUp,()=>{C.current==="mouse"&&N()}),onPointerDown:ge(o.onPointerDown,v=>{C.current=v.pointerType}),onPointerMove:ge(o.onPointerMove,v=>{var S;C.current=v.pointerType,i?(S=c.onItemLeave)==null||S.call(c):C.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,v=>{var S;v.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:ge(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(DV.includes(v.key)&&N(),v.key===" "&&v.preventDefault())})})})})});wT.displayName=am;var xd="SelectItemText",jT=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=Ma(xd,n),l=Oa(xd,n),c=yT(xd,n),d=LV(xd,n),[h,m]=p.useState(null),f=tt(t,N=>m(N),c.onItemTextChange,N=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,N,c.value,c.disabled)}),j=h==null?void 0:h.textContent,x=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:j},c.value),[c.disabled,c.value,j]),{onNativeOptionAdd:g,onNativeOptionRemove:C}=d;return Xt(()=>(g(x),()=>C(x)),[g,C,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ie.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vo.createPortal(a.children,o.valueNode):null]})});jT.displayName=xd;var bT="SelectItemIndicator",NT=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return yT(bT,n).isSelected?s.jsx(Ie.span,{"aria-hidden":!0,...r,ref:t}):null});NT.displayName=bT;var Iv="SelectScrollUpButton",_T=p.forwardRef((e,t)=>{const n=Oa(Iv,e.__scopeSelect),r=$w(Iv,e.__scopeSelect),[i,a]=p.useState(!1),o=tt(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(CT,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_T.displayName=Iv;var Rv="SelectScrollDownButton",ST=p.forwardRef((e,t)=>{const n=Oa(Rv,e.__scopeSelect),r=$w(Rv,e.__scopeSelect),[i,a]=p.useState(!1),o=tt(t,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(CT,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ST.displayName=Rv;var CT=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Oa("SelectScrollButton",n),o=p.useRef(null),l=rp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Xt(()=>{var h;const d=l().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ie.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ge(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(i.onPointerLeave,()=>{c()})})}),QV="SelectSeparator",kT=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ie.div,{"aria-hidden":!0,...r,ref:t})});kT.displayName=QV;var Dv="SelectArrow",XV=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=sp(n),a=Ma(Dv,n),o=Oa(Dv,n);return a.open&&o.position==="popper"?s.jsx(Um,{...i,...r,ref:t}):null});XV.displayName=Dv;var ZV="SelectBubbleInput",ET=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=p.useRef(null),a=tt(r,i),o=YE(t);return p.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const m=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(m)}},[o,t]),s.jsx(Ie.select,{...n,style:{...ek,...n.style},ref:a,defaultValue:t})});ET.displayName=ZV;function TT(e){return e===""||e===void 0}function PT(e){const t=$n(e),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function AT(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=JV(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function JV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var e7=sT,IT=aT,t7=lT,n7=cT,r7=dT,RT=uT,s7=pT,DT=vT,MT=wT,i7=jT,a7=NT,OT=_T,FT=ST,LT=kT;const yn=e7,wn=t7,mn=p.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(IT,{ref:r,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(n7,{asChild:!0,children:s.jsx(_k,{className:"h-4 w-4 opacity-50"})})]}));mn.displayName=IT.displayName;const $T=p.forwardRef(({className:e,...t},n)=>s.jsx(OT,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(BO,{className:"h-4 w-4"})}));$T.displayName=OT.displayName;const UT=p.forwardRef(({className:e,...t},n)=>s.jsx(FT,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(_k,{className:"h-4 w-4"})}));UT.displayName=FT.displayName;const pn=p.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(r7,{children:s.jsxs(RT,{ref:i,className:ve("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx($T,{}),s.jsx(s7,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(UT,{})]})}));pn.displayName=RT.displayName;const o7=p.forwardRef(({className:e,...t},n)=>s.jsx(DT,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));o7.displayName=DT.displayName;const te=p.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(MT,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(a7,{children:s.jsx(Nk,{className:"h-4 w-4"})})}),s.jsx(i7,{children:t})]}));te.displayName=MT.displayName;const l7=p.forwardRef(({className:e,...t},n)=>s.jsx(LT,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));l7.displayName=LT.displayName;const c7=Eu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),On=p.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ve(c7({variant:t}),e),...n}));On.displayName="Alert";const d7=p.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));d7.displayName="AlertTitle";const Fn=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));Fn.displayName="AlertDescription";function u7({userEmail:e,socialAuthData:t,onComplete:n,isLoading:r=!1}){var m,f;const[i,a]=p.useState(""),{toast:o}=bn(),l=((m=t.displayName)==null?void 0:m.split(" ")[0])||"",c=((f=t.displayName)==null?void 0:f.split(" ").slice(1).join(" "))||"",d=TU({resolver:RU(kE),defaultValues:{firstName:l,lastName:c,userName:"",country:"",phone:"",gender:""}}),h=async j=>{try{a(""),await n(j),o({title:"Account setup complete!",description:"Welcome to your account."})}catch(x){console.error("Social auth completion failed:",x);const g=(x==null?void 0:x.message)||"Failed to complete account setup. Please try again.";a(g),o({variant:"destructive",title:"Setup failed",description:g})}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-6 md:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 overflow-hidden",children:[t.photoURL?s.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:j=>{var g;const x=j.target;x.style.display="none",(g=x.nextElementSibling)==null||g.classList.remove("hidden")}}):null,s.jsx(Sk,{className:`h-8 w-8 text-primary ${t.photoURL?"hidden":""}`})]}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Just a few more details to finish setting up your account"}),s.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Signed in as: ",e]})]}),s.jsxs(se,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm","data-testid":"card-social-auth-complete",children:[s.jsx(le,{className:"pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Setup your profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose your unique username to complete your account"})]})}),s.jsxs(ie,{className:"space-y-6 pb-8",children:[i&&s.jsx(On,{variant:"destructive",className:"mb-4","data-testid":"alert-submit-error",children:s.jsx(Fn,{children:i})}),s.jsx(FU,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-6","data-testid":"form-social-auth-complete",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(nl,{control:d.control,name:"firstName",render:({field:j})=>s.jsxs(qa,{children:[s.jsx(Ka,{children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{...j,placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-firstName"})]})}),s.jsx(Ga,{})]})}),s.jsx(nl,{control:d.control,name:"lastName",render:({field:j})=>s.jsxs(qa,{children:[s.jsx(Ka,{children:s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{...j,placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-lastName"})]})}),s.jsx(Ga,{})]})})]}),s.jsx(nl,{control:d.control,name:"userName",render:({field:j})=>s.jsxs(qa,{children:[s.jsx(Ka,{children:s.jsxs("div",{className:"relative",children:[s.jsx(VO,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{...j,placeholder:"Choose your unique username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-userName"})]})}),s.jsx(Ga,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(nl,{control:d.control,name:"country",render:({field:j})=>s.jsxs(qa,{children:[s.jsxs(yn,{name:j.name,onValueChange:j.onChange,value:j.value,disabled:r,children:[s.jsx(Ka,{children:s.jsx(mn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-country",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(YO,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(wn,{placeholder:"Select Country"})]})})}),s.jsxs(pn,{className:"max-h-60",children:[s.jsx(te,{value:"Afghanistan",children:"Afghanistan"}),s.jsx(te,{value:"Albania",children:"Albania"}),s.jsx(te,{value:"Algeria",children:"Algeria"}),s.jsx(te,{value:"Argentina",children:"Argentina"}),s.jsx(te,{value:"Australia",children:"Australia"}),s.jsx(te,{value:"Austria",children:"Austria"}),s.jsx(te,{value:"Bangladesh",children:"Bangladesh"}),s.jsx(te,{value:"Belgium",children:"Belgium"}),s.jsx(te,{value:"Brazil",children:"Brazil"}),s.jsx(te,{value:"Canada",children:"Canada"}),s.jsx(te,{value:"Chile",children:"Chile"}),s.jsx(te,{value:"China",children:"China"}),s.jsx(te,{value:"Colombia",children:"Colombia"}),s.jsx(te,{value:"Denmark",children:"Denmark"}),s.jsx(te,{value:"Egypt",children:"Egypt"}),s.jsx(te,{value:"Ethiopia",children:"Ethiopia"}),s.jsx(te,{value:"Finland",children:"Finland"}),s.jsx(te,{value:"France",children:"France"}),s.jsx(te,{value:"Germany",children:"Germany"}),s.jsx(te,{value:"Ghana",children:"Ghana"}),s.jsx(te,{value:"Greece",children:"Greece"}),s.jsx(te,{value:"India",children:"India"}),s.jsx(te,{value:"Indonesia",children:"Indonesia"}),s.jsx(te,{value:"Iran",children:"Iran"}),s.jsx(te,{value:"Iraq",children:"Iraq"}),s.jsx(te,{value:"Ireland",children:"Ireland"}),s.jsx(te,{value:"Israel",children:"Israel"}),s.jsx(te,{value:"Italy",children:"Italy"}),s.jsx(te,{value:"Japan",children:"Japan"}),s.jsx(te,{value:"Jordan",children:"Jordan"}),s.jsx(te,{value:"Kenya",children:"Kenya"}),s.jsx(te,{value:"Malaysia",children:"Malaysia"}),s.jsx(te,{value:"Mexico",children:"Mexico"}),s.jsx(te,{value:"Morocco",children:"Morocco"}),s.jsx(te,{value:"Netherlands",children:"Netherlands"}),s.jsx(te,{value:"New Zealand",children:"New Zealand"}),s.jsx(te,{value:"Nigeria",children:"Nigeria"}),s.jsx(te,{value:"Norway",children:"Norway"}),s.jsx(te,{value:"Pakistan",children:"Pakistan"}),s.jsx(te,{value:"Philippines",children:"Philippines"}),s.jsx(te,{value:"Poland",children:"Poland"}),s.jsx(te,{value:"Portugal",children:"Portugal"}),s.jsx(te,{value:"Russia",children:"Russia"}),s.jsx(te,{value:"Saudi Arabia",children:"Saudi Arabia"}),s.jsx(te,{value:"Singapore",children:"Singapore"}),s.jsx(te,{value:"South Africa",children:"South Africa"}),s.jsx(te,{value:"South Korea",children:"South Korea"}),s.jsx(te,{value:"Spain",children:"Spain"}),s.jsx(te,{value:"Sweden",children:"Sweden"}),s.jsx(te,{value:"Switzerland",children:"Switzerland"}),s.jsx(te,{value:"Thailand",children:"Thailand"}),s.jsx(te,{value:"Turkey",children:"Turkey"}),s.jsx(te,{value:"Ukraine",children:"Ukraine"}),s.jsx(te,{value:"United Arab Emirates",children:"United Arab Emirates"}),s.jsx(te,{value:"United Kingdom",children:"United Kingdom"}),s.jsx(te,{value:"United States",children:"United States"}),s.jsx(te,{value:"Venezuela",children:"Venezuela"}),s.jsx(te,{value:"Vietnam",children:"Vietnam"})]})]}),s.jsx(Ga,{})]})}),s.jsx(nl,{control:d.control,name:"phone",render:({field:j})=>s.jsxs(qa,{children:[s.jsx(Ka,{children:s.jsxs("div",{className:"relative",children:[s.jsx(tF,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{...j,placeholder:"Phone Number (optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-phone",type:"tel"})]})}),s.jsx(Ga,{})]})})]}),s.jsx(nl,{control:d.control,name:"gender",render:({field:j})=>s.jsxs(qa,{children:[s.jsxs(yn,{onValueChange:j.onChange,defaultValue:j.value,disabled:r,children:[s.jsx(Ka,{children:s.jsx(mn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-gender",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(wn,{placeholder:"Select Gender (optional)"})]})})}),s.jsxs(pn,{children:[s.jsx(te,{value:"male",children:"Male"}),s.jsx(te,{value:"female",children:"Female"}),s.jsx(te,{value:"other",children:"Other"}),s.jsx(te,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),s.jsx(Ga,{})]})}),s.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium h-12 text-lg",disabled:r,"data-testid":"button-complete-setup",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent mr-3"}),"Setting up your account..."]}):"Complete Setup"})]})})]})]})]})]})}function Og(){const[,e]=Zt(),{user:t,checkAuth:n,logout:r}=Da(),{settings:i}=Ho(),{toast:a}=bn(),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,m]=p.useState(!1),[f,j]=p.useState(!1);p.useEffect(()=>{i.demoMode&&(l("admin@gmail.com"),d("123456"))},[i.demoMode]),p.useEffect(()=>{t!=null&&t.admin&&e("/admin")},[t==null?void 0:t.admin,e]);const x=async()=>{j(!0);try{await r(),a({title:"Logged Out",description:"You can now login as an admin"}),await n()}catch(C){a({title:"Logout Failed",description:C.message||"Failed to logout",variant:"destructive"})}finally{j(!1)}};if(t&&!t.admin)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(rv,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(se,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[s.jsx(le,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(ce,{className:"text-xl font-semibold text-foreground",children:"Already Logged In"})})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("p",{className:"text-muted-foreground",children:["You are currently logged in as ",s.jsx("span",{className:"font-medium text-foreground",children:t.email})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To access the admin portal, please logout from your current account first."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(X,{onClick:x,className:"w-full",disabled:f,"data-testid":"button-logout-to-admin",children:f?s.jsxs(s.Fragment,{children:[s.jsx(UN,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging out..."]}):"Logout to Continue"}),s.jsx(X,{onClick:()=>e("/"),variant:"outline",className:"w-full",disabled:f,"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})]})]})]});const g=async C=>{C.preventDefault(),m(!0);try{const N=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c}),credentials:"include"}),v=await N.json();if(!N.ok||!v.success)throw new Error(v.message||v.error||"Admin login failed");if(!v.data)throw new Error("Invalid response: missing user data");const S=v.data._id||v.data.id;if(!S)throw new Error("Invalid response: missing user ID");localStorage.setItem("userId",S),localStorage.setItem("user",JSON.stringify({id:S,email:v.data.email||o,firstName:v.data.firstName||"",lastName:v.data.lastName||"",profilePhoto:v.data.profilePhoto||"",userName:v.data.userName||v.data.email||o,country:v.data.country||"",phone:v.data.phone||"",seller:v.data.seller||!1,admin:!0,authProvider:"email"})),v.accessToken&&localStorage.setItem("adminAccessToken",v.accessToken),await n(),a({title:"Admin Login Successful",description:"Welcome to the admin dashboard"}),e("/admin")}catch(N){a({title:"Login Failed",description:N.message||"Invalid credentials",variant:"destructive"})}finally{m(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(rv,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(se,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm relative",children:[h&&s.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-lg","data-testid":"loading-overlay",children:[s.jsx(UN,{className:"h-8 w-8 animate-spin text-primary mb-4"}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-foreground",children:"Signing you in..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin credentials"})]})]}),s.jsx(le,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(ce,{className:"text-xl font-semibold text-foreground",children:"Admin Login"})})}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"email",type:"email",placeholder:"Admin Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:o,onChange:C=>l(C.target.value),required:!0,disabled:h,"data-testid":"input-admin-email"})]})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"password",type:"password",placeholder:"Password",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:c,onChange:C=>d(C.target.value),required:!0,disabled:h,"data-testid":"input-admin-password"})]})}),s.jsx(X,{type:"submit",className:"w-full",disabled:h,"data-testid":"button-admin-login",children:h?"Signing in...":"Sign In as Admin"}),i.demoMode&&s.jsx("div",{className:"mt-4 p-3 bg-primary/10 border border-primary/20 rounded-md","data-testid":"demo-credentials",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xo,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Demo Mode Enabled"}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-0.5",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," admin@gmail.com"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Password:"})," 123456"]})]})]})]})})]})})]})]})]})}function h7(){var l;const[,e]=Zt(),{toast:t}=bn(),{settings:n}=Ho(),[r,i]=p.useState({email:"",password:"",confirmPassword:"",username:"admin",full_name:"Admin"}),a=Dt({mutationFn:async c=>{const d=await fetch("/api/admin/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),credentials:"include"});if(!d.ok){const h=await d.json().catch(()=>({error:"Failed to create admin"}));throw new Error(h.error||h.message||"Failed to create admin")}return d.json()},onSuccess:async c=>{console.log("Admin created successfully:",c),t({title:"Admin account created!",description:"Verifying setup..."}),await new Promise(d=>setTimeout(d,1e3));try{const h=await(await fetch("/api/admin/exists",{credentials:"include"})).json();h.success&&h.exists?(t({title:"Setup complete!",description:"Redirecting to login page..."}),await new Promise(m=>setTimeout(m,800)),e("/admin/login")):(t({title:"Admin created",description:"Please try logging in.",variant:"default"}),await new Promise(m=>setTimeout(m,500)),e("/admin/login"))}catch(d){console.error("Error checking admin existence:",d),await new Promise(h=>setTimeout(h,500)),e("/admin/login")}},onError:c=>{t({title:"Setup failed",description:c.message||"Failed to create admin account. Please try again.",variant:"destructive"})}}),o=c=>{if(c.preventDefault(),!r.email||!r.password){t({title:"Missing fields",description:"Email and password are required.",variant:"destructive"});return}if(r.password!==r.confirmPassword){t({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(r.password.length<6){t({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}a.mutate({email:r.email,password:r.password,username:r.username,full_name:r.full_name,role:"admin"})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(se,{children:[s.jsxs(le,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:s.jsx(rv,{className:"h-12 w-12 text-primary"})})}),s.jsx(ce,{className:"text-2xl",children:"Admin Setup"}),s.jsx(Re,{className:"text-center max-w-md mx-auto mt-2",children:"This is a one-time setup. Create your first administrator account to access the platform."})]}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"full_name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"full_name",type:"text",value:r.full_name,onChange:c=>i({...r,full_name:c.target.value}),placeholder:"Admin",className:"pl-10","data-testid":"input-setup-fullname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"username",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(ur,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"username",type:"text",value:r.username,onChange:c=>i({...r,username:c.target.value}),placeholder:"admin",className:"pl-10","data-testid":"input-setup-username"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{htmlFor:"email",children:["Email Address ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Dm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"email",type:"email",value:r.email,onChange:c=>i({...r,email:c.target.value}),placeholder:"admin@example.com",className:"pl-10",required:!0,"data-testid":"input-setup-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{htmlFor:"password",children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"password",type:"password",value:r.password,onChange:c=>i({...r,password:c.target.value}),placeholder:"Min 6 characters",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-password"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{htmlFor:"confirmPassword",children:["Confirm Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:c=>i({...r,confirmPassword:c.target.value}),placeholder:"Confirm password",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-confirm-password"})]})]})]}),a.isError&&s.jsxs(On,{variant:"destructive",children:[s.jsx(Df,{className:"h-4 w-4"}),s.jsx(Fn,{children:((l=a.error)==null?void 0:l.message)||"Failed to create admin account. Please try again."})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:a.isPending,"data-testid":"button-setup-submit",children:a.isPending?"Creating Account...":"Create Admin Account"})]})})]})})})}const f7=[{section:"User Management",items:[{name:"Users",href:"/admin/users",icon:Cs},{name:"Reported Cases",href:"/admin/reported-cases",icon:nv}]},{section:"Commerce",items:[{name:"Inventory",href:"/admin/inventory",icon:Kt},{name:"Orders",href:"/admin/orders",icon:fa},{name:"Disputes",href:"/admin/disputes",icon:Tl},{name:"Transactions",href:"/admin/transactions",icon:ac},{name:"Payouts",href:"/admin/payouts",icon:tv}]},{section:"Platform",items:[{name:"Revenue",href:"/admin/application-fees",icon:qO},{name:"Categories",href:"/admin/categories",icon:GO},{name:"Shows",href:"/admin/shows",icon:oc},{name:"Emails",href:"/admin/emails",icon:Dm}]},{section:"Account",items:[{name:"Profile",href:"/admin/profile",icon:Sk},{name:"Settings",href:"/admin/settings",icon:Qy}]}];function m7({isOpen:e,onClose:t}){const[n]=Zt(),{data:r}=Ze({queryKey:["/api/admin/settings"]}),i=(r==null?void 0:r.data)||r;return i!=null&&i.app_name,s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t,"data-testid":"sidebar-overlay"}),s.jsxs("div",{className:ve("flex flex-col w-64 bg-card border-r border-border h-full transition-transform duration-300 ease-in-out","lg:relative lg:translate-x-0","fixed inset-y-0 left-0 z-50",e?"translate-x-0":"-translate-x-full"),children:[s.jsx("div",{className:"lg:hidden flex justify-end p-3 border-b border-border",children:s.jsx(X,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-close-sidebar",children:s.jsx(Er,{className:"h-5 w-5"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:f7.map((a,o)=>s.jsxs("div",{children:[s.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:a.section}),s.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const c=l.icon,d=n===l.href;return s.jsx(kl,{href:l.href,children:s.jsxs(X,{variant:d?"secondary":"ghost",className:ve("w-full justify-start",d&&"bg-primary/10 text-primary hover:bg-primary/20 hover:text-primary"),onClick:t,"data-testid":`link-admin-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(c,{className:"h-4 w-4 mr-3"}),l.name]})},l.href)})})]},o))})]})]})}const p7=Eu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return s.jsx("div",{className:ve(p7({variant:t}),e),...n})}function g7(){return SC.useSyncExternalStore(x7,()=>!0,()=>!1)}function x7(){return()=>{}}var Uw="Avatar",[v7]=tr(Uw),[y7,VT]=v7(Uw),zT=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=p.useState("idle");return s.jsx(y7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Ie.span,{...r,ref:t})})});zT.displayName=Uw;var BT="AvatarImage",WT=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=VT(BT,n),l=w7(r,a),c=$n(d=>{i(d),o.onImageLoadingStatusChange(d)});return Xt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ie.img,{...a,ref:t,src:r}):null});WT.displayName=BT;var HT="AvatarFallback",qT=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=VT(HT,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Ie.span,{...i,ref:t}):null});qT.displayName=HT;function F_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function w7(e,{referrerPolicy:t,crossOrigin:n}){const r=g7(),i=p.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=p.useState(()=>F_(a,e));return Xt(()=>{l(F_(a,e))},[a,e]),Xt(()=>{const c=m=>()=>{l(m)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,n,t]),o}var KT=zT,GT=WT,YT=qT;const Yr=p.forwardRef(({className:e,...t},n)=>s.jsx(KT,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Yr.displayName=KT.displayName;const Qr=p.forwardRef(({className:e,...t},n)=>s.jsx(GT,{ref:n,className:ve("aspect-square h-full w-full",e),...t}));Qr.displayName=GT.displayName;const Xr=p.forwardRef(({className:e,...t},n)=>s.jsx(YT,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Xr.displayName=YT.displayName;var Fg="rovingFocusGroup.onEntryFocus",j7={bubbles:!1,cancelable:!0},Uu="RovingFocusGroup",[Mv,QT,b7]=Am(Uu),[N7,ip]=tr(Uu,[b7]),[_7,S7]=N7(Uu),XT=p.forwardRef((e,t)=>s.jsx(Mv.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Mv.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(C7,{...e,ref:t})})}));XT.displayName=Uu;var C7=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=e,f=p.useRef(null),j=tt(t,f),x=Zm(a),[g,C]=hi({prop:o,defaultProp:l??null,onChange:c,caller:Uu}),[N,v]=p.useState(!1),S=$n(d),w=QT(n),A=p.useRef(!1),[M,E]=p.useState(0);return p.useEffect(()=>{const b=f.current;if(b)return b.addEventListener(Fg,S),()=>b.removeEventListener(Fg,S)},[S]),s.jsx(_7,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:g,onItemFocus:p.useCallback(b=>C(b),[C]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(b=>b+1),[]),onFocusableItemRemove:p.useCallback(()=>E(b=>b-1),[]),children:s.jsx(Ie.div,{tabIndex:N||M===0?-1:0,"data-orientation":r,...m,ref:j,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{A.current=!0}),onFocus:ge(e.onFocus,b=>{const _=!A.current;if(b.target===b.currentTarget&&_&&!N){const R=new CustomEvent(Fg,j7);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=w().filter(z=>z.focusable),k=P.find(z=>z.active),I=P.find(z=>z.id===g),K=[k,I,...P].filter(Boolean).map(z=>z.ref.current);eP(K,h)}}A.current=!1}),onBlur:ge(e.onBlur,()=>v(!1))})})}),ZT="RovingFocusGroupItem",JT=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=Kr(),d=a||c,h=S7(ZT,n),m=h.currentTabStopId===d,f=QT(n),{onFocusableItemAdd:j,onFocusableItemRemove:x,currentTabStopId:g}=h;return p.useEffect(()=>{if(r)return j(),()=>x()},[r,j,x]),s.jsx(Mv.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:s.jsx(Ie.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,C=>{r?h.onItemFocus(d):C.preventDefault()}),onFocus:ge(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:ge(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const N=T7(C,h.orientation,h.dir);if(N!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let S=f().filter(w=>w.focusable).map(w=>w.ref.current);if(N==="last")S.reverse();else if(N==="prev"||N==="next"){N==="prev"&&S.reverse();const w=S.indexOf(C.currentTarget);S=h.loop?P7(S,w+1):S.slice(w+1)}setTimeout(()=>eP(S))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:g!=null}):o})})});JT.displayName=ZT;var k7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function T7(e,t,n){const r=E7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k7[r]}function eP(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function P7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tP=XT,nP=JT,Ov=["Enter"," "],A7=["ArrowDown","PageUp","Home"],rP=["ArrowUp","PageDown","End"],I7=[...A7,...rP],R7={ltr:[...Ov,"ArrowRight"],rtl:[...Ov,"ArrowLeft"]},D7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vu="Menu",[mu,M7,O7]=Am(Vu),[qo,sP]=tr(Vu,[O7,Ia,ip]),ap=Ia(),iP=ip(),[F7,Ko]=qo(Vu),[L7,zu]=qo(Vu),aP=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,l=ap(t),[c,d]=p.useState(null),h=p.useRef(!1),m=$n(a),f=Zm(i);return p.useEffect(()=>{const j=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(lw,{...l,children:s.jsx(F7,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:s.jsx(L7,{scope:t,onClose:p.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};aP.displayName=Vu;var $7="MenuAnchor",Vw=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ap(n);return s.jsx(Pu,{...i,...r,ref:t})});Vw.displayName=$7;var zw="MenuPortal",[U7,oP]=qo(zw,{forceMount:void 0}),lP=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Ko(zw,t);return s.jsx(U7,{scope:t,forceMount:n,children:s.jsx(xr,{present:n||a.open,children:s.jsx(kc,{asChild:!0,container:i,children:r})})})};lP.displayName=zw;var Sr="MenuContent",[V7,Bw]=qo(Sr),cP=p.forwardRef((e,t)=>{const n=oP(Sr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Ko(Sr,e.__scopeMenu),o=zu(Sr,e.__scopeMenu);return s.jsx(mu.Provider,{scope:e.__scopeMenu,children:s.jsx(xr,{present:r||a.open,children:s.jsx(mu.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(z7,{...i,ref:t}):s.jsx(B7,{...i,ref:t})})})})}),z7=p.forwardRef((e,t)=>{const n=Ko(Sr,e.__scopeMenu),r=p.useRef(null),i=tt(t,r);return p.useEffect(()=>{const a=r.current;if(a)return ep(a)},[]),s.jsx(Ww,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),B7=p.forwardRef((e,t)=>{const n=Ko(Sr,e.__scopeMenu);return s.jsx(Ww,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),W7=wa("MenuContent.ScrollLock"),Ww=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,onDismiss:j,disableOutsideScroll:x,...g}=e,C=Ko(Sr,n),N=zu(Sr,n),v=ap(n),S=iP(n),w=M7(n),[A,M]=p.useState(null),E=p.useRef(null),b=tt(t,E,C.onContentChange),_=p.useRef(0),R=p.useRef(""),P=p.useRef(0),k=p.useRef(null),I=p.useRef("right"),O=p.useRef(0),K=x?$u:p.Fragment,z=x?{as:W7,allowPinchZoom:!0}:void 0,V=B=>{var me,Be;const ee=R.current+B,ne=w().filter(Ue=>!Ue.disabled),W=document.activeElement,ue=(me=ne.find(Ue=>Ue.ref.current===W))==null?void 0:me.textValue,ae=ne.map(Ue=>Ue.textValue),Le=nz(ae,ee,ue),We=(Be=ne.find(Ue=>Ue.textValue===Le))==null?void 0:Be.ref.current;(function Ue(H){R.current=H,window.clearTimeout(_.current),H!==""&&(_.current=window.setTimeout(()=>Ue(""),1e3))})(ee),We&&setTimeout(()=>We.focus())};p.useEffect(()=>()=>window.clearTimeout(_.current),[]),Jm();const F=p.useCallback(B=>{var ne,W;return I.current===((ne=k.current)==null?void 0:ne.side)&&sz(B,(W=k.current)==null?void 0:W.area)},[]);return s.jsx(V7,{scope:n,searchRef:R,onItemEnter:p.useCallback(B=>{F(B)&&B.preventDefault()},[F]),onItemLeave:p.useCallback(B=>{var ee;F(B)||((ee=E.current)==null||ee.focus(),M(null))},[F]),onTriggerLeave:p.useCallback(B=>{F(B)&&B.preventDefault()},[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(B=>{k.current=B},[]),children:s.jsx(K,{...z,children:s.jsx(Lu,{asChild:!0,trapped:i,onMountAutoFocus:ge(a,B=>{var ee;B.preventDefault(),(ee=E.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,onDismiss:j,children:s.jsx(tP,{asChild:!0,...S,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:M,onEntryFocus:ge(c,B=>{N.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx($m,{role:"menu","aria-orientation":"vertical","data-state":SP(C.open),"data-radix-menu-content":"",dir:N.dir,...v,...g,ref:b,style:{outline:"none",...g.style},onKeyDown:ge(g.onKeyDown,B=>{const ne=B.target.closest("[data-radix-menu-content]")===B.currentTarget,W=B.ctrlKey||B.altKey||B.metaKey,ue=B.key.length===1;ne&&(B.key==="Tab"&&B.preventDefault(),!W&&ue&&V(B.key));const ae=E.current;if(B.target!==ae||!I7.includes(B.key))return;B.preventDefault();const We=w().filter(me=>!me.disabled).map(me=>me.ref.current);rP.includes(B.key)&&We.reverse(),ez(We)}),onBlur:ge(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(_.current),R.current="")}),onPointerMove:ge(e.onPointerMove,pu(B=>{const ee=B.target,ne=O.current!==B.clientX;if(B.currentTarget.contains(ee)&&ne){const W=B.clientX>O.current?"right":"left";I.current=W,O.current=B.clientX}}))})})})})})})});cP.displayName=Sr;var H7="MenuGroup",Hw=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ie.div,{role:"group",...r,ref:t})});Hw.displayName=H7;var q7="MenuLabel",dP=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ie.div,{...r,ref:t})});dP.displayName=q7;var om="MenuItem",L_="menu.itemSelect",op=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=p.useRef(null),o=zu(om,e.__scopeMenu),l=Bw(om,e.__scopeMenu),c=tt(t,a),d=p.useRef(!1),h=()=>{const m=a.current;if(!n&&m){const f=new CustomEvent(L_,{bubbles:!0,cancelable:!0});m.addEventListener(L_,j=>r==null?void 0:r(j),{once:!0}),Wy(m,f),f.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(uP,{...i,ref:c,disabled:n,onClick:ge(e.onClick,h),onPointerDown:m=>{var f;(f=e.onPointerDown)==null||f.call(e,m),d.current=!0},onPointerUp:ge(e.onPointerUp,m=>{var f;d.current||(f=m.currentTarget)==null||f.click()}),onKeyDown:ge(e.onKeyDown,m=>{const f=l.searchRef.current!=="";n||f&&m.key===" "||Ov.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});op.displayName=om;var uP=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=Bw(om,n),l=iP(n),c=p.useRef(null),d=tt(t,c),[h,m]=p.useState(!1),[f,j]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&j((x.textContent??"").trim())},[a.children]),s.jsx(mu.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:s.jsx(nP,{asChild:!0,...l,focusable:!r,children:s.jsx(Ie.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:ge(e.onPointerMove,pu(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,pu(x=>o.onItemLeave(x))),onFocus:ge(e.onFocus,()=>m(!0)),onBlur:ge(e.onBlur,()=>m(!1))})})})}),K7="MenuCheckboxItem",hP=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(xP,{scope:e.__scopeMenu,checked:n,children:s.jsx(op,{role:"menuitemcheckbox","aria-checked":lm(n)?"mixed":n,...i,ref:t,"data-state":Kw(n),onSelect:ge(i.onSelect,()=>r==null?void 0:r(lm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hP.displayName=K7;var fP="MenuRadioGroup",[G7,Y7]=qo(fP,{value:void 0,onValueChange:()=>{}}),mP=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=$n(r);return s.jsx(G7,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(Hw,{...i,ref:t})})});mP.displayName=fP;var pP="MenuRadioItem",gP=p.forwardRef((e,t)=>{const{value:n,...r}=e,i=Y7(pP,e.__scopeMenu),a=n===i.value;return s.jsx(xP,{scope:e.__scopeMenu,checked:a,children:s.jsx(op,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Kw(a),onSelect:ge(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});gP.displayName=pP;var qw="MenuItemIndicator",[xP,Q7]=qo(qw,{checked:!1}),vP=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=Q7(qw,n);return s.jsx(xr,{present:r||lm(a.checked)||a.checked===!0,children:s.jsx(Ie.span,{...i,ref:t,"data-state":Kw(a.checked)})})});vP.displayName=qw;var X7="MenuSeparator",yP=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});yP.displayName=X7;var Z7="MenuArrow",wP=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ap(n);return s.jsx(Um,{...i,...r,ref:t})});wP.displayName=Z7;var J7="MenuSub",[rK,jP]=qo(J7),vd="MenuSubTrigger",bP=p.forwardRef((e,t)=>{const n=Ko(vd,e.__scopeMenu),r=zu(vd,e.__scopeMenu),i=jP(vd,e.__scopeMenu),a=Bw(vd,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(Vw,{asChild:!0,...d,children:s.jsx(uP,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":SP(n.open),...e,ref:Pm(t,i.onTriggerChange),onClick:m=>{var f;(f=e.onClick)==null||f.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,pu(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ge(e.onPointerLeave,pu(m=>{var j,x;h();const f=(j=n.content)==null?void 0:j.getBoundingClientRect();if(f){const g=(x=n.content)==null?void 0:x.dataset.side,C=g==="right",N=C?-5:5,v=f[C?"left":"right"],S=f[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+N,y:m.clientY},{x:v,y:f.top},{x:S,y:f.top},{x:S,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,m=>{var j;const f=a.searchRef.current!=="";e.disabled||f&&m.key===" "||R7[r.dir].includes(m.key)&&(n.onOpenChange(!0),(j=n.content)==null||j.focus(),m.preventDefault())})})})});bP.displayName=vd;var NP="MenuSubContent",_P=p.forwardRef((e,t)=>{const n=oP(Sr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Ko(Sr,e.__scopeMenu),o=zu(Sr,e.__scopeMenu),l=jP(NP,e.__scopeMenu),c=p.useRef(null),d=tt(t,c);return s.jsx(mu.Provider,{scope:e.__scopeMenu,children:s.jsx(xr,{present:r||a.open,children:s.jsx(mu.Slot,{scope:e.__scopeMenu,children:s.jsx(Ww,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ge(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ge(e.onKeyDown,h=>{var j;const m=h.currentTarget.contains(h.target),f=D7[o.dir].includes(h.key);m&&f&&(a.onOpenChange(!1),(j=l.trigger)==null||j.focus(),h.preventDefault())})})})})})});_P.displayName=NP;function SP(e){return e?"open":"closed"}function lm(e){return e==="indeterminate"}function Kw(e){return lm(e)?"indeterminate":e?"checked":"unchecked"}function ez(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function tz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function nz(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=tz(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function rz(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,h=l.y,m=c.x,f=c.y;h>r!=f>r&&n<(m-d)*(r-h)/(f-h)+d&&(i=!i)}return i}function sz(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return rz(n,t)}function pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var iz=aP,az=Vw,oz=lP,lz=cP,cz=Hw,dz=dP,uz=op,hz=hP,fz=mP,mz=gP,pz=vP,gz=yP,xz=wP,vz=bP,yz=_P,lp="DropdownMenu",[wz]=tr(lp,[sP]),Bn=sP(),[jz,CP]=wz(lp),kP=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Bn(t),d=p.useRef(null),[h,m]=hi({prop:i,defaultProp:a??!1,onChange:o,caller:lp});return s.jsx(jz,{scope:t,triggerId:Kr(),triggerRef:d,contentId:Kr(),open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(f=>!f),[m]),modal:l,children:s.jsx(iz,{...c,open:h,onOpenChange:m,dir:r,modal:l,children:n})})};kP.displayName=lp;var EP="DropdownMenuTrigger",TP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=CP(EP,n),o=Bn(n);return s.jsx(az,{asChild:!0,...o,children:s.jsx(Ie.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Pm(t,a.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});TP.displayName=EP;var bz="DropdownMenuPortal",PP=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Bn(t);return s.jsx(oz,{...r,...n})};PP.displayName=bz;var AP="DropdownMenuContent",IP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=CP(AP,n),a=Bn(n),o=p.useRef(!1);return s.jsx(lz,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IP.displayName=AP;var Nz="DropdownMenuGroup",_z=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(cz,{...i,...r,ref:t})});_z.displayName=Nz;var Sz="DropdownMenuLabel",RP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(dz,{...i,...r,ref:t})});RP.displayName=Sz;var Cz="DropdownMenuItem",DP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(uz,{...i,...r,ref:t})});DP.displayName=Cz;var kz="DropdownMenuCheckboxItem",MP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(hz,{...i,...r,ref:t})});MP.displayName=kz;var Ez="DropdownMenuRadioGroup",Tz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(fz,{...i,...r,ref:t})});Tz.displayName=Ez;var Pz="DropdownMenuRadioItem",OP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(mz,{...i,...r,ref:t})});OP.displayName=Pz;var Az="DropdownMenuItemIndicator",FP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(pz,{...i,...r,ref:t})});FP.displayName=Az;var Iz="DropdownMenuSeparator",LP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(gz,{...i,...r,ref:t})});LP.displayName=Iz;var Rz="DropdownMenuArrow",Dz=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(xz,{...i,...r,ref:t})});Dz.displayName=Rz;var Mz="DropdownMenuSubTrigger",$P=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(vz,{...i,...r,ref:t})});$P.displayName=Mz;var Oz="DropdownMenuSubContent",UP=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Bn(n);return s.jsx(yz,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UP.displayName=Oz;var Fz=kP,Lz=TP,$z=PP,VP=IP,zP=RP,BP=DP,WP=MP,HP=OP,qP=FP,KP=LP,GP=$P,YP=UP;const Go=Fz,Yo=Lz,Uz=p.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(GP,{ref:i,className:ve("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(As,{className:"ml-auto"})]}));Uz.displayName=GP.displayName;const Vz=p.forwardRef(({className:e,...t},n)=>s.jsx(YP,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Vz.displayName=YP.displayName;const Fa=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx($z,{children:s.jsx(VP,{ref:r,sideOffset:t,className:ve("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Fa.displayName=VP.displayName;const hn=p.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(BP,{ref:r,className:ve("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));hn.displayName=BP.displayName;const zz=p.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(WP,{ref:i,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qP,{children:s.jsx(Nk,{className:"h-4 w-4"})})}),t]}));zz.displayName=WP.displayName;const Bz=p.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(HP,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qP,{children:s.jsx(HO,{className:"h-2 w-2 fill-current"})})}),t]}));Bz.displayName=HP.displayName;const QP=p.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(zP,{ref:r,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));QP.displayName=zP.displayName;const wi=p.forwardRef(({className:e,...t},n)=>s.jsx(KP,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));wi.displayName=KP.displayName;function He({children:e}){const{user:t,logout:n}=Da(),{settings:r}=Ho(),[,i]=Zt(),[a,o]=p.useState(!1),l=async()=>{await n(),i("/admin/login")},c=()=>t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName[0]}${t.lastName[0]}`.toUpperCase():t!=null&&t.firstName?t.firstName[0].toUpperCase():t!=null&&t.email?t.email[0].toUpperCase():"A";return s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"bg-card border-b border-border px-3 sm:px-6 py-3 flex justify-between items-center h-14 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"lg:hidden h-9 w-9 p-0","data-testid":"button-mobile-menu",children:s.jsx(eF,{className:"h-5 w-5"})}),s.jsx(kl,{href:"/admin","data-testid":"link-admin-home",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("div",{className:"h-7 w-7 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:r.app_name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"hidden sm:flex flex-col",children:[s.jsx("span",{className:"text-base font-bold text-foreground leading-tight",children:r.app_name}),s.jsx("span",{className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Panel"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right hidden md:block mr-2",children:[s.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-admin-email",children:t==null?void 0:t.email}),s.jsx($e,{variant:"secondary",className:"mt-0.5 text-xs",children:"Admin"})]}),t&&s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,"data-testid":"button-profile-dropdown",children:s.jsxs(Yr,{className:"h-9 w-9 cursor-pointer hover-elevate",children:[s.jsx(Qr,{src:t.profilePhoto,alt:`${t.firstName||t.email}`}),s.jsx(Xr,{className:"bg-primary text-primary-foreground text-sm font-bold",children:c()})]})}),s.jsxs(Fa,{align:"end",className:"w-56",children:[s.jsx(QP,{children:"My Account"}),s.jsx(wi,{}),s.jsx(hn,{asChild:!0,children:s.jsxs(kl,{href:"/admin/profile",className:"cursor-pointer","data-testid":"dropdown-profile",children:[s.jsx(ur,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(hn,{asChild:!0,children:s.jsxs(kl,{href:"/admin/settings",className:"cursor-pointer","data-testid":"dropdown-settings",children:[s.jsx(Qy,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(wi,{}),s.jsxs(hn,{onClick:l,className:"cursor-pointer text-destructive focus:text-destructive","data-testid":"dropdown-logout",children:[s.jsx(JO,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(m7,{isOpen:a,onClose:()=>o(!1)}),s.jsx("div",{className:"flex-1 overflow-auto",children:e})]})]})}const rn=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",e),...t})}));rn.displayName="Table";const sn=p.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",e),...t}));sn.displayName="TableHeader";const an=p.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",e),...t}));an.displayName="TableBody";const Wz=p.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Wz.displayName="TableFooter";const et=p.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));et.displayName="TableRow";const Z=p.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Z.displayName="TableHead";const J=p.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));J.displayName="TableCell";const Hz=p.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));Hz.displayName="TableCaption";function $_(){var x;const[,e]=Zt(),{user:t}=Da(),{toast:n}=bn(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{t!=null&&t.admin||e("/")},[t==null?void 0:t.admin,e]);const c=`/api/admin/users?page=${a}&limit=${l}${r?`&title=${encodeURIComponent(r)}`:""}`,{data:d,isLoading:h}=Ze({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const g=await fetch(c,{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch users");return await g.json()}}),m=((x=d==null?void 0:d.data)==null?void 0:x.users)||[],f=d!=null&&d.data?{currentPage:a,totalPages:d.data.pages,totalItems:d.data.totalDoc,hasNextPage:a<d.data.pages,hasPrevPage:a>1}:void 0,j=Dt({mutationFn:async({userId:g,blocked:C})=>mt("PATCH",`/api/admin/users/${g}/block`,{blocked:C}),onSuccess:(g,C)=>{vt.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${C.blocked?"blocked":"unblocked"} successfully`})},onError:(g,C)=>{n({title:"Error",description:g.message||`Failed to ${C.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(f==null?void 0:f.totalItems)||m.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:m.filter(g=>g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Customers"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:m.filter(g=>!g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"All Users"}),s.jsx(Re,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search users...",value:r,onChange:g=>i(g.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(ie,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):m.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{className:"min-w-[200px]",children:"User"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Email"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(Z,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(Z,{className:"text-right",children:"Wallet"}),s.jsx(Z,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:m.map(g=>{var C,N;return s.jsxs(et,{"data-testid":`row-user-${g._id||g.id}`,children:[s.jsx(J,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Yr,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Qr,{src:g.profilePhoto}),s.jsxs(Xr,{children:[(C=g.firstName)==null?void 0:C[0],(N=g.lastName)==null?void 0:N[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[g.firstName," ",g.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:g.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:g.phone||"No phone"})]})]})}),s.jsx(J,{className:"hidden md:table-cell","data-testid":`text-email-${g._id||g.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:g.email})}),s.jsx(J,{className:"hidden lg:table-cell","data-testid":`text-username-${g._id||g.id}`,children:g.userName||"N/A"}),s.jsx(J,{className:"hidden xl:table-cell",children:g.country||"N/A"}),s.jsx(J,{children:s.jsx($e,{variant:g.seller?"default":"secondary",children:g.seller?"Seller":"Customer"})}),s.jsx(J,{className:"hidden sm:table-cell",children:s.jsx($e,{variant:g.system_blocked?"destructive":"secondary","data-testid":`badge-status-${g._id||g.id}`,children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Ck,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(J,{className:"text-right","data-testid":`text-wallet-${g._id||g.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(Tk,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(g.wallet||0).toFixed(2)]})]})}),s.jsx(J,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${g._id||g.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(g.walletPending||0).toFixed(2)]})}),s.jsx(J,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm","data-testid":`button-actions-${g._id||g.id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(hn,{onClick:()=>e(`/admin/users/${g._id||g.id}`),"data-testid":`menu-view-user-${g._id||g.id}`,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(wi,{}),s.jsx(hn,{onClick:()=>{j.mutate({userId:g._id||g.id,blocked:!g.system_blocked})},disabled:j.isPending,"data-testid":`menu-block-user-${g._id||g.id}`,className:g.system_blocked?"":"text-destructive focus:text-destructive",children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gy,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},g._id||g.id)})})]})}),f&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",f.currentPage," of ",f.totalPages," (",f.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[f.currentPage," / ",f.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!f.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!f.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(As,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function qz(){var j;const[,e]=Zt(),{user:t}=Da(),{toast:n}=bn(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{t!=null&&t.admin||e("/")},[t==null?void 0:t.admin,e]);const{data:c,isLoading:d}=Ze({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const x=new URLSearchParams;x.set("page",String(a)),x.set("limit",String(l)),r&&x.set("title",r);const g=`/api/admin/users?${x.toString()}`;return await(await mt("GET",g)).json()}}),h=((j=c==null?void 0:c.data)==null?void 0:j.users)||[],m=c!=null&&c.data?{currentPage:a,totalPages:c.data.pages,totalItems:c.data.totalDoc,hasNextPage:a<c.data.pages,hasPrevPage:a>1}:void 0,f=Dt({mutationFn:async({userId:x,blocked:g})=>mt("PATCH",`/api/admin/users/${x}/block`,{blocked:g}),onSuccess:(x,g)=>{vt.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${g.blocked?"blocked":"unblocked"} successfully`})},onError:(x,g)=>{n({title:"Error",description:x.message||`Failed to ${g.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(m==null?void 0:m.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:h.filter(x=>x.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Customers"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:h.filter(x=>!x.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"All Users"}),s.jsx(Re,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search users...",value:r,onChange:x=>i(x.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(ie,{children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{className:"min-w-[200px]",children:"User"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Email"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(Z,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(Z,{className:"text-right",children:"Wallet"}),s.jsx(Z,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:h.map(x=>{var g,C;return s.jsxs(et,{"data-testid":`row-user-${x._id||x.id}`,children:[s.jsx(J,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Yr,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Qr,{src:x.profilePhoto}),s.jsxs(Xr,{children:[(g=x.firstName)==null?void 0:g[0],(C=x.lastName)==null?void 0:C[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[x.firstName," ",x.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:x.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:x.phone||"No phone"})]})]})}),s.jsx(J,{className:"hidden md:table-cell","data-testid":`text-email-${x._id||x.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:x.email})}),s.jsx(J,{className:"hidden lg:table-cell","data-testid":`text-username-${x._id||x.id}`,children:x.userName||"N/A"}),s.jsx(J,{className:"hidden xl:table-cell",children:x.country||"N/A"}),s.jsx(J,{children:s.jsx($e,{variant:x.seller?"default":"secondary",children:x.seller?"Seller":"Customer"})}),s.jsx(J,{className:"hidden sm:table-cell",children:s.jsx($e,{variant:x.system_blocked?"destructive":"secondary","data-testid":`badge-status-${x._id||x.id}`,children:x.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(Ck,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(J,{className:"text-right","data-testid":`text-wallet-${x._id||x.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(Tk,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(x.wallet||0).toFixed(2)]})]})}),s.jsx(J,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${x._id||x.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(x.walletPending||0).toFixed(2)]})}),s.jsx(J,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm","data-testid":`button-actions-${x._id||x.id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(hn,{onClick:()=>e(`/admin/users/${x._id||x.id}`),"data-testid":`menu-view-user-${x._id||x.id}`,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(wi,{}),s.jsx(hn,{onClick:()=>{f.mutate({userId:x._id||x.id,blocked:!x.system_blocked})},disabled:f.isPending,"data-testid":`menu-block-user-${x._id||x.id}`,className:x.system_blocked?"":"text-destructive focus:text-destructive",children:x.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gy,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},x._id||x.id)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(As,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}var cp="Tabs",[Kz]=tr(cp,[ip]),XP=ip(),[Gz,Gw]=Kz(cp),ZP=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,h=Zm(l),[m,f]=hi({prop:r,onChange:i,defaultProp:a??"",caller:cp});return s.jsx(Gz,{scope:n,baseId:Kr(),value:m,onValueChange:f,orientation:o,dir:h,activationMode:c,children:s.jsx(Ie.div,{dir:h,"data-orientation":o,...d,ref:t})})});ZP.displayName=cp;var JP="TabsList",eA=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=Gw(JP,n),o=XP(n);return s.jsx(tP,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Ie.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});eA.displayName=JP;var tA="TabsTrigger",nA=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=Gw(tA,n),l=XP(n),c=iA(o.baseId,r),d=aA(o.baseId,r),h=r===o.value;return s.jsx(nP,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Ie.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:ge(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:ge(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:ge(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!i&&m&&o.onValueChange(r)})})})});nA.displayName=tA;var rA="TabsContent",sA=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=Gw(rA,n),c=iA(l.baseId,r),d=aA(l.baseId,r),h=r===l.value,m=p.useRef(h);return p.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(xr,{present:i||h,children:({present:f})=>s.jsx(Ie.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&a})})});sA.displayName=rA;function iA(e,t){return`${e}-trigger-${t}`}function aA(e,t){return`${e}-content-${t}`}var Yz=ZP,oA=eA,lA=nA,cA=sA;const xc=Yz,Oo=p.forwardRef(({className:e,...t},n)=>s.jsx(oA,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Oo.displayName=oA.displayName;const St=p.forwardRef(({className:e,...t},n)=>s.jsx(lA,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=lA.displayName;const Ct=p.forwardRef(({className:e,...t},n)=>s.jsx(cA,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ct.displayName=cA.displayName;var dp="Switch",[Qz]=tr(dp),[Xz,Zz]=Qz(dp),dA=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...m}=e,[f,j]=p.useState(null),x=tt(t,S=>j(S)),g=p.useRef(!1),C=f?h||!!f.closest("form"):!0,[N,v]=hi({prop:i,defaultProp:a??!1,onChange:d,caller:dp});return s.jsxs(Xz,{scope:n,checked:N,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":mA(N),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:x,onClick:ge(e.onClick,S=>{v(w=>!w),C&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),C&&s.jsx(fA,{control:f,bubbles:!g.current,name:r,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});dA.displayName=dp;var uA="SwitchThumb",hA=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=Zz(uA,n);return s.jsx(Ie.span,{"data-state":mA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});hA.displayName=uA;var Jz="SwitchBubbleInput",fA=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=p.useRef(null),l=tt(o,a),c=YE(n),d=Zk(t);return p.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&j){const x=new Event("click",{bubbles:r});j.call(h,n),h.dispatchEvent(x)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});fA.displayName=Jz;function mA(e){return e?"checked":"unchecked"}var pA=dA,eB=hA;const Ll=p.forwardRef(({className:e,...t},n)=>s.jsx(pA,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(eB,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ll.displayName=pA.displayName;var up="Dialog",[gA,xA]=tr(up),[tB,rs]=gA(up),vA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[d,h]=hi({prop:r,defaultProp:i??!1,onChange:a,caller:up});return s.jsx(tB,{scope:t,triggerRef:l,contentRef:c,contentId:Kr(),titleId:Kr(),descriptionId:Kr(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:o,children:n})};vA.displayName=up;var yA="DialogTrigger",wA=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=rs(yA,n),a=tt(t,i.triggerRef);return s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xw(i.open),...r,ref:a,onClick:ge(e.onClick,i.onOpenToggle)})});wA.displayName=yA;var Yw="DialogPortal",[nB,jA]=gA(Yw,{forceMount:void 0}),bA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=rs(Yw,t);return s.jsx(nB,{scope:t,forceMount:n,children:p.Children.map(r,o=>s.jsx(xr,{present:n||a.open,children:s.jsx(kc,{asChild:!0,container:i,children:o})}))})};bA.displayName=Yw;var cm="DialogOverlay",NA=p.forwardRef((e,t)=>{const n=jA(cm,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=rs(cm,e.__scopeDialog);return a.modal?s.jsx(xr,{present:r||a.open,children:s.jsx(sB,{...i,ref:t})}):null});NA.displayName=cm;var rB=wa("DialogOverlay.RemoveScroll"),sB=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=rs(cm,n);return s.jsx($u,{as:rB,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ie.div,{"data-state":Xw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fo="DialogContent",_A=p.forwardRef((e,t)=>{const n=jA(Fo,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=rs(Fo,e.__scopeDialog);return s.jsx(xr,{present:r||a.open,children:a.modal?s.jsx(iB,{...i,ref:t}):s.jsx(aB,{...i,ref:t})})});_A.displayName=Fo;var iB=p.forwardRef((e,t)=>{const n=rs(Fo,e.__scopeDialog),r=p.useRef(null),i=tt(t,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return ep(a)},[]),s.jsx(SA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,a=>a.preventDefault())})}),aB=p.forwardRef((e,t)=>{const n=rs(Fo,e.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(SA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),SA=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=rs(Fo,n),c=p.useRef(null),d=tt(t,c);return Jm(),s.jsxs(s.Fragment,{children:[s.jsx(Lu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Bo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Xw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(lB,{titleId:l.titleId}),s.jsx(dB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qw="DialogTitle",CA=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=rs(Qw,n);return s.jsx(Ie.h2,{id:i.titleId,...r,ref:t})});CA.displayName=Qw;var kA="DialogDescription",EA=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=rs(kA,n);return s.jsx(Ie.p,{id:i.descriptionId,...r,ref:t})});EA.displayName=kA;var TA="DialogClose",PA=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=rs(TA,n);return s.jsx(Ie.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>i.onOpenChange(!1))})});PA.displayName=TA;function Xw(e){return e?"open":"closed"}var AA="DialogTitleWarning",[oB,IA]=qM(AA,{contentName:Fo,titleName:Qw,docsSlug:"dialog"}),lB=({titleId:e})=>{const t=IA(AA),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cB="DialogDescriptionWarning",dB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IA(cB).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},RA=vA,DA=wA,MA=bA,Zw=NA,Jw=_A,ej=CA,tj=EA,nj=PA;const ei=RA,dm=DA,uB=MA,OA=p.forwardRef(({className:e,...t},n)=>s.jsx(Zw,{ref:n,className:ve("fixed inset-0 z-[9998] bg-black/40 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OA.displayName=Zw.displayName;const xs=p.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(uB,{children:[s.jsx(OA,{}),s.jsxs(Jw,{ref:r,className:ve("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(nj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xs.displayName=Jw.displayName;const vs=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});vs.displayName="DialogHeader";const ys=p.forwardRef(({className:e,...t},n)=>s.jsx(ej,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));ys.displayName=ej.displayName;const Hi=p.forwardRef(({className:e,...t},n)=>s.jsx(tj,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));Hi.displayName=tj.displayName;function hB(){var me,Be,Ue;const[,e]=Zt(),[,t]=zo("/admin/users/:userId"),{user:n}=Da(),{settings:r}=Ho(),{toast:i}=bn(),a=t==null?void 0:t.userId,[o,l]=p.useState("orders"),[c,d]=p.useState(null),[h,m]=p.useState(!1);p.useEffect(()=>{n!=null&&n.admin||e("/")},[n==null?void 0:n.admin,e]);const f=Dt({mutationFn:async H=>await mt("PATCH",`/api/admin/users/${a}/approve-seller`,{email:H}),onSuccess:()=>{vt.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User approved as seller successfully"})},onError:H=>{i({title:"Error",description:H.message||"Failed to approve seller",variant:"destructive"})}}),j=Dt({mutationFn:async H=>await mt("PATCH",`/api/admin/users/${a}`,H),onSuccess:()=>{vt.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User updated successfully"})},onError:H=>{i({title:"Error",description:H.message||"Failed to update user",variant:"destructive"})}}),x=H=>{if(H){const Ne=(O==null?void 0:O.email)||"";f.mutate(Ne)}else j.mutate({seller:!1})},{data:g,isLoading:C}=Ze({queryKey:[`/api/admin/users/${a}`],enabled:!!a,refetchOnMount:"always",staleTime:0}),{data:N,isLoading:v}=Ze({queryKey:[`/api/address/all/${a}`],enabled:!!a}),{data:S,isLoading:w}=Ze({queryKey:[`/api/shipping/profiles/${a}`],enabled:!!a}),{data:A,isLoading:M}=Ze({queryKey:["/api/products",a],enabled:!!a}),{data:E,isLoading:b}=Ze({queryKey:["/api/orders",a,o],enabled:!!a&&(o==="orders"||o==="giveaways"),refetchOnMount:"always",staleTime:0}),{data:_,isLoading:R}=Ze({queryKey:["purchases-for-customer",a,o],queryFn:async()=>{const H=await fetch(`/api/orders?customer=${a}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch purchases");return await H.json()},enabled:!!a&&(o==="purchases"||o==="giveaways")}),{data:P,isLoading:k}=Ze({queryKey:["/api/admin/transactions",a,o],queryFn:async()=>{const H=await fetch(`/api/admin/transactions?userId=${a}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch transactions");return await H.json()},enabled:!!a&&o==="transactions"}),{data:I}=Ze({queryKey:["admin-settings"],queryFn:async()=>{const H=await fetch("/api/admin/settings",{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch settings");const Ne=await H.json();return Ne.success?Ne.data:Ne}}),O=g==null?void 0:g.data,K=(N==null?void 0:N.data)||N||[],z=(S==null?void 0:S.data)||S||[],V=(A==null?void 0:A.products)||(A==null?void 0:A.data)||[],F=(E==null?void 0:E.orders)||(E==null?void 0:E.data)||[],B=(_==null?void 0:_.orders)||(_==null?void 0:_.data)||[],ee=((me=P==null?void 0:P.data)==null?void 0:me.data)||(P==null?void 0:P.transactions)||(P==null?void 0:P.data)||[],ne=Array.isArray(ee)?ee:[],W=(I==null?void 0:I.support_email)||"",ue=(I==null?void 0:I.stripe_fee)||"0",ae=(I==null?void 0:I.extra_charges)||"0",We=[...F,...B].filter(H=>H.ordertype==="giveaway"||H.orderType==="giveaway");return C?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading user details..."})]})})}):O?s.jsxs(He,{children:[s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(X,{variant:"ghost",onClick:()=>e("/admin"),"data-testid":"button-back-to-admin",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),s.jsxs(se,{className:"mb-8",children:[s.jsxs(le,{children:[s.jsx(ce,{children:"User Profile"}),s.jsx(Re,{children:"Complete user information"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs(Yr,{className:"h-20 w-20",children:[s.jsx(Qr,{src:O.profilePhoto}),s.jsxs(Xr,{className:"text-2xl",children:[(Be=O.firstName)==null?void 0:Be[0],(Ue=O.lastName)==null?void 0:Ue[0]]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium","data-testid":"text-user-name",children:[O.firstName," ",O.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-email",children:O.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-username",children:O.userName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:O.country||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:O.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Default Payment Method"}),s.jsx("p",{className:"font-medium","data-testid":"text-default-payment-method",children:typeof O.defaultpaymentmethod=="object"&&O.defaultpaymentmethod?`${(O.defaultpaymentmethod.type||"Card").replace(/_/g," ")} ending in ${O.defaultpaymentmethod.last4||"****"}`:O.defaultpaymentmethod?String(O.defaultpaymentmethod).replace(/_/g," "):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx($e,{variant:O.seller?"default":"secondary",children:O.seller?"Seller":"Customer"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Admin Controls"}),s.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"seller-toggle",className:"text-base",children:"Seller Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this user to sell products on the platform"})]}),s.jsx(Ll,{id:"seller-toggle",checked:O.seller,onCheckedChange:x,disabled:f.isPending||j.isPending,"data-testid":"switch-seller-status"})]})]})]})]}),s.jsxs(xc,{defaultValue:"addresses",className:"w-full",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Oo,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(St,{value:"addresses","data-testid":"tab-addresses",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Yy,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Addresses (",K.length,")"]}),s.jsxs(St,{value:"shipping","data-testid":"tab-shipping",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(su,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Shipping Profiles (",z.length,")"]}),s.jsxs(St,{value:"inventory","data-testid":"tab-inventory",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Inventory (",V.length,")"]}),s.jsxs(St,{value:"activities","data-testid":"tab-activities",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(LO,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Activities"]})]})}),s.jsx(Ct,{value:"addresses",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"User Addresses"}),s.jsx(Re,{children:"All saved addresses for this user"})]}),s.jsx(ie,{children:v?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading addresses..."})]}):K.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No addresses found"}):s.jsx("div",{className:"space-y-4",children:K.map((H,Ne)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`address-${Ne}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h4",{className:"font-medium",children:H.name}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/addresses/${H._id}`),"data-testid":`button-view-address-${Ne}`,children:"View Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:H.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:H.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:H.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City/Region"}),s.jsxs("p",{className:"font-medium",children:[H.city,", ",H.region]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:H.country})]})]})]},H._id||Ne))})})]})}),s.jsx(Ct,{value:"shipping",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Shipping Profiles"}),s.jsx(Re,{children:"User's shipping configurations"})]}),s.jsx(ie,{children:w?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading shipping profiles..."})]}):z.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No shipping profiles found"}):s.jsx("div",{className:"space-y-4",children:z.map((H,Ne)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`shipping-profile-${Ne}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["Shipping Profile #",Ne+1]}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/shipping-profiles/${H._id}`),"data-testid":`button-view-shipping-${Ne}`,children:"View Details"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(H).map(([ke,Ke])=>ke==="_id"||ke==="__v"||ke==="userId"||ke==="user"||ke==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground capitalize",children:ke.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"break-words",children:typeof Ke=="object"&&Ke!==null?JSON.stringify(Ke):String(Ke||"N/A")})]},ke))})]},H._id||Ne))})})]})}),s.jsx(Ct,{value:"inventory",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Product Inventory"}),s.jsx(Re,{children:"All products listed by this user"})]}),s.jsx(ie,{children:M?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading inventory..."})]}):V.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No inventory found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Product"}),s.jsx(Z,{children:"Price"}),s.jsx(Z,{children:"Stock"}),s.jsx(Z,{children:"Category"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(an,{children:V.map(H=>{var Ne,ke,Ke;return s.jsxs(et,{"data-testid":`product-${H._id||H.id}`,children:[s.jsx(J,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[((Ne=H.images)==null?void 0:Ne[0])&&s.jsx("img",{src:H.images[0],alt:H.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{children:H.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(ke=H.description)==null?void 0:ke.substring(0,50),"..."]})]})]})}),s.jsxs(J,{children:["$",H.price]}),s.jsx(J,{children:H.quantity||0}),s.jsx(J,{children:((Ke=H.category)==null?void 0:Ke.name)||"N/A"}),s.jsx(J,{children:s.jsx($e,{variant:H.active?"default":"secondary",children:H.active?"Active":"Inactive"})}),s.jsx(J,{children:s.jsx(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/inventory/${H._id||H.id}`),"data-testid":`button-view-product-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})})]})}),s.jsx(Ct,{value:"activities",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"User Activities"}),s.jsx(Re,{children:"Orders, purchases, and giveaways"})]}),s.jsx(ie,{children:s.jsxs(xc,{defaultValue:"orders",className:"w-full",onValueChange:l,children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Oo,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(St,{value:"orders","data-testid":"tab-activities-orders",className:"flex-shrink-0 sm:flex-shrink",children:"Orders"}),s.jsx(St,{value:"purchases","data-testid":"tab-activities-purchases",className:"flex-shrink-0 sm:flex-shrink",children:"Purchases"}),s.jsx(St,{value:"giveaways","data-testid":"tab-activities-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:"Giveaways"}),s.jsxs(St,{value:"transactions","data-testid":"tab-activities-transactions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(ac,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Transactions"]})]})}),s.jsx(Ct,{value:"orders",children:b?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."})]}):F.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No orders found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Order ID"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Items"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(an,{children:F.map(H=>{var ke,Ke;const Ne=((ke=H.items)==null?void 0:ke.reduce((wt,bt)=>wt+(bt.total||bt.totalPrice||bt.price||0),0))||0;return s.jsxs(et,{"data-testid":`order-${H._id||H.id}`,children:[s.jsx(J,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(J,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(J,{children:[((Ke=H.items)==null?void 0:Ke.length)||0," items"]}),s.jsxs(J,{children:["$",Ne.toFixed(2)]}),s.jsx(J,{children:s.jsx($e,{children:H.status||"pending"})}),s.jsx(J,{children:s.jsx(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-order-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(Ct,{value:"purchases",children:R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading purchases..."})]}):B.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No purchases found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Order ID"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Items"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(an,{children:B.map(H=>{var ke,Ke;const Ne=((ke=H.items)==null?void 0:ke.reduce((wt,bt)=>wt+(bt.total||bt.totalPrice||bt.price||0),0))||0;return s.jsxs(et,{"data-testid":`purchase-${H._id||H.id}`,children:[s.jsx(J,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(J,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(J,{children:[((Ke=H.items)==null?void 0:Ke.length)||0," items"]}),s.jsxs(J,{children:["$",Ne.toFixed(2)]}),s.jsx(J,{children:s.jsx($e,{children:H.status||"pending"})}),s.jsx(J,{children:s.jsx(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-purchase-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(Ct,{value:"giveaways",children:b||R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading giveaways..."})]}):We.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No giveaways found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Order ID"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Items"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(an,{children:We.map(H=>{var ke,Ke;const Ne=((ke=H.items)==null?void 0:ke.reduce((wt,bt)=>wt+(bt.total||bt.totalPrice||bt.price||0),0))||0;return s.jsxs(et,{"data-testid":`giveaway-${H._id||H.id}`,children:[s.jsx(J,{className:"font-medium",children:H.invoice||"N/A"}),s.jsx(J,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsxs(J,{children:[((Ke=H.items)==null?void 0:Ke.length)||0," items"]}),s.jsxs(J,{children:["$",Ne.toFixed(2)]}),s.jsx(J,{children:s.jsx($e,{children:H.status||"pending"})}),s.jsx(J,{children:s.jsx(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/users/${a}/details/orders/${H._id||H.id}`),"data-testid":`button-view-giveaway-${H._id||H.id}`,children:"View Details"})})]},H._id||H.id)})})]})})}),s.jsx(Ct,{value:"transactions",children:k?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):ne.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Transaction ID"}),s.jsx(Z,{children:"From"}),s.jsx(Z,{children:"To"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{children:"Amount"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:ne.map(H=>{const Ne=H._id||H.id,ke=typeof H.from=="object"&&(`${H.from.firstName||""} ${H.from.lastName||""}`.trim()||H.from.userName||H.from.email)||"Unknown",Ke=typeof H.to=="object"&&(`${H.to.firstName||""} ${H.to.lastName||""}`.trim()||H.to.userName||H.to.email)||"Unknown",wt=H.amount||0,bt=H.type||"N/A",ln=H.status||"pending",kn=ss=>{switch(ss.toLowerCase()){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"secondary"}};return s.jsxs(et,{"data-testid":`transaction-${Ne}`,children:[s.jsx(J,{className:"font-mono text-xs",children:String(Ne).slice(-8)}),s.jsx(J,{children:ke}),s.jsx(J,{children:Ke}),s.jsx(J,{className:"capitalize",children:bt}),s.jsxs(J,{children:["$",wt.toFixed(2)]}),s.jsx(J,{children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"}),s.jsx(J,{children:s.jsx($e,{variant:kn(ln),children:ln})}),s.jsx(J,{className:"text-right",children:s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{H.receipt?window.open(H.receipt,"_blank"):(d(H),m(!0))},"data-testid":`button-print-receipt-${Ne}`,children:[s.jsx(Of,{className:"h-4 w-4 mr-2"}),"Receipt"]})})]},Ne)})})]})})})]})})]})})]})]}),s.jsx(ei,{open:h,onOpenChange:m,children:s.jsxs(xs,{className:"max-w-md",children:[s.jsx(vs,{children:s.jsx(ys,{children:"Transaction Receipt"})}),c&&s.jsxs("div",{id:"receipt-content-user",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:r.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(c._id||c.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString():c.date?new Date(c.date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:c.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx($e,{variant:(c.status||"pending").toLowerCase()==="completed"?"default":(c.status||"pending").toLowerCase()==="failed"?"destructive":"secondary",children:c.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof c.from=="object"&&(`${c.from.firstName||""} ${c.from.lastName||""}`.trim()||c.from.userName||c.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof c.to=="object"&&(`${c.to.firstName||""} ${c.to.lastName||""}`.trim()||c.to.userName||c.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(c.total)||0).toFixed(2)]})]}),(()=>{const H=parseFloat(c.stripe_fee)||0,Ne=parseFloat(c.extra_charges)||0,ke=H+Ne;return ke>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",ue,"% + ",ae,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",ke.toFixed(2)]})]})})(),c.serviceFee&&parseFloat(c.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.serviceFee).toFixed(2)]})]}),c.shippingFee&&parseFloat(c.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(c.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",W]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(X,{variant:"outline",onClick:()=>m(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(X,{onClick:()=>{const H=document.getElementById("receipt-content-user");if(H){const Ne=window.open("","_blank");Ne&&(Ne.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${H.innerHTML}
                        </body>
                      </html>
                    `),Ne.document.close(),Ne.focus(),setTimeout(()=>{Ne.print(),Ne.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Of,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]}):s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"User not found"}),s.jsx(X,{onClick:()=>e("/admin"),className:"mt-4",children:"Back to Dashboard"})]})})})}function fB(){var x,g,C,N,v,S,w,A,M,E;const[,e]=Zt(),[,t]=zo("/admin/users/:userId/details/:itemType/:itemId"),{userId:n,itemType:r,itemId:i}=t||{},a=()=>{switch(r){case"addresses":return[`/api/address/all/${n}`];case"shipping-profiles":return[`/api/shipping/profiles/${n}`];case"inventory":return["/api/products",n];case"orders":return["/api/orders",n];default:return[`/api/admin/users/${n}/${r}`]}},{data:o,isLoading:l}=Ze({queryKey:a(),enabled:!!n&&!!r}),h=(o?o.products?o.products:o.orders?o.orders:Array.isArray(o)?o:Array.isArray(o.data)?o.data:[]:[]).find(b=>(b._id||b.id)===i);if(l)return s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading details..."})]})})});if(!h)return s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Item not found"}),s.jsx(X,{onClick:()=>e(`/admin/users/${n}`),className:"mt-4",children:"Back to User"})]})})});const m=()=>{switch(r){case"addresses":return Yy;case"orders":return fa;case"shipping-profiles":return su;case"inventory":return Kt;default:return Kt}},f=()=>{switch(r){case"addresses":return"Address Details";case"orders":return`Order #${h.invoice||h._id}`;case"shipping-profiles":return"Shipping Profile Details";case"inventory":return"Inventory Item Details";default:return"Item Details"}},j=m();return s.jsx(He,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(X,{variant:"ghost",onClick:()=>e(`/admin/users/${n}`),"data-testid":"button-back-to-user",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to User"]})}),s.jsxs(xc,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Oo,{children:[s.jsx(St,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(St,{value:"details","data-testid":"tab-details",children:"Details"}),r==="orders"&&s.jsx(St,{value:"items","data-testid":"tab-items",children:"Items"}),r==="inventory"&&s.jsx(St,{value:"reviews","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(Ct,{value:"overview",children:s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(j,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ce,{children:f()}),s.jsx(Re,{children:"Basic information"})]})]})}),s.jsxs(ie,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx($e,{children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium",children:[h.address,", ",h.city,", ",h.region,", ",h.country]})]})]}),r==="orders"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx($e,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-2xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,_])=>b==="_id"||b==="__v"||b==="userId"||b==="user"||b==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},b))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,_])=>b==="_id"||b==="__v"||b==="userId"||b==="orderId"||b==="ownerId"||b==="favorite"||b==="deleted"||b==="reviews"||b==="favorited"||b==="discountedPrice"||b==="colors"||b==="tokshow"||b==="tiktokshow"?null:b==="images"&&Array.isArray(_)&&_.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((R,P)=>s.jsx("img",{src:R,alt:`Product ${P+1}`,className:"h-24 w-24 rounded object-cover border"},P))})]},b):b==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx($e,{variant:_?"default":"secondary",children:_?"Yes":"No"})]},b):b==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(_||"N/A").replace(/_/g," ")})]},b):b==="sizes"&&Array.isArray(_)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:_.join(", ")||"N/A"})]},b):b==="category"&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},b):(b==="shippingProfile"||b==="shipping_profile")&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},b):s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},b))})]})]})}),s.jsx(Ct,{value:"details",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Complete Details"}),s.jsx(Re,{children:"All available information"})]}),s.jsxs(ie,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address Type"}),s.jsx("p",{className:"font-medium text-lg",children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Street Address"}),s.jsx("p",{className:"font-medium text-lg",children:h.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City"}),s.jsx("p",{className:"font-medium text-lg",children:h.city})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Region/State"}),s.jsx("p",{className:"font-medium text-lg",children:h.region})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Postal Code"}),s.jsx("p",{className:"font-medium text-lg",children:h.postalCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium text-lg",children:h.country})]})]}),r==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invoice Number"}),s.jsx("p",{className:"font-medium",children:h.invoice||h._id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx($e,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"font-medium",children:h.notes||"No notes"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((x=h.customer)==null?void 0:x.firstName)||""} ${((g=h.customer)==null?void 0:g.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((C=h.customer)==null?void 0:C.email)||"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),s.jsx("p",{className:"font-medium",children:(N=h.customer)!=null&&N.address?`${h.customer.address.addrress1}, ${h.customer.address.city}, ${h.customer.address.state} ${h.customer.address.zipcode}`:"N/A"})]}),((S=(v=h.customer)==null?void 0:v.address)==null?void 0:S.phone)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:h.customer.address.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seller Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((w=h.seller)==null?void 0:w.firstName)||""} ${((A=h.seller)==null?void 0:A.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((M=h.seller)==null?void 0:M.email)||"N/A"})]}),((E=h.seller)==null?void 0:E.userName)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium",children:h.seller.userName})]})]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,_])=>b==="_id"||b==="__v"||b==="userId"||b==="user"||b==="taxCode"?null:s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},b))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,_])=>b==="_id"||b==="__v"||b==="userId"||b==="orderId"||b==="ownerId"||b==="favorite"||b==="deleted"||b==="reviews"||b==="favorited"||b==="discountedPrice"||b==="colors"||b==="tokshow"||b==="tiktokshow"?null:b==="images"&&Array.isArray(_)&&_.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((R,P)=>s.jsx("img",{src:R,alt:`Product ${P+1}`,className:"h-24 w-24 rounded object-cover border"},P))})]},b):b==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx($e,{variant:_?"default":"secondary",children:_?"Yes":"No"})]},b):b==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(_||"N/A").replace(/_/g," ")})]},b):b==="sizes"&&Array.isArray(_)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:_.join(", ")||"N/A"})]},b):b==="category"&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},b):(b==="shippingProfile"||b==="shipping_profile")&&typeof _=="object"&&_!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:_.name||"N/A"})]},b):s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof _=="object"&&_!==null?JSON.stringify(_):String(_||"N/A")})]},b))})]})]})}),r==="orders"&&s.jsx(Ct,{value:"items",children:s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ce,{children:"Order Items"}),s.jsx(Re,{children:"Products in this order"})]})]})}),s.jsx(ie,{children:!h.items||h.items.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No items in this order"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Product"}),s.jsx(Z,{children:"Quantity"}),s.jsx(Z,{children:"Price"}),s.jsx(Z,{className:"text-right",children:"Total"})]})}),s.jsx(an,{children:h.items.map((b,_)=>{var R;return s.jsxs(et,{children:[s.jsx(J,{className:"font-medium",children:((R=b.productId)==null?void 0:R.name)||"N/A"}),s.jsx(J,{children:b.quantity||1}),s.jsxs(J,{children:["$",b.price||0]}),s.jsxs(J,{className:"text-right",children:["$",(b.quantity||1)*(b.price||0)]})]},b._id||_)})})]})})})]})}),r==="inventory"&&s.jsx(Ct,{value:"reviews",children:s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Kt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ce,{children:"Product Reviews"}),s.jsx(Re,{children:"Customer reviews for this product"})]})]})}),s.jsx(ie,{children:!h.reviews||h.reviews.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No reviews yet"}):s.jsx("div",{className:"space-y-4",children:h.reviews.map((b,_)=>{var R;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.userName||((R=b.user)==null?void 0:R.name)||"Anonymous"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.createdAt?new Date(b.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:b.rating||"N/A"}),s.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/ 5"})]})]}),s.jsx("p",{className:"text-sm",children:b.comment||b.review||"No comment"})]},b._id||_)})})})]})})]})]})})}function mB(){var b;const[,e]=Zt(),[t,n]=p.useState(""),[r,i]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState("all"),[d,h]=p.useState(!1),[m,f]=p.useState(1),[j]=p.useState(10);let x=`/api/admin/products?page=${m}&limit=${j}`;t&&(x+=`&title=${encodeURIComponent(t)}`),r&&r!=="all"&&(x+=`&category=${encodeURIComponent(r)}`),l&&l!=="all"&&(x+=`&price=${encodeURIComponent(l)}`);const{data:g,isLoading:C}=Ze({queryKey:[x]}),N=((b=g==null?void 0:g.data)==null?void 0:b.products)||[],v=new Map;N.forEach(_=>{if(_.category){const R=typeof _.category=="object"?_.category._id:_.category,P=typeof _.category=="object"?_.category.name:_.category;R&&!v.has(R)&&v.set(R,P)}});const S=Array.from(v.entries()).map(([_,R])=>({id:_,name:R})),w=a&&a!=="all"?N.filter(_=>(_.status||"active")===a):N,A=g!=null&&g.data?{currentPage:m,totalPages:g.data.pages,totalItems:g.data.totalDoc,hasNextPage:m<g.data.pages,hasPrevPage:m>1}:void 0;p.useEffect(()=>{f(1)},[t,r,a,l]);const M=()=>{n(""),i("all"),o("all"),c("all")},E=t||r&&r!=="all"||a&&a!=="all"||l&&l!=="all";return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Products"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-products",children:(A==null?void 0:A.totalItems)||N.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All products in inventory"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Active Products"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-products",children:N.filter(_=>_.status==="active"||!_.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Categories"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-categories-count",children:new Set(N.map(_=>{var R;return((R=_.category)==null?void 0:R._id)||_.category}).filter(Boolean)).size}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique categories"})]})]})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"All Products"}),s.jsx(Re,{children:"View and manage all product inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>h(!d),"data-testid":"button-toggle-filters",className:"whitespace-nowrap",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Filters",E&&s.jsx($e,{variant:"secondary",className:"ml-2",children:[t,r!=="all"&&r,a!=="all"&&a,l!=="all"&&l].filter(Boolean).length})]}),E&&s.jsx(X,{variant:"ghost",size:"sm",onClick:M,"data-testid":"button-clear-filters",children:s.jsx(Er,{className:"h-4 w-4"})})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search products...",value:t,onChange:_=>n(_.target.value),className:"pl-10","data-testid":"input-search-products"})]}),s.jsxs(yn,{value:r,onValueChange:i,children:[s.jsx(mn,{"data-testid":"select-category-filter",children:s.jsx(wn,{placeholder:"All Categories"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All Categories"}),S.map(_=>s.jsx(te,{value:_.id,children:_.name},_.id))]})]}),s.jsxs(yn,{value:a,onValueChange:o,children:[s.jsx(mn,{"data-testid":"select-status-filter",children:s.jsx(wn,{placeholder:"All Status"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All Status"}),s.jsx(te,{value:"active",children:"Active"}),s.jsx(te,{value:"inactive",children:"Inactive"}),s.jsx(te,{value:"draft",children:"Draft"})]})]}),s.jsxs(yn,{value:l,onValueChange:c,children:[s.jsx(mn,{"data-testid":"select-price-filter",children:s.jsx(wn,{placeholder:"All Prices"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All Prices"}),s.jsx(te,{value:"0-25",children:"$0 - $25"}),s.jsx(te,{value:"25-50",children:"$25 - $50"}),s.jsx(te,{value:"50-100",children:"$50 - $100"}),s.jsx(te,{value:"100-",children:"$100+"})]})]})]})]})}),s.jsx(ie,{children:C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):w.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Kt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{className:"min-w-[250px]",children:"Product"}),s.jsx(Z,{className:"hidden sm:table-cell",children:"Owner"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Category"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Type"}),s.jsx(Z,{className:"hidden xl:table-cell",children:"Price"}),s.jsx(Z,{className:"hidden 2xl:table-cell",children:"Stock"}),s.jsx(Z,{className:"hidden 2xl:table-cell",children:"Featured"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:w.map(_=>{var R,P,k;return s.jsxs(et,{"data-testid":`row-product-${_._id||_.id}`,onClick:()=>e(`/admin/products/${_._id||_.id}`),className:"cursor-pointer hover-elevate",children:[s.jsx(J,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[(R=_.images)!=null&&R[0]?s.jsx("img",{src:_.images[0],alt:_.name,className:"h-10 w-10 rounded object-cover flex-shrink-0"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(Kt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:_.name}),s.jsxs("div",{className:"text-sm text-muted-foreground sm:hidden truncate",children:["Owner: ",typeof _.ownerId=="object"?_.ownerId.userName||_.ownerId.email||"Unknown":"N/A"]})]})]})}),s.jsx(J,{className:"hidden sm:table-cell","data-testid":`text-owner-${_._id||_.id}`,children:s.jsx("div",{className:"max-w-[150px]",children:typeof _.ownerId=="object"?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium truncate",children:_.ownerId.firstName&&_.ownerId.lastName?`${_.ownerId.firstName} ${_.ownerId.lastName}`:_.ownerId.userName||"Unknown"}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:_.ownerId.email||""})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),s.jsx(J,{className:"hidden md:table-cell","data-testid":`text-category-${_._id||_.id}`,children:((P=_.category)==null?void 0:P.name)||_.category||"Uncategorized"}),s.jsx(J,{className:"hidden md:table-cell","data-testid":`text-type-${_._id||_.id}`,children:s.jsx($e,{variant:_.listing_type==="auction"?"default":_.listing_type==="giveaway"?"secondary":"outline",children:_.listing_type==="auction"?"Auction":_.listing_type==="giveaway"?"Giveaway":_.listing_type==="buy_now"?"Buy Now":_.listing_type||"Unknown"})}),s.jsxs(J,{className:"hidden xl:table-cell","data-testid":`text-price-${_._id||_.id}`,children:["$",((k=_.price)==null?void 0:k.toFixed(2))||"0.00"]}),s.jsx(J,{className:"hidden 2xl:table-cell",children:_.quantity||0}),s.jsx(J,{className:"hidden 2xl:table-cell",children:s.jsx($e,{variant:_.featured?"default":"outline","data-testid":`badge-featured-${_._id||_.id}`,children:_.featured?"Yes":"No"})}),s.jsx(J,{children:s.jsx($e,{variant:_.status==="active"||!_.status?"default":"secondary",children:_.status||"active"})}),s.jsx(J,{className:"text-right",children:s.jsxs(X,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),e(`/admin/products/${_._id||_.id}`)},"data-testid":`button-view-product-${_._id||_.id}`,className:"whitespace-nowrap",children:[s.jsx(ja,{className:"h-4 w-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"View Details"})]})})]},_._id||_.id)})})]})}),A&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",A.currentPage," of ",A.totalPages," (",A.totalItems," total products)"]}),s.jsxs("span",{className:"sm:hidden",children:[A.currentPage," / ",A.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>f(m-1),disabled:!A.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>f(m+1),disabled:!A.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(As,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function pB(){var o,l;const[,e]=Zt(),[,t]=zo("/admin/products/:productId"),{user:n}=Da(),r=t==null?void 0:t.productId;p.useEffect(()=>{n!=null&&n.admin||e("/")},[n==null?void 0:n.admin,e]);const{data:i,isLoading:a}=Ze({queryKey:[`/api/products/${r}`],enabled:!!r});return a?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading product details..."})]})})}):i?s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs(X,{variant:"ghost",onClick:()=>e("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ce,{className:"text-2xl",children:i.name}),s.jsx($e,{variant:i.status==="active"||!i.status?"default":"secondary",children:i.status||"active"})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-sm",children:i.description||"No description provided"})]}),i.images&&i.images.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center",children:[s.jsx(QO,{className:"h-4 w-4 mr-2"}),"Product Images"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.images.map((c,d)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:c,alt:`${i.name} - ${d+1}`,className:"w-full h-full object-cover"})},d))})]})]})]}),i.ownerId&&s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-lg flex items-center",children:[s.jsx(ur,{className:"h-5 w-5 mr-2"}),"Product Owner"]})}),s.jsxs(ie,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:typeof i.ownerId=="object"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-name",children:i.ownerId.firstName&&i.ownerId.lastName?`${i.ownerId.firstName} ${i.ownerId.lastName}`:i.ownerId.userName||"Unknown"})]}),i.ownerId.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-sm break-all","data-testid":"text-owner-email",children:i.ownerId.email})]}),i.ownerId.country&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-country",children:i.ownerId.country})]}),i.ownerId.seller!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx($e,{variant:i.ownerId.seller?"default":"secondary",children:i.ownerId.seller?"Seller":"Customer"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-owner-id",children:String(i.ownerId)})]})}),s.jsx(X,{variant:"outline",className:"w-full mt-4",onClick:()=>e(`/admin/users/${i.ownerId._id||i.ownerId}`),"data-testid":"button-view-seller",children:"View Full Profile"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-lg flex items-center",children:[s.jsx(Ss,{className:"h-5 w-5 mr-2"}),"Pricing"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-3xl font-bold","data-testid":"text-product-price",children:["$",((o=i.price)==null?void 0:o.toFixed(2))||"0.00"]})})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-lg flex items-center",children:[s.jsx(zO,{className:"h-5 w-5 mr-2"}),"Stock"]})}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-3xl font-bold","data-testid":"text-product-stock",children:i.quantity||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"units available"})]})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-lg flex items-center",children:[s.jsx(aF,{className:"h-5 w-5 mr-2"}),"Category"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm","data-testid":"text-product-category",children:((l=i.category)==null?void 0:l.name)||i.category||"Uncategorized"})})]}),i.shipping_profile&&s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"text-lg flex items-center",children:[s.jsx(su,{className:"h-5 w-5 mr-2"}),"Shipping Profile"]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-3 text-sm",children:typeof i.shipping_profile=="object"&&i.shipping_profile?s.jsxs(s.Fragment,{children:[i.shipping_profile.name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-name",children:i.shipping_profile.name})]}),i.shipping_profile.weight!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Weight"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-weight",children:[i.shipping_profile.weight," ",i.shipping_profile.scale||"oz"]})]}),(i.shipping_profile.length||i.shipping_profile.width||i.shipping_profile.height)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dimensions (L  W  H)"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-dimensions",children:[i.shipping_profile.length||0,"  ",i.shipping_profile.width||0,"  ",i.shipping_profile.height||0," in"]})]}),i.shipping_profile.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Description"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-description",children:i.shipping_profile.description})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Profile ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-shipping-id",children:String(i.shipping_profile)})]})})})]})]})]})]})}):s.jsx(He,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs(X,{variant:"ghost",onClick:()=>e("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Kt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Product not found"})]})]})})}function gB(){const[,e]=Zt(),{toast:t}=bn(),[n,r]=p.useState(""),[i,a]=p.useState("all"),[o,l]=p.useState(!1),{data:c,isLoading:d}=Ze({queryKey:["admin-all-orders"],queryFn:async()=>{const v=await fetch("/api/orders",{credentials:"include"});if(!v.ok)throw new Error("Failed to fetch orders");return await v.json()}}),h=(c==null?void 0:c.orders)||(c==null?void 0:c.data)||[],m=Dt({mutationFn:async({id:v,type:S})=>mt("PUT",`/api/admin/refund/${v}`,{type:S}),onSuccess:()=>{vt.invalidateQueries({queryKey:["admin-all-orders"]}),t({title:"Success",description:"Refund processed successfully"})},onError:v=>{t({title:"Error",description:v.message||"Failed to process refund",variant:"destructive"})}}),f=h.filter(v=>{var S;if(n){const w=String(v.invoice||v._id||"").toLowerCase(),A=typeof v.customer=="object"&&(`${v.customer.firstName||""} ${v.customer.lastName||""}`.trim()||v.customer.userName||v.customer.email)||"",M=n.toLowerCase();if(!w.includes(M)&&!A.toLowerCase().includes(M))return!1}return!(i!=="all"&&((S=v.status)==null?void 0:S.toLowerCase())!==i.toLowerCase())}),j=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",x=v=>{switch(v==null?void 0:v.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}},g=()=>{r(""),a("all")},C=n||i!=="all",N=[n,i!=="all"].filter(Boolean).length;return d?s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsx(se,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]})})})]})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fa,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ce,{children:"All Orders"}),s.jsxs(Re,{children:[f.length," of ",h.length," orders"]})]})]}),s.jsxs(X,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),"data-testid":"button-toggle-filters",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Filters",N>0&&s.jsx($e,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:N})]})]}),o&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Invoice or customer...",value:n,onChange:v=>r(v.target.value),className:"pl-9","data-testid":"input-search-orders"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(yn,{value:i,onValueChange:a,children:[s.jsx(mn,{"data-testid":"select-status-filter",children:s.jsx(wn,{placeholder:"All statuses"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All Statuses"}),s.jsx(te,{value:"pending",children:"Pending"}),s.jsx(te,{value:"processing",children:"Processing"}),s.jsx(te,{value:"shipped",children:"Shipped"}),s.jsx(te,{value:"delivered",children:"Delivered"}),s.jsx(te,{value:"completed",children:"Completed"}),s.jsx(te,{value:"cancelled",children:"Cancelled"})]})]})]})]}),C&&s.jsxs(X,{variant:"ghost",size:"sm",onClick:g,"data-testid":"button-clear-filters",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(ie,{children:f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:C?"No orders match your filters":"No orders found"}),C&&s.jsx(X,{variant:"outline",onClick:g,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Order ID"}),s.jsx(Z,{children:"Customer"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Items"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:f.map(v=>{var _;const S=v._id||v.id,w=v.invoice||S,A=typeof v.customer=="object"&&v.customer!==null?`${v.customer.firstName||""} ${v.customer.lastName||""}`.trim()||v.customer.userName||v.customer.email:"Unknown",M=((_=v.items)==null?void 0:_.length)||0,b=(()=>{if(v.totalAmount||v.total)return v.totalAmount||v.total;if(!v.items||v.items.length===0)return 0;const R=v.items.reduce((I,O)=>{const K=O.price||0,z=O.quantity||1;return I+K*z},0),P=v.shipping_fee||v.shippingFee||v.shipping||0,k=v.tax||0;return R+P+k})();return s.jsxs(et,{children:[s.jsx(J,{className:"font-mono text-xs","data-testid":`text-order-id-${S}`,children:w}),s.jsx(J,{"data-testid":`text-customer-${S}`,children:A}),s.jsx(J,{"data-testid":`text-date-${S}`,children:j(v.createdAt||v.orderDate)}),s.jsxs(J,{"data-testid":`text-items-${S}`,children:[M," ",M===1?"item":"items"]}),s.jsxs(J,{"data-testid":`text-total-${S}`,children:["$",b.toFixed(2)]}),s.jsx(J,{children:s.jsx($e,{variant:x(v.status),"data-testid":`badge-status-${S}`,children:v.status||"pending"})}),s.jsx(J,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm","data-testid":`button-actions-${S}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(hn,{onClick:()=>e(`/admin/orders/${S}`),"data-testid":`menu-view-order-${S}`,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(wi,{}),s.jsxs(hn,{onClick:()=>{m.mutate({id:S,type:"order"})},disabled:m.isPending,"data-testid":`menu-refund-order-${S}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Refund Order"]})]})]})})]},S)})})]})})})]})]})})}function xB(){var g,C;const[,e]=Zt(),[,t]=zo("/admin/orders/:orderId"),n=t==null?void 0:t.orderId,{data:r,isLoading:i}=Ze({queryKey:[`admin-order-${n}`],queryFn:async()=>{const N=await fetch(`/api/orders/${n}`,{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch order");const v=await N.json();return v.success?v.data:v},enabled:!!n}),a=(r==null?void 0:r.order)||(r==null?void 0:r.data)||r,o=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",l=N=>{switch(N==null?void 0:N.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}};if(i)return s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(!a)return s.jsx(He,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Kt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),s.jsx(X,{onClick:()=>e("/admin/orders"),className:"mt-4",children:"Back to Orders"})]})})});const c=typeof a.customer=="object"?`${a.customer.firstName||""} ${a.customer.lastName||""}`.trim()||a.customer.userName||a.customer.email:"Unknown",d=typeof a.customer=="object"?a.customer.email:"",m=!a.items||a.items.length===0?0:a.items.reduce((N,v)=>{const S=v.price||0,w=v.quantity||1;return N+S*w},0),f=a.shipping_fee||a.shippingFee||a.shipping||0,j=a.tax||0,x=m+f+j;return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(X,{variant:"ghost",onClick:()=>e("/admin/orders"),className:"mb-4","data-testid":"button-back-to-orders",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Order Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order ID: ",a.invoice||n]})]}),s.jsx($e,{variant:l(a.status),className:"text-lg py-2 px-4 w-fit","data-testid":"badge-order-status",children:a.status||"pending"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center",children:[s.jsx(Kt,{className:"h-5 w-5 mr-2"}),"Order Items"]}),s.jsxs(Re,{children:[((g=a.items)==null?void 0:g.length)||0," items"]})]}),s.jsx(ie,{children:a.items&&a.items.length>0?s.jsx("div",{className:"space-y-4",children:a.items.map((N,v)=>{var E,b,_,R,P,k;const S=((E=N.productId)==null?void 0:E.name)||((b=N.productId)==null?void 0:b.title)||N.name||N.title||"Unknown Product",w=((_=N.productId)==null?void 0:_.image)||((P=(R=N.productId)==null?void 0:R.images)==null?void 0:P[0])||N.image||((k=N.images)==null?void 0:k[0]),A=N.quantity||1,M=N.price||0;return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg","data-testid":`order-item-${v}`,children:[w&&s.jsx("img",{src:w,alt:S,className:"w-16 h-16 object-cover rounded","data-testid":`img-product-${v}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium","data-testid":`text-product-name-${v}`,children:S}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",A]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(M*A).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",M.toFixed(2)," each"]})]})]},v)})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items found"})})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center",children:[s.jsx(ac,{className:"h-5 w-5 mr-2"}),"Order Summary"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3","data-testid":"order-summary",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",m.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee"}),s.jsxs("span",{children:["$",f.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",j.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-3 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-order-total",children:["$",x.toFixed(2)]})]})]})})]}),a.shippingAddress&&s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center",children:[s.jsx(Yy,{className:"h-5 w-5 mr-2"}),"Shipping Address"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-sm space-y-1","data-testid":"shipping-address",children:[a.shippingAddress.street&&s.jsx("p",{children:a.shippingAddress.street}),a.shippingAddress.city&&s.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.state&&`, ${a.shippingAddress.state}`,a.shippingAddress.zipCode&&` ${a.shippingAddress.zipCode}`]}),a.shippingAddress.country&&s.jsx("p",{children:a.shippingAddress.country})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center",children:[s.jsx(ur,{className:"h-5 w-5 mr-2"}),"Customer"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3","data-testid":"customer-info",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}),((C=a.customer)==null?void 0:C.address)&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Shipping Address"}),s.jsxs("div",{className:"text-sm space-y-1",children:[a.customer.address.street&&s.jsx("p",{children:a.customer.address.street}),a.customer.address.city&&s.jsxs("p",{children:[a.customer.address.city,a.customer.address.state&&`, ${a.customer.address.state}`]}),(a.customer.address.zipcode||a.customer.address.zipCode)&&s.jsx("p",{children:a.customer.address.zipcode||a.customer.address.zipCode}),a.customer.address.country&&s.jsx("p",{children:a.customer.address.country}),a.customer.address.email&&s.jsx("p",{className:"pt-1 text-muted-foreground",children:a.customer.address.email}),a.customer.address.phone&&s.jsx("p",{className:"text-muted-foreground",children:a.customer.address.phone})]})]})]})})]}),a.seller&&s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center",children:[s.jsx(iF,{className:"h-5 w-5 mr-2"}),"Seller"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2","data-testid":"seller-info",children:[s.jsx("p",{className:"font-medium",children:typeof a.seller=="object"?`${a.seller.firstName||""} ${a.seller.lastName||""}`.trim()||a.seller.userName||a.seller.email:a.seller}),typeof a.seller=="object"&&a.seller.email&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.seller.email})]})})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center",children:[s.jsx(su,{className:"h-5 w-5 mr-2"}),"Order Information"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2 text-sm","data-testid":"order-info",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:o(a.createdAt||a.orderDate)})]}),a.shippeddate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipped Date"}),s.jsx("p",{className:"font-medium",children:o(a.shippeddate)})]}),a.payment_status&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),s.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-status",children:a.payment_status})]}),a.orderType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),s.jsx("p",{className:"font-medium capitalize",children:a.orderType})]}),a.tracking_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"font-medium font-mono text-xs","data-testid":"text-tracking-number",children:a.tracking_number})]}),a.tracking_url&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking URL"}),s.jsx("a",{href:a.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline block break-all","data-testid":"link-tracking-url",children:"Track Package "})]}),a.label&&s.jsx("div",{className:"pt-2",children:s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(a.label,"_blank"),className:"w-full","data-testid":"button-print-label",children:[s.jsx(su,{className:"h-4 w-4 mr-2"}),"Print Shipping Label"]})})]})})]})]})]})]})})}function vB(){const{toast:e}=bn(),{settings:t}=Ho(),[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState(!1),[h,m]=p.useState(1),{data:f,isLoading:j}=Ze({queryKey:["admin-transactions"],queryFn:async()=>{const P=await fetch("/api/admin/transactions",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch transactions");const k=await P.json();return k.success?k.data:k}}),{data:x,isLoading:g}=Ze({queryKey:["admin-refunds",h],queryFn:async()=>{const P=await fetch(`/api/admin/refunds?limit=10&page=${h}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch refunds");const k=await P.json();return k.success?k.data:k}}),{data:C}=Ze({queryKey:["admin-settings"],queryFn:async()=>{const P=await fetch("/api/admin/settings",{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch settings");const k=await P.json();return k.success?k.data:k}}),N=(f==null?void 0:f.transactions)||(f==null?void 0:f.data)||[],v=(C==null?void 0:C.support_email)||"",S=(C==null?void 0:C.stripe_fee)||"0",w=(C==null?void 0:C.extra_charges)||"0",A=Dt({mutationFn:async({id:P,type:k})=>mt("PUT",`/api/admin/refund/${P}`,{type:k}),onSuccess:()=>{vt.invalidateQueries({queryKey:["admin-transactions"]}),e({title:"Success",description:"Refund processed successfully"})},onError:P=>{e({title:"Error",description:P.message||"Failed to process refund",variant:"destructive"})}}),M=N.filter(P=>{if(n){const k=n.toLowerCase(),I=String(P._id||P.id||"").toLowerCase(),O=typeof P.from=="object"&&(`${P.from.firstName||""} ${P.from.lastName||""}`.trim()||P.from.userName||P.from.email)||"",K=typeof P.to=="object"&&(`${P.to.firstName||""} ${P.to.lastName||""}`.trim()||P.to.userName||P.to.email)||"";if(!I.includes(k)&&!O.toLowerCase().includes(k)&&!K.toLowerCase().includes(k))return!1}return!0}),E=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",b=P=>{switch(P==null?void 0:P.toLowerCase()){case"completed":case"success":return"default";case"pending":return"secondary";case"failed":case"cancelled":return"destructive";default:return"secondary"}},_=()=>{r("")},R=n;return j?s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions"})]}),s.jsx(se,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading transactions..."})]})})})]})}):s.jsxs(He,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions and refunds"})]}),s.jsxs(xc,{defaultValue:"transactions",className:"space-y-4",children:[s.jsxs(Oo,{children:[s.jsx(St,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),s.jsx(St,{value:"refunds","data-testid":"tab-refunds",children:"Refunds"})]}),s.jsx(Ct,{value:"transactions",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ac,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ce,{children:"Transaction History"}),s.jsxs(Re,{children:[M.length," of ",N.length," transactions"]})]})]}),s.jsxs(X,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!i),"data-testid":"button-toggle-filters",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Filters",R&&s.jsx($e,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:"1"})]})]}),i&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Transaction ID or user...",value:n,onChange:P=>r(P.target.value),className:"pl-9","data-testid":"input-search-transactions"})]})]})}),R&&s.jsxs(X,{variant:"ghost",size:"sm",onClick:_,"data-testid":"button-clear-filters",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(ie,{children:M.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ac,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:R?"No transactions match your filters":"No transactions found"}),R&&s.jsx(X,{variant:"outline",onClick:_,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Transaction ID"}),s.jsx(Z,{children:"From"}),s.jsx(Z,{children:"To"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{children:"Amount"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:M.map(P=>{const k=P._id||P.id,I=typeof P.from=="object"&&(`${P.from.firstName||""} ${P.from.lastName||""}`.trim()||P.from.userName||P.from.email)||"Unknown",O=typeof P.to=="object"&&(`${P.to.firstName||""} ${P.to.lastName||""}`.trim()||P.to.userName||P.to.email)||"Unknown",K=P.amount||0,z=P.type||"N/A",V=P.status||"pending";return s.jsxs(et,{children:[s.jsx(J,{className:"font-mono text-xs","data-testid":`text-transaction-id-${k}`,children:String(k).slice(-8)}),s.jsx(J,{"data-testid":`text-from-${k}`,children:I}),s.jsx(J,{"data-testid":`text-to-${k}`,children:O}),s.jsx(J,{"data-testid":`text-type-${k}`,children:s.jsx("span",{className:"capitalize",children:z})}),s.jsxs(J,{"data-testid":`text-amount-${k}`,children:["$",K.toFixed(2)]}),s.jsx(J,{"data-testid":`text-date-${k}`,children:E(P.createdAt||P.date)}),s.jsx(J,{children:s.jsx($e,{variant:b(V),"data-testid":`badge-status-${k}`,children:V})}),s.jsx(J,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm","data-testid":`button-actions-${k}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(hn,{onClick:()=>{P.receipt?window.open(P.receipt,"_blank"):(l(P),d(!0))},"data-testid":`menu-print-receipt-${k}`,children:[s.jsx(Of,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),s.jsx(wi,{}),s.jsxs(hn,{onClick:()=>{A.mutate({id:k,type:"transaction"})},disabled:A.isPending,"data-testid":`menu-refund-transaction-${k}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Refund Transaction"]})]})]})})]},k)})})]})})})]})}),s.jsx(Ct,{value:"refunds",children:s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ss,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(ce,{children:"Refunds"}),s.jsx(Re,{children:"View all processed refunds"})]})]})}),s.jsx(ie,{children:g?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading refunds..."})]}):!(x!=null&&x.data)||x.data.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No refunds found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Refund ID"}),s.jsx(Z,{children:"Amount"}),s.jsx(Z,{children:"Reason"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Status"})]})}),s.jsx(an,{children:x.data.map(P=>{const k=P.id,I=(P.amount||0)/100;return s.jsxs(et,{children:[s.jsx(J,{className:"font-mono text-xs","data-testid":`text-refund-id-${k}`,children:String(k).slice(-8)}),s.jsxs(J,{"data-testid":`text-amount-${k}`,children:["$",I.toFixed(2)]}),s.jsx(J,{"data-testid":`text-reason-${k}`,children:P.reason||"N/A"}),s.jsx(J,{"data-testid":`text-date-${k}`,children:E(new Date(P.created*1e3).toISOString())}),s.jsx(J,{children:s.jsx($e,{variant:b(P.status),"data-testid":`badge-status-${k}`,children:P.status})})]},k)})})]})})})]})})]})]}),s.jsx(ei,{open:c,onOpenChange:d,children:s.jsxs(xs,{className:"max-w-md",children:[s.jsx(vs,{children:s.jsx(ys,{children:"Transaction Receipt"})}),o&&s.jsxs("div",{id:"receipt-content",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(o._id||o.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:E(o.createdAt||o.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:o.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx($e,{variant:b(o.status||"pending"),children:o.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof o.from=="object"&&(`${o.from.firstName||""} ${o.from.lastName||""}`.trim()||o.from.userName||o.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof o.to=="object"&&(`${o.to.firstName||""} ${o.to.lastName||""}`.trim()||o.to.userName||o.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(o.total)||0).toFixed(2)]})]}),(()=>{const P=parseFloat(o.stripe_fee)||0,k=parseFloat(o.extra_charges)||0,I=P+k;return I>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",S,"% + ",w,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",I.toFixed(2)]})]})})(),o.serviceFee&&parseFloat(o.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.serviceFee).toFixed(2)]})]}),o.shippingFee&&parseFloat(o.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(o.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",v]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(X,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(X,{onClick:()=>{const P=document.getElementById("receipt-content");if(P){const k=window.open("","_blank");k&&(k.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${P.innerHTML}
                        </body>
                      </html>
                    `),k.document.close(),k.focus(),setTimeout(()=>{k.print(),k.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Of,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]})}function yB(){const[e,t]=p.useState(""),[n,r]=p.useState(1),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,m]=p.useState(""),f=10,x=(()=>{const z=new URLSearchParams;return i&&i!=="all"&&z.append("status",i),o&&z.append("from",o),c&&z.append("to",c),z.append("limit",f.toString()),h&&n>1&&z.append("starting_after",h),z.toString()})(),{data:g,isLoading:C}=Ze({queryKey:["/api/admin/stripe-payouts",i,o,c,h,n],queryFn:async()=>{const z=`/api/admin/stripe-payouts${x?"?"+x:""}`;return console.log("Fetching payouts from:",z),(await fetch(z,{credentials:"include"})).json()},staleTime:0,refetchOnMount:!0}),N=(g==null?void 0:g.data)||[],v=(g==null?void 0:g.has_more)||!1,S=N.filter(z=>{var V;if(e){const F=e.toLowerCase(),B=(((V=z.destination)==null?void 0:V.bank_name)||"").toLowerCase(),ee=(z.id||"").toLowerCase();if(!B.includes(F)&&!ee.includes(F))return!1}return!0}),w=S.reduce((z,V)=>z+(V.amount||0)/100,0),A=S.length,M=A>0?w/A:0;S.length;const E=S,b=(n-1)*f+1,_=(n-1)*f+S.length,R=v?`${_}+`:_,P=z=>{t(z),r(1),m("")},k=()=>{a(""),l(""),d(""),t(""),r(1),m("")},I=()=>{if(v&&N.length>0){const z=N[N.length-1];m(z.id),r(V=>V+1)}},O=()=>{r(1),m("")},K=i||o||c;return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Stripe Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"View Stripe payout transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Amount"}),s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-amount",children:["$",w.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all payouts"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Payouts"}),s.jsx(tv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-count",children:A}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payout transactions"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Average Payout"}),s.jsx(Ek,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-avg-payout",children:["$",M.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs(se,{className:"mb-6",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(ce,{className:"text-lg",children:"Filters"})]}),K&&s.jsxs(X,{variant:"ghost",size:"sm",onClick:k,"data-testid":"button-reset-filters",children:[s.jsx(Er,{className:"h-4 w-4 mr-1"}),"Reset"]})]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(yn,{value:i,onValueChange:a,children:[s.jsx(mn,{"data-testid":"select-status",children:s.jsx(wn,{placeholder:"All statuses"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All statuses"}),s.jsx(te,{value:"paid",children:"Paid"}),s.jsx(te,{value:"pending",children:"Pending"}),s.jsx(te,{value:"in_transit",children:"In Transit"}),s.jsx(te,{value:"canceled",children:"Canceled"}),s.jsx(te,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"From Date"}),s.jsx(ye,{type:"date",value:o,onChange:z=>l(z.target.value),"data-testid":"input-date-from"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"To Date"}),s.jsx(ye,{type:"date",value:c,onChange:z=>d(z.target.value),"data-testid":"input-date-to"})]})]})})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"Payout Transactions"}),s.jsx(Re,{children:"Stripe payout history"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search by bank or ID...",value:e,onChange:z=>P(z.target.value),className:"pl-10","data-testid":"input-search-payouts"})]})]})}),s.jsxs(ie,{children:[C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payouts..."})]}):S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(tv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e?"No payouts found matching your search":"No payouts found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{className:"min-w-[180px]",children:"Bank"}),s.jsx(Z,{className:"text-right",children:"Amount"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Currency"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Created"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Arrival Date"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{className:"hidden sm:table-cell",children:"Status"})]})}),s.jsx(an,{children:E.map(z=>{var ue,ae;const V=z.id,F=(z.amount||0)/100,B=z.created?new Date(z.created*1e3):null,ee=z.arrival_date?new Date(z.arrival_date*1e3):null,ne=((ue=z.destination)==null?void 0:ue.bank_name)||"Bank Account",W=((ae=z.destination)==null?void 0:ae.last4)||"";return s.jsxs(et,{"data-testid":`row-payout-${V}`,children:[s.jsx(J,{"data-testid":`text-bank-${V}`,children:s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("div",{className:"font-medium truncate",children:ne}),W&&s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["****",W]})]})}),s.jsxs(J,{className:"text-right font-semibold","data-testid":`text-amount-${V}`,children:["$",F.toFixed(2)]}),s.jsx(J,{className:"hidden md:table-cell uppercase",children:z.currency||"USD"}),s.jsx(J,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(El,{className:"h-4 w-4 text-muted-foreground"}),B?B.toLocaleDateString():"N/A"]})}),s.jsx(J,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(El,{className:"h-4 w-4 text-muted-foreground"}),ee?ee.toLocaleDateString():"N/A"]})}),s.jsx(J,{children:s.jsx($e,{variant:z.automatic?"default":"outline",children:z.automatic?"Automatic":"Manual"})}),s.jsx(J,{className:"hidden sm:table-cell",children:s.jsx($e,{variant:"secondary",children:z.status||"Completed"})})]},V)})})]})}),S.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",b," to ",_," of ",R," payouts"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:O,disabled:n===1,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4"}),"Previous"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",n,v?"+":""]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:I,disabled:!v,"data-testid":"button-next-page",children:["Next",s.jsx(As,{className:"h-4 w-4"})]})]})]})]})]})]})})}function wB(){const[,e]=Zt(),[t,n]=p.useState(1),[r,i]=p.useState(10),[a,o]=p.useState(""),[l,c]=p.useState(""),{data:d,isLoading:h}=Ze({queryKey:["/api/admin/shows",t,r,a,l]}),m=(d==null?void 0:d.data)||[],f=d?{currentPage:t,totalPages:d.pages||1,totalItems:d.totalDoc||0,hasNextPage:t<(d.pages||1),hasPrevPage:t>1}:null,j=m.filter(g=>g.status==="live").length,x=m.filter(g=>g.status==="scheduled").length;return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Live Shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all live shopping shows and rooms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Shows"}),s.jsx(oc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-shows",children:(f==null?void 0:f.totalItems)||m.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Live Now"}),s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-live-shows",children:j}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Scheduled"}),s.jsx(El,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-scheduled-shows",children:x}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming shows"})]})]})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx(ce,{children:"Live Shows & Rooms"}),s.jsx(Re,{children:"View and manage all live shows"})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search by title...",value:a,onChange:g=>{o(g.target.value),n(1)},className:"pl-10","data-testid":"input-search-title"})]}),s.jsxs(yn,{value:l,onValueChange:g=>{c(g==="all"?"":g),n(1)},children:[s.jsx(mn,{className:"w-full sm:w-[180px]","data-testid":"select-type",children:s.jsx(wn,{placeholder:"All Types"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All Types"}),s.jsx(te,{value:"live",children:"Live"}),s.jsx(te,{value:"scheduled",children:"Scheduled"}),s.jsx(te,{value:"ended",children:"Ended"})]})]})]})]})}),s.jsx(ie,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading shows..."})]}):m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:a||l?"No shows found matching your filters":"No shows found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{className:"min-w-[250px]",children:"Show Details"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Host"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Viewers"}),s.jsx(Z,{className:"hidden sm:table-cell",children:"Created"}),s.jsx(Z,{children:"Status"})]})}),s.jsx(an,{children:m.map(g=>{var b,_,R,P,k,I;const C=g._id||g.id,N=g.createdAt?new Date(g.createdAt):null,v=(b=g.owner)!=null&&b.firstName?String(g.owner.firstName):"",S=(_=g.owner)!=null&&_.lastName?String(g.owner.lastName):"",w=(R=g.owner)!=null&&R.userName?String(g.owner.userName):"",A=(P=g.owner)!=null&&P.email?String(g.owner.email):"",M=(k=g.owner)!=null&&k.profilePhoto?String(g.owner.profilePhoto):"",E=!!g.owner;return s.jsxs(et,{"data-testid":`row-show-${C}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/admin/shows/${C}`),children:[s.jsx(J,{className:"font-medium",children:s.jsxs("div",{className:"flex items-start gap-3",children:[g.thumbnail&&s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-16 h-16 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate","data-testid":`text-title-${C}`,children:String(g.title||g.name||"Untitled Show")}),((I=g.category)==null?void 0:I.name)&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx($e,{variant:"secondary",className:"text-xs",children:String(g.category.name)})}),g.description&&typeof g.description=="string"&&s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:g.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 md:hidden",children:[s.jsx(ur,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:E&&(v||w)||"Unknown Host"})]})]})]})}),s.jsx(J,{className:"hidden md:table-cell",children:E?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Yr,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Qr,{src:M}),s.jsxs(Xr,{children:[(v||"U")[0],(S||"H")[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium truncate",children:[v," ",S]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:A})]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No host"})}),s.jsx(J,{className:"hidden lg:table-cell","data-testid":`text-viewers-${C}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),Array.isArray(g.viewers)?g.viewers.length:0]})}),s.jsx(J,{className:"hidden sm:table-cell",children:N?N.toLocaleDateString():"N/A"}),s.jsx(J,{children:(()=>{let O="unknown";if(g.ended===!0)O="ended";else if(g.started===!0&&g.ended===!1)O="live";else if(g.started===!1&&g.ended===!1){const V=g.startDate||g.date||g.createdAt;V&&new Date(V)>new Date&&(O="active")}const K=O==="live",z=O==="active"?"scheduled":O;return s.jsxs($e,{variant:K?"default":O==="active"?"secondary":"outline",className:K?"bg-green-600":"",children:[K&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),z.charAt(0).toUpperCase()+z.slice(1)]})})()})]},C)})})]})}),f&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",f.currentPage," of ",f.totalPages," (",f.totalItems," total shows)"]}),s.jsxs("span",{className:"sm:hidden",children:[f.currentPage," / ",f.totalPages]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Show"}),s.jsxs(yn,{value:String(r),onValueChange:g=>{i(Number(g)),n(1)},children:[s.jsx(mn,{className:"w-[70px] h-8","data-testid":"select-limit",children:s.jsx(wn,{})}),s.jsxs(pn,{children:[s.jsx(te,{value:"10",children:"10"}),s.jsx(te,{value:"25",children:"25"}),s.jsx(te,{value:"50",children:"50"}),s.jsx(te,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>n(t-1),disabled:!f.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>n(t+1),disabled:!f.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(As,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function jB(){var z,V,F,B,ee,ne;const[,e]=Zt(),[,t]=zo("/admin/shows/:showId"),n=t==null?void 0:t.showId,[r,i]=p.useState("overview"),{data:a,isLoading:o}=Ze({queryKey:[`admin-show-${n}`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch show");const ue=await W.json();return ue.success?ue.data:ue},enabled:!!n}),{data:l,isLoading:c}=Ze({queryKey:[`admin-show-${n}-auctions`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/auctions?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch auctions");return await W.json()},enabled:!!n&&r==="auctions"}),{data:d,isLoading:h}=Ze({queryKey:[`admin-show-${n}-giveaways`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/giveaways?page=1&limit=20`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch giveaways");return await W.json()},enabled:!!n&&r==="giveaways"}),{data:m,isLoading:f}=Ze({queryKey:[`admin-show-${n}-buy-now`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/buy-now?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch buy now items");return await W.json()},enabled:!!n&&r==="buy-now"}),{data:j,isLoading:x}=Ze({queryKey:[`admin-show-${n}-sold`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/sold?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch sold items");return await W.json()},enabled:!!n&&r==="sold"}),g=(a==null?void 0:a.data)||a,C=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(o)return s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading show details..."})]})})});if(!g)return s.jsx(He,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(oc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Show not found"}),s.jsx(X,{onClick:()=>e("/admin/shows"),className:"mt-4","data-testid":"button-back-to-shows",children:"Back to Shows"})]})})});const N=(z=g.owner)!=null&&z.firstName?String(g.owner.firstName):"",v=(V=g.owner)!=null&&V.lastName?String(g.owner.lastName):"",S=(F=g.owner)!=null&&F.userName?String(g.owner.userName):"",w=(B=g.owner)!=null&&B.email?String(g.owner.email):"",A=(ee=g.owner)!=null&&ee.profilePhoto?String(g.owner.profilePhoto):"",M=!!g.owner;let E="unknown";if(g.ended===!0)E="ended";else if(g.started===!0&&g.ended===!1)E="live";else if(g.started===!1&&g.ended===!1){const W=g.startDate||g.date||g.createdAt;W&&new Date(W)>new Date&&(E="active")}const b=E==="live",_=g.activeauction,R=g.pinnedobject,P=(_==null?void 0:_.bids)||[],k=(l==null?void 0:l.data)||[],I=(d==null?void 0:d.data)||[],O=(m==null?void 0:m.data)||[],K=(j==null?void 0:j.data)||[];return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(X,{variant:"ghost",onClick:()=>e("/admin/shows"),className:"mb-4","data-testid":"button-back-to-shows",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Shows"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground","data-testid":"text-show-title",children:String(g.title||g.name||"Untitled Show")}),s.jsx("p",{className:"text-muted-foreground",children:"Show Details"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs($e,{variant:b?"default":E==="active"?"secondary":"outline",className:b?"bg-green-600":"",children:[b&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),E==="active"?"Scheduled":E.charAt(0).toUpperCase()+E.slice(1)]})})]})]}),s.jsxs(xc,{value:r,onValueChange:i,className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Oo,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-5",children:[s.jsx(St,{value:"overview","data-testid":"tab-overview",className:"flex-shrink-0 sm:flex-shrink",children:"Overview"}),s.jsxs(St,{value:"auctions","data-testid":"tab-auctions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(_h,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Auctions"]}),s.jsxs(St,{value:"giveaways","data-testid":"tab-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Sh,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Giveaways"]}),s.jsxs(St,{value:"buy-now","data-testid":"tab-buy-now",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(fa,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Buy Now"]}),s.jsxs(St,{value:"sold","data-testid":"tab-sold",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Sold"]})]})}),s.jsx(Ct,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(oc,{className:"h-5 w-5"}),"Show Information"]})}),s.jsxs(ie,{className:"space-y-4",children:[g.thumbnail&&s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-full h-64 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("p",{className:"text-foreground","data-testid":"text-show-description",children:g.description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Category"}),s.jsx("p",{className:"text-foreground",children:(ne=g.category)!=null&&ne.name?String(g.category.name):"N/A"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Viewers"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ja,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-foreground","data-testid":"text-viewer-count",children:Array.isArray(g.viewers)?g.viewers.length:0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("p",{className:"text-foreground",children:C(g.createdAt)})]}),g.date&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Scheduled Date"}),s.jsx("p",{className:"text-foreground",children:C(g.date)})]})]})]})]}),_&&s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(_h,{className:"h-5 w-5"}),"Active Auction"]}),s.jsx(Re,{children:"Current auction in progress"})]}),s.jsxs(ie,{className:"space-y-4",children:[_.product&&s.jsxs("div",{className:"flex items-start gap-4",children:[_.product.images&&_.product.images[0]&&s.jsx("img",{src:_.product.images[0],alt:_.product.name,className:"w-20 h-20 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium","data-testid":"text-auction-product-name",children:_.product.name}),_.product.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.product.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Starting Price"}),s.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":"text-auction-starting-price",children:["$",_.startingprice||0]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Current Bid"}),s.jsxs("p",{className:"text-lg font-bold text-green-600","data-testid":"text-auction-current-bid",children:["$",_.currentbid||_.startingprice||0]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx($e,{variant:_.won?"default":"secondary",children:_.won?"Won":"In Progress"})]}),_.winner&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Winner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Yr,{className:"h-8 w-8",children:[s.jsx(Qr,{src:_.winner.profilePhoto}),s.jsxs(Xr,{children:[(_.winner.firstName||"W")[0],(_.winner.lastName||"N")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[_.winner.firstName," ",_.winner.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.winner.email})]})]})]})]})]}),P.length>0&&s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"h-5 w-5"}),"Bids (",P.length,")"]}),s.jsx(Re,{children:"All bids for the active auction"})]}),s.jsx(ie,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Bidder"}),s.jsx(Z,{children:"Amount"}),s.jsx(Z,{children:"Time"})]})}),s.jsx(an,{children:P.map((W,ue)=>{var ae,Le,We,me,Be,Ue;return s.jsxs(et,{"data-testid":`row-bid-${ue}`,children:[s.jsx(J,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Yr,{className:"h-8 w-8",children:[s.jsx(Qr,{src:(ae=W.user)==null?void 0:ae.profilePhoto}),s.jsxs(Xr,{children:[(((Le=W.user)==null?void 0:Le.firstName)||"B")[0],(((We=W.user)==null?void 0:We.lastName)||"D")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[(me=W.user)==null?void 0:me.firstName," ",(Be=W.user)==null?void 0:Be.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(Ue=W.user)==null?void 0:Ue.email})]})]})}),s.jsx(J,{children:s.jsxs("span",{className:"font-bold text-green-600","data-testid":`text-bid-amount-${ue}`,children:["$",W.amount||0]})}),s.jsx(J,{className:"text-muted-foreground",children:C(W.createdAt)})]},W._id||ue)})})]})})})]}),R&&s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(nF,{className:"h-5 w-5"}),"Pinned Object"]}),s.jsx(Re,{children:"Currently pinned item in the show"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[R.images&&R.images[0]&&s.jsx("img",{src:R.images[0],alt:R.name,className:"w-24 h-24 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-lg","data-testid":"text-pinned-name",children:R.name}),R.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price: "}),s.jsxs("span",{className:"font-bold text-foreground","data-testid":"text-pinned-price",children:["$",R.price||0]})]}),R.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Qty: "}),s.jsx("span",{className:"font-medium text-foreground",children:R.quantity})]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(ur,{className:"h-5 w-5"}),"Host Information"]})}),s.jsx(ie,{children:M?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Yr,{className:"h-12 w-12",children:[s.jsx(Qr,{src:A}),s.jsxs(Xr,{children:[(N||"U")[0],(v||"H")[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium","data-testid":"text-host-name",children:[N," ",v]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",S]})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),s.jsx("p",{className:"text-sm","data-testid":"text-host-email",children:w})]}),g.owner.country&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Country"}),s.jsx("p",{className:"text-sm",children:g.owner.country})]}),g.owner.accountType&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Account Type"}),s.jsx($e,{variant:"secondary",children:g.owner.accountType})]})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No host information available"})})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Quick Stats"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show ID"}),s.jsx("span",{className:"text-xs font-mono",children:g._id||g.id||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Viewers"}),s.jsx("span",{className:"font-bold",children:Array.isArray(g.viewers)?g.viewers.length:0})]}),_&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Bids"}),s.jsx("span",{className:"font-bold",children:P.length})]})]})]})]})]})}),s.jsx(Ct,{value:"auctions",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(_h,{className:"h-5 w-5"}),"Auction Items (",k.length,")"]}),s.jsx(Re,{children:"All auction products in this show"})]}),s.jsx(ie,{children:c?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading auctions..."})]}):k.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(_h,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No auction items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:k.map(W=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-auction-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Kt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(ie,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-auction-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-auction-price-${W._id}`,children:["$",W.price||0]})]}),W.status&&s.jsx($e,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(Ct,{value:"giveaways",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Sh,{className:"h-5 w-5"}),"Giveaway Items (",I.length,")"]}),s.jsx(Re,{children:"All giveaway items in this show"})]}),s.jsx(ie,{children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading giveaways..."})]}):I.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Sh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No giveaway items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:I.map(W=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-giveaway-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Sh,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(ie,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-giveaway-name-${W._id}`,children:W.name}),W.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:W.description}),W.quantity&&s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Quantity"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]})]})]},W._id))})})]})}),s.jsx(Ct,{value:"buy-now",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-5 w-5"}),"Buy Now Items (",O.length,")"]}),s.jsx(Re,{children:"All buy now products in this show"})]}),s.jsx(ie,{children:f?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading buy now items..."})]}):O.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No buy now items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:O.map(W=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-buy-now-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Kt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(ie,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-buy-now-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-buy-now-price-${W._id}`,children:["$",W.price||0]})]}),W.quantity!==void 0&&s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Stock"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]}),W.status&&s.jsx($e,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(Ct,{value:"sold",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"Sold Orders (",K.length,")"]}),s.jsx(Re,{children:"All orders from this show"})]}),s.jsx(ie,{children:x?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading sold orders..."})]}):K.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Kt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sold orders found"})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Order ID"}),s.jsx(Z,{children:"Customer"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Date"})]})}),s.jsx(an,{children:K.map(W=>{var ue,ae,Le,We;return s.jsxs(et,{"data-testid":`row-sold-${W._id}`,children:[s.jsxs(J,{className:"font-mono text-sm",children:[(ue=W._id)==null?void 0:ue.substring(0,8),"..."]}),s.jsx(J,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[(ae=W.customer)==null?void 0:ae.firstName," ",(Le=W.customer)==null?void 0:Le.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(We=W.customer)==null?void 0:We.email})]})}),s.jsx(J,{children:s.jsx($e,{variant:"secondary",children:W.status||"pending"})}),s.jsxs(J,{className:"font-bold",children:["$",W.invoice||W.total||0]}),s.jsx(J,{className:"text-sm text-muted-foreground",children:C(W.createdAt)})]},W._id)})})]})})})]})})]})]})})}function FA(){const{user:e}=Da(),{data:t}=Ze({queryKey:["/api/admin/demo-mode"],enabled:!!(e!=null&&e.admin),staleTime:3e4,refetchOnWindowFocus:!0}),n=(t==null?void 0:t.demoMode)||!1,r=(e==null?void 0:e.admin)||!1,i=(e==null?void 0:e.role)==="superAdmin",a=(e==null?void 0:e.admin)&&!i;return{canCreate:!n&&r,canEdit:!n&&r,canDelete:!n&&r,canManageSettings:!n&&r,isSuperAdmin:i,isReadOnlyAdmin:a,isDemoMode:n}}function hp(){const{data:e,isLoading:t,error:n}=Ze({queryKey:["/api/config"],staleTime:1/0,gcTime:1/0,retry:3});return{externalApiUrl:(e==null?void 0:e.externalApiUrl)||"",isLoading:t,error:n}}function vc(e,t){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const n=t||"https://api.tokshoplive.com",r=e.replace(/^\//,"");return`${n}/${r}`}function bB(){const{toast:e}=bn(),{canManageSettings:t,isDemoMode:n}=FA(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!1),{externalApiUrl:d}=hp(),{data:h,isLoading:m}=Ze({queryKey:["/api/admin/settings"]}),f=(h==null?void 0:h.data)||h,j=w=>!w||w.length<8?"":`${w.substring(0,4)}${"".repeat(12)}${w.substring(w.length-4)}`,[x,g]=p.useState({app_name:"",seo_title:"",commission:"",stripe_fee:"",extra_charges:"",currency:"$",support_email:"",forceUpdate:!1,demoMode:!1,seller_auto_approve:!0,appVersion:"",androidVersion:"",iosVersion:"",privacy_url:"",terms_url:"",FIREBASE_API_KEY:"",firebase_api_key:"",firebase_auth_domain:"",firebase_project_id:"",firebase_storage_bucket:"",firebase_app_id:"",shippo_api_key:"",stripeSecretKey:"",stripepublickey:"",stripe_webhook_key:"",stripe_connect_account:"",livekit_url:"",livekit_api_key:"",livekit_api_secret:"",email_service_provider:"sendgrid",email_api_key:"",email_from_address:"",email_from_name:"",email_reply_to:"",email_mailgun_domain:"",email_smtp_host:"",email_smtp_port:"",email_smtp_user:"",email_smtp_pass:"",primary_color:"",secondary_color:"",app_logo:""});p.useEffect(()=>{var w,A,M,E,b;g({app_name:(f==null?void 0:f.app_name)||"",seo_title:(f==null?void 0:f.seo_title)||"",commission:(f==null?void 0:f.commission)||"",stripe_fee:(f==null?void 0:f.stripe_fee)||"",extra_charges:(f==null?void 0:f.extra_charges)||"",currency:(f==null?void 0:f.currency)||"$",support_email:(f==null?void 0:f.support_email)||"",forceUpdate:(f==null?void 0:f.forceUpdate)||!1,demoMode:(f==null?void 0:f.demoMode)||!1,seller_auto_approve:(f==null?void 0:f.seller_auto_approve)!==void 0?f.seller_auto_approve:!0,appVersion:(f==null?void 0:f.appVersion)||"",androidVersion:(f==null?void 0:f.androidVersion)||"",iosVersion:(f==null?void 0:f.iosVersion)||"",privacy_url:(f==null?void 0:f.privacy_url)||"",terms_url:(f==null?void 0:f.terms_url)||"",FIREBASE_API_KEY:(f==null?void 0:f.FIREBASE_API_KEY)||"",firebase_api_key:((w=f==null?void 0:f.firebase_config)==null?void 0:w.apiKey)||(f==null?void 0:f.firebase_api_key)||"",firebase_auth_domain:((A=f==null?void 0:f.firebase_config)==null?void 0:A.authDomain)||(f==null?void 0:f.firebase_auth_domain)||"",firebase_project_id:((M=f==null?void 0:f.firebase_config)==null?void 0:M.projectId)||(f==null?void 0:f.firebase_project_id)||"",firebase_storage_bucket:((E=f==null?void 0:f.firebase_config)==null?void 0:E.storageBucket)||(f==null?void 0:f.firebase_storage_bucket)||"",firebase_app_id:((b=f==null?void 0:f.firebase_config)==null?void 0:b.appId)||(f==null?void 0:f.firebase_app_id)||"",shippo_api_key:(f==null?void 0:f.shippo_api_key)||"",stripeSecretKey:(f==null?void 0:f.stripeSecretKey)||"",stripepublickey:(f==null?void 0:f.stripepublickey)||"",stripe_webhook_key:(f==null?void 0:f.stripe_webhook_key)||"",stripe_connect_account:(f==null?void 0:f.stripe_connect_account)||"",livekit_url:(f==null?void 0:f.livekit_url)||"",livekit_api_key:(f==null?void 0:f.livekit_api_key)||"",livekit_api_secret:(f==null?void 0:f.livekit_api_secret)||"",email_service_provider:(f==null?void 0:f.email_service_provider)||"sendgrid",email_api_key:(f==null?void 0:f.email_api_key)||"",email_from_address:(f==null?void 0:f.email_from_address)||"",email_from_name:(f==null?void 0:f.email_from_name)||"",email_reply_to:(f==null?void 0:f.email_reply_to)||"",email_mailgun_domain:(f==null?void 0:f.email_mailgun_domain)||"",email_smtp_host:(f==null?void 0:f.email_smtp_host)||"",email_smtp_port:(f==null?void 0:f.email_smtp_port)||"",email_smtp_user:(f==null?void 0:f.email_smtp_user)||"",email_smtp_pass:(f==null?void 0:f.email_smtp_pass)||"",primary_color:(f==null?void 0:f.primary_color)||"FFFACC15",secondary_color:(f==null?void 0:f.secondary_color)||"FF0D9488",app_logo:(f==null?void 0:f.app_logo)||""})},[f]);const C=Dt({mutationFn:async w=>{const A=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)});if(!A.ok){const M=await A.json().catch(()=>({}));throw console.error("Settings update failed:",M),new Error((M==null?void 0:M.error)||"Failed to update settings")}return A.json()},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/settings"]}),e({title:"Settings updated",description:"Platform settings have been saved successfully."}),i(!1)},onError:()=>{e({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"}),i(!1)}}),N=()=>{if(!t){e({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}i(!0),C.mutate(x)},v=(w,A)=>{g(M=>({...M,[w]:A}))},S=async w=>{c(!0);try{const A=new FormData;A.append("logo",w);const E=await(await fetch("/api/admin/upload-logo",{method:"POST",body:A})).json();if(E.success){g(_=>({..._,app_logo:E.data.logo_url})),o(null);const b=document.getElementById("app_logo");b&&(b.value=""),e({title:"Logo uploaded",description:"App logo has been uploaded successfully."}),vt.invalidateQueries({queryKey:["/api/admin/settings"]})}else throw new Error(E.error||"Upload failed")}catch(A){e({title:"Upload failed",description:A.message||"Failed to upload logo. Please try again.",variant:"destructive"})}finally{c(!1)}};return m?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Platform Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings and preferences"})]}),s.jsx(X,{onClick:N,disabled:r||!t,"data-testid":"button-save-settings",children:r?"Saving...":n?"Demo Mode - Read Only":"Save Changes"})]}),n&&s.jsxs(On,{className:"mb-6",children:[s.jsx(sv,{className:"h-4 w-4"}),s.jsx(Fn,{children:"Demo mode is active. All settings are read-only and cannot be modified."})]}),s.jsxs(xc,{defaultValue:"general",className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Oo,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-6",children:[s.jsxs(St,{value:"general","data-testid":"tab-general",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Qy,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"General"]}),s.jsxs(St,{value:"payment","data-testid":"tab-payment",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Ss,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Payment"]}),s.jsxs(St,{value:"api-keys","data-testid":"tab-api-keys",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(XO,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"API Keys"]}),s.jsxs(St,{value:"integrations","data-testid":"tab-integrations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(oc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Integrations"]}),s.jsxs(St,{value:"app-versions","data-testid":"tab-app-versions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(kk,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"App Versions"]}),s.jsxs(St,{value:"translations","data-testid":"tab-translations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(ZO,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Translations"]})]})}),s.jsxs(Ct,{value:"general",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"General Settings"}),s.jsx(Re,{children:"Basic platform configuration"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"app_name",children:"App Name"}),s.jsx(ye,{id:"app_name",value:x.app_name,onChange:w=>v("app_name",w.target.value),placeholder:"Your App Name","data-testid":"input-app-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"seo_title",children:"SEO Title"}),s.jsx(ye,{id:"seo_title",value:x.seo_title,onChange:w=>v("seo_title",w.target.value),placeholder:"Browser title (defaults to App Name if empty)","data-testid":"input-seo-title"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will appear in the browser tab. If empty, the app name will be used."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"support_email",children:"Support Email"}),s.jsx(ye,{id:"support_email",type:"email",value:x.support_email,onChange:w=>v("support_email",w.target.value),placeholder:"support@example.com","data-testid":"input-support-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"currency",children:"Currency Symbol"}),s.jsx(ye,{id:"currency",value:x.currency,onChange:w=>v("currency",w.target.value),placeholder:"$","data-testid":"input-currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"commission",children:"Platform Commission (%)"}),s.jsx(ye,{id:"commission",type:"number",value:x.commission,onChange:w=>v("commission",w.target.value),placeholder:"5","data-testid":"input-commission"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Commission percentage charged on transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stripe_fee",children:"Stripe Fee (%)"}),s.jsx(ye,{id:"stripe_fee",type:"number",step:"0.01",value:x.stripe_fee,onChange:w=>v("stripe_fee",w.target.value),placeholder:"2.9","data-testid":"input-stripe-fee"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe processing fee percentage"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"extra_charges",children:"Extra Charges (Fixed)"}),s.jsx(ye,{id:"extra_charges",type:"number",step:"0.01",value:x.extra_charges,onChange:w=>v("extra_charges",w.target.value),placeholder:"0.30","data-testid":"input-extra-charges"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed additional charges per transaction"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"app_logo",children:"App Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[x.app_logo&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:x.app_logo.startsWith("http")?x.app_logo:vc(x.app_logo,d),alt:"App Logo",className:"h-20 w-20 object-contain rounded border border-border bg-muted p-2",onError:w=>{w.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%23666">Logo</text></svg>'}})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{id:"app_logo",type:"file",accept:"image/*",onChange:w=>{var M;const A=(M=w.target.files)==null?void 0:M[0];A&&o(A)},"data-testid":"input-app-logo",className:"cursor-pointer flex-1"}),s.jsx(X,{type:"button",onClick:()=>{a?S(a):e({title:"No file selected",description:"Please select a logo file first.",variant:"destructive"})},disabled:!a||l,"data-testid":"button-upload-logo",children:l?"Uploading...":"Upload"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a logo file and click Upload (PNG, JPG, or SVG recommended)"})]})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Legal Links"}),s.jsx(Re,{children:"Privacy policy and terms of service URLs"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"privacy_url",children:"Privacy Policy URL"}),s.jsx(ye,{id:"privacy_url",type:"url",value:x.privacy_url,onChange:w=>v("privacy_url",w.target.value),placeholder:"https://example.com/privacy","data-testid":"input-privacy-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"terms_url",children:"Terms of Service URL"}),s.jsx(ye,{id:"terms_url",type:"url",value:x.terms_url,onChange:w=>v("terms_url",w.target.value),placeholder:"https://example.com/terms","data-testid":"input-terms-url"})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"App Theme Colors"}),s.jsx(Re,{children:"Configure primary and secondary colors for your mobile app"})]}),s.jsx(ie,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"primary_color",children:"Primary Color (Main Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:x.primary_color?`#${x.primary_color.slice(-6)}`:"#FACC15"}}),s.jsx(ye,{id:"primary_color",value:x.primary_color,onChange:w=>v("primary_color",w.target.value.toUpperCase()),placeholder:"FFFACC15","data-testid":"input-primary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FFFACC15 for yellow)."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"secondary_color",children:"Secondary Color (Sub Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:x.secondary_color?`#${x.secondary_color.slice(-6)}`:"#0D9488"}}),s.jsx(ye,{id:"secondary_color",value:x.secondary_color,onChange:w=>v("secondary_color",w.target.value.toUpperCase()),placeholder:"FF0D9488","data-testid":"input-secondary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FF0D9488 for teal)."})]})]})})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Seller Approval Workflow"}),s.jsx(Re,{children:"Control how users become sellers on your platform"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(fe,{htmlFor:"seller-auto-approve",children:"Automatic Seller Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, users can become sellers automatically without admin approval. When disabled, admin must manually approve all seller applications."})]}),s.jsx(Ll,{id:"seller-auto-approve",checked:x.seller_auto_approve,onCheckedChange:w=>v("seller_auto_approve",w),"data-testid":"switch-seller-auto-approve"})]}),s.jsxs(On,{children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsx(Fn,{children:x.seller_auto_approve?s.jsxs(s.Fragment,{children:["Automatic approval is ",s.jsx("strong",{children:"enabled"}),". Users will become sellers immediately after applying."]}):s.jsxs(s.Fragment,{children:["Manual approval is ",s.jsx("strong",{children:"required"}),". Admins must review and approve seller applications in the Users section."]})})]})]})]}),!x.demoMode&&s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Demo Mode"}),s.jsx(Re,{children:"Control whether CRUD operations are allowed on the platform"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(fe,{htmlFor:"demo-mode",children:"Enable Demo Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, all create, update, and delete operations will be disabled for everyone (including super admins). Perfect for protecting demo environments from modifications."})]}),s.jsx(Ll,{id:"demo-mode",checked:x.demoMode,onCheckedChange:w=>v("demoMode",w),"data-testid":"switch-demo-mode"})]}),x.demoMode&&s.jsxs(On,{children:[s.jsx(sv,{className:"h-4 w-4"}),s.jsxs(Fn,{children:["Demo mode is currently ",s.jsx("strong",{children:"enabled"}),". All CRUD operations are disabled across the platform."]})]})]})]})]}),s.jsx(Ct,{value:"payment",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Stripe Integration"}),s.jsx(Re,{children:"Stripe payment gateway configuration"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stripepublickey",children:"Stripe Publishable Key"}),s.jsx(ye,{id:"stripepublickey",value:x.demoMode?j(x.stripepublickey):x.stripepublickey,onChange:w=>v("stripepublickey",w.target.value),placeholder:"pk_test_...","data-testid":"input-stripe-public-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stripeSecretKey",children:"Stripe Secret Key"}),s.jsx(ye,{id:"stripeSecretKey",type:x.demoMode?"text":"password",value:x.demoMode?j(x.stripeSecretKey):x.stripeSecretKey,onChange:w=>v("stripeSecretKey",w.target.value),placeholder:"sk_test_...","data-testid":"input-stripe-secret-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this key secret and secure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stripe_webhook_key",children:"Stripe Webhook Secret"}),s.jsx(ye,{id:"stripe_webhook_key",type:x.demoMode?"text":"password",value:x.demoMode?j(x.stripe_webhook_key):x.stripe_webhook_key,onChange:w=>v("stripe_webhook_key",w.target.value),placeholder:"whsec_...","data-testid":"input-stripe-webhook-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for verifying webhook events from Stripe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stripe_connect_account",children:"Stripe Connect Account (Shipping Fees)"}),s.jsx(ye,{id:"stripe_connect_account",value:x.stripe_connect_account,onChange:w=>v("stripe_connect_account",w.target.value),placeholder:"acct_...","data-testid":"input-stripe-connect-account",readOnly:x.demoMode,disabled:x.demoMode}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe Connect account ID to receive shipping fees"})]})]})]})}),s.jsxs(Ct,{value:"api-keys",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Firebase Configuration"}),s.jsx(Re,{children:"Configure Firebase for authentication and storage (web apps)"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs(On,{children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsx(Fn,{children:"These settings configure Firebase for your web applications (admin panel and marketplace). Get these values from your Firebase Console  Project Settings  General  Your apps."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"firebase_api_key",children:"Firebase API Key (Web Apps)"}),s.jsx(ye,{id:"firebase_api_key",type:x.demoMode?"text":"password",value:x.demoMode?j(x.firebase_api_key):x.firebase_api_key,onChange:w=>v("firebase_api_key",w.target.value),placeholder:"AIza...","data-testid":"input-firebase-web-api-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for web authentication"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"firebase_auth_domain",children:"Firebase Auth Domain"}),s.jsx(ye,{id:"firebase_auth_domain",value:x.firebase_auth_domain,onChange:w=>v("firebase_auth_domain",w.target.value),placeholder:"your-project.firebaseapp.com","data-testid":"input-firebase-auth-domain",readOnly:x.demoMode,disabled:x.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"firebase_project_id",children:"Firebase Project ID"}),s.jsx(ye,{id:"firebase_project_id",value:x.firebase_project_id,onChange:w=>v("firebase_project_id",w.target.value),placeholder:"your-project-id","data-testid":"input-firebase-project-id",readOnly:x.demoMode,disabled:x.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"firebase_storage_bucket",children:"Firebase Storage Bucket"}),s.jsx(ye,{id:"firebase_storage_bucket",value:x.firebase_storage_bucket,onChange:w=>v("firebase_storage_bucket",w.target.value),placeholder:"your-project.appspot.com","data-testid":"input-firebase-storage-bucket",readOnly:x.demoMode,disabled:x.demoMode})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"firebase_app_id",children:"Firebase App ID"}),s.jsx(ye,{id:"firebase_app_id",type:x.demoMode?"text":"password",value:x.demoMode?j(x.firebase_app_id):x.firebase_app_id,onChange:w=>v("firebase_app_id",w.target.value),placeholder:"1:123456789:web:abc123def456","data-testid":"input-firebase-app-id",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this App ID secure"})]}),s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-medium mb-4",children:"Mobile App (Legacy)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"FIREBASE_API_KEY",children:"Firebase API Key (Mobile Apps)"}),s.jsx(ye,{id:"FIREBASE_API_KEY",type:x.demoMode?"text":"password",value:x.demoMode?j(x.FIREBASE_API_KEY):x.FIREBASE_API_KEY,onChange:w=>v("FIREBASE_API_KEY",w.target.value),placeholder:"AIza...","data-testid":"input-firebase-api-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"For mobile apps only (Flutter/React Native)"})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Other API Keys"}),s.jsx(Re,{children:"Additional third-party service keys"})]}),s.jsx(ie,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"shippo_api_key",children:"Shippo API Key"}),s.jsx(ye,{id:"shippo_api_key",type:x.demoMode?"text":"password",value:x.demoMode?j(x.shippo_api_key):x.shippo_api_key,onChange:w=>v("shippo_api_key",w.target.value),placeholder:"shippo_...","data-testid":"input-shippo-api-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for shipping label generation"})]})})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Email Service Configuration"}),s.jsx(Re,{children:"Configure email service for sending emails to users"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_service_provider",children:"Email Service Provider"}),s.jsxs(yn,{value:x.email_service_provider,onValueChange:w=>v("email_service_provider",w),children:[s.jsx(mn,{id:"email_service_provider","data-testid":"select-email-provider",children:s.jsx(wn,{placeholder:"Select provider"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"sendgrid",children:"SendGrid"}),s.jsx(te,{value:"mailgun",children:"Mailgun"}),s.jsx(te,{value:"resend",children:"Resend"}),s.jsx(te,{value:"smtp",children:"SMTP"})]})]})]}),x.email_service_provider!=="smtp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_api_key",children:"Email API Key"}),s.jsx(ye,{id:"email_api_key",type:x.demoMode?"text":"password",value:x.demoMode?j(x.email_api_key):x.email_api_key,onChange:w=>v("email_api_key",w.target.value),placeholder:"SG.xxx... or your provider's API key","data-testid":"input-email-api-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for your email service provider"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_from_address",children:"From Email Address"}),s.jsx(ye,{id:"email_from_address",type:"email",value:x.email_from_address,onChange:w=>v("email_from_address",w.target.value),placeholder:"noreply@yourdomain.com","data-testid":"input-email-from-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_from_name",children:"From Name"}),s.jsx(ye,{id:"email_from_name",value:x.email_from_name,onChange:w=>v("email_from_name",w.target.value),placeholder:"Your App Name","data-testid":"input-email-from-name"})]})]}),x.email_service_provider==="mailgun"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_mailgun_domain",children:"Mailgun Domain"}),s.jsx(ye,{id:"email_mailgun_domain",value:x.email_mailgun_domain,onChange:w=>v("email_mailgun_domain",w.target.value),placeholder:"mg.yourdomain.com","data-testid":"input-mailgun-domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Mailgun sending domain"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_reply_to",children:"Reply-To Email (Optional)"}),s.jsx(ye,{id:"email_reply_to",type:"email",value:x.email_reply_to,onChange:w=>v("email_reply_to",w.target.value),placeholder:"support@gmail.com","data-testid":"input-email-reply-to"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When users reply to emails, their response will go to this address (can be different from From Email)"})]})]}),x.email_service_provider==="smtp"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs(On,{children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsxs(Fn,{children:[s.jsx("strong",{children:"Gmail Users:"})," Use an App Password instead of your regular password.",s.jsx("br",{}),"Generate one at: ",s.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"myaccount.google.com/apppasswords"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_smtp_host",children:"SMTP Host"}),s.jsx(ye,{id:"email_smtp_host",value:x.email_smtp_host,onChange:w=>v("email_smtp_host",w.target.value),placeholder:"smtp.gmail.com","data-testid":"input-smtp-host"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_smtp_port",children:"SMTP Port"}),s.jsx(ye,{id:"email_smtp_port",value:x.email_smtp_port,onChange:w=>v("email_smtp_port",w.target.value),placeholder:"587","data-testid":"input-smtp-port"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_smtp_user",children:"SMTP Username"}),s.jsx(ye,{id:"email_smtp_user",value:x.email_smtp_user,onChange:w=>v("email_smtp_user",w.target.value),placeholder:"your-email@gmail.com","data-testid":"input-smtp-user"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email_smtp_pass",children:"SMTP Password"}),s.jsx(ye,{id:"email_smtp_pass",type:x.demoMode?"text":"password",value:x.demoMode?j(x.email_smtp_pass):x.email_smtp_pass,onChange:w=>v("email_smtp_pass",w.target.value),placeholder:"App Password (16 characters)","data-testid":"input-smtp-pass",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""})]})]})]})]})]})]}),s.jsx(Ct,{value:"integrations",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"LiveKit Integration"}),s.jsx(Re,{children:"Live streaming platform configuration"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"livekit_url",children:"LiveKit URL"}),s.jsx(ye,{id:"livekit_url",value:x.livekit_url,onChange:w=>v("livekit_url",w.target.value),placeholder:"wss://your-livekit-url.com","data-testid":"input-livekit-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"livekit_api_key",children:"LiveKit API Key"}),s.jsx(ye,{id:"livekit_api_key",type:x.demoMode?"text":"password",value:x.demoMode?j(x.livekit_api_key):x.livekit_api_key,onChange:w=>v("livekit_api_key",w.target.value),placeholder:"API...","data-testid":"input-livekit-api-key",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"livekit_api_secret",children:"LiveKit API Secret"}),s.jsx(ye,{id:"livekit_api_secret",type:x.demoMode?"text":"password",value:x.demoMode?j(x.livekit_api_secret):x.livekit_api_secret,onChange:w=>v("livekit_api_secret",w.target.value),placeholder:"Secret...","data-testid":"input-livekit-api-secret",readOnly:x.demoMode,disabled:x.demoMode,onCopy:w=>x.demoMode&&w.preventDefault(),onCut:w=>x.demoMode&&w.preventDefault(),onPaste:w=>x.demoMode&&w.preventDefault(),className:x.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiveKit credentials for video streaming"})]})]})]})}),s.jsx(Ct,{value:"app-versions",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"App Version Management"}),s.jsx(Re,{children:"Manage mobile app version numbers"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"appVersion",children:"App Version"}),s.jsx(ye,{id:"appVersion",value:x.appVersion,onChange:w=>v("appVersion",w.target.value),placeholder:"1.0.0","data-testid":"input-app-version"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"androidVersion",children:"Android Version"}),s.jsx(ye,{id:"androidVersion",value:x.androidVersion,onChange:w=>v("androidVersion",w.target.value),placeholder:"1.0.0","data-testid":"input-android-version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"iosVersion",children:"iOS Version"}),s.jsx(ye,{id:"iosVersion",value:x.iosVersion,onChange:w=>v("iosVersion",w.target.value),placeholder:"1.0.0","data-testid":"input-ios-version"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ll,{id:"forceUpdate",checked:x.forceUpdate,onCheckedChange:w=>v("forceUpdate",w),"data-testid":"switch-force-update"}),s.jsx(fe,{htmlFor:"forceUpdate",className:"cursor-pointer",children:"Force App Update"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, users will be required to update the app to continue using it"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"These version numbers are used with the Force Update feature"})]})]})}),s.jsx(Ct,{value:"translations",className:"space-y-6",children:s.jsx(NB,{})})]})]})})}function NB(){const{toast:e}=bn(),{canManageSettings:t,isDemoMode:n}=FA(),[r,i]=p.useState("en"),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[m,f]=p.useState(""),j=p.useRef(!1),{data:x,isLoading:g}=Ze({queryKey:["/api/admin/translations"]}),C=(x==null?void 0:x.data)||{},N=C.translations||C,v=C.version,S=C.default_language,[w,A]=p.useState({}),M=Object.keys(w);p.useEffect(()=>{N&&Object.keys(N).length>0&&Object.keys(w).length===0&&A(N)},[N,w]),p.useEffect(()=>{!j.current&&S?(f(S),j.current=!0):!j.current&&M.length>0&&!m&&(f(M[0]),j.current=!0)},[S,M,m]);const E=Array.from(new Set(Object.values(w).flatMap(O=>Object.keys(O)))).sort(),b=()=>{if(!a||a.length!==2){e({title:"Invalid language code",description:"Language code must be exactly 2 characters (e.g., 'es', 'fr')",variant:"destructive"});return}if(M.includes(a)){e({title:"Language already exists",description:`Language '${a}' is already configured`,variant:"destructive"});return}if(M.length===0){const O={app_name:"",hi:"",home:"",profile:"",settings:""};A({[a]:O})}else{const O=N.en||N[M[0]]||{},K={};Object.keys(O).forEach(z=>{K[z]=""}),A(z=>({...z,[a]:K}))}i(a),o(""),c(!1),e({title:"Language added",description:`Language '${a}' has been added. ${M.length===0?"Add your translation keys and":"Fill in the translations and"} save.`})},_=O=>{if(O==="en"){e({title:"Cannot delete English",description:"English is the default language and cannot be deleted",variant:"destructive"});return}const K={...w};delete K[O],A(K),r===O&&i("en"),e({title:"Language removed",description:`Language '${O}' has been removed. Click Save to apply changes.`})},R=(O,K)=>{A(z=>({...z,[r]:{...z[r],[O]:K}}))},P=async()=>{if(!t){e({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}h(!0);try{if(!(await mt("POST","/api/admin/translations",{translations:w,default_language:m})).ok)throw new Error("Failed to save translations");vt.invalidateQueries({queryKey:["/api/admin/translations"]}),e({title:"Translations saved",description:"All translations have been saved successfully"})}catch(O){e({title:"Error",description:O.message||"Failed to save translations",variant:"destructive"})}finally{h(!1)}},k=async()=>{try{const O=await fetch("/api/admin/translations/download",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!O.ok)throw new Error("Failed to download translations");const K=await O.blob(),z=window.URL.createObjectURL(K),V=document.createElement("a");V.href=z,V.download="translations.xml",document.body.appendChild(V),V.click(),window.URL.revokeObjectURL(z),document.body.removeChild(V),e({title:"Download started",description:"Your translations XML file is downloading"})}catch(O){e({title:"Error",description:O.message||"Failed to download translations",variant:"destructive"})}},I=async O=>{var z;const K=(z=O.target.files)==null?void 0:z[0];if(K){if(!K.name.endsWith(".xml")){e({title:"Invalid file",description:"Please upload an XML file",variant:"destructive"});return}try{const V=new FormData;V.append("file",K);const F=await fetch("/api/admin/translations/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:V});if(!F.ok){const ee=await F.json();throw new Error(ee.error||"Failed to upload translations")}const B=await F.json();vt.invalidateQueries({queryKey:["/api/admin/translations"]}),e({title:"Upload successful",description:B.message||"Translations imported successfully"}),O.target.value=""}catch(V){e({title:"Error",description:V.message||"Failed to upload translations",variant:"destructive"}),O.target.value=""}}};return g?s.jsx(se,{children:s.jsx(ie,{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):M.length===0&&!l?s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"App Translations"}),s.jsx(Re,{children:"No translations found. Add your first language to get started."})]}),s.jsxs(ie,{children:[s.jsxs(On,{className:"mb-4",children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsx(Fn,{children:"Start by adding English (en) as your default language, then add translation keys."})]}),s.jsxs(X,{onClick:()=>c(!0),"data-testid":"button-add-first-language",children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Add First Language"]}),l&&s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ye,{placeholder:"Code (e.g., en)",value:a,onChange:O=>o(O.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(X,{onClick:b,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(X,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]})]})]}):s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"App Translations"}),s.jsx(Re,{children:"Manage translations for your mobile app. Download as XML, edit offline, and upload back."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{onClick:k,variant:"outline","data-testid":"button-download-xml",children:[s.jsx(KO,{className:"h-4 w-4 mr-2"}),"Download XML"]}),s.jsxs(X,{onClick:()=>{var O;return(O=document.getElementById("xml-upload-input"))==null?void 0:O.click()},variant:"outline","data-testid":"button-upload-xml",children:[s.jsx(Zy,{className:"h-4 w-4 mr-2"}),"Upload XML"]}),s.jsx("input",{id:"xml-upload-input",type:"file",accept:".xml",onChange:I,className:"hidden","data-testid":"input-xml-upload"}),s.jsx(X,{onClick:P,disabled:d||!t,"data-testid":"button-save-translations",children:d?"Saving...":n?"Demo Mode - Read Only":"Save"})]})]})}),s.jsxs(ie,{className:"space-y-6",children:[v!==void 0&&s.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground border-b pb-4",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Version:"})," ",v]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Select Language to Edit"}),s.jsxs(yn,{value:r,onValueChange:i,children:[s.jsx(mn,{"data-testid":"select-language",children:s.jsx(wn,{})}),s.jsx(pn,{children:M.map(O=>{var K;return s.jsxs(te,{value:O,children:[O.toUpperCase()," - ",((K=w[O])==null?void 0:K.app_name)||"Language"]},O)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Default Language"}),s.jsxs(yn,{value:m||M[0]||"en",onValueChange:f,children:[s.jsx(mn,{"data-testid":"select-default-language",children:s.jsx(wn,{placeholder:"Select default language"})}),s.jsx(pn,{children:M.map(O=>{var K;return s.jsxs(te,{value:O,children:[O.toUpperCase()," - ",((K=w[O])==null?void 0:K.app_name)||"Language"]},O)})})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[l?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{placeholder:"Code (e.g., es)",value:a,onChange:O=>o(O.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(X,{onClick:b,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(X,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]}):s.jsxs(X,{onClick:()=>c(!0),variant:"outline","data-testid":"button-add-language",children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Add Language"]}),r!=="en"&&s.jsx(X,{onClick:()=>_(r),variant:"destructive",size:"sm","data-testid":"button-delete-language",children:s.jsx(Xy,{className:"h-4 w-4"})})]}),s.jsxs(On,{className:"mb-4",children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsxs(Fn,{children:[s.jsx("strong",{children:"Dynamic Placeholders:"})," Use placeholders like ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@app_name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@provider"})," in your translations. These will be automatically replaced with actual values in the app."]})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"bg-muted px-4 py-3 border-b",children:s.jsxs("p",{className:"text-sm font-medium",children:["Editing ",r.toUpperCase()," (",E.length," keys)"]})}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"divide-y",children:E.map(O=>{var V,F;const K=(V=N.en)==null?void 0:V[O],z=r!=="en"&&K?K:`Enter ${r.toUpperCase()} translation for "${O}"`;return s.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(fe,{htmlFor:`trans-${O}`,className:"text-xs text-muted-foreground font-mono",children:O}),s.jsx(ye,{id:`trans-${O}`,value:((F=w[r])==null?void 0:F[O])||"",onChange:B=>R(O,B.target.value),placeholder:z,"data-testid":`input-translation-${O}`})]})},O)})})})]}),E.length===0&&s.jsxs(On,{children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsx(Fn,{children:"No translation keys found. Add a language and start adding translations."})]})]})]})}function _B(){var S,w,A;const{toast:e}=bn(),[t,n]=p.useState(!1),[r,i]=p.useState(!1),{data:a}=Ze({queryKey:["/api/auth/session"]}),o=((S=a==null?void 0:a.data)==null?void 0:S.id)||((w=a==null?void 0:a.data)==null?void 0:w._id),{data:l,isLoading:c}=Ze({queryKey:[`/api/admin/profile/${o}`],enabled:!!o}),d=((A=l==null?void 0:l.data)==null?void 0:A.admin)||(l==null?void 0:l.admin)||(l==null?void 0:l.data)||l,[h,m]=p.useState({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||""}),[f,j]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""});p.useEffect(()=>{d&&m({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.full_name)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""})},[d]);const x=Dt({mutationFn:async M=>{const E={full_name:M.fullname,email:M.email,username:M.username};return mt("PATCH","/api/admin/profile",E)},onSuccess:()=>{vt.invalidateQueries({queryKey:[`/api/admin/profile/${o}`]}),vt.invalidateQueries({queryKey:["/api/auth/session"]}),n(!1),e({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:M=>{e({title:"Update failed",description:M.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),g=Dt({mutationFn:async M=>mt("POST","/api/admin/change-password",M),onSuccess:()=>{i(!1),j({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:"Password changed",description:"Your password has been changed successfully."})},onError:M=>{e({title:"Password change failed",description:M.message||"Failed to change password. Please try again.",variant:"destructive"})}}),C=M=>{M.preventDefault(),x.mutate(h)},N=M=>{if(M.preventDefault(),f.newPassword!==f.confirmPassword){e({title:"Passwords don't match",description:"New password and confirm password must match.",variant:"destructive"});return}if(f.newPassword.length<6){e({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}g.mutate({currentPassword:f.currentPassword,newPassword:f.newPassword})},v=M=>M.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2);return c?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and security"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"Profile Information"}),s.jsx(Re,{children:"Update your personal details"})]}),!t&&s.jsxs(X,{onClick:()=>{m({fullname:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""}),n(!0)},"data-testid":"button-edit-profile",children:[s.jsx(ur,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),s.jsx(ie,{children:t?s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(Yr,{className:"h-24 w-24",children:[s.jsx(Qr,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(Xr,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?v(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"fullname",children:"Full Name"}),s.jsx(ye,{id:"fullname",value:h.fullname,onChange:M=>m({...h,fullname:M.target.value}),"data-testid":"input-fullname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"username",children:"Username"}),s.jsx(ye,{id:"username",value:h.username,onChange:M=>m({...h,username:M.target.value}),"data-testid":"input-username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",type:"email",value:h.email,onChange:M=>m({...h,email:M.target.value}),"data-testid":"input-email"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(X,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-edit",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(X,{type:"submit",disabled:x.isPending,"data-testid":"button-save-profile",children:[s.jsx(VN,{className:"h-4 w-4 mr-2"}),x.isPending?"Saving...":"Save Changes"]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(Yr,{className:"h-24 w-24",children:[s.jsx(Qr,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(Xr,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?v(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-fullname",children:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-muted-foreground",children:"Username"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-username",children:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-email",children:(d==null?void 0:d.email)||"Not set"})]})]})]})})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"Change Password"}),s.jsx(Re,{children:"Update your account password"})]}),!r&&s.jsxs(X,{onClick:()=>i(!0),variant:"outline","data-testid":"button-change-password",children:[s.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Change Password"]})]}),r&&s.jsx(ie,{children:s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(ye,{id:"currentPassword",type:"password",value:f.currentPassword,onChange:M=>j({...f,currentPassword:M.target.value}),required:!0,"data-testid":"input-current-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"newPassword",children:"New Password"}),s.jsx(ye,{id:"newPassword",type:"password",value:f.newPassword,onChange:M=>j({...f,newPassword:M.target.value}),required:!0,minLength:6,"data-testid":"input-new-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(ye,{id:"confirmPassword",type:"password",value:f.confirmPassword,onChange:M=>j({...f,confirmPassword:M.target.value}),required:!0,minLength:6,"data-testid":"input-confirm-password"})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(X,{type:"button",variant:"outline",onClick:()=>{i(!1),j({currentPassword:"",newPassword:"",confirmPassword:""})},"data-testid":"button-cancel-password",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(X,{type:"submit",disabled:g.isPending,"data-testid":"button-save-password",children:[s.jsx(VN,{className:"h-4 w-4 mr-2"}),g.isPending?"Changing...":"Change Password"]})]})]})})]})]})]})})}function dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Mn(e,t){const n=dt(e);return isNaN(t)?mr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ts(e,t){const n=dt(e);if(isNaN(t))return mr(e,NaN);if(!t)return n;const r=n.getDate(),i=mr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const rj=6048e5,SB=864e5;let CB={};function Bu(){return CB}function Ms(e,t){var l,c,d,h;const n=Bu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=dt(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Lo(e){return Ms(e,{weekStartsOn:1})}function LA(e){const t=dt(e),n=t.getFullYear(),r=mr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lo(r),a=mr(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Lo(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function yc(e){const t=dt(e);return t.setHours(0,0,0,0),t}function um(e){const t=dt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function bs(e,t){const n=yc(e),r=yc(t),i=+n-um(n),a=+r-um(r);return Math.round((i-a)/SB)}function kB(e){const t=LA(e),n=mr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Lo(n)}function Fv(e,t){const n=t*7;return Mn(e,n)}function EB(e,t){return ts(e,t*12)}function TB(e){let t;return e.forEach(function(n){const r=dt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function PB(e){let t;return e.forEach(n=>{const r=dt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Qn(e,t){const n=yc(e),r=yc(t);return+n==+r}function sj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AB(e){if(!sj(e)&&typeof e!="number")return!1;const t=dt(e);return!isNaN(Number(t))}function gu(e,t){const n=dt(e),r=dt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function IB(e,t,n){const r=Ms(e,n),i=Ms(t,n),a=+r-um(r),o=+i-um(i);return Math.round((a-o)/rj)}function ij(e){const t=dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function er(e){const t=dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $A(e){const t=dt(e),n=mr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function aj(e,t){var l,c,d,h;const n=Bu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=dt(e),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function UA(e){return aj(e,{weekStartsOn:1})}const RB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DB=(e,t,n)=>{let r;const i=RB[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Lg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const MB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LB={date:Lg({formats:MB,defaultWidth:"full"}),time:Lg({formats:OB,defaultWidth:"full"}),dateTime:Lg({formats:FB,defaultWidth:"full"})},$B={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UB=(e,t,n,r)=>$B[e];function cd(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const VB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},WB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KB=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GB={ordinalNumber:KB,era:cd({values:VB,defaultWidth:"wide"}),quarter:cd({values:zB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cd({values:BB,defaultWidth:"wide"}),day:cd({values:WB,defaultWidth:"wide"}),dayPeriod:cd({values:HB,defaultWidth:"wide",formattingValues:qB,defaultFormattingWidth:"wide"})};function dd(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?QB(l,m=>m.test(o)):YB(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(o.length);return{value:d,rest:h}}}function YB(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function QB(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function XB(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const ZB=/^(\d+)(th|st|nd|rd)?/i,JB=/\d+/i,eW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tW={any:[/^b/i,/^(a|c)/i]},nW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rW={any:[/1/i,/2/i,/3/i,/4/i]},sW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dW={ordinalNumber:XB({matchPattern:ZB,parsePattern:JB,valueCallback:e=>parseInt(e,10)}),era:dd({matchPatterns:eW,defaultMatchWidth:"wide",parsePatterns:tW,defaultParseWidth:"any"}),quarter:dd({matchPatterns:nW,defaultMatchWidth:"wide",parsePatterns:rW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dd({matchPatterns:sW,defaultMatchWidth:"wide",parsePatterns:iW,defaultParseWidth:"any"}),day:dd({matchPatterns:aW,defaultMatchWidth:"wide",parsePatterns:oW,defaultParseWidth:"any"}),dayPeriod:dd({matchPatterns:lW,defaultMatchWidth:"any",parsePatterns:cW,defaultParseWidth:"any"})},VA={code:"en-US",formatDistance:DB,formatLong:LB,formatRelative:UB,localize:GB,match:dW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uW(e){const t=dt(e);return bs(t,$A(t))+1}function zA(e){const t=dt(e),n=+Lo(t)-+kB(t);return Math.round(n/rj)+1}function BA(e,t){var h,m,f,j;const n=dt(e),r=n.getFullYear(),i=Bu(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((j=(f=i.locale)==null?void 0:f.options)==null?void 0:j.firstWeekContainsDate)??1,o=mr(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Ms(o,t),c=mr(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Ms(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function hW(e,t){var l,c,d,h;const n=Bu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=BA(e,t),a=mr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ms(a,t)}function WA(e,t){const n=dt(e),r=+Ms(n,t)-+hW(n,t);return Math.round(r/rj)+1}function xt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Di={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return xt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):xt(n+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return xt(i,t.length)}},al={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Di.y(e,t)},Y:function(e,t,n,r){const i=BA(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return xt(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):xt(a,t.length)},R:function(e,t){const n=LA(e);return xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return xt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Di.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=WA(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):xt(i,t.length)},I:function(e,t,n){const r=zA(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Di.d(e,t)},D:function(e,t,n){const r=uW(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return xt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return xt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=al.noon:r===0?i=al.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=al.evening:r>=12?i=al.afternoon:r>=4?i=al.morning:i=al.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Di.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Di.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Di.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Di.s(e,t)},S:function(e,t){return Di.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return z_(r);case"XXXX":case"XX":return Ya(r);case"XXXXX":case"XXX":default:return Ya(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return z_(r);case"xxxx":case"xx":return Ya(r);case"xxxxx":case"xxx":default:return Ya(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+V_(r,":");case"OOOO":default:return"GMT"+Ya(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+V_(r,":");case"zzzz":default:return"GMT"+Ya(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return xt(r,t.length)},T:function(e,t,n){const r=e.getTime();return xt(r,t.length)}};function V_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+xt(a,2)}function z_(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):Ya(e,t)}function Ya(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=xt(Math.trunc(r/60),2),a=xt(r%60,2);return n+i+t+a}const B_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fW=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return B_(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",B_(r,t)).replace("{{time}}",HA(i,t))},mW={p:HA,P:fW},pW=/^D+$/,gW=/^Y+$/,xW=["D","DD","YY","YYYY"];function vW(e){return pW.test(e)}function yW(e){return gW.test(e)}function wW(e,t,n){const r=jW(e,t,n);if(console.warn(r),xW.includes(e))throw new RangeError(r)}function jW(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_W=/^'([^]*?)'?$/,SW=/''/g,CW=/[a-zA-Z]/;function Wr(e,t,n){var h,m,f,j,x,g,C,N;const r=Bu(),i=(n==null?void 0:n.locale)??r.locale??VA,a=(n==null?void 0:n.firstWeekContainsDate)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((j=(f=r.locale)==null?void 0:f.options)==null?void 0:j.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((N=(C=r.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??0,l=dt(e);if(!AB(l))throw new RangeError("Invalid time value");let c=t.match(NW).map(v=>{const S=v[0];if(S==="p"||S==="P"){const w=mW[S];return w(v,i.formatLong)}return v}).join("").match(bW).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const S=v[0];if(S==="'")return{isToken:!1,value:kW(v)};if(U_[S])return{isToken:!0,value:v};if(S.match(CW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const S=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yW(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&vW(S))&&wW(S,t,String(e));const w=U_[S[0]];return w(l,S,i.localize,d)}).join("")}function kW(e){const t=e.match(_W);return t?t[1].replace(SW,"'"):e}function EW(e){const t=dt(e),n=t.getFullYear(),r=t.getMonth(),i=mr(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function TW(e){return Math.trunc(+dt(e)/1e3)}function PW(e){const t=dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function AW(e,t){return IB(PW(e),er(e),t)+1}function Lv(e,t){const n=dt(e),r=dt(t);return n.getTime()>r.getTime()}function qA(e,t){const n=dt(e),r=dt(t);return+n<+r}function oj(e,t){const n=dt(e),r=dt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function IW(e,t){const n=dt(e),r=dt(t);return n.getFullYear()===r.getFullYear()}function $g(e,t){return Mn(e,-t)}function Ug(e,t){const n=dt(e),r=n.getFullYear(),i=n.getDate(),a=mr(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=EW(a);return n.setMonth(t,Math.min(i,o)),n}function W_(e,t){const n=dt(e);return isNaN(+n)?mr(e,NaN):(n.setFullYear(t),n)}var fp="Popover",[KA]=tr(fp,[Ia]),Wu=Ia(),[RW,La]=KA(fp),GA=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=Wu(t),c=p.useRef(null),[d,h]=p.useState(!1),[m,f]=hi({prop:r,defaultProp:i??!1,onChange:a,caller:fp});return s.jsx(lw,{...l,children:s.jsx(RW,{scope:t,contentId:Kr(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(j=>!j),[f]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:o,children:n})})};GA.displayName=fp;var YA="PopoverAnchor",DW=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=La(YA,n),a=Wu(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Pu,{...a,...r,ref:t})});DW.displayName=YA;var QA="PopoverTrigger",XA=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=La(QA,n),a=Wu(n),o=tt(t,i.triggerRef),l=s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nI(i.open),...r,ref:o,onClick:ge(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Pu,{asChild:!0,...a,children:l})});XA.displayName=QA;var lj="PopoverPortal",[MW,OW]=KA(lj,{forceMount:void 0}),ZA=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=La(lj,t);return s.jsx(MW,{scope:t,forceMount:n,children:s.jsx(xr,{present:n||a.open,children:s.jsx(kc,{asChild:!0,container:i,children:r})})})};ZA.displayName=lj;var wc="PopoverContent",JA=p.forwardRef((e,t)=>{const n=OW(wc,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=La(wc,e.__scopePopover);return s.jsx(xr,{present:r||a.open,children:a.modal?s.jsx(LW,{...i,ref:t}):s.jsx($W,{...i,ref:t})})});JA.displayName=wc;var FW=wa("PopoverContent.RemoveScroll"),LW=p.forwardRef((e,t)=>{const n=La(wc,e.__scopePopover),r=p.useRef(null),i=tt(t,r),a=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return ep(o)},[]),s.jsx($u,{as:FW,allowPinchZoom:!0,children:s.jsx(eI,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$W=p.forwardRef((e,t)=>{const n=La(wc,e.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(eI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),eI=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...m}=e,f=La(wc,n),j=Wu(n);return Jm(),s.jsx(Lu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx($m,{"data-state":nI(f.open),role:"dialog",id:f.contentId,...j,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tI="PopoverClose",UW=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=La(tI,n);return s.jsx(Ie.button,{type:"button",...r,ref:t,onClick:ge(e.onClick,()=>i.onOpenChange(!1))})});UW.displayName=tI;var VW="PopoverArrow",zW=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Wu(n);return s.jsx(Um,{...i,...r,ref:t})});zW.displayName=VW;function nI(e){return e?"open":"closed"}var BW=GA,WW=XA,HW=ZA,rI=JA;const H_=BW,q_=WW,$v=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>s.jsx(HW,{children:s.jsx(rI,{ref:i,align:t,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));$v.displayName=rI.displayName;var Oe=function(){return Oe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Oe.apply(this,arguments)};function qW(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function sI(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Hu(e){return e.mode==="multiple"}function qu(e){return e.mode==="range"}function mp(e){return e.mode==="single"}var KW={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function GW(e,t){return Wr(e,"LLLL y",t)}function YW(e,t){return Wr(e,"d",t)}function QW(e,t){return Wr(e,"LLLL",t)}function XW(e){return"".concat(e)}function ZW(e,t){return Wr(e,"cccccc",t)}function JW(e,t){return Wr(e,"yyyy",t)}var eH=Object.freeze({__proto__:null,formatCaption:GW,formatDay:YW,formatMonthCaption:QW,formatWeekNumber:XW,formatWeekdayName:ZW,formatYearCaption:JW}),tH=function(e,t,n){return Wr(e,"do MMMM (EEEE)",n)},nH=function(){return"Month: "},rH=function(){return"Go to next month"},sH=function(){return"Go to previous month"},iH=function(e,t){return Wr(e,"cccc",t)},aH=function(e){return"Week n. ".concat(e)},oH=function(){return"Year: "},lH=Object.freeze({__proto__:null,labelDay:tH,labelMonthDropdown:nH,labelNext:rH,labelPrevious:sH,labelWeekNumber:aH,labelWeekday:iH,labelYearDropdown:oH});function cH(){var e="buttons",t=KW,n=VA,r={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:eH,labels:lH,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function dH(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=er(r):t&&(a=new Date(t,0,1)),i?o=ij(i):n&&(o=new Date(n,11,31)),{fromDate:a?yc(a):void 0,toDate:o?yc(o):void 0}}var iI=p.createContext(void 0);function uH(e){var t,n=e.initialProps,r=cH(),i=dH(n),a=i.fromDate,o=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(mp(n)||Hu(n)||qu(n))&&(c=n.onSelect);var d=Oe(Oe(Oe({},r),n),{captionLayout:l,classNames:Oe(Oe({},r.classNames),n.classNames),components:Oe({},n.components),formatters:Oe(Oe({},r.formatters),n.formatters),fromDate:a,labels:Oe(Oe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Oe(Oe({},r.modifiers),n.modifiers),modifiersClassNames:Oe(Oe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Oe(Oe({},r.styles),n.styles),toDate:o});return s.jsx(iI.Provider,{value:d,children:e.children})}function Et(){var e=p.useContext(iI);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function aI(e){var t=Et(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function hH(e){return s.jsx("svg",Oe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oI(e){var t,n,r=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,d=Et(),h=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:hH;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function fH(e){var t,n=Et(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var m=[];if(IW(r,i))for(var f=er(r),j=r.getMonth();j<=i.getMonth();j++)m.push(Ug(f,j));else for(var f=er(new Date),j=0;j<=11;j++)m.push(Ug(f,j));var x=function(C){var N=Number(C.target.value),v=Ug(er(e.displayMonth),N);e.onChange(v)},g=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:oI;return s.jsx(g,{name:"months","aria-label":h(),className:c.dropdown_month,style:a.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(C){return s.jsx("option",{value:C.getMonth(),children:l(C,{locale:o})},C.getMonth())})})}function mH(e){var t,n=e.displayMonth,r=Et(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,h=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,f=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var j=i.getFullYear(),x=a.getFullYear(),g=j;g<=x;g++)f.push(W_($A(new Date),g));var C=function(v){var S=W_(er(n),Number(v.target.value));e.onChange(S)},N=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:oI;return s.jsx(N,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:C,value:n.getFullYear(),caption:h(n,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getFullYear(),children:h(v,{locale:o})},v.getFullYear())})})}function pH(e,t){var n=p.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function gH(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&gu(a,i)<0){var d=-1*(c-1);i=ts(a,d)}return o&&gu(i,o)<0&&(i=o),er(i)}function xH(){var e=Et(),t=gH(e),n=pH(t,e.month),r=n[0],i=n[1],a=function(o){var l;if(!e.disableNavigation){var c=er(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function vH(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=er(e),a=er(ts(i,r)),o=gu(a,i),l=[],c=0;c<o;c++){var d=ts(i,c);l.push(d)}return n&&(l=l.reverse()),l}function yH(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=er(e);if(!n)return ts(l,o);var c=gu(n,e);if(!(c<a))return ts(l,o)}}function wH(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=er(e);if(!n)return ts(l,-o);var c=gu(l,n);if(!(c<=0))return ts(l,-o)}}var lI=p.createContext(void 0);function jH(e){var t=Et(),n=xH(),r=n[0],i=n[1],a=vH(r,t),o=yH(r,t),l=wH(r,t),c=function(m){return a.some(function(f){return oj(m,f)})},d=function(m,f){c(m)||(f&&qA(m,f)?i(ts(m,1+t.numberOfMonths*-1)):i(m))},h={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(lI.Provider,{value:h,children:e.children})}function Ku(){var e=p.useContext(lI);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function K_(e){var t,n=Et(),r=n.classNames,i=n.styles,a=n.components,o=Ku().goToMonth,l=function(h){o(ts(h,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:aI,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(fH,{onChange:l,displayMonth:e.displayMonth}),s.jsx(mH,{onChange:l,displayMonth:e.displayMonth})]})}function bH(e){return s.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NH(e){return s.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hm=p.forwardRef(function(e,t){var n=Et(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),l=Oe(Oe({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Oe({},e,{ref:t,type:"button",className:o,style:l}))});function _H(e){var t,n,r=Et(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,h=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=d(e.previousMonth,{locale:a}),j=[o.nav_button,o.nav_button_previous].join(" "),x=h(e.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),C=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:NH,N=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:bH;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(hm,{name:"previous-month","aria-label":f,className:j,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(C,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(hm,{name:"next-month","aria-label":x,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(C,{className:o.nav_icon,style:l.nav_icon})})]})}function G_(e){var t=Et().numberOfMonths,n=Ku(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(x){return oj(e.displayMonth,x)}),c=l===0,d=l===o.length-1,h=t>1&&(c||!d),m=t>1&&(d||!c),f=function(){r&&a(r)},j=function(){i&&a(i)};return s.jsx(_H,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:j})}function SH(e){var t,n=Et(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:aI,d;return i?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(K_,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(K_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(G_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(G_,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:d})}function CH(e){var t=Et(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function kH(e,t,n){for(var r=n?Lo(new Date):Ms(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=Mn(r,a);i.push(o)}return i}function EH(){var e=Et(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=kH(i,a,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(h,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(h,{locale:i}),children:l(h,{locale:i})},m)})]})}function TH(){var e,t=Et(),n=t.classNames,r=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:EH;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function PH(e){var t=Et(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var cj=p.createContext(void 0);function AH(e){if(!Hu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(cj.Provider,{value:t,children:e.children})}return s.jsx(IH,{initialProps:e.initialProps,children:e.children})}function IH(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,o=function(d,h,m){var f,j;(f=t.onDayClick)===null||f===void 0||f.call(t,d,h,m);var x=!!(h.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var g=!!(!h.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var C=r?sI([],r):[];if(h.selected){var N=C.findIndex(function(v){return Qn(d,v)});C.splice(N,1)}else C.push(d);(j=t.onSelect)===null||j===void 0||j.call(t,C,d,h,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var h=a&&r.length>a-1,m=r.some(function(f){return Qn(f,d)});return!!(h&&!m)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(cj.Provider,{value:c,children:n})}function dj(){var e=p.useContext(cj);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function RH(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Qn(i,e)&&Qn(r,e)?void 0:Qn(i,e)?{from:i,to:void 0}:Qn(r,e)?void 0:Lv(r,e)?{from:e,to:i}:{from:r,to:e}:i?Lv(e,i)?{from:i,to:e}:{from:e,to:i}:r?qA(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var uj=p.createContext(void 0);function DH(e){if(!qu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(uj.Provider,{value:t,children:e.children})}return s.jsx(MH,{initialProps:e.initialProps,children:e.children})}function MH(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,o=i.to,l=t.min,c=t.max,d=function(j,x,g){var C,N;(C=t.onDayClick)===null||C===void 0||C.call(t,j,x,g);var v=RH(j,r);(N=t.onSelect)===null||N===void 0||N.call(t,v,j,x,g)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(h.range_start=[a],o?(h.range_end=[o],Qn(a,o)||(h.range_middle=[{after:a,before:o}])):h.range_end=[a]):o&&(h.range_start=[o],h.range_end=[o]),l&&(a&&!o&&h.disabled.push({after:$g(a,l-1),before:Mn(a,l-1)}),a&&o&&h.disabled.push({after:a,before:Mn(a,l-1)}),!a&&o&&h.disabled.push({after:$g(o,l-1),before:Mn(o,l-1)})),c){if(a&&!o&&(h.disabled.push({before:Mn(a,-c+1)}),h.disabled.push({after:Mn(a,c-1)})),a&&o){var m=bs(o,a)+1,f=c-m;h.disabled.push({before:$g(a,f)}),h.disabled.push({after:Mn(o,f)})}!a&&o&&(h.disabled.push({before:Mn(o,-c+1)}),h.disabled.push({after:Mn(o,c-1)}))}return s.jsx(uj.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:n})}function hj(){var e=p.useContext(uj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function of(e){return Array.isArray(e)?sI([],e):e!==void 0?[e]:[]}function OH(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=of(i)}),t}var ns;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ns||(ns={}));var FH=ns.Selected,Ws=ns.Disabled,LH=ns.Hidden,$H=ns.Today,Vg=ns.RangeEnd,zg=ns.RangeMiddle,Bg=ns.RangeStart,UH=ns.Outside;function VH(e,t,n){var r,i=(r={},r[FH]=of(e.selected),r[Ws]=of(e.disabled),r[LH]=of(e.hidden),r[$H]=[e.today],r[Vg]=[],r[zg]=[],r[Bg]=[],r[UH]=[],r);return e.fromDate&&i[Ws].push({before:e.fromDate}),e.toDate&&i[Ws].push({after:e.toDate}),Hu(e)?i[Ws]=i[Ws].concat(t.modifiers[Ws]):qu(e)&&(i[Ws]=i[Ws].concat(n.modifiers[Ws]),i[Bg]=n.modifiers[Bg],i[zg]=n.modifiers[zg],i[Vg]=n.modifiers[Vg]),i}var cI=p.createContext(void 0);function zH(e){var t=Et(),n=dj(),r=hj(),i=VH(t,n,r),a=OH(t.modifiers),o=Oe(Oe({},i),a);return s.jsx(cI.Provider,{value:o,children:e.children})}function dI(){var e=p.useContext(cI);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function BH(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function WH(e){return!!(e&&typeof e=="object"&&"from"in e)}function HH(e){return!!(e&&typeof e=="object"&&"after"in e)}function qH(e){return!!(e&&typeof e=="object"&&"before"in e)}function KH(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function GH(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=bs(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=bs(e,r)>=0&&bs(i,e)>=0;return o}return i?Qn(i,e):r?Qn(r,e):!1}function YH(e){return sj(e)}function QH(e){return Array.isArray(e)&&e.every(sj)}function XH(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(YH(n))return Qn(e,n);if(QH(n))return n.includes(e);if(WH(n))return GH(e,n);if(KH(n))return n.dayOfWeek.includes(e.getDay());if(BH(n)){var r=bs(n.before,e),i=bs(n.after,e),a=r>0,o=i<0,l=Lv(n.before,n.after);return l?o&&a:a||o}return HH(n)?bs(e,n.after)>0:qH(n)?bs(n.before,e)>0:typeof n=="function"?n(e):!1})}function fj(e,t,n){var r=Object.keys(t).reduce(function(a,o){var l=t[o];return XH(e,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!oj(e,n)&&(i.outside=!0),i}function ZH(e,t){for(var n=er(e[0]),r=ij(e[e.length-1]),i,a,o=n;o<=r;){var l=fj(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Mn(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Mn(o,1)}return a||i}var JH=365;function uI(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,d=i.fromDate,h=i.toDate,m=i.locale,f={day:Mn,week:Fv,month:ts,year:EB,startOfWeek:function(C){return i.ISOWeek?Lo(C):Ms(C,{locale:m,weekStartsOn:c})},endOfWeek:function(C){return i.ISOWeek?UA(C):aj(C,{locale:m,weekStartsOn:c})}},j=f[n](e,r==="after"?1:-1);r==="before"&&d?j=TB([d,j]):r==="after"&&h&&(j=PB([h,j]));var x=!0;if(a){var g=fj(j,a);x=!g.disabled&&!g.hidden}return x?j:l.count>JH?l.lastFocused:uI(j,{moveBy:n,direction:r,context:i,modifiers:a,retry:Oe(Oe({},l),{count:l.count+1})})}var hI=p.createContext(void 0);function eq(e){var t=Ku(),n=dI(),r=p.useState(),i=r[0],a=r[1],o=p.useState(),l=o[0],c=o[1],d=ZH(t.displayMonths,n),h=i??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(i),a(void 0)},f=function(C){a(C)},j=Et(),x=function(C,N){if(i){var v=uI(i,{moveBy:C,direction:N,context:j,modifiers:n});Qn(i,v)||(t.goToDate(v,i),f(v))}},g={focusedDay:i,focusTarget:h,blur:m,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(hI.Provider,{value:g,children:e.children})}function mj(){var e=p.useContext(hI);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function tq(e,t){var n=dI(),r=fj(e,n,t);return r}var pj=p.createContext(void 0);function nq(e){if(!mp(e.initialProps)){var t={selected:void 0};return s.jsx(pj.Provider,{value:t,children:e.children})}return s.jsx(rq,{initialProps:e.initialProps,children:e.children})}function rq(e){var t=e.initialProps,n=e.children,r=function(a,o,l){var c,d,h;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:r};return s.jsx(pj.Provider,{value:i,children:n})}function fI(){var e=p.useContext(pj);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function sq(e,t){var n=Et(),r=fI(),i=dj(),a=hj(),o=mj(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,f=o.focus,j=o.focusMonthBefore,x=o.focusMonthAfter,g=o.focusYearBefore,C=o.focusYearAfter,N=o.focusStartOfWeek,v=o.focusEndOfWeek,S=function(V){var F,B,ee,ne;mp(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,e,t,V):Hu(n)?(B=i.onDayClick)===null||B===void 0||B.call(i,e,t,V):qu(n)?(ee=a.onDayClick)===null||ee===void 0||ee.call(a,e,t,V):(ne=n.onDayClick)===null||ne===void 0||ne.call(n,e,t,V)},w=function(V){var F;f(e),(F=n.onDayFocus)===null||F===void 0||F.call(n,e,t,V)},A=function(V){var F;m(),(F=n.onDayBlur)===null||F===void 0||F.call(n,e,t,V)},M=function(V){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,e,t,V)},E=function(V){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,e,t,V)},b=function(V){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,e,t,V)},_=function(V){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,e,t,V)},R=function(V){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,e,t,V)},P=function(V){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,e,t,V)},k=function(V){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,e,t,V)},I=function(V){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,e,t,V)},O=function(V){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,e,t,V)},K=function(V){var F;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),d();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),h();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():j();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?C():x();break;case"Home":V.preventDefault(),V.stopPropagation(),N();break;case"End":V.preventDefault(),V.stopPropagation(),v();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,e,t,V)},z={onClick:S,onFocus:w,onBlur:A,onKeyDown:K,onKeyUp:O,onMouseEnter:M,onMouseLeave:E,onPointerEnter:b,onPointerLeave:_,onTouchCancel:R,onTouchEnd:P,onTouchMove:k,onTouchStart:I};return z}function iq(){var e=Et(),t=fI(),n=dj(),r=hj(),i=mp(e)?t.selected:Hu(e)?n.selected:qu(e)?r.selected:void 0;return i}function aq(e){return Object.values(ns).includes(e)}function oq(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(aq(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function lq(e,t){var n=Oe({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Oe(Oe({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function cq(e,t,n){var r,i,a,o=Et(),l=mj(),c=tq(e,t),d=sq(e,c),h=iq(),m=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var M;c.outside||l.focusedDay&&m&&Qn(l.focusedDay,e)&&((M=n.current)===null||M===void 0||M.focus())},[l.focusedDay,e,n,m,c.outside]);var f=oq(o,c).join(" "),j=lq(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:PH,C=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),N={style:j,className:f,children:C,role:"gridcell"},v=l.focusTarget&&Qn(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&Qn(l.focusedDay,e),w=Oe(Oe(Oe({},N),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=S||v?0:-1,r)),d),A={isButton:m,isHidden:x,activeModifiers:c,selectedDays:h,buttonProps:w,divProps:N};return A}function dq(e){var t=p.useRef(null),n=cq(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(hm,Oe({name:"day",ref:t},n.buttonProps)):s.jsx("div",Oe({},n.divProps))}function uq(e){var t=e.number,n=e.dates,r=Et(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:h});var m=c(Number(t),{locale:l}),f=function(j){i(t,n,j)};return s.jsx(hm,{name:"week-number","aria-label":m,className:o.weeknumber,style:a.weeknumber,onClick:f,children:h})}function hq(e){var t,n,r=Et(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:dq,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:uq,h;return o&&(h=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[h,e.dates.map(function(m){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},TW(m))})]})}function Y_(e,t,n){for(var r=n!=null&&n.ISOWeek?UA(t):aj(t,n),i=n!=null&&n.ISOWeek?Lo(e):Ms(e,n),a=bs(r,i),o=[],l=0;l<=a;l++)o.push(Mn(i,l));var c=o.reduce(function(d,h){var m=n!=null&&n.ISOWeek?zA(h):WA(h,n),f=d.find(function(j){return j.weekNumber===m});return f?(f.dates.push(h),d):(d.push({weekNumber:m,dates:[h]}),d)},[]);return c}function fq(e,t){var n=Y_(er(e),ij(e),t);if(t!=null&&t.useFixedWeeks){var r=AW(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=Fv(a,6-r),l=Y_(Fv(a,1),o,t);n.push.apply(n,l)}}return n}function mq(e){var t,n,r,i=Et(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,h=i.components,m=i.weekStartsOn,f=i.firstWeekContainsDate,j=i.ISOWeek,x=fq(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:j,locale:a,weekStartsOn:m,firstWeekContainsDate:f}),g=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:TH,C=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:hq,N=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:CH;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(v){return s.jsx(C,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function pq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var gq=pq()?p.useLayoutEffect:p.useEffect,Wg=!1,xq=0;function Q_(){return"react-day-picker-".concat(++xq)}function vq(e){var t,n=e??(Wg?Q_():null),r=p.useState(n),i=r[0],a=r[1];return gq(function(){i===null&&a(Q_())},[]),p.useEffect(function(){Wg===!1&&(Wg=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function yq(e){var t,n,r=Et(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=Ku().displayMonths,d=vq(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],f=o.month,j=e.displayIndex===0,x=e.displayIndex===c.length-1,g=!j&&!x;i==="rtl"&&(t=[j,x],x=t[0],j=t[1]),j&&(m.push(a.caption_start),f=Oe(Oe({},f),o.caption_start)),x&&(m.push(a.caption_end),f=Oe(Oe({},f),o.caption_end)),g&&(m.push(a.caption_between),f=Oe(Oe({},f),o.caption_between));var C=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:SH;return s.jsxs("div",{className:m.join(" "),style:f,children:[s.jsx(C,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(mq,{id:h,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function wq(e){var t=Et(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function jq(e){var t,n,r=e.initialProps,i=Et(),a=mj(),o=Ku(),l=p.useState(!1),c=l[0],d=l[1];p.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var m=Oe(Oe({},i.styles.root),i.style),f=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,g){var C;return Oe(Oe({},x),(C={},C[g]=r[g],C))},{}),j=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:wq;return s.jsx("div",Oe({className:h.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(j,{children:o.displayMonths.map(function(x,g){return s.jsx(yq,{displayIndex:g,displayMonth:x},g)})})}))}function bq(e){var t=e.children,n=qW(e,["children"]);return s.jsx(uH,{initialProps:n,children:s.jsx(jH,{children:s.jsx(nq,{initialProps:n,children:s.jsx(AH,{initialProps:n,children:s.jsx(DH,{initialProps:n,children:s.jsx(zH,{children:s.jsx(eq,{children:t})})})})})})})}function Nq(e){return s.jsx(bq,Oe({},e,{children:s.jsx(jq,{initialProps:e})}))}function Uv({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Nq,{showOutsideDays:n,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(fu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(fu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...a})=>s.jsx(Aa,{className:ve("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(As,{className:ve("h-4 w-4",i),...a})},...r})}Uv.displayName="Calendar";function _q(){const[e,t]=p.useState(!1),[n,r]=p.useState(void 0),[i,a]=p.useState(void 0),[o,l]=p.useState({from:"",to:"",limit:"50"}),[c,d]=p.useState({starting_after:"",ending_before:""}),m=(()=>{const P=new URLSearchParams;return o.limit&&P.append("limit",o.limit),o.from&&P.append("from",o.from),o.to&&P.append("to",o.to),c.starting_after&&P.append("starting_after",c.starting_after),c.ending_before&&P.append("ending_before",c.ending_before),P.toString()})(),{data:f,isLoading:j}=Ze({queryKey:["/api/admin/application-fees",m],queryFn:async()=>{const P=await fetch(`/api/admin/application-fees?${m}`);if(!P.ok)throw new Error("Failed to fetch fees");return P.json()}}),x=(f==null?void 0:f.data)||[],g=(f==null?void 0:f.has_more)||!1,C=x.reduce((P,k)=>P+(k.amount||0),0),N=new Date().getMonth(),v=new Date().getFullYear(),S=x.filter(P=>{const k=new Date(P.created*1e3);return k.getMonth()===N&&k.getFullYear()===v}).reduce((P,k)=>P+(k.amount||0),0),w=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(P/100),A=P=>new Date(P*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=()=>{l({...o,from:n?Wr(n,"yyyy-MM-dd"):"",to:i?Wr(i,"yyyy-MM-dd"):""}),d({starting_after:"",ending_before:""})},E=()=>{r(void 0),a(void 0),l({from:"",to:"",limit:"50"}),d({starting_after:"",ending_before:""})},b=()=>{x.length>0&&d({starting_after:x[x.length-1].id,ending_before:""})},_=()=>{x.length>0&&d({starting_after:"",ending_before:x[0].id})},R=[o.from,o.to].filter(P=>P).length;return j?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading revenue..."})]})})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Revenue"}),s.jsx("p",{className:"text-muted-foreground",children:"Platform revenue from client transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Fees (Current View)"}),s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-fees",children:w(C)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From current filter results"})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"This Month (Current View)"}),s.jsx(Ek,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-fees",children:w(S)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),s.jsxs(se,{children:[s.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ce,{className:"text-sm font-medium",children:"Total Transactions"}),s.jsx(ac,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:x.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee transactions in current view"})]})]})]}),s.jsxs(se,{className:"mb-6",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5"}),s.jsx(ce,{children:"Filters"}),R>0&&s.jsxs($e,{variant:"secondary",children:[R," active"]})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>t(!e),"data-testid":"button-toggle-filters",children:[e?"Hide":"Show"," Filters"]})]})}),e&&s.jsxs(ie,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"From Date"}),s.jsxs(H_,{children:[s.jsx(q_,{asChild:!0,children:s.jsxs(X,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),"data-testid":"button-from-date",children:[s.jsx(El,{className:"mr-2 h-4 w-4"}),n?Wr(n,"PPP"):"Pick a date"]})}),s.jsx($v,{className:"w-auto p-0",align:"start",children:s.jsx(Uv,{mode:"single",selected:n,onSelect:r,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"To Date"}),s.jsxs(H_,{children:[s.jsx(q_,{asChild:!0,children:s.jsxs(X,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),"data-testid":"button-to-date",children:[s.jsx(El,{className:"mr-2 h-4 w-4"}),i?Wr(i,"PPP"):"Pick a date"]})}),s.jsx($v,{className:"w-auto p-0",align:"start",children:s.jsx(Uv,{mode:"single",selected:i,onSelect:a,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"limit-filter",children:"Results per page"}),s.jsxs(yn,{value:o.limit,onValueChange:P=>l({...o,limit:P}),children:[s.jsx(mn,{id:"limit-filter","data-testid":"select-limit-filter",children:s.jsx(wn,{placeholder:"50"})}),s.jsxs(pn,{children:[s.jsx(te,{value:"10",children:"10"}),s.jsx(te,{value:"25",children:"25"}),s.jsx(te,{value:"50",children:"50"}),s.jsx(te,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(X,{onClick:M,"data-testid":"button-apply-filters",children:"Apply Filters"}),s.jsxs(X,{variant:"outline",onClick:E,"data-testid":"button-clear-filters",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Revenue"}),s.jsx(Re,{children:"List of platform fees collected from transactions"})]}),s.jsx(ie,{children:x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No revenue found"}),R>0&&s.jsx(X,{variant:"outline",onClick:E,className:"mt-4","data-testid":"button-clear-filters-empty",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Status"})]})}),s.jsx("tbody",{children:x.map(P=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-fee-${P.id}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(El,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:A(P.created)})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:w(P.amount)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx($e,{variant:P.refunded?"destructive":"default",className:"text-xs",children:P.refunded?"Refunded":"Collected"})})]},P.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",x.length," ",x.length===1?"fee":"fees"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:_,disabled:!c.starting_after&&!c.ending_before,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:b,disabled:!g,"data-testid":"button-next-page",children:["Next",s.jsx(As,{className:"h-4 w-4 ml-1"})]})]})]})]})})]})]})})}const jc=p.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));jc.displayName="Textarea";var mI="AlertDialog",[Sq]=tr(mI,[xA]),Ni=xA(),pI=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ni(t);return s.jsx(RA,{...r,...n,modal:!0})};pI.displayName=mI;var Cq="AlertDialogTrigger",kq=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ni(n);return s.jsx(DA,{...i,...r,ref:t})});kq.displayName=Cq;var Eq="AlertDialogPortal",gI=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ni(t);return s.jsx(MA,{...r,...n})};gI.displayName=Eq;var Tq="AlertDialogOverlay",xI=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ni(n);return s.jsx(Zw,{...i,...r,ref:t})});xI.displayName=Tq;var $l="AlertDialogContent",[Pq,Aq]=Sq($l),Iq=QC("AlertDialogContent"),vI=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Ni(n),o=p.useRef(null),l=tt(t,o),c=p.useRef(null);return s.jsx(oB,{contentName:$l,titleName:yI,docsSlug:"alert-dialog",children:s.jsx(Pq,{scope:n,cancelRef:c,children:s.jsxs(Jw,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:ge(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(Iq,{children:r}),s.jsx(Dq,{contentRef:o})]})})})});vI.displayName=$l;var yI="AlertDialogTitle",wI=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ni(n);return s.jsx(ej,{...i,...r,ref:t})});wI.displayName=yI;var jI="AlertDialogDescription",bI=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ni(n);return s.jsx(tj,{...i,...r,ref:t})});bI.displayName=jI;var Rq="AlertDialogAction",NI=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ni(n);return s.jsx(nj,{...i,...r,ref:t})});NI.displayName=Rq;var _I="AlertDialogCancel",SI=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Aq(_I,n),a=Ni(n),o=tt(t,i);return s.jsx(nj,{...a,...r,ref:o})});SI.displayName=_I;var Dq=({contentRef:e})=>{const t=`\`${$l}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$l}\` by passing a \`${jI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$l}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Mq=pI,Oq=gI,CI=xI,kI=vI,EI=NI,TI=SI,PI=wI,AI=bI;const gj=Mq,Fq=Oq,II=p.forwardRef(({className:e,...t},n)=>s.jsx(CI,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));II.displayName=CI.displayName;const pp=p.forwardRef(({className:e,...t},n)=>s.jsxs(Fq,{children:[s.jsx(II,{}),s.jsx(kI,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));pp.displayName=kI.displayName;const gp=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});gp.displayName="AlertDialogHeader";const xp=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xp.displayName="AlertDialogFooter";const vp=p.forwardRef(({className:e,...t},n)=>s.jsx(PI,{ref:n,className:ve("text-lg font-semibold",e),...t}));vp.displayName=PI.displayName;const yp=p.forwardRef(({className:e,...t},n)=>s.jsx(AI,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));yp.displayName=AI.displayName;const wp=p.forwardRef(({className:e,...t},n)=>s.jsx(EI,{ref:n,className:ve(fu(),e),...t}));wp.displayName=EI.displayName;const jp=p.forwardRef(({className:e,...t},n)=>s.jsx(TI,{ref:n,className:ve(fu({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jp.displayName=TI.displayName;function Lq(){var rt,lt,gn;const[e,t]=p.useState(1),[n,r]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[h,m]=p.useState(!1),[f,j]=p.useState(""),[x,g]=p.useState(null),[C,N]=p.useState(null),[v,S]=p.useState(!1),[w,A]=p.useState(null),[M,E]=p.useState(""),[b,_]=p.useState(!1),[R,P]=p.useState(null),[k,I]=p.useState(""),[O,K]=p.useState(null),[z,V]=p.useState(!1),{externalApiUrl:F}=hp(),[B,ee]=p.useState(null),[ne,W]=p.useState(""),{toast:ue}=bn(),ae=10,We=(()=>{const re=new URLSearchParams;return re.append("limit",ae.toString()),re.append("page",e.toString()),n&&re.append("title",n),re.toString()})(),{data:me,isLoading:Be}=Ze({queryKey:["/api/admin/categories",We],queryFn:async()=>{const re=await fetch(`/api/admin/categories?${We}`);if(!re.ok)throw new Error("Failed to fetch categories");return re.json()}}),Ue=((rt=me==null?void 0:me.data)==null?void 0:rt.categories)||[],H=((lt=me==null?void 0:me.data)==null?void 0:lt.pages)||1,Ne=((gn=me==null?void 0:me.data)==null?void 0:gn.totalDoc)||0,ke=()=>{r(i),t(1)},Ke=()=>{a(""),r(""),t(1)},wt=Dt({mutationFn:async re=>mt("POST","/api/admin/categories/bulk",{names:re}),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories"]}),ue({title:"Success",description:"Categories imported successfully"}),l(""),d(!1)},onError:re=>{ue({title:"Error",description:re.message||"Failed to import categories",variant:"destructive"})}}),bt=()=>{const re=o.split(`
`).map(Ge=>Ge.trim()).filter(Ge=>Ge.length>0);if(re.length===0){ue({title:"Error",description:"Please enter at least one category name",variant:"destructive"});return}wt.mutate(re)},ln=Dt({mutationFn:async({name:re,icon:Ge})=>{console.log("Starting category mutation with name:",re,"icon:",Ge==null?void 0:Ge.name);const is=new FormData;is.append("name",re),Ge&&is.append("images",Ge),console.log("Sending request to /api/admin/categories");try{const Lt=await fetch("/api/admin/categories",{method:"POST",body:is});if(console.log("Response received:",Lt.status,Lt.statusText),!Lt.ok){const Us=await Lt.json();throw new Error(Us.error||"Failed to add category")}const Wn=await Lt.json();return console.log("Success data:",Wn),Wn}catch(Lt){throw console.error("Fetch error:",Lt),Lt}},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories"]}),ue({title:"Success",description:"Category added successfully"}),j(""),g(null),m(!1)},onError:re=>{ue({title:"Error",description:re.message||"Failed to add category",variant:"destructive"})}}),kn=()=>{if(!f.trim()){ue({title:"Error",description:"Please enter a category name",variant:"destructive"});return}ln.mutate({name:f,icon:x})},ss=Dt({mutationFn:async re=>mt("DELETE",`/api/admin/categories/${re}`),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories"]}),ue({title:"Success",description:"Category deleted successfully"}),N(null)},onError:re=>{ue({title:"Error",description:re.message||"Failed to delete category",variant:"destructive"})}}),Nt=()=>{C&&ss.mutate(C)},L=Dt({mutationFn:async({id:re,name:Ge,icon:is})=>{const Lt=new FormData;Lt.append("name",Ge),is&&Lt.append("images",is);const Wn=await fetch(`/api/admin/categories/${re}`,{method:"PUT",body:Lt});if(!Wn.ok){const Us=await Wn.json();throw new Error(Us.error||"Failed to update category")}return Wn.json()},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories"]}),ue({title:"Success",description:"Category updated successfully"}),_(!1),P(null),I(""),K(null)},onError:re=>{ue({title:"Error",description:re.message||"Failed to update category",variant:"destructive"})}}),G=()=>{if(!R||!k.trim()){ue({title:"Error",description:"Please enter a category name",variant:"destructive"});return}L.mutate({id:R._id,name:k,icon:O})},Q=re=>{P(re),I(re.name),K(null),_(!0)},we=Dt({mutationFn:async({categoryId:re,parentId:Ge})=>mt("PUT",`/api/admin/categories/${re}/convert`,{targetType:"child",parentId:Ge}),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories"]}),ue({title:"Success",description:"Category converted to subcategory successfully"}),V(!1),ee(null),W("")},onError:re=>{ue({title:"Error",description:re.message||"Failed to convert category",variant:"destructive"})}}),pe=()=>{if(!B||!ne){ue({title:"Error",description:"Please select a parent category",variant:"destructive"});return}if(B._id===ne){ue({title:"Error",description:"Cannot convert a category to be its own subcategory",variant:"destructive"});return}we.mutate({categoryId:B._id,parentId:ne})},oe=Dt({mutationFn:async({categoryId:re,names:Ge})=>mt("POST",`/api/admin/categories/${re}/subcategories/bulk`,{names:Ge}),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories"]}),ue({title:"Success",description:"Subcategories imported successfully"}),E(""),S(!1),A(null)},onError:re=>{ue({title:"Error",description:re.message||"Failed to import subcategories",variant:"destructive"})}}),Pe=()=>{if(!w)return;const re=M.split(`
`).map(Ge=>Ge.trim()).filter(Ge=>Ge.length>0);if(re.length===0){ue({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}oe.mutate({categoryId:w.id,names:re})};return Be?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]})})}):s.jsxs(He,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage product categories"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search categories by name...",value:i,onChange:re=>a(re.target.value),onKeyDown:re=>re.key==="Enter"&&ke(),className:"pl-10","data-testid":"input-search-categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{onClick:ke,"data-testid":"button-search",children:"Search"}),n&&s.jsx(X,{variant:"outline",onClick:Ke,"data-testid":"button-clear-search",children:"Clear"}),s.jsxs(ei,{open:h,onOpenChange:m,children:[s.jsx(dm,{asChild:!0,children:s.jsxs(X,{"data-testid":"button-add-category",children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Add New Category"}),s.jsx(Hi,{children:"Create a new category with an optional icon image."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"category-name",children:"Category Name"}),s.jsx(ye,{id:"category-name",placeholder:"Enter category name",value:f,onChange:re=>j(re.target.value),"data-testid":"input-category-name"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"category-icon",children:"Category Icon (Optional)"}),s.jsx(ye,{id:"category-icon",type:"file",accept:"image/*",onChange:re=>{var Ge;return g(((Ge=re.target.files)==null?void 0:Ge[0])||null)},"data-testid":"input-category-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>{m(!1),j(""),g(null)},"data-testid":"button-cancel-add-category",children:"Cancel"}),s.jsx(X,{onClick:kn,disabled:ln.isPending,"data-testid":"button-submit-add-category",children:ln.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(ei,{open:c,onOpenChange:d,children:[s.jsx(dm,{asChild:!0,children:s.jsxs(X,{variant:"outline","data-testid":"button-bulk-import",children:[s.jsx(Zy,{className:"h-4 w-4 mr-2"}),"Bulk Import"]})}),s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Bulk Import Categories"}),s.jsx(Hi,{children:"Enter category names, one per line. They will be added to the system."})]}),s.jsx(jc,{placeholder:`Category 1
Category 2
Category 3`,value:o,onChange:re=>l(re.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-import",children:"Cancel"}),s.jsx(X,{onClick:bt,disabled:wt.isPending,"data-testid":"button-submit-import",children:wt.isPending?"Importing...":"Import"})]})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"All Categories"}),s.jsx(Re,{children:"Product categories in the platform"})]}),s.jsx(ie,{children:Ue.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Td,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Subcategories"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:Ue.map(re=>{var Ge;return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-category-${re._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:re.icon?s.jsx("img",{src:vc(re.icon,F),alt:re.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-category-${re._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Td,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(kl,{href:`/admin/categories/${re._id}/subcategories`,children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("span",{className:"font-medium text-foreground group-hover:text-primary transition-colors","data-testid":`text-category-name-${re._id}`,children:re.name}),s.jsx(As,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:re.type||"N/A"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:((Ge=re.subCategories)==null?void 0:Ge.length)||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm","data-testid":`button-actions-${re._id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(hn,{onClick:()=>Q(re),"data-testid":`button-edit-category-${re._id}`,children:[s.jsx(sF,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(hn,{onClick:()=>{A({id:re._id,name:re.name}),S(!0)},"data-testid":`button-add-subcategories-${re._id}`,children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Add Subcategories"]}),s.jsxs(hn,{onClick:()=>{ee(re),V(!0)},"data-testid":`button-convert-to-child-${re._id}`,children:[s.jsx($O,{className:"h-4 w-4 mr-2"}),"Convert to Subcategory"]}),s.jsx(wi,{}),s.jsxs(hn,{onClick:()=>N(re._id),"data-testid":`button-delete-category-${re._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Xy,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},re._id)})})]})})})]}),Ue.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",e," of ",H," (",Ne," total categories)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(re=>Math.max(1,re-1)),disabled:e===1,"data-testid":"button-prev-page",children:[s.jsx(Aa,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(re=>re+1),disabled:e>=H,"data-testid":"button-next-page",children:["Next",s.jsx(As,{className:"h-4 w-4 ml-1"})]})]})]})]}),s.jsx(ei,{open:z,onOpenChange:re=>{V(re),re||(ee(null),W(""))},children:s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Convert to Subcategory"}),s.jsxs(Hi,{children:['Convert "',B==null?void 0:B.name,'" to a subcategory by selecting its parent category.']})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"parent-category",children:"Parent Category"}),s.jsxs(yn,{value:ne,onValueChange:W,children:[s.jsx(mn,{id:"parent-category","data-testid":"select-parent-category",children:s.jsx(wn,{placeholder:"Select a parent category"})}),s.jsx(pn,{children:Ue.filter(re=>re._id!==(B==null?void 0:B._id)).map(re=>s.jsx(te,{value:re._id,children:re.name},re._id))})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>{V(!1),ee(null),W("")},"data-testid":"button-cancel-convert",children:"Cancel"}),s.jsx(X,{onClick:pe,disabled:we.isPending,"data-testid":"button-submit-convert",children:we.isPending?"Converting...":"Convert"})]})]})}),s.jsx(ei,{open:b,onOpenChange:re=>{_(re),re||(P(null),I(""),K(null))},children:s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Edit Category"}),s.jsx(Hi,{children:"Update the category name and icon."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"edit-category-name",children:"Category Name"}),s.jsx(ye,{id:"edit-category-name",placeholder:"Enter category name",value:k,onChange:re=>I(re.target.value),"data-testid":"input-edit-category-name"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"edit-category-icon",children:"Category Icon (Optional)"}),s.jsx(ye,{id:"edit-category-icon",type:"file",accept:"image/*",onChange:re=>{var Ge;return K(((Ge=re.target.files)==null?void 0:Ge[0])||null)},"data-testid":"input-edit-category-icon"}),(R==null?void 0:R.icon)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Icon:"}),s.jsx("img",{src:vc(R.icon,F),alt:R.name,className:"w-16 h-16 object-cover rounded-md"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>{_(!1),P(null),I(""),K(null)},"data-testid":"button-cancel-edit-category",children:"Cancel"}),s.jsx(X,{onClick:G,disabled:L.isPending,"data-testid":"button-submit-edit-category",children:L.isPending?"Updating...":"Update"})]})]})}),s.jsx(ei,{open:v,onOpenChange:S,children:s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Bulk Import Subcategories"}),s.jsxs(Hi,{children:["Add subcategories to ",w==null?void 0:w.name,". Enter one subcategory name per line."]})]}),s.jsx(jc,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:M,onChange:re=>E(re.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories-from-categories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>{S(!1),E(""),A(null)},"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(X,{onClick:Pe,disabled:oe.isPending,"data-testid":"button-submit-import-subcategories",children:oe.isPending?"Importing...":"Import"})]})]})}),s.jsx(gj,{open:!!C,onOpenChange:re=>!re&&N(null),children:s.jsxs(pp,{children:[s.jsxs(gp,{children:[s.jsx(vp,{children:"Delete Category"}),s.jsx(yp,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),s.jsxs(xp,{children:[s.jsx(jp,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(wp,{onClick:Nt,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:ss.isPending?"Deleting...":"Delete"})]})]})})]})}function $q(){Zt();const[,e]=zo("/admin/categories/:categoryId/subcategories"),t=e==null?void 0:e.categoryId,[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(""),[h,m]=p.useState(null),[f,j]=p.useState(null),{toast:x}=bn(),{externalApiUrl:g}=hp(),{data:C,isLoading:N}=Ze({queryKey:["/api/admin/categories",t],queryFn:async()=>{const k=await fetch(`/api/admin/categories/${t}`);if(!k.ok)throw new Error("Failed to fetch category");return k.json()},enabled:!!t}),v=C==null?void 0:C.data,S=(v==null?void 0:v.subCategories)||[],w=Dt({mutationFn:async k=>mt("POST",`/api/admin/categories/${t}/subcategories/bulk`,{names:k}),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories",t]}),vt.invalidateQueries({queryKey:["/api/admin/categories"]}),x({title:"Success",description:"Subcategories imported successfully"}),r(""),a(!1)},onError:k=>{x({title:"Error",description:k.message||"Failed to import subcategories",variant:"destructive"})}}),A=()=>{const k=n.split(`
`).map(I=>I.trim()).filter(I=>I.length>0);if(k.length===0){x({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}w.mutate(k)},M=Dt({mutationFn:async({name:k,icon:I,parentId:O})=>{const K=new FormData;K.append("name",k),K.append("category",O),K.append("type","child"),I&&K.append("images",I);const z=await fetch("/api/admin/subcategories",{method:"POST",body:K});if(!z.ok){const V=await z.json();throw new Error(V.error||"Failed to add subcategory")}return z.json()},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories",t]}),vt.invalidateQueries({queryKey:["/api/admin/categories"]}),x({title:"Success",description:"Subcategory added successfully"}),d(""),m(null),l(!1)},onError:k=>{x({title:"Error",description:k.message||"Failed to add subcategory",variant:"destructive"})}}),E=()=>{if(!c.trim()){x({title:"Error",description:"Please enter a subcategory name",variant:"destructive"});return}if(!t){x({title:"Error",description:"Category ID is missing",variant:"destructive"});return}M.mutate({name:c,icon:h,parentId:t})},b=Dt({mutationFn:async k=>mt("DELETE",`/api/admin/subcategories/${k}`),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories",t]}),vt.invalidateQueries({queryKey:["/api/admin/categories"]}),x({title:"Success",description:"Subcategory deleted successfully"}),j(null)},onError:k=>{x({title:"Error",description:k.message||"Failed to delete subcategory",variant:"destructive"})}}),_=()=>{f&&b.mutate(f)},R=Dt({mutationFn:async k=>mt("PUT",`/api/admin/categories/${k}/convert`,{targetType:"parent"}),onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/categories",t]}),vt.invalidateQueries({queryKey:["/api/admin/categories"]}),x({title:"Success",description:"Subcategory converted to parent category successfully"})},onError:k=>{x({title:"Error",description:k.message||"Failed to convert subcategory",variant:"destructive"})}}),P=k=>{R.mutate(k)};return N?s.jsx(He,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading subcategories..."})]})})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(kl,{href:"/admin/categories",children:s.jsxs(X,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-to-categories",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[v!=null&&v.icon?s.jsx("img",{src:vc(v.icon,g),alt:v.name,className:"w-20 h-20 object-cover rounded-lg"}):s.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:s.jsx(Td,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:(v==null?void 0:v.name)||"Category"}),s.jsxs("p",{className:"text-muted-foreground",children:[S.length," subcategorie",S.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"mb-6 flex justify-end gap-2",children:[s.jsxs(ei,{open:o,onOpenChange:l,children:[s.jsx(dm,{asChild:!0,children:s.jsxs(X,{"data-testid":"button-add-subcategory",children:[s.jsx(ru,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]})}),s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Add New Subcategory"}),s.jsxs(Hi,{children:["Create a new subcategory under ",v==null?void 0:v.name," with an optional icon image."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"subcategory-name",children:"Subcategory Name"}),s.jsx(ye,{id:"subcategory-name",placeholder:"Enter subcategory name",value:c,onChange:k=>d(k.target.value),"data-testid":"input-subcategory-name"})]}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"subcategory-icon",children:"Subcategory Icon (Optional)"}),s.jsx(ye,{id:"subcategory-icon",type:"file",accept:"image/*",onChange:k=>{var I;return m(((I=k.target.files)==null?void 0:I[0])||null)},"data-testid":"input-subcategory-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>{l(!1),d(""),m(null)},"data-testid":"button-cancel-add-subcategory",children:"Cancel"}),s.jsx(X,{onClick:E,disabled:M.isPending,"data-testid":"button-submit-add-subcategory",children:M.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(ei,{open:i,onOpenChange:a,children:[s.jsx(dm,{asChild:!0,children:s.jsxs(X,{variant:"outline","data-testid":"button-bulk-import-subcategories",children:[s.jsx(Zy,{className:"h-4 w-4 mr-2"}),"Bulk Import Subcategories"]})}),s.jsxs(xs,{children:[s.jsxs(vs,{children:[s.jsx(ys,{children:"Bulk Import Subcategories"}),s.jsxs(Hi,{children:["Enter subcategory names, one per line. They will be added to ",v==null?void 0:v.name,"."]})]}),s.jsx(jc,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:n,onChange:k=>r(k.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(X,{onClick:A,disabled:w.isPending,"data-testid":"button-submit-import-subcategories",children:w.isPending?"Importing...":"Import"})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Subcategories"}),s.jsxs(Re,{children:["All subcategories under ",v==null?void 0:v.name]})]}),s.jsx(ie,{children:S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Td,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No subcategories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Followers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Viewers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:S.map(k=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-subcategory-${k._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:k.icon?s.jsx("img",{src:vc(k.icon,g),alt:k.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-subcategory-${k._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Td,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-subcategory-name-${k._id}`,children:k.name})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:k.followersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:k.viewersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm","data-testid":`button-actions-${k._id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(hn,{onClick:()=>P(k._id),"data-testid":`button-convert-to-parent-${k._id}`,children:[s.jsx(UO,{className:"h-4 w-4 mr-2"}),"Convert to Parent"]}),s.jsx(wi,{}),s.jsxs(hn,{onClick:()=>j(k._id),"data-testid":`button-delete-subcategory-${k._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Xy,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},k._id))})]})})})]}),s.jsx(gj,{open:!!f,onOpenChange:k=>!k&&j(null),children:s.jsxs(pp,{children:[s.jsxs(gp,{children:[s.jsx(vp,{children:"Delete Subcategory"}),s.jsx(yp,{children:"Are you sure you want to delete this subcategory? This action cannot be undone."})]}),s.jsxs(xp,{children:[s.jsx(jp,{"data-testid":"button-cancel-delete-subcategory",children:"Cancel"}),s.jsx(wp,{onClick:_,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete-subcategory",children:b.isPending?"Deleting...":"Delete"})]})]})})]})})}function Uq(){var A,M;const[,e]=Zt(),[t,n]=p.useState(1),[r,i]=p.useState("all"),[a,o]=p.useState(""),[l,c]=p.useState(!1),d=10,h=new URLSearchParams;h.append("page",t.toString()),h.append("limit",d.toString()),r!=="all"&&h.append("status",r);const{data:m,isLoading:f}=Ze({queryKey:["/api/admin/disputes",t,r],queryFn:async()=>{const E=await fetch(`/api/admin/disputes?${h.toString()}`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch disputes");return await E.json()}}),x=(((A=m==null?void 0:m.data)==null?void 0:A.disputes)||(m==null?void 0:m.data)||[]).filter(E=>E.orderId&&E.orderId._id),g=((M=m==null?void 0:m.data)==null?void 0:M.pages)||1,C=x.filter(E=>{var k,I,O,K,z;if(!a)return!0;const b=a.toLowerCase(),_=((I=(k=E.userId)==null?void 0:k.userName)==null?void 0:I.toLowerCase())||"",R=((K=(O=E.orderId)==null?void 0:O._id)==null?void 0:K.toLowerCase())||"",P=((z=E.reason)==null?void 0:z.toLowerCase())||"";return _.includes(b)||R.includes(b)||P.includes(b)}),N=E=>{switch(E==null?void 0:E.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},v=E=>{var b;return((b=E==null?void 0:E.replace(/_/g," "))==null?void 0:b.replace(/\b\w/g,_=>_.toUpperCase()))||"N/A"},S=()=>{o(""),i("all"),n(1)},w=a||r!=="all";return f?s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]}),s.jsx(se,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading disputes..."})]})})})]})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Tl,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]})]})}),s.jsxs(se,{className:"mb-6",children:[s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(ce,{children:"Filters"})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>c(!l),"data-testid":"button-toggle-filters",children:l?"Hide":"Show"})]})}),l&&s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"User, Order ID, Reason...",value:a,onChange:E=>o(E.target.value),className:"pl-10","data-testid":"input-search-disputes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),s.jsxs(yn,{value:r,onValueChange:i,children:[s.jsx(mn,{"data-testid":"select-status-filter",children:s.jsx(wn,{})}),s.jsxs(pn,{children:[s.jsx(te,{value:"all",children:"All Statuses"}),s.jsx(te,{value:"submitted",children:"Submitted"}),s.jsx(te,{value:"under_review",children:"Under Review"}),s.jsx(te,{value:"resolved",children:"Resolved"}),s.jsx(te,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"flex items-end",children:w&&s.jsxs(X,{variant:"outline",onClick:S,className:"w-full","data-testid":"button-clear-filters",children:[s.jsx(Er,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{children:["All Disputes (",C.length,")"]}),s.jsx(Re,{children:"Click on a dispute to view details and resolve"})]}),s.jsxs(ie,{children:[C.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No disputes found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Order ID"}),s.jsx(Z,{children:"User"}),s.jsx(Z,{children:"Reason"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Order Total"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(an,{children:C.map(E=>{var k,I,O,K,z,V,F,B,ee,ne;const b=((I=(k=E.orderId)==null?void 0:k.items)==null?void 0:I.reduce((W,ue)=>W+(ue.price||0),0))||0,_=((O=E.orderId)==null?void 0:O.tax)||0,R=((K=E.orderId)==null?void 0:K.shipping_fee)||0,P=b+_+R;return s.jsxs(et,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-dispute-${E._id}`,children:[s.jsxs(J,{className:"font-mono text-sm",children:[(V=(z=E.orderId)==null?void 0:z._id)==null?void 0:V.substring(0,8),"..."]}),s.jsx(J,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:((B=(F=E.userId)==null?void 0:F.userName)==null?void 0:B.charAt(0).toUpperCase())||"U"})}),s.jsx("span",{children:((ee=E.userId)==null?void 0:ee.userName)||"Unknown"})]})}),s.jsx(J,{children:v(E.reason)}),s.jsx(J,{children:s.jsx($e,{variant:N(E.status),children:((ne=E.status)==null?void 0:ne.replace(/_/g," "))||"Unknown"})}),s.jsxs(J,{className:"font-medium",children:["$",P.toFixed(2)]}),s.jsx(J,{children:s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>{var W;return e(`/admin/disputes/${(W=E.orderId)==null?void 0:W._id}`)},"data-testid":`button-view-dispute-${E._id}`,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"View"]})})]},E._id)})})]})}),C.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",g]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:()=>n(E=>Math.max(1,E-1)),disabled:t===1,"data-testid":"button-prev-page",children:"Previous"}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>n(E=>E+1),disabled:t>=g,"data-testid":"button-next-page",children:"Next"})]})]})]})]})]})})}var Vq="Separator",X_="horizontal",zq=["horizontal","vertical"],RI=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=X_,...i}=e,a=Bq(r)?r:X_,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Ie.div,{"data-orientation":a,...l,...i,ref:t})});RI.displayName=Vq;function Bq(e){return zq.includes(e)}var DI=RI;const Qa=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(DI,{ref:i,decorative:n,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Qa.displayName=DI.displayName;function Wq(){var _,R,P,k,I,O,K,z,V,F,B,ee,ne;const[,e]=zo("/admin/disputes/:disputeId"),[,t]=Zt(),{toast:n}=bn(),r=e==null?void 0:e.disputeId,{externalApiUrl:i}=hp(),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState(null),{data:m,isLoading:f}=Ze({queryKey:["/api/admin/disputes",r],queryFn:async()=>{const W=await fetch(`/api/admin/disputes/${r}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch dispute");return await W.json()},enabled:!!r}),j=m==null?void 0:m.data,x=Dt({mutationFn:async({decision:W})=>{if(!j||!j.orderId)throw new Error("Dispute data not available");let ue;if(W==="buyer"?ue=j.orderId.customer||"":ue=j.orderId.seller||"",!ue)throw new Error(`Could not find ${W} ID in order data`);return mt("POST",`/api/admin/disputes/${j._id}/resolve`,{favored:ue,final_comments:a})},onSuccess:()=>{vt.invalidateQueries({queryKey:["/api/admin/disputes"]}),n({title:"Success",description:"Dispute resolved successfully"}),t("/admin/disputes")},onError:W=>{n({title:"Error",description:W.message||"Failed to resolve dispute",variant:"destructive"})}}),g=W=>{h(W),c(!0)},C=()=>{d&&(x.mutate({decision:d}),c(!1))},N=W=>{switch(W==null?void 0:W.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},v=W=>{var ue;return((ue=W==null?void 0:W.replace(/_/g," "))==null?void 0:ue.replace(/\b\w/g,ae=>ae.toUpperCase()))||"N/A"},S=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(f)return s.jsx(He,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading dispute..."})]})})});if(!j)return s.jsx(He,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Tl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Dispute not found"}),s.jsxs(X,{variant:"outline",className:"mt-4",onClick:()=>t("/admin/disputes"),"data-testid":"button-back-to-disputes",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]})]})})});const w=((R=(_=j.orderId)==null?void 0:_.items)==null?void 0:R.reduce((W,ue)=>W+(ue.price||0)*(ue.quantity||1),0))||0,A=((P=j.orderId)==null?void 0:P.tax)||0,M=((k=j.orderId)==null?void 0:k.shipping_fee)||0,E=w+A+M,b=((I=j.status)==null?void 0:I.toLowerCase())==="resolved";return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(X,{variant:"ghost",onClick:()=>t("/admin/disputes"),className:"mb-4","data-testid":"button-back",children:[s.jsx(fi,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Tl,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dispute Resolution"}),s.jsxs("p",{className:"text-muted-foreground",children:["Case ID: ",j._id]})]})]}),s.jsx($e,{variant:N(j.status),className:"text-sm",children:(O=j.status)==null?void 0:O.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(Tl,{className:"h-5 w-5"}),"Dispute Details"]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Reason"}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:v(j.reason)})]}),s.jsx(Qa,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer's Statement"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:j.details||"No details provided"})]}),j.seller_response&&s.jsxs(s.Fragment,{children:[s.jsx(Qa,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Seller's Response"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:j.seller_response})]})]}),s.jsx(Qa,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Submitted On"}),s.jsx("p",{className:"mt-1",children:S(j.createdAt)})]})]})]}),s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-5 w-5"}),"Order Details"]}),s.jsxs(Re,{children:["Order ID: ",(K=j.orderId)==null?void 0:K._id]})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:"Items"}),s.jsx("div",{className:"space-y-3",children:(V=(z=j.orderId)==null?void 0:z.items)==null?void 0:V.map((W,ue)=>{var ae,Le,We,me;return s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border rounded-lg","data-testid":`item-${W._id}`,children:[(Le=(ae=W.productId)==null?void 0:ae.images)!=null&&Le[0]?s.jsx("img",{src:vc(W.productId.images[0],i),alt:W.productId.name,className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:s.jsx(Kt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((We=W.productId)==null?void 0:We.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",W.quantity||1]}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:["$",(me=W.price)==null?void 0:me.toFixed(2)]})]})]},W._id||ue)})})]}),s.jsx(Qa,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",w.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",A.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{children:["$",M.toFixed(2)]})]}),s.jsx(Qa,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",E.toFixed(2)]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(ur,{className:"h-4 w-4"}),"Customer"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-primary",children:((B=(F=j.userId)==null?void 0:F.userName)==null?void 0:B.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((ee=j.userId)==null?void 0:ee.userName)||"Unknown"}),((ne=j.userId)==null?void 0:ne.email)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:j.userId.email})]})]})})]}),!b&&s.jsxs(se,{className:"border-primary/50",children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2 text-base",children:[s.jsx(rF,{className:"h-4 w-4"}),"Resolve Dispute"]}),s.jsx(Re,{children:"Rule in favor of one party"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Admin Notes (Optional)"}),s.jsx(jc,{placeholder:"Add any notes about your decision...",value:a,onChange:W=>o(W.target.value),rows:4,"data-testid":"textarea-admin-notes"})]}),s.jsx(Qa,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(X,{className:"w-full",variant:"default",size:"lg",onClick:()=>g("buyer"),disabled:x.isPending,"data-testid":"button-favor-buyer",children:[s.jsx(LN,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Buyer"]}),s.jsxs(X,{className:"w-full",variant:"outline",size:"lg",onClick:()=>g("seller"),disabled:x.isPending,"data-testid":"button-favor-seller",children:[s.jsx(WO,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Seller"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"This action cannot be undone. The appropriate party will be refunded or compensated."})]})]}),b&&s.jsxs(se,{className:"border-green-500/50 bg-green-500/5",children:[s.jsx(le,{children:s.jsxs(ce,{className:"flex items-center gap-2 text-base text-green-700 dark:text-green-400",children:[s.jsx(LN,{className:"h-4 w-4"}),"Dispute Resolved"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"This dispute has been resolved and closed."})})]})]})]}),s.jsx(gj,{open:l,onOpenChange:c,children:s.jsxs(pp,{children:[s.jsxs(gp,{children:[s.jsx(vp,{children:"Confirm Resolution"}),s.jsxs(yp,{children:["Are you sure you want to rule in favor of the ",d==="buyer"?"buyer":"seller","?",d==="buyer"&&" The buyer will be refunded.",d==="seller"&&" The seller will keep the payment.","This action cannot be undone."]})]}),s.jsxs(xp,{children:[s.jsx(jp,{"data-testid":"button-cancel-resolve",children:"Cancel"}),s.jsx(wp,{onClick:C,disabled:x.isPending,"data-testid":"button-confirm-resolve",children:x.isPending?"Resolving...":"Confirm"})]})]})})]})})}function Hq(){var S,w;const[e,t]=p.useState(1),[n,r]=p.useState(""),[i,a]=p.useState(!1),{toast:o}=bn(),l=10,{data:c,isLoading:d}=Ze({queryKey:["/api/admin/reported-cases",e],queryFn:async()=>{const A=await fetch(`/api/admin/reported-cases?page=${e}&limit=${l}`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch reported cases");return await A.json()}}),h=Array.isArray((S=c==null?void 0:c.data)==null?void 0:S.data)?c.data.data:Array.isArray(c==null?void 0:c.data)?c.data:[],m=((w=c==null?void 0:c.data)==null?void 0:w.totalPages)||1,f=Dt({mutationFn:async({userId:A,blocked:M})=>mt("PATCH",`/api/admin/users/${A}/block`,{blocked:M}),onSuccess:(A,M)=>{vt.invalidateQueries({queryKey:["/api/admin/reported-cases"]}),o({title:"Success",description:`User ${M.blocked?"blocked":"unblocked"} successfully`})},onError:(A,M)=>{o({title:"Error",description:A.message||`Failed to ${M.blocked?"block":"unblock"} user`,variant:"destructive"})}}),j=h.filter(A=>{var P,k,I,O,K,z;if(!n)return!0;const M=n.toLowerCase(),E=((k=(P=A.reported)==null?void 0:P.userName)==null?void 0:k.toLowerCase())||"",b=((O=(I=A.reported_by)==null?void 0:I.userName)==null?void 0:O.toLowerCase())||"",_=((K=A.reason)==null?void 0:K.toLowerCase())||"",R=((z=A.description)==null?void 0:z.toLowerCase())||"";return E.includes(M)||b.includes(M)||_.includes(M)||R.includes(M)}),x=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",g=A=>{switch(A==null?void 0:A.toLowerCase()){case"resolved":return"default";case"pending":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},C=A=>{var M;return((M=A==null?void 0:A.replace(/_/g," "))==null?void 0:M.replace(/\b\w/g,E=>E.toUpperCase()))||"N/A"},N=()=>{r(""),t(1)},v=n;return d?s.jsx(He,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading reported cases..."})})})}):s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(nv,{className:"h-8 w-8"}),"Reported Cases"]}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-page-description",children:"Review and manage user-reported cases"})]})}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx(ce,{children:"All Reported Cases"}),s.jsxs(Re,{children:[j.length," ",j.length===1?"case":"cases"," found"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1 sm:w-64",children:[s.jsx(Os,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search by user, reason...",value:n,onChange:A=>r(A.target.value),className:"pl-8","data-testid":"input-search"})]}),v&&s.jsxs(X,{variant:"outline",onClick:N,className:"gap-2","data-testid":"button-clear-filters",children:[s.jsx(Er,{className:"h-4 w-4"}),"Clear"]})]})]})}),s.jsx(ie,{children:j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-cases",children:n?"No cases match your search criteria":"No reported cases found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(et,{children:[s.jsx(Z,{children:"Case ID"}),s.jsx(Z,{children:"Reported User"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Reporter"}),s.jsx(Z,{children:"Reason"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(Z,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(Z,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:j.map(A=>{var M,E;return s.jsxs(et,{"data-testid":`row-case-${A._id}`,children:[s.jsx(J,{className:"font-mono text-xs","data-testid":`text-case-id-${A._id}`,children:A._id.slice(-8)}),s.jsx(J,{"data-testid":`text-reported-user-${A._id}`,children:((M=A.reported)==null?void 0:M.userName)||"Unknown"}),s.jsx(J,{className:"hidden md:table-cell","data-testid":`text-reporter-${A._id}`,children:((E=A.reported_by)==null?void 0:E.userName)||"Anonymous"}),s.jsx(J,{"data-testid":`text-reason-${A._id}`,children:C(A.reason||"")}),s.jsx(J,{className:"hidden lg:table-cell",children:s.jsx($e,{variant:g(A.status||"pending"),"data-testid":`badge-status-${A._id}`,children:A.status||"Pending"})}),s.jsx(J,{className:"hidden xl:table-cell","data-testid":`text-date-${A._id}`,children:x(A.createdAt||"")}),s.jsx(J,{className:"text-right",children:A.reported&&s.jsx(X,{variant:A.reported.system_blocked?"outline":"destructive",size:"sm",onClick:()=>{var b;(b=A.reported)!=null&&b._id&&f.mutate({userId:A.reported._id,blocked:!A.reported.system_blocked})},disabled:f.isPending,"data-testid":`button-block-${A._id}`,children:A.reported.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"h-4 w-4 mr-2"}),"Unblock"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gy,{className:"h-4 w-4 mr-2"}),"Block"]})})})]},A._id)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":"text-pagination-info",children:["Page ",e," of ",m]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"outline",onClick:()=>t(A=>Math.max(1,A-1)),disabled:e===1,"data-testid":"button-previous-page",children:"Previous"}),s.jsx(X,{variant:"outline",onClick:()=>t(A=>Math.min(m,A+1)),disabled:e>=m,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})})}function qq(){var O,K,z,V,F,B,ee,ne,W,ue;const{toast:e}=bn(),[t,n]=p.useState("all"),[r,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(!1),[m,f]=p.useState("https://play.google.com/store/apps/details?id=com.tokshop.live&hl=en"),[j,x]=p.useState("https://testflight.apple.com/join/jjzjjnC2"),[g,C]=p.useState("all"),[N,v]=p.useState(""),{data:S}=Ze({queryKey:["/api/admin/settings"]}),w=(S==null?void 0:S.data)||S,A=(w==null?void 0:w.demoMode)||!1,M=(O=w==null?void 0:w.email_service_provider)==null?void 0:O.toLowerCase();let E=((K=w==null?void 0:w.email_from_address)==null?void 0:K.trim())&&M;E&&(M==="smtp"?E=!!((z=w==null?void 0:w.email_smtp_host)!=null&&z.trim()&&((V=w==null?void 0:w.email_smtp_port)!=null&&V.trim())&&((F=w==null?void 0:w.email_smtp_user)!=null&&F.trim())&&((B=w==null?void 0:w.email_smtp_pass)!=null&&B.trim())):M==="mailgun"?E=!!((ee=w==null?void 0:w.email_api_key)!=null&&ee.trim()&&((ne=w==null?void 0:w.email_mailgun_domain)!=null&&ne.trim())):E=!!((W=w==null?void 0:w.email_api_key)!=null&&W.trim()));const{data:b}=Ze({queryKey:["/api/admin/users?limit=1000"],enabled:t==="individual"||g==="individual"}),_=((ue=b==null?void 0:b.data)==null?void 0:ue.users)||[],R=Dt({mutationFn:async ae=>mt("POST","/api/admin/send-email",ae),onSuccess:()=>{e({title:"Email sent successfully",description:t==="all"?"Email has been sent to all users":"Email has been sent to the selected user"}),o(""),c(""),i("")},onError:ae=>{e({title:"Failed to send email",description:ae.message||"An error occurred while sending the email",variant:"destructive"})}}),P=Dt({mutationFn:async ae=>mt("POST","/api/admin/send-update-notification",ae),onSuccess:()=>{e({title:"Update notification sent",description:g==="all"?"App update notification has been sent to all users":"App update notification has been sent to the selected user"}),g==="individual"&&v("")},onError:ae=>{e({title:"Failed to send notification",description:ae.message||"An error occurred while sending the notification",variant:"destructive"})}}),k=()=>{if(!a.trim()||!l.trim()){e({title:"Validation Error",description:"Subject and message are required",variant:"destructive"});return}if(t==="individual"&&!r){e({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}R.mutate({recipientType:t,recipientEmail:t==="individual"?r:void 0,subject:a,message:l,isHtmlMode:d})},I=()=>{if(g==="individual"&&!N){e({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}P.mutate({androidLink:m,iosLink:j,androidVersion:(w==null?void 0:w.androidVersion)||"",iosVersion:(w==null?void 0:w.iosVersion)||"",recipientType:g,recipientEmail:g==="individual"?N:void 0})};return s.jsx(He,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Dm,{className:"h-8 w-8"}),"Send Emails"]}),s.jsx("p",{className:"text-muted-foreground",children:"Send emails to users on your platform"})]}),A&&s.jsxs(On,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(sv,{className:"h-4 w-4 text-destructive"}),s.jsx(Fn,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),!E&&s.jsxs(On,{className:"mb-6",children:[s.jsx(Df,{className:"h-4 w-4"}),s.jsxs(Fn,{children:["Email service is not configured. Please configure your email settings in the"," ",s.jsx("a",{href:"/admin/settings",className:"underline font-medium",children:"Settings page"})," first."]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Compose Email"}),s.jsx(Re,{children:"Create and send emails to your users"})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(X,{variant:t==="all"?"default":"outline",onClick:()=>n("all"),className:"flex-1","data-testid":"button-recipient-all",disabled:A,children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(X,{variant:t==="individual"?"default":"outline",onClick:()=>n("individual"),className:"flex-1","data-testid":"button-recipient-individual",disabled:A,children:[s.jsx(ur,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),t==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"recipient",children:"Select Recipient"}),s.jsxs(yn,{value:r,onValueChange:i,disabled:A,children:[s.jsx(mn,{id:"recipient","data-testid":"select-recipient",children:s.jsx(wn,{placeholder:"Choose a user..."})}),s.jsx(pn,{children:_.map(ae=>s.jsxs(te,{value:ae.email,children:[ae.firstName," ",ae.lastName," (",ae.email,")"]},ae._id||ae.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"subject",children:"Subject"}),s.jsx(ye,{id:"subject",value:a,onChange:ae=>o(ae.target.value),placeholder:"Enter email subject...","data-testid":"input-subject",disabled:A})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($N,{className:"h-4 w-4"}),s.jsx(fe,{htmlFor:"html-mode",className:"cursor-pointer",children:"HTML Mode"})]}),s.jsx(Ll,{id:"html-mode",checked:d,onCheckedChange:h,"data-testid":"switch-html-mode",disabled:A})]}),d&&s.jsxs(On,{children:[s.jsx($N,{className:"h-4 w-4"}),s.jsxs(Fn,{children:[s.jsx("strong",{children:"HTML Mode:"})," You can now use full HTML formatting. The message will be sent as-is without any wrapper template.",s.jsx("br",{}),"Tip: You can still use ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"{name}"})," for personalization."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"message",children:d?"HTML Content":"Message"}),s.jsx(jc,{id:"message",value:l,onChange:ae=>c(ae.target.value),placeholder:d?"Enter your HTML email content...":"Enter your message...",rows:d?20:10,className:d?"font-mono text-sm":"","data-testid":"textarea-message",disabled:A}),!d&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tip: Use ","{name}"," to personalize with the user's name"]})]}),s.jsxs(X,{onClick:k,disabled:A||R.isPending||!E,className:"w-full","data-testid":"button-send-email",children:[s.jsx(zN,{className:"h-4 w-4 mr-2"}),R.isPending?"Sending...":"Send Email"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsx(ce,{children:"Email Configuration"}),s.jsx(Re,{children:"Current email service settings"})]}),s.jsx(ie,{className:"space-y-4",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-xs text-muted-foreground",children:"Provider"}),s.jsx("p",{className:"font-medium capitalize",children:(w==null?void 0:w.email_service_provider)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-xs text-muted-foreground",children:"From Address"}),s.jsx("p",{className:"font-medium",children:(w==null?void 0:w.email_from_address)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-xs text-muted-foreground",children:"From Name"}),s.jsx("p",{className:"font-medium",children:(w==null?void 0:w.email_from_name)||"Not set"})]})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No email service configured. Please update your settings."})})]}),s.jsxs(se,{children:[s.jsx(le,{children:s.jsx(ce,{children:"Tips"})}),s.jsxs(ie,{className:"space-y-2 text-sm",children:[s.jsx("p",{children:" Keep your subject line clear and concise"}),s.jsxs("p",{children:[" Personalize emails using ","{name}"," placeholder"]}),s.jsx("p",{children:" Test with individual emails before broadcasting"}),s.jsx("p",{children:" Be mindful of email frequency to avoid spam"})]})]})]})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(se,{children:[s.jsxs(le,{children:[s.jsxs(ce,{className:"flex items-center gap-2",children:[s.jsx(kk,{className:"h-5 w-5"}),"App Update Notification"]}),s.jsx(Re,{children:"Send a notification to all users about the latest app version"})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(X,{variant:g==="all"?"default":"outline",onClick:()=>C("all"),className:"flex-1","data-testid":"button-update-recipient-all",disabled:A,children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(X,{variant:g==="individual"?"default":"outline",onClick:()=>C("individual"),className:"flex-1","data-testid":"button-update-recipient-individual",disabled:A,children:[s.jsx(ur,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),g==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"update-recipient",children:"Select Recipient"}),s.jsxs(yn,{value:N,onValueChange:v,disabled:A,children:[s.jsx(mn,{id:"update-recipient","data-testid":"select-update-recipient",children:s.jsx(wn,{placeholder:"Choose a user..."})}),s.jsx(pn,{children:_.map(ae=>s.jsxs(te,{value:ae.email,children:[ae.firstName," ",ae.lastName," (",ae.email,")"]},ae._id||ae.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(fe,{className:"text-xs text-muted-foreground",children:"Android Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(w==null?void 0:w.androidVersion)||"Not set"})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(fe,{className:"text-xs text-muted-foreground",children:"iOS Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(w==null?void 0:w.iosVersion)||"Not set"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"android-link",children:"Android Store Link"}),s.jsx(ye,{id:"android-link",value:m,onChange:ae=>f(ae.target.value),placeholder:"https://play.google.com/store/apps/...","data-testid":"input-android-link",disabled:A})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"ios-link",children:"iOS Store Link"}),s.jsx(ye,{id:"ios-link",value:j,onChange:ae=>x(ae.target.value),placeholder:"https://testflight.apple.com/join/...","data-testid":"input-ios-link",disabled:A})]})]}),s.jsxs(On,{children:[s.jsx(Df,{className:"h-4 w-4"}),s.jsxs(Fn,{children:[s.jsx("strong",{children:"Email Preview:"})," Users will receive a professionally formatted email with:",s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Personalized greeting with their name"}),s.jsx("li",{children:" Version numbers for Android and iOS"}),s.jsx("li",{children:" Direct links to update on their respective stores"}),s.jsx("li",{children:" Responsive design for mobile and desktop"})]})]})]}),s.jsxs(X,{onClick:I,disabled:A||P.isPending||!E,className:"w-full",size:"lg","data-testid":"button-send-update-notification",children:[s.jsx(zN,{className:"h-4 w-4 mr-2"}),P.isPending?"Sending Update Notification...":g==="all"?"Send Update Notification to All Users":"Send Update Notification to Selected User"]})]})]})})]})})}function Kq(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(se,{className:"w-full max-w-md mx-4",children:s.jsxs(ie,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Df,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Gq(e){const{settings:t}=Ho();p.useEffect(()=>{const n=t.seo_title||t.app_name;document.title=n},[e,t.app_name,t.seo_title])}function Yq({children:e}){const[t]=Zt(),[n,r]=p.useState(!0),[i,a]=p.useState(!1);return p.useEffect(()=>{if(t==="/admin/setup"){r(!1),a(!0);return}(async()=>{try{const c=await(await fetch("/api/admin/exists",{credentials:"include"})).json();c.success&&a(c.exists)}catch(l){console.error("Error checking if admin exists:",l),a(!0)}finally{r(!1)}})()},[t]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Checking admin setup..."})]})}):!i&&t!=="/admin/setup"?(window.location.href="/admin/setup",s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to setup..."})]})})):s.jsx(s.Fragment,{children:e})}function Qq(){const{isAuthenticated:e,isLoading:t,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:i,pendingSocialAuthData:a,completeSocialAuth:o}=Da(),[,l]=Zt(),[c,d]=p.useState(!1);Gq();const h=async m=>{try{await o(m),d(!0)}catch(f){console.error("Social auth completion failed:",f)}};return p.useEffect(()=>{c&&e&&!r&&n&&(n.admin?l("/admin"):l("/admin/login"),d(!1))},[c,e,r,n,l]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r&&i&&a?s.jsx(u7,{userEmail:i,socialAuthData:a,onComplete:h,isLoading:t}):e?n!=null&&n.admin?s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(yN,{children:[s.jsx(_t,{path:"/",component:$_}),s.jsx(_t,{path:"/admin",component:$_}),s.jsx(_t,{path:"/admin/users/:userId/details/:itemType/:itemId",component:fB}),s.jsx(_t,{path:"/admin/users/:userId",component:hB}),s.jsx(_t,{path:"/admin/users",component:qz}),s.jsx(_t,{path:"/admin/inventory",component:mB}),s.jsx(_t,{path:"/admin/products/:productId",component:pB}),s.jsx(_t,{path:"/admin/orders/:orderId",component:xB}),s.jsx(_t,{path:"/admin/orders",component:gB}),s.jsx(_t,{path:"/admin/disputes/:disputeId",component:Wq}),s.jsx(_t,{path:"/admin/disputes",component:Uq}),s.jsx(_t,{path:"/admin/reported-cases",component:Hq}),s.jsx(_t,{path:"/admin/transactions",component:vB}),s.jsx(_t,{path:"/admin/payouts",component:yB}),s.jsx(_t,{path:"/admin/application-fees",component:_q}),s.jsx(_t,{path:"/admin/categories/:categoryId/subcategories",component:$q}),s.jsx(_t,{path:"/admin/categories",component:Lq}),s.jsx(_t,{path:"/admin/shows/:showId",component:jB}),s.jsx(_t,{path:"/admin/shows",component:wB}),s.jsx(_t,{path:"/admin/emails",component:qq}),s.jsx(_t,{path:"/admin/settings",component:bB}),s.jsx(_t,{path:"/admin/profile",component:_B}),s.jsx(_t,{component:Kq})]})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(Og,{})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(yN,{children:[s.jsx(_t,{path:"/admin/setup",component:h7}),s.jsx(_t,{path:"/admin/login",component:Og}),s.jsx(_t,{component:Og})]})})})}function Xq(){return s.jsx(EM,{client:vt,children:s.jsx(aU,{children:s.jsx(oU,{children:s.jsxs(C3,{children:[s.jsx(zF,{}),s.jsx(Yq,{children:s.jsx(Qq,{})})]})})})})}bC(document.getElementById("root")).render(s.jsx(Xq,{}));
