var uF=Object.defineProperty;var Hb=t=>{throw TypeError(t)};var hF=(t,e,n)=>e in t?uF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>hF(t,typeof e!="symbol"?e+"":e,n),yg=(t,e,n)=>e.has(t)||Hb("Cannot "+n);var U=(t,e,n)=>(yg(t,e,"read from private field"),n?n.call(t):e.get(t)),Me=(t,e,n)=>e.has(t)?Hb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(yg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ze=(t,e,n)=>(yg(t,e,"access private method"),n);var Oh=(t,e,n,r)=>({set _(i){Ee(t,e,i,n)},get _(){return U(t,e,r)}});function fF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Nk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _k={exports:{}},ep={},Sk={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=Symbol.for("react.element"),mF=Symbol.for("react.portal"),pF=Symbol.for("react.fragment"),gF=Symbol.for("react.strict_mode"),xF=Symbol.for("react.profiler"),vF=Symbol.for("react.provider"),yF=Symbol.for("react.context"),wF=Symbol.for("react.forward_ref"),jF=Symbol.for("react.suspense"),bF=Symbol.for("react.memo"),NF=Symbol.for("react.lazy"),qb=Symbol.iterator;function _F(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var Ck={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kk=Object.assign,Ek={};function Lc(t,e,n){this.props=t,this.context=e,this.refs=Ek,this.updater=n||Ck}Lc.prototype.isReactComponent={};Lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tk(){}Tk.prototype=Lc.prototype;function _y(t,e,n){this.props=t,this.context=e,this.refs=Ek,this.updater=n||Ck}var Sy=_y.prototype=new Tk;Sy.constructor=_y;kk(Sy,Lc.prototype);Sy.isPureReactComponent=!0;var Kb=Array.isArray,Pk=Object.prototype.hasOwnProperty,Cy={current:null},Ak={key:!0,ref:!0,__self:!0,__source:!0};function Ik(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Pk.call(e,r)&&!Ak.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zu,type:t,key:a,ref:o,props:i,_owner:Cy.current}}function SF(t,e){return{$$typeof:Zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ky(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zu}function CF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gb=/\/+/g;function wg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CF(""+t.key):e.toString(36)}function gf(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zu:case mF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wg(o,0):r,Kb(i)?(n="",t!=null&&(n=t.replace(Gb,"$&/")+"/"),gf(i,e,n,"",function(d){return d})):i!=null&&(ky(i)&&(i=SF(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Kb(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+wg(a,l);o+=gf(a,e,n,c,i)}else if(c=_F(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+wg(a,l++),o+=gf(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lh(t,e,n){if(t==null)return t;var r=[],i=0;return gf(t,r,"","",function(a){return e.call(n,a,i++)}),r}function kF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gn={current:null},xf={transition:null},EF={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:xf,ReactCurrentOwner:Cy};function Rk(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:Lh,forEach:function(t,e,n){Lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lh(t,function(){e++}),e},toArray:function(t){return Lh(t,function(e){return e})||[]},only:function(t){if(!ky(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=Lc;rt.Fragment=pF;rt.Profiler=xF;rt.PureComponent=_y;rt.StrictMode=gF;rt.Suspense=jF;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EF;rt.act=Rk;rt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kk({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Cy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Pk.call(e,c)&&!Ak.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Zu,type:t.type,key:i,ref:a,props:r,_owner:o}};rt.createContext=function(t){return t={$$typeof:yF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vF,_context:t},t.Consumer=t};rt.createElement=Ik;rt.createFactory=function(t){var e=Ik.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:wF,render:t}};rt.isValidElement=ky;rt.lazy=function(t){return{$$typeof:NF,_payload:{_status:-1,_result:t},_init:kF}};rt.memo=function(t,e){return{$$typeof:bF,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=xf.transition;xf.transition={};try{t()}finally{xf.transition=e}};rt.unstable_act=Rk;rt.useCallback=function(t,e){return Gn.current.useCallback(t,e)};rt.useContext=function(t){return Gn.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return Gn.current.useDeferredValue(t)};rt.useEffect=function(t,e){return Gn.current.useEffect(t,e)};rt.useId=function(){return Gn.current.useId()};rt.useImperativeHandle=function(t,e,n){return Gn.current.useImperativeHandle(t,e,n)};rt.useInsertionEffect=function(t,e){return Gn.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return Gn.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return Gn.current.useMemo(t,e)};rt.useReducer=function(t,e,n){return Gn.current.useReducer(t,e,n)};rt.useRef=function(t){return Gn.current.useRef(t)};rt.useState=function(t){return Gn.current.useState(t)};rt.useSyncExternalStore=function(t,e,n){return Gn.current.useSyncExternalStore(t,e,n)};rt.useTransition=function(){return Gn.current.useTransition()};rt.version="18.3.1";Sk.exports=rt;var p=Sk.exports;const qe=Nk(p),Dk=fF({__proto__:null,default:qe},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF=p,PF=Symbol.for("react.element"),AF=Symbol.for("react.fragment"),IF=Object.prototype.hasOwnProperty,RF=TF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DF={key:!0,ref:!0,__self:!0,__source:!0};function Mk(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IF.call(e,r)&&!DF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:PF,type:t,key:a,ref:o,props:i,_owner:RF.current}}ep.Fragment=AF;ep.jsx=Mk;ep.jsxs=Mk;_k.exports=ep;var s=_k.exports,Ok={exports:{}},br={},Lk={exports:{}},Fk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var X=F.length;F.push(H);e:for(;0<X;){var J=X-1>>>1,W=F[J];if(0<i(W,H))F[J]=H,F[X]=W,X=J;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],X=F.pop();if(X!==H){F[0]=X;e:for(var J=0,W=F.length,ge=W>>>1;J<ge;){var fe=2*(J+1)-1,ut=F[fe],Le=fe+1,Ce=F[Le];if(0>i(ut,X))Le<W&&0>i(Ce,ut)?(F[J]=Ce,F[Le]=X,J=Le):(F[J]=ut,F[fe]=X,J=fe);else if(Le<W&&0>i(Ce,X))F[J]=Ce,F[Le]=X,J=Le;else break e}}return H}function i(F,H){var X=F.sortIndex-H.sortIndex;return X!==0?X:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,m=3,v=!1,_=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=F)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function P(F){if(g=!1,x(F),!_)if(n(c)!==null)_=!0,V(D);else{var H=n(d);H!==null&&z(P,H.startTime-F)}}function D(F,H){_=!1,g&&(g=!1,j(b),b=-1),v=!0;var X=m;try{for(x(H),f=n(c);f!==null&&(!(f.expirationTime>H)||F&&!N());){var J=f.callback;if(typeof J=="function"){f.callback=null,m=f.priorityLevel;var W=J(f.expirationTime<=H);H=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),x(H)}else r(c);f=n(c)}if(f!==null)var ge=!0;else{var fe=n(d);fe!==null&&z(P,fe.startTime-H),ge=!1}return ge}finally{f=null,m=X,v=!1}}var O=!1,E=null,b=-1,S=5,R=-1;function N(){return!(t.unstable_now()-R<S)}function T(){if(E!==null){var F=t.unstable_now();R=F;var H=!0;try{H=E(!0,F)}finally{H?A():(O=!1,E=null)}}else O=!1}var A;if(typeof y=="function")A=function(){y(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=T,A=function(){q.postMessage(null)}}else A=function(){C(T,0)};function V(F){E=F,O||(O=!0,A())}function z(F,H){b=C(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,V(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var X=m;m=H;try{return F()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=m;m=F;try{return H()}finally{m=X}},t.unstable_scheduleCallback=function(F,H,X){var J=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,F={id:h++,callback:H,priorityLevel:F,startTime:X,expirationTime:W,sortIndex:-1},X>J?(F.sortIndex=X,e(d,F),n(c)===null&&F===n(d)&&(g?(j(b),b=-1):g=!0,z(P,X-J))):(F.sortIndex=W,e(c,F),_||v||(_=!0,V(D))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var H=m;return function(){var X=m;m=H;try{return F.apply(this,arguments)}finally{m=X}}}})(Fk);Lk.exports=Fk;var MF=Lk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OF=p,yr=MF;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $k=new Set,su={};function Yo(t,e){pc(t,e),pc(t+"Capture",e)}function pc(t,e){for(su[t]=e,t=0;t<e.length;t++)$k.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ax=Object.prototype.hasOwnProperty,LF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Yb={};function FF(t){return Ax.call(Yb,t)?!0:Ax.call(Qb,t)?!1:LF.test(t)?Yb[t]=!0:(Qb[t]=!0,!1)}function $F(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UF(t,e,n,r){if(e===null||typeof e>"u"||$F(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);Cn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);Cn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ey,Ty);Cn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Py(t,e,n,r){var i=Cn.hasOwnProperty(e)?Cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UF(e,n,i,r)&&(n=null),r||i===null?FF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=OF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),jl=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Ix=Symbol.for("react.profiler"),Uk=Symbol.for("react.provider"),Vk=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Rx=Symbol.for("react.suspense"),Dx=Symbol.for("react.suspense_list"),Ry=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),Xb=Symbol.iterator;function pd(t){return t===null||typeof t!="object"?null:(t=Xb&&t[Xb]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,jg;function Td(t){if(jg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jg=e&&e[1]||""}return`
`+jg+t}var bg=!1;function Ng(t,e){if(!t||bg)return"";bg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{bg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Td(t):""}function VF(t){switch(t.tag){case 5:return Td(t.type);case 16:return Td("Lazy");case 13:return Td("Suspense");case 19:return Td("SuspenseList");case 0:case 2:case 15:return t=Ng(t.type,!1),t;case 11:return t=Ng(t.type.render,!1),t;case 1:return t=Ng(t.type,!0),t;default:return""}}function Mx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bl:return"Fragment";case jl:return"Portal";case Ix:return"Profiler";case Ay:return"StrictMode";case Rx:return"Suspense";case Dx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vk:return(t.displayName||"Context")+".Consumer";case Uk:return(t._context.displayName||"Context")+".Provider";case Iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ry:return e=t.displayName||null,e!==null?e:Mx(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return Mx(t(e))}catch{}}return null}function zF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mx(e);case 8:return e===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BF(t){var e=Bk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $h(t){t._valueTracker||(t._valueTracker=BF(t))}function Wk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ox(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hk(t,e){e=e.checked,e!=null&&Py(t,"checked",e,!1)}function Lx(t,e){Hk(t,e);var n=Ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fx(t,e.type,Ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fx(t,e,n){(e!=="number"||Vf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pd=Array.isArray;function Dl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $x(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(Pd(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ta(n)}}function qk(t,e){var n=Ta(e.value),r=Ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ux(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uh,Gk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WF=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(t){WF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fd[e]=Fd[t]})});function Qk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fd.hasOwnProperty(t)&&Fd[t]?(""+e).trim():e+"px"}function Yk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var HF=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vx(t,e){if(e){if(HF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function zx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=null;function Dy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wx=null,Ml=null,Ol=null;function n0(t){if(t=th(t)){if(typeof Wx!="function")throw Error(de(280));var e=t.stateNode;e&&(e=ip(e),Wx(t.stateNode,t.type,e))}}function Xk(t){Ml?Ol?Ol.push(t):Ol=[t]:Ml=t}function Zk(){if(Ml){var t=Ml,e=Ol;if(Ol=Ml=null,n0(t),e)for(t=0;t<e.length;t++)n0(e[t])}}function Jk(t,e){return t(e)}function eE(){}var _g=!1;function tE(t,e,n){if(_g)return t(e,n);_g=!0;try{return Jk(t,e,n)}finally{_g=!1,(Ml!==null||Ol!==null)&&(eE(),Zk())}}function au(t,e){var n=t.stateNode;if(n===null)return null;var r=ip(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Hx=!1;if(bi)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){Hx=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{Hx=!1}function qF(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var $d=!1,zf=null,Bf=!1,qx=null,KF={onError:function(t){$d=!0,zf=t}};function GF(t,e,n,r,i,a,o,l,c){$d=!1,zf=null,qF.apply(KF,arguments)}function QF(t,e,n,r,i,a,o,l,c){if(GF.apply(this,arguments),$d){if($d){var d=zf;$d=!1,zf=null}else throw Error(de(198));Bf||(Bf=!0,qx=d)}}function Xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(Xo(t)!==t)throw Error(de(188))}function YF(t){var e=t.alternate;if(!e){if(e=Xo(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return r0(i),t;if(a===r)return r0(i),e;a=a.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function rE(t){return t=YF(t),t!==null?sE(t):null}function sE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sE(t);if(e!==null)return e;t=t.sibling}return null}var iE=yr.unstable_scheduleCallback,s0=yr.unstable_cancelCallback,XF=yr.unstable_shouldYield,ZF=yr.unstable_requestPaint,Kt=yr.unstable_now,JF=yr.unstable_getCurrentPriorityLevel,My=yr.unstable_ImmediatePriority,aE=yr.unstable_UserBlockingPriority,Wf=yr.unstable_NormalPriority,e3=yr.unstable_LowPriority,oE=yr.unstable_IdlePriority,tp=null,Os=null;function t3(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(tp,t,void 0,(t.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:s3,n3=Math.log,r3=Math.LN2;function s3(t){return t>>>=0,t===0?32:31-(n3(t)/r3|0)|0}var Vh=64,zh=4194304;function Ad(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ad(l):(a&=o,a!==0&&(r=Ad(a)))}else o=n&~i,o!==0?r=Ad(o):a!==0&&(r=Ad(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ts(e),i=1<<n,r|=t[n],e&=~i;return r}function i3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ts(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=i3(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Kx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lE(){var t=Vh;return Vh<<=1,!(Vh&4194240)&&(Vh=64),t}function Sg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ju(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ts(e),t[e]=n}function o3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ts(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Oy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ts(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wt=0;function cE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dE,Ly,uE,hE,fE,Gx=!1,Bh=[],xa=null,va=null,ya=null,ou=new Map,lu=new Map,Ji=[],l3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i0(t,e){switch(t){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function xd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=th(e),e!==null&&Ly(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function c3(t,e,n,r,i){switch(e){case"focusin":return xa=xd(xa,t,e,n,r,i),!0;case"dragenter":return va=xd(va,t,e,n,r,i),!0;case"mouseover":return ya=xd(ya,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return ou.set(a,xd(ou.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lu.set(a,xd(lu.get(a)||null,t,e,n,r,i)),!0}return!1}function mE(t){var e=fo(t.target);if(e!==null){var n=Xo(e);if(n!==null){if(e=n.tag,e===13){if(e=nE(n),e!==null){t.blockedOn=e,fE(t.priority,function(){uE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bx=r,n.target.dispatchEvent(r),Bx=null}else return e=th(n),e!==null&&Ly(e),t.blockedOn=n,!1;e.shift()}return!0}function a0(t,e,n){vf(t)&&n.delete(e)}function d3(){Gx=!1,xa!==null&&vf(xa)&&(xa=null),va!==null&&vf(va)&&(va=null),ya!==null&&vf(ya)&&(ya=null),ou.forEach(a0),lu.forEach(a0)}function vd(t,e){t.blockedOn===e&&(t.blockedOn=null,Gx||(Gx=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,d3)))}function cu(t){function e(i){return vd(i,t)}if(0<Bh.length){vd(Bh[0],t);for(var n=1;n<Bh.length;n++){var r=Bh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xa!==null&&vd(xa,t),va!==null&&vd(va,t),ya!==null&&vd(ya,t),ou.forEach(e),lu.forEach(e),n=0;n<Ji.length;n++)r=Ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ji.length&&(n=Ji[0],n.blockedOn===null);)mE(n),n.blockedOn===null&&Ji.shift()}var Ll=Mi.ReactCurrentBatchConfig,qf=!0;function u3(t,e,n,r){var i=wt,a=Ll.transition;Ll.transition=null;try{wt=1,Fy(t,e,n,r)}finally{wt=i,Ll.transition=a}}function h3(t,e,n,r){var i=wt,a=Ll.transition;Ll.transition=null;try{wt=4,Fy(t,e,n,r)}finally{wt=i,Ll.transition=a}}function Fy(t,e,n,r){if(qf){var i=Qx(t,e,n,r);if(i===null)Mg(t,e,r,Kf,n),i0(t,r);else if(c3(i,t,e,n,r))r.stopPropagation();else if(i0(t,r),e&4&&-1<l3.indexOf(t)){for(;i!==null;){var a=th(i);if(a!==null&&dE(a),a=Qx(t,e,n,r),a===null&&Mg(t,e,r,Kf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Mg(t,e,r,null,n)}}var Kf=null;function Qx(t,e,n,r){if(Kf=null,t=Dy(r),t=fo(t),t!==null)if(e=Xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kf=t,null}function pE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JF()){case My:return 1;case aE:return 4;case Wf:case e3:return 16;case oE:return 536870912;default:return 16}default:return 16}}var pa=null,$y=null,yf=null;function gE(){if(yf)return yf;var t,e=$y,n=e.length,r,i="value"in pa?pa.value:pa.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return yf=i.slice(t,1<r?1-r:void 0)}function wf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wh(){return!0}function o0(){return!1}function Nr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wh:o0,this.isPropagationStopped=o0,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),e}var Fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=Nr(Fc),eh=Vt({},Fc,{view:0,detail:0}),f3=Nr(eh),Cg,kg,yd,np=Vt({},eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yd&&(yd&&t.type==="mousemove"?(Cg=t.screenX-yd.screenX,kg=t.screenY-yd.screenY):kg=Cg=0,yd=t),Cg)},movementY:function(t){return"movementY"in t?t.movementY:kg}}),l0=Nr(np),m3=Vt({},np,{dataTransfer:0}),p3=Nr(m3),g3=Vt({},eh,{relatedTarget:0}),Eg=Nr(g3),x3=Vt({},Fc,{animationName:0,elapsedTime:0,pseudoElement:0}),v3=Nr(x3),y3=Vt({},Fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w3=Nr(y3),j3=Vt({},Fc,{data:0}),c0=Nr(j3),b3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_3[t])?!!e[t]:!1}function Vy(){return S3}var C3=Vt({},eh,{key:function(t){if(t.key){var e=b3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vy,charCode:function(t){return t.type==="keypress"?wf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k3=Nr(C3),E3=Vt({},np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=Nr(E3),T3=Vt({},eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vy}),P3=Nr(T3),A3=Vt({},Fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),I3=Nr(A3),R3=Vt({},np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D3=Nr(R3),M3=[9,13,27,32],zy=bi&&"CompositionEvent"in window,Ud=null;bi&&"documentMode"in document&&(Ud=document.documentMode);var O3=bi&&"TextEvent"in window&&!Ud,xE=bi&&(!zy||Ud&&8<Ud&&11>=Ud),u0=" ",h0=!1;function vE(t,e){switch(t){case"keyup":return M3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nl=!1;function L3(t,e){switch(t){case"compositionend":return yE(e);case"keypress":return e.which!==32?null:(h0=!0,u0);case"textInput":return t=e.data,t===u0&&h0?null:t;default:return null}}function F3(t,e){if(Nl)return t==="compositionend"||!zy&&vE(t,e)?(t=gE(),yf=$y=pa=null,Nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var $3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$3[t.type]:e==="textarea"}function wE(t,e,n,r){Xk(r),e=Gf(e,"onChange"),0<e.length&&(n=new Uy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vd=null,du=null;function U3(t){AE(t,0)}function rp(t){var e=Cl(t);if(Wk(e))return t}function V3(t,e){if(t==="change")return e}var jE=!1;if(bi){var Tg;if(bi){var Pg="oninput"in document;if(!Pg){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Pg=typeof m0.oninput=="function"}Tg=Pg}else Tg=!1;jE=Tg&&(!document.documentMode||9<document.documentMode)}function p0(){Vd&&(Vd.detachEvent("onpropertychange",bE),du=Vd=null)}function bE(t){if(t.propertyName==="value"&&rp(du)){var e=[];wE(e,du,t,Dy(t)),tE(U3,e)}}function z3(t,e,n){t==="focusin"?(p0(),Vd=e,du=n,Vd.attachEvent("onpropertychange",bE)):t==="focusout"&&p0()}function B3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rp(du)}function W3(t,e){if(t==="click")return rp(e)}function H3(t,e){if(t==="input"||t==="change")return rp(e)}function q3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cs=typeof Object.is=="function"?Object.is:q3;function uu(t,e){if(cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ax.call(e,i)||!cs(t[i],e[i]))return!1}return!0}function g0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=g0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g0(n)}}function NE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _E(){for(var t=window,e=Vf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vf(t.document)}return e}function By(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K3(t){var e=_E(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NE(n.ownerDocument.documentElement,n)){if(r!==null&&By(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=x0(n,a);var o=x0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G3=bi&&"documentMode"in document&&11>=document.documentMode,_l=null,Yx=null,zd=null,Xx=!1;function v0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xx||_l==null||_l!==Vf(r)||(r=_l,"selectionStart"in r&&By(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&uu(zd,r)||(zd=r,r=Gf(Yx,"onSelect"),0<r.length&&(e=new Uy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_l)))}function Hh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sl={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},Ag={},SE={};bi&&(SE=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function sp(t){if(Ag[t])return Ag[t];if(!Sl[t])return t;var e=Sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SE)return Ag[t]=e[n];return t}var CE=sp("animationend"),kE=sp("animationiteration"),EE=sp("animationstart"),TE=sp("transitionend"),PE=new Map,y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(t,e){PE.set(t,e),Yo(e,[t])}for(var Ig=0;Ig<y0.length;Ig++){var Rg=y0[Ig],Q3=Rg.toLowerCase(),Y3=Rg[0].toUpperCase()+Rg.slice(1);za(Q3,"on"+Y3)}za(CE,"onAnimationEnd");za(kE,"onAnimationIteration");za(EE,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(TE,"onTransitionEnd");pc("onMouseEnter",["mouseout","mouseover"]);pc("onMouseLeave",["mouseout","mouseover"]);pc("onPointerEnter",["pointerout","pointerover"]);pc("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function w0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QF(r,e,void 0,t),t.currentTarget=null}function AE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;w0(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;w0(i,l,d),a=c}}}if(Bf)throw t=qx,Bf=!1,qx=null,t}function Rt(t,e){var n=e[nv];n===void 0&&(n=e[nv]=new Set);var r=t+"__bubble";n.has(r)||(IE(e,t,2,!1),n.add(r))}function Dg(t,e,n){var r=0;e&&(r|=4),IE(n,t,r,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function hu(t){if(!t[qh]){t[qh]=!0,$k.forEach(function(n){n!=="selectionchange"&&(X3.has(n)||Dg(n,!1,t),Dg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,Dg("selectionchange",!1,e))}}function IE(t,e,n,r){switch(pE(e)){case 1:var i=u3;break;case 4:i=h3;break;default:i=Fy}n=i.bind(null,e,n,t),i=void 0,!Hx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fo(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}tE(function(){var d=a,h=Dy(n),f=[];e:{var m=PE.get(t);if(m!==void 0){var v=Uy,_=t;switch(t){case"keypress":if(wf(n)===0)break e;case"keydown":case"keyup":v=k3;break;case"focusin":_="focus",v=Eg;break;case"focusout":_="blur",v=Eg;break;case"beforeblur":case"afterblur":v=Eg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=p3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=P3;break;case CE:case kE:case EE:v=v3;break;case TE:v=I3;break;case"scroll":v=f3;break;case"wheel":v=D3;break;case"copy":case"cut":case"paste":v=w3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=d0}var g=(e&4)!==0,C=!g&&t==="scroll",j=g?m!==null?m+"Capture":null:m;g=[];for(var y=d,x;y!==null;){x=y;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,j!==null&&(P=au(y,j),P!=null&&g.push(fu(y,P,x)))),C)break;y=y.return}0<g.length&&(m=new v(m,_,null,n,h),f.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Bx&&(_=n.relatedTarget||n.fromElement)&&(fo(_)||_[Ni]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=d,_=_?fo(_):null,_!==null&&(C=Xo(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=d),v!==_)){if(g=l0,P="onMouseLeave",j="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=d0,P="onPointerLeave",j="onPointerEnter",y="pointer"),C=v==null?m:Cl(v),x=_==null?m:Cl(_),m=new g(P,y+"leave",v,n,h),m.target=C,m.relatedTarget=x,P=null,fo(h)===d&&(g=new g(j,y+"enter",_,n,h),g.target=x,g.relatedTarget=C,P=g),C=P,v&&_)t:{for(g=v,j=_,y=0,x=g;x;x=fl(x))y++;for(x=0,P=j;P;P=fl(P))x++;for(;0<y-x;)g=fl(g),y--;for(;0<x-y;)j=fl(j),x--;for(;y--;){if(g===j||j!==null&&g===j.alternate)break t;g=fl(g),j=fl(j)}g=null}else g=null;v!==null&&j0(f,m,v,g,!1),_!==null&&C!==null&&j0(f,C,_,g,!0)}}e:{if(m=d?Cl(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=V3;else if(f0(m))if(jE)D=H3;else{D=B3;var O=z3}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=W3);if(D&&(D=D(t,d))){wE(f,D,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Fx(m,"number",m.value)}switch(O=d?Cl(d):window,t){case"focusin":(f0(O)||O.contentEditable==="true")&&(_l=O,Yx=d,zd=null);break;case"focusout":zd=Yx=_l=null;break;case"mousedown":Xx=!0;break;case"contextmenu":case"mouseup":case"dragend":Xx=!1,v0(f,n,h);break;case"selectionchange":if(G3)break;case"keydown":case"keyup":v0(f,n,h)}var E;if(zy)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Nl?vE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(xE&&n.locale!=="ko"&&(Nl||b!=="onCompositionStart"?b==="onCompositionEnd"&&Nl&&(E=gE()):(pa=h,$y="value"in pa?pa.value:pa.textContent,Nl=!0)),O=Gf(d,b),0<O.length&&(b=new c0(b,t,null,n,h),f.push({event:b,listeners:O}),E?b.data=E:(E=yE(n),E!==null&&(b.data=E)))),(E=O3?L3(t,n):F3(t,n))&&(d=Gf(d,"onBeforeInput"),0<d.length&&(h=new c0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=E))}AE(f,e)})}function fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=au(t,n),a!=null&&r.unshift(fu(t,a,i)),a=au(t,e),a!=null&&r.push(fu(t,a,i))),t=t.return}return r}function fl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function j0(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=au(n,a),c!=null&&o.unshift(fu(n,c,l))):i||(c=au(n,a),c!=null&&o.push(fu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Z3=/\r\n?/g,J3=/\u0000|\uFFFD/g;function b0(t){return(typeof t=="string"?t:""+t).replace(Z3,`
`).replace(J3,"")}function Kh(t,e,n){if(e=b0(e),b0(t)!==e&&n)throw Error(de(425))}function Qf(){}var Zx=null,Jx=null;function ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tv=typeof setTimeout=="function"?setTimeout:void 0,e6=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,t6=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(n6)}:tv;function n6(t){setTimeout(function(){throw t})}function Og(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cu(e)}function wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $c=Math.random().toString(36).slice(2),Es="__reactFiber$"+$c,mu="__reactProps$"+$c,Ni="__reactContainer$"+$c,nv="__reactEvents$"+$c,r6="__reactListeners$"+$c,s6="__reactHandles$"+$c;function fo(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_0(t);t!==null;){if(n=t[Es])return n;t=_0(t)}return e}t=n,n=t.parentNode}return null}function th(t){return t=t[Es]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function ip(t){return t[mu]||null}var rv=[],kl=-1;function Ba(t){return{current:t}}function Dt(t){0>kl||(t.current=rv[kl],rv[kl]=null,kl--)}function Tt(t,e){kl++,rv[kl]=t.current,t.current=e}var Pa={},Mn=Ba(Pa),sr=Ba(!1),Io=Pa;function gc(t,e){var n=t.type.contextTypes;if(!n)return Pa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ir(t){return t=t.childContextTypes,t!=null}function Yf(){Dt(sr),Dt(Mn)}function S0(t,e,n){if(Mn.current!==Pa)throw Error(de(168));Tt(Mn,e),Tt(sr,n)}function RE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(de(108,zF(t)||"Unknown",i));return Vt({},n,r)}function Xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pa,Io=Mn.current,Tt(Mn,t),Tt(sr,sr.current),!0}function C0(t,e,n){var r=t.stateNode;if(!r)throw Error(de(169));n?(t=RE(t,e,Io),r.__reactInternalMemoizedMergedChildContext=t,Dt(sr),Dt(Mn),Tt(Mn,t)):Dt(sr),Tt(sr,n)}var di=null,ap=!1,Lg=!1;function DE(t){di===null?di=[t]:di.push(t)}function i6(t){ap=!0,DE(t)}function Wa(){if(!Lg&&di!==null){Lg=!0;var t=0,e=wt;try{var n=di;for(wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,ap=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),iE(My,Wa),i}finally{wt=e,Lg=!1}}return null}var El=[],Tl=0,Zf=null,Jf=0,Tr=[],Pr=0,Ro=null,gi=1,xi="";function no(t,e){El[Tl++]=Jf,El[Tl++]=Zf,Zf=t,Jf=e}function ME(t,e,n){Tr[Pr++]=gi,Tr[Pr++]=xi,Tr[Pr++]=Ro,Ro=t;var r=gi;t=xi;var i=32-ts(r)-1;r&=~(1<<i),n+=1;var a=32-ts(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gi=1<<32-ts(e)+i|n<<i|r,xi=a+t}else gi=1<<a|n<<i|r,xi=t}function Wy(t){t.return!==null&&(no(t,1),ME(t,1,0))}function Hy(t){for(;t===Zf;)Zf=El[--Tl],El[Tl]=null,Jf=El[--Tl],El[Tl]=null;for(;t===Ro;)Ro=Tr[--Pr],Tr[Pr]=null,xi=Tr[--Pr],Tr[Pr]=null,gi=Tr[--Pr],Tr[Pr]=null}var gr=null,pr=null,Mt=!1,Wr=null;function OE(t,e){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,pr=wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:gi,overflow:xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gr=t,pr=null,!0):!1;default:return!1}}function sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iv(t){if(Mt){var e=pr;if(e){var n=e;if(!k0(t,e)){if(sv(t))throw Error(de(418));e=wa(n.nextSibling);var r=gr;e&&k0(t,e)?OE(r,n):(t.flags=t.flags&-4097|2,Mt=!1,gr=t)}}else{if(sv(t))throw Error(de(418));t.flags=t.flags&-4097|2,Mt=!1,gr=t}}}function E0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function Gh(t){if(t!==gr)return!1;if(!Mt)return E0(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ev(t.type,t.memoizedProps)),e&&(e=pr)){if(sv(t))throw LE(),Error(de(418));for(;e;)OE(t,e),e=wa(e.nextSibling)}if(E0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=wa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=gr?wa(t.stateNode.nextSibling):null;return!0}function LE(){for(var t=pr;t;)t=wa(t.nextSibling)}function xc(){pr=gr=null,Mt=!1}function qy(t){Wr===null?Wr=[t]:Wr.push(t)}var a6=Mi.ReactCurrentBatchConfig;function wd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var r=n.stateNode}if(!r)throw Error(de(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Qh(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T0(t){var e=t._init;return e(t._payload)}function FE(t){function e(j,y){if(t){var x=j.deletions;x===null?(j.deletions=[y],j.flags|=16):x.push(y)}}function n(j,y){if(!t)return null;for(;y!==null;)e(j,y),y=y.sibling;return null}function r(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function i(j,y){return j=_a(j,y),j.index=0,j.sibling=null,j}function a(j,y,x){return j.index=x,t?(x=j.alternate,x!==null?(x=x.index,x<y?(j.flags|=2,y):x):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return t&&j.alternate===null&&(j.flags|=2),j}function l(j,y,x,P){return y===null||y.tag!==6?(y=Wg(x,j.mode,P),y.return=j,y):(y=i(y,x),y.return=j,y)}function c(j,y,x,P){var D=x.type;return D===bl?h(j,y,x.props.children,P,x.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Xi&&T0(D)===y.type)?(P=i(y,x.props),P.ref=wd(j,y,x),P.return=j,P):(P=kf(x.type,x.key,x.props,null,j.mode,P),P.ref=wd(j,y,x),P.return=j,P)}function d(j,y,x,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Hg(x,j.mode,P),y.return=j,y):(y=i(y,x.children||[]),y.return=j,y)}function h(j,y,x,P,D){return y===null||y.tag!==7?(y=ko(x,j.mode,P,D),y.return=j,y):(y=i(y,x),y.return=j,y)}function f(j,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wg(""+y,j.mode,x),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fh:return x=kf(y.type,y.key,y.props,null,j.mode,x),x.ref=wd(j,null,y),x.return=j,x;case jl:return y=Hg(y,j.mode,x),y.return=j,y;case Xi:var P=y._init;return f(j,P(y._payload),x)}if(Pd(y)||pd(y))return y=ko(y,j.mode,x,null),y.return=j,y;Qh(j,y)}return null}function m(j,y,x,P){var D=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:l(j,y,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fh:return x.key===D?c(j,y,x,P):null;case jl:return x.key===D?d(j,y,x,P):null;case Xi:return D=x._init,m(j,y,D(x._payload),P)}if(Pd(x)||pd(x))return D!==null?null:h(j,y,x,P,null);Qh(j,x)}return null}function v(j,y,x,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return j=j.get(x)||null,l(y,j,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Fh:return j=j.get(P.key===null?x:P.key)||null,c(y,j,P,D);case jl:return j=j.get(P.key===null?x:P.key)||null,d(y,j,P,D);case Xi:var O=P._init;return v(j,y,x,O(P._payload),D)}if(Pd(P)||pd(P))return j=j.get(x)||null,h(y,j,P,D,null);Qh(y,P)}return null}function _(j,y,x,P){for(var D=null,O=null,E=y,b=y=0,S=null;E!==null&&b<x.length;b++){E.index>b?(S=E,E=null):S=E.sibling;var R=m(j,E,x[b],P);if(R===null){E===null&&(E=S);break}t&&E&&R.alternate===null&&e(j,E),y=a(R,y,b),O===null?D=R:O.sibling=R,O=R,E=S}if(b===x.length)return n(j,E),Mt&&no(j,b),D;if(E===null){for(;b<x.length;b++)E=f(j,x[b],P),E!==null&&(y=a(E,y,b),O===null?D=E:O.sibling=E,O=E);return Mt&&no(j,b),D}for(E=r(j,E);b<x.length;b++)S=v(E,j,b,x[b],P),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?b:S.key),y=a(S,y,b),O===null?D=S:O.sibling=S,O=S);return t&&E.forEach(function(N){return e(j,N)}),Mt&&no(j,b),D}function g(j,y,x,P){var D=pd(x);if(typeof D!="function")throw Error(de(150));if(x=D.call(x),x==null)throw Error(de(151));for(var O=D=null,E=y,b=y=0,S=null,R=x.next();E!==null&&!R.done;b++,R=x.next()){E.index>b?(S=E,E=null):S=E.sibling;var N=m(j,E,R.value,P);if(N===null){E===null&&(E=S);break}t&&E&&N.alternate===null&&e(j,E),y=a(N,y,b),O===null?D=N:O.sibling=N,O=N,E=S}if(R.done)return n(j,E),Mt&&no(j,b),D;if(E===null){for(;!R.done;b++,R=x.next())R=f(j,R.value,P),R!==null&&(y=a(R,y,b),O===null?D=R:O.sibling=R,O=R);return Mt&&no(j,b),D}for(E=r(j,E);!R.done;b++,R=x.next())R=v(E,j,b,R.value,P),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?b:R.key),y=a(R,y,b),O===null?D=R:O.sibling=R,O=R);return t&&E.forEach(function(T){return e(j,T)}),Mt&&no(j,b),D}function C(j,y,x,P){if(typeof x=="object"&&x!==null&&x.type===bl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Fh:e:{for(var D=x.key,O=y;O!==null;){if(O.key===D){if(D=x.type,D===bl){if(O.tag===7){n(j,O.sibling),y=i(O,x.props.children),y.return=j,j=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Xi&&T0(D)===O.type){n(j,O.sibling),y=i(O,x.props),y.ref=wd(j,O,x),y.return=j,j=y;break e}n(j,O);break}else e(j,O);O=O.sibling}x.type===bl?(y=ko(x.props.children,j.mode,P,x.key),y.return=j,j=y):(P=kf(x.type,x.key,x.props,null,j.mode,P),P.ref=wd(j,y,x),P.return=j,j=P)}return o(j);case jl:e:{for(O=x.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(j,y.sibling),y=i(y,x.children||[]),y.return=j,j=y;break e}else{n(j,y);break}else e(j,y);y=y.sibling}y=Hg(x,j.mode,P),y.return=j,j=y}return o(j);case Xi:return O=x._init,C(j,y,O(x._payload),P)}if(Pd(x))return _(j,y,x,P);if(pd(x))return g(j,y,x,P);Qh(j,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(j,y.sibling),y=i(y,x),y.return=j,j=y):(n(j,y),y=Wg(x,j.mode,P),y.return=j,j=y),o(j)):n(j,y)}return C}var vc=FE(!0),$E=FE(!1),em=Ba(null),tm=null,Pl=null,Ky=null;function Gy(){Ky=Pl=tm=null}function Qy(t){var e=em.current;Dt(em),t._currentValue=e}function av(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fl(t,e){tm=t,Ky=Pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function Mr(t){var e=t._currentValue;if(Ky!==t)if(t={context:t,memoizedValue:e,next:null},Pl===null){if(tm===null)throw Error(de(308));Pl=t,tm.dependencies={lanes:0,firstContext:t}}else Pl=Pl.next=t;return e}var mo=null;function Yy(t){mo===null?mo=[t]:mo.push(t)}function UE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yy(e)):(n.next=i.next,i.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function Xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ja(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_i(t,n)}return i=r.interleaved,i===null?(e.next=e,Yy(r)):(e.next=i.next,i.next=e),r.interleaved=e,_i(t,n)}function jf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oy(t,n)}}function P0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nm(t,e,n,r){var i=t.updateQueue;Zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,h=d=c=null,l=a;do{var m=l.lane,v=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,g=l;switch(m=e,v=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(v,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,m=typeof _=="function"?_.call(v,f,m):_,m==null)break e;f=Vt({},f,m);break e;case 2:Zi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=v,c=f):h=h.next=v,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=f}}function A0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(de(191,i));i.call(r)}}}var nh={},Ls=Ba(nh),pu=Ba(nh),gu=Ba(nh);function po(t){if(t===nh)throw Error(de(174));return t}function Zy(t,e){switch(Tt(gu,e),Tt(pu,t),Tt(Ls,nh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ux(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ux(e,t)}Dt(Ls),Tt(Ls,e)}function yc(){Dt(Ls),Dt(pu),Dt(gu)}function zE(t){po(gu.current);var e=po(Ls.current),n=Ux(e,t.type);e!==n&&(Tt(pu,t),Tt(Ls,n))}function Jy(t){pu.current===t&&(Dt(Ls),Dt(pu))}var $t=Ba(0);function rm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fg=[];function ew(){for(var t=0;t<Fg.length;t++)Fg[t]._workInProgressVersionPrimary=null;Fg.length=0}var bf=Mi.ReactCurrentDispatcher,$g=Mi.ReactCurrentBatchConfig,Do=0,Ut=null,tn=null,hn=null,sm=!1,Bd=!1,xu=0,o6=0;function An(){throw Error(de(321))}function tw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cs(t[n],e[n]))return!1;return!0}function nw(t,e,n,r,i,a){if(Do=a,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bf.current=t===null||t.memoizedState===null?u6:h6,t=n(r,i),Bd){a=0;do{if(Bd=!1,xu=0,25<=a)throw Error(de(301));a+=1,hn=tn=null,e.updateQueue=null,bf.current=f6,t=n(r,i)}while(Bd)}if(bf.current=im,e=tn!==null&&tn.next!==null,Do=0,hn=tn=Ut=null,sm=!1,e)throw Error(de(300));return t}function rw(){var t=xu!==0;return xu=0,t}function js(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ut.memoizedState=hn=t:hn=hn.next=t,hn}function Or(){if(tn===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=hn===null?Ut.memoizedState:hn.next;if(e!==null)hn=e,tn=t;else{if(t===null)throw Error(de(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},hn===null?Ut.memoizedState=hn=t:hn=hn.next=t}return hn}function vu(t,e){return typeof e=="function"?e(t):e}function Ug(t){var e=Or(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((Do&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ut.lanes|=h,Mo|=h}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,cs(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Ut.lanes|=a,Mo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vg(t){var e=Or(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);cs(a,e.memoizedState)||(er=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function BE(){}function WE(t,e){var n=Ut,r=Or(),i=e(),a=!cs(r.memoizedState,i);if(a&&(r.memoizedState=i,er=!0),r=r.queue,sw(KE.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,yu(9,qE.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(de(349));Do&30||HE(n,e,i)}return i}function HE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qE(t,e,n,r){e.value=n,e.getSnapshot=r,GE(e)&&QE(t)}function KE(t,e,n){return n(function(){GE(e)&&QE(t)})}function GE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cs(t,n)}catch{return!0}}function QE(t){var e=_i(t,1);e!==null&&ns(e,t,1,-1)}function I0(t){var e=js();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:t},e.queue=t,t=t.dispatch=d6.bind(null,Ut,t),[e.memoizedState,t]}function yu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YE(){return Or().memoizedState}function Nf(t,e,n,r){var i=js();Ut.flags|=t,i.memoizedState=yu(1|e,n,void 0,r===void 0?null:r)}function op(t,e,n,r){var i=Or();r=r===void 0?null:r;var a=void 0;if(tn!==null){var o=tn.memoizedState;if(a=o.destroy,r!==null&&tw(r,o.deps)){i.memoizedState=yu(e,n,a,r);return}}Ut.flags|=t,i.memoizedState=yu(1|e,n,a,r)}function R0(t,e){return Nf(8390656,8,t,e)}function sw(t,e){return op(2048,8,t,e)}function XE(t,e){return op(4,2,t,e)}function ZE(t,e){return op(4,4,t,e)}function JE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eT(t,e,n){return n=n!=null?n.concat([t]):null,op(4,4,JE.bind(null,e,t),n)}function iw(){}function tT(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nT(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rT(t,e,n){return Do&21?(cs(n,e)||(n=lE(),Ut.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function l6(t,e){var n=wt;wt=n!==0&&4>n?n:4,t(!0);var r=$g.transition;$g.transition={};try{t(!1),e()}finally{wt=n,$g.transition=r}}function sT(){return Or().memoizedState}function c6(t,e,n){var r=Na(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iT(t))aT(e,n);else if(n=UE(t,e,n,r),n!==null){var i=Hn();ns(n,t,r,i),oT(n,e,r)}}function d6(t,e,n){var r=Na(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iT(t))aT(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,cs(l,o)){var c=e.interleaved;c===null?(i.next=i,Yy(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=UE(t,e,i,r),n!==null&&(i=Hn(),ns(n,t,r,i),oT(n,e,r))}}function iT(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function aT(t,e){Bd=sm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oy(t,n)}}var im={readContext:Mr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},u6={readContext:Mr,useCallback:function(t,e){return js().memoizedState=[t,e===void 0?null:e],t},useContext:Mr,useEffect:R0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nf(4194308,4,JE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nf(4,2,t,e)},useMemo:function(t,e){var n=js();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=js();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=c6.bind(null,Ut,t),[r.memoizedState,t]},useRef:function(t){var e=js();return t={current:t},e.memoizedState=t},useState:I0,useDebugValue:iw,useDeferredValue:function(t){return js().memoizedState=t},useTransition:function(){var t=I0(!1),e=t[0];return t=l6.bind(null,t[1]),js().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ut,i=js();if(Mt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),mn===null)throw Error(de(349));Do&30||HE(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,R0(KE.bind(null,r,a,t),[t]),r.flags|=2048,yu(9,qE.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=js(),e=mn.identifierPrefix;if(Mt){var n=xi,r=gi;n=(r&~(1<<32-ts(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h6={readContext:Mr,useCallback:tT,useContext:Mr,useEffect:sw,useImperativeHandle:eT,useInsertionEffect:XE,useLayoutEffect:ZE,useMemo:nT,useReducer:Ug,useRef:YE,useState:function(){return Ug(vu)},useDebugValue:iw,useDeferredValue:function(t){var e=Or();return rT(e,tn.memoizedState,t)},useTransition:function(){var t=Ug(vu)[0],e=Or().memoizedState;return[t,e]},useMutableSource:BE,useSyncExternalStore:WE,useId:sT,unstable_isNewReconciler:!1},f6={readContext:Mr,useCallback:tT,useContext:Mr,useEffect:sw,useImperativeHandle:eT,useInsertionEffect:XE,useLayoutEffect:ZE,useMemo:nT,useReducer:Vg,useRef:YE,useState:function(){return Vg(vu)},useDebugValue:iw,useDeferredValue:function(t){var e=Or();return tn===null?e.memoizedState=t:rT(e,tn.memoizedState,t)},useTransition:function(){var t=Vg(vu)[0],e=Or().memoizedState;return[t,e]},useMutableSource:BE,useSyncExternalStore:WE,useId:sT,unstable_isNewReconciler:!1};function Vr(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lp={isMounted:function(t){return(t=t._reactInternals)?Xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Na(t),a=wi(r,i);a.payload=e,n!=null&&(a.callback=n),e=ja(t,a,i),e!==null&&(ns(e,t,i,r),jf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Na(t),a=wi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ja(t,a,i),e!==null&&(ns(e,t,i,r),jf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=Na(t),i=wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ja(t,i,r),e!==null&&(ns(e,t,r,n),jf(e,t,r))}};function D0(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!uu(n,r)||!uu(i,a):!0}function lT(t,e,n){var r=!1,i=Pa,a=e.contextType;return typeof a=="object"&&a!==null?a=Mr(a):(i=ir(e)?Io:Mn.current,r=e.contextTypes,a=(r=r!=null)?gc(t,i):Pa),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function M0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lp.enqueueReplaceState(e,e.state,null)}function lv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xy(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Mr(a):(a=ir(e)?Io:Mn.current,i.context=gc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ov(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lp.enqueueReplaceState(i,i.state,null),nm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wc(t,e){try{var n="",r=e;do n+=VF(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function zg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m6=typeof WeakMap=="function"?WeakMap:Map;function cT(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){om||(om=!0,yv=r),cv(t,e)},n}function dT(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){cv(t,e),typeof r!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function O0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=E6.bind(null,t,e,n),e.then(t,t))}function L0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,ja(n,e,1))),n.lanes|=1),t)}var p6=Mi.ReactCurrentOwner,er=!1;function Vn(t,e,n,r){e.child=t===null?$E(e,null,n,r):vc(e,t.child,n,r)}function $0(t,e,n,r,i){n=n.render;var a=e.ref;return Fl(e,i),r=nw(t,e,n,r,a,i),n=rw(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(Mt&&n&&Wy(e),e.flags|=1,Vn(t,e,r,i),e.child)}function U0(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!fw(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,uT(t,e,a,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:uu,n(o,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=_a(a,r),t.ref=e.ref,t.return=e,e.child=t}function uT(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(uu(a,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,Si(t,e,i)}return dv(t,e,n,r,i)}function hT(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Il,dr),dr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(Il,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Tt(Il,dr),dr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Tt(Il,dr),dr|=r;return Vn(t,e,i,n),e.child}function fT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dv(t,e,n,r,i){var a=ir(n)?Io:Mn.current;return a=gc(e,a),Fl(e,i),n=nw(t,e,n,r,a,i),r=rw(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(Mt&&r&&Wy(e),e.flags|=1,Vn(t,e,n,i),e.child)}function V0(t,e,n,r,i){if(ir(n)){var a=!0;Xf(e)}else a=!1;if(Fl(e,i),e.stateNode===null)_f(t,e),lT(e,n,r),lv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mr(d):(d=ir(n)?Io:Mn.current,d=gc(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&M0(e,o,r,d),Zi=!1;var m=e.memoizedState;o.state=m,nm(e,r,o,i),c=e.memoizedState,l!==r||m!==c||sr.current||Zi?(typeof h=="function"&&(ov(e,n,h,r),c=e.memoizedState),(l=Zi||D0(e,n,l,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Vr(e.type,l),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mr(c):(c=ir(n)?Io:Mn.current,c=gc(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&M0(e,o,r,c),Zi=!1,m=e.memoizedState,o.state=m,nm(e,r,o,i);var _=e.memoizedState;l!==f||m!==_||sr.current||Zi?(typeof v=="function"&&(ov(e,n,v,r),_=e.memoizedState),(d=Zi||D0(e,n,d,r,m,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return uv(t,e,n,r,a,i)}function uv(t,e,n,r,i,a){fT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&C0(e,n,!1),Si(t,e,a);r=e.stateNode,p6.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vc(e,t.child,null,a),e.child=vc(e,null,l,a)):Vn(t,e,l,a),e.memoizedState=r.state,i&&C0(e,n,!0),e.child}function mT(t){var e=t.stateNode;e.pendingContext?S0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S0(t,e.context,!1),Zy(t,e.containerInfo)}function z0(t,e,n,r,i){return xc(),qy(i),e.flags|=256,Vn(t,e,n,r),e.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function fv(t){return{baseLanes:t,cachePool:null,transitions:null}}function pT(t,e,n){var r=e.pendingProps,i=$t.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Tt($t,i&1),t===null)return iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=up(o,r,0,null),t=ko(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=fv(n),e.memoizedState=hv,t):aw(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return g6(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_a(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=_a(l,a):(a=ko(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?fv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=hv,r}return a=t.child,t=a.sibling,r=_a(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aw(t,e){return e=up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yh(t,e,n,r){return r!==null&&qy(r),vc(e,t.child,null,n),t=aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g6(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=zg(Error(de(422))),Yh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=up({mode:"visible",children:r.children},i,0,null),a=ko(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&vc(e,t.child,null,o),e.child.memoizedState=fv(o),e.memoizedState=hv,a);if(!(e.mode&1))return Yh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(de(419)),r=zg(a,r,void 0),Yh(t,e,o,r)}if(l=(o&t.childLanes)!==0,er||l){if(r=mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_i(t,i),ns(r,t,i,-1))}return hw(),r=zg(Error(de(421))),Yh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,pr=wa(i.nextSibling),gr=e,Mt=!0,Wr=null,t!==null&&(Tr[Pr++]=gi,Tr[Pr++]=xi,Tr[Pr++]=Ro,gi=t.id,xi=t.overflow,Ro=e),e=aw(e,r.children),e.flags|=4096,e)}function B0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),av(t.return,e,n)}function Bg(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function gT(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Vn(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,n,e);else if(t.tag===19)B0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bg(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bg(e,!0,n,null,a);break;case"together":Bg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=_a(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_a(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x6(t,e,n){switch(e.tag){case 3:mT(e),xc();break;case 5:zE(e);break;case 1:ir(e.type)&&Xf(e);break;case 4:Zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(em,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?pT(t,e,n):(Tt($t,$t.current&1),t=Si(t,e,n),t!==null?t.sibling:null);Tt($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,hT(t,e,n)}return Si(t,e,n)}var xT,mv,vT,yT;xT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mv=function(){};vT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,po(Ls.current);var a=null;switch(n){case"input":i=Ox(t,i),r=Ox(t,r),a=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),a=[];break;case"textarea":i=$x(t,i),r=$x(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}Vx(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(su.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(su.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Rt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};yT=function(t,e,n,r){n!==r&&(e.flags|=4)};function jd(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v6(t,e,n){var r=e.pendingProps;switch(Hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return ir(e.type)&&Yf(),In(e),null;case 3:return r=e.stateNode,yc(),Dt(sr),Dt(Mn),ew(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(bv(Wr),Wr=null))),mv(t,e),In(e),null;case 5:Jy(e);var i=po(gu.current);if(n=e.type,t!==null&&e.stateNode!=null)vT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(de(166));return In(e),null}if(t=po(Ls.current),Gh(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Es]=e,r[mu]=a,t=(e.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<Id.length;i++)Rt(Id[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":Zb(r,a),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Rt("invalid",r);break;case"textarea":e0(r,a),Rt("invalid",r)}Vx(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Kh(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Kh(r.textContent,l,t),i=["children",""+l]):su.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Rt("scroll",r)}switch(n){case"input":$h(r),Jb(r,a,!0);break;case"textarea":$h(r),t0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Qf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Es]=e,t[mu]=r,xT(t,e,!1,!1),e.stateNode=t;e:{switch(o=zx(n,r),n){case"dialog":Rt("cancel",t),Rt("close",t),i=r;break;case"iframe":case"object":case"embed":Rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Id.length;i++)Rt(Id[i],t);i=r;break;case"source":Rt("error",t),i=r;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),i=r;break;case"details":Rt("toggle",t),i=r;break;case"input":Zb(t,r),i=Ox(t,r),Rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),Rt("invalid",t);break;case"textarea":e0(t,r),i=$x(t,r),Rt("invalid",t);break;default:i=r}Vx(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Yk(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gk(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&iu(t,c):typeof c=="number"&&iu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(su.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Rt("scroll",t):c!=null&&Py(t,a,c,o))}switch(n){case"input":$h(t),Jb(t,r,!1);break;case"textarea":$h(t),t0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ta(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Dl(t,!!r.multiple,a,!1):r.defaultValue!=null&&Dl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)yT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(n=po(gu.current),po(Ls.current),Gh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Es]=e,(a=r.nodeValue!==n)&&(t=gr,t!==null))switch(t.tag){case 3:Kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kh(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=e,e.stateNode=r}return In(e),null;case 13:if(Dt($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&pr!==null&&e.mode&1&&!(e.flags&128))LE(),xc(),e.flags|=98560,a=!1;else if(a=Gh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(de(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[Es]=e}else xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),a=!1}else Wr!==null&&(bv(Wr),Wr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?on===0&&(on=3):hw())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return yc(),mv(t,e),t===null&&hu(e.stateNode.containerInfo),In(e),null;case 10:return Qy(e.type._context),In(e),null;case 17:return ir(e.type)&&Yf(),In(e),null;case 19:if(Dt($t),a=e.memoizedState,a===null)return In(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)jd(a,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rm(t),o!==null){for(e.flags|=128,jd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt($t,$t.current&1|2),e.child}t=t.sibling}a.tail!==null&&Kt()>jc&&(e.flags|=128,r=!0,jd(a,!1),e.lanes=4194304)}else{if(!r)if(t=rm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Mt)return In(e),null}else 2*Kt()-a.renderingStartTime>jc&&n!==1073741824&&(e.flags|=128,r=!0,jd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Kt(),e.sibling=null,n=$t.current,Tt($t,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return uw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dr&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function y6(t,e){switch(Hy(e),e.tag){case 1:return ir(e.type)&&Yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yc(),Dt(sr),Dt(Mn),ew(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jy(e),null;case 13:if(Dt($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt($t),null;case 4:return yc(),null;case 10:return Qy(e.type._context),null;case 22:case 23:return uw(),null;case 24:return null;default:return null}}var Xh=!1,Dn=!1,w6=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Al(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bt(t,e,r)}else n.current=null}function pv(t,e,n){try{n()}catch(r){Bt(t,e,r)}}var W0=!1;function j6(t,e){if(Zx=qf,t=_E(),By(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jx={focusedElem:t,selectionRange:n},qf=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,C=_.memoizedState,j=e.stateNode,y=j.getSnapshotBeforeUpdate(e.elementType===e.type?g:Vr(e.type,g),C);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(P){Bt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return _=W0,W0=!1,_}function Wd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&pv(e,n,a)}i=i.next}while(i!==r)}}function cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wT(t){var e=t.alternate;e!==null&&(t.alternate=null,wT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[mu],delete e[nv],delete e[r6],delete e[s6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jT(t){return t.tag===5||t.tag===3||t.tag===4}function H0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for(xv(t,e,n),t=t.sibling;t!==null;)xv(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var jn=null,Br=!1;function Wi(t,e,n){for(n=n.child;n!==null;)bT(t,e,n),n=n.sibling}function bT(t,e,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(tp,n)}catch{}switch(n.tag){case 5:Dn||Al(n,e);case 6:var r=jn,i=Br;jn=null,Wi(t,e,n),jn=r,Br=i,jn!==null&&(Br?(t=jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(Br?(t=jn,n=n.stateNode,t.nodeType===8?Og(t.parentNode,n):t.nodeType===1&&Og(t,n),cu(t)):Og(jn,n.stateNode));break;case 4:r=jn,i=Br,jn=n.stateNode.containerInfo,Br=!0,Wi(t,e,n),jn=r,Br=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&pv(n,e,o),i=i.next}while(i!==r)}Wi(t,e,n);break;case 1:if(!Dn&&(Al(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Bt(n,e,l)}Wi(t,e,n);break;case 21:Wi(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,Wi(t,e,n),Dn=r):Wi(t,e,n);break;default:Wi(t,e,n)}}function q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w6),e.forEach(function(r){var i=P6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:jn=l.stateNode,Br=!1;break e;case 3:jn=l.stateNode.containerInfo,Br=!0;break e;case 4:jn=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(jn===null)throw Error(de(160));bT(a,o,i),jn=null,Br=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Bt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NT(e,t),e=e.sibling}function NT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(e,t),ws(t),r&4){try{Wd(3,t,t.return),cp(3,t)}catch(g){Bt(t,t.return,g)}try{Wd(5,t,t.return)}catch(g){Bt(t,t.return,g)}}break;case 1:$r(e,t),ws(t),r&512&&n!==null&&Al(n,n.return);break;case 5:if($r(e,t),ws(t),r&512&&n!==null&&Al(n,n.return),t.flags&32){var i=t.stateNode;try{iu(i,"")}catch(g){Bt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Hk(i,a),zx(l,o);var d=zx(l,a);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Yk(i,f):h==="dangerouslySetInnerHTML"?Gk(i,f):h==="children"?iu(i,f):Py(i,h,f,d)}switch(l){case"input":Lx(i,a);break;case"textarea":qk(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Dl(i,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?Dl(i,!!a.multiple,a.defaultValue,!0):Dl(i,!!a.multiple,a.multiple?[]:"",!1))}i[mu]=a}catch(g){Bt(t,t.return,g)}}break;case 6:if($r(e,t),ws(t),r&4){if(t.stateNode===null)throw Error(de(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Bt(t,t.return,g)}}break;case 3:if($r(e,t),ws(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(g){Bt(t,t.return,g)}break;case 4:$r(e,t),ws(t);break;case 13:$r(e,t),ws(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(cw=Kt())),r&4&&q0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(d=Dn)||h,$r(e,t),Dn=d):$r(e,t),ws(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Pe=t,h=t.child;h!==null;){for(f=Pe=h;Pe!==null;){switch(m=Pe,v=m.child,m.tag){case 0:case 11:case 14:case 15:Wd(4,m,m.return);break;case 1:Al(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){Bt(r,n,g)}}break;case 5:Al(m,m.return);break;case 22:if(m.memoizedState!==null){G0(f);continue}}v!==null?(v.return=m,Pe=v):G0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qk("display",o))}catch(g){Bt(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Bt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$r(e,t),ws(t),r&4&&q0(t);break;case 21:break;default:$r(e,t),ws(t)}}function ws(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jT(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(iu(i,""),r.flags&=-33);var a=H0(t);vv(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=H0(t);xv(t,l,o);break;default:throw Error(de(161))}}catch(c){Bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b6(t,e,n){Pe=t,_T(t)}function _T(t,e,n){for(var r=(t.mode&1)!==0;Pe!==null;){var i=Pe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xh;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Dn;l=Xh;var d=Dn;if(Xh=o,(Dn=c)&&!d)for(Pe=i;Pe!==null;)o=Pe,c=o.child,o.tag===22&&o.memoizedState!==null?Q0(i):c!==null?(c.return=o,Pe=c):Q0(i);for(;a!==null;)Pe=a,_T(a),a=a.sibling;Pe=i,Xh=l,Dn=d}K0(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Pe=a):K0(t)}}function K0(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||cp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&A0(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&cu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Dn||e.flags&512&&gv(e)}catch(m){Bt(e,e.return,m)}}if(e===t){Pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function G0(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Pe=n;break}Pe=e.return}}function Q0(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cp(4,e)}catch(c){Bt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Bt(e,i,c)}}var a=e.return;try{gv(e)}catch(c){Bt(e,a,c)}break;case 5:var o=e.return;try{gv(e)}catch(c){Bt(e,o,c)}}}catch(c){Bt(e,e.return,c)}if(e===t){Pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Pe=l;break}Pe=e.return}}var N6=Math.ceil,am=Mi.ReactCurrentDispatcher,ow=Mi.ReactCurrentOwner,Ir=Mi.ReactCurrentBatchConfig,ht=0,mn=null,Qt=null,Nn=0,dr=0,Il=Ba(0),on=0,wu=null,Mo=0,dp=0,lw=0,Hd=null,Jn=null,cw=0,jc=1/0,ci=null,om=!1,yv=null,ba=null,Zh=!1,ga=null,lm=0,qd=0,wv=null,Sf=-1,Cf=0;function Hn(){return ht&6?Kt():Sf!==-1?Sf:Sf=Kt()}function Na(t){return t.mode&1?ht&2&&Nn!==0?Nn&-Nn:a6.transition!==null?(Cf===0&&(Cf=lE()),Cf):(t=wt,t!==0||(t=window.event,t=t===void 0?16:pE(t.type)),t):1}function ns(t,e,n,r){if(50<qd)throw qd=0,wv=null,Error(de(185));Ju(t,n,r),(!(ht&2)||t!==mn)&&(t===mn&&(!(ht&2)&&(dp|=n),on===4&&ea(t,Nn)),ar(t,r),n===1&&ht===0&&!(e.mode&1)&&(jc=Kt()+500,ap&&Wa()))}function ar(t,e){var n=t.callbackNode;a3(t,e);var r=Hf(t,t===mn?Nn:0);if(r===0)n!==null&&s0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s0(n),e===1)t.tag===0?i6(Y0.bind(null,t)):DE(Y0.bind(null,t)),t6(function(){!(ht&6)&&Wa()}),n=null;else{switch(cE(r)){case 1:n=My;break;case 4:n=aE;break;case 16:n=Wf;break;case 536870912:n=oE;break;default:n=Wf}n=IT(n,ST.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ST(t,e){if(Sf=-1,Cf=0,ht&6)throw Error(de(327));var n=t.callbackNode;if($l()&&t.callbackNode!==n)return null;var r=Hf(t,t===mn?Nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cm(t,r);else{e=r;var i=ht;ht|=2;var a=kT();(mn!==t||Nn!==e)&&(ci=null,jc=Kt()+500,Co(t,e));do try{C6();break}catch(l){CT(t,l)}while(!0);Gy(),am.current=a,ht=i,Qt!==null?e=0:(mn=null,Nn=0,e=on)}if(e!==0){if(e===2&&(i=Kx(t),i!==0&&(r=i,e=jv(t,i))),e===1)throw n=wu,Co(t,0),ea(t,r),ar(t,Kt()),n;if(e===6)ea(t,r);else{if(i=t.current.alternate,!(r&30)&&!_6(i)&&(e=cm(t,r),e===2&&(a=Kx(t),a!==0&&(r=a,e=jv(t,a))),e===1))throw n=wu,Co(t,0),ea(t,r),ar(t,Kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(de(345));case 2:ro(t,Jn,ci);break;case 3:if(ea(t,r),(r&130023424)===r&&(e=cw+500-Kt(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tv(ro.bind(null,t,Jn,ci),e);break}ro(t,Jn,ci);break;case 4:if(ea(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ts(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N6(r/1960))-r,10<r){t.timeoutHandle=tv(ro.bind(null,t,Jn,ci),r);break}ro(t,Jn,ci);break;case 5:ro(t,Jn,ci);break;default:throw Error(de(329))}}}return ar(t,Kt()),t.callbackNode===n?ST.bind(null,t):null}function jv(t,e){var n=Hd;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=cm(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&bv(e)),t}function bv(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function _6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cs(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ea(t,e){for(e&=~lw,e&=~dp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ts(e),r=1<<n;t[n]=-1,e&=~r}}function Y0(t){if(ht&6)throw Error(de(327));$l();var e=Hf(t,0);if(!(e&1))return ar(t,Kt()),null;var n=cm(t,e);if(t.tag!==0&&n===2){var r=Kx(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=wu,Co(t,0),ea(t,e),ar(t,Kt()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,Jn,ci),ar(t,Kt()),null}function dw(t,e){var n=ht;ht|=1;try{return t(e)}finally{ht=n,ht===0&&(jc=Kt()+500,ap&&Wa())}}function Oo(t){ga!==null&&ga.tag===0&&!(ht&6)&&$l();var e=ht;ht|=1;var n=Ir.transition,r=wt;try{if(Ir.transition=null,wt=1,t)return t()}finally{wt=r,Ir.transition=n,ht=e,!(ht&6)&&Wa()}}function uw(){dr=Il.current,Dt(Il)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,e6(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(Hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yf();break;case 3:yc(),Dt(sr),Dt(Mn),ew();break;case 5:Jy(r);break;case 4:yc();break;case 13:Dt($t);break;case 19:Dt($t);break;case 10:Qy(r.type._context);break;case 22:case 23:uw()}n=n.return}if(mn=t,Qt=t=_a(t.current,null),Nn=dr=e,on=0,wu=null,lw=dp=Mo=0,Jn=Hd=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}mo=null}return t}function CT(t,e){do{var n=Qt;try{if(Gy(),bf.current=im,sm){for(var r=Ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sm=!1}if(Do=0,hn=tn=Ut=null,Bd=!1,xu=0,ow.current=null,n===null||n.return===null){on=1,wu=e,Qt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=Nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=L0(o);if(v!==null){v.flags&=-257,F0(v,o,l,a,e),v.mode&1&&O0(a,d,e),e=v,c=d;var _=e.updateQueue;if(_===null){var g=new Set;g.add(c),e.updateQueue=g}else _.add(c);break e}else{if(!(e&1)){O0(a,d,e),hw();break e}c=Error(de(426))}}else if(Mt&&l.mode&1){var C=L0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),F0(C,o,l,a,e),qy(wc(c,l));break e}}a=c=wc(c,l),on!==4&&(on=2),Hd===null?Hd=[a]:Hd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var j=cT(a,c,e);P0(a,j);break e;case 1:l=c;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ba===null||!ba.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var P=dT(a,l,e);P0(a,P);break e}}a=a.return}while(a!==null)}TT(n)}catch(D){e=D,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function kT(){var t=am.current;return am.current=im,t===null?im:t}function hw(){(on===0||on===3||on===2)&&(on=4),mn===null||!(Mo&268435455)&&!(dp&268435455)||ea(mn,Nn)}function cm(t,e){var n=ht;ht|=2;var r=kT();(mn!==t||Nn!==e)&&(ci=null,Co(t,e));do try{S6();break}catch(i){CT(t,i)}while(!0);if(Gy(),ht=n,am.current=r,Qt!==null)throw Error(de(261));return mn=null,Nn=0,on}function S6(){for(;Qt!==null;)ET(Qt)}function C6(){for(;Qt!==null&&!XF();)ET(Qt)}function ET(t){var e=AT(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?TT(t):Qt=e,ow.current=null}function TT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y6(n,e),n!==null){n.flags&=32767,Qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Qt=null;return}}else if(n=v6(n,e,dr),n!==null){Qt=n;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);on===0&&(on=5)}function ro(t,e,n){var r=wt,i=Ir.transition;try{Ir.transition=null,wt=1,k6(t,e,n,r)}finally{Ir.transition=i,wt=r}return null}function k6(t,e,n,r){do $l();while(ga!==null);if(ht&6)throw Error(de(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(o3(t,a),t===mn&&(Qt=mn=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,IT(Wf,function(){return $l(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ir.transition,Ir.transition=null;var o=wt;wt=1;var l=ht;ht|=4,ow.current=null,j6(t,n),NT(n,t),K3(Jx),qf=!!Zx,Jx=Zx=null,t.current=n,b6(n),ZF(),ht=l,wt=o,Ir.transition=a}else t.current=n;if(Zh&&(Zh=!1,ga=t,lm=i),a=t.pendingLanes,a===0&&(ba=null),t3(n.stateNode),ar(t,Kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(om)throw om=!1,t=yv,yv=null,t;return lm&1&&t.tag!==0&&$l(),a=t.pendingLanes,a&1?t===wv?qd++:(qd=0,wv=t):qd=0,Wa(),null}function $l(){if(ga!==null){var t=cE(lm),e=Ir.transition,n=wt;try{if(Ir.transition=null,wt=16>t?16:t,ga===null)var r=!1;else{if(t=ga,ga=null,lm=0,ht&6)throw Error(de(331));var i=ht;for(ht|=4,Pe=t.current;Pe!==null;){var a=Pe,o=a.child;if(Pe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Pe=d;Pe!==null;){var h=Pe;switch(h.tag){case 0:case 11:case 15:Wd(8,h,a)}var f=h.child;if(f!==null)f.return=h,Pe=f;else for(;Pe!==null;){h=Pe;var m=h.sibling,v=h.return;if(wT(h),h===d){Pe=null;break}if(m!==null){m.return=v,Pe=m;break}Pe=v}}}var _=a.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}Pe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Pe=o;else e:for(;Pe!==null;){if(a=Pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wd(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,Pe=j;break e}Pe=a.return}}var y=t.current;for(Pe=y;Pe!==null;){o=Pe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Pe=x;else e:for(o=y;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cp(9,l)}}catch(D){Bt(l,l.return,D)}if(l===o){Pe=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Pe=P;break e}Pe=l.return}}if(ht=i,Wa(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(tp,t)}catch{}r=!0}return r}finally{wt=n,Ir.transition=e}}return!1}function X0(t,e,n){e=wc(n,e),e=cT(t,e,1),t=ja(t,e,1),e=Hn(),t!==null&&(Ju(t,1,e),ar(t,e))}function Bt(t,e,n){if(t.tag===3)X0(t,t,n);else for(;e!==null;){if(e.tag===3){X0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ba===null||!ba.has(r))){t=wc(n,t),t=dT(e,t,1),e=ja(e,t,1),t=Hn(),e!==null&&(Ju(e,1,t),ar(e,t));break}}e=e.return}}function E6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(Nn&n)===n&&(on===4||on===3&&(Nn&130023424)===Nn&&500>Kt()-cw?Co(t,0):lw|=n),ar(t,e)}function PT(t,e){e===0&&(t.mode&1?(e=zh,zh<<=1,!(zh&130023424)&&(zh=4194304)):e=1);var n=Hn();t=_i(t,e),t!==null&&(Ju(t,e,n),ar(t,n))}function T6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PT(t,n)}function P6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(de(314))}r!==null&&r.delete(e),PT(t,n)}var AT;AT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,x6(t,e,n);er=!!(t.flags&131072)}else er=!1,Mt&&e.flags&1048576&&ME(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_f(t,e),t=e.pendingProps;var i=gc(e,Mn.current);Fl(e,n),i=nw(null,e,r,t,i,n);var a=rw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ir(r)?(a=!0,Xf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xy(e),i.updater=lp,e.stateNode=i,i._reactInternals=e,lv(e,r,t,n),e=uv(null,e,r,!0,a,n)):(e.tag=0,Mt&&a&&Wy(e),Vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_f(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=I6(r),t=Vr(r,t),i){case 0:e=dv(null,e,r,t,n);break e;case 1:e=V0(null,e,r,t,n);break e;case 11:e=$0(null,e,r,t,n);break e;case 14:e=U0(null,e,r,Vr(r.type,t),n);break e}throw Error(de(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),dv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),V0(t,e,r,i,n);case 3:e:{if(mT(e),t===null)throw Error(de(387));r=e.pendingProps,a=e.memoizedState,i=a.element,VE(t,e),nm(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=wc(Error(de(423)),e),e=z0(t,e,r,n,i);break e}else if(r!==i){i=wc(Error(de(424)),e),e=z0(t,e,r,n,i);break e}else for(pr=wa(e.stateNode.containerInfo.firstChild),gr=e,Mt=!0,Wr=null,n=$E(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xc(),r===i){e=Si(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return zE(e),t===null&&iv(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,ev(r,i)?o=null:a!==null&&ev(r,a)&&(e.flags|=32),fT(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&iv(e),null;case 13:return pT(t,e,n);case 4:return Zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vc(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),$0(t,e,r,i,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Tt(em,r._currentValue),r._currentValue=o,a!==null)if(cs(a.value,o)){if(a.children===i.children&&!sr.current){e=Si(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=wi(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),av(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(de(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),av(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fl(e,n),i=Mr(i),r=r(i),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,i=Vr(r,e.pendingProps),i=Vr(r.type,i),U0(t,e,r,i,n);case 15:return uT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vr(r,i),_f(t,e),e.tag=1,ir(r)?(t=!0,Xf(e)):t=!1,Fl(e,n),lT(e,r,i),lv(e,r,i,n),uv(null,e,r,!0,t,n);case 19:return gT(t,e,n);case 22:return hT(t,e,n)}throw Error(de(156,e.tag))};function IT(t,e){return iE(t,e)}function A6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,r){return new A6(t,e,n,r)}function fw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I6(t){if(typeof t=="function")return fw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iy)return 11;if(t===Ry)return 14}return 2}function _a(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kf(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")fw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bl:return ko(n.children,i,a,e);case Ay:o=8,i|=8;break;case Ix:return t=Ar(12,n,e,i|2),t.elementType=Ix,t.lanes=a,t;case Rx:return t=Ar(13,n,e,i),t.elementType=Rx,t.lanes=a,t;case Dx:return t=Ar(19,n,e,i),t.elementType=Dx,t.lanes=a,t;case zk:return up(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uk:o=10;break e;case Vk:o=9;break e;case Iy:o=11;break e;case Ry:o=14;break e;case Xi:o=16,r=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Ar(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ko(t,e,n,r){return t=Ar(7,t,r,e),t.lanes=n,t}function up(t,e,n,r){return t=Ar(22,t,r,e),t.elementType=zk,t.lanes=n,t.stateNode={isHidden:!1},t}function Wg(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function Hg(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function R6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sg(0),this.expirationTimes=Sg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mw(t,e,n,r,i,a,o,l,c){return t=new R6(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ar(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(a),t}function D6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RT(t){if(!t)return Pa;t=t._reactInternals;e:{if(Xo(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(ir(n))return RE(t,n,e)}return e}function DT(t,e,n,r,i,a,o,l,c){return t=mw(n,r,!0,t,i,a,o,l,c),t.context=RT(null),n=t.current,r=Hn(),i=Na(n),a=wi(r,i),a.callback=e??null,ja(n,a,i),t.current.lanes=i,Ju(t,i,r),ar(t,r),t}function hp(t,e,n,r){var i=e.current,a=Hn(),o=Na(i);return n=RT(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ja(i,e,o),t!==null&&(ns(t,i,o,a),jf(t,i,o)),o}function dm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pw(t,e){Z0(t,e),(t=t.alternate)&&Z0(t,e)}function M6(){return null}var MT=typeof reportError=="function"?reportError:function(t){console.error(t)};function gw(t){this._internalRoot=t}fp.prototype.render=gw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));hp(t,e,null,null)};fp.prototype.unmount=gw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){hp(null,t,null,null)}),e[Ni]=null}};function fp(t){this._internalRoot=t}fp.prototype.unstable_scheduleHydration=function(t){if(t){var e=hE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ji.length&&e!==0&&e<Ji[n].priority;n++);Ji.splice(n,0,t),n===0&&mE(t)}};function xw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J0(){}function O6(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=dm(o);a.call(d)}}var o=DT(e,r,t,0,null,!1,!1,"",J0);return t._reactRootContainer=o,t[Ni]=o.current,hu(t.nodeType===8?t.parentNode:t),Oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=dm(c);l.call(d)}}var c=mw(t,0,!1,null,null,!1,!1,"",J0);return t._reactRootContainer=c,t[Ni]=c.current,hu(t.nodeType===8?t.parentNode:t),Oo(function(){hp(e,c,n,r)}),c}function pp(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=dm(o);l.call(c)}}hp(e,o,t,i)}else o=O6(n,e,t,i,r);return dm(o)}dE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ad(e.pendingLanes);n!==0&&(Oy(e,n|1),ar(e,Kt()),!(ht&6)&&(jc=Kt()+500,Wa()))}break;case 13:Oo(function(){var r=_i(t,1);if(r!==null){var i=Hn();ns(r,t,1,i)}}),pw(t,1)}};Ly=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=Hn();ns(e,t,134217728,n)}pw(t,134217728)}};uE=function(t){if(t.tag===13){var e=Na(t),n=_i(t,e);if(n!==null){var r=Hn();ns(n,t,e,r)}pw(t,e)}};hE=function(){return wt};fE=function(t,e){var n=wt;try{return wt=t,e()}finally{wt=n}};Wx=function(t,e,n){switch(e){case"input":if(Lx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ip(r);if(!i)throw Error(de(90));Wk(r),Lx(r,i)}}}break;case"textarea":qk(t,n);break;case"select":e=n.value,e!=null&&Dl(t,!!n.multiple,e,!1)}};Jk=dw;eE=Oo;var L6={usingClientEntryPoint:!1,Events:[th,Cl,ip,Xk,Zk,dw]},bd={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F6={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rE(t),t===null?null:t.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||M6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{tp=Jh.inject(F6),Os=Jh}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L6;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xw(e))throw Error(de(200));return D6(t,e,null,n)};br.createRoot=function(t,e){if(!xw(t))throw Error(de(299));var n=!1,r="",i=MT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mw(t,1,!1,null,null,n,!1,r,i),t[Ni]=e.current,hu(t.nodeType===8?t.parentNode:t),new gw(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=rE(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return Oo(t)};br.hydrate=function(t,e,n){if(!mp(e))throw Error(de(200));return pp(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!xw(t))throw Error(de(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=MT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=DT(e,null,t,1,n??null,i,!1,a,o),t[Ni]=e.current,hu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fp(e)};br.render=function(t,e,n){if(!mp(e))throw Error(de(200));return pp(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!mp(t))throw Error(de(40));return t._reactRootContainer?(Oo(function(){pp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};br.unstable_batchedUpdates=dw;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mp(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return pp(t,e,n,!1,r)};br.version="18.3.1-next-f1338f8080-20240426";function OT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OT)}catch(t){console.error(t)}}OT(),Ok.exports=br;var Zo=Ok.exports;const $6=Nk(Zo);var LT,eN=Zo;LT=eN.createRoot,eN.hydrateRoot;function U6(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var FT={exports:{}},$T={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=p;function V6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z6=typeof Object.is=="function"?Object.is:V6,B6=bc.useState,W6=bc.useEffect,H6=bc.useLayoutEffect,q6=bc.useDebugValue;function K6(t,e){var n=e(),r=B6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return H6(function(){i.value=n,i.getSnapshot=e,qg(i)&&a({inst:i})},[t,n,e]),W6(function(){return qg(i)&&a({inst:i}),t(function(){qg(i)&&a({inst:i})})},[t]),q6(n),n}function qg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!z6(t,n)}catch{return!0}}function G6(t,e){return e()}var Q6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G6:K6;$T.useSyncExternalStore=bc.useSyncExternalStore!==void 0?bc.useSyncExternalStore:Q6;FT.exports=$T;var Y6=FT.exports;const X6=Dk.useInsertionEffect,Z6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J6=Z6?p.useLayoutEffect:p.useEffect,e5=X6||J6,UT=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return e5(()=>{e[0]=t}),e[1]},t5="popstate",vw="pushState",yw="replaceState",n5="hashchange",tN=[t5,vw,yw,n5],r5=t=>{for(const e of tN)addEventListener(e,t);return()=>{for(const e of tN)removeEventListener(e,t)}},VT=(t,e)=>Y6.useSyncExternalStore(r5,t,e),s5=()=>location.search,i5=({ssrSearch:t=""}={})=>VT(s5,()=>t),nN=()=>location.pathname,a5=({ssrPath:t}={})=>VT(nN,t?()=>t:nN),o5=(t,{replace:e=!1,state:n=null}={})=>history[e?yw:vw](n,"",t),l5=(t={})=>[a5(t),o5],rN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rN]>"u"){for(const t of[vw,yw]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,rN,{value:!0})}const c5=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",zT=(t="")=>t==="/"?"":t,d5=(t,e)=>t[0]==="~"?t.slice(1):zT(e)+t,u5=(t="",e)=>c5(sN(zT(t)),sN(e)),sN=t=>{try{return decodeURI(t)}catch{return t}},BT={hook:l5,searchHook:i5,parser:U6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},WT=p.createContext(BT),Uc=()=>p.useContext(WT),HT={},qT=p.createContext(HT),h5=()=>p.useContext(qT),gp=t=>{const[e,n]=t.hook(t);return[u5(t.base,e),UT((r,i)=>n(d5(r,t.base),i))]},Zt=()=>gp(Uc()),ww=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((f,m)=>[f,c[m]])):o.groups;let h={...c};return d&&Object.assign(h,d),h})(),...r?[l]:[]]:[!1,null]},Jo=t=>ww(Uc().parser,t,Zt()[0]),f5=({children:t,...e})=>{var h,f;const n=Uc(),r=e.hook?BT:n;let i=r;const[a,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let m in r){const v=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&v!==d[m]&&(l.current=d={...d}),d[m]=v,v!==r[m]&&(i=d)}return p.createElement(WT.Provider,{value:i,children:t})},iN=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,m5=t=>{let e=p.useRef(HT),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Ct=({path:t,nest:e,match:n,...r})=>{const i=Uc(),[a]=gp(i),[o,l,c]=n??ww(i.parser,t,a,e),d=m5({...h5(),...l});if(!o)return null;const h=c?p.createElement(f5,{base:c},iN(r,d)):iN(r,d);return p.createElement(qT.Provider,{value:d,children:h})},Ul=p.forwardRef((t,e)=>{const n=Uc(),[r,i]=gp(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:h,replace:f,state:m,...v}=t,_=UT(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(l==null||l(C),C.defaultPrevented||(C.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:_,href:g}):p.createElement("a",{...v,onClick:_,href:g,className:h!=null&&h.call?h(r===o):h,children:d,ref:e})}),KT=t=>Array.isArray(t)?t.flatMap(e=>KT(e&&e.type===p.Fragment?e.props.children:e)):[t],aN=({children:t,location:e})=>{const n=Uc(),[r]=gp(n);for(const i of KT(t)){let a=0;if(p.isValidElement(i)&&(a=ww(n.parser,i.props.path,e||r,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null};var Vc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lo=typeof window>"u"||"Deno"in globalThis;function kr(){}function p5(t,e){return typeof t=="function"?t(e):t}function Nv(t){return typeof t=="number"&&t>=0&&t!==1/0}function GT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vl(t,e){return typeof t=="function"?t(e):t}function Hr(t,e){return typeof t=="function"?t(e):t}function oN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==jw(o,e.options))return!1}else if(!ju(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function lN(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Fo(e.options.mutationKey)!==Fo(a))return!1}else if(!ju(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function jw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fo)(t)}function Fo(t){return JSON.stringify(t,(e,n)=>_v(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ju(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ju(t[n],e[n])):!1}function QT(t,e){if(t===e)return t;const n=cN(t)&&cN(e);if(n||_v(t)&&_v(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const h=n?d:a[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=QT(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function um(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function cN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _v(t){if(!dN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!dN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dN(t){return Object.prototype.toString.call(t)==="[object Object]"}function g5(t){return new Promise(e=>{setTimeout(e,t)})}function Sv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?QT(t,e):e}function x5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function v5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bw=Symbol();function YT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yo,aa,nc,A_,y5=(A_=class extends Vc{constructor(){super();Me(this,yo);Me(this,aa);Me(this,nc);Ee(this,nc,e=>{if(!Lo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,aa)||this.setEventListener(U(this,nc))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,aa))==null||e.call(this),Ee(this,aa,void 0))}setEventListener(e){var n;Ee(this,nc,e),(n=U(this,aa))==null||n.call(this),Ee(this,aa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,yo)!==e&&(Ee(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,yo)=="boolean"?U(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,aa=new WeakMap,nc=new WeakMap,A_),Nw=new y5,rc,oa,sc,I_,w5=(I_=class extends Vc{constructor(){super();Me(this,rc,!0);Me(this,oa);Me(this,sc);Ee(this,sc,e=>{if(!Lo&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,oa)||this.setEventListener(U(this,sc))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,oa))==null||e.call(this),Ee(this,oa,void 0))}setEventListener(e){var n;Ee(this,sc,e),(n=U(this,oa))==null||n.call(this),Ee(this,oa,e(this.setOnline.bind(this)))}setOnline(e){U(this,rc)!==e&&(Ee(this,rc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,rc)}},rc=new WeakMap,oa=new WeakMap,sc=new WeakMap,I_),hm=new w5;function Cv(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function j5(t){return Math.min(1e3*2**t,3e4)}function XT(t){return(t??"online")==="online"?hm.isOnline():!0}var ZT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kg(t){return t instanceof ZT}function JT(t){let e=!1,n=0,r=!1,i;const a=Cv(),o=g=>{var C;r||(m(new ZT(g)),(C=t.abort)==null||C.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Nw.isFocused()&&(t.networkMode==="always"||hm.isOnline())&&t.canRun(),h=()=>XT(t.networkMode)&&t.canRun(),f=g=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,g),i==null||i(),a.resolve(g))},m=g=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,g),i==null||i(),a.reject(g))},v=()=>new Promise(g=>{var C;i=j=>{(r||d())&&g(j)},(C=t.onPause)==null||C.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const C=n===0?t.initialPromise:void 0;try{g=C??t.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(f).catch(j=>{var O;if(r)return;const y=t.retry??(Lo?0:3),x=t.retryDelay??j5,P=typeof x=="function"?x(n,j):x,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,j);if(e||!D){m(j);return}n++,(O=t.onFail)==null||O.call(t,n,j),g5(P).then(()=>d()?void 0:v()).then(()=>{e?m(j):_()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?_():v().then(_),a)}}function b5(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var nn=b5(),wo,R_,eP=(R_=class{constructor(){Me(this,wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nv(this.gcTime)&&Ee(this,wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lo?1/0:5*60*1e3))}clearGcTimeout(){U(this,wo)&&(clearTimeout(U(this,wo)),Ee(this,wo,void 0))}},wo=new WeakMap,R_),ic,ac,Cr,Rn,Gu,jo,zr,oi,D_,N5=(D_=class extends eP{constructor(n){super();Me(this,zr);Me(this,ic);Me(this,ac);Me(this,Cr);Me(this,Rn);Me(this,Gu);Me(this,jo);Ee(this,jo,!1),Ee(this,Gu,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,Cr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,ic,_5(this.options)),this.state=n.state??U(this,ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Rn))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Gu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Cr).remove(this)}setData(n,r){const i=Sv(this.state.data,n,this.options);return Ze(this,zr,oi).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ze(this,zr,oi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=U(this,Rn))==null?void 0:i.promise;return(a=U(this,Rn))==null||a.cancel(n),r?r.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ic))}isActive(){return this.observers.some(n=>Hr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!GT(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Rn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Rn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Cr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Rn)&&(U(this,jo)?U(this,Rn).cancel({revert:!0}):U(this,Rn).cancelRetry()),this.scheduleGc()),U(this,Cr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,zr,oi).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Rn))return U(this,Rn).continueRetry(),U(this,Rn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ee(this,jo,!0),i.signal)})},o=()=>{const m=YT(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return a(v),Ee(this,jo,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ee(this,ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Ze(this,zr,oi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var v,_,g,C;Kg(m)&&m.silent||Ze(this,zr,oi).call(this,{type:"error",error:m}),Kg(m)||((_=(v=U(this,Cr).config).onError)==null||_.call(v,m,this),(C=(g=U(this,Cr).config).onSettled)==null||C.call(g,this.state.data,m,this)),this.scheduleGc()};return Ee(this,Rn,JT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var v,_,g,C;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(j){c(j);return}(_=(v=U(this,Cr).config).onSuccess)==null||_.call(v,m,this),(C=(g=U(this,Cr).config).onSettled)==null||C.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,v)=>{Ze(this,zr,oi).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{Ze(this,zr,oi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,zr,oi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,Rn).start()}},ic=new WeakMap,ac=new WeakMap,Cr=new WeakMap,Rn=new WeakMap,Gu=new WeakMap,jo=new WeakMap,zr=new WeakSet,oi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...tP(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=n.error;return Kg(a)&&a.revert&&U(this,ac)?{...U(this,ac),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),nn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,Cr).notify({query:this,type:"updated",action:n})})},D_);function tP(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ns,M_,S5=(M_=class extends Vc{constructor(e={}){super();Me(this,Ns);this.config=e,Ee(this,Ns,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??jw(i,n);let o=this.get(a);return o||(o=new N5({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,Ns).has(e.queryHash)||(U(this,Ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Ns).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Ns).get(e)}getAll(){return[...U(this,Ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oN(e,r)):n}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){nn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){nn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ns=new WeakMap,M_),_s,Fn,bo,Ss,Qi,O_,C5=(O_=class extends eP{constructor(e){super();Me(this,Ss);Me(this,_s);Me(this,Fn);Me(this,bo);this.mutationId=e.mutationId,Ee(this,Fn,e.mutationCache),Ee(this,_s,[]),this.state=e.state||nP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,_s).includes(e)||(U(this,_s).push(e),this.clearGcTimeout(),U(this,Fn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ee(this,_s,U(this,_s).filter(n=>n!==e)),this.scheduleGc(),U(this,Fn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,_s).length||(this.state.status==="pending"?this.scheduleGc():U(this,Fn).remove(this))}continue(){var e;return((e=U(this,bo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,d,h,f,m,v,_,g,C,j,y,x,P,D,O,E;Ee(this,bo,JT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(b,S)=>{Ze(this,Ss,Qi).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Ze(this,Ss,Qi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ss,Qi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Fn).canRun(this)}));const n=this.state.status==="pending",r=!U(this,bo).canStart();try{if(!n){Ze(this,Ss,Qi).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=U(this,Fn).config).onMutate)==null?void 0:a.call(i,e,this));const S=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));S!==this.state.context&&Ze(this,Ss,Qi).call(this,{type:"pending",context:S,variables:e,isPaused:r})}const b=await U(this,bo).start();return await((d=(c=U(this,Fn).config).onSuccess)==null?void 0:d.call(c,b,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,b,e,this.state.context)),await((v=(m=U(this,Fn).config).onSettled)==null?void 0:v.call(m,b,null,this.state.variables,this.state.context,this)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,b,null,e,this.state.context)),Ze(this,Ss,Qi).call(this,{type:"success",data:b}),b}catch(b){try{throw await((j=(C=U(this,Fn).config).onError)==null?void 0:j.call(C,b,e,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,b,e,this.state.context)),await((D=(P=U(this,Fn).config).onSettled)==null?void 0:D.call(P,void 0,b,this.state.variables,this.state.context,this)),await((E=(O=this.options).onSettled)==null?void 0:E.call(O,void 0,b,e,this.state.context)),b}finally{Ze(this,Ss,Qi).call(this,{type:"error",error:b})}}finally{U(this,Fn).runNext(this)}}},_s=new WeakMap,Fn=new WeakMap,bo=new WeakMap,Ss=new WeakSet,Qi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nn.batch(()=>{U(this,_s).forEach(r=>{r.onMutationUpdate(e)}),U(this,Fn).notify({mutation:this,type:"updated",action:e})})},O_);function nP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,Qu,L_,k5=(L_=class extends Vc{constructor(e={}){super();Me(this,cr);Me(this,Qu);this.config=e,Ee(this,cr,new Map),Ee(this,Qu,Date.now())}build(e,n,r){const i=new C5({mutationCache:this,mutationId:++Oh(this,Qu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=ef(e),r=U(this,cr).get(n)??[];r.push(e),U(this,cr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=ef(e);if(U(this,cr).has(n)){const i=(r=U(this,cr).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?U(this,cr).delete(n):U(this,cr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,cr).get(ef(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,cr).get(ef(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){nn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,cr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lN(n,r))}findAll(e={}){return this.getAll().filter(n=>lN(e,n))}notify(e){nn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return nn.batch(()=>Promise.all(e.map(n=>n.continue().catch(kr))))}},cr=new WeakMap,Qu=new WeakMap,L_);function ef(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function uN(t){return{onFetch:(e,n)=>{var h,f,m,v,_;const r=e.options,i=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const C=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},j=YT(e.options,e.fetchOptions),y=async(x,P,D)=>{if(g)return Promise.reject();if(P==null&&x.pages.length)return Promise.resolve(x);const O={queryKey:e.queryKey,pageParam:P,direction:D?"backward":"forward",meta:e.options.meta};C(O);const E=await j(O),{maxPages:b}=e.options,S=D?v5:x5;return{pages:S(x.pages,E,b),pageParams:S(x.pageParams,P,b)}};if(i&&a.length){const x=i==="backward",P=x?E5:hN,D={pages:a,pageParams:o},O=P(r,D);l=await y(D,O,x)}else{const x=t??a.length;do{const P=c===0?o[0]??r.initialPageParam:hN(r,l);if(c>0&&P==null)break;l=await y(l,P),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var g,C;return(C=(g=e.options).persister)==null?void 0:C.call(g,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function hN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function E5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var zt,la,ca,oc,lc,da,cc,dc,F_,T5=(F_=class{constructor(t={}){Me(this,zt);Me(this,la);Me(this,ca);Me(this,oc);Me(this,lc);Me(this,da);Me(this,cc);Me(this,dc);Ee(this,zt,t.queryCache||new S5),Ee(this,la,t.mutationCache||new k5),Ee(this,ca,t.defaultOptions||{}),Ee(this,oc,new Map),Ee(this,lc,new Map),Ee(this,da,0)}mount(){Oh(this,da)._++,U(this,da)===1&&(Ee(this,cc,Nw.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,zt).onFocus())})),Ee(this,dc,hm.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,zt).onOnline())})))}unmount(){var t,e;Oh(this,da)._--,U(this,da)===0&&((t=U(this,cc))==null||t.call(this),Ee(this,cc,void 0),(e=U(this,dc))==null||e.call(this),Ee(this,dc,void 0))}isFetching(t){return U(this,zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,la).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,zt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,zt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Vl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,zt).get(r.queryHash),a=i==null?void 0:i.state.data,o=p5(e,a);if(o!==void 0)return U(this,zt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return nn.batch(()=>U(this,zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,zt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,zt);nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,zt),r={type:"active",...t};return nn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=nn.batch(()=>U(this,zt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(kr).catch(kr)}invalidateQueries(t={},e={}){return nn.batch(()=>{if(U(this,zt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=nn.batch(()=>U(this,zt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(kr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,zt).build(this,e);return n.isStaleByTime(Vl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kr).catch(kr)}fetchInfiniteQuery(t){return t.behavior=uN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kr).catch(kr)}ensureInfiniteQueryData(t){return t.behavior=uN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hm.isOnline()?U(this,la).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,zt)}getMutationCache(){return U(this,la)}getDefaultOptions(){return U(this,ca)}setDefaultOptions(t){Ee(this,ca,t)}setQueryDefaults(t,e){U(this,oc).set(Fo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,oc).values()];let n={};return e.forEach(r=>{ju(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,lc).set(Fo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,lc).values()];let n={};return e.forEach(r=>{ju(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ca).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===bw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ca).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,zt).clear(),U(this,la).clear()}},zt=new WeakMap,la=new WeakMap,ca=new WeakMap,oc=new WeakMap,lc=new WeakMap,da=new WeakMap,cc=new WeakMap,dc=new WeakMap,F_),Xn,it,Yu,$n,No,uc,ua,Cs,Xu,hc,fc,_o,So,ha,mc,xt,Rd,kv,Ev,Tv,Pv,Av,Iv,Rv,rP,$_,P5=($_=class extends Vc{constructor(e,n){super();Me(this,xt);Me(this,Xn);Me(this,it);Me(this,Yu);Me(this,$n);Me(this,No);Me(this,uc);Me(this,ua);Me(this,Cs);Me(this,Xu);Me(this,hc);Me(this,fc);Me(this,_o);Me(this,So);Me(this,ha);Me(this,mc,new Set);this.options=n,Ee(this,Xn,e),Ee(this,Cs,null),Ee(this,ua,Cv()),this.options.experimental_prefetchInRender||U(this,ua).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,it).addObserver(this),fN(U(this,it),this.options)?Ze(this,xt,Rd).call(this):this.updateResult(),Ze(this,xt,Pv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dv(U(this,it),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dv(U(this,it),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,xt,Av).call(this),Ze(this,xt,Iv).call(this),U(this,it).removeObserver(this)}setOptions(e,n){const r=this.options,i=U(this,it);if(this.options=U(this,Xn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hr(this.options.enabled,U(this,it))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,xt,Rv).call(this),U(this,it).setOptions(this.options),r._defaulted&&!um(this.options,r)&&U(this,Xn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,it),observer:this});const a=this.hasListeners();a&&mN(U(this,it),i,this.options,r)&&Ze(this,xt,Rd).call(this),this.updateResult(n),a&&(U(this,it)!==i||Hr(this.options.enabled,U(this,it))!==Hr(r.enabled,U(this,it))||Vl(this.options.staleTime,U(this,it))!==Vl(r.staleTime,U(this,it)))&&Ze(this,xt,kv).call(this);const o=Ze(this,xt,Ev).call(this);a&&(U(this,it)!==i||Hr(this.options.enabled,U(this,it))!==Hr(r.enabled,U(this,it))||o!==U(this,ha))&&Ze(this,xt,Tv).call(this,o)}getOptimisticResult(e){const n=U(this,Xn).getQueryCache().build(U(this,Xn),e),r=this.createResult(n,e);return I5(this,r)&&(Ee(this,$n,r),Ee(this,uc,this.options),Ee(this,No,U(this,it).state)),r}getCurrentResult(){return U(this,$n)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){U(this,mc).add(e)}getCurrentQuery(){return U(this,it)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,Xn).defaultQueryOptions(e),r=U(this,Xn).getQueryCache().build(U(this,Xn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ze(this,xt,Rd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,$n)))}createResult(e,n){var b;const r=U(this,it),i=this.options,a=U(this,$n),o=U(this,No),l=U(this,uc),d=e!==r?e.state:U(this,Yu),{state:h}=e;let f={...h},m=!1,v;if(n._optimisticResults){const S=this.hasListeners(),R=!S&&fN(e,n),N=S&&mN(e,r,n,i);(R||N)&&(f={...f,...tP(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:_,errorUpdatedAt:g,status:C}=f;if(n.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&n.select===U(this,Xu))v=U(this,hc);else try{Ee(this,Xu,n.select),v=n.select(f.data),v=Sv(a==null?void 0:a.data,v,n),Ee(this,hc,v),Ee(this,Cs,null)}catch(S){Ee(this,Cs,S)}else v=f.data;if(n.placeholderData!==void 0&&v===void 0&&C==="pending"){let S;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))S=a.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((b=U(this,fc))==null?void 0:b.state.data,U(this,fc)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),Ee(this,Cs,null)}catch(R){Ee(this,Cs,R)}S!==void 0&&(C="success",v=Sv(a==null?void 0:a.data,S,n),m=!0)}U(this,Cs)&&(_=U(this,Cs),v=U(this,hc),g=Date.now(),C="error");const j=f.fetchStatus==="fetching",y=C==="pending",x=C==="error",P=y&&j,D=v!==void 0,E={status:C,fetchStatus:f.fetchStatus,isPending:y,isSuccess:C==="success",isError:x,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:f.dataUpdatedAt,error:_,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:x&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:x&&D,isStale:_w(e,n),refetch:this.refetch,promise:U(this,ua)};if(this.options.experimental_prefetchInRender){const S=T=>{E.status==="error"?T.reject(E.error):E.data!==void 0&&T.resolve(E.data)},R=()=>{const T=Ee(this,ua,E.promise=Cv());S(T)},N=U(this,ua);switch(N.status){case"pending":e.queryHash===r.queryHash&&S(N);break;case"fulfilled":(E.status==="error"||E.data!==N.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==N.reason)&&R();break}}return E}updateResult(e){const n=U(this,$n),r=this.createResult(U(this,it),this.options);if(Ee(this,No,U(this,it).state),Ee(this,uc,this.options),U(this,No).data!==void 0&&Ee(this,fc,U(this,it)),um(r,n))return;Ee(this,$n,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,mc).size)return!0;const c=new Set(l??U(this,mc));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,$n)).some(d=>{const h=d;return U(this,$n)[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Ze(this,xt,rP).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,xt,Pv).call(this)}},Xn=new WeakMap,it=new WeakMap,Yu=new WeakMap,$n=new WeakMap,No=new WeakMap,uc=new WeakMap,ua=new WeakMap,Cs=new WeakMap,Xu=new WeakMap,hc=new WeakMap,fc=new WeakMap,_o=new WeakMap,So=new WeakMap,ha=new WeakMap,mc=new WeakMap,xt=new WeakSet,Rd=function(e){Ze(this,xt,Rv).call(this);let n=U(this,it).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(kr)),n},kv=function(){Ze(this,xt,Av).call(this);const e=Vl(this.options.staleTime,U(this,it));if(Lo||U(this,$n).isStale||!Nv(e))return;const r=GT(U(this,$n).dataUpdatedAt,e)+1;Ee(this,_o,setTimeout(()=>{U(this,$n).isStale||this.updateResult()},r))},Ev=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,it)):this.options.refetchInterval)??!1},Tv=function(e){Ze(this,xt,Iv).call(this),Ee(this,ha,e),!(Lo||Hr(this.options.enabled,U(this,it))===!1||!Nv(U(this,ha))||U(this,ha)===0)&&Ee(this,So,setInterval(()=>{(this.options.refetchIntervalInBackground||Nw.isFocused())&&Ze(this,xt,Rd).call(this)},U(this,ha)))},Pv=function(){Ze(this,xt,kv).call(this),Ze(this,xt,Tv).call(this,Ze(this,xt,Ev).call(this))},Av=function(){U(this,_o)&&(clearTimeout(U(this,_o)),Ee(this,_o,void 0))},Iv=function(){U(this,So)&&(clearInterval(U(this,So)),Ee(this,So,void 0))},Rv=function(){const e=U(this,Xn).getQueryCache().build(U(this,Xn),this.options);if(e===U(this,it))return;const n=U(this,it);Ee(this,it,e),Ee(this,Yu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},rP=function(e){nn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,$n))}),U(this,Xn).getQueryCache().notify({query:U(this,it),type:"observerResultsUpdated"})})},$_);function A5(t,e){return Hr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fN(t,e){return A5(t,e)||t.state.data!==void 0&&Dv(t,e,e.refetchOnMount)}function Dv(t,e,n){if(Hr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&_w(t,e)}return!1}function mN(t,e,n,r){return(t!==e||Hr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&_w(t,n)}function _w(t,e){return Hr(e.enabled,t)!==!1&&t.isStaleByTime(Vl(e.staleTime,t))}function I5(t,e){return!um(t.getCurrentResult(),e)}var fa,ma,Zn,hi,ji,Ef,Mv,U_,R5=(U_=class extends Vc{constructor(n,r){super();Me(this,ji);Me(this,fa);Me(this,ma);Me(this,Zn);Me(this,hi);Ee(this,fa,n),this.setOptions(r),this.bindMethods(),Ze(this,ji,Ef).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=U(this,fa).defaultMutationOptions(n),um(this.options,r)||U(this,fa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Zn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Fo(r.mutationKey)!==Fo(this.options.mutationKey)?this.reset():((i=U(this,Zn))==null?void 0:i.state.status)==="pending"&&U(this,Zn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,Zn))==null||n.removeObserver(this)}onMutationUpdate(n){Ze(this,ji,Ef).call(this),Ze(this,ji,Mv).call(this,n)}getCurrentResult(){return U(this,ma)}reset(){var n;(n=U(this,Zn))==null||n.removeObserver(this),Ee(this,Zn,void 0),Ze(this,ji,Ef).call(this),Ze(this,ji,Mv).call(this)}mutate(n,r){var i;return Ee(this,hi,r),(i=U(this,Zn))==null||i.removeObserver(this),Ee(this,Zn,U(this,fa).getMutationCache().build(U(this,fa),this.options)),U(this,Zn).addObserver(this),U(this,Zn).execute(n)}},fa=new WeakMap,ma=new WeakMap,Zn=new WeakMap,hi=new WeakMap,ji=new WeakSet,Ef=function(){var r;const n=((r=U(this,Zn))==null?void 0:r.state)??nP();Ee(this,ma,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Mv=function(n){nn.batch(()=>{var r,i,a,o,l,c,d,h;if(U(this,hi)&&this.hasListeners()){const f=U(this,ma).variables,m=U(this,ma).context;(n==null?void 0:n.type)==="success"?((i=(r=U(this,hi)).onSuccess)==null||i.call(r,n.data,f,m),(o=(a=U(this,hi)).onSettled)==null||o.call(a,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=U(this,hi)).onError)==null||c.call(l,n.error,f,m),(h=(d=U(this,hi)).onSettled)==null||h.call(d,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(U(this,ma))})})},U_),sP=p.createContext(void 0),iP=t=>{const e=p.useContext(sP);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},D5=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(sP.Provider,{value:t,children:e})),aP=p.createContext(!1),M5=()=>p.useContext(aP);aP.Provider;function O5(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var L5=p.createContext(O5()),F5=()=>p.useContext(L5);function oP(t,e){return typeof t=="function"?t(...e):!!t}function Ov(){}var $5=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},U5=t=>{p.useEffect(()=>{t.clearReset()},[t])},V5=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&oP(n,[t.error,r]),z5=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},B5=(t,e)=>t.isLoading&&t.isFetching&&!e,W5=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,pN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function H5(t,e,n){var h,f,m,v,_;const r=iP(),i=M5(),a=F5(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",z5(o),$5(o,a),U5(a);const l=!r.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(r,o)),d=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(g=>{const C=i?Ov:c.subscribe(nn.batchCalls(g));return c.updateResult(),C},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),W5(o,d))throw pN(o,c,a);if(V5({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,d),o.experimental_prefetchInRender&&!Lo&&B5(d,i)){const g=l?pN(o,c,a):(_=r.getQueryCache().get(o.queryHash))==null?void 0:_.promise;g==null||g.catch(Ov).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function et(t,e){return H5(t,P5)}function Ot(t,e){const n=iP(),[r]=p.useState(()=>new R5(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const i=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(nn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,l)=>{r.mutate(o,l).catch(Ov)},[r]);if(i.error&&oP(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function lP(t){if(!t.ok){const e=await t.text()||t.statusText;console.error(`API Error: ${t.status} - ${t.statusText}`,{url:t.url,status:t.status,statusText:t.statusText,text:e});let n;try{n=JSON.parse(e)}catch(r){console.log("JSON parsing failed:",r,"Original text:",e)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw t.status===400?new Error("Please check your information and try again."):t.status===401?new Error("Invalid email or password."):t.status===403?new Error("Access denied. Please contact support."):t.status===404?new Error("Service not available. Please try again later."):t.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function gt(t,e,n){const r=e,i=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),o=localStorage.getItem("user");e.includes("/api/admin/users")&&(console.log("[apiRequest] Calling /api/admin/users:"),console.log("  - adminAccessToken:",i?"present":"missing"),console.log("  - accessToken:",a?"present":"missing"),console.log("  - user:",o?"present":"missing"));const l=n?{"Content-Type":"application/json"}:{};i&&(l["x-admin-token"]=i),a&&(l["x-access-token"]=a),o&&(l["x-user-data"]=btoa(unescape(encodeURIComponent(o)))),e.includes("/api/admin/users")&&console.log("  - Headers:",Object.keys(l));const c=await fetch(r,{method:t,headers:l,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(d=>{throw console.error("Fetch error for:",r,d),d});return await lP(c),c}const q5=({on401:t})=>async({queryKey:e})=>{const[n,...r]=e,i=new URLSearchParams;if(r.length>0)if(n==="/api/admin/shows"&&r.length>=2){const[f,m,v,_]=r;f&&i.set("page",String(f)),m&&i.set("limit",String(m)),v&&i.set("title",String(v)),_&&i.set("type",String(_))}else if(n==="/api/admin/users"&&r.length>=2){const[f,m,v]=r;f&&i.set("page",String(f)),m&&i.set("limit",String(m)),v&&i.set("title",String(v))}else r[0]&&typeof r[0]=="string"&&i.set("userId",r[0]);const a=`${n}${i.toString()?"?"+i.toString():""}`,o=localStorage.getItem("adminAccessToken"),l=localStorage.getItem("accessToken"),c=localStorage.getItem("user");n==="/api/admin/users"&&(console.log("[QueryClient] Fetching /api/admin/users:"),console.log("  - adminAccessToken:",o?"present":"missing"),console.log("  - accessToken:",l?"present":"missing"),console.log("  - user:",c?"present":"missing"));const d={"Content-Type":"application/json"};o&&(d["x-admin-token"]=o),l&&(d["x-access-token"]=l),c&&(d["x-user-data"]=btoa(unescape(encodeURIComponent(c)))),n==="/api/admin/users"&&console.log("  - Headers:",Object.keys(d));const h=await fetch(a,{credentials:"include",headers:d});return t==="returnNull"&&h.status===401?null:(await lP(h),await h.json())},yt=new T5({defaultOptions:{queries:{queryFn:q5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),K5=1,G5=1e6;let Gg=0;function Q5(){return Gg=(Gg+1)%Number.MAX_SAFE_INTEGER,Gg.toString()}const Qg=new Map,gN=t=>{if(Qg.has(t))return;const e=setTimeout(()=>{Qg.delete(t),Kd({type:"REMOVE_TOAST",toastId:t})},G5);Qg.set(t,e)},Y5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,K5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gN(n):t.toasts.forEach(r=>{gN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Tf=[];let Pf={toasts:[]};function Kd(t){Pf=Y5(Pf,t),Tf.forEach(e=>{e(Pf)})}function X5({...t}){const e=Q5(),n=i=>Kd({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Kd({type:"DISMISS_TOAST",toastId:e});return Kd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function En(){const[t,e]=p.useState(Pf);return p.useEffect(()=>(Tf.push(e),()=>{const n=Tf.indexOf(e);n>-1&&Tf.splice(n,1)}),[t]),{...t,toast:X5,dismiss:n=>Kd({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function xN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xp(...t){return e=>{let n=!1;const r=t.map(i=>{const a=xN(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():xN(t[i],null)}}}}function st(...t){return p.useCallback(xp(...t),t)}function Z5(t,e){const n=p.createContext(e),r=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function lr(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const d=f=>{var j;const{scope:m,children:v,..._}=f,g=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,C=p.useMemo(()=>_,Object.values(_));return s.jsx(g.Provider,{value:C,children:v})};d.displayName=a+"Provider";function h(f,m){var g;const v=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,_=p.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,h]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,J5(i,...e)]}function J5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Aa(t){const e=e$(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(t$);if(c){const d=c.props.children,h=l.map(f=>f===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var cP=Aa("Slot");function e$(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=r$(i),l=n$(a,i.props);return i.type!==p.Fragment&&(l.ref=r?xp(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dP=Symbol("radix.slottable");function uP(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=dP,e}function t$(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dP}function n$(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function r$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vp(t){const e=t+"CollectionProvider",[n,r]=lr(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:C,children:j}=g,y=qe.useRef(null),x=qe.useRef(new Map).current;return s.jsx(i,{scope:C,itemMap:x,collectionRef:y,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=Aa(l),d=qe.forwardRef((g,C)=>{const{scope:j,children:y}=g,x=a(l,j),P=st(C,x.collectionRef);return s.jsx(c,{ref:P,children:y})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Aa(h),v=qe.forwardRef((g,C)=>{const{scope:j,children:y,...x}=g,P=qe.useRef(null),D=st(C,P),O=a(h,j);return qe.useEffect(()=>(O.itemMap.set(P,{ref:P,...x}),()=>void O.itemMap.delete(P))),s.jsx(m,{[f]:"",ref:D,children:y})});v.displayName=h;function _(g){const C=a(t+"CollectionConsumer",g);return qe.useCallback(()=>{const y=C.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(C.itemMap.values()).sort((O,E)=>x.indexOf(O.ref.current)-x.indexOf(E.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},_,r]}var s$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Re=s$.reduce((t,e)=>{const n=Aa(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Sw(t,e){t&&Zo.flushSync(()=>t.dispatchEvent(e))}function kn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function i$(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var a$="DismissableLayer",Lv="dismissableLayer.update",o$="dismissableLayer.pointerDownOutside",l$="dismissableLayer.focusOutside",vN,hP=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),el=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(hP),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),_=st(e,E=>f(E)),g=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(C),y=h?g.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,P=y>=j,D=d$(E=>{const b=E.target,S=[...d.branches].some(R=>R.contains(b));!P||S||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),O=u$(E=>{const b=E.target;[...d.branches].some(R=>R.contains(b))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return i$(E=>{y===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(vN=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),yN(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=vN)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),yN())},[h,d]),p.useEffect(()=>{const E=()=>v({});return document.addEventListener(Lv,E),()=>document.removeEventListener(Lv,E)},[]),s.jsx(Re.div,{...c,ref:_,style:{pointerEvents:x?P?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,D.onPointerDownCapture)})});el.displayName=a$;var c$="DismissableLayerBranch",fP=p.forwardRef((t,e)=>{const n=p.useContext(hP),r=p.useRef(null),i=st(e,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Re.div,{...t,ref:i})});fP.displayName=c$;function d$(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){mP(o$,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function u$(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!r.current&&mP(l$,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yN(){const t=new CustomEvent(Lv);document.dispatchEvent(t)}function mP(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Sw(i,a):i.dispatchEvent(a)}var h$=el,f$=fP,cn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},m$="Portal",zc=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=p.useState(!1);cn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?$6.createPortal(s.jsx(Re.div,{...r,ref:e}),o):null});zc.displayName=m$;function p$(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var _r=t=>{const{present:e,children:n}=t,r=g$(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=st(r.ref,x$(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};_r.displayName="Presence";function g$(t){const[e,n]=p.useState(),r=p.useRef({}),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=p$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=tf(r.current);a.current=l==="mounted"?d:"none"},[l]),cn(()=>{const d=r.current,h=i.current;if(h!==t){const m=a.current,v=tf(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),cn(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const g=tf(r.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},m=v=>{v.target===e&&(a.current=tf(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function tf(t){return(t==null?void 0:t.animationName)||"none"}function x$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ci({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=v$({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:r,l=kn(n),c=p.useCallback(d=>{if(a){const f=typeof d=="function"?d(t):d;f!==t&&l(f)}else i(d)},[a,t,i,l]);return[o,c]}function v$({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),a=kn(e);return p.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var y$="VisuallyHidden",rh=p.forwardRef((t,e)=>s.jsx(Re.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));rh.displayName=y$;var w$=rh,Cw="ToastProvider",[kw,j$,b$]=vp("Toast"),[pP,Nee]=lr("Toast",[b$]),[N$,yp]=pP(Cw),gP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cw}\`. Expected non-empty \`string\`.`),s.jsx(kw.Provider,{scope:e,children:s.jsx(N$,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(v=>v+1),[]),onToastRemove:p.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};gP.displayName=Cw;var xP="ToastViewport",_$=["F8"],Fv="toast.viewportPause",$v="toast.viewportResume",vP=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=_$,label:i="Notifications ({hotkey})",...a}=t,o=yp(xP,n),l=j$(n),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=st(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;p.useEffect(()=>{const C=j=>{var x;r.length!==0&&r.every(P=>j[P]||j.code===P)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),p.useEffect(()=>{const C=c.current,j=f.current;if(_&&C&&j){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Fv);j.dispatchEvent(O),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent($v);j.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!C.contains(O.relatedTarget)&&x()},D=()=>{C.contains(document.activeElement)||x()};return C.addEventListener("focusin",y),C.addEventListener("focusout",P),C.addEventListener("pointermove",y),C.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{C.removeEventListener("focusin",y),C.removeEventListener("focusout",P),C.removeEventListener("pointermove",y),C.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[_,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:C})=>{const y=l().map(x=>{const P=x.ref.current,D=[P,...L$(P)];return C==="forwards"?D:D.reverse()});return(C==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const C=f.current;if(C){const j=y=>{var D,O,E;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const b=document.activeElement,S=y.shiftKey;if(y.target===C&&S){(D=d.current)==null||D.focus();return}const T=g({tabbingDirection:S?"backwards":"forwards"}),A=T.findIndex(L=>L===b);Yg(T.slice(A+1))?y.preventDefault():S?(O=d.current)==null||O.focus():(E=h.current)==null||E.focus()}};return C.addEventListener("keydown",j),()=>C.removeEventListener("keydown",j)}},[l,g]),s.jsxs(f$,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&s.jsx(Uv,{ref:d,onFocusFromOutsideViewport:()=>{const C=g({tabbingDirection:"forwards"});Yg(C)}}),s.jsx(kw.Slot,{scope:n,children:s.jsx(Re.ol,{tabIndex:-1,...a,ref:m})}),_&&s.jsx(Uv,{ref:h,onFocusFromOutsideViewport:()=>{const C=g({tabbingDirection:"backwards"});Yg(C)}})]})});vP.displayName=xP;var yP="ToastFocusProxy",Uv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=yp(yP,n);return s.jsx(rh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});Uv.displayName=yP;var wp="Toast",S$="toast.swipeStart",C$="toast.swipeMove",k$="toast.swipeCancel",E$="toast.swipeEnd",wP=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=Ci({prop:r,defaultProp:i,onChange:a});return s.jsx(_r,{present:n||l,children:s.jsx(A$,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:kn(t.onPause),onResume:kn(t.onResume),onSwipeStart:pe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});wP.displayName=wp;var[T$,P$]=pP(wp,{onClose(){}}),A$=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:v,..._}=t,g=yp(wp,n),[C,j]=p.useState(null),y=st(e,L=>j(L)),x=p.useRef(null),P=p.useRef(null),D=i||g.duration,O=p.useRef(0),E=p.useRef(D),b=p.useRef(0),{onToastAdd:S,onToastRemove:R}=g,N=kn(()=>{var q;(C==null?void 0:C.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),T=p.useCallback(L=>{!L||L===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(N,L))},[N]);p.useEffect(()=>{const L=g.viewport;if(L){const q=()=>{T(E.current),d==null||d()},V=()=>{const z=new Date().getTime()-O.current;E.current=E.current-z,window.clearTimeout(b.current),c==null||c()};return L.addEventListener(Fv,V),L.addEventListener($v,q),()=>{L.removeEventListener(Fv,V),L.removeEventListener($v,q)}}},[g.viewport,D,c,d,T]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&T(D)},[a,D,g.isClosePausedRef,T]),p.useEffect(()=>(S(),()=>R()),[S,R]);const A=p.useMemo(()=>C?kP(C):null,[C]);return g.viewport?s.jsxs(s.Fragment,{children:[A&&s.jsx(I$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),s.jsx(T$,{scope:n,onClose:N,children:Zo.createPortal(s.jsx(kw.ItemSlot,{scope:n,children:s.jsx(h$,{asChild:!0,onEscapeKeyDown:pe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:pe(t.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:pe(t.onPointerMove,L=>{if(!x.current)return;const q=L.clientX-x.current.x,V=L.clientY-x.current.y,z=!!P.current,F=["left","right"].includes(g.swipeDirection),H=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=F?H(0,q):0,J=F?0:H(0,V),W=L.pointerType==="touch"?10:2,ge={x:X,y:J},fe={originalEvent:L,delta:ge};z?(P.current=ge,nf(C$,f,fe,{discrete:!1})):wN(ge,g.swipeDirection,W)?(P.current=ge,nf(S$,h,fe,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(q)>W||Math.abs(V)>W)&&(x.current=null)}),onPointerUp:pe(t.onPointerUp,L=>{const q=P.current,V=L.target;if(V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),P.current=null,x.current=null,q){const z=L.currentTarget,F={originalEvent:L,delta:q};wN(q,g.swipeDirection,g.swipeThreshold)?nf(E$,v,F,{discrete:!0}):nf(k$,m,F,{discrete:!0}),z.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),I$=t=>{const{__scopeToast:e,children:n,...r}=t,i=yp(wp,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return M$(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(zc,{asChild:!0,children:s.jsx(rh,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},R$="ToastTitle",jP=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Re.div,{...r,ref:e})});jP.displayName=R$;var D$="ToastDescription",bP=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Re.div,{...r,ref:e})});bP.displayName=D$;var NP="ToastAction",_P=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(CP,{altText:n,asChild:!0,children:s.jsx(Ew,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NP}\`. Expected non-empty \`string\`.`),null)});_P.displayName=NP;var SP="ToastClose",Ew=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=P$(SP,n);return s.jsx(CP,{asChild:!0,children:s.jsx(Re.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});Ew.displayName=SP;var CP=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function kP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),O$(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kP(r))}}),e}function nf(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Sw(i,a):i.dispatchEvent(a)}var wN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function M$(t=()=>{}){const e=kn(t);cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function O$(t){return t.nodeType===t.ELEMENT_NODE}function L$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var F$=gP,EP=vP,TP=wP,PP=jP,AP=bP,IP=_P,RP=Ew;function DP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MP(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DP(t))&&(r&&(r+=" "),r+=e);return r}const jN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,bN=MP,sh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return bN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],f=a==null?void 0:a[d];if(h===null)return null;const m=jN(h)||jN(f);return i[d][m]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...v}=h;return Object.entries(v).every(_=>{let[g,C]=_;return Array.isArray(C)?C.includes({...a,...l}[g]):{...a,...l}[g]===C})?[...d,f,m]:d},[]);return bN(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OP=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...U$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:OP("lucide",i),...l},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=p.forwardRef(({className:r,...i},a)=>p.createElement(V$,{ref:a,iconNode:e,className:OP(`lucide-${$$(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=Se("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=Se("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Se("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Se("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Se("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Se("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Se("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Se("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Se("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Se("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Se("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Se("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Se("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Se("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Se("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Se("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Se("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Se("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Se("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Se("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dw="-",u9=t=>{const e=f9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Dw);return l[0]===""&&l.length!==1&&l.shift(),WP(l,e)||h9(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},WP=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?WP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Dw);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},EN=/^\[(.+)\]$/,h9=t=>{if(EN.test(t)){const e=EN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},f9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return p9(Object.entries(t.classGroups),n).forEach(([a,o])=>{Hv(o,r,a,e)}),r},Hv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:TN(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(m9(i)){Hv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{Hv(o,TN(e,a),n,r)})})},TN=(t,e)=>{let n=t;return e.split(Dw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},m9=t=>t.isThemeGetter,p9=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,g9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},HP="!",x9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,h=0,f;for(let C=0;C<l.length;C++){let j=l[C];if(d===0){if(j===i&&(r||l.slice(C,C+a)===e)){c.push(l.slice(h,C)),h=C+a;continue}if(j==="/"){f=C;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(h),v=m.startsWith(HP),_=v?m.substring(1):m,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},v9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},y9=t=>({cache:g9(t.cacheSize),parseClassName:x9(t),...u9(t)}),w9=/\s+/,j9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(w9);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}=n(d);let _=!!v,g=r(_?m.substring(0,v):m);if(!g){if(!_){l=d+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=d+(l.length>0?" "+l:l);continue}_=!1}const C=v9(h).join(":"),j=f?C+HP:C,y=j+g;if(a.includes(y))continue;a.push(y);const x=i(g,_);for(let P=0;P<x.length;++P){const D=x[P];a.push(j+D)}l=d+(l.length>0?" "+l:l)}return l};function b9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qP(e))&&(r&&(r+=" "),r+=n);return r}const qP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qP(t[r]))&&(n&&(n+=" "),n+=e);return n};function N9(t,...e){let n,r,i,a=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=y9(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=j9(c,n);return i(c,h),h}return function(){return a(b9.apply(null,arguments))}}const It=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},KP=/^\[(?:([a-z-]+):)?(.+)\]$/i,_9=/^\d+\/\d+$/,S9=new Set(["px","full","screen"]),C9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=t=>Wl(t)||S9.has(t)||_9.test(t),Hi=t=>Hc(t,"length",F9),Wl=t=>!!t&&!Number.isNaN(Number(t)),Xg=t=>Hc(t,"number",Wl),Nd=t=>!!t&&Number.isInteger(Number(t)),A9=t=>t.endsWith("%")&&Wl(t.slice(0,-1)),Ye=t=>KP.test(t),qi=t=>C9.test(t),I9=new Set(["length","size","percentage"]),R9=t=>Hc(t,I9,GP),D9=t=>Hc(t,"position",GP),M9=new Set(["image","url"]),O9=t=>Hc(t,M9,U9),L9=t=>Hc(t,"",$9),_d=()=>!0,Hc=(t,e,n)=>{const r=KP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},F9=t=>k9.test(t)&&!E9.test(t),GP=()=>!1,$9=t=>T9.test(t),U9=t=>P9.test(t),V9=()=>{const t=It("colors"),e=It("spacing"),n=It("blur"),r=It("brightness"),i=It("borderColor"),a=It("borderRadius"),o=It("borderSpacing"),l=It("borderWidth"),c=It("contrast"),d=It("grayscale"),h=It("hueRotate"),f=It("invert"),m=It("gap"),v=It("gradientColorStops"),_=It("gradientColorStopPositions"),g=It("inset"),C=It("margin"),j=It("opacity"),y=It("padding"),x=It("saturate"),P=It("scale"),D=It("sepia"),O=It("skew"),E=It("space"),b=It("translate"),S=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ye,e],T=()=>[Ye,e],A=()=>["",si,Hi],L=()=>["auto",Wl,Ye],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Ye],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Wl,Ye];return{cacheSize:500,separator:":",theme:{colors:[_d],spacing:[si,Hi],blur:["none","",qi,Ye],brightness:J(),borderColor:[t],borderRadius:["none","","full",qi,Ye],borderSpacing:T(),borderWidth:A(),contrast:J(),grayscale:H(),hueRotate:J(),invert:H(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[A9,Hi],inset:N(),margin:N(),opacity:J(),padding:T(),saturate:J(),scale:J(),sepia:H(),skew:J(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[qi]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),Ye]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nd,Ye]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Nd,Ye]}],"grid-cols":[{"grid-cols":[_d]}],"col-start-end":[{col:["auto",{span:["full",Nd,Ye]},Ye]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[_d]}],"row-start-end":[{row:["auto",{span:[Nd,Ye]},Ye]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[qi]},qi]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qi,Hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xg]}],"font-family":[{font:[_d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Wl,Xg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",si,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",si,Hi]}],"underline-offset":[{"underline-offset":["auto",si,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),D9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[si,Ye]}],"outline-w":[{outline:[si,Hi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[si,Hi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qi,L9]}],"shadow-color":[{shadow:[_d]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qi,Ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Nd,Ye]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[si,Hi,Xg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z9=N9(V9);function ye(...t){return z9(MP(t))}const B9=F$,QP=p.forwardRef(({className:t,...e},n)=>s.jsx(EP,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",t),...e}));QP.displayName=EP.displayName;const W9=sh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YP=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(TP,{ref:r,className:ye(W9({variant:e}),t),...n}));YP.displayName=TP.displayName;const H9=p.forwardRef(({className:t,...e},n)=>s.jsx(IP,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));H9.displayName=IP.displayName;const XP=p.forwardRef(({className:t,...e},n)=>s.jsx(RP,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Lr,{className:"h-4 w-4"})}));XP.displayName=RP.displayName;const ZP=p.forwardRef(({className:t,...e},n)=>s.jsx(PP,{ref:n,className:ye("text-sm font-semibold",t),...e}));ZP.displayName=PP.displayName;const JP=p.forwardRef(({className:t,...e},n)=>s.jsx(AP,{ref:n,className:ye("text-sm opacity-90",t),...e}));JP.displayName=AP.displayName;function q9(){const{toasts:t}=En();return s.jsxs(B9,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(YP,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(ZP,{children:n}),r&&s.jsx(JP,{children:r})]}),i,s.jsx(XP,{})]},e)}),s.jsx(QP,{})]})}var K9=Dk[" useId ".trim().toString()]||(()=>{}),G9=0;function rs(t){const[e,n]=p.useState(K9());return cn(()=>{n(r=>r??String(G9++))},[t]),e?`radix-${e}`:""}const Q9=["top","right","bottom","left"],Ra=Math.min,hr=Math.max,gm=Math.round,af=Math.floor,Us=t=>({x:t,y:t}),Y9={left:"right",right:"left",bottom:"top",top:"bottom"},X9={start:"end",end:"start"};function qv(t,e,n){return hr(t,Ra(e,n))}function Ei(t,e){return typeof t=="function"?t(e):t}function Ti(t){return t.split("-")[0]}function qc(t){return t.split("-")[1]}function Mw(t){return t==="x"?"y":"x"}function Ow(t){return t==="y"?"height":"width"}function Da(t){return["top","bottom"].includes(Ti(t))?"y":"x"}function Lw(t){return Mw(Da(t))}function Z9(t,e,n){n===void 0&&(n=!1);const r=qc(t),i=Lw(t),a=Ow(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=xm(o)),[o,xm(o)]}function J9(t){const e=xm(t);return[Kv(t),e,Kv(e)]}function Kv(t){return t.replace(/start|end/g,e=>X9[e])}function e8(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}function t8(t,e,n,r){const i=qc(t);let a=e8(Ti(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Kv)))),a}function xm(t){return t.replace(/left|right|bottom|top/g,e=>Y9[e])}function n8(t){return{top:0,right:0,bottom:0,left:0,...t}}function eA(t){return typeof t!="number"?n8(t):{top:t,right:t,bottom:t,left:t}}function vm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function PN(t,e,n){let{reference:r,floating:i}=t;const a=Da(e),o=Lw(e),l=Ow(o),c=Ti(e),d=a==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let v;switch(c){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-i.width,y:f};break;default:v={x:r.x,y:r.y}}switch(qc(e)){case"start":v[o]-=m*(n&&d?-1:1);break;case"end":v[o]+=m*(n&&d?-1:1);break}return v}const r8=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=PN(d,r,c),m=r,v={},_=0;for(let g=0;g<l.length;g++){const{name:C,fn:j}=l[g],{x:y,y:x,data:P,reset:D}=await j({x:h,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=y??h,f=x??f,v={...v,[C]:{...v[C],...P}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:h,y:f}=PN(d,m,c)),g=-1)}return{x:h,y:f,placement:m,strategy:i,middlewareData:v}};async function Su(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:v=0}=Ei(e,t),_=eA(v),C=l[m?f==="floating"?"reference":"floating":f],j=vm(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},D=vm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(j.top-D.top+_.top)/P.y,bottom:(D.bottom-j.bottom+_.bottom)/P.y,left:(j.left-D.left+_.left)/P.x,right:(D.right-j.right+_.right)/P.x}}const s8=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Ei(t,e)||{};if(d==null)return{};const f=eA(h),m={x:n,y:r},v=Lw(i),_=Ow(v),g=await o.getDimensions(d),C=v==="y",j=C?"top":"left",y=C?"bottom":"right",x=C?"clientHeight":"clientWidth",P=a.reference[_]+a.reference[v]-m[v]-a.floating[_],D=m[v]-a.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=O?O[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(O)))&&(E=l.floating[x]||a.floating[_]);const b=P/2-D/2,S=E/2-g[_]/2-1,R=Ra(f[j],S),N=Ra(f[y],S),T=R,A=E-g[_]-N,L=E/2-g[_]/2+b,q=qv(T,L,A),V=!c.arrow&&qc(i)!=null&&L!==q&&a.reference[_]/2-(L<T?R:N)-g[_]/2<0,z=V?L<T?L-T:L-A:0;return{[v]:m[v]+z,data:{[v]:q,centerOffset:L-q-z,...V&&{alignmentOffset:z}},reset:V}}}),i8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...C}=Ei(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=Ti(i),y=Da(l),x=Ti(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(x||!g?[xm(l)]:J9(l)),O=_!=="none";!m&&O&&D.push(...t8(l,g,_,P));const E=[l,...D],b=await Su(e,C),S=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&S.push(b[j]),f){const L=Z9(i,o,P);S.push(b[L[0]],b[L[1]])}if(R=[...R,{placement:i,overflows:S}],!S.every(L=>L<=0)){var N,T;const L=(((N=a.flip)==null?void 0:N.index)||0)+1,q=E[L];if(q)return{data:{index:L,overflows:R},reset:{placement:q}};let V=(T=R.filter(z=>z.overflows[0]<=0).sort((z,F)=>z.overflows[1]-F.overflows[1])[0])==null?void 0:T.placement;if(!V)switch(v){case"bestFit":{var A;const z=(A=R.filter(F=>{if(O){const H=Da(F.placement);return H===y||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,X)=>H+X,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:A[0];z&&(V=z);break}case"initialPlacement":V=l;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function AN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function IN(t){return Q9.some(e=>t[e]>=0)}const a8=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ei(t,e);switch(r){case"referenceHidden":{const a=await Su(e,{...i,elementContext:"reference"}),o=AN(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:IN(o)}}}case"escaped":{const a=await Su(e,{...i,altBoundary:!0}),o=AN(a,n.floating);return{data:{escapedOffsets:o,escaped:IN(o)}}}default:return{}}}}};async function o8(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ti(n),l=qc(n),c=Da(n)==="y",d=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,f=Ei(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof _=="number"&&(v=l==="end"?_*-1:_),c?{x:v*h,y:m*d}:{x:m*d,y:v*h}}const l8=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await o8(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},c8=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:j,y}=C;return{x:j,y}}},...c}=Ei(t,e),d={x:n,y:r},h=await Su(e,c),f=Da(Ti(i)),m=Mw(f);let v=d[m],_=d[f];if(a){const C=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=v+h[C],x=v-h[j];v=qv(y,v,x)}if(o){const C=f==="y"?"top":"left",j=f==="y"?"bottom":"right",y=_+h[C],x=_-h[j];_=qv(y,_,x)}const g=l.fn({...e,[m]:v,[f]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:a,[f]:o}}}}}},d8=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ei(t,e),h={x:n,y:r},f=Da(i),m=Mw(f);let v=h[m],_=h[f];const g=Ei(l,e),C=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",P=a.reference[m]-a.floating[x]+C.mainAxis,D=a.reference[m]+a.reference[x]-C.mainAxis;v<P?v=P:v>D&&(v=D)}if(d){var j,y;const x=m==="y"?"width":"height",P=["top","left"].includes(Ti(i)),D=a.reference[f]-a.floating[x]+(P&&((j=o.offset)==null?void 0:j[f])||0)+(P?0:C.crossAxis),O=a.reference[f]+a.reference[x]+(P?0:((y=o.offset)==null?void 0:y[f])||0)-(P?C.crossAxis:0);_<D?_=D:_>O&&(_=O)}return{[m]:v,[f]:_}}}},u8=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Ei(t,e),h=await Su(e,d),f=Ti(i),m=qc(i),v=Da(i)==="y",{width:_,height:g}=a.floating;let C,j;f==="top"||f==="bottom"?(C=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,C=m==="end"?"top":"bottom");const y=g-h.top-h.bottom,x=_-h.left-h.right,P=Ra(g-h[C],y),D=Ra(_-h[j],x),O=!e.middlewareData.shift;let E=P,b=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=y),O&&!m){const R=hr(h.left,0),N=hr(h.right,0),T=hr(h.top,0),A=hr(h.bottom,0);v?b=_-2*(R!==0||N!==0?R+N:hr(h.left,h.right)):E=g-2*(T!==0||A!==0?T+A:hr(h.top,h.bottom))}await c({...e,availableWidth:b,availableHeight:E});const S=await o.getDimensions(l.floating);return _!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}};function bp(){return typeof window<"u"}function Kc(t){return tA(t)?(t.nodeName||"").toLowerCase():"#document"}function xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Js(t){var e;return(e=(tA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tA(t){return bp()?t instanceof Node||t instanceof xr(t).Node:!1}function ds(t){return bp()?t instanceof Element||t instanceof xr(t).Element:!1}function qs(t){return bp()?t instanceof HTMLElement||t instanceof xr(t).HTMLElement:!1}function RN(t){return!bp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xr(t).ShadowRoot}function ih(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=us(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function h8(t){return["table","td","th"].includes(Kc(t))}function Np(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Fw(t){const e=$w(),n=ds(t)?us(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function f8(t){let e=Ma(t);for(;qs(e)&&!Sc(e);){if(Fw(e))return e;if(Np(e))return null;e=Ma(e)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sc(t){return["html","body","#document"].includes(Kc(t))}function us(t){return xr(t).getComputedStyle(t)}function _p(t){return ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ma(t){if(Kc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RN(t)&&t.host||Js(t);return RN(e)?e.host:e}function nA(t){const e=Ma(t);return Sc(e)?t.ownerDocument?t.ownerDocument.body:t.body:qs(e)&&ih(e)?e:nA(e)}function Cu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=nA(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=xr(i);if(a){const l=Gv(o);return e.concat(o,o.visualViewport||[],ih(i)?i:[],l&&n?Cu(l):[])}return e.concat(i,Cu(i,[],n))}function Gv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rA(t){const e=us(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=qs(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=gm(n)!==a||gm(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Uw(t){return ds(t)?t:t.contextElement}function Hl(t){const e=Uw(t);if(!qs(e))return Us(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=rA(e);let o=(a?gm(n.width):n.width)/r,l=(a?gm(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const m8=Us(0);function sA(t){const e=xr(t);return!$w()||!e.visualViewport?m8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xr(t)?!1:e}function $o(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Uw(t);let o=Us(1);e&&(r?ds(r)&&(o=Hl(r)):o=Hl(t));const l=p8(a,n,r)?sA(a):Us(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(a){const m=xr(a),v=r&&ds(r)?xr(r):r;let _=m,g=Gv(_);for(;g&&r&&v!==_;){const C=Hl(g),j=g.getBoundingClientRect(),y=us(g),x=j.left+(g.clientLeft+parseFloat(y.paddingLeft))*C.x,P=j.top+(g.clientTop+parseFloat(y.paddingTop))*C.y;c*=C.x,d*=C.y,h*=C.x,f*=C.y,c+=x,d+=P,_=xr(g),g=Gv(_)}}return vm({width:h,height:f,x:c,y:d})}function Vw(t,e){const n=_p(t).scrollLeft;return e?e.left+n:$o(Js(t)).left+n}function iA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Vw(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function g8(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Js(r),l=e?Np(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Us(1);const h=Us(0),f=qs(r);if((f||!f&&!a)&&((Kc(r)!=="body"||ih(o))&&(c=_p(r)),qs(r))){const v=$o(r);d=Hl(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const m=o&&!f&&!a?iA(o,c,!0):Us(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function x8(t){return Array.from(t.getClientRects())}function v8(t){const e=Js(t),n=_p(t),r=t.ownerDocument.body,i=hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Vw(t);const l=-n.scrollTop;return us(r).direction==="rtl"&&(o+=hr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function y8(t,e){const n=xr(t),r=Js(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=$w();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function w8(t,e){const n=$o(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=qs(t)?Hl(t):Us(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function DN(t,e,n){let r;if(e==="viewport")r=y8(t,n);else if(e==="document")r=v8(Js(t));else if(ds(e))r=w8(e,n);else{const i=sA(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return vm(r)}function aA(t,e){const n=Ma(t);return n===e||!ds(n)||Sc(n)?!1:us(n).position==="fixed"||aA(n,e)}function j8(t,e){const n=e.get(t);if(n)return n;let r=Cu(t,[],!1).filter(l=>ds(l)&&Kc(l)!=="body"),i=null;const a=us(t).position==="fixed";let o=a?Ma(t):t;for(;ds(o)&&!Sc(o);){const l=us(o),c=Fw(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ih(o)&&!c&&aA(t,o))?r=r.filter(h=>h!==o):i=l,o=Ma(o)}return e.set(t,r),r}function b8(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Np(e)?[]:j8(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,h)=>{const f=DN(e,h,i);return d.top=hr(f.top,d.top),d.right=Ra(f.right,d.right),d.bottom=Ra(f.bottom,d.bottom),d.left=hr(f.left,d.left),d},DN(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function N8(t){const{width:e,height:n}=rA(t);return{width:e,height:n}}function _8(t,e,n){const r=qs(e),i=Js(e),a=n==="fixed",o=$o(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Us(0);if(r||!r&&!a)if((Kc(e)!=="body"||ih(i))&&(l=_p(e)),r){const m=$o(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=Vw(i));const d=i&&!r&&!a?iA(i,l):Us(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Zg(t){return us(t).position==="static"}function MN(t,e){if(!qs(t)||us(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Js(t)===n&&(n=n.ownerDocument.body),n}function oA(t,e){const n=xr(t);if(Np(t))return n;if(!qs(t)){let i=Ma(t);for(;i&&!Sc(i);){if(ds(i)&&!Zg(i))return i;i=Ma(i)}return n}let r=MN(t,e);for(;r&&h8(r)&&Zg(r);)r=MN(r,e);return r&&Sc(r)&&Zg(r)&&!Fw(r)?n:r||f8(t)||n}const S8=async function(t){const e=this.getOffsetParent||oA,n=this.getDimensions,r=await n(t.floating);return{reference:_8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function C8(t){return us(t).direction==="rtl"}const k8={convertOffsetParentRelativeRectToViewportRelativeRect:g8,getDocumentElement:Js,getClippingRect:b8,getOffsetParent:oA,getElementRects:S8,getClientRects:x8,getDimensions:N8,getScale:Hl,isElement:ds,isRTL:C8};function lA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function E8(t,e){let n=null,r;const i=Js(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:v}=d;if(l||e(),!m||!v)return;const _=af(f),g=af(i.clientWidth-(h+m)),C=af(i.clientHeight-(f+v)),j=af(h),x={rootMargin:-_+"px "+-g+"px "+-C+"px "+-j+"px",threshold:hr(0,Ra(1,c))||1};let P=!0;function D(O){const E=O[0].intersectionRatio;if(E!==c){if(!P)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!lA(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),a}function T8(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Uw(t),h=i||a?[...d?Cu(d):[],...Cu(e)]:[];h.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const f=d&&l?E8(d,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let _,g=c?$o(t):null;c&&C();function C(){const j=$o(t);g&&!lA(g,j)&&n(),g=j,_=requestAnimationFrame(C)}return n(),()=>{var j;h.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),f==null||f(),(j=v)==null||j.disconnect(),v=null,c&&cancelAnimationFrame(_)}}const P8=l8,A8=c8,I8=i8,R8=u8,D8=a8,ON=s8,M8=d8,O8=(t,e,n)=>{const r=new Map,i={platform:k8,...n},a={...i.platform,_c:r};return r8(t,e,{...i,platform:a})};var Af=typeof document<"u"?p.useLayoutEffect:p.useEffect;function ym(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ym(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!ym(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function cA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LN(t,e){const n=cA(t);return Math.round(e*n)/n}function Jg(t){const e=p.useRef(t);return Af(()=>{e.current=t}),e}function L8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=p.useState(r);ym(m,r)||v(r);const[_,g]=p.useState(null),[C,j]=p.useState(null),y=p.useCallback(F=>{F!==O.current&&(O.current=F,g(F))},[]),x=p.useCallback(F=>{F!==E.current&&(E.current=F,j(F))},[]),P=a||_,D=o||C,O=p.useRef(null),E=p.useRef(null),b=p.useRef(h),S=c!=null,R=Jg(c),N=Jg(i),T=Jg(d),A=p.useCallback(()=>{if(!O.current||!E.current)return;const F={placement:e,strategy:n,middleware:m};N.current&&(F.platform=N.current),O8(O.current,E.current,F).then(H=>{const X={...H,isPositioned:T.current!==!1};L.current&&!ym(b.current,X)&&(b.current=X,Zo.flushSync(()=>{f(X)}))})},[m,e,n,N,T]);Af(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const L=p.useRef(!1);Af(()=>(L.current=!0,()=>{L.current=!1}),[]),Af(()=>{if(P&&(O.current=P),D&&(E.current=D),P&&D){if(R.current)return R.current(P,D,A);A()}},[P,D,A,R,S]);const q=p.useMemo(()=>({reference:O,floating:E,setReference:y,setFloating:x}),[y,x]),V=p.useMemo(()=>({reference:P,floating:D}),[P,D]),z=p.useMemo(()=>{const F={position:n,left:0,top:0};if(!V.floating)return F;const H=LN(V.floating,h.x),X=LN(V.floating,h.y);return l?{...F,transform:"translate("+H+"px, "+X+"px)",...cA(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:X}},[n,l,V.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:A,refs:q,elements:V,floatingStyles:z}),[h,A,q,V,z])}const F8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ON({element:r.current,padding:i}).fn(n):{}:r?ON({element:r,padding:i}).fn(n):{}}}},$8=(t,e)=>({...P8(t),options:[t,e]}),U8=(t,e)=>({...A8(t),options:[t,e]}),V8=(t,e)=>({...M8(t),options:[t,e]}),z8=(t,e)=>({...I8(t),options:[t,e]}),B8=(t,e)=>({...R8(t),options:[t,e]}),W8=(t,e)=>({...D8(t),options:[t,e]}),H8=(t,e)=>({...F8(t),options:[t,e]});var q8="Arrow",dA=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Re.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});dA.displayName=q8;var K8=dA;function uA(t){const[e,n]=p.useState(void 0);return cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var zw="Popper",[hA,qa]=lr(zw),[G8,fA]=hA(zw),mA=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return s.jsx(G8,{scope:e,anchor:r,onAnchorChange:i,children:n})};mA.displayName=zw;var pA="PopperAnchor",gA=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=fA(pA,n),o=p.useRef(null),l=st(e,o);return p.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Re.div,{...i,ref:l})});gA.displayName=pA;var Bw="PopperContent",[Q8,Y8]=hA(Bw),xA=p.forwardRef((t,e)=>{var Ce,ze,We,K,be,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:_,...g}=t,C=fA(Bw,n),[j,y]=p.useState(null),x=st(e,He=>y(He)),[P,D]=p.useState(null),O=uA(P),E=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,S=r+(a!=="center"?"-"+a:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(d)?d:[d],T=N.length>0,A={padding:R,boundary:N.filter(Z8),altBoundary:T},{refs:L,floatingStyles:q,placement:V,isPositioned:z,middlewareData:F}=L8({strategy:"fixed",placement:S,whileElementsMounted:(...He)=>T8(...He,{animationFrame:v==="always"}),elements:{reference:C.anchor},middleware:[$8({mainAxis:i+b,alignmentAxis:o}),c&&U8({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?V8():void 0,...A}),c&&z8({...A}),B8({...A,apply:({elements:He,rects:_t,availableWidth:jt,availableHeight:vn})=>{const{width:yn,height:xs}=_t.reference,bt=He.floating.style;bt.setProperty("--radix-popper-available-width",`${jt}px`),bt.setProperty("--radix-popper-available-height",`${vn}px`),bt.setProperty("--radix-popper-anchor-width",`${yn}px`),bt.setProperty("--radix-popper-anchor-height",`${xs}px`)}}),P&&H8({element:P,padding:l}),J8({arrowWidth:E,arrowHeight:b}),m&&W8({strategy:"referenceHidden",...A})]}),[H,X]=wA(V),J=kn(_);cn(()=>{z&&(J==null||J())},[z,J]);const W=(Ce=F.arrow)==null?void 0:Ce.x,ge=(ze=F.arrow)==null?void 0:ze.y,fe=((We=F.arrow)==null?void 0:We.centerOffset)!==0,[ut,Le]=p.useState();return cn(()=>{j&&Le(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ut,"--radix-popper-transform-origin":[(K=F.transformOrigin)==null?void 0:K.x,(be=F.transformOrigin)==null?void 0:be.y].join(" "),...((Ae=F.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Q8,{scope:n,placedSide:H,onArrowChange:D,arrowX:W,arrowY:ge,shouldHideArrow:fe,children:s.jsx(Re.div,{"data-side":H,"data-align":X,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});xA.displayName=Bw;var vA="PopperArrow",X8={top:"bottom",right:"left",bottom:"top",left:"right"},yA=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Y8(vA,r),o=X8[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(K8,{...i,ref:n,style:{...i.style,display:"block"}})})});yA.displayName=vA;function Z8(t){return t!==null}var J8=t=>({name:"transformOrigin",options:t,fn(e){var C,j,y;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=wA(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((j=i.arrow)==null?void 0:j.x)??0)+l/2,v=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let _="",g="";return d==="bottom"?(_=o?f:`${m}px`,g=`${-c}px`):d==="top"?(_=o?f:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(_=`${-c}px`,g=o?f:`${v}px`):d==="left"&&(_=`${r.floating.width+c}px`,g=o?f:`${v}px`),{data:{x:_,y:g}}}});function wA(t){const[e,n="center"]=t.split("-");return[e,n]}var Ww=mA,ah=gA,Sp=xA,Cp=yA,[kp,_ee]=lr("Tooltip",[qa]),Hw=qa(),jA="TooltipProvider",eU=700,FN="tooltip.open",[tU,bA]=kp(jA),NA=t=>{const{__scopeTooltip:e,delayDuration:n=eU,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(tU,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};NA.displayName=jA;var _A="Tooltip",[See,Ep]=kp(_A),Qv="TooltipTrigger",nU=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ep(Qv,n),a=bA(Qv,n),o=Hw(n),l=p.useRef(null),c=st(e,l,i.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(ah,{asChild:!0,...o,children:s.jsx(Re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});nU.displayName=Qv;var rU="TooltipPortal",[Cee,sU]=kp(rU,{forceMount:void 0}),Cc="TooltipContent",SA=p.forwardRef((t,e)=>{const n=sU(Cc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=Ep(Cc,t.__scopeTooltip);return s.jsx(_r,{present:r||o.open,children:o.disableHoverableContent?s.jsx(CA,{side:i,...a,ref:e}):s.jsx(iU,{side:i,...a,ref:e})})}),iU=p.forwardRef((t,e)=>{const n=Ep(Cc,t.__scopeTooltip),r=bA(Cc,t.__scopeTooltip),i=p.useRef(null),a=st(e,i),[o,l]=p.useState(null),{trigger:c,onClose:d}=n,h=i.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),v=p.useCallback((_,g)=>{const C=_.currentTarget,j={x:_.clientX,y:_.clientY},y=dU(j,C.getBoundingClientRect()),x=uU(j,y),P=hU(g.getBoundingClientRect()),D=mU([...x,...P]);l(D),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const _=C=>v(C,h),g=C=>v(C,c);return c.addEventListener("pointerleave",_),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",g)}}},[c,h,v,m]),p.useEffect(()=>{if(o){const _=g=>{const C=g.target,j={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(C))||(h==null?void 0:h.contains(C)),x=!fU(j,o);y?m():x&&(m(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,h,o,d,m]),s.jsx(CA,{...t,ref:a})}),[aU,oU]=kp(_A,{isInside:!1}),lU=uP("TooltipContent"),CA=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Ep(Cc,n),d=Hw(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(FN,h),()=>document.removeEventListener(FN,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),s.jsx(el,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:s.jsxs(Sp,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(lU,{children:r}),s.jsx(aU,{scope:n,isInside:!0,children:s.jsx(w$,{id:c.contentId,role:"tooltip",children:i||r})})]})})});SA.displayName=Cc;var kA="TooltipArrow",cU=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Hw(n);return oU(kA,n).isInside?null:s.jsx(Cp,{...i,...r,ref:e})});cU.displayName=kA;function dU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function hU(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function fU(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function mU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),pU(e)}function pU(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gU=NA,EA=SA;const xU=gU,vU=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(EA,{ref:r,sideOffset:e,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));vU.displayName=EA.displayName;const yU=()=>{};var $N={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},PA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=a>>2,f=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||f==null)throw new jU;const m=a<<2|l>>4;if(r.push(m),d!==64){const v=l<<4&240|d>>2;if(r.push(v),f!==64){const _=d<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bU=function(t){const e=TA(t);return PA.encodeByteArray(e,!0)},wm=function(t){return bU(t).replace(/\./g,"")},AA=function(t){try{return PA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=()=>NU().__FIREBASE_DEFAULTS__,SU=()=>{if(typeof process>"u"||typeof $N>"u")return;const t=$N.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AA(t[1]);return e&&JSON.parse(e)},qw=()=>{try{return yU()||_U()||SU()||CU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IA=t=>{var e,n;return(n=(e=qw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},RA=t=>{const e=IA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DA=()=>{var t;return(t=qw())==null?void 0:t.config},MA=t=>{var e;return(e=qw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wm(JSON.stringify(n)),wm(JSON.stringify(o)),""].join(".")}const Yd={};function EU(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yd))Yd[e]?t.emulator.push(e):t.prod.push(e);return t}function TU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UN=!1;function Gw(t,e){if(typeof window>"u"||typeof document>"u"||!Gc(window.location.host)||Yd[t]===e||Yd[t]||UN)return;Yd[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=EU().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{UN=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=TU(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),C=document.getElementById(g)||document.createElement("a"),j=n("preprendIcon"),y=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;l(x),h(C,g);const P=d();c(y,j),x.append(y,_,C,P),document.body.appendChild(x)}a?(_.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function AU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DU(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MU(){try{return typeof indexedDB=="object"}catch{return!1}}function OU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LU,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?FU(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ei(i,l,r)}}function FU(t,e){return t.replace($U,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $U=/\{\$([^}]+)}/g;function UU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(VN(a)&&VN(o)){if(!Uo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function VN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function VU(t,e){const n=new zU(t,e);return n.subscribe.bind(n)}class zU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ex),i.error===void 0&&(i.error=ex),i.complete===void 0&&(i.complete=ex);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ex(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){return t&&t._delegate?t._delegate:t}class Oa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qU(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HU(t){return t===so?void 0:t}function qU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pt||(pt={}));const GU={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},QU=pt.INFO,YU={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},XU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qw{constructor(e){this.name=e,this._logLevel=QU,this._logHandler=XU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const ZU=(t,e)=>e.some(n=>t instanceof n);let zN,BN;function JU(){return zN||(zN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eV(){return BN||(BN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LA=new WeakMap,Yv=new WeakMap,FA=new WeakMap,tx=new WeakMap,Yw=new WeakMap;function tV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ca(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LA.set(n,t)}).catch(()=>{}),Yw.set(e,t),e}function nV(t){if(Yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Yv.set(t,e)}let Xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rV(t){Xv=t(Xv)}function sV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nx(this),e,...n);return FA.set(r,e.sort?e.sort():[e]),Ca(r)}:eV().includes(t)?function(...e){return t.apply(nx(this),e),Ca(LA.get(this))}:function(...e){return Ca(t.apply(nx(this),e))}}function iV(t){return typeof t=="function"?sV(t):(t instanceof IDBTransaction&&nV(t),ZU(t,JU())?new Proxy(t,Xv):t)}function Ca(t){if(t instanceof IDBRequest)return tV(t);if(tx.has(t))return tx.get(t);const e=iV(t);return e!==t&&(tx.set(t,e),Yw.set(e,t)),e}const nx=t=>Yw.get(t);function aV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Ca(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ca(o.result),c.oldVersion,c.newVersion,Ca(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const oV=["get","getKey","getAll","getAllKeys","count"],lV=["put","add","delete","clear"],rx=new Map;function WN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rx.get(e))return rx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oV.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return rx.set(e,a),a}rV(t=>({...t,get:(e,n,r)=>WN(e,n)||t.get(e,n,r),has:(e,n)=>!!WN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",HN="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Qw("@firebase/app"),uV="@firebase/app-compat",hV="@firebase/analytics-compat",fV="@firebase/analytics",mV="@firebase/app-check-compat",pV="@firebase/app-check",gV="@firebase/auth",xV="@firebase/auth-compat",vV="@firebase/database",yV="@firebase/data-connect",wV="@firebase/database-compat",jV="@firebase/functions",bV="@firebase/functions-compat",NV="@firebase/installations",_V="@firebase/installations-compat",SV="@firebase/messaging",CV="@firebase/messaging-compat",kV="@firebase/performance",EV="@firebase/performance-compat",TV="@firebase/remote-config",PV="@firebase/remote-config-compat",AV="@firebase/storage",IV="@firebase/storage-compat",RV="@firebase/firestore",DV="@firebase/ai",MV="@firebase/firestore-compat",OV="firebase",LV="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="[DEFAULT]",FV={[Zv]:"fire-core",[uV]:"fire-core-compat",[fV]:"fire-analytics",[hV]:"fire-analytics-compat",[pV]:"fire-app-check",[mV]:"fire-app-check-compat",[gV]:"fire-auth",[xV]:"fire-auth-compat",[vV]:"fire-rtdb",[yV]:"fire-data-connect",[wV]:"fire-rtdb-compat",[jV]:"fire-fn",[bV]:"fire-fn-compat",[NV]:"fire-iid",[_V]:"fire-iid-compat",[SV]:"fire-fcm",[CV]:"fire-fcm-compat",[kV]:"fire-perf",[EV]:"fire-perf-compat",[TV]:"fire-rc",[PV]:"fire-rc-compat",[AV]:"fire-gcs",[IV]:"fire-gcs-compat",[RV]:"fire-fst",[MV]:"fire-fst-compat",[DV]:"fire-vertex","fire-js":"fire-js",[OV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Map,$V=new Map,ey=new Map;function qN(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(ey.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(const n of jm.values())qN(n,t);for(const n of $V.values())qN(n,t);return!0}function Tp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new oh("app","Firebase",UV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=LV;function $A(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ka.create("bad-app-name",{appName:String(i)});if(n||(n=DA()),!n)throw ka.create("no-options");const a=jm.get(i);if(a){if(Uo(n,a.options)&&Uo(r,a.config))return a;throw ka.create("duplicate-app",{appName:i})}const o=new KU(i);for(const c of ey.values())o.addComponent(c);const l=new VV(n,r,o);return jm.set(i,l),l}function Xw(t=Jv){const e=jm.get(t);if(!e&&t===Jv&&DA())return $A();if(!e)throw ka.create("no-app",{appName:t});return e}function Vs(t,e,n){let r=FV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(o.join(" "));return}Vo(new Oa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="firebase-heartbeat-database",BV=1,ku="firebase-heartbeat-store";let sx=null;function UA(){return sx||(sx=aV(zV,BV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),sx}async function WV(t){try{const n=(await UA()).transaction(ku),r=await n.objectStore(ku).get(VA(t));return await n.done,r}catch(e){if(e instanceof ei)Pi.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function KN(t,e){try{const r=(await UA()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,VA(t)),await r.done}catch(n){if(n instanceof ei)Pi.warn(n.message);else{const r=ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(r.message)}}}function VA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=1024,qV=30;class KV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=GN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>qV){const o=YV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GN(),{heartbeatsToSend:r,unsentEntries:i}=GV(this._heartbeatsCache.heartbeats),a=wm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Pi.warn(n),""}}}function GN(){return new Date().toISOString().substring(0,10)}function GV(t,e=HV){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),QN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MU()?OU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QN(t){return wm(JSON.stringify({version:2,heartbeats:t})).length}function YV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){Vo(new Oa("platform-logger",e=>new cV(e),"PRIVATE")),Vo(new Oa("heartbeat",e=>new KV(e),"PRIVATE")),Vs(Zv,HN,t),Vs(Zv,HN,"esm2020"),Vs("fire-js","")}XV("");var ZV="firebase",JV="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(ZV,JV,"app");function zA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e7=zA,BA=new oh("auth","Firebase",zA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Qw("@firebase/auth");function t7(t,...e){bm.logLevel<=pt.WARN&&bm.warn(`Auth (${tl}): ${t}`,...e)}function If(t,...e){bm.logLevel<=pt.ERROR&&bm.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw Jw(t,...e)}function ss(t,...e){return Jw(t,...e)}function Zw(t,e,n){const r={...e7(),[e]:n};return new oh("auth","Firebase",r).create(e,{appName:t.name})}function Ea(t){return Zw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WA(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ks(t,"argument-error"),Zw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BA.create(t,...e)}function Fe(t,e,...n){if(!t)throw Jw(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Ai(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function n7(){return YN()==="http:"||YN()==="https:"}function YN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n7()||IU()||"connection"in navigator)?navigator.onLine:!0}function s7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=PU()||RU()}get(){return r7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o7=new ch(3e4,6e4);function tj(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qc(t,e,n,r,i={}){return qA(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=lh({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return AU()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Gc(t.emulatorConfig.host)&&(d.credentials="include"),HA.fetch()(await KA(t,t.config.apiHost,n,l),d)})}async function qA(t,e,n){t._canInitEmulator=!1;const r={...i7,...e};try{const i=new c7(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw of(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw of(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw of(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Zw(t,h,d);Ks(t,h)}}catch(i){if(i instanceof ei)throw i;Ks(t,"network-request-failed",{message:String(i)})}}async function l7(t,e,n,r,i={}){const a=await Qc(t,e,n,r,i);return"mfaPendingCredential"in a&&Ks(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function KA(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?ej(t.config,i):`${t.config.apiScheme}://${i}`;return a7.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class c7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),o7.get())})}}function of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ss(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(t,e){return Qc(t,"POST","/v1/accounts:delete",e)}async function Nm(t,e){return Qc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u7(t,e=!1){const n=Oi(t),r=await n.getIdToken(e),i=nj(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xd(ix(i.auth_time)),issuedAtTime:Xd(ix(i.iat)),expirationTime:Xd(ix(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ix(t){return Number(t)*1e3}function nj(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const i=AA(n);return i?JSON.parse(i):(If("Failed to decode base64 JWT payload"),null)}catch(i){return If("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XN(t){const e=nj(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&h7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xd(this.lastLoginAt),this.creationTime=Xd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Eu(t,Nm(e,{idToken:n}));Fe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?GA(i.providerUserInfo):[],o=p7(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ny(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function m7(t){const e=Oi(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,e){const n=await qA(t,{},async()=>{const r=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await KA(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Gc(t.emulatorConfig.host)&&(c.credentials="include"),HA.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x7(t,e){return Qc(t,"POST","/v2/accounts:revokeToken",tj(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=XN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await g7(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new ql;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Fe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new f7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ny(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u7(this,e)}reload(){return m7(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Ea(this.auth));const e=await this.getIdToken();return await Eu(this,d7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:_,stsTokenManager:g}=n;Fe(f&&g,e,"internal-error");const C=ql.fromJSON(this.name,g);Fe(typeof f=="string",e,"internal-error"),Ki(r,e.name),Ki(i,e.name),Fe(typeof m=="boolean",e,"internal-error"),Fe(typeof v=="boolean",e,"internal-error"),Ki(a,e.name),Ki(o,e.name),Ki(l,e.name),Ki(c,e.name),Ki(d,e.name),Ki(h,e.name);const j=new Qr({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:C,createdAt:d,lastLoginAt:h});return _&&Array.isArray(_)&&(j.providerData=_.map(y=>({...y}))),c&&(j._redirectEventId=c),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new ql;i.updateFromServerResponse(n);const a=new Qr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _m(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?GA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new ql;l.updateFromIdToken(r);const c=new Qr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ny(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Map;function yi(t){Ai(t instanceof Function,"Expected a class definition");let e=ZN.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QA.type="NONE";const JN=QA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Rf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Rf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nm(this.auth,{idToken:e}).catch(()=>{});return n?Qr._fromGetAccountInfoResponse(this.auth,n,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(yi(JN),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||yi(JN);const o=Rf(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Nm(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Qr._fromGetAccountInfoResponse(e,m,h)}else f=Qr._fromJSON(e,h);d!==a&&(l=f),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Kl(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Kl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(XA(e))return"Safari";if((e.includes("chrome/")||ZA(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YA(t=qn()){return/firefox\//i.test(t)}function XA(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZA(t=qn()){return/crios\//i.test(t)}function JA(t=qn()){return/iemobile/i.test(t)}function eI(t=qn()){return/android/i.test(t)}function tI(t=qn()){return/blackberry/i.test(t)}function nI(t=qn()){return/webos/i.test(t)}function rj(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v7(t=qn()){var e;return rj(t)&&!!((e=window.navigator)!=null&&e.standalone)}function y7(){return DU()&&document.documentMode===10}function rI(t=qn()){return rj(t)||eI(t)||nI(t)||tI(t)||/windows phone/i.test(t)||JA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e=[]){let n;switch(t){case"Browser":n=e1(qn());break;case"Worker":n=`${e1(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e={}){return Qc(t,"GET","/v2/passwordPolicy",tj(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=6;class N7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t1(this),this.idTokenSubscription=new t1(this),this.beforeStateQueue=new w7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nm(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(mr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Ea(this));const n=e?Oi(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j7(this),n=new N7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&t7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yc(t){return Oi(t)}class t1{constructor(e){this.auth=e,this.observer=null,this.addObserver=VU(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sj={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S7(t){sj=t}function C7(t){return sj.loadJS(t)}function k7(){return sj.gapiScript}function E7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t,e){const n=Tp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Uo(a,e??{}))return i;Ks(i,"already-initialized")}return n.initialize({options:e})}function P7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function A7(t,e,n){const r=Yc(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=iI(e),{host:o,port:l}=I7(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(Uo(d,r.config.emulator)&&Uo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gc(o)?(Kw(`${a}//${o}${c}`),Gw("Auth",!0)):R7()}function iI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I7(t){const e=iI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:n1(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:n1(o)}}}function n1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e){return l7(t,"POST","/v1/accounts:signInWithIdp",tj(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="http://localhost";class Ii extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Ii(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gl(e,n)}buildRequest(){const e={requestUri:D7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zd extends Xc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Fe("providerId"in n&&"signInMethod"in n,"argument-error"),Ii._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Fe(e.idToken||e.accessToken,"argument-error"),Ii._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Zd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Zd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:o,providerId:l}=e;if(!r&&!i&&!n&&!a||!l)return null;try{return new Zd(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Xc{constructor(){super("facebook.com")}static credential(e){return Ii._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ii._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Xc{constructor(){super("github.com")}static credential(e){return Ii._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Xc{constructor(){super("twitter.com")}static credential(e,n){return Ii._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ra.credential(n,r)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Qr._fromIdTokenResponse(e,r,i),o=r1(r);return new kc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=r1(r);return new kc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function r1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends ei{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sm(e,n,r,i)}}function oI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sm._fromErrorAndOperation(t,a,e,r):a})}async function M7(t,e,n=!1){const r=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject(Ea(r));const i="reauthenticate";try{const a=await Eu(t,oI(r,i,e,t),n);Fe(a.idToken,r,"internal-error");const o=nj(a.idToken);Fe(o,r,"internal-error");const{sub:l}=o;return Fe(t.uid===l,r,"user-mismatch"),kc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ks(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e,n=!1){if(mr(t.app))return Promise.reject(Ea(t));const r="signIn",i=await oI(t,r,e),a=await kc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function F7(t,e,n,r){return Oi(t).onIdTokenChanged(e,n,r)}function $7(t,e,n){return Oi(t).beforeAuthStateChanged(e,n)}function U7(t,e,n,r){return Oi(t).onAuthStateChanged(e,n,r)}function V7(t){return Oi(t).signOut()}const Cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cm,"1"),this.storage.removeItem(Cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=1e3,B7=10;class cI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);y7()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cI.type="LOCAL";const W7=cI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dI.type="SESSION";const uI=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ap(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await H7(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ap.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=ij("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function K7(t){zs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function G7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Y7(){return hI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebaseLocalStorageDb",X7=1,km="firebaseLocalStorage",mI="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ip(t,e){return t.transaction([km],e?"readwrite":"readonly").objectStore(km)}function Z7(){const t=indexedDB.deleteDatabase(fI);return new dh(t).toPromise()}function ry(){const t=indexedDB.open(fI,X7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(km,{keyPath:mI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(km)?e(r):(r.close(),await Z7(),e(await ry()))})})}async function s1(t,e,n){const r=Ip(t,!0).put({[mI]:e,value:n});return new dh(r).toPromise()}async function J7(t,e){const n=Ip(t,!1).get(e),r=await new dh(n).toPromise();return r===void 0?null:r.value}function i1(t,e){const n=Ip(t,!0).delete(e);return new dh(n).toPromise()}const ez=800,tz=3;class pI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ap._getInstance(Y7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await G7(),!this.activeServiceWorker)return;this.sender=new q7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await s1(e,Cm,"1"),await i1(e,Cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>s1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>i1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ip(i,!1).getAll();return new dh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pI.type="LOCAL";const nz=pI;new ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e){return e?yi(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends aI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rz(t){return L7(t.auth,new oj(t),t.bypassAuthState)}function sz(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),O7(n,new oj(t),t.bypassAuthState)}async function iz(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),M7(n,new oj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rz;case"linkViaPopup":case"linkViaRedirect":return iz;case"reauthViaPopup":case"reauthViaRedirect":return sz;default:Ks(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new ch(2e3,1e4);async function xI(t,e,n){if(mr(t.app))return Promise.reject(ss(t,"operation-not-supported-in-this-environment"));const r=Yc(t);WA(t,e,Pp);const i=aj(r,n);return new go(r,"signInViaPopup",e,i).executeNotNull()}class go extends gI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=ij();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,az.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz="pendingRedirect",Df=new Map;class lz extends gI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await cz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cz(t,e){const n=yI(e),r=vI(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function dz(t,e){return vI(t)._set(yI(e),"true")}function uz(t,e){Df.set(t._key(),e)}function vI(t){return yi(t._redirectPersistence)}function yI(t){return Rf(oz,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){return hz(t,e,n)}async function hz(t,e,n){if(mr(t.app))return Promise.reject(Ea(t));const r=Yc(t);WA(t,e,Pp),await r._initializationPromise;const i=aj(r,n);return await dz(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function fz(t,e){return await Yc(t)._initializationPromise,jI(t,e,!1)}async function jI(t,e,n=!1){if(mr(t.app))return Promise.reject(Ea(t));const r=Yc(t),i=aj(r,e),o=await new lz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=10*60*1e3;class pz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bI(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e={}){return Qc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yz=/^https?/;async function wz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xz(t);for(const n of e)try{if(jz(n))return}catch{}Ks(t,"unauthorized-domain")}function jz(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yz.test(n))return!1;if(vz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new ch(3e4,6e4);function o1(){const t=zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Nz(t){return new Promise((e,n)=>{var i,a,o;function r(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),n(ss(t,"network-request-failed"))},timeout:bz.get()})}if((a=(i=zs().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=zs().gapi)!=null&&o.load)r();else{const l=E7("iframefcb");return zs()[l]=()=>{gapi.load?r():n(ss(t,"network-request-failed"))},C7(`${k7()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function _z(t){return Mf=Mf||Nz(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new ch(5e3,15e3),Cz="__/auth/iframe",kz="emulator/auth/iframe",Ez={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pz(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ej(e,kz):`https://${t.config.authDomain}/${Cz}`,r={apiKey:e.apiKey,appName:t.name,v:tl},i=Tz.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${lh(r).slice(1)}`}async function Az(t){const e=await _z(t),n=zs().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:Pz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ez,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),l=zs().setTimeout(()=>{a(o)},Sz.get());function c(){zs().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rz=500,Dz=600,Mz="_blank",Oz="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lz(t,e,n,r=Rz,i=Dz){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...Iz,width:r.toString(),height:i.toString(),top:a,left:o},d=qn().toLowerCase();n&&(l=ZA(d)?Mz:n),YA(d)&&(e=e||Oz,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[v,_])=>`${m}${v}=${_},`,"");if(v7(d)&&l!=="_self")return Fz(e||"",l),new l1(null);const f=window.open(e||"",l,h);Fe(f,t,"popup-blocked");try{f.focus()}catch{}return new l1(f)}function Fz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="__/auth/handler",Uz="emulator/auth/handler",Vz=encodeURIComponent("fac");async function c1(t,e,n,r,i,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tl,eventId:i};if(e instanceof Pp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Xc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${Vz}=${encodeURIComponent(c)}`:"";return`${zz(t)}?${lh(l).slice(1)}${d}`}function zz({config:t}){return t.emulator?ej(t,Uz):`https://${t.authDomain}/${$z}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="webStorageSupport";class Bz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uI,this._completeRedirectFn=jI,this._overrideRedirectResult=uz}async _openPopup(e,n,r,i){var o;Ai((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await c1(e,n,r,ty(),i);return Lz(e,a,ij())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await c1(e,n,r,ty(),i);return K7(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Az(e),r=new pz(e);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ax,{type:ax},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[ax];a!==void 0&&n(!!a),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rI()||XA()||rj()}}const Wz=Bz;var d1="@firebase/auth",u1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kz(t){Vo(new Oa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(t)},d=new _7(r,i,a,c);return P7(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Oa("auth-internal",e=>{const n=Yc(e.getProvider("auth").getImmediate());return(r=>new Hz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(d1,u1,qz(t)),Vs(d1,u1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=5*60,Qz=MA("authIdTokenMaxAge")||Gz;let h1=null;const Yz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qz)return;const i=n==null?void 0:n.token;h1!==i&&(h1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xz(t=Xw()){const e=Tp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T7(t,{popupRedirectResolver:Wz,persistence:[nz,W7,uI]}),r=MA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Yz(a.toString());$7(n,o,()=>o(n.currentUser)),F7(n,l=>o(l))}}const i=IA("auth");return i&&A7(n,`http://${i}`),n}function Zz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}S7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ss("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Zz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kz("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebasestorage.googleapis.com",Jz="storageBucket",eB=2*60*1e3,tB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ei{constructor(e,n,r=0){super(ox(e),`Firebase Storage: ${n} (${ox(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ox(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gs||(Gs={}));function ox(t){return"storage/"+t}function nB(){const t="An unknown error occurred, please check the error payload for server response.";return new ti(Gs.UNKNOWN,t)}function rB(){return new ti(Gs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sB(){return new ti(Gs.CANCELED,"User canceled the upload/download.")}function iB(t){return new ti(Gs.INVALID_URL,"Invalid URL '"+t+"'.")}function aB(t){return new ti(Gs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function f1(t){return new ti(Gs.INVALID_ARGUMENT,t)}function _I(){return new ti(Gs.APP_DELETED,"The Firebase app was deleted.")}function oB(t){return new ti(Gs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Yr.makeFromUrl(e,n)}catch{return new Yr(e,"")}if(r.path==="")return r;throw aB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},g=n===NI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",j=new RegExp(`^https?://${g}/${i}/${C}`,"i"),x=[{regex:l,indices:c,postModify:a},{regex:v,indices:_,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<x.length;P++){const D=x[P],O=D.regex.exec(e);if(O){const E=O[D.indices.bucket];let b=O[D.indices.path];b||(b=""),r=new Yr(E,b),D.postModify(r);break}}if(r==null)throw iB(e);return r}}class lB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...C){d||(d=!0,e.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,t(v,c())},C)}function m(){a&&clearTimeout(a)}function v(C,...j){if(d){m();return}if(C){m(),h.call(null,C,...j);return}if(c()||o){m(),h.call(null,C,...j);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,f(x)}let _=!1;function g(C){_||(_=!0,m(),!d&&(i!==null?(C||(l=2),clearTimeout(i),f(0)):C||(l=1)))}return f(0),a=setTimeout(()=>{o=!0,g(!0)},n),g}function dB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){return t!==void 0}function m1(t,e,n,r){if(r<e)throw f1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw f1(`Invalid value for '${t}'. Expected ${n} or less.`)}function hB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Em;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Em||(Em={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r,i,a,o,l,c,d,h,f,m=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,g)=>{this.resolve_=_,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===Em.NO_ERROR,c=a.getStatus();if(!l||fB(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Em.ABORT;r(!1,new lf(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new lf(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());uB(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=nB();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?_I():sB();o(c)}else{const c=rB();o(c)}};this.canceled_?n(!1,new lf(!1,null,!0)):this.backoffId_=cB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yB(t,e,n,r,i,a,o=!0,l=!1){const c=hB(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return xB(h,e),pB(h,n),gB(h,a),vB(h,r),new mB(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this._service=e,n instanceof Yr?this._location=n:this._location=Yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Tm(e,n)}get root(){const e=new Yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jB(this._location.path)}get storage(){return this._service}get parent(){const e=wB(this._location.path);if(e===null)return null;const n=new Yr(this._location.bucket,e);return new Tm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oB(e)}}function p1(t,e){const n=e==null?void 0:e[Jz];return n==null?null:Yr.makeFromBucketSpec(n,t)}function bB(t,e,n,r={}){t.host=`${e}:${n}`;const i=Gc(e);i&&(Kw(`https://${t.host}/b`),Gw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:OA(a,t.app.options.projectId))}class NB{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=NI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eB,this._maxUploadRetryTime=tB,this._requests=new Set,i!=null?this._bucket=Yr.makeFromBucketSpec(i,this._host):this._bucket=p1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yr.makeFromBucketSpec(this._url,e):this._bucket=p1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tm(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new lB(_I());{const o=yB(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const g1="@firebase/storage",x1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="storage";function _B(t=Xw(),e){t=Oi(t);const r=Tp(t,SI).getImmediate({identifier:e}),i=RA("storage");return i&&SB(r,...i),r}function SB(t,e,n,r={}){bB(t,e,n,r)}function CB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NB(n,r,i,e,tl)}function kB(){Vo(new Oa(SI,CB,"PUBLIC").setMultipleInstances(!0)),Vs(g1,x1,""),Vs(g1,x1,"esm2020")}kB();var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,b){function S(){}S.prototype=b.prototype,E.F=b.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(R,N,T){for(var A=Array(arguments.length-2),L=2;L<arguments.length;L++)A[L-2]=arguments[L];return b.prototype[N].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,b,S){S||(S=0);const R=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)R[N]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(N=0;N<16;++N)R[N]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=E.g[0],S=E.g[1],N=E.g[2];let T=E.g[3],A;A=b+(T^S&(N^T))+R[0]+3614090360&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[1]+3905402710&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[2]+606105819&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[3]+3250441966&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(T^S&(N^T))+R[4]+4118548399&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[5]+1200080426&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[6]+2821735955&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[7]+4249261313&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(T^S&(N^T))+R[8]+1770035416&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[9]+2336552879&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[10]+4294925233&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[11]+2304563134&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(T^S&(N^T))+R[12]+1804603682&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[13]+4254626195&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[14]+2792965006&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[15]+1236535329&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(N^T&(S^N))+R[1]+4129170786&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[6]+3225465664&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[11]+643717713&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[0]+3921069994&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(N^T&(S^N))+R[5]+3593408605&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[10]+38016083&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[15]+3634488961&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[4]+3889429448&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(N^T&(S^N))+R[9]+568446438&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[14]+3275163606&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[3]+4107603335&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[8]+1163531501&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(N^T&(S^N))+R[13]+2850285829&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[2]+4243563512&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[7]+1735328473&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[12]+2368359562&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(S^N^T)+R[5]+4294588738&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[8]+2272392833&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[11]+1839030562&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[14]+4259657740&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(S^N^T)+R[1]+2763975236&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[4]+1272893353&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[7]+4139469664&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[10]+3200236656&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(S^N^T)+R[13]+681279174&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[0]+3936430074&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[3]+3572445317&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[6]+76029189&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(S^N^T)+R[9]+3654602809&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[12]+3873151461&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[15]+530742520&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[2]+3299628645&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(N^(S|~T))+R[0]+4096336452&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[7]+1126891415&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[14]+2878612391&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[5]+4237533241&4294967295,S=N+(A<<21&4294967295|A>>>11),A=b+(N^(S|~T))+R[12]+1700485571&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[3]+2399980690&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[10]+4293915773&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[1]+2240044497&4294967295,S=N+(A<<21&4294967295|A>>>11),A=b+(N^(S|~T))+R[8]+1873313359&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[15]+4264355552&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[6]+2734768916&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[13]+1309151649&4294967295,S=N+(A<<21&4294967295|A>>>11),A=b+(N^(S|~T))+R[4]+4149444226&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[11]+3174756917&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[2]+718787259&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+N&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.v=function(E,b){b===void 0&&(b=E.length);const S=b-this.blockSize,R=this.C;let N=this.h,T=0;for(;T<b;){if(N==0)for(;T<=S;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<b;)if(R[N++]=E.charCodeAt(T++),N==this.blockSize){i(this,R),N=0;break}}else for(;T<b;)if(R[N++]=E[T++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;b=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=b&255,b/=256;for(this.v(E),E=Array(16),b=0,S=0;S<4;++S)for(let R=0;R<32;R+=8)E[b++]=this.g[S]>>>R&255;return E};function a(E,b){var S=l;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=b(E)}function o(E,b){this.h=b;const S=[];let R=!0;for(let N=E.length-1;N>=0;N--){const T=E[N]|0;R&&T==b||(S[N]=T,R=!1)}this.g=S}var l={};function c(E){return-128<=E&&E<128?a(E,function(b){return new o([b|0],b<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return C(d(-E));const b=[];let S=1;for(let R=0;E>=S;R++)b[R]=E/S|0,S*=4294967296;return new o(b,0)}function h(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return C(h(E.substring(1),b));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=d(Math.pow(b,8));let R=f;for(let T=0;T<E.length;T+=8){var N=Math.min(8,E.length-T);const A=parseInt(E.substring(T,T+N),b);N<8?(N=d(Math.pow(b,N)),R=R.j(N).add(d(A))):(R=R.j(S),R=R.add(d(A)))}return R}var f=c(0),m=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-C(this).m();let E=0,b=1;for(let S=0;S<this.g.length;S++){const R=this.i(S);E+=(R>=0?R:4294967296+R)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(g(this))return"-"+C(this).toString(E);const b=d(Math.pow(E,6));var S=this;let R="";for(;;){const N=P(S,b).g;S=j(S,N.j(b));let T=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=N,_(S))return T+R;for(;T.length<6;)T="0"+T;R=T+R}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(let b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=j(this,E),g(E)?-1:_(E)?0:1};function C(E){const b=E.g.length,S=[];for(let R=0;R<b;R++)S[R]=~E.g[R];return new o(S,~E.h).add(m)}t.abs=function(){return g(this)?C(this):this},t.add=function(E){const b=Math.max(this.g.length,E.g.length),S=[];let R=0;for(let N=0;N<=b;N++){let T=R+(this.i(N)&65535)+(E.i(N)&65535),A=(T>>>16)+(this.i(N)>>>16)+(E.i(N)>>>16);R=A>>>16,T&=65535,A&=65535,S[N]=A<<16|T}return new o(S,S[S.length-1]&-2147483648?-1:0)};function j(E,b){return E.add(C(b))}t.j=function(E){if(_(this)||_(E))return f;if(g(this))return g(E)?C(this).j(C(E)):C(C(this).j(E));if(g(E))return C(this.j(C(E)));if(this.l(v)<0&&E.l(v)<0)return d(this.m()*E.m());const b=this.g.length+E.g.length,S=[];for(var R=0;R<2*b;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<E.g.length;N++){const T=this.i(R)>>>16,A=this.i(R)&65535,L=E.i(N)>>>16,q=E.i(N)&65535;S[2*R+2*N]+=A*q,y(S,2*R+2*N),S[2*R+2*N+1]+=T*q,y(S,2*R+2*N+1),S[2*R+2*N+1]+=A*L,y(S,2*R+2*N+1),S[2*R+2*N+2]+=T*L,y(S,2*R+2*N+2)}for(E=0;E<b;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=b;E<2*b;E++)S[E]=0;return new o(S,0)};function y(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function x(E,b){this.g=E,this.h=b}function P(E,b){if(_(b))throw Error("division by zero");if(_(E))return new x(f,f);if(g(E))return b=P(C(E),b),new x(C(b.g),C(b.h));if(g(b))return b=P(E,C(b)),new x(C(b.g),b.h);if(E.g.length>30){if(g(E)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var S=m,R=b;R.l(E)<=0;)S=D(S),R=D(R);var N=O(S,1),T=O(R,1);for(R=O(R,2),S=O(S,2);!_(R);){var A=T.add(R);A.l(E)<=0&&(N=N.add(S),T=A),R=O(R,1),S=O(S,1)}return b=j(E,N.j(b)),new x(N,b)}for(N=f;E.l(b)>=0;){for(S=Math.max(1,Math.floor(E.m()/b.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),T=d(S),A=T.j(b);g(A)||A.l(E)>0;)S-=R,T=d(S),A=T.j(b);_(T)&&(T=m),N=N.add(T),E=j(E,A)}return new x(N,E)}t.B=function(E){return P(this,E).h},t.and=function(E){const b=Math.max(this.g.length,E.g.length),S=[];for(let R=0;R<b;R++)S[R]=this.i(R)&E.i(R);return new o(S,this.h&E.h)},t.or=function(E){const b=Math.max(this.g.length,E.g.length),S=[];for(let R=0;R<b;R++)S[R]=this.i(R)|E.i(R);return new o(S,this.h|E.h)},t.xor=function(E){const b=Math.max(this.g.length,E.g.length),S=[];for(let R=0;R<b;R++)S[R]=this.i(R)^E.i(R);return new o(S,this.h^E.h)};function D(E){const b=E.g.length+1,S=[];for(let R=0;R<b;R++)S[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(S,E.h)}function O(E,b){const S=b>>5;b%=32;const R=E.g.length-S,N=[];for(let T=0;T<R;T++)N[T]=b>0?E.i(T+S)>>>b|E.i(T+S+1)<<32-b:E.i(T+S);return new o(N,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,lj=o}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var w=0;w<u.length;++w){var k=u[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(u,w){if(w)e:{var k=r;u=u.split(".");for(var M=0;M<u.length-1;M++){var G=u[M];if(!(G in k))break e;k=k[G]}u=u[u.length-1],M=k[u],w=w(M),w!=M&&w!=null&&e(k,u,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(w){var k=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&k.push([M,w[M]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var w=typeof u;return w=="object"&&u!=null||w=="function"}function c(u,w,k){return u.call.apply(u.bind,arguments)}function d(u,w,k){return d=c,d.apply(null,arguments)}function h(u,w){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function f(u,w){function k(){}k.prototype=w.prototype,u.Z=w.prototype,u.prototype=new k,u.prototype.constructor=u,u.Ob=function(M,G,Y){for(var xe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)xe[Xe-2]=arguments[Xe];return w.prototype[G].apply(M,xe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function v(u){const w=u.length;if(w>0){const k=Array(w);for(let M=0;M<w;M++)k[M]=u[M];return k}return[]}function _(u,w){for(let M=1;M<arguments.length;M++){const G=arguments[M];var k=typeof G;if(k=k!="object"?k:G?Array.isArray(G)?"array":k:"null",k=="array"||k=="object"&&typeof G.length=="number"){k=u.length||0;const Y=G.length||0;u.length=k+Y;for(let xe=0;xe<Y;xe++)u[k+xe]=G[xe]}else u.push(G)}}class g{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(u){o.setTimeout(()=>{throw u},0)}function j(){var u=E;let w=null;return u.g&&(w=u.g,u.g=u.g.next,u.g||(u.h=null),w.next=null),w}class y{constructor(){this.h=this.g=null}add(w,k){const M=x.get();M.set(w,k),this.h?this.h.next=M:this.g=M,this.h=M}}var x=new g(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,E=new y,b=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(S)}};function S(){for(var u;u=j();){try{u.h.call(u.g)}catch(k){C(k)}var w=x;w.j(u),w.h<100&&(w.h++,u.next=w.g,w.g=u)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,w){this.type=u,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,w=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const k=()=>{};o.addEventListener("test",k,w),o.removeEventListener("test",k,w)}catch{}return u}();function A(u){return/^[\s\xa0]*$/.test(u)}function L(u,w){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,w)}f(L,N),L.prototype.init=function(u,w){const k=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=w,w=u.relatedTarget,w||(k=="mouseover"?w=u.fromElement:k=="mouseout"&&(w=u.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),V=0;function z(u,w,k,M,G){this.listener=u,this.proxy=null,this.src=w,this.type=k,this.capture=!!M,this.ha=G,this.key=++V,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function H(u,w,k){for(const M in u)w.call(k,u[M],M,u)}function X(u,w){for(const k in u)w.call(void 0,u[k],k,u)}function J(u){const w={};for(const k in u)w[k]=u[k];return w}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(u,w){let k,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(k in M)u[k]=M[k];for(let Y=0;Y<W.length;Y++)k=W[Y],Object.prototype.hasOwnProperty.call(M,k)&&(u[k]=M[k])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,w,k,M,G){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const xe=Le(u,w,M,G);return xe>-1?(w=u[xe],k||(w.fa=!1)):(w=new z(w,this.src,Y,!!M,G),w.fa=k,u.push(w)),w};function ut(u,w){const k=w.type;if(k in u.g){var M=u.g[k],G=Array.prototype.indexOf.call(M,w,void 0),Y;(Y=G>=0)&&Array.prototype.splice.call(M,G,1),Y&&(F(w),u.g[k].length==0&&(delete u.g[k],u.h--))}}function Le(u,w,k,M){for(let G=0;G<u.length;++G){const Y=u[G];if(!Y.da&&Y.listener==w&&Y.capture==!!k&&Y.ha==M)return G}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),ze={};function We(u,w,k,M,G){if(Array.isArray(w)){for(let Y=0;Y<w.length;Y++)We(u,w[Y],k,M,G);return null}return k=xs(k),u&&u[q]?u.J(w,k,l(M)?!!M.capture:!!M,G):K(u,w,k,!1,M,G)}function K(u,w,k,M,G,Y){if(!w)throw Error("Invalid event type");const xe=l(G)?!!G.capture:!!G;let Xe=vn(u);if(Xe||(u[Ce]=Xe=new fe(u)),k=Xe.add(w,k,M,xe,Y),k.proxy)return k;if(M=be(),k.proxy=M,M.src=u,M.listener=k,u.addEventListener)T||(G=xe),G===void 0&&(G=!1),u.addEventListener(w.toString(),M,G);else if(u.attachEvent)u.attachEvent(_t(w.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function be(){function u(k){return w.call(u.src,u.listener,k)}const w=jt;return u}function Ae(u,w,k,M,G){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)Ae(u,w[Y],k,M,G);else M=l(M)?!!M.capture:!!M,k=xs(k),u&&u[q]?(u=u.i,Y=String(w).toString(),Y in u.g&&(w=u.g[Y],k=Le(w,k,M,G),k>-1&&(F(w[k]),Array.prototype.splice.call(w,k,1),w.length==0&&(delete u.g[Y],u.h--)))):u&&(u=vn(u))&&(w=u.g[w.toString()],u=-1,w&&(u=Le(w,k,M,G)),(k=u>-1?w[u]:null)&&He(k))}function He(u){if(typeof u!="number"&&u&&!u.da){var w=u.src;if(w&&w[q])ut(w.i,u);else{var k=u.type,M=u.proxy;w.removeEventListener?w.removeEventListener(k,M,u.capture):w.detachEvent?w.detachEvent(_t(k),M):w.addListener&&w.removeListener&&w.removeListener(M),(k=vn(w))?(ut(k,u),k.h==0&&(k.src=null,w[Ce]=null)):F(u)}}}function _t(u){return u in ze?ze[u]:ze[u]="on"+u}function jt(u,w){if(u.da)u=!0;else{w=new L(w,this);const k=u.listener,M=u.ha||u.src;u.fa&&He(u),u=k.call(M,w)}return u}function vn(u){return u=u[Ce],u instanceof fe?u:null}var yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(u){return typeof u=="function"?u:(u[yn]||(u[yn]=function(w){return u.handleEvent(w)}),u[yn])}function bt(){R.call(this),this.i=new fe(this),this.M=this,this.G=null}f(bt,R),bt.prototype[q]=!0,bt.prototype.removeEventListener=function(u,w,k,M){Ae(this,u,w,k,M)};function dn(u,w){var k,M=u.G;if(M)for(k=[];M;M=M.G)k.push(M);if(u=u.M,M=w.type||w,typeof w=="string")w=new N(w,u);else if(w instanceof N)w.target=w.target||u;else{var G=w;w=new N(M,u),ge(w,G)}G=!0;let Y,xe;if(k)for(xe=k.length-1;xe>=0;xe--)Y=w.g=k[xe],G=ni(Y,M,!0,w)&&G;if(Y=w.g=u,G=ni(Y,M,!0,w)&&G,G=ni(Y,M,!1,w)&&G,k)for(xe=0;xe<k.length;xe++)Y=w.g=k[xe],G=ni(Y,M,!1,w)&&G}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const w in u.g){const k=u.g[w];for(let M=0;M<k.length;M++)F(k[M]);delete u.g[w],u.h--}}this.G=null},bt.prototype.J=function(u,w,k,M){return this.i.add(String(u),w,!1,k,M)},bt.prototype.K=function(u,w,k,M){return this.i.add(String(u),w,!0,k,M)};function ni(u,w,k,M){if(w=u.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let Y=0;Y<w.length;++Y){const xe=w[Y];if(xe&&!xe.da&&xe.capture==k){const Xe=xe.listener,Jt=xe.ha||xe.src;xe.fa&&ut(u.i,xe),G=Xe.call(Jt,M)!==!1&&G}}return G&&!M.defaultPrevented}function $(u,w){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:o.setTimeout(u,w||0)}function Q(u){u.g=$(()=>{u.g=null,u.i&&(u.i=!1,Q(u))},u.l);const w=u.h;u.h=null,u.m.apply(null,w)}class te extends R{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(u){R.call(this),this.h=u,this.g={}}f(we,R);var me=[];function ue(u){H(u.g,function(w,k){this.g.hasOwnProperty(k)&&He(w)},u),u.g={}}we.prototype.N=function(){we.Z.N.call(this),ue(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=o.JSON.stringify,Z=o.JSON.parse,De=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function St(){}function Tn(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fr(){N.call(this,"d")}f(Fr,N);function ed(){N.call(this,"c")}f(ed,N);var ri={},kh=null;function cl(){return kh=kh||new bt}ri.Ia="serverreachability";function sb(u){N.call(this,ri.Ia,u)}f(sb,N);function td(u){const w=cl();dn(w,new sb(w))}ri.STAT_EVENT="statevent";function ib(u,w){N.call(this,ri.STAT_EVENT,u),this.stat=w}f(ib,N);function Ln(u){const w=cl();dn(w,new ib(w,u))}ri.Ja="timingevent";function ab(u,w){N.call(this,ri.Ja,u),this.size=w}f(ab,N);function nd(u,w){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},w)}function rd(){this.g=!0}rd.prototype.ua=function(){this.g=!1};function zL(u,w,k,M,G,Y){u.info(function(){if(u.g)if(Y){var xe="",Xe=Y.split("&");for(let Nt=0;Nt<Xe.length;Nt++){var Jt=Xe[Nt].split("=");if(Jt.length>1){const un=Jt[0];Jt=Jt[1];const ys=un.split("_");xe=ys.length>=2&&ys[1]=="type"?xe+(un+"="+Jt+"&"):xe+(un+"=redacted&")}}}else xe=null;else xe=Y;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+w+`
`+k+`
`+xe})}function BL(u,w,k,M,G,Y,xe){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+w+`
`+k+`
`+Y+" "+xe})}function dl(u,w,k,M){u.info(function(){return"XMLHTTP TEXT ("+w+"): "+HL(u,k)+(M?" "+M:"")})}function WL(u,w){u.info(function(){return"TIMEOUT: "+w})}rd.prototype.info=function(){};function HL(u,w){if(!u.g)return w;if(!w)return null;try{const Y=JSON.parse(w);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var k=Y[u];if(!(k.length<2)){var M=k[1];if(Array.isArray(M)&&!(M.length<1)){var G=M[0];if(G!="noop"&&G!="stop"&&G!="close")for(let xe=1;xe<M.length;xe++)M[xe]=""}}}}return ke(Y)}catch{return w}}var sg={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qL={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ob;function ig(){}f(ig,St),ig.prototype.g=function(){return new XMLHttpRequest},ob=new ig;function sd(u){return encodeURIComponent(String(u))}function KL(u){var w=1;u=u.split(":");const k=[];for(;w>0&&u.length;)k.push(u.shift()),w--;return u.length&&k.push(u.join(":")),k}function Fi(u,w,k,M){this.j=u,this.i=w,this.l=k,this.S=M||1,this.V=new we(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lb}function lb(){this.i=null,this.g="",this.h=!1}var cb={},ag={};function og(u,w,k){u.M=1,u.A=Th(vs(w)),u.u=k,u.R=!0,db(u,null)}function db(u,w){u.F=Date.now(),Eh(u),u.B=vs(u.A);var k=u.B,M=u.S;Array.isArray(M)||(M=[String(M)]),Nb(k.i,"t",M),u.C=0,k=u.j.L,u.h=new lb,u.g=Vb(u.j,k?w:null,!u.u),u.P>0&&(u.O=new te(d(u.Y,u,u.g),u.P)),w=u.V,k=u.g,M=u.ba;var G="readystatechange";Array.isArray(G)||(G&&(me[0]=G.toString()),G=me);for(let Y=0;Y<G.length;Y++){const xe=We(k,G[Y],M||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=u.J?J(u.J):{},u.u?(u.v||(u.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,w)):(u.v="GET",u.g.ea(u.B,u.v,null,w)),td(),zL(u.i,u.v,u.B,u.l,u.S,u.u)}Fi.prototype.ba=function(u){u=u.target;const w=this.O;w&&Vi(u)==3?w.j():this.Y(u)},Fi.prototype.Y=function(u){try{if(u==this.g)e:{const Xe=Vi(this.g),Jt=this.g.ya(),Nt=this.g.ca();if(!(Xe<3)&&(Xe!=3||this.g&&(this.h.h||this.g.la()||Pb(this.g)))){this.K||Xe!=4||Jt==7||(Jt==8||Nt<=0?td(3):td(2)),lg(this);var w=this.g.ca();this.X=w;var k=GL(this);if(this.o=w==200,BL(this.i,this.v,this.B,this.l,this.S,Xe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,G=this.g;if((M=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(M)){var Y=M;break t}}Y=null}if(u=Y)dl(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cg(this,u);else{this.o=!1,this.m=3,Ln(12),Za(this),id(this);break e}}if(this.R){u=!0;let un;for(;!this.K&&this.C<k.length;)if(un=QL(this,k),un==ag){Xe==4&&(this.m=4,Ln(14),u=!1),dl(this.i,this.l,null,"[Incomplete Response]");break}else if(un==cb){this.m=4,Ln(15),dl(this.i,this.l,k,"[Invalid Chunk]"),u=!1;break}else dl(this.i,this.l,un,null),cg(this,un);if(ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||k.length!=0||this.h.h||(this.m=1,Ln(16),u=!1),this.o=this.o&&u,!u)dl(this.i,this.l,k,"[Invalid Chunked Response]"),Za(this),id(this);else if(k.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),xg(xe),xe.P=!0,Ln(11))}}else dl(this.i,this.l,k,null),cg(this,k);Xe==4&&Za(this),this.o&&!this.K&&(Xe==4?Lb(this.j,this):(this.o=!1,Eh(this)))}else cF(this.g),w==400&&k.indexOf("Unknown SID")>0?(this.m=3,Ln(12)):(this.m=0,Ln(13)),Za(this),id(this)}}}catch{}finally{}};function GL(u){if(!ub(u))return u.g.la();const w=Pb(u.g);if(w==="")return"";let k="";const M=w.length,G=Vi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Za(u),id(u),"";u.h.i=new o.TextDecoder}for(let Y=0;Y<M;Y++)u.h.h=!0,k+=u.h.i.decode(w[Y],{stream:!(G&&Y==M-1)});return w.length=0,u.h.g+=k,u.C=0,u.h.g}function ub(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function QL(u,w){var k=u.C,M=w.indexOf(`
`,k);return M==-1?ag:(k=Number(w.substring(k,M)),isNaN(k)?cb:(M+=1,M+k>w.length?ag:(w=w.slice(M,M+k),u.C=M+k,w)))}Fi.prototype.cancel=function(){this.K=!0,Za(this)};function Eh(u){u.T=Date.now()+u.H,hb(u,u.H)}function hb(u,w){if(u.D!=null)throw Error("WatchDog timer not null");u.D=nd(d(u.aa,u),w)}function lg(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Fi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(WL(this.i,this.B),this.M!=2&&(td(),Ln(17)),Za(this),this.m=2,id(this)):hb(this,this.T-u)};function id(u){u.j.I==0||u.K||Lb(u.j,u)}function Za(u){lg(u);var w=u.O;w&&typeof w.dispose=="function"&&w.dispose(),u.O=null,ue(u.V),u.g&&(w=u.g,u.g=null,w.abort(),w.dispose())}function cg(u,w){try{var k=u.j;if(k.I!=0&&(k.g==u||dg(k.h,u))){if(!u.L&&dg(k.h,u)&&k.I==3){try{var M=k.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<u.F)Dh(k),Ih(k);else break e;gg(k),Ln(18)}}else k.xa=G[1],0<k.xa-k.K&&G[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=nd(d(k.Va,k),6e3));pb(k.h)<=1&&k.ta&&(k.ta=void 0)}else eo(k,11)}else if((u.L||k.g==u)&&Dh(k),!A(w))for(G=k.Ba.g.parse(w),w=0;w<G.length;w++){let Nt=G[w];const un=Nt[0];if(!(un<=k.K))if(k.K=un,Nt=Nt[1],k.I==2)if(Nt[0]=="c"){k.M=Nt[1],k.ba=Nt[2];const ys=Nt[3];ys!=null&&(k.ka=ys,k.j.info("VER="+k.ka));const to=Nt[4];to!=null&&(k.za=to,k.j.info("SVER="+k.za));const zi=Nt[5];zi!=null&&typeof zi=="number"&&zi>0&&(M=1.5*zi,k.O=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const Bi=u.g;if(Bi){const Mh=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mh){var Y=M.h;Y.g||Mh.indexOf("spdy")==-1&&Mh.indexOf("quic")==-1&&Mh.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ug(Y,Y.h),Y.h=null))}if(M.G){const vg=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;vg&&(M.wa=vg,At(M.J,M.G,vg))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-u.F,k.j.info("Handshake RTT: "+k.T+"ms")),M=k;var xe=u;if(M.na=Ub(M,M.L?M.ba:null,M.W),xe.L){gb(M.h,xe);var Xe=xe,Jt=M.O;Jt&&(Xe.H=Jt),Xe.D&&(lg(Xe),Eh(Xe)),M.g=xe}else Mb(M);k.i.length>0&&Rh(k)}else Nt[0]!="stop"&&Nt[0]!="close"||eo(k,7);else k.I==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?eo(k,7):pg(k):Nt[0]!="noop"&&k.l&&k.l.qa(Nt),k.A=0)}}td(4)}catch{}}var YL=class{constructor(u,w){this.g=u,this.map=w}};function fb(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mb(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pb(u){return u.h?1:u.g?u.g.size:0}function dg(u,w){return u.h?u.h==w:u.g?u.g.has(w):!1}function ug(u,w){u.g?u.g.add(w):u.h=w}function gb(u,w){u.h&&u.h==w?u.h=null:u.g&&u.g.has(w)&&u.g.delete(w)}fb.prototype.cancel=function(){if(this.i=xb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xb(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let w=u.i;for(const k of u.g.values())w=w.concat(k.G);return w}return v(u.i)}var vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XL(u,w){if(u){u=u.split("&");for(let k=0;k<u.length;k++){const M=u[k].indexOf("=");let G,Y=null;M>=0?(G=u[k].substring(0,M),Y=u[k].substring(M+1)):G=u[k],w(G,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function $i(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;u instanceof $i?(this.l=u.l,ad(this,u.j),this.o=u.o,this.g=u.g,od(this,u.u),this.h=u.h,hg(this,_b(u.i)),this.m=u.m):u&&(w=String(u).match(vb))?(this.l=!1,ad(this,w[1]||"",!0),this.o=ld(w[2]||""),this.g=ld(w[3]||"",!0),od(this,w[4]),this.h=ld(w[5]||"",!0),hg(this,w[6]||"",!0),this.m=ld(w[7]||"")):(this.l=!1,this.i=new dd(null,this.l))}$i.prototype.toString=function(){const u=[];var w=this.j;w&&u.push(cd(w,yb,!0),":");var k=this.g;return(k||w=="file")&&(u.push("//"),(w=this.o)&&u.push(cd(w,yb,!0),"@"),u.push(sd(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&u.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&u.push("/"),u.push(cd(k,k.charAt(0)=="/"?eF:JL,!0))),(k=this.i.toString())&&u.push("?",k),(k=this.m)&&u.push("#",cd(k,nF)),u.join("")},$i.prototype.resolve=function(u){const w=vs(this);let k=!!u.j;k?ad(w,u.j):k=!!u.o,k?w.o=u.o:k=!!u.g,k?w.g=u.g:k=u.u!=null;var M=u.h;if(k)od(w,u.u);else if(k=!!u.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var G=w.h.lastIndexOf("/");G!=-1&&(M=w.h.slice(0,G+1)+M)}if(G=M,G==".."||G==".")M="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){M=G.lastIndexOf("/",0)==0,G=G.split("/");const Y=[];for(let xe=0;xe<G.length;){const Xe=G[xe++];Xe=="."?M&&xe==G.length&&Y.push(""):Xe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),M&&xe==G.length&&Y.push("")):(Y.push(Xe),M=!0)}M=Y.join("/")}else M=G}return k?w.h=M:k=u.i.toString()!=="",k?hg(w,_b(u.i)):k=!!u.m,k&&(w.m=u.m),w};function vs(u){return new $i(u)}function ad(u,w,k){u.j=k?ld(w,!0):w,u.j&&(u.j=u.j.replace(/:$/,""))}function od(u,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);u.u=w}else u.u=null}function hg(u,w,k){w instanceof dd?(u.i=w,rF(u.i,u.l)):(k||(w=cd(w,tF)),u.i=new dd(w,u.l))}function At(u,w,k){u.i.set(w,k)}function Th(u){return At(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ld(u,w){return u?w?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cd(u,w,k){return typeof u=="string"?(u=encodeURI(u).replace(w,ZL),k&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ZL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yb=/[#\/\?@]/g,JL=/[#\?:]/g,eF=/[#\?]/g,tF=/[#\?@]/g,nF=/#/g;function dd(u,w){this.h=this.g=null,this.i=u||null,this.j=!!w}function Ja(u){u.g||(u.g=new Map,u.h=0,u.i&&XL(u.i,function(w,k){u.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=dd.prototype,t.add=function(u,w){Ja(this),this.i=null,u=ul(this,u);let k=this.g.get(u);return k||this.g.set(u,k=[]),k.push(w),this.h+=1,this};function wb(u,w){Ja(u),w=ul(u,w),u.g.has(w)&&(u.i=null,u.h-=u.g.get(w).length,u.g.delete(w))}function jb(u,w){return Ja(u),w=ul(u,w),u.g.has(w)}t.forEach=function(u,w){Ja(this),this.g.forEach(function(k,M){k.forEach(function(G){u.call(w,G,M,this)},this)},this)};function bb(u,w){Ja(u);let k=[];if(typeof w=="string")jb(u,w)&&(k=k.concat(u.g.get(ul(u,w))));else for(u=Array.from(u.g.values()),w=0;w<u.length;w++)k=k.concat(u[w]);return k}t.set=function(u,w){return Ja(this),this.i=null,u=ul(this,u),jb(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[w]),this.h+=1,this},t.get=function(u,w){return u?(u=bb(this,u),u.length>0?String(u[0]):w):w};function Nb(u,w,k){wb(u,w),k.length>0&&(u.i=null,u.g.set(ul(u,w),v(k)),u.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var k=w[M];const G=sd(k);k=bb(this,k);for(let Y=0;Y<k.length;Y++){let xe=G;k[Y]!==""&&(xe+="="+sd(k[Y])),u.push(xe)}}return this.i=u.join("&")};function _b(u){const w=new dd;return w.i=u.i,u.g&&(w.g=new Map(u.g),w.h=u.h),w}function ul(u,w){return w=String(w),u.j&&(w=w.toLowerCase()),w}function rF(u,w){w&&!u.j&&(Ja(u),u.i=null,u.g.forEach(function(k,M){const G=M.toLowerCase();M!=G&&(wb(this,M),Nb(this,G,k))},u)),u.j=w}function sF(u,w){const k=new rd;if(o.Image){const M=new Image;M.onload=h(Ui,k,"TestLoadImage: loaded",!0,w,M),M.onerror=h(Ui,k,"TestLoadImage: error",!1,w,M),M.onabort=h(Ui,k,"TestLoadImage: abort",!1,w,M),M.ontimeout=h(Ui,k,"TestLoadImage: timeout",!1,w,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else w(!1)}function iF(u,w){const k=new rd,M=new AbortController,G=setTimeout(()=>{M.abort(),Ui(k,"TestPingServer: timeout",!1,w)},1e4);fetch(u,{signal:M.signal}).then(Y=>{clearTimeout(G),Y.ok?Ui(k,"TestPingServer: ok",!0,w):Ui(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Ui(k,"TestPingServer: error",!1,w)})}function Ui(u,w,k,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(k)}catch{}}function aF(){this.g=new De}function fg(u){this.i=u.Sb||null,this.h=u.ab||!1}f(fg,St),fg.prototype.g=function(){return new Ph(this.i,this.h)};function Ph(u,w){bt.call(this),this.H=u,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ph,bt),t=Ph.prototype,t.open=function(u,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=w,this.readyState=1,hd(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(w.body=u),(this.H||o).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ud(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sb(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sb(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var w=u.value?u.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!u.done}))&&(this.response=this.responseText+=w)}u.done?ud(this):hd(this),this.readyState==3&&Sb(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ud(this))},t.Na=function(u){this.g&&(this.response=u,ud(this))},t.ga=function(){this.g&&ud(this)};function ud(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hd(u)}t.setRequestHeader=function(u,w){this.A.append(u,w)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,u.push(k[0]+": "+k[1]),k=w.next();return u.join(`\r
`)};function hd(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cb(u){let w="";return H(u,function(k,M){w+=M,w+=":",w+=k,w+=`\r
`}),w}function mg(u,w,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=Cb(k),typeof u=="string"?k!=null&&sd(k):At(u,w,k))}function Wt(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Wt,bt);var oF=/^https?$/i,lF=["POST","PUT"];t=Wt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,w,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);w=w?w.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ob.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(u),!0),this.B=!1}catch(Y){kb(this,Y);return}if(u=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)k.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())k.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(lF,w,void 0)>=0)||M||G||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,xe]of k)this.g.setRequestHeader(Y,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){kb(this,Y)}};function kb(u,w){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=w,u.o=5,Eb(u),Ah(u)}function Eb(u){u.A||(u.A=!0,dn(u,"complete"),dn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,dn(this,"complete"),dn(this,"abort"),Ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ah(this,!0)),Wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Tb(this):this.Xa())},t.Xa=function(){Tb(this)};function Tb(u){if(u.h&&typeof a<"u"){if(u.v&&Vi(u)==4)setTimeout(u.Ca.bind(u),0);else if(dn(u,"readystatechange"),Vi(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var M;if(M=Y===0){let xe=String(u.D).match(vb)[1]||null;!xe&&o.self&&o.self.location&&(xe=o.self.location.protocol.slice(0,-1)),M=!oF.test(xe?xe.toLowerCase():"")}k=M}if(k)dn(u,"complete"),dn(u,"success");else{u.o=6;try{var G=Vi(u)>2?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.ca()+"]",Eb(u)}}finally{Ah(u)}}}}function Ah(u,w){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const k=u.g;u.g=null,w||dn(u,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vi(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var w=this.g.responseText;return u&&w.indexOf(u)==0&&(w=w.substring(u.length)),Z(w)}};function Pb(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function cF(u){const w={};u=(u.g&&Vi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(A(u[M]))continue;var k=KL(u[M]);const G=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Y=w[G]||[];w[G]=Y,Y.push(k)}X(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fd(u,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[u]||w}function Ab(u){this.za=0,this.i=[],this.j=new rd,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fd("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fd("baseRetryDelayMs",5e3,u),this.Za=fd("retryDelaySeedMs",1e4,u),this.Ta=fd("forwardChannelMaxRetries",2,u),this.va=fd("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fb(u&&u.concurrentRequestLimit),this.Ba=new aF,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ab.prototype,t.ka=8,t.I=1,t.connect=function(u,w,k,M){Ln(0),this.W=u,this.H=w||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.J=Ub(this,null,this.W),Rh(this)};function pg(u){if(Ib(u),u.I==3){var w=u.V++,k=vs(u.J);if(At(k,"SID",u.M),At(k,"RID",w),At(k,"TYPE","terminate"),md(u,k),w=new Fi(u,u.j,w),w.M=2,w.A=Th(vs(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(w.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=w.A,k=!0),k||(w.g=Vb(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Eh(w)}$b(u)}function Ih(u){u.g&&(xg(u),u.g.cancel(),u.g=null)}function Ib(u){Ih(u),u.v&&(o.clearTimeout(u.v),u.v=null),Dh(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Rh(u){if(!mb(u.h)&&!u.m){u.m=!0;var w=u.Ea;D||b(),O||(D(),O=!0),E.add(w,u),u.D=0}}function dF(u,w){return pb(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=w.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=nd(d(u.Ea,u,w),Fb(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const G=new Fi(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=J(Y),ge(Y,this.U)):Y=this.U),this.u!==null||this.R||(G.J=Y,Y=null),this.S)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=Db(this,G,w),k=vs(this.J),At(k,"RID",u),At(k,"CVER",22),this.G&&At(k,"X-HTTP-Session-Id",this.G),md(this,k),Y&&(this.R?w="headers="+sd(Cb(Y))+"&"+w:this.u&&mg(k,this.u,Y)),ug(this.h,G),this.Ra&&At(k,"TYPE","init"),this.S?(At(k,"$req",w),At(k,"SID","null"),G.U=!0,og(G,k,null)):og(G,k,w),this.I=2}}else this.I==3&&(u?Rb(this,u):this.i.length==0||mb(this.h)||Rb(this))};function Rb(u,w){var k;w?k=w.l:k=u.V++;const M=vs(u.J);At(M,"SID",u.M),At(M,"RID",k),At(M,"AID",u.K),md(u,M),u.u&&u.o&&mg(M,u.u,u.o),k=new Fi(u,u.j,k,u.D+1),u.u===null&&(k.J=u.o),w&&(u.i=w.G.concat(u.i)),w=Db(u,k,1e3),k.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ug(u.h,k),og(k,M,w)}function md(u,w){u.H&&H(u.H,function(k,M){At(w,M,k)}),u.l&&H({},function(k,M){At(w,M,k)})}function Db(u,w,k){k=Math.min(u.i.length,k);const M=u.l?d(u.l.Ka,u.l,u):null;e:{var G=u.i;let Xe=-1;for(;;){const Jt=["count="+k];Xe==-1?k>0?(Xe=G[0].g,Jt.push("ofs="+Xe)):Xe=0:Jt.push("ofs="+Xe);let Nt=!0;for(let un=0;un<k;un++){var Y=G[un].g;const ys=G[un].map;if(Y-=Xe,Y<0)Xe=Math.max(0,G[un].g-100),Nt=!1;else try{Y="req"+Y+"_"||"";try{var xe=ys instanceof Map?ys:Object.entries(ys);for(const[to,zi]of xe){let Bi=zi;l(zi)&&(Bi=ke(zi)),Jt.push(Y+to+"="+encodeURIComponent(Bi))}}catch(to){throw Jt.push(Y+"type="+encodeURIComponent("_badmap")),to}}catch{M&&M(ys)}}if(Nt){xe=Jt.join("&");break e}}xe=void 0}return u=u.i.splice(0,k),w.G=u,xe}function Mb(u){if(!u.g&&!u.v){u.Y=1;var w=u.Da;D||b(),O||(D(),O=!0),E.add(w,u),u.A=0}}function gg(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=nd(d(u.Da,u),Fb(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Ob(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=nd(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ln(10),Ih(this),Ob(this))};function xg(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Ob(u){u.g=new Fi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var w=vs(u.na);At(w,"RID","rpc"),At(w,"SID",u.M),At(w,"AID",u.K),At(w,"CI",u.F?"0":"1"),!u.F&&u.ia&&At(w,"TO",u.ia),At(w,"TYPE","xmlhttp"),md(u,w),u.u&&u.o&&mg(w,u.u,u.o),u.O&&(u.g.H=u.O);var k=u.g;u=u.ba,k.M=1,k.A=Th(vs(w)),k.u=null,k.R=!0,db(k,u)}t.Va=function(){this.C!=null&&(this.C=null,Ih(this),gg(this),Ln(19))};function Dh(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Lb(u,w){var k=null;if(u.g==w){Dh(u),xg(u),u.g=null;var M=2}else if(dg(u.h,w))k=w.G,gb(u.h,w),M=1;else return;if(u.I!=0){if(w.o)if(M==1){k=w.u?w.u.length:0,w=Date.now()-w.F;var G=u.D;M=cl(),dn(M,new ab(M,k)),Rh(u)}else Mb(u);else if(G=w.m,G==3||G==0&&w.X>0||!(M==1&&dF(u,w)||M==2&&gg(u)))switch(k&&k.length>0&&(w=u.h,w.i=w.i.concat(k)),G){case 1:eo(u,5);break;case 4:eo(u,10);break;case 3:eo(u,6);break;default:eo(u,2)}}}function Fb(u,w){let k=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(k*=2),k*w}function eo(u,w){if(u.j.info("Error code "+w),w==2){var k=d(u.bb,u),M=u.Ua;const G=!M;M=new $i(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ad(M,"https"),Th(M),G?sF(M.toString(),k):iF(M.toString(),k)}else Ln(2);u.I=0,u.l&&u.l.pa(w),$b(u),Ib(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ln(2)):(this.j.info("Failed to ping google.com"),Ln(1))};function $b(u){if(u.I=0,u.ja=[],u.l){const w=xb(u.h);(w.length!=0||u.i.length!=0)&&(_(u.ja,w),_(u.ja,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.oa()}}function Ub(u,w,k){var M=k instanceof $i?vs(k):new $i(k);if(M.g!="")w&&(M.g=w+"."+M.g),od(M,M.u);else{var G=o.location;M=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const Y=new $i(null);M&&ad(Y,M),w&&(Y.g=w),G&&od(Y,G),k&&(Y.h=k),M=Y}return k=u.G,w=u.wa,k&&w&&At(M,k,w),At(M,"VER",u.ka),md(u,M),M}function Vb(u,w,k){if(w&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=u.Aa&&!u.ma?new Wt(new fg({ab:k})):new Wt(u.ma),w.Fa(u.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zb(){}t=zb.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Sr(u,w){bt.call(this),this.g=new Ab(w),this.l=u,this.h=w&&w.messageUrlParams||null,u=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(u?u["X-WebChannel-Content-Type"]=w.messageContentType:u={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(u?u["X-WebChannel-Client-Profile"]=w.sa:u={"X-WebChannel-Client-Profile":w.sa}),this.g.U=u,(u=w&&w.Qb)&&!A(u)&&(this.g.u=u),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!A(w)&&(this.g.G=w,u=this.h,u!==null&&w in u&&(u=this.h,w in u&&delete u[w])),this.j=new hl(this)}f(Sr,bt),Sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){pg(this.g)},Sr.prototype.o=function(u){var w=this.g;if(typeof u=="string"){var k={};k.__data__=u,u=k}else this.v&&(k={},k.__data__=ke(u),u=k);w.i.push(new YL(w.Ya++,u)),w.I==3&&Rh(w)},Sr.prototype.N=function(){this.g.l=null,delete this.j,pg(this.g),delete this.g,Sr.Z.N.call(this)};function Bb(u){Fr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var w=u.__sm__;if(w){e:{for(const k in w){u=k;break e}u=void 0}(this.i=u)&&(u=this.i,w=w!==null&&u in w?w[u]:void 0),this.data=w}else this.data=u}f(Bb,Fr);function Wb(){ed.call(this),this.status=1}f(Wb,ed);function hl(u){this.g=u}f(hl,zb),hl.prototype.ra=function(){dn(this.g,"a")},hl.prototype.qa=function(u){dn(this.g,new Bb(u))},hl.prototype.pa=function(u){dn(this.g,new Wb)},hl.prototype.oa=function(){dn(this.g,"b")},Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,sg.NO_ERROR=0,sg.TIMEOUT=8,sg.HTTP_ERROR=6,qL.COMPLETE="complete",Tn.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const y1="@firebase/firestore",w1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Qw("@firebase/firestore");function Xr(t,...e){if(Ec.logLevel<=pt.DEBUG){const n=e.map(cj);Ec.debug(`Firestore (${uh}): ${t}`,...n)}}function CI(t,...e){if(Ec.logLevel<=pt.ERROR){const n=e.map(cj);Ec.error(`Firestore (${uh}): ${t}`,...n)}}function EB(t,...e){if(Ec.logLevel<=pt.WARN){const n=e.map(cj);Ec.warn(`Firestore (${uh}): ${t}`,...n)}}function cj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kI(t,r,n)}function kI(t,e,n){let r=`FIRESTORE (${uh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw CI(r),new Error(r)}function Jd(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kI(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class PB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AB{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Jd(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new eu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new eu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Xr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Xr("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new eu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jd(typeof r.accessToken=="string",31837,{l:r}),new EI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jd(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class IB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new IB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Jd(this.o===void 0,3512);const r=a=>{a.error!=null&&Xr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Xr("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Xr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Xr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jd(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function La(t,e){return t<e?-1:t>e?1:0}function LB(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return lx(i)===lx(a)?La(i,a):lx(i)?1:-1}return La(t.length,e.length)}const FB=55296,$B=57343;function lx(t){const e=t.charCodeAt(0);return e>=FB&&e<=$B}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__name__";class bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Tu(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Tu(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=bs.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return La(e.length,n.length)}static compareSegments(e,n){const r=bs.isNumericId(e),i=bs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bs.extractNumericId(e).compare(bs.extractNumericId(n)):LB(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lj.fromString(e.substring(4,e.length-2))}}class qr extends bs{construct(e,n,r){return new qr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qr(n)}static emptyPath(){return new qr([])}}const UB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class uo extends bs{construct(e,n,r){return new uo(e,n,r)}static isValidIdentifier(e){return UB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b1}static keyField(){return new uo([b1])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ct(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ct(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ct(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new ct(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new uo(n)}static emptyPath(){return new uo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.path=e}static fromPath(e){return new xo(qr.fromString(e))}static fromName(e){return new xo(qr.fromString(e).popFirst(5))}static empty(){return new xo(qr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xo(new qr(e.slice()))}}function VB(t,e,n,r){if(e===!0&&r===!0)throw new ct(lt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zB(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function BB(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Tu(12329,{type:typeof t})}function WB(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BB(t);throw new ct(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function hh(t,e){if(!zB(t))throw new ct(lt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ct(lt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=-62135596800,_1=1e6;class ks{static now(){return ks.fromMillis(Date.now())}static fromDate(e){return ks.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_1);return new ks(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N1)throw new ct(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_1}_compareTo(e){return this.seconds===e.seconds?La(this.nanoseconds,e.nanoseconds):La(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ks._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,ks._jsonSchema))return new ks(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ks._jsonSchemaVersion="firestore/timestamp/1.0",ks._jsonSchema={type:Xt("string",ks._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};function HB(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qB("Invalid base64 string: "+a):a}}(e);return new zo(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new zo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return La(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zo.EMPTY_BYTE_STRING=new zo("");const sy="(default)";class Pm{constructor(e,n){this.projectId=e,this.database=n||sy}static empty(){return new Pm("","")}get isDefaultDatabase(){return this.database===sy}isEqual(e){return e instanceof Pm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GB(t){return new KB(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S1,at;(at=S1||(S1={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new lj([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=1048576;function cx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Xr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new dj(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var C1,k1;(k1=C1||(C1={})).Ma="default",k1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firestore.googleapis.com",T1=!0;class P1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TI,this.ssl=T1}else this.host=e.host,this.ssl=e.ssl??T1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YB)throw new ct(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZB(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class PI{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TB;switch(r.type){case"firstParty":return new RB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=E1.get(n);r&&(Xr("ComponentProvider","Removing Datastore"),E1.delete(n),r.terminate())}(this),Promise.resolve()}}function JB(t,e,n,r={}){var d;t=WB(t,PI);const i=Gc(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Kw(`https://${l}`),Gw("Firestore",!0)),a.host!==TI&&a.host!==l&&EB("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Uo(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zn.MOCK_USER;else{h=OA(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ct(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zn(m)}t._authCredentials=new PB(new EI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uj(this.firestore,e,this._query)}}class Rs{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hj(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rs(this.firestore,e,this._key)}toJSON(){return{type:Rs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hh(n,Rs._jsonSchema))return new Rs(e,r||null,new xo(qr.fromString(n.referencePath)))}}Rs._jsonSchemaVersion="firestore/documentReference/1.0",Rs._jsonSchema={type:Xt("string",Rs._jsonSchemaVersion),referencePath:Xt("string")};class hj extends uj{constructor(e,n,r){super(e,n,GB(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rs(this.firestore,null,new xo(e))}withConverter(e){return new hj(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="AsyncQueue";class I1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XB(this,"async_queue_retry"),this._c=()=>{const r=cx();r&&Xr(A1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new eu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!HB(e))throw e;Xr(A1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,CI("INTERNAL UNHANDLED ERROR: ",R1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=dj.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Tu(47125,{Pc:R1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function R1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class eW extends PI{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new I1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I1(e),this._firestoreClient=void 0,await e}}}function tW(t,e){const n=typeof t=="object"?t:Xw(),r=typeof t=="string"?t:sy,i=Tp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=RA("firestore");a&&JB(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(zo.fromBase64String(e))}catch(n){throw new ct(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi(zo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Xt("string",mi._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ct(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return La(this._lat,e._lat)||La(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Eo._jsonSchemaVersion}}static fromJSON(e){if(hh(e,Eo._jsonSchema))return new Eo(e.latitude,e.longitude)}}Eo._jsonSchemaVersion="firestore/geoPoint/1.0",Eo._jsonSchema={type:Xt("string",Eo._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:To._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,To._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new To(e.vectorValues);throw new ct(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}To._jsonSchemaVersion="firestore/vectorValue/1.0",To._jsonSchema={type:Xt("string",To._jsonSchemaVersion),vectorValues:Xt("object")};const nW=new RegExp("[~\\*/\\[\\]]");function rW(t,e,n){if(e.search(nW)>=0)throw D1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new AI(...e.split("."))._internalPath}catch{throw D1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function D1(t,e,n,r,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new ct(lt.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sW extends II{data(){return super.data()}}function RI(t,e){return typeof e=="string"?rW(t,e):e instanceof AI?e._internalPath:e._delegate._internalPath}class df{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends II{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(RI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ql._jsonSchema={type:Xt("string",Ql._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Of extends Ql{data(e={}){return super.data(e)}}class tu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new df(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Of(this._firestore,this._userDataWriter,r.key,r,new df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Of(i._firestore,i._userDataWriter,l.doc.key,l.doc,new df(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Of(i._firestore,i._userDataWriter,l.doc.key,l.doc,new df(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:iW(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=OB.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tu(61501,{type:t})}}tu._jsonSchemaVersion="firestore/querySnapshot/1.0",tu._jsonSchema={type:Xt("string",tu._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};(function(e,n=!0){(function(i){uh=i})(tl),Vo(new Oa("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new eW(new AB(r.getProvider("auth-internal")),new DB(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ct(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pm(d.options.projectId,h)}(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Vs(y1,w1,e),Vs(y1,w1,"esm2020")})();const aW={apiKey:"AIzaSyAq_pNPbTOSvA1X6K2jOCsiVUQyVdqcqBA",authDomain:"icona-e7769.firebaseapp.com",projectId:"icona-e7769",storageBucket:"icona-e7769.firebasestorage.app",appId:"1:167886286942:web:f13314bc30af1005e384cf"},fj=$A(aW),nl=Xz(fj);_B(fj);tW(fj);const Rp=new fi,Dp=new Zd("apple.com");Rp.addScope("email");Rp.addScope("profile");Dp.addScope("email");Dp.addScope("name");const oW=async()=>{try{return await xI(nl,Rp)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await lW();throw t}},lW=()=>wI(nl,Rp),cW=()=>fz(nl),dW=()=>V7(nl),uW=async()=>{try{return await xI(nl,Dp)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await hW();throw t}},hW=()=>wI(nl,Dp),fW=t=>U7(nl,t),ie=Symbol.for("drizzle:entityKind");function bn(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ie))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(ie in n&&n[ie]===e[ie])return!0;n=Object.getPrototypeOf(n)}return!1}var V_;V_=ie;class Tc{constructor(e,n){B(this,"name");B(this,"keyAsName");B(this,"primary");B(this,"notNull");B(this,"default");B(this,"defaultFn");B(this,"onUpdateFn");B(this,"hasDefault");B(this,"isUnique");B(this,"uniqueName");B(this,"uniqueType");B(this,"dataType");B(this,"columnType");B(this,"enumValues");B(this,"generated");B(this,"generatedIdentity");B(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}B(Tc,V_,"Column");var z_;z_=ie;class DI{constructor(e,n,r){B(this,"config");B(this,"$default",this.$defaultFn);B(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}B(DI,z_,"ColumnBuilder");const Yl=Symbol.for("drizzle:Name");var B_;B_=ie;class MI{constructor(e,n){B(this,"reference");B(this,"_onUpdate","no action");B(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new OI(e,this)}}B(MI,B_,"PgForeignKeyBuilder");var W_;W_=ie;class OI{constructor(e,n){B(this,"reference");B(this,"onUpdate");B(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[Yl],...i,r[0].table[Yl],...a];return e??`${o.join("_")}_fk`}}B(OI,W_,"PgForeignKey");function mW(t,...e){return t(...e)}function pW(t,e){return`${t[Yl]}_${e.join("_")}_unique`}function M1(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function LI(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,d]=M1(t,r+1,!0);n.push(c),r=d;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,d]=LI(t,r+1);n.push(c),r=d;continue}const[o,l]=M1(t,r,!1);n.push(o),r=l}return[n,r]}function gW(t){const[e]=LI(t,1);return e}function FI(t){return`{${t.map(e=>Array.isArray(e)?FI(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var H_,q_;class dt extends(q_=DI,H_=ie,q_){constructor(){super(...arguments);B(this,"foreignKeyConfigs",[])}array(n){return new UI(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>mW((o,l)=>{const c=new MI(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new $I(n,this.config)}}B(dt,H_,"PgColumnBuilder");var K_,G_;class Qe extends(G_=Tc,K_=ie,G_){constructor(e,n){n.uniqueName||(n.uniqueName=pW(e,[n.name])),super(e,n),this.table=e}}B(Qe,K_,"PgColumn");var Q_,Y_;class $I extends(Y_=Qe,Q_=ie,Y_){constructor(){super(...arguments);B(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});B(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}B($I,Q_,"ExtraConfigColumn");var X_,Z_;class UI extends(Z_=dt,X_=ie,Z_){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new iy(e,this.config,n)}}B(UI,X_,"PgArrayBuilder");var J_,eS;const Jm=class Jm extends(eS=Qe,J_=ie,eS){constructor(n,r,i,a){super(n,r);B(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=gW(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:bn(this.baseColumn,Jm)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:FI(i)}};B(Jm,J_,"PgArray");let iy=Jm;const O1=Symbol.for("drizzle:isPgEnum");function xW(t){return!!t&&typeof t=="function"&&O1 in t&&t[O1]===!0}var tS;tS=ie;class mj{constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}B(mj,tS,"Subquery");const vW={startActiveSpan(t,e){return e()}},Xl=Symbol.for("drizzle:ViewBaseConfig"),dx=Symbol.for("drizzle:Schema"),L1=Symbol.for("drizzle:Columns"),F1=Symbol.for("drizzle:ExtraConfigColumns"),ux=Symbol.for("drizzle:OriginalName"),hx=Symbol.for("drizzle:BaseName"),Am=Symbol.for("drizzle:IsAlias"),$1=Symbol.for("drizzle:ExtraConfigBuilder"),VI=Symbol.for("drizzle:IsDrizzleTable");var nS,rS,sS,iS,aS,oS,lS,cS,dS,uS,pf;let fr=(uS=ie,dS=Yl,cS=ux,lS=dx,oS=L1,aS=F1,iS=hx,sS=Am,rS=VI,nS=$1,pf=class{constructor(e,n,r){B(this,dS);B(this,cS);B(this,lS);B(this,oS);B(this,aS);B(this,iS);B(this,sS,!1);B(this,rS,!0);B(this,nS);this[Yl]=this[ux]=e,this[dx]=n,this[hx]=r}},B(pf,uS,"Table"),B(pf,"Symbol",{Name:Yl,Schema:dx,OriginalName:ux,Columns:L1,ExtraConfigColumns:F1,BaseName:hx,IsAlias:Am,ExtraConfigBuilder:$1}),pf);function zI(t){return typeof t=="object"&&t!==null&&VI in t}function yW(t){return t!=null&&typeof t.getSQL=="function"}function wW(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var hS;hS=ie;class Er{constructor(e){B(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new ln([this])}}B(Er,hS,"StringChunk");var fS;fS=ie;const ho=class ho{constructor(e){B(this,"decoder",BI);B(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return vW.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return wW(e.map(h=>{var f;if(bn(h,Er))return{sql:h.value.join(""),params:[]};if(bn(h,Im))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const m=[new Er("(")];for(const[v,_]of h.entries())m.push(_),v<h.length-1&&m.push(new Er(", "));return m.push(new Er(")")),this.buildQueryFromSourceParams(m,r)}if(bn(h,ho))return this.buildQueryFromSourceParams(h.queryChunks,{...r,inlineParams:c||h.shouldInlineParams});if(bn(h,fr)){const m=h[fr.Symbol.Schema],v=h[fr.Symbol.Name];return{sql:m===void 0||h[Am]?a(v):a(m)+"."+a(v),params:[]}}if(bn(h,Tc)){const m=i.getColumnCasing(h);if(n.invokeSource==="indexes")return{sql:a(m),params:[]};const v=h.table[fr.Symbol.Schema];return{sql:h.table[Am]||v===void 0?a(h.table[fr.Symbol.Name])+"."+a(m):a(v)+"."+a(h.table[fr.Symbol.Name])+"."+a(m),params:[]}}if(bn(h,qI)){const m=h[Xl].schema,v=h[Xl].name;return{sql:m===void 0||h[Xl].isAlias?a(v):a(m)+"."+a(v),params:[]}}if(bn(h,pj)){if(bn(h.value,Rm))return{sql:o(d.value++,h),params:[h],typings:["none"]};const m=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(bn(m,ho))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let v=["none"];return l&&(v=[l(h.encoder)]),{sql:o(d.value++,m),params:[m],typings:v}}return bn(h,Rm)?{sql:o(d.value++,h),params:[h],typings:["none"]}:bn(h,ho.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:bn(h,mj)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new Er("("),h._.sql,new Er(") "),new Im(h._.alias)],r):xW(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:yW(h)?(f=h.shouldOmitSQLParens)!=null&&f.call(h)?this.buildQueryFromSourceParams([h.getSQL()],r):this.buildQueryFromSourceParams([new Er("("),h.getSQL(),new Er(")")],r):c?{sql:this.mapInlineParam(h,r),params:[]}:{sql:o(d.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new ho.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};B(ho,fS,"SQL");let ln=ho;var mS;mS=ie;class Im{constructor(e){B(this,"brand");this.value=e}getSQL(){return new ln([this])}}B(Im,mS,"Name");const BI={mapFromDriverValue:t=>t},WI={mapToDriverValue:t=>t};({...BI,...WI});var pS;pS=ie;class pj{constructor(e,n=WI){B(this,"brand");this.value=e,this.encoder=n}getSQL(){return new ln([this])}}B(pj,pS,"Param");function hs(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new Er(t[0]));for(const[r,i]of e.entries())n.push(i,new Er(t[r+1]));return new ln(n)}(t=>{function e(){return new ln([])}t.empty=e;function n(c){return new ln(c)}t.fromList=n;function r(c){return new ln([new Er(c)])}t.raw=r;function i(c,d){const h=[];for(const[f,m]of c.entries())f>0&&d!==void 0&&h.push(d),h.push(m);return new ln(h)}t.join=i;function a(c){return new Im(c)}t.identifier=a;function o(c){return new Rm(c)}t.placeholder=o;function l(c,d){return new pj(c,d)}t.param=l})(hs||(hs={}));(t=>{var n;n=ie;const r=class r{constructor(a,o){B(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};B(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(ln||(ln={}));var gS;gS=ie;class Rm{constructor(e){this.name=e}getSQL(){return new ln([this])}}B(Rm,gS,"Placeholder");const HI=Symbol.for("drizzle:IsDrizzleView");var xS,vS,yS;yS=ie,vS=Xl,xS=HI;class qI{constructor({name:e,schema:n,selectedFields:r,query:i}){B(this,vS);B(this,xS,!0);this[Xl]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new ln([this])}}B(qI,yS,"View");function jW(t){return typeof t=="object"&&t!==null&&HI in t}Tc.prototype.getSQL=function(){return new ln([this])};fr.prototype.getSQL=function(){return new ln([this])};mj.prototype.getSQL=function(){return new ln([this])};function bW(t){return t[fr.Symbol.Columns]}function NW(t){return t[Xl].selectedFields}function xn(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var wS,jS;class fh extends(jS=dt,wS=ie,jS){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}B(fh,wS,"PgIntColumnBaseBuilder");var bS,NS;class KI extends(NS=fh,bS=ie,NS){constructor(e){super(e,"number","PgBigInt53")}build(e){return new GI(e,this.config)}}B(KI,bS,"PgBigInt53Builder");var _S,SS;class GI extends(SS=Qe,_S=ie,SS){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}B(GI,_S,"PgBigInt53");var CS,kS;class QI extends(kS=fh,CS=ie,kS){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new YI(e,this.config)}}B(QI,CS,"PgBigInt64Builder");var ES,TS;class YI extends(TS=Qe,ES=ie,TS){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}B(YI,ES,"PgBigInt64");function _W(t,e){const{name:n,config:r}=xn(t,e);return r.mode==="number"?new KI(n):new QI(n)}var PS,AS;class XI extends(AS=dt,PS=ie,AS){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ZI(e,this.config)}}B(XI,PS,"PgBigSerial53Builder");var IS,RS;class ZI extends(RS=Qe,IS=ie,RS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}B(ZI,IS,"PgBigSerial53");var DS,MS;class JI extends(MS=dt,DS=ie,MS){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new e4(e,this.config)}}B(JI,DS,"PgBigSerial64Builder");var OS,LS;class e4 extends(LS=Qe,OS=ie,LS){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}B(e4,OS,"PgBigSerial64");function SW(t,e){const{name:n,config:r}=xn(t,e);return r.mode==="number"?new XI(n):new JI(n)}var FS,$S;class t4 extends($S=dt,FS=ie,$S){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new n4(e,this.config)}}B(t4,FS,"PgBooleanBuilder");var US,VS;class n4 extends(VS=Qe,US=ie,VS){getSQLType(){return"boolean"}}B(n4,US,"PgBoolean");function Pu(t){return new t4(t??"")}var zS,BS;class r4 extends(BS=dt,zS=ie,BS){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new s4(e,this.config)}}B(r4,zS,"PgCharBuilder");var WS,HS;class s4 extends(HS=Qe,WS=ie,HS){constructor(){super(...arguments);B(this,"length",this.config.length);B(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}B(s4,WS,"PgChar");function CW(t,e={}){const{name:n,config:r}=xn(t,e);return new r4(n,r)}var qS,KS;class i4 extends(KS=dt,qS=ie,KS){constructor(e){super(e,"string","PgCidr")}build(e){return new a4(e,this.config)}}B(i4,qS,"PgCidrBuilder");var GS,QS;class a4 extends(QS=Qe,GS=ie,QS){getSQLType(){return"cidr"}}B(a4,GS,"PgCidr");function kW(t){return new i4(t??"")}var YS,XS;class o4 extends(XS=dt,YS=ie,XS){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new l4(e,this.config)}}B(o4,YS,"PgCustomColumnBuilder");var ZS,JS;class l4 extends(JS=Qe,ZS=ie,JS){constructor(n,r){super(n,r);B(this,"sqlName");B(this,"mapTo");B(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}B(l4,ZS,"PgCustomColumn");function EW(t){return(e,n)=>{const{name:r,config:i}=xn(e,n);return new o4(r,i,t)}}var eC,tC;class Zc extends(tC=dt,eC=ie,tC){defaultNow(){return this.default(hs`now()`)}}B(Zc,eC,"PgDateColumnBaseBuilder");var nC,rC;class c4 extends(rC=Zc,nC=ie,rC){constructor(e){super(e,"date","PgDate")}build(e){return new d4(e,this.config)}}B(c4,nC,"PgDateBuilder");var sC,iC;class d4 extends(iC=Qe,sC=ie,iC){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}B(d4,sC,"PgDate");var aC,oC;class u4 extends(oC=Zc,aC=ie,oC){constructor(e){super(e,"string","PgDateString")}build(e){return new h4(e,this.config)}}B(u4,aC,"PgDateStringBuilder");var lC,cC;class h4 extends(cC=Qe,lC=ie,cC){getSQLType(){return"date"}}B(h4,lC,"PgDateString");function TW(t,e){const{name:n,config:r}=xn(t,e);return(r==null?void 0:r.mode)==="date"?new c4(n):new u4(n)}var dC,uC;class f4 extends(uC=dt,dC=ie,uC){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new m4(e,this.config)}}B(f4,dC,"PgDoublePrecisionBuilder");var hC,fC;class m4 extends(fC=Qe,hC=ie,fC){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}B(m4,hC,"PgDoublePrecision");function PW(t){return new f4(t??"")}var mC,pC;class p4 extends(pC=dt,mC=ie,pC){constructor(e){super(e,"string","PgInet")}build(e){return new g4(e,this.config)}}B(p4,mC,"PgInetBuilder");var gC,xC;class g4 extends(xC=Qe,gC=ie,xC){getSQLType(){return"inet"}}B(g4,gC,"PgInet");function AW(t){return new p4(t??"")}var vC,yC;class x4 extends(yC=fh,vC=ie,yC){constructor(e){super(e,"number","PgInteger")}build(e){return new v4(e,this.config)}}B(x4,vC,"PgIntegerBuilder");var wC,jC;class v4 extends(jC=Qe,wC=ie,jC){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}B(v4,wC,"PgInteger");function Po(t){return new x4(t??"")}var bC,NC;class y4 extends(NC=dt,bC=ie,NC){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new w4(e,this.config)}}B(y4,bC,"PgIntervalBuilder");var _C,SC;class w4 extends(SC=Qe,_C=ie,SC){constructor(){super(...arguments);B(this,"fields",this.config.intervalConfig.fields);B(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}B(w4,_C,"PgInterval");function IW(t,e={}){const{name:n,config:r}=xn(t,e);return new y4(n,r)}var CC,kC;class j4 extends(kC=dt,CC=ie,kC){constructor(e){super(e,"json","PgJson")}build(e){return new b4(e,this.config)}}B(j4,CC,"PgJsonBuilder");var EC,TC;class b4 extends(TC=Qe,EC=ie,TC){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}B(b4,EC,"PgJson");function RW(t){return new j4(t??"")}var PC,AC;class N4 extends(AC=dt,PC=ie,AC){constructor(e){super(e,"json","PgJsonb")}build(e){return new _4(e,this.config)}}B(N4,PC,"PgJsonbBuilder");var IC,RC;class _4 extends(RC=Qe,IC=ie,RC){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}B(_4,IC,"PgJsonb");function DW(t){return new N4(t??"")}var DC,MC;class S4 extends(MC=dt,DC=ie,MC){constructor(e){super(e,"array","PgLine")}build(e){return new C4(e,this.config)}}B(S4,DC,"PgLineBuilder");var OC,LC;class C4 extends(LC=Qe,OC=ie,LC){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}B(C4,OC,"PgLine");var FC,$C;class k4 extends($C=dt,FC=ie,$C){constructor(e){super(e,"json","PgLineABC")}build(e){return new E4(e,this.config)}}B(k4,FC,"PgLineABCBuilder");var UC,VC;class E4 extends(VC=Qe,UC=ie,VC){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}B(E4,UC,"PgLineABC");function MW(t,e){const{name:n,config:r}=xn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new S4(n):new k4(n)}var zC,BC;class T4 extends(BC=dt,zC=ie,BC){constructor(e){super(e,"string","PgMacaddr")}build(e){return new P4(e,this.config)}}B(T4,zC,"PgMacaddrBuilder");var WC,HC;class P4 extends(HC=Qe,WC=ie,HC){getSQLType(){return"macaddr"}}B(P4,WC,"PgMacaddr");function OW(t){return new T4(t??"")}var qC,KC;class A4 extends(KC=dt,qC=ie,KC){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new I4(e,this.config)}}B(A4,qC,"PgMacaddr8Builder");var GC,QC;class I4 extends(QC=Qe,GC=ie,QC){getSQLType(){return"macaddr8"}}B(I4,GC,"PgMacaddr8");function LW(t){return new A4(t??"")}var YC,XC;class R4 extends(XC=dt,YC=ie,XC){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new D4(e,this.config)}}B(R4,YC,"PgNumericBuilder");var ZC,JC;class D4 extends(JC=Qe,ZC=ie,JC){constructor(n,r){super(n,r);B(this,"precision");B(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}B(D4,ZC,"PgNumeric");function M4(t,e){const{name:n,config:r}=xn(t,e);return new R4(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const Zr=M4;var e2,t2;class O4 extends(t2=dt,e2=ie,t2){constructor(e){super(e,"array","PgPointTuple")}build(e){return new L4(e,this.config)}}B(O4,e2,"PgPointTupleBuilder");var n2,r2;class L4 extends(r2=Qe,n2=ie,r2){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}B(L4,n2,"PgPointTuple");var s2,i2;class F4 extends(i2=dt,s2=ie,i2){constructor(e){super(e,"json","PgPointObject")}build(e){return new $4(e,this.config)}}B(F4,s2,"PgPointObjectBuilder");var a2,o2;class $4 extends(o2=Qe,a2=ie,o2){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}B($4,a2,"PgPointObject");function FW(t,e){const{name:n,config:r}=xn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new O4(n):new F4(n)}function $W(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function U1(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function U4(t){const e=$W(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=U1(e,n);n+=8;const l=U1(e,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var l2,c2;class V4 extends(c2=dt,l2=ie,c2){constructor(e){super(e,"array","PgGeometry")}build(e){return new z4(e,this.config)}}B(V4,l2,"PgGeometryBuilder");var d2,u2;class z4 extends(u2=Qe,d2=ie,u2){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return U4(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}B(z4,d2,"PgGeometry");var h2,f2;class B4 extends(f2=dt,h2=ie,f2){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new W4(e,this.config)}}B(B4,h2,"PgGeometryObjectBuilder");var m2,p2;class W4 extends(p2=Qe,m2=ie,p2){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=U4(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}B(W4,m2,"PgGeometryObject");function UW(t,e){const{name:n,config:r}=xn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new V4(n):new B4(n)}var g2,x2;class H4 extends(x2=dt,g2=ie,x2){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new q4(e,this.config)}}B(H4,g2,"PgRealBuilder");var v2,y2;class q4 extends(y2=Qe,v2=ie,y2){constructor(n,r){super(n,r);B(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}B(q4,v2,"PgReal");function VW(t){return new H4(t??"")}var w2,j2;class K4 extends(j2=dt,w2=ie,j2){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new G4(e,this.config)}}B(K4,w2,"PgSerialBuilder");var b2,N2;class G4 extends(N2=Qe,b2=ie,N2){getSQLType(){return"serial"}}B(G4,b2,"PgSerial");function zW(t){return new K4(t??"")}var _2,S2;class Q4 extends(S2=fh,_2=ie,S2){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Y4(e,this.config)}}B(Q4,_2,"PgSmallIntBuilder");var C2,k2;class Y4 extends(k2=Qe,C2=ie,k2){constructor(){super(...arguments);B(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}B(Y4,C2,"PgSmallInt");function BW(t){return new Q4(t??"")}var E2,T2;class X4 extends(T2=dt,E2=ie,T2){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Z4(e,this.config)}}B(X4,E2,"PgSmallSerialBuilder");var P2,A2;class Z4 extends(A2=Qe,P2=ie,A2){getSQLType(){return"smallserial"}}B(Z4,P2,"PgSmallSerial");function WW(t){return new X4(t??"")}var I2,R2;class J4 extends(R2=dt,I2=ie,R2){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new eR(e,this.config)}}B(J4,I2,"PgTextBuilder");var D2,M2;class eR extends(M2=Qe,D2=ie,M2){constructor(){super(...arguments);B(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}B(eR,D2,"PgText");function tt(t,e={}){const{name:n,config:r}=xn(t,e);return new J4(n,r)}var O2,L2;class tR extends(L2=Zc,O2=ie,L2){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new nR(e,this.config)}}B(tR,O2,"PgTimeBuilder");var F2,$2;class nR extends($2=Qe,F2=ie,$2){constructor(n,r){super(n,r);B(this,"withTimezone");B(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}B(nR,F2,"PgTime");function HW(t,e={}){const{name:n,config:r}=xn(t,e);return new tR(n,r.withTimezone??!1,r.precision)}var U2,V2;class rR extends(V2=Zc,U2=ie,V2){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new sR(e,this.config)}}B(rR,U2,"PgTimestampBuilder");var z2,B2;class sR extends(B2=Qe,z2=ie,B2){constructor(n,r){super(n,r);B(this,"withTimezone");B(this,"precision");B(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));B(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}B(sR,z2,"PgTimestamp");var W2,H2;class iR extends(H2=Zc,W2=ie,H2){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new aR(e,this.config)}}B(iR,W2,"PgTimestampStringBuilder");var q2,K2;class aR extends(K2=Qe,q2=ie,K2){constructor(n,r){super(n,r);B(this,"withTimezone");B(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}B(aR,q2,"PgTimestampString");function Bs(t,e={}){const{name:n,config:r}=xn(t,e);return(r==null?void 0:r.mode)==="string"?new iR(n,r.withTimezone??!1,r.precision):new rR(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var G2,Q2;class oR extends(Q2=dt,G2=ie,Q2){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(hs`gen_random_uuid()`)}build(e){return new lR(e,this.config)}}B(oR,G2,"PgUUIDBuilder");var Y2,X2;class lR extends(X2=Qe,Y2=ie,X2){getSQLType(){return"uuid"}}B(lR,Y2,"PgUUID");function qW(t){return new oR(t??"")}var Z2,J2;class cR extends(J2=dt,Z2=ie,J2){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new dR(e,this.config)}}B(cR,Z2,"PgVarcharBuilder");var ek,tk;class dR extends(tk=Qe,ek=ie,tk){constructor(){super(...arguments);B(this,"length",this.config.length);B(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}B(dR,ek,"PgVarchar");function Rr(t,e={}){const{name:n,config:r}=xn(t,e);return new cR(n,r)}var nk,rk;class uR extends(rk=dt,nk=ie,rk){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new hR(e,this.config)}}B(uR,nk,"PgBinaryVectorBuilder");var sk,ik;class hR extends(ik=Qe,sk=ie,ik){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}B(hR,sk,"PgBinaryVector");function KW(t,e){const{name:n,config:r}=xn(t,e);return new uR(n,r)}var ak,ok;class fR extends(ok=dt,ak=ie,ok){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new mR(e,this.config)}}B(fR,ak,"PgHalfVectorBuilder");var lk,ck;class mR extends(ck=Qe,lk=ie,ck){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}B(mR,lk,"PgHalfVector");function GW(t,e){const{name:n,config:r}=xn(t,e);return new fR(n,r)}var dk,uk;class pR extends(uk=dt,dk=ie,uk){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new gR(e,this.config)}}B(pR,dk,"PgSparseVectorBuilder");var hk,fk;class gR extends(fk=Qe,hk=ie,fk){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}B(gR,hk,"PgSparseVector");function QW(t,e){const{name:n,config:r}=xn(t,e);return new pR(n,r)}var mk,pk;class xR extends(pk=dt,mk=ie,pk){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new vR(e,this.config)}}B(xR,mk,"PgVectorBuilder");var gk,xk;class vR extends(xk=Qe,gk=ie,xk){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}B(vR,gk,"PgVector");function YW(t,e){const{name:n,config:r}=xn(t,e);return new xR(n,r)}function XW(){return{bigint:_W,bigserial:SW,boolean:Pu,char:CW,cidr:kW,customType:EW,date:TW,doublePrecision:PW,inet:AW,integer:Po,interval:IW,json:RW,jsonb:DW,line:MW,macaddr:OW,macaddr8:LW,numeric:M4,point:FW,geometry:UW,real:VW,serial:zW,smallint:BW,smallserial:WW,text:tt,time:HW,timestamp:Bs,uuid:qW,varchar:Rr,bit:KW,halfvec:GW,sparsevec:QW,vector:YW}}const ay=Symbol.for("drizzle:PgInlineForeignKeys"),V1=Symbol.for("drizzle:EnableRLS");var vk,yk,wk,jk,bk;class Dm extends(bk=fr,jk=ie,wk=ay,yk=V1,vk=fr.Symbol.ExtraConfigBuilder,bk){constructor(){super(...arguments);B(this,wk,[]);B(this,yk,!1);B(this,vk)}}B(Dm,jk,"PgTable"),B(Dm,"Symbol",Object.assign({},fr.Symbol,{InlineForeignKeys:ay,EnableRLS:V1}));function ZW(t,e,n,r,i=t){const a=new Dm(t,r,i),o=typeof e=="function"?e(XW()):e,l=Object.fromEntries(Object.entries(o).map(([h,f])=>{const m=f;m.setName(h);const v=m.build(a);return a[ay].push(...m.buildForeignKeys(v,a)),[h,v]})),c=Object.fromEntries(Object.entries(o).map(([h,f])=>{const m=f;m.setName(h);const v=m.buildExtraConfigColumn(a);return[h,v]})),d=Object.assign(a,l);return d[fr.Symbol.Columns]=l,d[fr.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[Dm.Symbol.EnableRLS]=!0,d)})}const rl=(t,e,n)=>ZW(t,e,n,void 0);var ot;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ot||(ot={}));var oy;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(oy||(oy={}));const Te=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ui=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},le=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),JW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class vr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof vr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}vr.create=t=>new vr(t);const Pc=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===Te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ot.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${ot.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ot.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${ot.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ot.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,ot.assertNever(t)}return{message:n}};let yR=Pc;function eH(t){yR=t}function Mm(){return yR}const Om=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},tH=[];function _e(t,e){const n=Mm(),r=Om({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Pc?void 0:Pc].filter(i=>!!i)});t.common.issues.push(r)}class On{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ve;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return On.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Ve;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Ve=Object.freeze({status:"aborted"}),Rl=t=>({status:"dirty",value:t}),Kn=t=>({status:"valid",value:t}),ly=t=>t.status==="aborted",cy=t=>t.status==="dirty",Bo=t=>t.status==="valid",Au=t=>typeof Promise<"u"&&t instanceof Promise;function Lm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function wR(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ie||(Ie={}));var Dd,Md;class Qs{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z1=(t,e)=>{if(Bo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vr(t.common.issues);return this._error=n,this._error}}};function Ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class Je{get description(){return this._def.description}_getType(e){return ui(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ui(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new On,ctx:{common:e.parent.common,data:e.data,parsedType:ui(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Au(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ui(e)},a=this._parseSync({data:e,path:i.path,parent:i});return z1(i,a)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ui(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return Bo(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>Bo(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ui(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Au(i)?i:Promise.resolve(i));return z1(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:le.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new fs({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ws.create(this,this._def)}nullable(){return Va.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return Ic.create(this,this._def)}or(e){return Mu.create([this,e],this._def)}and(e){return Ou.create(this,e,this._def)}transform(e){return new fs({...Ke(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Vu({...Ke(this._def),innerType:this,defaultValue:n,typeName:$e.ZodDefault})}brand(){return new gj({typeName:$e.ZodBranded,type:this,...Ke(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zu({...Ke(this._def),innerType:this,catchValue:n,typeName:$e.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mh.create(this,e)}readonly(){return Bu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nH=/^c[^\s-]{8,}$/i,rH=/^[0-9a-z]+$/,sH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aH=/^[a-z0-9_-]{21}$/i,oH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fx;const uH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xH=new RegExp(`^${jR}$`);function bR(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function vH(t){return new RegExp(`^${bR(t)}$`)}function NR(t){let e=`${jR}T${bR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function yH(t,e){return!!((e==="v4"||!e)&&uH.test(t)||(e==="v6"||!e)&&fH.test(t))}function wH(t,e){if(!oH.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function jH(t,e){return!!((e==="v4"||!e)&&hH.test(t)||(e==="v6"||!e)&&mH.test(t))}class Jr extends Je{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const a=this._getOrReturnCtx(e);return _e(a,{code:le.invalid_type,expected:Te.string,received:a.parsedType}),Ve}const r=new On;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?_e(i,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&_e(i,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")cH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"email",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")fx||(fx=new RegExp(dH,"u")),fx.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"emoji",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")iH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"uuid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")aH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"nanoid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")nH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")rH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid2",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")sH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ulid",code:le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),_e(i,{validation:"url",code:le.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"regex",code:le.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),_e(i,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?NR(a).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:le.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?xH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:le.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?vH(a).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:le.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?lH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"duration",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?yH(e.data,a.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ip",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?wH(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"jwt",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?jH(e.data,a.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cidr",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?pH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64",code:le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?gH.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64url",code:le.invalid_string,message:a.message}),r.dirty()):ot.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:le.invalid_string,...Ie.errToObj(r)})}_addCheck(e){return new Jr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ie.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ie.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ie.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ie.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ie.errToObj(n)})}nonempty(e){return this.min(1,Ie.errToObj(e))}trim(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Jr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jr.create=t=>{var e;return new Jr({checks:[],typeName:$e.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ke(t)})};function bH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Fa extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const a=this._getOrReturnCtx(e);return _e(a,{code:le.invalid_type,expected:Te.number,received:a.parsedType}),Ve}let r;const i=new On;for(const a of this._def.checks)a.kind==="int"?ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?bH(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),_e(r,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:le.not_finite,message:a.message}),i.dirty()):ot.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ie.toString(n))}setLimit(e,n,r,i){return new Fa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ie.toString(i)}]})}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ot.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Fa.create=t=>new Fa({checks:[],typeName:$e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class $a extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let r;const i=new On;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ot.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Te.bigint,received:n.parsedType}),Ve}gte(e,n){return this.setLimit("min",e,!0,Ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ie.toString(n))}setLimit(e,n,r,i){return new $a({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ie.toString(i)}]})}_addCheck(e){return new $a({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$a.create=t=>{var e;return new $a({checks:[],typeName:$e.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ke(t)})};class Iu extends Je{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Te.boolean,received:r.parsedType}),Ve}return Kn(e.data)}}Iu.create=t=>new Iu({typeName:$e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class Wo extends Je{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const a=this._getOrReturnCtx(e);return _e(a,{code:le.invalid_type,expected:Te.date,received:a.parsedType}),Ve}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return _e(a,{code:le.invalid_date}),Ve}const r=new On;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ot.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wo.create=t=>new Wo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$e.ZodDate,...Ke(t)});class Fm extends Je{_parse(e){if(this._getType(e)!==Te.symbol){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Te.symbol,received:r.parsedType}),Ve}return Kn(e.data)}}Fm.create=t=>new Fm({typeName:$e.ZodSymbol,...Ke(t)});class Ru extends Je{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Te.undefined,received:r.parsedType}),Ve}return Kn(e.data)}}Ru.create=t=>new Ru({typeName:$e.ZodUndefined,...Ke(t)});class Du extends Je{_parse(e){if(this._getType(e)!==Te.null){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Te.null,received:r.parsedType}),Ve}return Kn(e.data)}}Du.create=t=>new Du({typeName:$e.ZodNull,...Ke(t)});class Ac extends Je{constructor(){super(...arguments),this._any=!0}_parse(e){return Kn(e.data)}}Ac.create=t=>new Ac({typeName:$e.ZodAny,...Ke(t)});class Ao extends Je{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Kn(e.data)}}Ao.create=t=>new Ao({typeName:$e.ZodUnknown,...Ke(t)});class Ri extends Je{_parse(e){const n=this._getOrReturnCtx(e);return _e(n,{code:le.invalid_type,expected:Te.never,received:n.parsedType}),Ve}}Ri.create=t=>new Ri({typeName:$e.ZodNever,...Ke(t)});class $m extends Je{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Te.void,received:r.parsedType}),Ve}return Kn(e.data)}}$m.create=t=>new $m({typeName:$e.ZodVoid,...Ke(t)});class is extends Je{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Te.array)return _e(n,{code:le.invalid_type,expected:Te.array,received:n.parsedType}),Ve;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(_e(n,{code:o?le.too_big:le.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(_e(n,{code:le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(_e(n,{code:le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Qs(n,o,n.path,l)))).then(o=>On.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Qs(n,o,n.path,l)));return On.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new is({...this._def,minLength:{value:e,message:Ie.toString(n)}})}max(e,n){return new is({...this._def,maxLength:{value:e,message:Ie.toString(n)}})}length(e,n){return new is({...this._def,exactLength:{value:e,message:Ie.toString(n)}})}nonempty(e){return this.min(1,e)}}is.create=(t,e)=>new is({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...Ke(e)});function wl(t){if(t instanceof Ft){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ws.create(wl(r))}return new Ft({...t._def,shape:()=>e})}else return t instanceof is?new is({...t._def,type:wl(t.element)}):t instanceof Ws?Ws.create(wl(t.unwrap())):t instanceof Va?Va.create(wl(t.unwrap())):t instanceof Ys?Ys.create(t.items.map(e=>wl(e))):t}class Ft extends Je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ot.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Te.object){const d=this._getOrReturnCtx(e);return _e(d,{code:le.invalid_type,expected:Te.object,received:d.parsedType}),Ve}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ri&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const h=a[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Qs(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ri){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")l.length>0&&(_e(i,{code:le.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const f=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Qs(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const f=await h.key,m=await h.value;d.push({key:f,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>On.mergeObjectSync(r,d)):On.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ie.errToObj,new Ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ie.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$e.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ft({...this._def,catchall:e})}pick(e){const n={};return ot.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}omit(e){const n={};return ot.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}deepPartial(){return wl(this)}partial(e){const n={};return ot.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ft({...this._def,shape:()=>n})}required(e){const n={};return ot.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ws;)a=a._def.innerType;n[r]=a}}),new Ft({...this._def,shape:()=>n})}keyof(){return _R(ot.objectKeys(this.shape))}}Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:Ri.create(),typeName:$e.ZodObject,...Ke(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:Ri.create(),typeName:$e.ZodObject,...Ke(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:Ri.create(),typeName:$e.ZodObject,...Ke(e)});class Mu extends Je{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new vr(l.ctx.common.issues));return _e(n,{code:le.invalid_union,unionErrors:o}),Ve}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new vr(c));return _e(n,{code:le.invalid_union,unionErrors:l}),Ve}}get options(){return this._def.options}}Mu.create=(t,e)=>new Mu({options:t,typeName:$e.ZodUnion,...Ke(e)});const li=t=>t instanceof Fu?li(t.schema):t instanceof fs?li(t.innerType()):t instanceof $u?[t.value]:t instanceof Ua?t.options:t instanceof Uu?ot.objectValues(t.enum):t instanceof Vu?li(t._def.innerType):t instanceof Ru?[void 0]:t instanceof Du?[null]:t instanceof Ws?[void 0,...li(t.unwrap())]:t instanceof Va?[null,...li(t.unwrap())]:t instanceof gj||t instanceof Bu?li(t.unwrap()):t instanceof zu?li(t._def.innerType):[];class Mp extends Je{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return _e(n,{code:le.invalid_type,expected:Te.object,received:n.parsedType}),Ve;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(_e(n,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const o=li(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Mp({typeName:$e.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ke(r)})}}function dy(t,e){const n=ui(t),r=ui(e);if(t===e)return{valid:!0,data:t};if(n===Te.object&&r===Te.object){const i=ot.objectKeys(e),a=ot.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=dy(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Te.array&&r===Te.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=dy(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===Te.date&&r===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ou extends Je{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(ly(a)||ly(o))return Ve;const l=dy(a.value,o.value);return l.valid?((cy(a)||cy(o))&&n.dirty(),{status:n.value,value:l.data}):(_e(r,{code:le.invalid_intersection_types}),Ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ou.create=(t,e,n)=>new Ou({left:t,right:e,typeName:$e.ZodIntersection,...Ke(n)});class Ys extends Je{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.array)return _e(r,{code:le.invalid_type,expected:Te.array,received:r.parsedType}),Ve;if(r.data.length<this._def.items.length)return _e(r,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&r.data.length>this._def.items.length&&(_e(r,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Qs(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>On.mergeArray(n,o)):On.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ys({...this._def,rest:e})}}Ys.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ys({items:t,typeName:$e.ZodTuple,rest:null,...Ke(e)})};class Lu extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return _e(r,{code:le.invalid_type,expected:Te.object,received:r.parsedType}),Ve;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Qs(r,l,r.path,l)),value:o._parse(new Qs(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?On.mergeObjectAsync(n,i):On.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Je?new Lu({keyType:e,valueType:n,typeName:$e.ZodRecord,...Ke(r)}):new Lu({keyType:Jr.create(),valueType:e,typeName:$e.ZodRecord,...Ke(n)})}}class Um extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.map)return _e(r,{code:le.invalid_type,expected:Te.map,received:r.parsedType}),Ve;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Qs(r,l,r.path,[d,"key"])),value:a._parse(new Qs(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Ve;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Ve;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(d.value,h.value)}return{status:n.value,value:l}}}}Um.create=(t,e,n)=>new Um({valueType:e,keyType:t,typeName:$e.ZodMap,...Ke(n)});class Ho extends Je{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.set)return _e(r,{code:le.invalid_type,expected:Te.set,received:r.parsedType}),Ve;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(_e(r,{code:le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(_e(r,{code:le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Ve;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Qs(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Ho({...this._def,minSize:{value:e,message:Ie.toString(n)}})}max(e,n){return new Ho({...this._def,maxSize:{value:e,message:Ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ho.create=(t,e)=>new Ho({valueType:t,minSize:null,maxSize:null,typeName:$e.ZodSet,...Ke(e)});class Zl extends Je{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.function)return _e(n,{code:le.invalid_type,expected:Te.function,received:n.parsedType}),Ve;function r(l,c){return Om({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Mm(),Pc].filter(d=>!!d),issueData:{code:le.invalid_arguments,argumentsError:c}})}function i(l,c){return Om({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Mm(),Pc].filter(d=>!!d),issueData:{code:le.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ic){const l=this;return Kn(async function(...c){const d=new vr([]),h=await l._def.args.parseAsync(c,a).catch(v=>{throw d.addIssue(r(c,v)),d}),f=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(f,a).catch(v=>{throw d.addIssue(i(f,v)),d})})}else{const l=this;return Kn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new vr([r(c,d.error)]);const h=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(h,a);if(!f.success)throw new vr([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Zl({...this._def,args:Ys.create(e).rest(Ao.create())})}returns(e){return new Zl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Zl({args:e||Ys.create([]).rest(Ao.create()),returns:n||Ao.create(),typeName:$e.ZodFunction,...Ke(r)})}}class Fu extends Je{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Fu.create=(t,e)=>new Fu({getter:t,typeName:$e.ZodLazy,...Ke(e)});class $u extends Je{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return _e(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}$u.create=(t,e)=>new $u({value:t,typeName:$e.ZodLiteral,...Ke(e)});function _R(t,e){return new Ua({values:t,typeName:$e.ZodEnum,...Ke(e)})}class Ua extends Je{constructor(){super(...arguments),Dd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return _e(n,{expected:ot.joinValues(r),received:n.parsedType,code:le.invalid_type}),Ve}if(Lm(this,Dd)||wR(this,Dd,new Set(this._def.values)),!Lm(this,Dd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return _e(n,{received:n.data,code:le.invalid_enum_value,options:r}),Ve}return Kn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ua.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ua.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Dd=new WeakMap;Ua.create=_R;class Uu extends Je{constructor(){super(...arguments),Md.set(this,void 0)}_parse(e){const n=ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const i=ot.objectValues(n);return _e(r,{expected:ot.joinValues(i),received:r.parsedType,code:le.invalid_type}),Ve}if(Lm(this,Md)||wR(this,Md,new Set(ot.getValidEnumValues(this._def.values))),!Lm(this,Md).has(e.data)){const i=ot.objectValues(n);return _e(r,{received:r.data,code:le.invalid_enum_value,options:i}),Ve}return Kn(e.data)}get enum(){return this._def.values}}Md=new WeakMap;Uu.create=(t,e)=>new Uu({values:t,typeName:$e.ZodNativeEnum,...Ke(e)});class Ic extends Je{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.promise&&n.common.async===!1)return _e(n,{code:le.invalid_type,expected:Te.promise,received:n.parsedType}),Ve;const r=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return Kn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ic.create=(t,e)=>new Ic({type:t,typeName:$e.ZodPromise,...Ke(e)});class fs extends Je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{_e(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ve;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ve:c.status==="dirty"||n.value==="dirty"?Rl(c.value):c});{if(n.value==="aborted")return Ve;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ve:l.status==="dirty"||n.value==="dirty"?Rl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ve:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ve:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bo(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Bo(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);ot.assertNever(i)}}fs.create=(t,e,n)=>new fs({schema:t,typeName:$e.ZodEffects,effect:e,...Ke(n)});fs.createWithPreprocess=(t,e,n)=>new fs({schema:e,effect:{type:"preprocess",transform:t},typeName:$e.ZodEffects,...Ke(n)});class Ws extends Je{_parse(e){return this._getType(e)===Te.undefined?Kn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ws.create=(t,e)=>new Ws({innerType:t,typeName:$e.ZodOptional,...Ke(e)});class Va extends Je{_parse(e){return this._getType(e)===Te.null?Kn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Va.create=(t,e)=>new Va({innerType:t,typeName:$e.ZodNullable,...Ke(e)});class Vu extends Je{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Vu.create=(t,e)=>new Vu({innerType:t,typeName:$e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ke(e)});class zu extends Je{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Au(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zu.create=(t,e)=>new zu({innerType:t,typeName:$e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ke(e)});class Vm extends Je{_parse(e){if(this._getType(e)!==Te.nan){const r=this._getOrReturnCtx(e);return _e(r,{code:le.invalid_type,expected:Te.nan,received:r.parsedType}),Ve}return{status:"valid",value:e.data}}}Vm.create=t=>new Vm({typeName:$e.ZodNaN,...Ke(t)});const NH=Symbol("zod_brand");class gj extends Je{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mh extends Je{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ve:a.status==="dirty"?(n.dirty(),Rl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ve:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new mh({in:e,out:n,typeName:$e.ZodPipeline})}}class Bu extends Je{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Bo(i)&&(i.value=Object.freeze(i.value)),i);return Au(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Bu.create=(t,e)=>new Bu({innerType:t,typeName:$e.ZodReadonly,...Ke(e)});function B1(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function SR(t,e={},n){return t?Ac.create().superRefine((r,i)=>{var a,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,h;if(!c){const f=B1(e,r),m=(h=(d=f.fatal)!==null&&d!==void 0?d:n)!==null&&h!==void 0?h:!0;i.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=B1(e,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:d})}}):Ac.create()}const _H={object:Ft.lazycreate};var $e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($e||($e={}));const SH=(t,e={message:`Input not instance of ${t.name}`})=>SR(n=>n instanceof t,e),CR=Jr.create,kR=Fa.create,CH=Vm.create,kH=$a.create,ER=Iu.create,EH=Wo.create,TH=Fm.create,PH=Ru.create,AH=Du.create,IH=Ac.create,RH=Ao.create,DH=Ri.create,MH=$m.create,OH=is.create,LH=Ft.create,FH=Ft.strictCreate,$H=Mu.create,UH=Mp.create,VH=Ou.create,zH=Ys.create,BH=Lu.create,WH=Um.create,HH=Ho.create,qH=Zl.create,KH=Fu.create,GH=$u.create,QH=Ua.create,YH=Uu.create,XH=Ic.create,W1=fs.create,ZH=Ws.create,JH=Va.create,eq=fs.createWithPreprocess,tq=mh.create,nq=()=>CR().optional(),rq=()=>kR().optional(),sq=()=>ER().optional(),iq={string:t=>Jr.create({...t,coerce:!0}),number:t=>Fa.create({...t,coerce:!0}),boolean:t=>Iu.create({...t,coerce:!0}),bigint:t=>$a.create({...t,coerce:!0}),date:t=>Wo.create({...t,coerce:!0})},aq=Ve;var I=Object.freeze({__proto__:null,defaultErrorMap:Pc,setErrorMap:eH,getErrorMap:Mm,makeIssue:Om,EMPTY_PATH:tH,addIssueToContext:_e,ParseStatus:On,INVALID:Ve,DIRTY:Rl,OK:Kn,isAborted:ly,isDirty:cy,isValid:Bo,isAsync:Au,get util(){return ot},get objectUtil(){return oy},ZodParsedType:Te,getParsedType:ui,ZodType:Je,datetimeRegex:NR,ZodString:Jr,ZodNumber:Fa,ZodBigInt:$a,ZodBoolean:Iu,ZodDate:Wo,ZodSymbol:Fm,ZodUndefined:Ru,ZodNull:Du,ZodAny:Ac,ZodUnknown:Ao,ZodNever:Ri,ZodVoid:$m,ZodArray:is,ZodObject:Ft,ZodUnion:Mu,ZodDiscriminatedUnion:Mp,ZodIntersection:Ou,ZodTuple:Ys,ZodRecord:Lu,ZodMap:Um,ZodSet:Ho,ZodFunction:Zl,ZodLazy:Fu,ZodLiteral:$u,ZodEnum:Ua,ZodNativeEnum:Uu,ZodPromise:Ic,ZodEffects:fs,ZodTransformer:fs,ZodOptional:Ws,ZodNullable:Va,ZodDefault:Vu,ZodCatch:zu,ZodNaN:Vm,BRAND:NH,ZodBranded:gj,ZodPipeline:mh,ZodReadonly:Bu,custom:SR,Schema:Je,ZodSchema:Je,late:_H,get ZodFirstPartyTypeKind(){return $e},coerce:iq,any:IH,array:OH,bigint:kH,boolean:ER,date:EH,discriminatedUnion:UH,effect:W1,enum:QH,function:qH,instanceof:SH,intersection:VH,lazy:KH,literal:GH,map:WH,nan:CH,nativeEnum:YH,never:DH,null:AH,nullable:JH,number:kR,object:LH,oboolean:sq,onumber:rq,optional:ZH,ostring:nq,pipeline:tq,preprocess:eq,promise:XH,record:BH,set:HH,strictObject:FH,string:CR,symbol:TH,transformer:W1,tuple:zH,undefined:PH,union:$H,unknown:RH,void:MH,NEVER:aq,ZodIssueCode:le,quotelessJson:JW,ZodError:vr});const Lt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ht(t,e){return e.includes(t.columnType)}function oq(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const lq=I.union([I.string(),I.number(),I.boolean(),I.null()]),cq=I.union([lq,I.record(I.any()),I.array(I.any())]),dq=I.custom(t=>t instanceof Buffer);function TR(t,e){const n=(e==null?void 0:e.zodInstance)??I,r=(e==null?void 0:e.coerce)??{};let i;return oq(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(Ht(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Ht(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Ht(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):Ht(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Ht(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Ht(t,["PgArray"])?(i=n.array(TR(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=uq(t,n,r):t.dataType==="bigint"?i=hq(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=fq(t,n,r):t.dataType==="json"?i=cq:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=dq)),i||(i=n.any()),i}function uq(t,e,n){let r=t.getSQLType().includes("unsigned"),i,a,o=!1;Ht(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:Lt.INT8_MIN,a=r?Lt.INT8_UNSIGNED_MAX:Lt.INT8_MAX,o=!0):Ht(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:Lt.INT16_MIN,a=r?Lt.INT16_UNSIGNED_MAX:Lt.INT16_MAX,o=!0):Ht(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:Lt.INT24_MIN,a=r?Lt.INT24_UNSIGNED_MAX:Lt.INT24_MAX,o=Ht(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ht(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:Lt.INT32_MIN,a=r?Lt.INT32_UNSIGNED_MAX:Lt.INT32_MAX,o=!0):Ht(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:Lt.INT48_MIN,a=r?Lt.INT48_UNSIGNED_MAX:Lt.INT48_MAX):Ht(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Ht(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Ht(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function hq(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:Lt.INT64_MIN,a=r?Lt.INT64_UNSIGNED_MAX:Lt.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function fq(t,e,n){if(Ht(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;Ht(t,["PgVarchar","SQLiteText"])?r=t.length:Ht(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??Lt.INT16_UNSIGNED_MAX:Ht(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=Lt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=Lt.INT24_UNSIGNED_MAX:t.textType==="text"?r=Lt.INT16_UNSIGNED_MAX:r=Lt.INT8_UNSIGNED_MAX),Ht(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),Ht(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function PR(t){return zI(t)?bW(t):NW(t)}function AR(t,e,n,r){const i={};for(const[a,o]of Object.entries(t)){if(!bn(o,Tc)&&!bn(o,ln)&&!bn(o,ln.Aliased)&&typeof o=="object"){const f=zI(o)||jW(o)?PR(o):o;i[a]=AR(f,e[a]??{},n,r);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=bn(o,Tc)?o:void 0,d=c?TR(c,r):I.any(),h=typeof l=="function"?l(d):d;n.never(c)||(i[a]=h,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return I.object(i)}const mq={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},sl=(t,e)=>{const n=PR(t);return AR(n,{},mq)},pq=I.object({email:I.string().email("Please enter a valid email address"),password:I.string().min(1,"Password is required")}),gq=I.object({email:I.string().email("Please enter a valid email address"),password:I.string().min(6,"Password must be at least 6 characters"),firstName:I.string().min(1,"First name is required"),lastName:I.string().min(1,"Last name is required"),userName:I.string().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:I.string().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:I.string().min(1,"Country is required")});I.object({email:I.string().optional(),firstName:I.string().optional(),lastName:I.string().optional(),type:I.enum(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:I.string().optional(),userName:I.string().optional(),country:I.string().optional(),phone:I.string().optional(),gender:I.string().optional(),uid:I.string().optional(),idToken:I.string().min(1,"Firebase ID token is required for authentication"),provider:I.string().optional(),profilePicture:I.string().optional()}).refine(t=>t.type==="google"?!!t.email&&!!t.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const IR=I.object({firstName:I.string().min(1,"First name is required"),lastName:I.string().min(1,"Last name is required"),userName:I.string().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:I.string().min(1,"Country is required"),phone:I.string().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:I.string().optional()});I.object({token:I.string().optional(),user:I.object({id:I.string(),email:I.string(),name:I.string().optional()}).optional(),message:I.string().optional()});I.object({success:I.boolean(),message:I.string().optional(),data:I.any(),accessToken:I.string().optional(),authtoken:I.string().optional(),newuser:I.boolean().optional()});I.object({success:I.boolean().optional(),message:I.string(),error:I.string().optional(),details:I.any().optional()});const xq=I.object({_id:I.string(),customer:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),userName:I.string().optional(),email:I.string(),profilePhoto:I.string().optional(),address:I.object({_id:I.string(),name:I.string(),addrress1:I.string(),city:I.string(),state:I.string(),zipcode:I.string(),phone:I.string(),email:I.string()}).optional()}),seller:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),userName:I.string().optional(),email:I.string()}),need_label:I.boolean(),giveaway:I.object({_id:I.string(),name:I.string(),description:I.string().optional(),quantity:I.number(),images:I.array(I.string()).optional(),category:I.object({_id:I.string(),name:I.string()}).optional(),shipping_profile:I.object({_id:I.string(),weight:I.number(),name:I.string(),scale:I.string()}).optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),status:I.string().optional(),participants:I.array(I.string()).optional()}).optional(),ordertype:I.string().optional(),items:I.array(I.object({_id:I.string().optional(),orderId:I.string().optional(),productId:I.object({_id:I.string().optional(),name:I.string().optional(),images:I.array(I.string()).optional(),category:I.object({_id:I.string().optional(),name:I.string().optional()}).optional()}).optional(),quantity:I.number().optional(),price:I.number().optional(),shipping_fee:I.number().optional(),weight:I.string().optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),scale:I.string().optional()})).optional(),total:I.number().optional(),servicefee:I.number().optional(),tax:I.number().optional(),shipping_fee:I.number().optional(),seller_shipping_fee_pay:I.number().optional(),total_shipping_cost:I.number().optional(),invoice:I.number().optional(),status:I.string().optional(),tracking_number:I.string().optional(),label:I.string().optional(),weight:I.union([I.number(),I.string()]).optional(),date:I.number().optional(),createdAt:I.string().optional(),updatedAt:I.string().optional(),bundleId:I.string().optional().nullable(),tokshow:I.object({_id:I.string(),title:I.string().optional(),name:I.string().optional()}).optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),scale:I.string().optional()});I.object({orders:I.array(xq),limits:I.number(),pages:I.number(),total:I.number()});I.object({totalOrder:I.number(),totalAmount:I.string(),todayOrder:I.array(I.any()),totalAmountOfThisMonth:I.string(),totalPendingOrder:I.object({total:I.number(),count:I.number()}).optional(),totalDeliveredOrder:I.number(),orders:I.array(I.any()),weeklySaleReport:I.array(I.any())});const vq=I.object({_id:I.string(),name:I.string(),description:I.string().optional(),price:I.number(),quantity:I.number(),images:I.array(I.string()).optional(),category:I.object({_id:I.string(),name:I.string()}).optional(),seller:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),userName:I.string().optional(),email:I.string()}),status:I.string().optional(),weight:I.union([I.number(),I.string()]).optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),scale:I.string().optional(),shipping_profile:I.object({_id:I.string(),weight:I.number(),name:I.string(),scale:I.string()}).optional(),colors:I.array(I.string()).optional(),sizes:I.array(I.string()).optional(),featured:I.boolean().optional(),createdAt:I.string().optional(),updatedAt:I.string().optional()});I.object({products:I.array(vq),limits:I.number(),pages:I.number(),totalDoc:I.number()});const RR=I.lazy(()=>I.object({_id:I.string(),name:I.string(),description:I.string().optional(),status:I.string().optional(),icon:I.string().optional(),type:I.string().optional(),subCategories:I.array(RR).optional()}));I.object({categories:I.array(RR),limits:I.number().optional(),pages:I.number().optional(),total:I.number().optional()});const yq=I.object({_id:I.string(),name:I.string(),weight:I.number(),scale:I.string(),description:I.string().optional()});I.array(yq);const wq=I.enum(["auction","buy_now","giveaway"]);I.object({name:I.string().min(1,"Product name is required"),description:I.string().optional(),price:I.coerce.number().optional().nullable(),quantity:I.coerce.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:I.string().min(1,"Category is required"),status:I.enum(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:wq,shippingProfile:I.string().nullable().optional(),images:I.array(I.string()).optional(),startingPrice:I.coerce.number().optional().nullable(),duration:I.coerce.number().int().optional().nullable(),sudden:I.boolean().optional().default(!1),featured:I.boolean().optional().default(!1),whocanenter:I.enum(["everyone","followers"]).optional().default("everyone"),tokshow:I.string().optional()}).refine(t=>t.listingType==="auction"?t.startingPrice!==void 0&&t.startingPrice!==null&&t.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(t=>t.listingType==="auction"?t.duration!==void 0&&t.duration!==null&&t.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(t=>t.listingType==="buy_now"?t.price!==void 0&&t.price!==null&&t.price>0:!0,{message:"Price must be greater than 0",path:["price"]});I.object({id:I.string(),customerId:I.string(),customerName:I.string(),orderIds:I.array(I.string()),count:I.number(),weight:I.string().optional(),dimensions:I.string().optional(),totalValue:I.number(),status:I.enum(["pending","labeled"]).optional().default("pending"),createdAt:I.string().optional()});const jq=rl("users",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),username:tt("username").notNull().unique(),password:tt("password").notNull(),email:tt("email").notNull().unique(),name:tt("name").notNull(),avatar:tt("avatar"),seller:Pu("seller").default(!1),admin:Pu("admin").default(!1)}),bq=rl("orders",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),orderNumber:tt("order_number").notNull().unique(),customerId:Rr("customer_id").notNull(),customerName:tt("customer_name").notNull(),customerEmail:tt("customer_email").notNull(),itemName:tt("item_name").notNull(),itemCount:Po("item_count").notNull().default(1),amount:Zr("amount",{precision:10,scale:2}).notNull(),weight:tt("weight"),dimensions:tt("dimensions"),status:tt("status").notNull(),createdAt:Bs("created_at").defaultNow().notNull(),shippedAt:Bs("shipped_at"),deliveredAt:Bs("delivered_at"),trackingNumber:tt("tracking_number"),shippingCost:Zr("shipping_cost",{precision:10,scale:2}).default("0"),couponDiscount:Zr("coupon_discount",{precision:10,scale:2}).default("0"),bundleId:Rr("bundle_id")}),Nq=rl("shipment_bundles",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),bundleName:tt("bundle_name").notNull(),totalWeight:tt("total_weight"),totalDimensions:tt("total_dimensions"),trackingNumber:tt("tracking_number"),shippingCost:Zr("shipping_cost",{precision:10,scale:2}).default("0"),createdAt:Bs("created_at").defaultNow().notNull(),shippedAt:Bs("shipped_at")}),_q=rl("live_shows",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),title:tt("title").notNull(),description:tt("description"),scheduledAt:Bs("scheduled_at").notNull(),status:tt("status").notNull(),category:tt("category").notNull(),thumbnail:tt("thumbnail"),viewerCount:Po("viewer_count").default(0),totalSales:Zr("total_sales",{precision:10,scale:2}).default("0"),hostId:Rr("host_id").notNull()}),Sq=rl("analytics",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),date:Bs("date").notNull(),totalSales:Zr("total_sales",{precision:10,scale:2}).notNull(),orderCount:Po("order_count").notNull(),buyerCount:Po("buyer_count").notNull(),showCount:Po("show_count").notNull(),avgShippingTime:Zr("avg_shipping_time",{precision:4,scale:2}),cancellationRate:Zr("cancellation_rate",{precision:5,scale:2}),satisfactionRating:Zr("satisfaction_rating",{precision:3,scale:2})}),Cq=rl("shipping_profiles",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),name:tt("name").notNull(),description:tt("description"),baseRate:Zr("base_rate",{precision:10,scale:2}).notNull(),freeShippingThreshold:Zr("free_shipping_threshold",{precision:10,scale:2}),bundleEnabled:Pu("bundle_enabled").default(!0),maxBundleSize:Po("max_bundle_size").default(10)}),kq=rl("addresses",{id:Rr("id").primaryKey().default(hs`gen_random_uuid()`),name:tt("name").notNull(),addrress1:tt("addrress1").notNull(),primary:Pu("primary").default(!1),addrress2:tt("addrress2").default(""),city:tt("city").default(""),countryCode:tt("country_code").default(""),cityCode:tt("city_code").default(""),state:tt("state").default(""),stateCode:tt("state_code").default(""),country:tt("country").default(""),zipcode:tt("zipcode").default(""),street:tt("street").default(""),phone:tt("phone").default(""),email:tt("email").default(""),userId:Rr("user_id").notNull(),createdAt:Bs("created_at").defaultNow().notNull(),updatedAt:Bs("updated_at").defaultNow().notNull()});sl(jq).omit({id:!0});sl(bq).omit({id:!0});sl(_q).omit({id:!0});sl(Sq).omit({id:!0});sl(Cq).omit({id:!0});sl(Nq).omit({id:!0});sl(kq).omit({id:!0,createdAt:!0,updatedAt:!0});const Eq=I.object({name:I.string().min(1,"Address name is required"),addrress1:I.string().min(1,"Street address is required"),addrress2:I.string().optional().default(""),city:I.string().min(1,"City is required"),state:I.string().min(1,"State is required"),stateCode:I.string().optional().default(""),cityCode:I.string().optional().default(""),zipcode:I.string().min(1,"ZIP code is required"),countryCode:I.string().min(1,"Country is required"),country:I.string().optional(),phone:I.string().min(1,"Phone number is required"),email:I.string().email("Please enter a valid email address"),userId:I.string().min(1,"User ID is required")});Eq.partial().extend({name:I.string().min(1,"Address name is required").optional(),addrress1:I.string().min(1,"Street address is required").optional(),city:I.string().min(1,"City is required").optional(),state:I.string().min(1,"State is required").optional(),zipcode:I.string().min(1,"ZIP code is required").optional(),countryCode:I.string().min(1,"Country is required").optional(),phone:I.string().min(1,"Phone number is required").optional(),email:I.string().email("Please enter a valid email address").optional()});I.object({primary:I.boolean(),userId:I.string().min(1,"User ID is required")});I.object({weight:I.union([I.string(),I.number()]).transform(String),unit:I.string().optional().default("oz"),product:I.string(),update:I.boolean().optional().default(!0),owner:I.string(),customer:I.string(),length:I.union([I.string(),I.number()]).transform(Number),width:I.union([I.string(),I.number()]).transform(Number),height:I.union([I.string(),I.number()]).transform(Number)});I.object({carrier:I.string(),service:I.string(),price:I.string(),deliveryTime:I.string(),objectId:I.string().min(1,"Rate ID is required")});I.object({rate_id:I.string().min(1,"Rate ID is required"),order:I.union([I.string(),I.object({_id:I.string(),customer:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),email:I.string().email(),address:I.object({name:I.string(),addrress1:I.string(),city:I.string(),state:I.string(),zipcode:I.string(),phone:I.string(),email:I.string().email()}).optional()}),seller:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),email:I.string().email()})})]),isBundle:I.boolean().optional(),shipping_fee:I.union([I.string(),I.number()]).transform(Number),servicelevel:I.string().min(1,"Service level is required"),carrier:I.string().optional(),deliveryTime:I.string().optional()});I.object({success:I.boolean(),message:I.string(),data:I.object({tracking_number:I.string(),label_url:I.string().optional(),label_data:I.string().optional(),carrier:I.string(),service:I.string(),cost:I.string(),delivery_time:I.string(),purchased_at:I.string()}).optional(),error:I.string().optional()});I.object({orderIds:I.array(I.string().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:I.string().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:I.string().min(1,"Rate ID is required")});I.object({success:I.boolean(),message:I.string(),data:I.object({tracking_number:I.string(),label_url:I.string().optional(),cost:I.number(),carrier:I.string(),service:I.string(),affected_orders:I.array(I.string()),update_results:I.array(I.object({orderId:I.string(),success:I.boolean(),error:I.string().optional(),data:I.any().optional()})),aggregated_weight:I.string().optional(),aggregated_dimensions:I.string().optional()}).optional(),error:I.string().optional()});const DR=p.createContext(null);function Tq({children:t}){console.log("[AuthProvider] Initializing AuthProvider");const[e,n]=p.useState(null),[r,i]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),[d,h]=p.useState(null),f=p.useRef(!1),m=p.useRef(!1),v=p.useRef(0),_=p.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",r,"user:",e?e.id:"null","isAuthenticated:",!!e);const g=!!e,C=async(N,T,A=!1)=>{var L,q;try{const V=await N.getIdToken(!0);let z=null;if(N.providerData&&N.providerData.length>0&&(N.providerData.some(fe=>fe.providerId==="apple.com")?z="apple":N.providerData.some(fe=>fe.providerId==="google.com")&&(z="google")),!z&&(T==null?void 0:T.providerId)==="apple.com"?z="apple":!z&&(T==null?void 0:T.providerId)==="google.com"&&(z="google"),!z)throw new Error("Unable to determine authentication provider");let F="",H="",X=N.email||"";if(z==="apple"&&(T!=null&&T.profile)){const fe=T.profile;fe.name&&(F=fe.name.firstName||"",H=fe.name.lastName||""),fe.email&&(X=fe.email)}else(z==="google"||!(T!=null&&T.profile))&&(F=((L=N.displayName)==null?void 0:L.split(" ")[0])||"",H=((q=N.displayName)==null?void 0:q.split(" ").slice(1).join(" "))||"");const J={idToken:V,uid:N.uid,email:X,firstName:F,lastName:H,type:z,profilePhoto:N.photoURL||"",userName:z==="apple"?"":X||N.uid,country:"",phone:"",gender:""},W=await gt("POST","/api/auth/social",J),ge=await W.json();if(!W.ok)throw new Error(ge.error||`Authentication failed: ${W.status}`);if(ge.success){if(!A&&ge.newuser===!0)return o(!0),c(N.email||""),h(N),ge;const fe={id:ge.data._id||ge.data.id,email:ge.data.email,firstName:ge.data.firstName,lastName:ge.data.lastName||"",profilePhoto:ge.data.profilePhoto||N.photoURL||"",userName:ge.data.userName,country:ge.data.country||"",phone:ge.data.phone||"",seller:ge.data.seller||!1,admin:ge.data.admin||!1,authProvider:z,address:ge.data.address,defaultpaymentmethod:ge.data.defaultpaymentmethod};n(fe),localStorage.setItem("userId",fe.id),localStorage.setItem("user",JSON.stringify(fe)),ge.accessToken&&localStorage.setItem("accessToken",ge.accessToken),o(!1),c(null),h(null)}else throw new Error(ge.message||"Authentication failed");return ge}catch(V){throw console.error("Authentication failed:",(V==null?void 0:V.message)||V),V}},j=async(N,T)=>await y(N,T),y=async(N,T)=>{try{i(!0);const A=pq.parse({email:N,password:T}),q=await(await gt("POST","/api/auth/login",A)).json();if(q.success){const V={id:q.data._id||q.data.id,email:q.data.email,firstName:q.data.firstName,lastName:q.data.lastName||"",profilePhoto:q.data.profilePhoto||"",userName:q.data.userName,country:q.data.country||"",phone:q.data.phone||"",seller:q.data.seller||!1,admin:q.data.admin||!1,authProvider:"email",address:q.data.address,defaultpaymentmethod:q.data.defaultpaymentmethod};n(V),localStorage.setItem("userId",V.id),localStorage.setItem("user",JSON.stringify(V)),q.accessToken&&localStorage.setItem("accessToken",q.accessToken)}else{const V=q.message||q.error||"Login failed";throw new Error(V)}}catch(A){throw console.error("Email login failed:",A),A}finally{i(!1)}},x=async(N,T,A,L,q,V,z)=>{try{i(!0);const F=gq.parse({email:N,password:T,firstName:A,lastName:L,userName:q,phone:V,country:z}),X=await(await gt("POST","/api/auth/signup",F)).json();if(X.success){const J={id:X.data._id||X.data.id,email:X.data.email,firstName:X.data.firstName,lastName:X.data.lastName||"",profilePhoto:X.data.profilePhoto||"",userName:X.data.userName,country:X.data.country||z,phone:X.data.phone||"",seller:X.data.seller||!1,admin:X.data.admin||!1,authProvider:"email",address:X.data.address,defaultpaymentmethod:X.data.defaultpaymentmethod};n(J),localStorage.setItem("userId",J.id),localStorage.setItem("user",JSON.stringify(J)),X.accessToken&&localStorage.setItem("accessToken",X.accessToken)}else{const J=X.message||X.error||"Signup failed";throw new Error(J)}}catch(F){throw console.error("Email signup failed:",F),F}finally{i(!1)}},P=async()=>{try{i(!0);const N=await oW();if(N!=null&&N.user){const T=N.user.email;if(!T)throw new Error("No email found in Google account");const L=await(await gt("GET",`/api/users/userexists/email?email=${encodeURIComponent(T)}`)).json();console.log("[loginWithGoogle] User existence check:",L),L.exists?await C(N.user,N==null?void 0:N.additionalUserInfo,!0):(o(!0),c(T),h(N.user),console.log("[loginWithGoogle] New user detected, redirecting to data collection"))}}catch(N){throw console.error("Google login failed:",N),N}finally{i(!1)}},D=async()=>{try{i(!0);const N=await uW();N!=null&&N.user&&await C(N.user,N==null?void 0:N.additionalUserInfo)}catch(N){throw console.error("Apple login failed:",N),N}finally{i(!1)}},O=async N=>{try{if(i(!0),!d)throw new Error("No pending social authentication data found");const T=IR.parse(N);let A="google";d.providerData&&d.providerData.length>0&&(d.providerData.some(z=>z.providerId==="apple.com")?A="apple":d.providerData.some(z=>z.providerId==="google.com")&&(A="google"));const L={email:d.email||"",firstName:T.firstName,lastName:T.lastName,userName:T.userName,type:A,profilePhoto:d.photoURL||"",country:T.country||"",phone:T.phone||"",gender:T.gender||""},V=await(await gt("POST","/api/auth/social/complete",L)).json();if(V.success){const z={id:V.data._id||V.data.id,email:V.data.email,firstName:V.data.firstName,lastName:V.data.lastName||"",profilePhoto:V.data.profilePhoto||d.photoURL||"",userName:V.data.userName,country:V.data.country||"",phone:V.data.phone||"",seller:V.data.seller||!1,admin:V.data.admin||!1,authProvider:A,address:V.data.address,defaultpaymentmethod:V.data.defaultpaymentmethod};n(z),localStorage.setItem("userId",z.id),localStorage.setItem("user",JSON.stringify(z)),V.accessToken&&localStorage.setItem("accessToken",V.accessToken),o(!1),c(null),h(null)}else throw new Error(V.error||"Failed to complete social authentication")}catch(T){throw console.error("Social auth completion failed:",T),T}finally{i(!1)}},E=async()=>{try{await gt("POST","/api/auth/logout",{}),await dW(),n(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),o(!1),c(null),h(null)}catch(N){console.error("Logout failed:",N),n(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),o(!1),c(null),h(null)}},b=async()=>{try{console.log("[checkAuth] Starting auth check...");const N=cW(),T=new Promise(q=>setTimeout(()=>q(null),2e3)),A=await Promise.race([N,T]);if(A!=null&&A.user&&!f.current){f.current=!0;try{await C(A.user,A==null?void 0:A.additionalUserInfo)}finally{f.current=!1}return}const L=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",L?"EXISTS":"NONE"),L)try{const q=JSON.parse(L);console.log("[checkAuth] Setting user from localStorage:",q.id),n(q),gt("GET","/api/auth/session").then(V=>V.json()).then(V=>{V.success||console.log("Session validation failed but keeping localStorage user")}).catch(V=>{console.log("Session validation error but keeping localStorage user:",V)})}catch(q){console.error("Failed to parse stored user data:",q),localStorage.removeItem("userId"),localStorage.removeItem("user"),n(null)}else n(null)}catch(N){console.error("Auth check failed:",N);const T=localStorage.getItem("user");if(T)try{const A=JSON.parse(T);n(A)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),n(null)}else n(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),m.current=!0,i(!1)}},S=async()=>{try{if(!(e!=null&&e.id)){console.log("[refreshUserData] No user logged in");return}if(_.current){console.log("[refreshUserData] Already refreshing, skipping...");return}const N=Date.now();if(N-v.current<2e3){console.log("[refreshUserData] Refreshed recently, skipping...");return}_.current=!0,v.current=N,console.log("[refreshUserData] Fetching latest user data for:",e.id);const A=await(await gt("GET",`/api/address/default/address/${e.id}`)).json(),L=(A==null?void 0:A.address)||null,V=await(await gt("GET",`/api/users/paymentmethod/${e.id}`)).json(),z=(V==null?void 0:V.data)||null,F={...e,address:L||e.address,defaultpaymentmethod:z||e.defaultpaymentmethod};n(F),localStorage.setItem("user",JSON.stringify(F)),console.log("[refreshUserData] User data updated:",{hasAddress:!!F.address,hasPayment:!!F.defaultpaymentmethod})}catch(N){console.error("[refreshUserData] Failed to refresh user data:",N)}finally{_.current=!1}};p.useEffect(()=>{const N=fW(async T=>{console.log("[Firebase Listener] Auth state changed, user:",T?"EXISTS":"NONE","hasCheckedAuth:",m.current),T||n(null),m.current?(console.log("[Firebase Listener] Setting isLoading = false"),i(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return b(),()=>N()},[]);const R={user:e,isLoading:r,isAuthenticated:g,pendingSocialAuth:a,pendingSocialAuthEmail:l,pendingSocialAuthData:d,login:j,emailLogin:y,emailSignup:x,loginWithGoogle:P,loginWithApple:D,completeSocialAuth:O,logout:E,checkAuth:b,refreshUserData:S};return s.jsx(DR.Provider,{value:R,children:t})}function Ka(){const t=p.useContext(DR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const MR={app_name:"App",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0},OR=p.createContext({settings:MR,isLoading:!0});function H1(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,i=Math.max(e,n,r),a=Math.min(e,n,r);let o=0,l=0,c=(i+a)/2;if(i!==a){const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case e:o=((n-r)/d+(n<r?6:0))/6;break;case n:o=((r-e)/d+2)/6;break;case r:o=((e-n)/d+4)/6;break}}return o=Math.round(o*360),l=Math.round(l*100),c=Math.round(c*100),`${o} ${l}% ${c}%`}function q1(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*i+.7152*a+.0722*o}function Pq(t,e){console.log(" Applying theme colors:",{primaryColor:t,secondaryColor:e});const n=document.documentElement,r=H1(t),i=H1(e);console.log(" Converted to HSL:",{primaryHSL:r,secondaryHSL:i});const a=q1(t),o=a>.5;console.log(" Luminance:",{luminance:a,isLightColor:o});const l=o?"0 0% 9%":"0 0% 100%";n.style.setProperty("--primary",r),n.style.setProperty("--primary-foreground",l),n.style.setProperty("--ring",r),n.style.setProperty("--chart-1",r),n.style.setProperty("--sidebar-primary",r),n.style.setProperty("--sidebar-primary-foreground",l),n.style.setProperty("--sidebar-ring",r);const h=q1(e)>.5?"0 0% 9%":"0 0% 100%";n.style.setProperty("--secondary",i),n.style.setProperty("--secondary-foreground",h),n.style.setProperty("--accent",i),n.style.setProperty("--accent-foreground",h),n.style.setProperty("--chart-2",i),console.log(" Theme colors applied successfully")}function Aq({children:t}){const[e,n]=p.useState(MR),[r,i]=p.useState(!0);return p.useEffect(()=>{async function a(){try{const o=await fetch("/api/settings");if(o.ok){const l=await o.json();console.log(" Settings fetched:",l),l.success&&l.data&&(console.log(" Settings data:",l.data),n(l.data))}}catch(o){console.error("Failed to fetch app settings:",o)}finally{i(!1)}}a()},[]),p.useEffect(()=>{e.primary_color&&e.secondary_color&&Pq(e.primary_color,e.secondary_color)},[e.primary_color,e.secondary_color]),s.jsx(OR.Provider,{value:{settings:e,isLoading:r},children:t})}function ph(){const t=p.useContext(OR);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}var gh=t=>t.type==="checkbox",vo=t=>t instanceof Date,Bn=t=>t==null;const LR=t=>typeof t=="object";var Gt=t=>!Bn(t)&&!Array.isArray(t)&&LR(t)&&!vo(t),FR=t=>Gt(t)&&t.target?gh(t.target)?t.target.checked:t.target.value:t,Iq=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$R=(t,e)=>t.has(Iq(e)),Rq=t=>{const e=t.constructor&&t.constructor.prototype;return Gt(e)&&e.hasOwnProperty("isPrototypeOf")},xj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(xj&&(t instanceof Blob||r))&&(n||Gt(t)))if(e=n?[]:{},!n&&!Rq(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=wn(t[i]));else return t;return e}var Op=t=>Array.isArray(t)?t.filter(Boolean):[],qt=t=>t===void 0,je=(t,e,n)=>{if(!e||!Gt(t))return n;const r=Op(e.split(/[,[\].]+?/)).reduce((i,a)=>Bn(i)?i:i[a],t);return qt(r)||r===t?qt(t[e])?n:t[e]:r},ur=t=>typeof t=="boolean",vj=t=>/^\w*$/.test(t),UR=t=>Op(t.replace(/["|']|\]/g,"").split(/\.|\[/)),mt=(t,e,n)=>{let r=-1;const i=vj(e)?[e]:UR(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=Gt(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const zm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VR=qe.createContext(null),Lp=()=>qe.useContext(VR),Dq=t=>{const{children:e,...n}=t;return qe.createElement(VR.Provider,{value:n},e)};var zR=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Kr.all&&(e._proxyFormState[o]=!r||Kr.all),n&&(n[o]=!0),t[o]}});return i};function Mq(t){const e=Lp(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=qe.useState(n._formState),c=qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=qe.useRef(i);return d.current=i,qe.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,a]),qe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),qe.useMemo(()=>zR(o,n,c.current,!1),[o,n])}var Ds=t=>typeof t=="string",BR=(t,e,n,r,i)=>Ds(t)?(r&&e.watch.add(t),je(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),je(n,a))):(r&&(e.watchAll=!0),n);function Oq(t){const e=Lp(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t||{},l=qe.useRef(r),c=qe.useRef(i);l.current=r,qe.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&h(BR(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,h]=qe.useState(n._getWatch(r,i));return qe.useEffect(()=>n._removeUnmounted()),d}function Lq(t){const e=Lp(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a}=t,o=$R(i._names.array,n),l=Oq({control:i,name:n,defaultValue:je(i._formValues,n,je(i._defaultValues,n,t.defaultValue)),exact:!0}),c=Mq({control:i,name:n,exact:!0}),d=qe.useRef(t),h=qe.useRef(i.register(n,{...t.rules,value:l,...ur(t.disabled)?{disabled:t.disabled}:{}})),f=qe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!je(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!je(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!je(c.validatingFields,n)},error:{enumerable:!0,get:()=>je(c.errors,n)}}),[c,n]),m=qe.useCallback(C=>h.current.onChange({target:{value:FR(C),name:n},type:zm.CHANGE}),[n]),v=qe.useCallback(()=>h.current.onBlur({target:{value:je(i._formValues,n),name:n},type:zm.BLUR}),[n,i._formValues]),_=qe.useCallback(C=>{const j=je(i._fields,n);j&&C&&(j._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:y=>C.setCustomValidity(y),reportValidity:()=>C.reportValidity()})},[i._fields,n]),g=qe.useMemo(()=>({name:n,value:l,...ur(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:v,ref:_}),[n,r,c.disabled,m,v,_,l]);return qe.useEffect(()=>{const C=i._options.shouldUnregister||a;i.register(n,{...d.current.rules,...ur(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(y,x)=>{const P=je(i._fields,y);P&&P._f&&(P._f.mount=x)};if(j(n,!0),C){const y=wn(je(i._options.defaultValues,n));mt(i._defaultValues,n,y),qt(je(i._formValues,n))&&mt(i._formValues,n,y)}return!o&&i.register(n),()=>{(o?C&&!i._state.action:C)?i.unregister(n):j(n,!1)}},[n,i,o,a]),qe.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),qe.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const Fq=t=>t.render(Lq(t));var WR=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},nu=t=>Array.isArray(t)?t:[t],K1=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},uy=t=>Bn(t)||!LR(t);function sa(t,e){if(uy(t)||uy(e))return t===e;if(vo(t)&&vo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(vo(a)&&vo(o)||Gt(a)&&Gt(o)||Array.isArray(a)&&Array.isArray(o)?!sa(a,o):a!==o)return!1}}return!0}var Un=t=>Gt(t)&&!Object.keys(t).length,yj=t=>t.type==="file",Gr=t=>typeof t=="function",Bm=t=>{if(!xj)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},HR=t=>t.type==="select-multiple",wj=t=>t.type==="radio",$q=t=>wj(t)||gh(t),mx=t=>Bm(t)&&t.isConnected;function Uq(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=qt(t)?r++:t[e[r++]];return t}function Vq(t){for(const e in t)if(t.hasOwnProperty(e)&&!qt(t[e]))return!1;return!0}function en(t,e){const n=Array.isArray(e)?e:vj(e)?[e]:UR(e),r=n.length===1?t:Uq(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Gt(r)&&Un(r)||Array.isArray(r)&&Vq(r))&&en(t,n.slice(0,-1)),t}var qR=t=>{for(const e in t)if(Gr(t[e]))return!0;return!1};function Wm(t,e={}){const n=Array.isArray(t);if(Gt(t)||n)for(const r in t)Array.isArray(t[r])||Gt(t[r])&&!qR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wm(t[r],e[r])):Bn(t[r])||(e[r]=!0);return e}function KR(t,e,n){const r=Array.isArray(t);if(Gt(t)||r)for(const i in t)Array.isArray(t[i])||Gt(t[i])&&!qR(t[i])?qt(e)||uy(n[i])?n[i]=Array.isArray(t[i])?Wm(t[i],[]):{...Wm(t[i])}:KR(t[i],Bn(e)?{}:e[i],n[i]):n[i]=!sa(t[i],e[i]);return n}var Sd=(t,e)=>KR(t,e,Wm(e));const G1={value:!1,isValid:!1},Q1={value:!0,isValid:!0};var GR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qt(t[0].attributes.value)?qt(t[0].value)||t[0].value===""?Q1:{value:t[0].value,isValid:!0}:Q1:G1}return G1},QR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>qt(t)?t:e?t===""?NaN:t&&+t:n&&Ds(t)?new Date(t):r?r(t):t;const Y1={isValid:!1,value:null};var YR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Y1):Y1;function X1(t){const e=t.ref;return yj(e)?e.files:wj(e)?YR(t.refs).value:HR(e)?[...e.selectedOptions].map(({value:n})=>n):gh(e)?GR(t.refs).value:QR(qt(e.value)?t.ref.value:e.value,t)}var zq=(t,e,n,r)=>{const i={};for(const a of t){const o=je(e,a);o&&mt(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Hm=t=>t instanceof RegExp,Cd=t=>qt(t)?t:Hm(t)?t.source:Gt(t)?Hm(t.value)?t.value.source:t.value:t,Z1=t=>({isOnSubmit:!t||t===Kr.onSubmit,isOnBlur:t===Kr.onBlur,isOnChange:t===Kr.onChange,isOnAll:t===Kr.all,isOnTouch:t===Kr.onTouched});const J1="AsyncFunction";var Bq=t=>!!t&&!!t.validate&&!!(Gr(t.validate)&&t.validate.constructor.name===J1||Gt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===J1)),Wq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),e_=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ru=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=je(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ru(l,e))break}else if(Gt(l)&&ru(l,e))break}}};function t_(t,e,n){const r=je(t,n);if(r||vj(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=je(e,a),l=je(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var Hq=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return Un(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Kr.all))},qq=(t,e,n)=>!t||!e||t===e||nu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Kq=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Gq=(t,e)=>!Op(je(t,e)).length&&en(t,e),Qq=(t,e,n)=>{const r=nu(je(t,n));return mt(r,"root",e[n]),mt(t,n,r),t},Lf=t=>Ds(t);function n_(t,e,n="validate"){if(Lf(t)||Array.isArray(t)&&t.every(Lf)||ur(t)&&!t)return{type:n,message:Lf(t)?t:"",ref:e}}var ml=t=>Gt(t)&&!Hm(t)?t:{value:t,message:""},r_=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:h,min:f,max:m,pattern:v,validate:_,name:g,valueAsNumber:C,mount:j}=t._f,y=je(n,g);if(!j||e.has(g))return{};const x=l?l[0]:o,P=T=>{i&&x.reportValidity&&(x.setCustomValidity(ur(T)?"":T||""),x.reportValidity())},D={},O=wj(o),E=gh(o),b=O||E,S=(C||yj(o))&&qt(o.value)&&qt(y)||Bm(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,R=WR.bind(null,g,r,D),N=(T,A,L,q=ii.maxLength,V=ii.minLength)=>{const z=T?A:L;D[g]={type:T?q:V,message:z,ref:o,...R(T?q:V,z)}};if(a?!Array.isArray(y)||!y.length:c&&(!b&&(S||Bn(y))||ur(y)&&!y||E&&!GR(l).isValid||O&&!YR(l).isValid)){const{value:T,message:A}=Lf(c)?{value:!!c,message:c}:ml(c);if(T&&(D[g]={type:ii.required,message:A,ref:x,...R(ii.required,A)},!r))return P(A),D}if(!S&&(!Bn(f)||!Bn(m))){let T,A;const L=ml(m),q=ml(f);if(!Bn(y)&&!isNaN(y)){const V=o.valueAsNumber||y&&+y;Bn(L.value)||(T=V>L.value),Bn(q.value)||(A=V<q.value)}else{const V=o.valueAsDate||new Date(y),z=X=>new Date(new Date().toDateString()+" "+X),F=o.type=="time",H=o.type=="week";Ds(L.value)&&y&&(T=F?z(y)>z(L.value):H?y>L.value:V>new Date(L.value)),Ds(q.value)&&y&&(A=F?z(y)<z(q.value):H?y<q.value:V<new Date(q.value))}if((T||A)&&(N(!!T,L.message,q.message,ii.max,ii.min),!r))return P(D[g].message),D}if((d||h)&&!S&&(Ds(y)||a&&Array.isArray(y))){const T=ml(d),A=ml(h),L=!Bn(T.value)&&y.length>+T.value,q=!Bn(A.value)&&y.length<+A.value;if((L||q)&&(N(L,T.message,A.message),!r))return P(D[g].message),D}if(v&&!S&&Ds(y)){const{value:T,message:A}=ml(v);if(Hm(T)&&!y.match(T)&&(D[g]={type:ii.pattern,message:A,ref:o,...R(ii.pattern,A)},!r))return P(A),D}if(_){if(Gr(_)){const T=await _(y,n),A=n_(T,x);if(A&&(D[g]={...A,...R(ii.validate,A.message)},!r))return P(A.message),D}else if(Gt(_)){let T={};for(const A in _){if(!Un(T)&&!r)break;const L=n_(await _[A](y,n),x,A);L&&(T={...L,...R(A,L.message)},P(L.message),r&&(D[g]=T))}if(!Un(T)&&(D[g]={ref:x,...T},!r))return D}}return P(!0),D};const Yq={mode:Kr.onSubmit,reValidateMode:Kr.onChange,shouldFocusError:!0};function Xq(t={}){let e={...Yq,...t},n={submitCount:0,isDirty:!1,isLoading:Gr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Gt(e.defaultValues)||Gt(e.values)?wn(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:wn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:K1(),state:K1()},v=Z1(e.mode),_=Z1(e.reValidateMode),g=e.criteriaMode===Kr.all,C=$=>Q=>{clearTimeout(d),d=setTimeout($,Q)},j=async $=>{if(!e.disabled&&(h.isValid||f.isValid||$)){const Q=e.resolver?Un((await S()).errors):await N(r,!0);Q!==n.isValid&&m.state.next({isValid:Q})}},y=($,Q)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(l.mount)).forEach(te=>{te&&(Q?mt(n.validatingFields,te,Q):en(n.validatingFields,te))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Un(n.validatingFields)}))},x=($,Q=[],te,we,me=!0,ue=!0)=>{if(we&&te&&!e.disabled){if(o.action=!0,ue&&Array.isArray(je(r,$))){const ke=te(je(r,$),we.argA,we.argB);me&&mt(r,$,ke)}if(ue&&Array.isArray(je(n.errors,$))){const ke=te(je(n.errors,$),we.argA,we.argB);me&&mt(n.errors,$,ke),Gq(n.errors,$)}if((h.touchedFields||f.touchedFields)&&ue&&Array.isArray(je(n.touchedFields,$))){const ke=te(je(n.touchedFields,$),we.argA,we.argB);me&&mt(n.touchedFields,$,ke)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Sd(i,a)),m.state.next({name:$,isDirty:A($,Q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else mt(a,$,Q)},P=($,Q)=>{mt(n.errors,$,Q),m.state.next({errors:n.errors})},D=$=>{n.errors=$,m.state.next({errors:n.errors,isValid:!1})},O=($,Q,te,we)=>{const me=je(r,$);if(me){const ue=je(a,$,qt(te)?je(i,$):te);qt(ue)||we&&we.defaultChecked||Q?mt(a,$,Q?ue:X1(me._f)):V($,ue),o.mount&&j()}},E=($,Q,te,we,me)=>{let ue=!1,ke=!1;const Z={name:$};if(!e.disabled){if(!te||we){(h.isDirty||f.isDirty)&&(ke=n.isDirty,n.isDirty=Z.isDirty=A(),ue=ke!==Z.isDirty);const De=sa(je(i,$),Q);ke=!!je(n.dirtyFields,$),De?en(n.dirtyFields,$):mt(n.dirtyFields,$,!0),Z.dirtyFields=n.dirtyFields,ue=ue||(h.dirtyFields||f.dirtyFields)&&ke!==!De}if(te){const De=je(n.touchedFields,$);De||(mt(n.touchedFields,$,te),Z.touchedFields=n.touchedFields,ue=ue||(h.touchedFields||f.touchedFields)&&De!==te)}ue&&me&&m.state.next(Z)}return ue?Z:{}},b=($,Q,te,we)=>{const me=je(n.errors,$),ue=(h.isValid||f.isValid)&&ur(Q)&&n.isValid!==Q;if(e.delayError&&te?(c=C(()=>P($,te)),c(e.delayError)):(clearTimeout(d),c=null,te?mt(n.errors,$,te):en(n.errors,$)),(te?!sa(me,te):me)||!Un(we)||ue){const ke={...we,...ue&&ur(Q)?{isValid:Q}:{},errors:n.errors,name:$};n={...n,...ke},m.state.next(ke)}},S=async $=>{y($,!0);const Q=await e.resolver(a,e.context,zq($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y($),Q},R=async $=>{const{errors:Q}=await S($);if($)for(const te of $){const we=je(Q,te);we?mt(n.errors,te,we):en(n.errors,te)}else n.errors=Q;return Q},N=async($,Q,te={valid:!0})=>{for(const we in $){const me=$[we];if(me){const{_f:ue,...ke}=me;if(ue){const Z=l.array.has(ue.name),De=me._f&&Bq(me._f);De&&h.validatingFields&&y([we],!0);const St=await r_(me,l.disabled,a,g,e.shouldUseNativeValidation&&!Q,Z);if(De&&h.validatingFields&&y([we]),St[ue.name]&&(te.valid=!1,Q))break;!Q&&(je(St,ue.name)?Z?Qq(n.errors,St,ue.name):mt(n.errors,ue.name,St[ue.name]):en(n.errors,ue.name))}!Un(ke)&&await N(ke,Q,te)}}return te.valid},T=()=>{for(const $ of l.unMount){const Q=je(r,$);Q&&(Q._f.refs?Q._f.refs.every(te=>!mx(te)):!mx(Q._f.ref))&&We($)}l.unMount=new Set},A=($,Q)=>!e.disabled&&($&&Q&&mt(a,$,Q),!sa(W(),i)),L=($,Q,te)=>BR($,l,{...o.mount?a:qt(Q)?i:Ds($)?{[$]:Q}:Q},te,Q),q=$=>Op(je(o.mount?a:i,$,e.shouldUnregister?je(i,$,[]):[])),V=($,Q,te={})=>{const we=je(r,$);let me=Q;if(we){const ue=we._f;ue&&(!ue.disabled&&mt(a,$,QR(Q,ue)),me=Bm(ue.ref)&&Bn(Q)?"":Q,HR(ue.ref)?[...ue.ref.options].forEach(ke=>ke.selected=me.includes(ke.value)):ue.refs?gh(ue.ref)?ue.refs.length>1?ue.refs.forEach(ke=>(!ke.defaultChecked||!ke.disabled)&&(ke.checked=Array.isArray(me)?!!me.find(Z=>Z===ke.value):me===ke.value)):ue.refs[0]&&(ue.refs[0].checked=!!me):ue.refs.forEach(ke=>ke.checked=ke.value===me):yj(ue.ref)?ue.ref.value="":(ue.ref.value=me,ue.ref.type||m.state.next({name:$,values:wn(a)})))}(te.shouldDirty||te.shouldTouch)&&E($,me,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&J($)},z=($,Q,te)=>{for(const we in Q){const me=Q[we],ue=`${$}.${we}`,ke=je(r,ue);(l.array.has($)||Gt(me)||ke&&!ke._f)&&!vo(me)?z(ue,me,te):V(ue,me,te)}},F=($,Q,te={})=>{const we=je(r,$),me=l.array.has($),ue=wn(Q);mt(a,$,ue),me?(m.array.next({name:$,values:wn(a)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&te.shouldDirty&&m.state.next({name:$,dirtyFields:Sd(i,a),isDirty:A($,ue)})):we&&!we._f&&!Bn(ue)?z($,ue,te):V($,ue,te),e_($,l)&&m.state.next({...n}),m.state.next({name:o.mount?$:void 0,values:wn(a)})},H=async $=>{o.mount=!0;const Q=$.target;let te=Q.name,we=!0;const me=je(r,te),ue=ke=>{we=Number.isNaN(ke)||vo(ke)&&isNaN(ke.getTime())||sa(ke,je(a,te,ke))};if(me){let ke,Z;const De=Q.type?X1(me._f):FR($),St=$.type===zm.BLUR||$.type===zm.FOCUS_OUT,Tn=!Wq(me._f)&&!e.resolver&&!je(n.errors,te)&&!me._f.deps||Kq(St,je(n.touchedFields,te),n.isSubmitted,_,v),Pn=e_(te,l,St);mt(a,te,De),St?(me._f.onBlur&&me._f.onBlur($),c&&c(0)):me._f.onChange&&me._f.onChange($);const Fr=E(te,De,St),ed=!Un(Fr)||Pn;if(!St&&m.state.next({name:te,type:$.type,values:wn(a)}),Tn)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?St&&j():St||j()),ed&&m.state.next({name:te,...Pn?{}:Fr});if(!St&&Pn&&m.state.next({...n}),e.resolver){const{errors:ri}=await S([te]);if(ue(De),we){const kh=t_(n.errors,r,te),cl=t_(ri,r,kh.name||te);ke=cl.error,te=cl.name,Z=Un(ri)}}else y([te],!0),ke=(await r_(me,l.disabled,a,g,e.shouldUseNativeValidation))[te],y([te]),ue(De),we&&(ke?Z=!1:(h.isValid||f.isValid)&&(Z=await N(r,!0)));we&&(me._f.deps&&J(me._f.deps),b(te,Z,ke,Fr))}},X=($,Q)=>{if(je(n.errors,Q)&&$.focus)return $.focus(),1},J=async($,Q={})=>{let te,we;const me=nu($);if(e.resolver){const ue=await R(qt($)?$:me);te=Un(ue),we=$?!me.some(ke=>je(ue,ke)):te}else $?(we=(await Promise.all(me.map(async ue=>{const ke=je(r,ue);return await N(ke&&ke._f?{[ue]:ke}:ke)}))).every(Boolean),!(!we&&!n.isValid)&&j()):we=te=await N(r);return m.state.next({...!Ds($)||(h.isValid||f.isValid)&&te!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:te}:{},errors:n.errors}),Q.shouldFocus&&!we&&ru(r,X,$?me:l.mount),we},W=$=>{const Q={...o.mount?a:i};return qt($)?Q:Ds($)?je(Q,$):$.map(te=>je(Q,te))},ge=($,Q)=>({invalid:!!je((Q||n).errors,$),isDirty:!!je((Q||n).dirtyFields,$),error:je((Q||n).errors,$),isValidating:!!je(n.validatingFields,$),isTouched:!!je((Q||n).touchedFields,$)}),fe=$=>{$&&nu($).forEach(Q=>en(n.errors,Q)),m.state.next({errors:$?n.errors:{}})},ut=($,Q,te)=>{const we=(je(r,$,{_f:{}})._f||{}).ref,me=je(n.errors,$)||{},{ref:ue,message:ke,type:Z,...De}=me;mt(n.errors,$,{...De,...Q,ref:we}),m.state.next({name:$,errors:n.errors,isValid:!1}),te&&te.shouldFocus&&we&&we.focus&&we.focus()},Le=($,Q)=>Gr($)?m.state.subscribe({next:te=>$(L(void 0,Q),te)}):L($,Q,!0),Ce=$=>m.state.subscribe({next:Q=>{qq($.name,Q.name,$.exact)&&Hq(Q,$.formState||h,bt,$.reRenderRoot)&&$.callback({values:{...a},...n,...Q})}}).unsubscribe,ze=$=>(o.mount=!0,f={...f,...$.formState},Ce({...$,formState:f})),We=($,Q={})=>{for(const te of $?nu($):l.mount)l.mount.delete(te),l.array.delete(te),Q.keepValue||(en(r,te),en(a,te)),!Q.keepError&&en(n.errors,te),!Q.keepDirty&&en(n.dirtyFields,te),!Q.keepTouched&&en(n.touchedFields,te),!Q.keepIsValidating&&en(n.validatingFields,te),!e.shouldUnregister&&!Q.keepDefaultValue&&en(i,te);m.state.next({values:wn(a)}),m.state.next({...n,...Q.keepDirty?{isDirty:A()}:{}}),!Q.keepIsValid&&j()},K=({disabled:$,name:Q})=>{(ur($)&&o.mount||$||l.disabled.has(Q))&&($?l.disabled.add(Q):l.disabled.delete(Q))},be=($,Q={})=>{let te=je(r,$);const we=ur(Q.disabled)||ur(e.disabled);return mt(r,$,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:$}},name:$,mount:!0,...Q}}),l.mount.add($),te?K({disabled:ur(Q.disabled)?Q.disabled:e.disabled,name:$}):O($,!0,Q.value),{...we?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:Cd(Q.min),max:Cd(Q.max),minLength:Cd(Q.minLength),maxLength:Cd(Q.maxLength),pattern:Cd(Q.pattern)}:{},name:$,onChange:H,onBlur:H,ref:me=>{if(me){be($,Q),te=je(r,$);const ue=qt(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,ke=$q(ue),Z=te._f.refs||[];if(ke?Z.find(De=>De===ue):ue===te._f.ref)return;mt(r,$,{_f:{...te._f,...ke?{refs:[...Z.filter(mx),ue,...Array.isArray(je(i,$))?[{}]:[]],ref:{type:ue.type,name:$}}:{ref:ue}}}),O($,!1,void 0,ue)}else te=je(r,$,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!($R(l.array,$)&&o.action)&&l.unMount.add($)}}},Ae=()=>e.shouldFocusError&&ru(r,X,l.mount),He=$=>{ur($)&&(m.state.next({disabled:$}),ru(r,(Q,te)=>{const we=je(r,te);we&&(Q.disabled=we._f.disabled||$,Array.isArray(we._f.refs)&&we._f.refs.forEach(me=>{me.disabled=we._f.disabled||$}))},0,!1))},_t=($,Q)=>async te=>{let we;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let me=wn(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:ke}=await S();n.errors=ue,me=ke}else await N(r);if(l.disabled.size)for(const ue of l.disabled)mt(me,ue,void 0);if(en(n.errors,"root"),Un(n.errors)){m.state.next({errors:{}});try{await $(me,te)}catch(ue){we=ue}}else Q&&await Q({...n.errors},te),Ae(),setTimeout(Ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},jt=($,Q={})=>{je(r,$)&&(qt(Q.defaultValue)?F($,wn(je(i,$))):(F($,Q.defaultValue),mt(i,$,wn(Q.defaultValue))),Q.keepTouched||en(n.touchedFields,$),Q.keepDirty||(en(n.dirtyFields,$),n.isDirty=Q.defaultValue?A($,wn(je(i,$))):A()),Q.keepError||(en(n.errors,$),h.isValid&&j()),m.state.next({...n}))},vn=($,Q={})=>{const te=$?wn($):i,we=wn(te),me=Un($),ue=me?i:we;if(Q.keepDefaultValues||(i=te),!Q.keepValues){if(Q.keepDirtyValues){const ke=new Set([...l.mount,...Object.keys(Sd(i,a))]);for(const Z of Array.from(ke))je(n.dirtyFields,Z)?mt(ue,Z,je(a,Z)):F(Z,je(ue,Z))}else{if(xj&&qt($))for(const ke of l.mount){const Z=je(r,ke);if(Z&&Z._f){const De=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(Bm(De)){const St=De.closest("form");if(St){St.reset();break}}}}for(const ke of l.mount)F(ke,je(ue,ke))}a=wn(ue),m.array.next({values:{...ue}}),m.state.next({values:{...ue}})}l={mount:Q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:Q.keepSubmitCount?n.submitCount:0,isDirty:me?!1:Q.keepDirty?n.isDirty:!!(Q.keepDefaultValues&&!sa($,i)),isSubmitted:Q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:me?{}:Q.keepDirtyValues?Q.keepDefaultValues&&a?Sd(i,a):n.dirtyFields:Q.keepDefaultValues&&$?Sd(i,$):Q.keepDirty?n.dirtyFields:{},touchedFields:Q.keepTouched?n.touchedFields:{},errors:Q.keepErrors?n.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},yn=($,Q)=>vn(Gr($)?$(a):$,Q),xs=($,Q={})=>{const te=je(r,$),we=te&&te._f;if(we){const me=we.refs?we.refs[0]:we.ref;me.focus&&(me.focus(),Q.shouldSelect&&Gr(me.select)&&me.select())}},bt=$=>{n={...n,...$}},ni={control:{register:be,unregister:We,getFieldState:ge,handleSubmit:_t,setError:ut,_subscribe:Ce,_runSchema:S,_getWatch:L,_getDirty:A,_setValid:j,_setFieldArray:x,_setDisabledField:K,_setErrors:D,_getFieldArray:q,_reset:vn,_resetDefaultValues:()=>Gr(e.defaultValues)&&e.defaultValues().then($=>{yn($,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:He,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:ze,trigger:J,register:be,handleSubmit:_t,watch:Le,setValue:F,getValues:W,reset:yn,resetField:jt,clearErrors:fe,unregister:We,setError:ut,setFocus:xs,getFieldState:ge};return{...ni,formControl:ni}}function Zq(t={}){const e=qe.useRef(void 0),n=qe.useRef(void 0),[r,i]=qe.useState({isDirty:!1,isValidating:!1,isLoading:Gr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Gr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Xq(t),formState:r},t.formControl&&t.defaultValues&&!Gr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,qe.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),qe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),qe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),qe.useEffect(()=>{t.values&&!sa(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),qe.useEffect(()=>{t.errors&&!Un(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),qe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),qe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=zR(r,a),e.current}const s_=(t,e,n)=>{if(t&&"reportValidity"in t){const r=je(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},XR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?s_(r.ref,n,t):r.refs&&r.refs.forEach(i=>s_(i,n,t))}},Jq=(t,e)=>{e.shouldUseNativeValidation&&XR(t,e);const n={};for(const r in t){const i=je(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(eK(e.names||Object.keys(t),r)){const o=Object.assign({},je(n,r));mt(o,"root",a),mt(n,r,o)}else mt(n,r,a)}return n},eK=(t,e)=>t.some(n=>n.startsWith(e+"."));var tK=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=WR(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},nK=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&XR({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Jq(tK(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const ae=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ae.displayName="Card";const ce=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",t),...e}));ce.displayName="CardHeader";const he=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));he.displayName="CardTitle";const Oe=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));Oe.displayName="CardDescription";const oe=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("p-6 pt-0",t),...e}));oe.displayName="CardContent";const rK=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",t),...e}));rK.displayName="CardFooter";const Wu=sh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?cP:"button";return s.jsx(o,{className:ye(Wu({variant:e,size:n,className:t})),ref:a,...i})});ee.displayName="Button";const Ne=p.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ne.displayName="Input";var sK="Label",ZR=p.forwardRef((t,e)=>s.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ZR.displayName=sK;var JR=ZR;const iK=sh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=p.forwardRef(({className:t,...e},n)=>s.jsx(JR,{ref:n,className:ye(iK(),t),...e}));ve.displayName=JR.displayName;const aK=Dq,eD=p.createContext({}),pl=({...t})=>s.jsx(eD.Provider,{value:{name:t.name},children:s.jsx(Fq,{...t})}),Fp=()=>{const t=p.useContext(eD),e=p.useContext(tD),{getFieldState:n,formState:r}=Lp(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},tD=p.createContext({}),io=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return s.jsx(tD.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:ye("space-y-2",t),...e})})});io.displayName="FormItem";const oK=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=Fp();return s.jsx(ve,{ref:n,className:ye(r&&"text-destructive",t),htmlFor:i,...e})});oK.displayName="FormLabel";const ao=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=Fp();return s.jsx(cP,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});ao.displayName="FormControl";const lK=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Fp();return s.jsx("p",{ref:n,id:r,className:ye("text-sm text-muted-foreground",t),...e})});lK.displayName="FormDescription";const oo=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=Fp(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:ye("text-sm font-medium text-destructive",t),...n,children:o}):null});oo.displayName="FormMessage";function i_(t,[e,n]){return Math.min(n,Math.max(e,t))}var cK=p.createContext(void 0);function $p(t){const e=p.useContext(cK);return t||e||"ltr"}var px=0;function Up(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??a_()),document.body.insertAdjacentElement("beforeend",t[1]??a_()),px++,()=>{px===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),px--}},[])}function a_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gx="focusScope.autoFocusOnMount",xx="focusScope.autoFocusOnUnmount",o_={bubbles:!1,cancelable:!0},dK="FocusScope",xh=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=kn(i),h=kn(a),f=p.useRef(null),m=st(e,g=>c(g)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(x){if(v.paused||!l)return;const P=x.target;l.contains(P)?f.current=P:Yi(f.current,{select:!0})},C=function(x){if(v.paused||!l)return;const P=x.relatedTarget;P!==null&&(l.contains(P)||Yi(f.current,{select:!0}))},j=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&Yi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",C);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",C),y.disconnect()}}},[r,l,v.paused]),p.useEffect(()=>{if(l){c_.add(v);const g=document.activeElement;if(!l.contains(g)){const j=new CustomEvent(gx,o_);l.addEventListener(gx,d),l.dispatchEvent(j),j.defaultPrevented||(uK(gK(nD(l)),{select:!0}),document.activeElement===g&&Yi(l))}return()=>{l.removeEventListener(gx,d),setTimeout(()=>{const j=new CustomEvent(xx,o_);l.addEventListener(xx,h),l.dispatchEvent(j),j.defaultPrevented||Yi(g??document.body,{select:!0}),l.removeEventListener(xx,h),c_.remove(v)},0)}}},[l,d,h,v]);const _=p.useCallback(g=>{if(!n&&!r||v.paused)return;const C=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,j=document.activeElement;if(C&&j){const y=g.currentTarget,[x,P]=hK(y);x&&P?!g.shiftKey&&j===P?(g.preventDefault(),n&&Yi(x,{select:!0})):g.shiftKey&&j===x&&(g.preventDefault(),n&&Yi(P,{select:!0})):j===y&&g.preventDefault()}},[n,r,v.paused]);return s.jsx(Re.div,{tabIndex:-1,...o,ref:m,onKeyDown:_})});xh.displayName=dK;function uK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Yi(r,{select:e}),document.activeElement!==n)return}function hK(t){const e=nD(t),n=l_(e,t),r=l_(e.reverse(),t);return[n,r]}function nD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l_(t,e){for(const n of t)if(!fK(n,{upTo:e}))return n}function fK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mK(t){return t instanceof HTMLInputElement&&"select"in t}function Yi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mK(t)&&e&&t.select()}}var c_=pK();function pK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=d_(t,e),t.unshift(e)},remove(e){var n;t=d_(t,e),(n=t[0])==null||n.resume()}}}function d_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gK(t){return t.filter(e=>e.tagName!=="A")}function rD(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},gl=new WeakMap,uf=new WeakMap,hf={},vx=0,sD=function(t){return t&&(t.host||sD(t.parentNode))},vK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=sD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yK=function(t,e,n,r){var i=vK(e,Array.isArray(t)?t:[t]);hf[n]||(hf[n]=new WeakMap);var a=hf[n],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var v=m.getAttribute(r),_=v!==null&&v!=="false",g=(gl.get(m)||0)+1,C=(a.get(m)||0)+1;gl.set(m,g),a.set(m,C),o.push(m),g===1&&_&&uf.set(m,!0),C===1&&m.setAttribute(n,"true"),_||m.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return h(e),l.clear(),vx++,function(){o.forEach(function(f){var m=gl.get(f)-1,v=a.get(f)-1;gl.set(f,m),a.set(f,v),m||(uf.has(f)||f.removeAttribute(r),uf.delete(f)),v||f.removeAttribute(n)}),vx--,vx||(gl=new WeakMap,gl=new WeakMap,uf=new WeakMap,hf={})}},Vp=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=xK(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),yK(r,i,n,"aria-hidden")):function(){return null}},Ts=function(){return Ts=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ts.apply(this,arguments)};function iD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wK(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Ff="right-scroll-bar-position",$f="width-before-scroll-bar",jK="with-scroll-bars-hidden",bK="--removed-body-scroll-bar-size";function yx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function NK(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var _K=typeof window<"u"?p.useLayoutEffect:p.useEffect,u_=new WeakMap;function SK(t,e){var n=NK(null,function(r){return t.forEach(function(i){return yx(i,r)})});return _K(function(){var r=u_.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||yx(l,null)}),a.forEach(function(l){i.has(l)||yx(l,o)})}u_.set(n,t)},[t]),n}function CK(t){return t}function kK(t,e){e===void 0&&(e=CK);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return i}function EK(t){t===void 0&&(t={});var e=kK(null);return e.options=Ts({async:!0,ssr:!1},t),e}var aD=function(t){var e=t.sideCar,n=iD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ts({},n))};aD.isSideCarExport=!0;function TK(t,e){return t.useMedium(e),aD}var oD=EK(),wx=function(){},zp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:wx,onWheelCapture:wx,onTouchMoveCapture:wx}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,v=t.noIsolation,_=t.inert,g=t.allowPinchZoom,C=t.as,j=C===void 0?"div":C,y=t.gapMode,x=iD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,D=SK([n,e]),O=Ts(Ts({},x),i);return p.createElement(p.Fragment,null,h&&p.createElement(P,{sideCar:oD,removeScrollBar:d,shards:f,noIsolation:v,inert:_,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?p.cloneElement(p.Children.only(l),Ts(Ts({},O),{ref:D})):p.createElement(j,Ts({},O,{className:c,ref:D}),l))});zp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zp.classNames={fullWidth:$f,zeroRight:Ff};var PK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=PK();return e&&t.setAttribute("nonce",e),t}function IK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var DK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AK())&&(IK(e,n),RK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},MK=function(){var t=DK();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lD=function(){var t=MK(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},OK={left:0,top:0,right:0,gap:0},jx=function(t){return parseInt(t||"",10)||0},LK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[jx(n),jx(r),jx(i)]},FK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return OK;var e=LK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$K=lD(),Jl="data-scroll-locked",UK=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(jK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Jl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ff,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($f,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($f," .").concat($f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jl,`] {
    `).concat(bK,": ").concat(l,`px;
  }
`)},h_=function(){var t=parseInt(document.body.getAttribute(Jl)||"0",10);return isFinite(t)?t:0},VK=function(){p.useEffect(function(){return document.body.setAttribute(Jl,(h_()+1).toString()),function(){var t=h_()-1;t<=0?document.body.removeAttribute(Jl):document.body.setAttribute(Jl,t.toString())}},[])},zK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;VK();var a=p.useMemo(function(){return FK(i)},[i]);return p.createElement($K,{styles:UK(a,!e,i,n?"":"!important")})},hy=!1;if(typeof window<"u")try{var ff=Object.defineProperty({},"passive",{get:function(){return hy=!0,!0}});window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{hy=!1}var xl=hy?{passive:!1}:!1,BK=function(t){return t.tagName==="TEXTAREA"},cD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!BK(t)&&n[e]==="visible")},WK=function(t){return cD(t,"overflowY")},HK=function(t){return cD(t,"overflowX")},f_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dD(t,r);if(i){var a=uD(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},KK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dD=function(t,e){return t==="v"?WK(e):HK(e)},uD=function(t,e){return t==="v"?qK(e):KK(e)},GK=function(t,e){return t==="h"&&e==="rtl"?-1:1},QK=function(t,e,n,r,i){var a=GK(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),d=!1,h=o>0,f=0,m=0;do{var v=uD(t,l),_=v[0],g=v[1],C=v[2],j=g-C-a*_;(_||j)&&dD(t,l)&&(f+=j,m+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(d=!0),d},mf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m_=function(t){return[t.deltaX,t.deltaY]},p_=function(t){return t&&"current"in t?t.current:t},YK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ZK=0,vl=[];function JK(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(ZK++)[0],a=p.useState(lD)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=wK([t.lockRef.current],(t.shards||[]).map(p_),!0).filter(Boolean);return g.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,C){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var j=mf(g),y=n.current,x="deltaX"in g?g.deltaX:y[0]-j[0],P="deltaY"in g?g.deltaY:y[1]-j[1],D,O=g.target,E=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in g&&E==="h"&&O.type==="range")return!1;var b=f_(E,O);if(!b)return!0;if(b?D=E:(D=E==="v"?"h":"v",b=f_(E,O)),!b)return!1;if(!r.current&&"changedTouches"in g&&(x||P)&&(r.current=D),!D)return!0;var S=r.current||D;return QK(S,C,g,S==="h"?x:P,!0)},[]),c=p.useCallback(function(g){var C=g;if(!(!vl.length||vl[vl.length-1]!==a)){var j="deltaY"in C?m_(C):mf(C),y=e.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&YK(D.delta,j)})[0];if(y&&y.should){C.cancelable&&C.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(p_).filter(Boolean).filter(function(D){return D.contains(C.target)}),P=x.length>0?l(C,x[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),d=p.useCallback(function(g,C,j,y){var x={name:g,delta:C,target:j,should:y,shadowParent:eG(j)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(P){return P!==x})},1)},[]),h=p.useCallback(function(g){n.current=mf(g),r.current=void 0},[]),f=p.useCallback(function(g){d(g.type,m_(g),g.target,l(g,t.lockRef.current))},[]),m=p.useCallback(function(g){d(g.type,mf(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return vl.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,xl),document.addEventListener("touchmove",c,xl),document.addEventListener("touchstart",h,xl),function(){vl=vl.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,xl),document.removeEventListener("touchmove",c,xl),document.removeEventListener("touchstart",h,xl)}},[]);var v=t.removeScrollBar,_=t.inert;return p.createElement(p.Fragment,null,_?p.createElement(a,{styles:XK(i)}):null,v?p.createElement(zK,{gapMode:t.gapMode}):null)}function eG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tG=TK(oD,JK);var vh=p.forwardRef(function(t,e){return p.createElement(zp,Ts({},t,{ref:e,sideCar:tG}))});vh.classNames=zp.classNames;var nG=[" ","Enter","ArrowUp","ArrowDown"],rG=[" ","Enter"],yh="Select",[Bp,Wp,sG]=vp(yh),[Jc,Eee]=lr(yh,[sG,qa]),Hp=qa(),[iG,Ga]=Jc(yh),[aG,oG]=Jc(yh),hD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:v,form:_}=t,g=Hp(e),[C,j]=p.useState(null),[y,x]=p.useState(null),[P,D]=p.useState(!1),O=$p(d),[E=!1,b]=Ci({prop:r,defaultProp:i,onChange:a}),[S,R]=Ci({prop:o,defaultProp:l,onChange:c}),N=p.useRef(null),T=C?_||!!C.closest("form"):!0,[A,L]=p.useState(new Set),q=Array.from(A).map(V=>V.props.value).join(";");return s.jsx(Ww,{...g,children:s.jsxs(iG,{required:v,scope:e,trigger:C,onTriggerChange:j,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:rs(),value:S,onValueChange:R,open:E,onOpenChange:b,dir:O,triggerPointerDownPosRef:N,disabled:m,children:[s.jsx(Bp.Provider,{scope:e,children:s.jsx(aG,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(V=>{L(z=>new Set(z).add(V))},[]),onNativeOptionRemove:p.useCallback(V=>{L(z=>{const F=new Set(z);return F.delete(V),F})},[]),children:n})}),T?s.jsxs(LD,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:V=>R(V.target.value),disabled:m,form:_,children:[S===void 0?s.jsx("option",{value:""}):null,Array.from(A)]},q):null]})})};hD.displayName=yh;var fD="SelectTrigger",mD=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Hp(n),o=Ga(fD,n),l=o.disabled||r,c=st(e,o.onTriggerChange),d=Wp(n),h=p.useRef("touch"),[f,m,v]=FD(g=>{const C=d().filter(x=>!x.disabled),j=C.find(x=>x.value===o.value),y=$D(C,g,j);y!==void 0&&o.onValueChange(y.value)}),_=g=>{l||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(ah,{asChild:!0,...a,children:s.jsx(Re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":OD(o.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&_(g)}),onPointerDown:pe(i.onPointerDown,g=>{h.current=g.pointerType;const C=g.target;C.hasPointerCapture(g.pointerId)&&C.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(_(g),g.preventDefault())}),onKeyDown:pe(i.onKeyDown,g=>{const C=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(C&&g.key===" ")&&nG.includes(g.key)&&(_(),g.preventDefault())})})})});mD.displayName=fD;var pD="SelectValue",gD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=Ga(pD,n),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,f=st(e,c.onValueNodeChange);return cn(()=>{d(h)},[d,h]),s.jsx(Re.span,{...l,ref:f,style:{pointerEvents:"none"},children:OD(c.value)?s.jsx(s.Fragment,{children:o}):a})});gD.displayName=pD;var lG="SelectIcon",xD=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Re.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});xD.displayName=lG;var cG="SelectPortal",vD=t=>s.jsx(zc,{asChild:!0,...t});vD.displayName=cG;var qo="SelectContent",yD=p.forwardRef((t,e)=>{const n=Ga(qo,t.__scopeSelect),[r,i]=p.useState();if(cn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Zo.createPortal(s.jsx(wD,{scope:t.__scopeSelect,children:s.jsx(Bp.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(jD,{...t,ref:e})});yD.displayName=qo;var Ur=10,[wD,Qa]=Jc(qo),dG="SelectContentImpl",uG=Aa("SelectContent.RemoveScroll"),jD=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:C,...j}=t,y=Ga(qo,n),[x,P]=p.useState(null),[D,O]=p.useState(null),E=st(e,Ce=>P(Ce)),[b,S]=p.useState(null),[R,N]=p.useState(null),T=Wp(n),[A,L]=p.useState(!1),q=p.useRef(!1);p.useEffect(()=>{if(x)return Vp(x)},[x]),Up();const V=p.useCallback(Ce=>{const[ze,...We]=T().map(Ae=>Ae.ref.current),[K]=We.slice(-1),be=document.activeElement;for(const Ae of Ce)if(Ae===be||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ze&&D&&(D.scrollTop=0),Ae===K&&D&&(D.scrollTop=D.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==be))return},[T,D]),z=p.useCallback(()=>V([b,x]),[V,b,x]);p.useEffect(()=>{A&&z()},[A,z]);const{onOpenChange:F,triggerPointerDownPosRef:H}=y;p.useEffect(()=>{if(x){let Ce={x:0,y:0};const ze=K=>{var be,Ae;Ce={x:Math.abs(Math.round(K.pageX)-(((be=H.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(K.pageY)-(((Ae=H.current)==null?void 0:Ae.y)??0))}},We=K=>{Ce.x<=10&&Ce.y<=10?K.preventDefault():x.contains(K.target)||F(!1),document.removeEventListener("pointermove",ze),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ze),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ze),document.removeEventListener("pointerup",We,{capture:!0})}}},[x,F,H]),p.useEffect(()=>{const Ce=()=>F(!1);return window.addEventListener("blur",Ce),window.addEventListener("resize",Ce),()=>{window.removeEventListener("blur",Ce),window.removeEventListener("resize",Ce)}},[F]);const[X,J]=FD(Ce=>{const ze=T().filter(be=>!be.disabled),We=ze.find(be=>be.ref.current===document.activeElement),K=$D(ze,Ce,We);K&&setTimeout(()=>K.ref.current.focus())}),W=p.useCallback((Ce,ze,We)=>{const K=!q.current&&!We;(y.value!==void 0&&y.value===ze||K)&&(S(Ce),K&&(q.current=!0))},[y.value]),ge=p.useCallback(()=>x==null?void 0:x.focus(),[x]),fe=p.useCallback((Ce,ze,We)=>{const K=!q.current&&!We;(y.value!==void 0&&y.value===ze||K)&&N(Ce)},[y.value]),ut=r==="popper"?fy:bD,Le=ut===fy?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:C}:{};return s.jsx(wD,{scope:n,content:x,viewport:D,onViewportChange:O,itemRefCallback:W,selectedItem:b,onItemLeave:ge,itemTextRefCallback:fe,focusSelectedItem:z,selectedItemText:R,position:r,isPositioned:A,searchRef:X,children:s.jsx(vh,{as:uG,allowPinchZoom:!0,children:s.jsx(xh,{asChild:!0,trapped:y.open,onMountAutoFocus:Ce=>{Ce.preventDefault()},onUnmountAutoFocus:pe(i,Ce=>{var ze;(ze=y.trigger)==null||ze.focus({preventScroll:!0}),Ce.preventDefault()}),children:s.jsx(el,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Ce=>Ce.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(ut,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Ce=>Ce.preventDefault(),...j,...Le,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:pe(j.onKeyDown,Ce=>{const ze=Ce.ctrlKey||Ce.altKey||Ce.metaKey;if(Ce.key==="Tab"&&Ce.preventDefault(),!ze&&Ce.key.length===1&&J(Ce.key),["ArrowUp","ArrowDown","Home","End"].includes(Ce.key)){let K=T().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Ce.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ce.key)){const be=Ce.target,Ae=K.indexOf(be);K=K.slice(Ae+1)}setTimeout(()=>V(K)),Ce.preventDefault()}})})})})})})});jD.displayName=dG;var hG="SelectItemAlignedPosition",bD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Ga(qo,n),o=Qa(qo,n),[l,c]=p.useState(null),[d,h]=p.useState(null),f=st(e,E=>h(E)),m=Wp(n),v=p.useRef(!1),_=p.useRef(!0),{viewport:g,selectedItem:C,selectedItemText:j,focusSelectedItem:y}=o,x=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&C&&j){const E=a.trigger.getBoundingClientRect(),b=d.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),R=j.getBoundingClientRect();if(a.dir!=="rtl"){const be=R.left-b.left,Ae=S.left-be,He=E.left-Ae,_t=E.width+He,jt=Math.max(_t,b.width),vn=window.innerWidth-Ur,yn=i_(Ae,[Ur,Math.max(Ur,vn-jt)]);l.style.minWidth=_t+"px",l.style.left=yn+"px"}else{const be=b.right-R.right,Ae=window.innerWidth-S.right-be,He=window.innerWidth-E.right-Ae,_t=E.width+He,jt=Math.max(_t,b.width),vn=window.innerWidth-Ur,yn=i_(Ae,[Ur,Math.max(Ur,vn-jt)]);l.style.minWidth=_t+"px",l.style.right=yn+"px"}const N=m(),T=window.innerHeight-Ur*2,A=g.scrollHeight,L=window.getComputedStyle(d),q=parseInt(L.borderTopWidth,10),V=parseInt(L.paddingTop,10),z=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),H=q+V+A+F+z,X=Math.min(C.offsetHeight*5,H),J=window.getComputedStyle(g),W=parseInt(J.paddingTop,10),ge=parseInt(J.paddingBottom,10),fe=E.top+E.height/2-Ur,ut=T-fe,Le=C.offsetHeight/2,Ce=C.offsetTop+Le,ze=q+V+Ce,We=H-ze;if(ze<=fe){const be=N.length>0&&C===N[N.length-1].ref.current;l.style.bottom="0px";const Ae=d.clientHeight-g.offsetTop-g.offsetHeight,He=Math.max(ut,Le+(be?ge:0)+Ae+z),_t=ze+He;l.style.height=_t+"px"}else{const be=N.length>0&&C===N[0].ref.current;l.style.top="0px";const He=Math.max(fe,q+g.offsetTop+(be?W:0)+Le)+We;l.style.height=He+"px",g.scrollTop=ze-fe+g.offsetTop}l.style.margin=`${Ur}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,a.trigger,a.valueNode,l,d,g,C,j,a.dir,r]);cn(()=>x(),[x]);const[P,D]=p.useState();cn(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=p.useCallback(E=>{E&&_.current===!0&&(x(),y==null||y(),_.current=!1)},[x,y]);return s.jsx(mG,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(Re.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bD.displayName=hG;var fG="SelectPopperPosition",fy=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ur,...a}=t,o=Hp(n);return s.jsx(Sp,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fy.displayName=fG;var[mG,jj]=Jc(qo,{}),my="SelectViewport",ND=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=Qa(my,n),o=jj(my,n),l=st(e,a.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Bp.Slot,{scope:n,children:s.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const _=window.innerHeight-Ur*2,g=parseFloat(f.style.minHeight),C=parseFloat(f.style.height),j=Math.max(g,C);if(j<_){const y=j+v,x=Math.min(_,y),P=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});ND.displayName=my;var _D="SelectGroup",[pG,gG]=Jc(_D),xG=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=rs();return s.jsx(pG,{scope:n,id:i,children:s.jsx(Re.div,{role:"group","aria-labelledby":i,...r,ref:e})})});xG.displayName=_D;var SD="SelectLabel",CD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=gG(SD,n);return s.jsx(Re.div,{id:i.id,...r,ref:e})});CD.displayName=SD;var qm="SelectItem",[vG,kD]=Jc(qm),ED=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=Ga(qm,n),c=Qa(qm,n),d=l.value===r,[h,f]=p.useState(a??""),[m,v]=p.useState(!1),_=st(e,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,r,i)}),g=rs(),C=p.useRef("touch"),j=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(vG,{scope:n,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:p.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Bp.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx(Re.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:pe(o.onFocus,()=>v(!0)),onBlur:pe(o.onBlur,()=>v(!1)),onClick:pe(o.onClick,()=>{C.current!=="mouse"&&j()}),onPointerUp:pe(o.onPointerUp,()=>{C.current==="mouse"&&j()}),onPointerDown:pe(o.onPointerDown,y=>{C.current=y.pointerType}),onPointerMove:pe(o.onPointerMove,y=>{var x;C.current=y.pointerType,i?(x=c.onItemLeave)==null||x.call(c):C.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:pe(o.onKeyDown,y=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&y.key===" "||(rG.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});ED.displayName=qm;var Od="SelectItemText",TD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Ga(Od,n),l=Qa(Od,n),c=kD(Od,n),d=oG(Od,n),[h,f]=p.useState(null),m=st(e,j=>f(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),v=h==null?void 0:h.textContent,_=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:C}=d;return cn(()=>(g(_),()=>C(_)),[g,C,_]),s.jsxs(s.Fragment,{children:[s.jsx(Re.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zo.createPortal(a.children,o.valueNode):null]})});TD.displayName=Od;var PD="SelectItemIndicator",AD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kD(PD,n).isSelected?s.jsx(Re.span,{"aria-hidden":!0,...r,ref:e}):null});AD.displayName=PD;var py="SelectScrollUpButton",ID=p.forwardRef((t,e)=>{const n=Qa(py,t.__scopeSelect),r=jj(py,t.__scopeSelect),[i,a]=p.useState(!1),o=st(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(DD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ID.displayName=py;var gy="SelectScrollDownButton",RD=p.forwardRef((t,e)=>{const n=Qa(gy,t.__scopeSelect),r=jj(gy,t.__scopeSelect),[i,a]=p.useState(!1),o=st(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(DD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});RD.displayName=gy;var DD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=Qa("SelectScrollButton",n),o=p.useRef(null),l=Wp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),cn(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Re.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),yG="SelectSeparator",MD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Re.div,{"aria-hidden":!0,...r,ref:e})});MD.displayName=yG;var xy="SelectArrow",wG=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Hp(n),a=Ga(xy,n),o=Qa(xy,n);return a.open&&o.position==="popper"?s.jsx(Cp,{...i,...r,ref:e}):null});wG.displayName=xy;function OD(t){return t===""||t===void 0}var LD=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=p.useRef(null),a=st(e,i),o=rD(n);return p.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[o,n]),s.jsx(rh,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});LD.displayName="BubbleSelect";function FD(t){const e=kn(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function $D(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=jG(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function jG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var bG=hD,UD=mD,NG=gD,_G=xD,SG=vD,VD=yD,CG=ND,zD=CD,BD=ED,kG=TD,EG=AD,WD=ID,HD=RD,qD=MD;const _n=bG,Sn=NG,pn=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(UD,{ref:r,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(_G,{asChild:!0,children:s.jsx(FP,{className:"h-4 w-4 opacity-50"})})]}));pn.displayName=UD.displayName;const KD=p.forwardRef(({className:t,...e},n)=>s.jsx(WD,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(K$,{className:"h-4 w-4"})}));KD.displayName=WD.displayName;const GD=p.forwardRef(({className:t,...e},n)=>s.jsx(HD,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(FP,{className:"h-4 w-4"})}));GD.displayName=HD.displayName;const gn=p.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(SG,{children:s.jsxs(VD,{ref:i,className:ye("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(KD,{}),s.jsx(CG,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(GD,{})]})}));gn.displayName=VD.displayName;const TG=p.forwardRef(({className:t,...e},n)=>s.jsx(zD,{ref:n,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));TG.displayName=zD.displayName;const se=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(BD,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(EG,{children:s.jsx(LP,{className:"h-4 w-4"})})}),s.jsx(kG,{children:e})]}));se.displayName=BD.displayName;const PG=p.forwardRef(({className:t,...e},n)=>s.jsx(qD,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));PG.displayName=qD.displayName;const AG=sh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tr=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ye(AG({variant:e}),t),...n}));tr.displayName="Alert";const IG=p.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",t),...e}));IG.displayName="AlertTitle";const nr=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ye("text-sm [&_p]:leading-relaxed",t),...e}));nr.displayName="AlertDescription";function RG({userEmail:t,socialAuthData:e,onComplete:n,isLoading:r=!1}){var f,m;const[i,a]=p.useState(""),{toast:o}=En(),l=((f=e.displayName)==null?void 0:f.split(" ")[0])||"",c=((m=e.displayName)==null?void 0:m.split(" ").slice(1).join(" "))||"",d=Zq({resolver:nK(IR),defaultValues:{firstName:l,lastName:c,userName:"",country:"",phone:"",gender:""}}),h=async v=>{try{a(""),await n(v),o({title:"Account setup complete!",description:"Welcome to your account."})}catch(_){console.error("Social auth completion failed:",_);const g=(_==null?void 0:_.message)||"Failed to complete account setup. Please try again.";a(g),o({variant:"destructive",title:"Setup failed",description:g})}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-6 md:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 overflow-hidden",children:[e.photoURL?s.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:v=>{var g;const _=v.target;_.style.display="none",(g=_.nextElementSibling)==null||g.classList.remove("hidden")}}):null,s.jsx($P,{className:`h-8 w-8 text-primary ${e.photoURL?"hidden":""}`})]}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Just a few more details to finish setting up your account"}),s.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Signed in as: ",t]})]}),s.jsxs(ae,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm","data-testid":"card-social-auth-complete",children:[s.jsx(ce,{className:"pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Setup your profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose your unique username to complete your account"})]})}),s.jsxs(oe,{className:"space-y-6 pb-8",children:[i&&s.jsx(tr,{variant:"destructive",className:"mb-4","data-testid":"alert-submit-error",children:s.jsx(nr,{children:i})}),s.jsx(aK,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-6","data-testid":"form-social-auth-complete",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(pl,{control:d.control,name:"firstName",render:({field:v})=>s.jsxs(io,{children:[s.jsx(ao,{children:s.jsxs("div",{className:"relative",children:[s.jsx(wr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{...v,placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-firstName"})]})}),s.jsx(oo,{})]})}),s.jsx(pl,{control:d.control,name:"lastName",render:({field:v})=>s.jsxs(io,{children:[s.jsx(ao,{children:s.jsxs("div",{className:"relative",children:[s.jsx(wr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{...v,placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-lastName"})]})}),s.jsx(oo,{})]})})]}),s.jsx(pl,{control:d.control,name:"userName",render:({field:v})=>s.jsxs(io,{children:[s.jsx(ao,{children:s.jsxs("div",{className:"relative",children:[s.jsx(H$,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{...v,placeholder:"Choose your unique username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-userName"})]})}),s.jsx(oo,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(pl,{control:d.control,name:"country",render:({field:v})=>s.jsxs(io,{children:[s.jsxs(_n,{name:v.name,onValueChange:v.onChange,value:v.value,disabled:r,children:[s.jsx(ao,{children:s.jsx(pn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-country",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(J$,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(Sn,{placeholder:"Select Country"})]})})}),s.jsxs(gn,{className:"max-h-60",children:[s.jsx(se,{value:"Afghanistan",children:"Afghanistan"}),s.jsx(se,{value:"Albania",children:"Albania"}),s.jsx(se,{value:"Algeria",children:"Algeria"}),s.jsx(se,{value:"Argentina",children:"Argentina"}),s.jsx(se,{value:"Australia",children:"Australia"}),s.jsx(se,{value:"Austria",children:"Austria"}),s.jsx(se,{value:"Bangladesh",children:"Bangladesh"}),s.jsx(se,{value:"Belgium",children:"Belgium"}),s.jsx(se,{value:"Brazil",children:"Brazil"}),s.jsx(se,{value:"Canada",children:"Canada"}),s.jsx(se,{value:"Chile",children:"Chile"}),s.jsx(se,{value:"China",children:"China"}),s.jsx(se,{value:"Colombia",children:"Colombia"}),s.jsx(se,{value:"Denmark",children:"Denmark"}),s.jsx(se,{value:"Egypt",children:"Egypt"}),s.jsx(se,{value:"Ethiopia",children:"Ethiopia"}),s.jsx(se,{value:"Finland",children:"Finland"}),s.jsx(se,{value:"France",children:"France"}),s.jsx(se,{value:"Germany",children:"Germany"}),s.jsx(se,{value:"Ghana",children:"Ghana"}),s.jsx(se,{value:"Greece",children:"Greece"}),s.jsx(se,{value:"India",children:"India"}),s.jsx(se,{value:"Indonesia",children:"Indonesia"}),s.jsx(se,{value:"Iran",children:"Iran"}),s.jsx(se,{value:"Iraq",children:"Iraq"}),s.jsx(se,{value:"Ireland",children:"Ireland"}),s.jsx(se,{value:"Israel",children:"Israel"}),s.jsx(se,{value:"Italy",children:"Italy"}),s.jsx(se,{value:"Japan",children:"Japan"}),s.jsx(se,{value:"Jordan",children:"Jordan"}),s.jsx(se,{value:"Kenya",children:"Kenya"}),s.jsx(se,{value:"Malaysia",children:"Malaysia"}),s.jsx(se,{value:"Mexico",children:"Mexico"}),s.jsx(se,{value:"Morocco",children:"Morocco"}),s.jsx(se,{value:"Netherlands",children:"Netherlands"}),s.jsx(se,{value:"New Zealand",children:"New Zealand"}),s.jsx(se,{value:"Nigeria",children:"Nigeria"}),s.jsx(se,{value:"Norway",children:"Norway"}),s.jsx(se,{value:"Pakistan",children:"Pakistan"}),s.jsx(se,{value:"Philippines",children:"Philippines"}),s.jsx(se,{value:"Poland",children:"Poland"}),s.jsx(se,{value:"Portugal",children:"Portugal"}),s.jsx(se,{value:"Russia",children:"Russia"}),s.jsx(se,{value:"Saudi Arabia",children:"Saudi Arabia"}),s.jsx(se,{value:"Singapore",children:"Singapore"}),s.jsx(se,{value:"South Africa",children:"South Africa"}),s.jsx(se,{value:"South Korea",children:"South Korea"}),s.jsx(se,{value:"Spain",children:"Spain"}),s.jsx(se,{value:"Sweden",children:"Sweden"}),s.jsx(se,{value:"Switzerland",children:"Switzerland"}),s.jsx(se,{value:"Thailand",children:"Thailand"}),s.jsx(se,{value:"Turkey",children:"Turkey"}),s.jsx(se,{value:"Ukraine",children:"Ukraine"}),s.jsx(se,{value:"United Arab Emirates",children:"United Arab Emirates"}),s.jsx(se,{value:"United Kingdom",children:"United Kingdom"}),s.jsx(se,{value:"United States",children:"United States"}),s.jsx(se,{value:"Venezuela",children:"Venezuela"}),s.jsx(se,{value:"Vietnam",children:"Vietnam"})]})]}),s.jsx(oo,{})]})}),s.jsx(pl,{control:d.control,name:"phone",render:({field:v})=>s.jsxs(io,{children:[s.jsx(ao,{children:s.jsxs("div",{className:"relative",children:[s.jsx(i9,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{...v,placeholder:"Phone Number (optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-phone",type:"tel"})]})}),s.jsx(oo,{})]})})]}),s.jsx(pl,{control:d.control,name:"gender",render:({field:v})=>s.jsxs(io,{children:[s.jsxs(_n,{onValueChange:v.onChange,defaultValue:v.value,disabled:r,children:[s.jsx(ao,{children:s.jsx(pn,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-gender",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($s,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(Sn,{placeholder:"Select Gender (optional)"})]})})}),s.jsxs(gn,{children:[s.jsx(se,{value:"male",children:"Male"}),s.jsx(se,{value:"female",children:"Female"}),s.jsx(se,{value:"other",children:"Other"}),s.jsx(se,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),s.jsx(oo,{})]})}),s.jsx(ee,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium h-12 text-lg",disabled:r,"data-testid":"button-complete-setup",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent mr-3"}),"Setting up your account..."]}):"Complete Setup"})]})})]})]})]})]})}function bx(){const[,t]=Zt(),{user:e,checkAuth:n,logout:r}=Ka(),{toast:i}=En(),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(!1),[f,m]=p.useState(!1);p.useEffect(()=>{e!=null&&e.admin&&t("/admin")},[e==null?void 0:e.admin,t]);const v=async()=>{m(!0);try{await r(),i({title:"Logged Out",description:"You can now login as an admin"}),await n()}catch(g){i({title:"Logout Failed",description:g.message||"Failed to logout",variant:"destructive"})}finally{m(!1)}};if(e&&!e.admin)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Bv,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(ae,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[s.jsx(ce,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(he,{className:"text-xl font-semibold text-foreground",children:"Already Logged In"})})}),s.jsxs(oe,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("p",{className:"text-muted-foreground",children:["You are currently logged in as ",s.jsx("span",{className:"font-medium text-foreground",children:e.email})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To access the admin portal, please logout from your current account first."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ee,{onClick:v,className:"w-full",disabled:f,"data-testid":"button-logout-to-admin",children:f?s.jsxs(s.Fragment,{children:[s.jsx(SN,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging out..."]}):"Logout to Continue"}),s.jsx(ee,{onClick:()=>t("/"),variant:"outline",className:"w-full",disabled:f,"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})]})]})]});const _=async g=>{g.preventDefault(),h(!0);try{const C=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:l}),credentials:"include"}),j=await C.json();if(!C.ok||!j.success)throw new Error(j.message||j.error||"Admin login failed");if(!j.data)throw new Error("Invalid response: missing user data");const y=j.data._id||j.data.id;if(!y)throw new Error("Invalid response: missing user ID");localStorage.setItem("userId",y),localStorage.setItem("user",JSON.stringify({id:y,email:j.data.email||a,firstName:j.data.firstName||"",lastName:j.data.lastName||"",profilePhoto:j.data.profilePhoto||"",userName:j.data.userName||j.data.email||a,country:j.data.country||"",phone:j.data.phone||"",seller:j.data.seller||!1,admin:!0,authProvider:"email"})),j.accessToken&&localStorage.setItem("adminAccessToken",j.accessToken),await n(),i({title:"Admin Login Successful",description:"Welcome to the admin dashboard"}),t("/admin")}catch(C){i({title:"Login Failed",description:C.message||"Invalid credentials",variant:"destructive"})}finally{h(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Bv,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(ae,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm relative",children:[d&&s.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-lg","data-testid":"loading-overlay",children:[s.jsx(SN,{className:"h-8 w-8 animate-spin text-primary mb-4"}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-foreground",children:"Signing you in..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin credentials"})]})]}),s.jsx(ce,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(he,{className:"text-xl font-semibold text-foreground",children:"Admin Login"})})}),s.jsx(oe,{children:s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(jp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"email",type:"email",placeholder:"Admin Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:a,onChange:g=>o(g.target.value),required:!0,disabled:d,"data-testid":"input-admin-email"})]})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(mm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"password",type:"password",placeholder:"Password",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:l,onChange:g=>c(g.target.value),required:!0,disabled:d,"data-testid":"input-admin-password"})]})}),s.jsx(ee,{type:"submit",className:"w-full",disabled:d,"data-testid":"button-admin-login",children:d?"Signing in...":"Sign In as Admin"})]})})]})]})]})}function DG(){var o;const[,t]=Zt(),{toast:e}=En();ph();const[n,r]=p.useState({email:"",password:"",confirmPassword:"",username:"admin",full_name:"Admin"}),i=Ot({mutationFn:async l=>{const c=await fetch("/api/admin/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"});if(!c.ok){const d=await c.json().catch(()=>({error:"Failed to create admin"}));throw new Error(d.error||d.message||"Failed to create admin")}return c.json()},onSuccess:async l=>{console.log("Admin created successfully:",l),e({title:"Admin account created!",description:"Verifying setup..."}),await new Promise(c=>setTimeout(c,1e3));try{const d=await(await fetch("/api/admin/exists",{credentials:"include"})).json();d.success&&d.exists?(e({title:"Setup complete!",description:"Redirecting to login page..."}),await new Promise(h=>setTimeout(h,800)),t("/admin/login")):(e({title:"Admin created",description:"Please try logging in.",variant:"default"}),await new Promise(h=>setTimeout(h,500)),t("/admin/login"))}catch(c){console.error("Error checking admin existence:",c),await new Promise(d=>setTimeout(d,500)),t("/admin/login")}},onError:l=>{e({title:"Setup failed",description:l.message||"Failed to create admin account. Please try again.",variant:"destructive"})}}),a=l=>{if(l.preventDefault(),!n.email||!n.password){e({title:"Missing fields",description:"Email and password are required.",variant:"destructive"});return}if(n.password!==n.confirmPassword){e({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(n.password.length<6){e({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i.mutate({email:n.email,password:n.password,username:n.username,full_name:n.full_name,role:"admin"})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(ae,{children:[s.jsxs(ce,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:s.jsx(Bv,{className:"h-12 w-12 text-primary"})})}),s.jsx(he,{className:"text-2xl",children:"Admin Setup"}),s.jsx(Oe,{className:"text-center max-w-md mx-auto mt-2",children:"This is a one-time setup. Create your first administrator account to access the platform."})]}),s.jsx(oe,{children:s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"full_name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(wr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"full_name",type:"text",value:n.full_name,onChange:l=>r({...n,full_name:l.target.value}),placeholder:"Admin",className:"pl-10","data-testid":"input-setup-fullname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"username",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(wr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"username",type:"text",value:n.username,onChange:l=>r({...n,username:l.target.value}),placeholder:"admin",className:"pl-10","data-testid":"input-setup-username"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{htmlFor:"email",children:["Email Address ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(jp,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"email",type:"email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"admin@example.com",className:"pl-10",required:!0,"data-testid":"input-setup-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{htmlFor:"password",children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"password",type:"password",value:n.password,onChange:l=>r({...n,password:l.target.value}),placeholder:"Min 6 characters",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-password"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{htmlFor:"confirmPassword",children:["Confirm Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:l=>r({...n,confirmPassword:l.target.value}),placeholder:"Confirm password",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-confirm-password"})]})]})]}),i.isError&&s.jsxs(tr,{variant:"destructive",children:[s.jsx(fm,{className:"h-4 w-4"}),s.jsx(nr,{children:((o=i.error)==null?void 0:o.message)||"Failed to create admin account. Please try again."})]}),s.jsx(ee,{type:"submit",className:"w-full",disabled:i.isPending,"data-testid":"button-setup-submit",children:i.isPending?"Creating Account...":"Create Admin Account"})]})})]})})})}const MG=[{section:"User Management",items:[{name:"Users",href:"/admin/users",icon:$s},{name:"Reported Cases",href:"/admin/reported-cases",icon:zv}]},{section:"Commerce",items:[{name:"Inventory",href:"/admin/inventory",icon:Yt},{name:"Orders",href:"/admin/orders",icon:Sa},{name:"Disputes",href:"/admin/disputes",icon:Bl},{name:"Transactions",href:"/admin/transactions",icon:Nc},{name:"Payouts",href:"/admin/payouts",icon:Vv}]},{section:"Platform",items:[{name:"Revenue",href:"/admin/application-fees",icon:Y$},{name:"Categories",href:"/admin/categories",icon:Z$},{name:"Shows",href:"/admin/shows",icon:_c},{name:"Emails",href:"/admin/emails",icon:jp}]},{section:"Account",items:[{name:"Profile",href:"/admin/profile",icon:$P},{name:"Settings",href:"/admin/settings",icon:Aw}]}];function OG({isOpen:t,onClose:e}){const[n]=Zt(),{data:r}=et({queryKey:["/api/admin/settings"]}),i=(r==null?void 0:r.data)||r;return i!=null&&i.app_name,s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e,"data-testid":"sidebar-overlay"}),s.jsxs("div",{className:ye("flex flex-col w-64 bg-card border-r border-border h-full transition-transform duration-300 ease-in-out","lg:relative lg:translate-x-0","fixed inset-y-0 left-0 z-50",t?"translate-x-0":"-translate-x-full"),children:[s.jsx("div",{className:"lg:hidden flex justify-end p-3 border-b border-border",children:s.jsx(ee,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-close-sidebar",children:s.jsx(Lr,{className:"h-5 w-5"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:MG.map((a,o)=>s.jsxs("div",{children:[s.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:a.section}),s.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const c=l.icon,d=n===l.href;return s.jsx(Ul,{href:l.href,children:s.jsxs(ee,{variant:d?"secondary":"ghost",className:ye("w-full justify-start",d&&"bg-primary/10 text-primary hover:bg-primary/20 hover:text-primary"),onClick:e,"data-testid":`link-admin-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(c,{className:"h-4 w-4 mr-3"}),l.name]})},l.href)})})]},o))})]})]})}const LG=sh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:t,variant:e,...n}){return s.jsx("div",{className:ye(LG({variant:e}),t),...n})}var bj="Avatar",[FG,Tee]=lr(bj),[$G,QD]=FG(bj),YD=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=p.useState("idle");return s.jsx($G,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Re.span,{...r,ref:e})})});YD.displayName=bj;var XD="AvatarImage",ZD=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=QD(XD,n),l=UG(r,a),c=kn(d=>{i(d),o.onImageLoadingStatusChange(d)});return cn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Re.img,{...a,ref:e,src:r}):null});ZD.displayName=XD;var JD="AvatarFallback",eM=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=QD(JD,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Re.span,{...i,ref:e}):null});eM.displayName=JD;function g_(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function UG(t,{referrerPolicy:e,crossOrigin:n}){const r=zG(),i=p.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=p.useState(()=>g_(a,t));return cn(()=>{l(g_(a,t))},[a,t]),cn(()=>{const c=f=>()=>{l(f)};if(!a)return;const d=c("loaded"),h=c("error");return a.addEventListener("load",d),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",h)}},[a,n,e]),o}function VG(){return()=>{}}function zG(){return p.useSyncExternalStore(VG,()=>!0,()=>!1)}var tM=YD,nM=ZD,rM=eM;const as=p.forwardRef(({className:t,...e},n)=>s.jsx(tM,{ref:n,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));as.displayName=tM.displayName;const os=p.forwardRef(({className:t,...e},n)=>s.jsx(nM,{ref:n,className:ye("aspect-square h-full w-full",t),...e}));os.displayName=nM.displayName;const ls=p.forwardRef(({className:t,...e},n)=>s.jsx(rM,{ref:n,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ls.displayName=rM.displayName;var Nx="rovingFocusGroup.onEntryFocus",BG={bubbles:!1,cancelable:!0},qp="RovingFocusGroup",[vy,sM,WG]=vp(qp),[HG,Kp]=lr(qp,[WG]),[qG,KG]=HG(qp),iM=p.forwardRef((t,e)=>s.jsx(vy.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(vy.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(GG,{...t,ref:e})})}));iM.displayName=qp;var GG=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),v=st(e,m),_=$p(a),[g=null,C]=Ci({prop:o,defaultProp:l,onChange:c}),[j,y]=p.useState(!1),x=kn(d),P=sM(n),D=p.useRef(!1),[O,E]=p.useState(0);return p.useEffect(()=>{const b=m.current;if(b)return b.addEventListener(Nx,x),()=>b.removeEventListener(Nx,x)},[x]),s.jsx(qG,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:g,onItemFocus:p.useCallback(b=>C(b),[C]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(b=>b+1),[]),onFocusableItemRemove:p.useCallback(()=>E(b=>b-1),[]),children:s.jsx(Re.div,{tabIndex:j||O===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{D.current=!0}),onFocus:pe(t.onFocus,b=>{const S=!D.current;if(b.target===b.currentTarget&&S&&!j){const R=new CustomEvent(Nx,BG);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(V=>V.focusable),T=N.find(V=>V.active),A=N.find(V=>V.id===g),q=[T,A,...N].filter(Boolean).map(V=>V.ref.current);lM(q,h)}}D.current=!1}),onBlur:pe(t.onBlur,()=>y(!1))})})}),aM="RovingFocusGroupItem",oM=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,l=rs(),c=a||l,d=KG(aM,n),h=d.currentTabStopId===c,f=sM(n),{onFocusableItemAdd:m,onFocusableItemRemove:v}=d;return p.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),s.jsx(vy.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:s.jsx(Re.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:pe(t.onMouseDown,_=>{r?d.onItemFocus(c):_.preventDefault()}),onFocus:pe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=XG(_,d.orientation,d.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let j=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")j.reverse();else if(g==="prev"||g==="next"){g==="prev"&&j.reverse();const y=j.indexOf(_.currentTarget);j=d.loop?ZG(j,y+1):j.slice(y+1)}setTimeout(()=>lM(j))}})})})});oM.displayName=aM;var QG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function XG(t,e,n){const r=YG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QG[r]}function lM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ZG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cM=iM,dM=oM,yy=["Enter"," "],JG=["ArrowDown","PageUp","Home"],uM=["ArrowUp","PageDown","End"],eQ=[...JG,...uM],tQ={ltr:[...yy,"ArrowRight"],rtl:[...yy,"ArrowLeft"]},nQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wh="Menu",[Hu,rQ,sQ]=vp(wh),[il,hM]=lr(wh,[sQ,qa,Kp]),Gp=qa(),fM=Kp(),[iQ,al]=il(wh),[aQ,jh]=il(wh),mM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=Gp(e),[c,d]=p.useState(null),h=p.useRef(!1),f=kn(a),m=$p(i);return p.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),s.jsx(Ww,{...l,children:s.jsx(iQ,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(aQ,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};mM.displayName=wh;var oQ="MenuAnchor",Nj=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gp(n);return s.jsx(ah,{...i,...r,ref:e})});Nj.displayName=oQ;var _j="MenuPortal",[lQ,pM]=il(_j,{forceMount:void 0}),gM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=al(_j,e);return s.jsx(lQ,{scope:e,forceMount:n,children:s.jsx(_r,{present:n||a.open,children:s.jsx(zc,{asChild:!0,container:i,children:r})})})};gM.displayName=_j;var Dr="MenuContent",[cQ,Sj]=il(Dr),xM=p.forwardRef((t,e)=>{const n=pM(Dr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=al(Dr,t.__scopeMenu),o=jh(Dr,t.__scopeMenu);return s.jsx(Hu.Provider,{scope:t.__scopeMenu,children:s.jsx(_r,{present:r||a.open,children:s.jsx(Hu.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(dQ,{...i,ref:e}):s.jsx(uQ,{...i,ref:e})})})})}),dQ=p.forwardRef((t,e)=>{const n=al(Dr,t.__scopeMenu),r=p.useRef(null),i=st(e,r);return p.useEffect(()=>{const a=r.current;if(a)return Vp(a)},[]),s.jsx(Cj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),uQ=p.forwardRef((t,e)=>{const n=al(Dr,t.__scopeMenu);return s.jsx(Cj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),hQ=Aa("MenuContent.ScrollLock"),Cj=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:v,disableOutsideScroll:_,...g}=t,C=al(Dr,n),j=jh(Dr,n),y=Gp(n),x=fM(n),P=rQ(n),[D,O]=p.useState(null),E=p.useRef(null),b=st(e,E,C.onContentChange),S=p.useRef(0),R=p.useRef(""),N=p.useRef(0),T=p.useRef(null),A=p.useRef("right"),L=p.useRef(0),q=_?vh:p.Fragment,V=_?{as:hQ,allowPinchZoom:!0}:void 0,z=H=>{var Ce,ze;const X=R.current+H,J=P().filter(We=>!We.disabled),W=document.activeElement,ge=(Ce=J.find(We=>We.ref.current===W))==null?void 0:Ce.textValue,fe=J.map(We=>We.textValue),ut=_Q(fe,X,ge),Le=(ze=J.find(We=>We.textValue===ut))==null?void 0:ze.ref.current;(function We(K){R.current=K,window.clearTimeout(S.current),K!==""&&(S.current=window.setTimeout(()=>We(""),1e3))})(X),Le&&setTimeout(()=>Le.focus())};p.useEffect(()=>()=>window.clearTimeout(S.current),[]),Up();const F=p.useCallback(H=>{var J,W;return A.current===((J=T.current)==null?void 0:J.side)&&CQ(H,(W=T.current)==null?void 0:W.area)},[]);return s.jsx(cQ,{scope:n,searchRef:R,onItemEnter:p.useCallback(H=>{F(H)&&H.preventDefault()},[F]),onItemLeave:p.useCallback(H=>{var X;F(H)||((X=E.current)==null||X.focus(),O(null))},[F]),onTriggerLeave:p.useCallback(H=>{F(H)&&H.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:p.useCallback(H=>{T.current=H},[]),children:s.jsx(q,{...V,children:s.jsx(xh,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,H=>{var X;H.preventDefault(),(X=E.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(el,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:v,children:s.jsx(cM,{asChild:!0,...x,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:pe(c,H=>{j.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Sp,{role:"menu","aria-orientation":"vertical","data-state":RM(C.open),"data-radix-menu-content":"",dir:j.dir,...y,...g,ref:b,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,H=>{const J=H.target.closest("[data-radix-menu-content]")===H.currentTarget,W=H.ctrlKey||H.altKey||H.metaKey,ge=H.key.length===1;J&&(H.key==="Tab"&&H.preventDefault(),!W&&ge&&z(H.key));const fe=E.current;if(H.target!==fe||!eQ.includes(H.key))return;H.preventDefault();const Le=P().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);uM.includes(H.key)&&Le.reverse(),bQ(Le)}),onBlur:pe(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(S.current),R.current="")}),onPointerMove:pe(t.onPointerMove,qu(H=>{const X=H.target,J=L.current!==H.clientX;if(H.currentTarget.contains(X)&&J){const W=H.clientX>L.current?"right":"left";A.current=W,L.current=H.clientX}}))})})})})})})});xM.displayName=Dr;var fQ="MenuGroup",kj=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Re.div,{role:"group",...r,ref:e})});kj.displayName=fQ;var mQ="MenuLabel",vM=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Re.div,{...r,ref:e})});vM.displayName=mQ;var Km="MenuItem",x_="menu.itemSelect",Qp=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=p.useRef(null),o=jh(Km,t.__scopeMenu),l=Sj(Km,t.__scopeMenu),c=st(e,a),d=p.useRef(!1),h=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(x_,{bubbles:!0,cancelable:!0});f.addEventListener(x_,v=>r==null?void 0:r(v),{once:!0}),Sw(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(yM,{...i,ref:c,disabled:n,onClick:pe(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:pe(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:pe(t.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||yy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Qp.displayName=Km;var yM=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=Sj(Km,n),l=fM(n),c=p.useRef(null),d=st(e,c),[h,f]=p.useState(!1),[m,v]=p.useState("");return p.useEffect(()=>{const _=c.current;_&&v((_.textContent??"").trim())},[a.children]),s.jsx(Hu.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(dM,{asChild:!0,...l,focusable:!r,children:s.jsx(Re.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:pe(t.onPointerMove,qu(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,qu(_=>o.onItemLeave(_))),onFocus:pe(t.onFocus,()=>f(!0)),onBlur:pe(t.onBlur,()=>f(!1))})})})}),pQ="MenuCheckboxItem",wM=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(SM,{scope:t.__scopeMenu,checked:n,children:s.jsx(Qp,{role:"menuitemcheckbox","aria-checked":Gm(n)?"mixed":n,...i,ref:e,"data-state":Tj(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(Gm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wM.displayName=pQ;var jM="MenuRadioGroup",[gQ,xQ]=il(jM,{value:void 0,onValueChange:()=>{}}),bM=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=kn(r);return s.jsx(gQ,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(kj,{...i,ref:e})})});bM.displayName=jM;var NM="MenuRadioItem",_M=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=xQ(NM,t.__scopeMenu),a=n===i.value;return s.jsx(SM,{scope:t.__scopeMenu,checked:a,children:s.jsx(Qp,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Tj(a),onSelect:pe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});_M.displayName=NM;var Ej="MenuItemIndicator",[SM,vQ]=il(Ej,{checked:!1}),CM=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=vQ(Ej,n);return s.jsx(_r,{present:r||Gm(a.checked)||a.checked===!0,children:s.jsx(Re.span,{...i,ref:e,"data-state":Tj(a.checked)})})});CM.displayName=Ej;var yQ="MenuSeparator",kM=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});kM.displayName=yQ;var wQ="MenuArrow",EM=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gp(n);return s.jsx(Cp,{...i,...r,ref:e})});EM.displayName=wQ;var jQ="MenuSub",[Pee,TM]=il(jQ),Ld="MenuSubTrigger",PM=p.forwardRef((t,e)=>{const n=al(Ld,t.__scopeMenu),r=jh(Ld,t.__scopeMenu),i=TM(Ld,t.__scopeMenu),a=Sj(Ld,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Nj,{asChild:!0,...d,children:s.jsx(yM,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":RM(n.open),...t,ref:xp(e,i.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,qu(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:pe(t.onPointerLeave,qu(f=>{var v,_;h();const m=(v=n.content)==null?void 0:v.getBoundingClientRect();if(m){const g=(_=n.content)==null?void 0:_.dataset.side,C=g==="right",j=C?-5:5,y=m[C?"left":"right"],x=m[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+j,y:f.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,f=>{var v;const m=a.searchRef.current!=="";t.disabled||m&&f.key===" "||tQ[r.dir].includes(f.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),f.preventDefault())})})})});PM.displayName=Ld;var AM="MenuSubContent",IM=p.forwardRef((t,e)=>{const n=pM(Dr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=al(Dr,t.__scopeMenu),o=jh(Dr,t.__scopeMenu),l=TM(AM,t.__scopeMenu),c=p.useRef(null),d=st(e,c);return s.jsx(Hu.Provider,{scope:t.__scopeMenu,children:s.jsx(_r,{present:r||a.open,children:s.jsx(Hu.Slot,{scope:t.__scopeMenu,children:s.jsx(Cj,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:pe(t.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{var v;const f=h.currentTarget.contains(h.target),m=nQ[o.dir].includes(h.key);f&&m&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});IM.displayName=AM;function RM(t){return t?"open":"closed"}function Gm(t){return t==="indeterminate"}function Tj(t){return Gm(t)?"indeterminate":t?"checked":"unchecked"}function bQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function NQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _Q(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=NQ(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function SQ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function CQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return SQ(n,e)}function qu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var kQ=mM,EQ=Nj,TQ=gM,PQ=xM,AQ=kj,IQ=vM,RQ=Qp,DQ=wM,MQ=bM,OQ=_M,LQ=CM,FQ=kM,$Q=EM,UQ=PM,VQ=IM,Pj="DropdownMenu",[zQ,Aee]=lr(Pj,[hM]),Yn=hM(),[BQ,DM]=zQ(Pj),MM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Yn(e),d=p.useRef(null),[h=!1,f]=Ci({prop:i,defaultProp:a,onChange:o});return s.jsx(BQ,{scope:e,triggerId:rs(),triggerRef:d,contentId:rs(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(kQ,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};MM.displayName=Pj;var OM="DropdownMenuTrigger",LM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=DM(OM,n),o=Yn(n);return s.jsx(EQ,{asChild:!0,...o,children:s.jsx(Re.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:xp(e,a.triggerRef),onPointerDown:pe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:pe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});LM.displayName=OM;var WQ="DropdownMenuPortal",FM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Yn(e);return s.jsx(TQ,{...r,...n})};FM.displayName=WQ;var $M="DropdownMenuContent",UM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=DM($M,n),a=Yn(n),o=p.useRef(!1);return s.jsx(PQ,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UM.displayName=$M;var HQ="DropdownMenuGroup",qQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(AQ,{...i,...r,ref:e})});qQ.displayName=HQ;var KQ="DropdownMenuLabel",VM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(IQ,{...i,...r,ref:e})});VM.displayName=KQ;var GQ="DropdownMenuItem",zM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(RQ,{...i,...r,ref:e})});zM.displayName=GQ;var QQ="DropdownMenuCheckboxItem",BM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(DQ,{...i,...r,ref:e})});BM.displayName=QQ;var YQ="DropdownMenuRadioGroup",XQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(MQ,{...i,...r,ref:e})});XQ.displayName=YQ;var ZQ="DropdownMenuRadioItem",WM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(OQ,{...i,...r,ref:e})});WM.displayName=ZQ;var JQ="DropdownMenuItemIndicator",HM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(LQ,{...i,...r,ref:e})});HM.displayName=JQ;var eY="DropdownMenuSeparator",qM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(FQ,{...i,...r,ref:e})});qM.displayName=eY;var tY="DropdownMenuArrow",nY=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx($Q,{...i,...r,ref:e})});nY.displayName=tY;var rY="DropdownMenuSubTrigger",KM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(UQ,{...i,...r,ref:e})});KM.displayName=rY;var sY="DropdownMenuSubContent",GM=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Yn(n);return s.jsx(VQ,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GM.displayName=sY;var iY=MM,aY=LM,oY=FM,QM=UM,YM=VM,XM=zM,ZM=BM,JM=WM,eO=HM,tO=qM,nO=KM,rO=GM;const ol=iY,ll=aY,lY=p.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(nO,{ref:i,className:ye("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(Hs,{className:"ml-auto"})]}));lY.displayName=nO.displayName;const cY=p.forwardRef(({className:t,...e},n)=>s.jsx(rO,{ref:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));cY.displayName=rO.displayName;const Ya=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(oY,{children:s.jsx(QM,{ref:r,sideOffset:e,className:ye("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Ya.displayName=QM.displayName;const fn=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(XM,{ref:r,className:ye("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));fn.displayName=XM.displayName;const dY=p.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(ZM,{ref:i,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(eO,{children:s.jsx(LP,{className:"h-4 w-4"})})}),e]}));dY.displayName=ZM.displayName;const uY=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(JM,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(eO,{children:s.jsx(Q$,{className:"h-2 w-2 fill-current"})})}),e]}));uY.displayName=JM.displayName;const sO=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(YM,{ref:r,className:ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));sO.displayName=YM.displayName;const Di=p.forwardRef(({className:t,...e},n)=>s.jsx(tO,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",t),...e}));Di.displayName=tO.displayName;function Ge({children:t}){const{user:e,logout:n}=Ka(),{settings:r}=ph(),[,i]=Zt(),[a,o]=p.useState(!1),l=async()=>{await n(),i("/admin/login")},c=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`.toUpperCase():e!=null&&e.firstName?e.firstName[0].toUpperCase():e!=null&&e.email?e.email[0].toUpperCase():"A";return s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"bg-card border-b border-border px-3 sm:px-6 py-3 flex justify-between items-center h-14 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"lg:hidden h-9 w-9 p-0","data-testid":"button-mobile-menu",children:s.jsx(s9,{className:"h-5 w-5"})}),s.jsx(Ul,{href:"/admin","data-testid":"link-admin-home",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("div",{className:"h-7 w-7 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:r.app_name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"hidden sm:flex flex-col",children:[s.jsx("span",{className:"text-base font-bold text-foreground leading-tight",children:r.app_name}),s.jsx("span",{className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Panel"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right hidden md:block mr-2",children:[s.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-admin-email",children:e==null?void 0:e.email}),s.jsx(Be,{variant:"secondary",className:"mt-0.5 text-xs",children:"Admin"})]}),e&&s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,"data-testid":"button-profile-dropdown",children:s.jsxs(as,{className:"h-9 w-9 cursor-pointer hover-elevate",children:[s.jsx(os,{src:e.profilePhoto,alt:`${e.firstName||e.email}`}),s.jsx(ls,{className:"bg-primary text-primary-foreground text-sm font-bold",children:c()})]})}),s.jsxs(Ya,{align:"end",className:"w-56",children:[s.jsx(sO,{children:"My Account"}),s.jsx(Di,{}),s.jsx(fn,{asChild:!0,children:s.jsxs(Ul,{href:"/admin/profile",className:"cursor-pointer","data-testid":"dropdown-profile",children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(fn,{asChild:!0,children:s.jsxs(Ul,{href:"/admin/settings",className:"cursor-pointer","data-testid":"dropdown-settings",children:[s.jsx(Aw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(Di,{}),s.jsxs(fn,{onClick:l,className:"cursor-pointer text-destructive focus:text-destructive","data-testid":"dropdown-logout",children:[s.jsx(r9,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(OG,{isOpen:a,onClose:()=>o(!1)}),s.jsx("div",{className:"flex-1 overflow-auto",children:t})]})]})}const rn=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ye("w-full caption-bottom text-sm",t),...e})}));rn.displayName="Table";const sn=p.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:ye("[&_tr]:border-b",t),...e}));sn.displayName="TableHeader";const an=p.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:ye("[&_tr:last-child]:border-0",t),...e}));an.displayName="TableBody";const hY=p.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));hY.displayName="TableFooter";const nt=p.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));nt.displayName="TableRow";const ne=p.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ne.displayName="TableHead";const re=p.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));re.displayName="TableCell";const fY=p.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:ye("mt-4 text-sm text-muted-foreground",t),...e}));fY.displayName="TableCaption";function v_(){var _;const[,t]=Zt(),{user:e}=Ka(),{toast:n}=En(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{e!=null&&e.admin||t("/")},[e==null?void 0:e.admin,t]);const c=`/api/admin/users?page=${a}&limit=${l}${r?`&title=${encodeURIComponent(r)}`:""}`,{data:d,isLoading:h}=et({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const g=await fetch(c,{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch users");return await g.json()}}),f=((_=d==null?void 0:d.data)==null?void 0:_.users)||[],m=d!=null&&d.data?{currentPage:a,totalPages:d.data.pages,totalItems:d.data.totalDoc,hasNextPage:a<d.data.pages,hasPrevPage:a>1}:void 0,v=Ot({mutationFn:async({userId:g,blocked:C})=>gt("PATCH",`/api/admin/users/${g}/block`,{blocked:C}),onSuccess:(g,C)=>{yt.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${C.blocked?"blocked":"unblocked"} successfully`})},onError:(g,C)=>{n({title:"Error",description:g.message||`Failed to ${C.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Users"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(m==null?void 0:m.totalItems)||f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Sellers"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:f.filter(g=>g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Customers"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:f.filter(g=>!g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"All Users"}),s.jsx(Oe,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search users...",value:r,onChange:g=>i(g.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(oe,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):f.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[200px]",children:"User"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(ne,{className:"text-right",children:"Wallet"}),s.jsx(ne,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:f.map(g=>{var C,j;return s.jsxs(nt,{"data-testid":`row-user-${g._id||g.id}`,children:[s.jsx(re,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(as,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(os,{src:g.profilePhoto}),s.jsxs(ls,{children:[(C=g.firstName)==null?void 0:C[0],(j=g.lastName)==null?void 0:j[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[g.firstName," ",g.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:g.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:g.phone||"No phone"})]})]})}),s.jsx(re,{className:"hidden md:table-cell","data-testid":`text-email-${g._id||g.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:g.email})}),s.jsx(re,{className:"hidden lg:table-cell","data-testid":`text-username-${g._id||g.id}`,children:g.userName||"N/A"}),s.jsx(re,{className:"hidden xl:table-cell",children:g.country||"N/A"}),s.jsx(re,{children:s.jsx(Be,{variant:g.seller?"default":"secondary",children:g.seller?"Seller":"Customer"})}),s.jsx(re,{className:"hidden sm:table-cell",children:s.jsx(Be,{variant:g.system_blocked?"destructive":"secondary","data-testid":`badge-status-${g._id||g.id}`,children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(UP,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(re,{className:"text-right","data-testid":`text-wallet-${g._id||g.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(BP,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(g.wallet||0).toFixed(2)]})]})}),s.jsx(re,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${g._id||g.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(g.walletPending||0).toFixed(2)]})}),s.jsx(re,{className:"text-right",children:s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm","data-testid":`button-actions-${g._id||g.id}`,children:s.jsx(Bc,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[s.jsxs(fn,{onClick:()=>t(`/admin/users/${g._id||g.id}`),"data-testid":`menu-view-user-${g._id||g.id}`,children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Di,{}),s.jsx(fn,{onClick:()=>{v.mutate({userId:g._id||g.id,blocked:!g.system_blocked})},disabled:v.isPending,"data-testid":`menu-block-user-${g._id||g.id}`,className:g.system_blocked?"":"text-destructive focus:text-destructive",children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(Tw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},g._id||g.id)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Hs,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function mY(){var v;const[,t]=Zt(),{user:e}=Ka(),{toast:n}=En(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{e!=null&&e.admin||t("/")},[e==null?void 0:e.admin,t]);const{data:c,isLoading:d}=et({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const _=new URLSearchParams;_.set("page",String(a)),_.set("limit",String(l)),r&&_.set("title",r);const g=`/api/admin/users?${_.toString()}`;return await(await gt("GET",g)).json()}}),h=((v=c==null?void 0:c.data)==null?void 0:v.users)||[],f=c!=null&&c.data?{currentPage:a,totalPages:c.data.pages,totalItems:c.data.totalDoc,hasNextPage:a<c.data.pages,hasPrevPage:a>1}:void 0,m=Ot({mutationFn:async({userId:_,blocked:g})=>gt("PATCH",`/api/admin/users/${_}/block`,{blocked:g}),onSuccess:(_,g)=>{yt.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${g.blocked?"blocked":"unblocked"} successfully`})},onError:(_,g)=>{n({title:"Error",description:_.message||`Failed to ${g.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Users"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(f==null?void 0:f.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Sellers"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:h.filter(_=>_.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Customers"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:h.filter(_=>!_.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"All Users"}),s.jsx(Oe,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search users...",value:r,onChange:_=>i(_.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(oe,{children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[200px]",children:"User"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Email"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(ne,{className:"text-right",children:"Wallet"}),s.jsx(ne,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:h.map(_=>{var g,C;return s.jsxs(nt,{"data-testid":`row-user-${_._id||_.id}`,children:[s.jsx(re,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(as,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(os,{src:_.profilePhoto}),s.jsxs(ls,{children:[(g=_.firstName)==null?void 0:g[0],(C=_.lastName)==null?void 0:C[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[_.firstName," ",_.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:_.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:_.phone||"No phone"})]})]})}),s.jsx(re,{className:"hidden md:table-cell","data-testid":`text-email-${_._id||_.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:_.email})}),s.jsx(re,{className:"hidden lg:table-cell","data-testid":`text-username-${_._id||_.id}`,children:_.userName||"N/A"}),s.jsx(re,{className:"hidden xl:table-cell",children:_.country||"N/A"}),s.jsx(re,{children:s.jsx(Be,{variant:_.seller?"default":"secondary",children:_.seller?"Seller":"Customer"})}),s.jsx(re,{className:"hidden sm:table-cell",children:s.jsx(Be,{variant:_.system_blocked?"destructive":"secondary","data-testid":`badge-status-${_._id||_.id}`,children:_.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(UP,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(re,{className:"text-right","data-testid":`text-wallet-${_._id||_.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(BP,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(_.wallet||0).toFixed(2)]})]})}),s.jsx(re,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${_._id||_.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(_.walletPending||0).toFixed(2)]})}),s.jsx(re,{className:"text-right",children:s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm","data-testid":`button-actions-${_._id||_.id}`,children:s.jsx(Bc,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[s.jsxs(fn,{onClick:()=>t(`/admin/users/${_._id||_.id}`),"data-testid":`menu-view-user-${_._id||_.id}`,children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Di,{}),s.jsx(fn,{onClick:()=>{m.mutate({userId:_._id||_.id,blocked:!_.system_blocked})},disabled:m.isPending,"data-testid":`menu-block-user-${_._id||_.id}`,className:_.system_blocked?"":"text-destructive focus:text-destructive",children:_.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(Tw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},_._id||_.id)})})]})}),f&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",f.currentPage," of ",f.totalPages," (",f.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[f.currentPage," / ",f.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!f.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!f.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Hs,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}var Aj="Tabs",[pY,Iee]=lr(Aj,[Kp]),iO=Kp(),[gY,Ij]=pY(Aj),aO=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,h=$p(l),[f,m]=Ci({prop:r,onChange:i,defaultProp:a});return s.jsx(gY,{scope:n,baseId:rs(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:s.jsx(Re.div,{dir:h,"data-orientation":o,...d,ref:e})})});aO.displayName=Aj;var oO="TabsList",lO=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=Ij(oO,n),o=iO(n);return s.jsx(cM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Re.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});lO.displayName=oO;var cO="TabsTrigger",dO=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=Ij(cO,n),l=iO(n),c=fO(o.baseId,r),d=mO(o.baseId,r),h=r===o.value;return s.jsx(dM,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Re.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!i&&f&&o.onValueChange(r)})})})});dO.displayName=cO;var uO="TabsContent",hO=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=Ij(uO,n),c=fO(l.baseId,r),d=mO(l.baseId,r),h=r===l.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(_r,{present:i||h,children:({present:m})=>s.jsx(Re.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});hO.displayName=uO;function fO(t,e){return`${t}-trigger-${e}`}function mO(t,e){return`${t}-content-${e}`}var xY=aO,pO=lO,gO=dO,xO=hO;const Rc=xY,Ko=p.forwardRef(({className:t,...e},n)=>s.jsx(pO,{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ko.displayName=pO.displayName;const kt=p.forwardRef(({className:t,...e},n)=>s.jsx(gO,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));kt.displayName=gO.displayName;const Et=p.forwardRef(({className:t,...e},n)=>s.jsx(xO,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Et.displayName=xO.displayName;var Rj="Switch",[vY,Ree]=lr(Rj),[yY,wY]=vY(Rj),vO=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=t,[m,v]=p.useState(null),_=st(e,x=>v(x)),g=p.useRef(!1),C=m?h||!!m.closest("form"):!0,[j=!1,y]=Ci({prop:i,defaultProp:a,onChange:d});return s.jsxs(yY,{scope:n,checked:j,disabled:l,children:[s.jsx(Re.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":jO(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:_,onClick:pe(t.onClick,x=>{y(P=>!P),C&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),C&&s.jsx(jY,{control:m,bubbles:!g.current,name:r,value:c,checked:j,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});vO.displayName=Rj;var yO="SwitchThumb",wO=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=wY(yO,n);return s.jsx(Re.span,{"data-state":jO(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});wO.displayName=yO;var jY=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=p.useRef(null),o=rD(n),l=uA(e);return p.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&f){const m=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(m)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jO(t){return t?"checked":"unchecked"}var bO=vO,bY=wO;const ec=p.forwardRef(({className:t,...e},n)=>s.jsx(bO,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(bY,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ec.displayName=bO.displayName;var Dj="Dialog",[NO,_O]=lr(Dj),[NY,gs]=NO(Dj),SO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d=!1,h]=Ci({prop:r,defaultProp:i,onChange:a});return s.jsx(NY,{scope:e,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};SO.displayName=Dj;var CO="DialogTrigger",kO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gs(CO,n),a=st(e,i.triggerRef);return s.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Lj(i.open),...r,ref:a,onClick:pe(t.onClick,i.onOpenToggle)})});kO.displayName=CO;var Mj="DialogPortal",[_Y,EO]=NO(Mj,{forceMount:void 0}),TO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=gs(Mj,e);return s.jsx(_Y,{scope:e,forceMount:n,children:p.Children.map(r,o=>s.jsx(_r,{present:n||a.open,children:s.jsx(zc,{asChild:!0,container:i,children:o})}))})};TO.displayName=Mj;var Qm="DialogOverlay",PO=p.forwardRef((t,e)=>{const n=EO(Qm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=gs(Qm,t.__scopeDialog);return a.modal?s.jsx(_r,{present:r||a.open,children:s.jsx(CY,{...i,ref:e})}):null});PO.displayName=Qm;var SY=Aa("DialogOverlay.RemoveScroll"),CY=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gs(Qm,n);return s.jsx(vh,{as:SY,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Re.div,{"data-state":Lj(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Go="DialogContent",AO=p.forwardRef((t,e)=>{const n=EO(Go,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=gs(Go,t.__scopeDialog);return s.jsx(_r,{present:r||a.open,children:a.modal?s.jsx(kY,{...i,ref:e}):s.jsx(EY,{...i,ref:e})})});AO.displayName=Go;var kY=p.forwardRef((t,e)=>{const n=gs(Go,t.__scopeDialog),r=p.useRef(null),i=st(e,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return Vp(a)},[]),s.jsx(IO,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,a=>a.preventDefault())})}),EY=p.forwardRef((t,e)=>{const n=gs(Go,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(IO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),IO=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=gs(Go,n),c=p.useRef(null),d=st(e,c);return Up(),s.jsxs(s.Fragment,{children:[s.jsx(xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(el,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Lj(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(PY,{titleId:l.titleId}),s.jsx(IY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Oj="DialogTitle",RO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gs(Oj,n);return s.jsx(Re.h2,{id:i.titleId,...r,ref:e})});RO.displayName=Oj;var DO="DialogDescription",MO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gs(DO,n);return s.jsx(Re.p,{id:i.descriptionId,...r,ref:e})});MO.displayName=DO;var OO="DialogClose",LO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=gs(OO,n);return s.jsx(Re.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});LO.displayName=OO;function Lj(t){return t?"open":"closed"}var FO="DialogTitleWarning",[TY,$O]=Z5(FO,{contentName:Go,titleName:Oj,docsSlug:"dialog"}),PY=({titleId:t})=>{const e=$O(FO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},AY="DialogDescriptionWarning",IY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$O(AY).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},UO=SO,VO=kO,zO=TO,Fj=PO,$j=AO,Uj=RO,Vj=MO,zj=LO;const pi=UO,Ym=VO,RY=zO,BO=p.forwardRef(({className:t,...e},n)=>s.jsx(Fj,{ref:n,className:ye("fixed inset-0 z-[9998] bg-black/40 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BO.displayName=Fj.displayName;const Ps=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(RY,{children:[s.jsx(BO,{}),s.jsxs($j,{ref:r,className:ye("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(zj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Lr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ps.displayName=$j.displayName;const As=({className:t,...e})=>s.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});As.displayName="DialogHeader";const Is=p.forwardRef(({className:t,...e},n)=>s.jsx(Uj,{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",t),...e}));Is.displayName=Uj.displayName;const ia=p.forwardRef(({className:t,...e},n)=>s.jsx(Vj,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));ia.displayName=Vj.displayName;function DY(){var Ce,ze,We;const[,t]=Zt(),[,e]=Jo("/admin/users/:userId"),{user:n}=Ka(),{settings:r}=ph(),{toast:i}=En(),a=e==null?void 0:e.userId,[o,l]=p.useState("orders"),[c,d]=p.useState(null),[h,f]=p.useState(!1);p.useEffect(()=>{n!=null&&n.admin||t("/")},[n==null?void 0:n.admin,t]);const m=Ot({mutationFn:async K=>await gt("PATCH",`/api/admin/users/${a}/approve-seller`,{email:K}),onSuccess:()=>{yt.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User approved as seller successfully"})},onError:K=>{i({title:"Error",description:K.message||"Failed to approve seller",variant:"destructive"})}}),v=Ot({mutationFn:async K=>await gt("PATCH",`/api/admin/users/${a}`,K),onSuccess:()=>{yt.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User updated successfully"})},onError:K=>{i({title:"Error",description:K.message||"Failed to update user",variant:"destructive"})}}),_=K=>{if(K){const be=(L==null?void 0:L.email)||"";m.mutate(be)}else v.mutate({seller:!1})},{data:g,isLoading:C}=et({queryKey:[`/api/admin/users/${a}`],enabled:!!a,refetchOnMount:"always",staleTime:0}),{data:j,isLoading:y}=et({queryKey:[`/api/address/all/${a}`],enabled:!!a}),{data:x,isLoading:P}=et({queryKey:[`/api/shipping/profiles/${a}`],enabled:!!a}),{data:D,isLoading:O}=et({queryKey:["/api/products",a],enabled:!!a}),{data:E,isLoading:b}=et({queryKey:["/api/orders",a,o],enabled:!!a&&(o==="orders"||o==="giveaways"),refetchOnMount:"always",staleTime:0}),{data:S,isLoading:R}=et({queryKey:["purchases-for-customer",a,o],queryFn:async()=>{const K=await fetch(`/api/orders?customer=${a}`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch purchases");return await K.json()},enabled:!!a&&(o==="purchases"||o==="giveaways")}),{data:N,isLoading:T}=et({queryKey:["/api/admin/transactions",a,o],queryFn:async()=>{const K=await fetch(`/api/admin/transactions?userId=${a}`,{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch transactions");return await K.json()},enabled:!!a&&o==="transactions"}),{data:A}=et({queryKey:["admin-settings"],queryFn:async()=>{const K=await fetch("/api/admin/settings",{credentials:"include"});if(!K.ok)throw new Error("Failed to fetch settings");const be=await K.json();return be.success?be.data:be}}),L=g==null?void 0:g.data,q=(j==null?void 0:j.data)||j||[],V=(x==null?void 0:x.data)||x||[],z=(D==null?void 0:D.products)||(D==null?void 0:D.data)||[],F=(E==null?void 0:E.orders)||(E==null?void 0:E.data)||[],H=(S==null?void 0:S.orders)||(S==null?void 0:S.data)||[],X=((Ce=N==null?void 0:N.data)==null?void 0:Ce.data)||(N==null?void 0:N.transactions)||(N==null?void 0:N.data)||[],J=Array.isArray(X)?X:[],W=(A==null?void 0:A.support_email)||"support@icona.com",ge=(A==null?void 0:A.stripe_fee)||"0",fe=(A==null?void 0:A.extra_charges)||"0",Le=[...F,...H].filter(K=>K.ordertype==="giveaway"||K.orderType==="giveaway");return C?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading user details..."})]})})}):L?s.jsxs(Ge,{children:[s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(ee,{variant:"ghost",onClick:()=>t("/admin"),"data-testid":"button-back-to-admin",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),s.jsxs(ae,{className:"mb-8",children:[s.jsxs(ce,{children:[s.jsx(he,{children:"User Profile"}),s.jsx(Oe,{children:"Complete user information"})]}),s.jsxs(oe,{children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs(as,{className:"h-20 w-20",children:[s.jsx(os,{src:L.profilePhoto}),s.jsxs(ls,{className:"text-2xl",children:[(ze=L.firstName)==null?void 0:ze[0],(We=L.lastName)==null?void 0:We[0]]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium","data-testid":"text-user-name",children:[L.firstName," ",L.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-email",children:L.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-username",children:L.userName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:L.country||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:L.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Default Payment Method"}),s.jsx("p",{className:"font-medium","data-testid":"text-default-payment-method",children:typeof L.defaultpaymentmethod=="object"&&L.defaultpaymentmethod?`${(L.defaultpaymentmethod.type||"Card").replace(/_/g," ")} ending in ${L.defaultpaymentmethod.last4||"****"}`:L.defaultpaymentmethod?String(L.defaultpaymentmethod).replace(/_/g," "):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(Be,{variant:L.seller?"default":"secondary",children:L.seller?"Seller":"Customer"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Admin Controls"}),s.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ve,{htmlFor:"seller-toggle",className:"text-base",children:"Seller Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this user to sell products on the platform"})]}),s.jsx(ec,{id:"seller-toggle",checked:L.seller,onCheckedChange:_,disabled:m.isPending||v.isPending,"data-testid":"switch-seller-status"})]})]})]})]}),s.jsxs(Rc,{defaultValue:"addresses",className:"w-full",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ko,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(kt,{value:"addresses","data-testid":"tab-addresses",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Pw,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Addresses (",q.length,")"]}),s.jsxs(kt,{value:"shipping","data-testid":"tab-shipping",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(_u,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Shipping Profiles (",V.length,")"]}),s.jsxs(kt,{value:"inventory","data-testid":"tab-inventory",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Inventory (",z.length,")"]}),s.jsxs(kt,{value:"activities","data-testid":"tab-activities",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(z$,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Activities"]})]})}),s.jsx(Et,{value:"addresses",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"User Addresses"}),s.jsx(Oe,{children:"All saved addresses for this user"})]}),s.jsx(oe,{children:y?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading addresses..."})]}):q.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No addresses found"}):s.jsx("div",{className:"space-y-4",children:q.map((K,be)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`address-${be}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h4",{className:"font-medium",children:K.name}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/addresses/${K._id}`),"data-testid":`button-view-address-${be}`,children:"View Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:K.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:K.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:K.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City/Region"}),s.jsxs("p",{className:"font-medium",children:[K.city,", ",K.region]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:K.country})]})]})]},K._id||be))})})]})}),s.jsx(Et,{value:"shipping",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Shipping Profiles"}),s.jsx(Oe,{children:"User's shipping configurations"})]}),s.jsx(oe,{children:P?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading shipping profiles..."})]}):V.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No shipping profiles found"}):s.jsx("div",{className:"space-y-4",children:V.map((K,be)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`shipping-profile-${be}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["Shipping Profile #",be+1]}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/shipping-profiles/${K._id}`),"data-testid":`button-view-shipping-${be}`,children:"View Details"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(K).map(([Ae,He])=>Ae==="_id"||Ae==="__v"||Ae==="userId"||Ae==="user"||Ae==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground capitalize",children:Ae.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"break-words",children:typeof He=="object"&&He!==null?JSON.stringify(He):String(He||"N/A")})]},Ae))})]},K._id||be))})})]})}),s.jsx(Et,{value:"inventory",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Product Inventory"}),s.jsx(Oe,{children:"All products listed by this user"})]}),s.jsx(oe,{children:O?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading inventory..."})]}):z.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No inventory found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Product"}),s.jsx(ne,{children:"Price"}),s.jsx(ne,{children:"Stock"}),s.jsx(ne,{children:"Category"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(an,{children:z.map(K=>{var be,Ae,He;return s.jsxs(nt,{"data-testid":`product-${K._id||K.id}`,children:[s.jsx(re,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[((be=K.images)==null?void 0:be[0])&&s.jsx("img",{src:K.images[0],alt:K.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{children:K.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(Ae=K.description)==null?void 0:Ae.substring(0,50),"..."]})]})]})}),s.jsxs(re,{children:["$",K.price]}),s.jsx(re,{children:K.quantity||0}),s.jsx(re,{children:((He=K.category)==null?void 0:He.name)||"N/A"}),s.jsx(re,{children:s.jsx(Be,{variant:K.active?"default":"secondary",children:K.active?"Active":"Inactive"})}),s.jsx(re,{children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/inventory/${K._id||K.id}`),"data-testid":`button-view-product-${K._id||K.id}`,children:"View Details"})})]},K._id||K.id)})})]})})})]})}),s.jsx(Et,{value:"activities",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"User Activities"}),s.jsx(Oe,{children:"Orders, purchases, and giveaways"})]}),s.jsx(oe,{children:s.jsxs(Rc,{defaultValue:"orders",className:"w-full",onValueChange:l,children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ko,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(kt,{value:"orders","data-testid":"tab-activities-orders",className:"flex-shrink-0 sm:flex-shrink",children:"Orders"}),s.jsx(kt,{value:"purchases","data-testid":"tab-activities-purchases",className:"flex-shrink-0 sm:flex-shrink",children:"Purchases"}),s.jsx(kt,{value:"giveaways","data-testid":"tab-activities-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:"Giveaways"}),s.jsxs(kt,{value:"transactions","data-testid":"tab-activities-transactions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Nc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Transactions"]})]})}),s.jsx(Et,{value:"orders",children:b?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."})]}):F.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No orders found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(an,{children:F.map(K=>{var Ae,He;const be=((Ae=K.items)==null?void 0:Ae.reduce((_t,jt)=>_t+(jt.total||jt.totalPrice||jt.price||0),0))||0;return s.jsxs(nt,{"data-testid":`order-${K._id||K.id}`,children:[s.jsx(re,{className:"font-medium",children:K.invoice||"N/A"}),s.jsx(re,{children:K.createdAt?new Date(K.createdAt).toLocaleDateString():"N/A"}),s.jsxs(re,{children:[((He=K.items)==null?void 0:He.length)||0," items"]}),s.jsxs(re,{children:["$",be.toFixed(2)]}),s.jsx(re,{children:s.jsx(Be,{children:K.status||"pending"})}),s.jsx(re,{children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${K._id||K.id}`),"data-testid":`button-view-order-${K._id||K.id}`,children:"View Details"})})]},K._id||K.id)})})]})})}),s.jsx(Et,{value:"purchases",children:R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading purchases..."})]}):H.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No purchases found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(an,{children:H.map(K=>{var Ae,He;const be=((Ae=K.items)==null?void 0:Ae.reduce((_t,jt)=>_t+(jt.total||jt.totalPrice||jt.price||0),0))||0;return s.jsxs(nt,{"data-testid":`purchase-${K._id||K.id}`,children:[s.jsx(re,{className:"font-medium",children:K.invoice||"N/A"}),s.jsx(re,{children:K.createdAt?new Date(K.createdAt).toLocaleDateString():"N/A"}),s.jsxs(re,{children:[((He=K.items)==null?void 0:He.length)||0," items"]}),s.jsxs(re,{children:["$",be.toFixed(2)]}),s.jsx(re,{children:s.jsx(Be,{children:K.status||"pending"})}),s.jsx(re,{children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${K._id||K.id}`),"data-testid":`button-view-purchase-${K._id||K.id}`,children:"View Details"})})]},K._id||K.id)})})]})})}),s.jsx(Et,{value:"giveaways",children:b||R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading giveaways..."})]}):Le.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No giveaways found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(an,{children:Le.map(K=>{var Ae,He;const be=((Ae=K.items)==null?void 0:Ae.reduce((_t,jt)=>_t+(jt.total||jt.totalPrice||jt.price||0),0))||0;return s.jsxs(nt,{"data-testid":`giveaway-${K._id||K.id}`,children:[s.jsx(re,{className:"font-medium",children:K.invoice||"N/A"}),s.jsx(re,{children:K.createdAt?new Date(K.createdAt).toLocaleDateString():"N/A"}),s.jsxs(re,{children:[((He=K.items)==null?void 0:He.length)||0," items"]}),s.jsxs(re,{children:["$",be.toFixed(2)]}),s.jsx(re,{children:s.jsx(Be,{children:K.status||"pending"})}),s.jsx(re,{children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${K._id||K.id}`),"data-testid":`button-view-giveaway-${K._id||K.id}`,children:"View Details"})})]},K._id||K.id)})})]})})}),s.jsx(Et,{value:"transactions",children:T?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):J.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Transaction ID"}),s.jsx(ne,{children:"From"}),s.jsx(ne,{children:"To"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:J.map(K=>{const be=K._id||K.id,Ae=typeof K.from=="object"&&(`${K.from.firstName||""} ${K.from.lastName||""}`.trim()||K.from.userName||K.from.email)||"Unknown",He=typeof K.to=="object"&&(`${K.to.firstName||""} ${K.to.lastName||""}`.trim()||K.to.userName||K.to.email)||"Unknown",_t=K.amount||0,jt=K.type||"N/A",vn=K.status||"pending",yn=xs=>{switch(xs.toLowerCase()){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"secondary"}};return s.jsxs(nt,{"data-testid":`transaction-${be}`,children:[s.jsx(re,{className:"font-mono text-xs",children:String(be).slice(-8)}),s.jsx(re,{children:Ae}),s.jsx(re,{children:He}),s.jsx(re,{className:"capitalize",children:jt}),s.jsxs(re,{children:["$",_t.toFixed(2)]}),s.jsx(re,{children:K.createdAt?new Date(K.createdAt).toLocaleDateString():"N/A"}),s.jsx(re,{children:s.jsx(Be,{variant:yn(vn),children:vn})}),s.jsx(re,{className:"text-right",children:s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>{K.receipt?window.open(K.receipt,"_blank"):(d(K),f(!0))},"data-testid":`button-print-receipt-${be}`,children:[s.jsx(pm,{className:"h-4 w-4 mr-2"}),"Receipt"]})})]},be)})})]})})})]})})]})})]})]}),s.jsx(pi,{open:h,onOpenChange:f,children:s.jsxs(Ps,{className:"max-w-md",children:[s.jsx(As,{children:s.jsx(Is,{children:"Transaction Receipt"})}),c&&s.jsxs("div",{id:"receipt-content-user",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:r.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(c._id||c.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString():c.date?new Date(c.date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:c.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(Be,{variant:(c.status||"pending").toLowerCase()==="completed"?"default":(c.status||"pending").toLowerCase()==="failed"?"destructive":"secondary",children:c.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof c.from=="object"&&(`${c.from.firstName||""} ${c.from.lastName||""}`.trim()||c.from.userName||c.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof c.to=="object"&&(`${c.to.firstName||""} ${c.to.lastName||""}`.trim()||c.to.userName||c.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(c.total)||0).toFixed(2)]})]}),(()=>{const K=parseFloat(c.stripe_fee)||0,be=parseFloat(c.extra_charges)||0,Ae=K+be;return Ae>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",ge,"% + ",fe,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",Ae.toFixed(2)]})]})})(),c.serviceFee&&parseFloat(c.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.serviceFee).toFixed(2)]})]}),c.shippingFee&&parseFloat(c.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(c.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",W]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(ee,{variant:"outline",onClick:()=>f(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(ee,{onClick:()=>{const K=document.getElementById("receipt-content-user");if(K){const be=window.open("","_blank");be&&(be.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${K.innerHTML}
                        </body>
                      </html>
                    `),be.document.close(),be.focus(),setTimeout(()=>{be.print(),be.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(pm,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]}):s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"User not found"}),s.jsx(ee,{onClick:()=>t("/admin"),className:"mt-4",children:"Back to Dashboard"})]})})})}function MY(){var _,g,C,j,y,x,P,D,O,E;const[,t]=Zt(),[,e]=Jo("/admin/users/:userId/details/:itemType/:itemId"),{userId:n,itemType:r,itemId:i}=e||{},a=()=>{switch(r){case"addresses":return[`/api/address/all/${n}`];case"shipping-profiles":return[`/api/shipping/profiles/${n}`];case"inventory":return["/api/products",n];case"orders":return["/api/orders",n];default:return[`/api/admin/users/${n}/${r}`]}},{data:o,isLoading:l}=et({queryKey:a(),enabled:!!n&&!!r}),h=(o?o.products?o.products:o.orders?o.orders:Array.isArray(o)?o:Array.isArray(o.data)?o.data:[]:[]).find(b=>(b._id||b.id)===i);if(l)return s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading details..."})]})})});if(!h)return s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Item not found"}),s.jsx(ee,{onClick:()=>t(`/admin/users/${n}`),className:"mt-4",children:"Back to User"})]})})});const f=()=>{switch(r){case"addresses":return Pw;case"orders":return Sa;case"shipping-profiles":return _u;case"inventory":return Yt;default:return Yt}},m=()=>{switch(r){case"addresses":return"Address Details";case"orders":return`Order #${h.invoice||h._id}`;case"shipping-profiles":return"Shipping Profile Details";case"inventory":return"Inventory Item Details";default:return"Item Details"}},v=f();return s.jsx(Ge,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(ee,{variant:"ghost",onClick:()=>t(`/admin/users/${n}`),"data-testid":"button-back-to-user",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to User"]})}),s.jsxs(Rc,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Ko,{children:[s.jsx(kt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(kt,{value:"details","data-testid":"tab-details",children:"Details"}),r==="orders"&&s.jsx(kt,{value:"items","data-testid":"tab-items",children:"Items"}),r==="inventory"&&s.jsx(kt,{value:"reviews","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(Et,{value:"overview",children:s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(v,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(he,{children:m()}),s.jsx(Oe,{children:"Basic information"})]})]})}),s.jsxs(oe,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(Be,{children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium",children:[h.address,", ",h.city,", ",h.region,", ",h.country]})]})]}),r==="orders"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Be,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-2xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="user"||b==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="orderId"||b==="ownerId"||b==="favorite"||b==="deleted"||b==="reviews"||b==="favorited"||b==="discountedPrice"||b==="colors"||b==="tokshow"||b==="tiktokshow"?null:b==="images"&&Array.isArray(S)&&S.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((R,N)=>s.jsx("img",{src:R,alt:`Product ${N+1}`,className:"h-24 w-24 rounded object-cover border"},N))})]},b):b==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(Be,{variant:S?"default":"secondary",children:S?"Yes":"No"})]},b):b==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(S||"N/A").replace(/_/g," ")})]},b):b==="sizes"&&Array.isArray(S)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:S.join(", ")||"N/A"})]},b):b==="category"&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):(b==="shippingProfile"||b==="shipping_profile")&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))})]})]})}),s.jsx(Et,{value:"details",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Complete Details"}),s.jsx(Oe,{children:"All available information"})]}),s.jsxs(oe,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:h.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:h.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-lg",children:h.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address Type"}),s.jsx("p",{className:"font-medium text-lg",children:h.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Street Address"}),s.jsx("p",{className:"font-medium text-lg",children:h.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City"}),s.jsx("p",{className:"font-medium text-lg",children:h.city})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Region/State"}),s.jsx("p",{className:"font-medium text-lg",children:h.region})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Postal Code"}),s.jsx("p",{className:"font-medium text-lg",children:h.postalCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium text-lg",children:h.country})]})]}),r==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invoice Number"}),s.jsx("p",{className:"font-medium",children:h.invoice||h._id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:h.createdAt?new Date(h.createdAt).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Be,{children:h.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-xl",children:["$",((h.total||0)+(h.servicefee||0)+(h.tax||0)+(h.shipping_fee||0)).toFixed(2)]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"font-medium",children:h.notes||"No notes"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((_=h.customer)==null?void 0:_.firstName)||""} ${((g=h.customer)==null?void 0:g.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((C=h.customer)==null?void 0:C.email)||"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),s.jsx("p",{className:"font-medium",children:(j=h.customer)!=null&&j.address?`${h.customer.address.addrress1}, ${h.customer.address.city}, ${h.customer.address.state} ${h.customer.address.zipcode}`:"N/A"})]}),((x=(y=h.customer)==null?void 0:y.address)==null?void 0:x.phone)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:h.customer.address.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seller Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((P=h.seller)==null?void 0:P.firstName)||""} ${((D=h.seller)==null?void 0:D.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((O=h.seller)==null?void 0:O.email)||"N/A"})]}),((E=h.seller)==null?void 0:E.userName)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium",children:h.seller.userName})]})]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="user"||b==="taxCode"?null:s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="orderId"||b==="ownerId"||b==="favorite"||b==="deleted"||b==="reviews"||b==="favorited"||b==="discountedPrice"||b==="colors"||b==="tokshow"||b==="tiktokshow"?null:b==="images"&&Array.isArray(S)&&S.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((R,N)=>s.jsx("img",{src:R,alt:`Product ${N+1}`,className:"h-24 w-24 rounded object-cover border"},N))})]},b):b==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(Be,{variant:S?"default":"secondary",children:S?"Yes":"No"})]},b):b==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(S||"N/A").replace(/_/g," ")})]},b):b==="sizes"&&Array.isArray(S)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:S.join(", ")||"N/A"})]},b):b==="category"&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):(b==="shippingProfile"||b==="shipping_profile")&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))})]})]})}),r==="orders"&&s.jsx(Et,{value:"items",children:s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(he,{children:"Order Items"}),s.jsx(Oe,{children:"Products in this order"})]})]})}),s.jsx(oe,{children:!h.items||h.items.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No items in this order"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Product"}),s.jsx(ne,{children:"Quantity"}),s.jsx(ne,{children:"Price"}),s.jsx(ne,{className:"text-right",children:"Total"})]})}),s.jsx(an,{children:h.items.map((b,S)=>{var R;return s.jsxs(nt,{children:[s.jsx(re,{className:"font-medium",children:((R=b.productId)==null?void 0:R.name)||"N/A"}),s.jsx(re,{children:b.quantity||1}),s.jsxs(re,{children:["$",b.price||0]}),s.jsxs(re,{className:"text-right",children:["$",(b.quantity||1)*(b.price||0)]})]},b._id||S)})})]})})})]})}),r==="inventory"&&s.jsx(Et,{value:"reviews",children:s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Yt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(he,{children:"Product Reviews"}),s.jsx(Oe,{children:"Customer reviews for this product"})]})]})}),s.jsx(oe,{children:!h.reviews||h.reviews.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No reviews yet"}):s.jsx("div",{className:"space-y-4",children:h.reviews.map((b,S)=>{var R;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.userName||((R=b.user)==null?void 0:R.name)||"Anonymous"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.createdAt?new Date(b.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:b.rating||"N/A"}),s.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/ 5"})]})]}),s.jsx("p",{className:"text-sm",children:b.comment||b.review||"No comment"})]},b._id||S)})})})]})})]})]})})}function OY(){var b;const[,t]=Zt(),[e,n]=p.useState(""),[r,i]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState("all"),[d,h]=p.useState(!1),[f,m]=p.useState(1),[v]=p.useState(10);let _=`/api/admin/products?page=${f}&limit=${v}`;e&&(_+=`&title=${encodeURIComponent(e)}`),r&&r!=="all"&&(_+=`&category=${encodeURIComponent(r)}`),l&&l!=="all"&&(_+=`&price=${encodeURIComponent(l)}`);const{data:g,isLoading:C}=et({queryKey:[_]}),j=((b=g==null?void 0:g.data)==null?void 0:b.products)||[],y=new Map;j.forEach(S=>{if(S.category){const R=typeof S.category=="object"?S.category._id:S.category,N=typeof S.category=="object"?S.category.name:S.category;R&&!y.has(R)&&y.set(R,N)}});const x=Array.from(y.entries()).map(([S,R])=>({id:S,name:R})),P=a&&a!=="all"?j.filter(S=>(S.status||"active")===a):j,D=g!=null&&g.data?{currentPage:f,totalPages:g.data.pages,totalItems:g.data.totalDoc,hasNextPage:f<g.data.pages,hasPrevPage:f>1}:void 0;p.useEffect(()=>{m(1)},[e,r,a,l]);const O=()=>{n(""),i("all"),o("all"),c("all")},E=e||r&&r!=="all"||a&&a!=="all"||l&&l!=="all";return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Products"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-products",children:(D==null?void 0:D.totalItems)||j.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All products in inventory"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Active Products"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-products",children:j.filter(S=>S.status==="active"||!S.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Categories"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-categories-count",children:new Set(j.map(S=>{var R;return((R=S.category)==null?void 0:R._id)||S.category}).filter(Boolean)).size}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique categories"})]})]})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"All Products"}),s.jsx(Oe,{children:"View and manage all product inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>h(!d),"data-testid":"button-toggle-filters",className:"whitespace-nowrap",children:[s.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Filters",E&&s.jsx(Be,{variant:"secondary",className:"ml-2",children:[e,r!=="all"&&r,a!=="all"&&a,l!=="all"&&l].filter(Boolean).length})]}),E&&s.jsx(ee,{variant:"ghost",size:"sm",onClick:O,"data-testid":"button-clear-filters",children:s.jsx(Lr,{className:"h-4 w-4"})})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search products...",value:e,onChange:S=>n(S.target.value),className:"pl-10","data-testid":"input-search-products"})]}),s.jsxs(_n,{value:r,onValueChange:i,children:[s.jsx(pn,{"data-testid":"select-category-filter",children:s.jsx(Sn,{placeholder:"All Categories"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All Categories"}),x.map(S=>s.jsx(se,{value:S.id,children:S.name},S.id))]})]}),s.jsxs(_n,{value:a,onValueChange:o,children:[s.jsx(pn,{"data-testid":"select-status-filter",children:s.jsx(Sn,{placeholder:"All Status"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All Status"}),s.jsx(se,{value:"active",children:"Active"}),s.jsx(se,{value:"inactive",children:"Inactive"}),s.jsx(se,{value:"draft",children:"Draft"})]})]}),s.jsxs(_n,{value:l,onValueChange:c,children:[s.jsx(pn,{"data-testid":"select-price-filter",children:s.jsx(Sn,{placeholder:"All Prices"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All Prices"}),s.jsx(se,{value:"0-25",children:"$0 - $25"}),s.jsx(se,{value:"25-50",children:"$25 - $50"}),s.jsx(se,{value:"50-100",children:"$50 - $100"}),s.jsx(se,{value:"100-",children:"$100+"})]})]})]})]})}),s.jsx(oe,{children:C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):P.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[250px]",children:"Product"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Owner"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Category"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Type"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Price"}),s.jsx(ne,{className:"hidden 2xl:table-cell",children:"Stock"}),s.jsx(ne,{className:"hidden 2xl:table-cell",children:"Featured"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:P.map(S=>{var R,N,T;return s.jsxs(nt,{"data-testid":`row-product-${S._id||S.id}`,onClick:()=>t(`/admin/products/${S._id||S.id}`),className:"cursor-pointer hover-elevate",children:[s.jsx(re,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[(R=S.images)!=null&&R[0]?s.jsx("img",{src:S.images[0],alt:S.name,className:"h-10 w-10 rounded object-cover flex-shrink-0"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(Yt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:S.name}),s.jsxs("div",{className:"text-sm text-muted-foreground sm:hidden truncate",children:["Owner: ",typeof S.ownerId=="object"?S.ownerId.userName||S.ownerId.email||"Unknown":"N/A"]})]})]})}),s.jsx(re,{className:"hidden sm:table-cell","data-testid":`text-owner-${S._id||S.id}`,children:s.jsx("div",{className:"max-w-[150px]",children:typeof S.ownerId=="object"?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium truncate",children:S.ownerId.firstName&&S.ownerId.lastName?`${S.ownerId.firstName} ${S.ownerId.lastName}`:S.ownerId.userName||"Unknown"}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:S.ownerId.email||""})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),s.jsx(re,{className:"hidden md:table-cell","data-testid":`text-category-${S._id||S.id}`,children:((N=S.category)==null?void 0:N.name)||S.category||"Uncategorized"}),s.jsx(re,{className:"hidden md:table-cell","data-testid":`text-type-${S._id||S.id}`,children:s.jsx(Be,{variant:S.listing_type==="auction"?"default":S.listing_type==="giveaway"?"secondary":"outline",children:S.listing_type==="auction"?"Auction":S.listing_type==="giveaway"?"Giveaway":S.listing_type==="buy_now"?"Buy Now":S.listing_type||"Unknown"})}),s.jsxs(re,{className:"hidden xl:table-cell","data-testid":`text-price-${S._id||S.id}`,children:["$",((T=S.price)==null?void 0:T.toFixed(2))||"0.00"]}),s.jsx(re,{className:"hidden 2xl:table-cell",children:S.quantity||0}),s.jsx(re,{className:"hidden 2xl:table-cell",children:s.jsx(Be,{variant:S.featured?"default":"outline","data-testid":`badge-featured-${S._id||S.id}`,children:S.featured?"Yes":"No"})}),s.jsx(re,{children:s.jsx(Be,{variant:S.status==="active"||!S.status?"default":"secondary",children:S.status||"active"})}),s.jsx(re,{className:"text-right",children:s.jsxs(ee,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),t(`/admin/products/${S._id||S.id}`)},"data-testid":`button-view-product-${S._id||S.id}`,className:"whitespace-nowrap",children:[s.jsx(Ia,{className:"h-4 w-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"View Details"})]})})]},S._id||S.id)})})]})}),D&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",D.currentPage," of ",D.totalPages," (",D.totalItems," total products)"]}),s.jsxs("span",{className:"sm:hidden",children:[D.currentPage," / ",D.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(f-1),disabled:!D.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(f+1),disabled:!D.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Hs,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function LY(){var o,l;const[,t]=Zt(),[,e]=Jo("/admin/products/:productId"),{user:n}=Ka(),r=e==null?void 0:e.productId;p.useEffect(()=>{n!=null&&n.admin||t("/")},[n==null?void 0:n.admin,t]);const{data:i,isLoading:a}=et({queryKey:[`/api/products/${r}`],enabled:!!r});return a?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading product details..."})]})})}):i?s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>t("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(he,{className:"text-2xl",children:i.name}),s.jsx(Be,{variant:i.status==="active"||!i.status?"default":"secondary",children:i.status||"active"})]})}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-sm",children:i.description||"No description provided"})]}),i.images&&i.images.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center",children:[s.jsx(e9,{className:"h-4 w-4 mr-2"}),"Product Images"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.images.map((c,d)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:c,alt:`${i.name} - ${d+1}`,className:"w-full h-full object-cover"})},d))})]})]})]}),i.ownerId&&s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"text-lg flex items-center",children:[s.jsx(wr,{className:"h-5 w-5 mr-2"}),"Product Owner"]})}),s.jsxs(oe,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:typeof i.ownerId=="object"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-name",children:i.ownerId.firstName&&i.ownerId.lastName?`${i.ownerId.firstName} ${i.ownerId.lastName}`:i.ownerId.userName||"Unknown"})]}),i.ownerId.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-sm break-all","data-testid":"text-owner-email",children:i.ownerId.email})]}),i.ownerId.country&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-country",children:i.ownerId.country})]}),i.ownerId.seller!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(Be,{variant:i.ownerId.seller?"default":"secondary",children:i.ownerId.seller?"Seller":"Customer"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-owner-id",children:String(i.ownerId)})]})}),s.jsx(ee,{variant:"outline",className:"w-full mt-4",onClick:()=>t(`/admin/users/${i.ownerId._id||i.ownerId}`),"data-testid":"button-view-seller",children:"View Full Profile"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"text-lg flex items-center",children:[s.jsx(Fs,{className:"h-5 w-5 mr-2"}),"Pricing"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"text-3xl font-bold","data-testid":"text-product-price",children:["$",((o=i.price)==null?void 0:o.toFixed(2))||"0.00"]})})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"text-lg flex items-center",children:[s.jsx(q$,{className:"h-5 w-5 mr-2"}),"Stock"]})}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-3xl font-bold","data-testid":"text-product-stock",children:i.quantity||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"units available"})]})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"text-lg flex items-center",children:[s.jsx(d9,{className:"h-5 w-5 mr-2"}),"Category"]})}),s.jsx(oe,{children:s.jsx("p",{className:"text-sm","data-testid":"text-product-category",children:((l=i.category)==null?void 0:l.name)||i.category||"Uncategorized"})})]}),i.shipping_profile&&s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"text-lg flex items-center",children:[s.jsx(_u,{className:"h-5 w-5 mr-2"}),"Shipping Profile"]})}),s.jsx(oe,{children:s.jsx("div",{className:"space-y-3 text-sm",children:typeof i.shipping_profile=="object"&&i.shipping_profile?s.jsxs(s.Fragment,{children:[i.shipping_profile.name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-name",children:i.shipping_profile.name})]}),i.shipping_profile.weight!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Weight"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-weight",children:[i.shipping_profile.weight," ",i.shipping_profile.scale||"oz"]})]}),(i.shipping_profile.length||i.shipping_profile.width||i.shipping_profile.height)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dimensions (L  W  H)"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-dimensions",children:[i.shipping_profile.length||0,"  ",i.shipping_profile.width||0,"  ",i.shipping_profile.height||0," in"]})]}),i.shipping_profile.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Description"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-description",children:i.shipping_profile.description})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Profile ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-shipping-id",children:String(i.shipping_profile)})]})})})]})]})]})]})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>t("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Product not found"})]})]})})}function FY(){const[,t]=Zt(),{toast:e}=En(),[n,r]=p.useState(""),[i,a]=p.useState("all"),[o,l]=p.useState(!1),{data:c,isLoading:d}=et({queryKey:["admin-all-orders"],queryFn:async()=>{const y=await fetch("/api/orders",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch orders");return await y.json()}}),h=(c==null?void 0:c.orders)||(c==null?void 0:c.data)||[],f=Ot({mutationFn:async({id:y,type:x})=>gt("PUT",`/api/admin/refund/${y}`,{type:x}),onSuccess:()=>{yt.invalidateQueries({queryKey:["admin-all-orders"]}),e({title:"Success",description:"Refund processed successfully"})},onError:y=>{e({title:"Error",description:y.message||"Failed to process refund",variant:"destructive"})}}),m=h.filter(y=>{var x;if(n){const P=String(y.invoice||y._id||"").toLowerCase(),D=typeof y.customer=="object"&&(`${y.customer.firstName||""} ${y.customer.lastName||""}`.trim()||y.customer.userName||y.customer.email)||"",O=n.toLowerCase();if(!P.includes(O)&&!D.toLowerCase().includes(O))return!1}return!(i!=="all"&&((x=y.status)==null?void 0:x.toLowerCase())!==i.toLowerCase())}),v=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",_=y=>{switch(y==null?void 0:y.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}},g=()=>{r(""),a("all")},C=n||i!=="all",j=[n,i!=="all"].filter(Boolean).length;return d?s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsx(ae,{children:s.jsx(oe,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]})})})]})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Sa,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(he,{children:"All Orders"}),s.jsxs(Oe,{children:[m.length," of ",h.length," orders"]})]})]}),s.jsxs(ee,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),"data-testid":"button-toggle-filters",children:[s.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Filters",j>0&&s.jsx(Be,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:j})]})]}),o&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Invoice or customer...",value:n,onChange:y=>r(y.target.value),className:"pl-9","data-testid":"input-search-orders"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(_n,{value:i,onValueChange:a,children:[s.jsx(pn,{"data-testid":"select-status-filter",children:s.jsx(Sn,{placeholder:"All statuses"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All Statuses"}),s.jsx(se,{value:"pending",children:"Pending"}),s.jsx(se,{value:"processing",children:"Processing"}),s.jsx(se,{value:"shipped",children:"Shipped"}),s.jsx(se,{value:"delivered",children:"Delivered"}),s.jsx(se,{value:"completed",children:"Completed"}),s.jsx(se,{value:"cancelled",children:"Cancelled"})]})]})]})]}),C&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:g,"data-testid":"button-clear-filters",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(oe,{children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Sa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:C?"No orders match your filters":"No orders found"}),C&&s.jsx(ee,{variant:"outline",onClick:g,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Customer"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Items"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:m.map(y=>{var S;const x=y._id||y.id,P=y.invoice||x,D=typeof y.customer=="object"&&y.customer!==null?`${y.customer.firstName||""} ${y.customer.lastName||""}`.trim()||y.customer.userName||y.customer.email:"Unknown",O=((S=y.items)==null?void 0:S.length)||0,b=(()=>{if(y.totalAmount||y.total)return y.totalAmount||y.total;if(!y.items||y.items.length===0)return 0;const R=y.items.reduce((A,L)=>{const q=L.price||0,V=L.quantity||1;return A+q*V},0),N=y.shipping_fee||y.shippingFee||y.shipping||0,T=y.tax||0;return R+N+T})();return s.jsxs(nt,{children:[s.jsx(re,{className:"font-mono text-xs","data-testid":`text-order-id-${x}`,children:P}),s.jsx(re,{"data-testid":`text-customer-${x}`,children:D}),s.jsx(re,{"data-testid":`text-date-${x}`,children:v(y.createdAt||y.orderDate)}),s.jsxs(re,{"data-testid":`text-items-${x}`,children:[O," ",O===1?"item":"items"]}),s.jsxs(re,{"data-testid":`text-total-${x}`,children:["$",b.toFixed(2)]}),s.jsx(re,{children:s.jsx(Be,{variant:_(y.status),"data-testid":`badge-status-${x}`,children:y.status||"pending"})}),s.jsx(re,{className:"text-right",children:s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm","data-testid":`button-actions-${x}`,children:s.jsx(Bc,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[s.jsxs(fn,{onClick:()=>t(`/admin/orders/${x}`),"data-testid":`menu-view-order-${x}`,children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(Di,{}),s.jsxs(fn,{onClick:()=>{f.mutate({id:x,type:"order"})},disabled:f.isPending,"data-testid":`menu-refund-order-${x}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Refund Order"]})]})]})})]},x)})})]})})})]})]})})}function $Y(){var g,C;const[,t]=Zt(),[,e]=Jo("/admin/orders/:orderId"),n=e==null?void 0:e.orderId,{data:r,isLoading:i}=et({queryKey:[`admin-order-${n}`],queryFn:async()=>{const j=await fetch(`/api/orders/${n}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch order");const y=await j.json();return y.success?y.data:y},enabled:!!n}),a=(r==null?void 0:r.order)||(r==null?void 0:r.data)||r,o=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",l=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}};if(i)return s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(!a)return s.jsx(Ge,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),s.jsx(ee,{onClick:()=>t("/admin/orders"),className:"mt-4",children:"Back to Orders"})]})})});const c=typeof a.customer=="object"?`${a.customer.firstName||""} ${a.customer.lastName||""}`.trim()||a.customer.userName||a.customer.email:"Unknown",d=typeof a.customer=="object"?a.customer.email:"",f=!a.items||a.items.length===0?0:a.items.reduce((j,y)=>{const x=y.price||0,P=y.quantity||1;return j+x*P},0),m=a.shipping_fee||a.shippingFee||a.shipping||0,v=a.tax||0,_=f+m+v;return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>t("/admin/orders"),className:"mb-4","data-testid":"button-back-to-orders",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Order Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order ID: ",a.invoice||n]})]}),s.jsx(Be,{variant:l(a.status),className:"text-lg py-2 px-4 w-fit","data-testid":"badge-order-status",children:a.status||"pending"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center",children:[s.jsx(Yt,{className:"h-5 w-5 mr-2"}),"Order Items"]}),s.jsxs(Oe,{children:[((g=a.items)==null?void 0:g.length)||0," items"]})]}),s.jsx(oe,{children:a.items&&a.items.length>0?s.jsx("div",{className:"space-y-4",children:a.items.map((j,y)=>{var E,b,S,R,N,T;const x=((E=j.productId)==null?void 0:E.name)||((b=j.productId)==null?void 0:b.title)||j.name||j.title||"Unknown Product",P=((S=j.productId)==null?void 0:S.image)||((N=(R=j.productId)==null?void 0:R.images)==null?void 0:N[0])||j.image||((T=j.images)==null?void 0:T[0]),D=j.quantity||1,O=j.price||0;return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg","data-testid":`order-item-${y}`,children:[P&&s.jsx("img",{src:P,alt:x,className:"w-16 h-16 object-cover rounded","data-testid":`img-product-${y}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium","data-testid":`text-product-name-${y}`,children:x}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",D]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(O*D).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",O.toFixed(2)," each"]})]})]},y)})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items found"})})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center",children:[s.jsx(Nc,{className:"h-5 w-5 mr-2"}),"Order Summary"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-3","data-testid":"order-summary",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",f.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee"}),s.jsxs("span",{children:["$",m.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",v.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-3 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-order-total",children:["$",_.toFixed(2)]})]})]})})]}),a.shippingAddress&&s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center",children:[s.jsx(Pw,{className:"h-5 w-5 mr-2"}),"Shipping Address"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"text-sm space-y-1","data-testid":"shipping-address",children:[a.shippingAddress.street&&s.jsx("p",{children:a.shippingAddress.street}),a.shippingAddress.city&&s.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.state&&`, ${a.shippingAddress.state}`,a.shippingAddress.zipCode&&` ${a.shippingAddress.zipCode}`]}),a.shippingAddress.country&&s.jsx("p",{children:a.shippingAddress.country})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center",children:[s.jsx(wr,{className:"h-5 w-5 mr-2"}),"Customer"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-3","data-testid":"customer-info",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}),((C=a.customer)==null?void 0:C.address)&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Shipping Address"}),s.jsxs("div",{className:"text-sm space-y-1",children:[a.customer.address.street&&s.jsx("p",{children:a.customer.address.street}),a.customer.address.city&&s.jsxs("p",{children:[a.customer.address.city,a.customer.address.state&&`, ${a.customer.address.state}`]}),(a.customer.address.zipcode||a.customer.address.zipCode)&&s.jsx("p",{children:a.customer.address.zipcode||a.customer.address.zipCode}),a.customer.address.country&&s.jsx("p",{children:a.customer.address.country}),a.customer.address.email&&s.jsx("p",{className:"pt-1 text-muted-foreground",children:a.customer.address.email}),a.customer.address.phone&&s.jsx("p",{className:"text-muted-foreground",children:a.customer.address.phone})]})]})]})})]}),a.seller&&s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center",children:[s.jsx(c9,{className:"h-5 w-5 mr-2"}),"Seller"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-2","data-testid":"seller-info",children:[s.jsx("p",{className:"font-medium",children:typeof a.seller=="object"?`${a.seller.firstName||""} ${a.seller.lastName||""}`.trim()||a.seller.userName||a.seller.email:a.seller}),typeof a.seller=="object"&&a.seller.email&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.seller.email})]})})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center",children:[s.jsx(_u,{className:"h-5 w-5 mr-2"}),"Order Information"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-2 text-sm","data-testid":"order-info",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:o(a.createdAt||a.orderDate)})]}),a.shippeddate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipped Date"}),s.jsx("p",{className:"font-medium",children:o(a.shippeddate)})]}),a.payment_status&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),s.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-status",children:a.payment_status})]}),a.orderType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),s.jsx("p",{className:"font-medium capitalize",children:a.orderType})]}),a.tracking_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"font-medium font-mono text-xs","data-testid":"text-tracking-number",children:a.tracking_number})]}),a.tracking_url&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking URL"}),s.jsx("a",{href:a.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline block break-all","data-testid":"link-tracking-url",children:"Track Package "})]}),a.label&&s.jsx("div",{className:"pt-2",children:s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>window.open(a.label,"_blank"),className:"w-full","data-testid":"button-print-label",children:[s.jsx(_u,{className:"h-4 w-4 mr-2"}),"Print Shipping Label"]})})]})})]})]})]})]})})}function UY(){const{toast:t}=En(),{settings:e}=ph(),[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState(!1),[h,f]=p.useState(1),{data:m,isLoading:v}=et({queryKey:["admin-transactions"],queryFn:async()=>{const N=await fetch("/api/admin/transactions",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch transactions");const T=await N.json();return T.success?T.data:T}}),{data:_,isLoading:g}=et({queryKey:["admin-refunds",h],queryFn:async()=>{const N=await fetch(`/api/admin/refunds?limit=10&page=${h}`,{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch refunds");const T=await N.json();return T.success?T.data:T}}),{data:C}=et({queryKey:["admin-settings"],queryFn:async()=>{const N=await fetch("/api/admin/settings",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch settings");const T=await N.json();return T.success?T.data:T}}),j=(m==null?void 0:m.transactions)||(m==null?void 0:m.data)||[],y=(C==null?void 0:C.support_email)||"support@icona.com",x=(C==null?void 0:C.stripe_fee)||"0",P=(C==null?void 0:C.extra_charges)||"0",D=Ot({mutationFn:async({id:N,type:T})=>gt("PUT",`/api/admin/refund/${N}`,{type:T}),onSuccess:()=>{yt.invalidateQueries({queryKey:["admin-transactions"]}),t({title:"Success",description:"Refund processed successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to process refund",variant:"destructive"})}}),O=j.filter(N=>{if(n){const T=n.toLowerCase(),A=String(N._id||N.id||"").toLowerCase(),L=typeof N.from=="object"&&(`${N.from.firstName||""} ${N.from.lastName||""}`.trim()||N.from.userName||N.from.email)||"",q=typeof N.to=="object"&&(`${N.to.firstName||""} ${N.to.lastName||""}`.trim()||N.to.userName||N.to.email)||"";if(!A.includes(T)&&!L.toLowerCase().includes(T)&&!q.toLowerCase().includes(T))return!1}return!0}),E=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",b=N=>{switch(N==null?void 0:N.toLowerCase()){case"completed":case"success":return"default";case"pending":return"secondary";case"failed":case"cancelled":return"destructive";default:return"secondary"}},S=()=>{r("")},R=n;return v?s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions"})]}),s.jsx(ae,{children:s.jsx(oe,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading transactions..."})]})})})]})}):s.jsxs(Ge,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions and refunds"})]}),s.jsxs(Rc,{defaultValue:"transactions",className:"space-y-4",children:[s.jsxs(Ko,{children:[s.jsx(kt,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),s.jsx(kt,{value:"refunds","data-testid":"tab-refunds",children:"Refunds"})]}),s.jsx(Et,{value:"transactions",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Nc,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(he,{children:"Transaction History"}),s.jsxs(Oe,{children:[O.length," of ",j.length," transactions"]})]})]}),s.jsxs(ee,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!i),"data-testid":"button-toggle-filters",children:[s.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Filters",R&&s.jsx(Be,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:"1"})]})]}),i&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Transaction ID or user...",value:n,onChange:N=>r(N.target.value),className:"pl-9","data-testid":"input-search-transactions"})]})]})}),R&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:S,"data-testid":"button-clear-filters",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(oe,{children:O.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Nc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:R?"No transactions match your filters":"No transactions found"}),R&&s.jsx(ee,{variant:"outline",onClick:S,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Transaction ID"}),s.jsx(ne,{children:"From"}),s.jsx(ne,{children:"To"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:O.map(N=>{const T=N._id||N.id,A=typeof N.from=="object"&&(`${N.from.firstName||""} ${N.from.lastName||""}`.trim()||N.from.userName||N.from.email)||"Unknown",L=typeof N.to=="object"&&(`${N.to.firstName||""} ${N.to.lastName||""}`.trim()||N.to.userName||N.to.email)||"Unknown",q=N.amount||0,V=N.type||"N/A",z=N.status||"pending";return s.jsxs(nt,{children:[s.jsx(re,{className:"font-mono text-xs","data-testid":`text-transaction-id-${T}`,children:String(T).slice(-8)}),s.jsx(re,{"data-testid":`text-from-${T}`,children:A}),s.jsx(re,{"data-testid":`text-to-${T}`,children:L}),s.jsx(re,{"data-testid":`text-type-${T}`,children:s.jsx("span",{className:"capitalize",children:V})}),s.jsxs(re,{"data-testid":`text-amount-${T}`,children:["$",q.toFixed(2)]}),s.jsx(re,{"data-testid":`text-date-${T}`,children:E(N.createdAt||N.date)}),s.jsx(re,{children:s.jsx(Be,{variant:b(z),"data-testid":`badge-status-${T}`,children:z})}),s.jsx(re,{className:"text-right",children:s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm","data-testid":`button-actions-${T}`,children:s.jsx(Bc,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[s.jsxs(fn,{onClick:()=>{N.receipt?window.open(N.receipt,"_blank"):(l(N),d(!0))},"data-testid":`menu-print-receipt-${T}`,children:[s.jsx(pm,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),s.jsx(Di,{}),s.jsxs(fn,{onClick:()=>{D.mutate({id:T,type:"transaction"})},disabled:D.isPending,"data-testid":`menu-refund-transaction-${T}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Refund Transaction"]})]})]})})]},T)})})]})})})]})}),s.jsx(Et,{value:"refunds",children:s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Fs,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(he,{children:"Refunds"}),s.jsx(Oe,{children:"View all processed refunds"})]})]})}),s.jsx(oe,{children:g?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading refunds..."})]}):!(_!=null&&_.data)||_.data.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No refunds found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Refund ID"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Reason"}),s.jsx(ne,{children:"Date"}),s.jsx(ne,{children:"Status"})]})}),s.jsx(an,{children:_.data.map(N=>{const T=N.id,A=(N.amount||0)/100;return s.jsxs(nt,{children:[s.jsx(re,{className:"font-mono text-xs","data-testid":`text-refund-id-${T}`,children:String(T).slice(-8)}),s.jsxs(re,{"data-testid":`text-amount-${T}`,children:["$",A.toFixed(2)]}),s.jsx(re,{"data-testid":`text-reason-${T}`,children:N.reason||"N/A"}),s.jsx(re,{"data-testid":`text-date-${T}`,children:E(new Date(N.created*1e3).toISOString())}),s.jsx(re,{children:s.jsx(Be,{variant:b(N.status),"data-testid":`badge-status-${T}`,children:N.status})})]},T)})})]})})})]})})]})]}),s.jsx(pi,{open:c,onOpenChange:d,children:s.jsxs(Ps,{className:"max-w-md",children:[s.jsx(As,{children:s.jsx(Is,{children:"Transaction Receipt"})}),o&&s.jsxs("div",{id:"receipt-content",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:e.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(o._id||o.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:E(o.createdAt||o.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:o.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(Be,{variant:b(o.status||"pending"),children:o.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof o.from=="object"&&(`${o.from.firstName||""} ${o.from.lastName||""}`.trim()||o.from.userName||o.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof o.to=="object"&&(`${o.to.firstName||""} ${o.to.lastName||""}`.trim()||o.to.userName||o.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(o.total)||0).toFixed(2)]})]}),(()=>{const N=parseFloat(o.stripe_fee)||0,T=parseFloat(o.extra_charges)||0,A=N+T;return A>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",x,"% + ",P,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",A.toFixed(2)]})]})})(),o.serviceFee&&parseFloat(o.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.serviceFee).toFixed(2)]})]}),o.shippingFee&&parseFloat(o.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(o.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",y]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(ee,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(ee,{onClick:()=>{const N=document.getElementById("receipt-content");if(N){const T=window.open("","_blank");T&&(T.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${N.innerHTML}
                        </body>
                      </html>
                    `),T.document.close(),T.focus(),setTimeout(()=>{T.print(),T.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(pm,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]})}function VY(){const[t,e]=p.useState(""),[n,r]=p.useState(1),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[h,f]=p.useState(""),m=10,_=(()=>{const V=new URLSearchParams;return i&&i!=="all"&&V.append("status",i),o&&V.append("from",o),c&&V.append("to",c),V.append("limit",m.toString()),h&&n>1&&V.append("starting_after",h),V.toString()})(),{data:g,isLoading:C}=et({queryKey:["/api/admin/stripe-payouts",i,o,c,h,n],queryFn:async()=>{const V=`/api/admin/stripe-payouts${_?"?"+_:""}`;return console.log("Fetching payouts from:",V),(await fetch(V,{credentials:"include"})).json()},staleTime:0,refetchOnMount:!0}),j=(g==null?void 0:g.data)||[],y=(g==null?void 0:g.has_more)||!1,x=j.filter(V=>{var z;if(t){const F=t.toLowerCase(),H=(((z=V.destination)==null?void 0:z.bank_name)||"").toLowerCase(),X=(V.id||"").toLowerCase();if(!H.includes(F)&&!X.includes(F))return!1}return!0}),P=x.reduce((V,z)=>V+(z.amount||0)/100,0),D=x.length,O=D>0?P/D:0;x.length;const E=x,b=(n-1)*m+1,S=(n-1)*m+x.length,R=y?`${S}+`:S,N=V=>{e(V),r(1),f("")},T=()=>{a(""),l(""),d(""),e(""),r(1),f("")},A=()=>{if(y&&j.length>0){const V=j[j.length-1];f(V.id),r(z=>z+1)}},L=()=>{r(1),f("")},q=i||o||c;return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Stripe Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"View Stripe payout transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Amount"}),s.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-amount",children:["$",P.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all payouts"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Payouts"}),s.jsx(Vv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-count",children:D}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payout transactions"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Average Payout"}),s.jsx(zP,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-avg-payout",children:["$",O.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs(ae,{className:"mb-6",children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(he,{className:"text-lg",children:"Filters"})]}),q&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:T,"data-testid":"button-reset-filters",children:[s.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Reset"]})]})}),s.jsx(oe,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(_n,{value:i,onValueChange:a,children:[s.jsx(pn,{"data-testid":"select-status",children:s.jsx(Sn,{placeholder:"All statuses"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All statuses"}),s.jsx(se,{value:"paid",children:"Paid"}),s.jsx(se,{value:"pending",children:"Pending"}),s.jsx(se,{value:"in_transit",children:"In Transit"}),s.jsx(se,{value:"canceled",children:"Canceled"}),s.jsx(se,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"From Date"}),s.jsx(Ne,{type:"date",value:o,onChange:V=>l(V.target.value),"data-testid":"input-date-from"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"To Date"}),s.jsx(Ne,{type:"date",value:c,onChange:V=>d(V.target.value),"data-testid":"input-date-to"})]})]})})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(he,{children:"Payout Transactions"}),s.jsx(Oe,{children:"Stripe payout history"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search by bank or ID...",value:t,onChange:V=>N(V.target.value),className:"pl-10","data-testid":"input-search-payouts"})]})]})}),s.jsxs(oe,{children:[C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payouts..."})]}):x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:t?"No payouts found matching your search":"No payouts found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[180px]",children:"Bank"}),s.jsx(ne,{className:"text-right",children:"Amount"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Currency"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Created"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Arrival Date"}),s.jsx(ne,{children:"Type"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Status"})]})}),s.jsx(an,{children:E.map(V=>{var ge,fe;const z=V.id,F=(V.amount||0)/100,H=V.created?new Date(V.created*1e3):null,X=V.arrival_date?new Date(V.arrival_date*1e3):null,J=((ge=V.destination)==null?void 0:ge.bank_name)||"Bank Account",W=((fe=V.destination)==null?void 0:fe.last4)||"";return s.jsxs(nt,{"data-testid":`row-payout-${z}`,children:[s.jsx(re,{"data-testid":`text-bank-${z}`,children:s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("div",{className:"font-medium truncate",children:J}),W&&s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["****",W]})]})}),s.jsxs(re,{className:"text-right font-semibold","data-testid":`text-amount-${z}`,children:["$",F.toFixed(2)]}),s.jsx(re,{className:"hidden md:table-cell uppercase",children:V.currency||"USD"}),s.jsx(re,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zl,{className:"h-4 w-4 text-muted-foreground"}),H?H.toLocaleDateString():"N/A"]})}),s.jsx(re,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zl,{className:"h-4 w-4 text-muted-foreground"}),X?X.toLocaleDateString():"N/A"]})}),s.jsx(re,{children:s.jsx(Be,{variant:V.automatic?"default":"outline",children:V.automatic?"Automatic":"Manual"})}),s.jsx(re,{className:"hidden sm:table-cell",children:s.jsx(Be,{variant:"secondary",children:V.status||"Completed"})})]},z)})})]})}),x.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",b," to ",S," of ",R," payouts"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:L,disabled:n===1,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4"}),"Previous"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",n,y?"+":""]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:A,disabled:!y,"data-testid":"button-next-page",children:["Next",s.jsx(Hs,{className:"h-4 w-4"})]})]})]})]})]})]})})}function zY(){const[,t]=Zt(),[e,n]=p.useState(1),[r,i]=p.useState(10),[a,o]=p.useState(""),[l,c]=p.useState(""),{data:d,isLoading:h}=et({queryKey:["/api/admin/shows",e,r,a,l]}),f=(d==null?void 0:d.data)||[],m=d?{currentPage:e,totalPages:d.pages||1,totalItems:d.totalDoc||0,hasNextPage:e<(d.pages||1),hasPrevPage:e>1}:null,v=f.filter(g=>g.status==="live").length,_=f.filter(g=>g.status==="scheduled").length;return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Live Shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all live shopping shows and rooms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Shows"}),s.jsx(_c,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-shows",children:(m==null?void 0:m.totalItems)||f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Live Now"}),s.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-live-shows",children:v}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Scheduled"}),s.jsx(zl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-scheduled-shows",children:_}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming shows"})]})]})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx(he,{children:"Live Shows & Rooms"}),s.jsx(Oe,{children:"View and manage all live shows"})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search by title...",value:a,onChange:g=>{o(g.target.value),n(1)},className:"pl-10","data-testid":"input-search-title"})]}),s.jsxs(_n,{value:l,onValueChange:g=>{c(g==="all"?"":g),n(1)},children:[s.jsx(pn,{className:"w-full sm:w-[180px]","data-testid":"select-type",children:s.jsx(Sn,{placeholder:"All Types"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All Types"}),s.jsx(se,{value:"live",children:"Live"}),s.jsx(se,{value:"scheduled",children:"Scheduled"}),s.jsx(se,{value:"ended",children:"Ended"})]})]})]})]})}),s.jsx(oe,{children:h?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading shows..."})]}):f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_c,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:a||l?"No shows found matching your filters":"No shows found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{className:"min-w-[250px]",children:"Show Details"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Host"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Viewers"}),s.jsx(ne,{className:"hidden sm:table-cell",children:"Created"}),s.jsx(ne,{children:"Status"})]})}),s.jsx(an,{children:f.map(g=>{var b,S,R,N,T,A;const C=g._id||g.id,j=g.createdAt?new Date(g.createdAt):null,y=(b=g.owner)!=null&&b.firstName?String(g.owner.firstName):"",x=(S=g.owner)!=null&&S.lastName?String(g.owner.lastName):"",P=(R=g.owner)!=null&&R.userName?String(g.owner.userName):"",D=(N=g.owner)!=null&&N.email?String(g.owner.email):"",O=(T=g.owner)!=null&&T.profilePhoto?String(g.owner.profilePhoto):"",E=!!g.owner;return s.jsxs(nt,{"data-testid":`row-show-${C}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>t(`/admin/shows/${C}`),children:[s.jsx(re,{className:"font-medium",children:s.jsxs("div",{className:"flex items-start gap-3",children:[g.thumbnail&&s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-16 h-16 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate","data-testid":`text-title-${C}`,children:String(g.title||g.name||"Untitled Show")}),((A=g.category)==null?void 0:A.name)&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx(Be,{variant:"secondary",className:"text-xs",children:String(g.category.name)})}),g.description&&typeof g.description=="string"&&s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:g.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 md:hidden",children:[s.jsx(wr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:E&&(y||P)||"Unknown Host"})]})]})]})}),s.jsx(re,{className:"hidden md:table-cell",children:E?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(as,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(os,{src:O}),s.jsxs(ls,{children:[(y||"U")[0],(x||"H")[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium truncate",children:[y," ",x]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:D})]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No host"})}),s.jsx(re,{className:"hidden lg:table-cell","data-testid":`text-viewers-${C}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"}),Array.isArray(g.viewers)?g.viewers.length:0]})}),s.jsx(re,{className:"hidden sm:table-cell",children:j?j.toLocaleDateString():"N/A"}),s.jsx(re,{children:(()=>{let L="unknown";if(g.ended===!0)L="ended";else if(g.started===!0&&g.ended===!1)L="live";else if(g.started===!1&&g.ended===!1){const z=g.startDate||g.date||g.createdAt;z&&new Date(z)>new Date&&(L="active")}const q=L==="live",V=L==="active"?"scheduled":L;return s.jsxs(Be,{variant:q?"default":L==="active"?"secondary":"outline",className:q?"bg-green-600":"",children:[q&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),V.charAt(0).toUpperCase()+V.slice(1)]})})()})]},C)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total shows)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Show"}),s.jsxs(_n,{value:String(r),onValueChange:g=>{i(Number(g)),n(1)},children:[s.jsx(pn,{className:"w-[70px] h-8","data-testid":"select-limit",children:s.jsx(Sn,{})}),s.jsxs(gn,{children:[s.jsx(se,{value:"10",children:"10"}),s.jsx(se,{value:"25",children:"25"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Hs,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function BY(){var V,z,F,H,X,J;const[,t]=Zt(),[,e]=Jo("/admin/shows/:showId"),n=e==null?void 0:e.showId,[r,i]=p.useState("overview"),{data:a,isLoading:o}=et({queryKey:[`admin-show-${n}`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch show");const ge=await W.json();return ge.success?ge.data:ge},enabled:!!n}),{data:l,isLoading:c}=et({queryKey:[`admin-show-${n}-auctions`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/auctions?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch auctions");return await W.json()},enabled:!!n&&r==="auctions"}),{data:d,isLoading:h}=et({queryKey:[`admin-show-${n}-giveaways`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/giveaways?page=1&limit=20`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch giveaways");return await W.json()},enabled:!!n&&r==="giveaways"}),{data:f,isLoading:m}=et({queryKey:[`admin-show-${n}-buy-now`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/buy-now?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch buy now items");return await W.json()},enabled:!!n&&r==="buy-now"}),{data:v,isLoading:_}=et({queryKey:[`admin-show-${n}-sold`],queryFn:async()=>{const W=await fetch(`/api/admin/shows/${n}/sold?page=1&limit=15`,{credentials:"include"});if(!W.ok)throw new Error("Failed to fetch sold items");return await W.json()},enabled:!!n&&r==="sold"}),g=(a==null?void 0:a.data)||a,C=W=>W?new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(o)return s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading show details..."})]})})});if(!g)return s.jsx(Ge,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_c,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Show not found"}),s.jsx(ee,{onClick:()=>t("/admin/shows"),className:"mt-4","data-testid":"button-back-to-shows",children:"Back to Shows"})]})})});const j=(V=g.owner)!=null&&V.firstName?String(g.owner.firstName):"",y=(z=g.owner)!=null&&z.lastName?String(g.owner.lastName):"",x=(F=g.owner)!=null&&F.userName?String(g.owner.userName):"",P=(H=g.owner)!=null&&H.email?String(g.owner.email):"",D=(X=g.owner)!=null&&X.profilePhoto?String(g.owner.profilePhoto):"",O=!!g.owner;let E="unknown";if(g.ended===!0)E="ended";else if(g.started===!0&&g.ended===!1)E="live";else if(g.started===!1&&g.ended===!1){const W=g.startDate||g.date||g.createdAt;W&&new Date(W)>new Date&&(E="active")}const b=E==="live",S=g.activeauction,R=g.pinnedobject,N=(S==null?void 0:S.bids)||[],T=(l==null?void 0:l.data)||[],A=(d==null?void 0:d.data)||[],L=(f==null?void 0:f.data)||[],q=(v==null?void 0:v.data)||[];return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>t("/admin/shows"),className:"mb-4","data-testid":"button-back-to-shows",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Shows"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground","data-testid":"text-show-title",children:String(g.title||g.name||"Untitled Show")}),s.jsx("p",{className:"text-muted-foreground",children:"Show Details"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Be,{variant:b?"default":E==="active"?"secondary":"outline",className:b?"bg-green-600":"",children:[b&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),E==="active"?"Scheduled":E.charAt(0).toUpperCase()+E.slice(1)]})})]})]}),s.jsxs(Rc,{value:r,onValueChange:i,className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ko,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-5",children:[s.jsx(kt,{value:"overview","data-testid":"tab-overview",className:"flex-shrink-0 sm:flex-shrink",children:"Overview"}),s.jsxs(kt,{value:"auctions","data-testid":"tab-auctions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(rf,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Auctions"]}),s.jsxs(kt,{value:"giveaways","data-testid":"tab-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(sf,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Giveaways"]}),s.jsxs(kt,{value:"buy-now","data-testid":"tab-buy-now",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Sa,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Buy Now"]}),s.jsxs(kt,{value:"sold","data-testid":"tab-sold",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Sold"]})]})}),s.jsx(Et,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(_c,{className:"h-5 w-5"}),"Show Information"]})}),s.jsxs(oe,{className:"space-y-4",children:[g.thumbnail&&s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-full h-64 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("p",{className:"text-foreground","data-testid":"text-show-description",children:g.description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Category"}),s.jsx("p",{className:"text-foreground",children:(J=g.category)!=null&&J.name?String(g.category.name):"N/A"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Viewers"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-foreground","data-testid":"text-viewer-count",children:Array.isArray(g.viewers)?g.viewers.length:0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("p",{className:"text-foreground",children:C(g.createdAt)})]}),g.date&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Scheduled Date"}),s.jsx("p",{className:"text-foreground",children:C(g.date)})]})]})]})]}),S&&s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(rf,{className:"h-5 w-5"}),"Active Auction"]}),s.jsx(Oe,{children:"Current auction in progress"})]}),s.jsxs(oe,{className:"space-y-4",children:[S.product&&s.jsxs("div",{className:"flex items-start gap-4",children:[S.product.images&&S.product.images[0]&&s.jsx("img",{src:S.product.images[0],alt:S.product.name,className:"w-20 h-20 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium","data-testid":"text-auction-product-name",children:S.product.name}),S.product.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.product.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Starting Price"}),s.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":"text-auction-starting-price",children:["$",S.startingprice||0]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Current Bid"}),s.jsxs("p",{className:"text-lg font-bold text-green-600","data-testid":"text-auction-current-bid",children:["$",S.currentbid||S.startingprice||0]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(Be,{variant:S.won?"default":"secondary",children:S.won?"Won":"In Progress"})]}),S.winner&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Winner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(as,{className:"h-8 w-8",children:[s.jsx(os,{src:S.winner.profilePhoto}),s.jsxs(ls,{children:[(S.winner.firstName||"W")[0],(S.winner.lastName||"N")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[S.winner.firstName," ",S.winner.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.winner.email})]})]})]})]})]}),N.length>0&&s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"h-5 w-5"}),"Bids (",N.length,")"]}),s.jsx(Oe,{children:"All bids for the active auction"})]}),s.jsx(oe,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Bidder"}),s.jsx(ne,{children:"Amount"}),s.jsx(ne,{children:"Time"})]})}),s.jsx(an,{children:N.map((W,ge)=>{var fe,ut,Le,Ce,ze,We;return s.jsxs(nt,{"data-testid":`row-bid-${ge}`,children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(as,{className:"h-8 w-8",children:[s.jsx(os,{src:(fe=W.user)==null?void 0:fe.profilePhoto}),s.jsxs(ls,{children:[(((ut=W.user)==null?void 0:ut.firstName)||"B")[0],(((Le=W.user)==null?void 0:Le.lastName)||"D")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[(Ce=W.user)==null?void 0:Ce.firstName," ",(ze=W.user)==null?void 0:ze.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(We=W.user)==null?void 0:We.email})]})]})}),s.jsx(re,{children:s.jsxs("span",{className:"font-bold text-green-600","data-testid":`text-bid-amount-${ge}`,children:["$",W.amount||0]})}),s.jsx(re,{className:"text-muted-foreground",children:C(W.createdAt)})]},W._id||ge)})})]})})})]}),R&&s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(a9,{className:"h-5 w-5"}),"Pinned Object"]}),s.jsx(Oe,{children:"Currently pinned item in the show"})]}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[R.images&&R.images[0]&&s.jsx("img",{src:R.images[0],alt:R.name,className:"w-24 h-24 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-lg","data-testid":"text-pinned-name",children:R.name}),R.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price: "}),s.jsxs("span",{className:"font-bold text-foreground","data-testid":"text-pinned-price",children:["$",R.price||0]})]}),R.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Qty: "}),s.jsx("span",{className:"font-medium text-foreground",children:R.quantity})]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5"}),"Host Information"]})}),s.jsx(oe,{children:O?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(as,{className:"h-12 w-12",children:[s.jsx(os,{src:D}),s.jsxs(ls,{children:[(j||"U")[0],(y||"H")[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium","data-testid":"text-host-name",children:[j," ",y]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",x]})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),s.jsx("p",{className:"text-sm","data-testid":"text-host-email",children:P})]}),g.owner.country&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Country"}),s.jsx("p",{className:"text-sm",children:g.owner.country})]}),g.owner.accountType&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Account Type"}),s.jsx(Be,{variant:"secondary",children:g.owner.accountType})]})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No host information available"})})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsx(he,{children:"Quick Stats"})}),s.jsxs(oe,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show ID"}),s.jsx("span",{className:"text-xs font-mono",children:g._id||g.id||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Viewers"}),s.jsx("span",{className:"font-bold",children:Array.isArray(g.viewers)?g.viewers.length:0})]}),S&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Bids"}),s.jsx("span",{className:"font-bold",children:N.length})]})]})]})]})]})}),s.jsx(Et,{value:"auctions",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(rf,{className:"h-5 w-5"}),"Auction Items (",T.length,")"]}),s.jsx(Oe,{children:"All auction products in this show"})]}),s.jsx(oe,{children:c?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading auctions..."})]}):T.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(rf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No auction items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:T.map(W=>s.jsxs(ae,{className:"overflow-hidden","data-testid":`card-auction-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Yt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(oe,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-auction-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-auction-price-${W._id}`,children:["$",W.price||0]})]}),W.status&&s.jsx(Be,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(Et,{value:"giveaways",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(sf,{className:"h-5 w-5"}),"Giveaway Items (",A.length,")"]}),s.jsx(Oe,{children:"All giveaway items in this show"})]}),s.jsx(oe,{children:h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading giveaways..."})]}):A.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(sf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No giveaway items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:A.map(W=>s.jsxs(ae,{className:"overflow-hidden","data-testid":`card-giveaway-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(sf,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(oe,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-giveaway-name-${W._id}`,children:W.name}),W.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:W.description}),W.quantity&&s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Quantity"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]})]})]},W._id))})})]})}),s.jsx(Et,{value:"buy-now",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"h-5 w-5"}),"Buy Now Items (",L.length,")"]}),s.jsx(Oe,{children:"All buy now products in this show"})]}),s.jsx(oe,{children:m?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading buy now items..."})]}):L.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Sa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No buy now items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:L.map(W=>s.jsxs(ae,{className:"overflow-hidden","data-testid":`card-buy-now-${W._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:W.images&&W.images[0]?s.jsx("img",{src:W.images[0],alt:W.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Yt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(oe,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-buy-now-name-${W._id}`,children:W.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-buy-now-price-${W._id}`,children:["$",W.price||0]})]}),W.quantity!==void 0&&s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Stock"}),s.jsx("span",{className:"font-medium text-sm",children:W.quantity})]}),W.status&&s.jsx(Be,{variant:"secondary",className:"mt-1.5 text-xs",children:W.status})]})]},W._id))})})]})}),s.jsx(Et,{value:"sold",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"h-5 w-5"}),"Sold Orders (",q.length,")"]}),s.jsx(Oe,{children:"All orders from this show"})]}),s.jsx(oe,{children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading sold orders..."})]}):q.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sold orders found"})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"Customer"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Total"}),s.jsx(ne,{children:"Date"})]})}),s.jsx(an,{children:q.map(W=>{var ge,fe,ut,Le;return s.jsxs(nt,{"data-testid":`row-sold-${W._id}`,children:[s.jsxs(re,{className:"font-mono text-sm",children:[(ge=W._id)==null?void 0:ge.substring(0,8),"..."]}),s.jsx(re,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[(fe=W.customer)==null?void 0:fe.firstName," ",(ut=W.customer)==null?void 0:ut.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(Le=W.customer)==null?void 0:Le.email})]})}),s.jsx(re,{children:s.jsx(Be,{variant:"secondary",children:W.status||"pending"})}),s.jsxs(re,{className:"font-bold",children:["$",W.invoice||W.total||0]}),s.jsx(re,{className:"text-sm text-muted-foreground",children:C(W.createdAt)})]},W._id)})})]})})})]})})]})]})})}function WO(){const{user:t}=Ka(),{data:e}=et({queryKey:["/api/admin/demo-mode"],enabled:!!(t!=null&&t.admin),staleTime:3e4,refetchOnWindowFocus:!0}),n=(e==null?void 0:e.demoMode)||!1,r=(t==null?void 0:t.admin)||!1,i=(t==null?void 0:t.role)==="superAdmin",a=(t==null?void 0:t.admin)&&!i;return{canCreate:!n&&r,canEdit:!n&&r,canDelete:!n&&r,canManageSettings:!n&&r,isSuperAdmin:i,isReadOnlyAdmin:a,isDemoMode:n}}function WY(){const{toast:t}=En(),{canManageSettings:e,isDemoMode:n}=WO(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!1),{data:d,isLoading:h}=et({queryKey:["/api/admin/settings"]}),f=(d==null?void 0:d.data)||d,m=x=>!x||x.length<8?"":`${x.substring(0,4)}${"".repeat(12)}${x.substring(x.length-4)}`,[v,_]=p.useState({app_name:"",seo_title:"",commission:"",stripe_fee:"",extra_charges:"",currency:"$",support_email:"",forceUpdate:!1,demoMode:!1,seller_auto_approve:!0,appVersion:"",androidVersion:"",iosVersion:"",privacy_url:"",terms_url:"",FIREBASE_API_KEY:"",shippo_api_key:"",stripeSecretKey:"",stripepublickey:"",stripe_webhook_key:"",stripe_connect_account:"",livekit_url:"",livekit_api_key:"",livekit_api_secret:"",email_service_provider:"sendgrid",email_api_key:"",email_from_address:"",email_from_name:"",email_reply_to:"",email_mailgun_domain:"",email_smtp_host:"",email_smtp_port:"",email_smtp_user:"",email_smtp_pass:"",primary_color:"",secondary_color:"",app_logo:""});p.useEffect(()=>{_({app_name:(f==null?void 0:f.app_name)||"",seo_title:(f==null?void 0:f.seo_title)||"",commission:(f==null?void 0:f.commission)||"",stripe_fee:(f==null?void 0:f.stripe_fee)||"",extra_charges:(f==null?void 0:f.extra_charges)||"",currency:(f==null?void 0:f.currency)||"$",support_email:(f==null?void 0:f.support_email)||"",forceUpdate:(f==null?void 0:f.forceUpdate)||!1,demoMode:(f==null?void 0:f.demoMode)||!1,seller_auto_approve:(f==null?void 0:f.seller_auto_approve)!==void 0?f.seller_auto_approve:!0,appVersion:(f==null?void 0:f.appVersion)||"",androidVersion:(f==null?void 0:f.androidVersion)||"",iosVersion:(f==null?void 0:f.iosVersion)||"",privacy_url:(f==null?void 0:f.privacy_url)||"",terms_url:(f==null?void 0:f.terms_url)||"",FIREBASE_API_KEY:(f==null?void 0:f.FIREBASE_API_KEY)||"",shippo_api_key:(f==null?void 0:f.shippo_api_key)||"",stripeSecretKey:(f==null?void 0:f.stripeSecretKey)||"",stripepublickey:(f==null?void 0:f.stripepublickey)||"",stripe_webhook_key:(f==null?void 0:f.stripe_webhook_key)||"",stripe_connect_account:(f==null?void 0:f.stripe_connect_account)||"",livekit_url:(f==null?void 0:f.livekit_url)||"",livekit_api_key:(f==null?void 0:f.livekit_api_key)||"",livekit_api_secret:(f==null?void 0:f.livekit_api_secret)||"",email_service_provider:(f==null?void 0:f.email_service_provider)||"sendgrid",email_api_key:(f==null?void 0:f.email_api_key)||"",email_from_address:(f==null?void 0:f.email_from_address)||"",email_from_name:(f==null?void 0:f.email_from_name)||"",email_reply_to:(f==null?void 0:f.email_reply_to)||"",email_mailgun_domain:(f==null?void 0:f.email_mailgun_domain)||"",email_smtp_host:(f==null?void 0:f.email_smtp_host)||"",email_smtp_port:(f==null?void 0:f.email_smtp_port)||"",email_smtp_user:(f==null?void 0:f.email_smtp_user)||"",email_smtp_pass:(f==null?void 0:f.email_smtp_pass)||"",primary_color:(f==null?void 0:f.primary_color)||"FFFACC15",secondary_color:(f==null?void 0:f.secondary_color)||"FF0D9488",app_logo:(f==null?void 0:f.app_logo)||""})},[f]);const g=Ot({mutationFn:async x=>{const P=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!P.ok){const D=await P.json().catch(()=>({}));throw console.error("Settings update failed:",D),new Error((D==null?void 0:D.error)||"Failed to update settings")}return P.json()},onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/settings"]}),t({title:"Settings updated",description:"Platform settings have been saved successfully."}),i(!1)},onError:()=>{t({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"}),i(!1)}}),C=()=>{if(!e){t({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}i(!0),g.mutate(v)},j=(x,P)=>{_(D=>({...D,[x]:P}))},y=async x=>{c(!0);try{const P=new FormData;P.append("logo",x);const O=await(await fetch("/api/admin/upload-logo",{method:"POST",body:P})).json();if(O.success){_(b=>({...b,app_logo:O.data.logo_url})),o(null);const E=document.getElementById("app_logo");E&&(E.value=""),t({title:"Logo uploaded",description:"App logo has been uploaded successfully."}),yt.invalidateQueries({queryKey:["/api/admin/settings"]})}else throw new Error(O.error||"Upload failed")}catch(P){t({title:"Upload failed",description:P.message||"Failed to upload logo. Please try again.",variant:"destructive"})}finally{c(!1)}};return h?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Platform Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings and preferences"})]}),s.jsx(ee,{onClick:C,disabled:r||!e,"data-testid":"button-save-settings",children:r?"Saving...":n?"Demo Mode - Read Only":"Save Changes"})]}),n&&s.jsxs(tr,{className:"mb-6",children:[s.jsx(Wv,{className:"h-4 w-4"}),s.jsx(nr,{children:"Demo mode is active. All settings are read-only and cannot be modified."})]}),s.jsxs(Rc,{defaultValue:"general",className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ko,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-6",children:[s.jsxs(kt,{value:"general","data-testid":"tab-general",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Aw,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"General"]}),s.jsxs(kt,{value:"payment","data-testid":"tab-payment",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Fs,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Payment"]}),s.jsxs(kt,{value:"api-keys","data-testid":"tab-api-keys",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(t9,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"API Keys"]}),s.jsxs(kt,{value:"integrations","data-testid":"tab-integrations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(_c,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Integrations"]}),s.jsxs(kt,{value:"app-versions","data-testid":"tab-app-versions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(VP,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"App Versions"]}),s.jsxs(kt,{value:"translations","data-testid":"tab-translations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(n9,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Translations"]})]})}),s.jsxs(Et,{value:"general",className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"General Settings"}),s.jsx(Oe,{children:"Basic platform configuration"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"app_name",children:"App Name"}),s.jsx(Ne,{id:"app_name",value:v.app_name,onChange:x=>j("app_name",x.target.value),placeholder:"Your App Name","data-testid":"input-app-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"seo_title",children:"SEO Title"}),s.jsx(Ne,{id:"seo_title",value:v.seo_title,onChange:x=>j("seo_title",x.target.value),placeholder:"Browser title (defaults to App Name if empty)","data-testid":"input-seo-title"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will appear in the browser tab. If empty, the app name will be used."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"support_email",children:"Support Email"}),s.jsx(Ne,{id:"support_email",type:"email",value:v.support_email,onChange:x=>j("support_email",x.target.value),placeholder:"support@example.com","data-testid":"input-support-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"currency",children:"Currency Symbol"}),s.jsx(Ne,{id:"currency",value:v.currency,onChange:x=>j("currency",x.target.value),placeholder:"$","data-testid":"input-currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"commission",children:"Platform Commission (%)"}),s.jsx(Ne,{id:"commission",type:"number",value:v.commission,onChange:x=>j("commission",x.target.value),placeholder:"5","data-testid":"input-commission"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Commission percentage charged on transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"stripe_fee",children:"Stripe Fee (%)"}),s.jsx(Ne,{id:"stripe_fee",type:"number",step:"0.01",value:v.stripe_fee,onChange:x=>j("stripe_fee",x.target.value),placeholder:"2.9","data-testid":"input-stripe-fee"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe processing fee percentage"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"extra_charges",children:"Extra Charges (Fixed)"}),s.jsx(Ne,{id:"extra_charges",type:"number",step:"0.01",value:v.extra_charges,onChange:x=>j("extra_charges",x.target.value),placeholder:"0.30","data-testid":"input-extra-charges"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed additional charges per transaction"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"app_logo",children:"App Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[v.app_logo&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:v.app_logo.startsWith("http")?v.app_logo:`https://api.iconaapp.com/${v.app_logo.replace(/^\//,"")}`,alt:"App Logo",className:"h-20 w-20 object-contain rounded border border-border bg-muted p-2",onError:x=>{x.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%23666">Logo</text></svg>'}})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{id:"app_logo",type:"file",accept:"image/*",onChange:x=>{var D;const P=(D=x.target.files)==null?void 0:D[0];P&&o(P)},"data-testid":"input-app-logo",className:"cursor-pointer flex-1"}),s.jsx(ee,{type:"button",onClick:()=>{a?y(a):t({title:"No file selected",description:"Please select a logo file first.",variant:"destructive"})},disabled:!a||l,"data-testid":"button-upload-logo",children:l?"Uploading...":"Upload"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a logo file and click Upload (PNG, JPG, or SVG recommended)"})]})]})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Legal Links"}),s.jsx(Oe,{children:"Privacy policy and terms of service URLs"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"privacy_url",children:"Privacy Policy URL"}),s.jsx(Ne,{id:"privacy_url",type:"url",value:v.privacy_url,onChange:x=>j("privacy_url",x.target.value),placeholder:"https://example.com/privacy","data-testid":"input-privacy-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"terms_url",children:"Terms of Service URL"}),s.jsx(Ne,{id:"terms_url",type:"url",value:v.terms_url,onChange:x=>j("terms_url",x.target.value),placeholder:"https://example.com/terms","data-testid":"input-terms-url"})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"App Theme Colors"}),s.jsx(Oe,{children:"Configure primary and secondary colors for your mobile app"})]}),s.jsx(oe,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"primary_color",children:"Primary Color (Main Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:v.primary_color?`#${v.primary_color.slice(-6)}`:"#FACC15"}}),s.jsx(Ne,{id:"primary_color",value:v.primary_color,onChange:x=>j("primary_color",x.target.value.toUpperCase()),placeholder:"FFFACC15","data-testid":"input-primary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FFFACC15 for yellow)."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"secondary_color",children:"Secondary Color (Sub Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:v.secondary_color?`#${v.secondary_color.slice(-6)}`:"#0D9488"}}),s.jsx(Ne,{id:"secondary_color",value:v.secondary_color,onChange:x=>j("secondary_color",x.target.value.toUpperCase()),placeholder:"FF0D9488","data-testid":"input-secondary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FF0D9488 for teal)."})]})]})})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Seller Approval Workflow"}),s.jsx(Oe,{children:"Control how users become sellers on your platform"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(ve,{htmlFor:"seller-auto-approve",children:"Automatic Seller Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, users can become sellers automatically without admin approval. When disabled, admin must manually approve all seller applications."})]}),s.jsx(ec,{id:"seller-auto-approve",checked:v.seller_auto_approve,onCheckedChange:x=>j("seller_auto_approve",x),"data-testid":"switch-seller-auto-approve"})]}),s.jsxs(tr,{children:[s.jsx(Qd,{className:"h-4 w-4"}),s.jsx(nr,{children:v.seller_auto_approve?s.jsxs(s.Fragment,{children:["Automatic approval is ",s.jsx("strong",{children:"enabled"}),". Users will become sellers immediately after applying."]}):s.jsxs(s.Fragment,{children:["Manual approval is ",s.jsx("strong",{children:"required"}),". Admins must review and approve seller applications in the Users section."]})})]})]})]}),!v.demoMode&&s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Demo Mode"}),s.jsx(Oe,{children:"Control whether CRUD operations are allowed on the platform"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(ve,{htmlFor:"demo-mode",children:"Enable Demo Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, all create, update, and delete operations will be disabled for everyone (including super admins). Perfect for protecting demo environments from modifications."})]}),s.jsx(ec,{id:"demo-mode",checked:v.demoMode,onCheckedChange:x=>j("demoMode",x),"data-testid":"switch-demo-mode"})]}),v.demoMode&&s.jsxs(tr,{children:[s.jsx(Wv,{className:"h-4 w-4"}),s.jsxs(nr,{children:["Demo mode is currently ",s.jsx("strong",{children:"enabled"}),". All CRUD operations are disabled across the platform."]})]})]})]})]}),s.jsx(Et,{value:"payment",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Stripe Integration"}),s.jsx(Oe,{children:"Stripe payment gateway configuration"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"stripepublickey",children:"Stripe Publishable Key"}),s.jsx(Ne,{id:"stripepublickey",value:v.demoMode?m(v.stripepublickey):v.stripepublickey,onChange:x=>j("stripepublickey",x.target.value),placeholder:"pk_test_...","data-testid":"input-stripe-public-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"stripeSecretKey",children:"Stripe Secret Key"}),s.jsx(Ne,{id:"stripeSecretKey",type:v.demoMode?"text":"password",value:v.demoMode?m(v.stripeSecretKey):v.stripeSecretKey,onChange:x=>j("stripeSecretKey",x.target.value),placeholder:"sk_test_...","data-testid":"input-stripe-secret-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this key secret and secure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"stripe_webhook_key",children:"Stripe Webhook Secret"}),s.jsx(Ne,{id:"stripe_webhook_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.stripe_webhook_key):v.stripe_webhook_key,onChange:x=>j("stripe_webhook_key",x.target.value),placeholder:"whsec_...","data-testid":"input-stripe-webhook-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for verifying webhook events from Stripe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"stripe_connect_account",children:"Stripe Connect Account (Shipping Fees)"}),s.jsx(Ne,{id:"stripe_connect_account",value:v.stripe_connect_account,onChange:x=>j("stripe_connect_account",x.target.value),placeholder:"acct_...","data-testid":"input-stripe-connect-account",readOnly:v.demoMode,disabled:v.demoMode}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe Connect account ID to receive shipping fees"})]})]})]})}),s.jsxs(Et,{value:"api-keys",className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"External Service API Keys"}),s.jsx(Oe,{children:"API keys for third-party services"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"FIREBASE_API_KEY",children:"Firebase API Key"}),s.jsx(Ne,{id:"FIREBASE_API_KEY",type:v.demoMode?"text":"password",value:v.demoMode?m(v.FIREBASE_API_KEY):v.FIREBASE_API_KEY,onChange:x=>j("FIREBASE_API_KEY",x.target.value),placeholder:"AIza...","data-testid":"input-firebase-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"shippo_api_key",children:"Shippo API Key"}),s.jsx(Ne,{id:"shippo_api_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.shippo_api_key):v.shippo_api_key,onChange:x=>j("shippo_api_key",x.target.value),placeholder:"shippo_...","data-testid":"input-shippo-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for shipping label generation"})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Email Service Configuration"}),s.jsx(Oe,{children:"Configure email service for sending emails to users"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_service_provider",children:"Email Service Provider"}),s.jsxs(_n,{value:v.email_service_provider,onValueChange:x=>j("email_service_provider",x),children:[s.jsx(pn,{id:"email_service_provider","data-testid":"select-email-provider",children:s.jsx(Sn,{placeholder:"Select provider"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"sendgrid",children:"SendGrid"}),s.jsx(se,{value:"mailgun",children:"Mailgun"}),s.jsx(se,{value:"resend",children:"Resend"}),s.jsx(se,{value:"smtp",children:"SMTP"})]})]})]}),v.email_service_provider!=="smtp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_api_key",children:"Email API Key"}),s.jsx(Ne,{id:"email_api_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.email_api_key):v.email_api_key,onChange:x=>j("email_api_key",x.target.value),placeholder:"SG.xxx... or your provider's API key","data-testid":"input-email-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for your email service provider"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_from_address",children:"From Email Address"}),s.jsx(Ne,{id:"email_from_address",type:"email",value:v.email_from_address,onChange:x=>j("email_from_address",x.target.value),placeholder:"noreply@yourdomain.com","data-testid":"input-email-from-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_from_name",children:"From Name"}),s.jsx(Ne,{id:"email_from_name",value:v.email_from_name,onChange:x=>j("email_from_name",x.target.value),placeholder:"Your App Name","data-testid":"input-email-from-name"})]})]}),v.email_service_provider==="mailgun"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_mailgun_domain",children:"Mailgun Domain"}),s.jsx(Ne,{id:"email_mailgun_domain",value:v.email_mailgun_domain,onChange:x=>j("email_mailgun_domain",x.target.value),placeholder:"mg.yourdomain.com","data-testid":"input-mailgun-domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Mailgun sending domain"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_reply_to",children:"Reply-To Email (Optional)"}),s.jsx(Ne,{id:"email_reply_to",type:"email",value:v.email_reply_to,onChange:x=>j("email_reply_to",x.target.value),placeholder:"support@gmail.com","data-testid":"input-email-reply-to"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When users reply to emails, their response will go to this address (can be different from From Email)"})]})]}),v.email_service_provider==="smtp"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs(tr,{children:[s.jsx(Qd,{className:"h-4 w-4"}),s.jsxs(nr,{children:[s.jsx("strong",{children:"Gmail Users:"})," Use an App Password instead of your regular password.",s.jsx("br",{}),"Generate one at: ",s.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"myaccount.google.com/apppasswords"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_smtp_host",children:"SMTP Host"}),s.jsx(Ne,{id:"email_smtp_host",value:v.email_smtp_host,onChange:x=>j("email_smtp_host",x.target.value),placeholder:"smtp.gmail.com","data-testid":"input-smtp-host"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_smtp_port",children:"SMTP Port"}),s.jsx(Ne,{id:"email_smtp_port",value:v.email_smtp_port,onChange:x=>j("email_smtp_port",x.target.value),placeholder:"587","data-testid":"input-smtp-port"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_smtp_user",children:"SMTP Username"}),s.jsx(Ne,{id:"email_smtp_user",value:v.email_smtp_user,onChange:x=>j("email_smtp_user",x.target.value),placeholder:"your-email@gmail.com","data-testid":"input-smtp-user"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email_smtp_pass",children:"SMTP Password"}),s.jsx(Ne,{id:"email_smtp_pass",type:v.demoMode?"text":"password",value:v.demoMode?m(v.email_smtp_pass):v.email_smtp_pass,onChange:x=>j("email_smtp_pass",x.target.value),placeholder:"App Password (16 characters)","data-testid":"input-smtp-pass",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]})]})]})]})]})]}),s.jsx(Et,{value:"integrations",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"LiveKit Integration"}),s.jsx(Oe,{children:"Live streaming platform configuration"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"livekit_url",children:"LiveKit URL"}),s.jsx(Ne,{id:"livekit_url",value:v.livekit_url,onChange:x=>j("livekit_url",x.target.value),placeholder:"wss://your-livekit-url.com","data-testid":"input-livekit-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"livekit_api_key",children:"LiveKit API Key"}),s.jsx(Ne,{id:"livekit_api_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.livekit_api_key):v.livekit_api_key,onChange:x=>j("livekit_api_key",x.target.value),placeholder:"API...","data-testid":"input-livekit-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"livekit_api_secret",children:"LiveKit API Secret"}),s.jsx(Ne,{id:"livekit_api_secret",type:v.demoMode?"text":"password",value:v.demoMode?m(v.livekit_api_secret):v.livekit_api_secret,onChange:x=>j("livekit_api_secret",x.target.value),placeholder:"Secret...","data-testid":"input-livekit-api-secret",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiveKit credentials for video streaming"})]})]})]})}),s.jsx(Et,{value:"app-versions",className:"space-y-6",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"App Version Management"}),s.jsx(Oe,{children:"Manage mobile app version numbers"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"appVersion",children:"App Version"}),s.jsx(Ne,{id:"appVersion",value:v.appVersion,onChange:x=>j("appVersion",x.target.value),placeholder:"1.0.0","data-testid":"input-app-version"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"androidVersion",children:"Android Version"}),s.jsx(Ne,{id:"androidVersion",value:v.androidVersion,onChange:x=>j("androidVersion",x.target.value),placeholder:"1.0.0","data-testid":"input-android-version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"iosVersion",children:"iOS Version"}),s.jsx(Ne,{id:"iosVersion",value:v.iosVersion,onChange:x=>j("iosVersion",x.target.value),placeholder:"1.0.0","data-testid":"input-ios-version"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ec,{id:"forceUpdate",checked:v.forceUpdate,onCheckedChange:x=>j("forceUpdate",x),"data-testid":"switch-force-update"}),s.jsx(ve,{htmlFor:"forceUpdate",className:"cursor-pointer",children:"Force App Update"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, users will be required to update the app to continue using it"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"These version numbers are used with the Force Update feature"})]})]})}),s.jsx(Et,{value:"translations",className:"space-y-6",children:s.jsx(HY,{})})]})]})})}function HY(){const{toast:t}=En(),{canManageSettings:e,isDemoMode:n}=WO(),[r,i]=p.useState("en"),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[f,m]=p.useState(""),v=p.useRef(!1),{data:_,isLoading:g}=et({queryKey:["/api/admin/translations"]}),C=(_==null?void 0:_.data)||{},j=C.translations||C,y=C.version,x=C.default_language,[P,D]=p.useState({}),O=Object.keys(P);p.useEffect(()=>{j&&Object.keys(j).length>0&&Object.keys(P).length===0&&D(j)},[j,P]),p.useEffect(()=>{!v.current&&x?(m(x),v.current=!0):!v.current&&O.length>0&&!f&&(m(O[0]),v.current=!0)},[x,O,f]);const E=Array.from(new Set(Object.values(P).flatMap(L=>Object.keys(L)))).sort(),b=()=>{if(!a||a.length!==2){t({title:"Invalid language code",description:"Language code must be exactly 2 characters (e.g., 'es', 'fr')",variant:"destructive"});return}if(O.includes(a)){t({title:"Language already exists",description:`Language '${a}' is already configured`,variant:"destructive"});return}if(O.length===0){const L={app_name:"",hi:"",home:"",profile:"",settings:""};D({[a]:L})}else{const L=j.en||j[O[0]]||{},q={};Object.keys(L).forEach(V=>{q[V]=""}),D(V=>({...V,[a]:q}))}i(a),o(""),c(!1),t({title:"Language added",description:`Language '${a}' has been added. ${O.length===0?"Add your translation keys and":"Fill in the translations and"} save.`})},S=L=>{if(L==="en"){t({title:"Cannot delete English",description:"English is the default language and cannot be deleted",variant:"destructive"});return}const q={...P};delete q[L],D(q),r===L&&i("en"),t({title:"Language removed",description:`Language '${L}' has been removed. Click Save to apply changes.`})},R=(L,q)=>{D(V=>({...V,[r]:{...V[r],[L]:q}}))},N=async()=>{if(!e){t({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}h(!0);try{if(!(await gt("POST","/api/admin/translations",{translations:P,default_language:f})).ok)throw new Error("Failed to save translations");yt.invalidateQueries({queryKey:["/api/admin/translations"]}),t({title:"Translations saved",description:"All translations have been saved successfully"})}catch(L){t({title:"Error",description:L.message||"Failed to save translations",variant:"destructive"})}finally{h(!1)}},T=async()=>{try{const L=await fetch("/api/admin/translations/download",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!L.ok)throw new Error("Failed to download translations");const q=await L.blob(),V=window.URL.createObjectURL(q),z=document.createElement("a");z.href=V,z.download="translations.xml",document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(V),document.body.removeChild(z),t({title:"Download started",description:"Your translations XML file is downloading"})}catch(L){t({title:"Error",description:L.message||"Failed to download translations",variant:"destructive"})}},A=async L=>{var V;const q=(V=L.target.files)==null?void 0:V[0];if(q){if(!q.name.endsWith(".xml")){t({title:"Invalid file",description:"Please upload an XML file",variant:"destructive"});return}try{const z=new FormData;z.append("file",q);const F=await fetch("/api/admin/translations/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:z});if(!F.ok){const X=await F.json();throw new Error(X.error||"Failed to upload translations")}const H=await F.json();yt.invalidateQueries({queryKey:["/api/admin/translations"]}),t({title:"Upload successful",description:H.message||"Translations imported successfully"}),L.target.value=""}catch(z){t({title:"Error",description:z.message||"Failed to upload translations",variant:"destructive"}),L.target.value=""}}};return g?s.jsx(ae,{children:s.jsx(oe,{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):O.length===0&&!l?s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"App Translations"}),s.jsx(Oe,{children:"No translations found. Add your first language to get started."})]}),s.jsxs(oe,{children:[s.jsxs(tr,{className:"mb-4",children:[s.jsx(Qd,{className:"h-4 w-4"}),s.jsx(nr,{children:"Start by adding English (en) as your default language, then add translation keys."})]}),s.jsxs(ee,{onClick:()=>c(!0),"data-testid":"button-add-first-language",children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Add First Language"]}),l&&s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(Ne,{placeholder:"Code (e.g., en)",value:a,onChange:L=>o(L.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(ee,{onClick:b,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(ee,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]})]})]}):s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(he,{children:"App Translations"}),s.jsx(Oe,{children:"Manage translations for your mobile app. Download as XML, edit offline, and upload back."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{onClick:T,variant:"outline","data-testid":"button-download-xml",children:[s.jsx(X$,{className:"h-4 w-4 mr-2"}),"Download XML"]}),s.jsxs(ee,{onClick:()=>{var L;return(L=document.getElementById("xml-upload-input"))==null?void 0:L.click()},variant:"outline","data-testid":"button-upload-xml",children:[s.jsx(Rw,{className:"h-4 w-4 mr-2"}),"Upload XML"]}),s.jsx("input",{id:"xml-upload-input",type:"file",accept:".xml",onChange:A,className:"hidden","data-testid":"input-xml-upload"}),s.jsx(ee,{onClick:N,disabled:d||!e,"data-testid":"button-save-translations",children:d?"Saving...":n?"Demo Mode - Read Only":"Save"})]})]})}),s.jsxs(oe,{className:"space-y-6",children:[y!==void 0&&s.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground border-b pb-4",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Version:"})," ",y]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Select Language to Edit"}),s.jsxs(_n,{value:r,onValueChange:i,children:[s.jsx(pn,{"data-testid":"select-language",children:s.jsx(Sn,{})}),s.jsx(gn,{children:O.map(L=>{var q;return s.jsxs(se,{value:L,children:[L.toUpperCase()," - ",((q=P[L])==null?void 0:q.app_name)||"Language"]},L)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Default Language"}),s.jsxs(_n,{value:f||O[0]||"en",onValueChange:m,children:[s.jsx(pn,{"data-testid":"select-default-language",children:s.jsx(Sn,{placeholder:"Select default language"})}),s.jsx(gn,{children:O.map(L=>{var q;return s.jsxs(se,{value:L,children:[L.toUpperCase()," - ",((q=P[L])==null?void 0:q.app_name)||"Language"]},L)})})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[l?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{placeholder:"Code (e.g., es)",value:a,onChange:L=>o(L.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(ee,{onClick:b,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(ee,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]}):s.jsxs(ee,{onClick:()=>c(!0),variant:"outline","data-testid":"button-add-language",children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Add Language"]}),r!=="en"&&s.jsx(ee,{onClick:()=>S(r),variant:"destructive",size:"sm","data-testid":"button-delete-language",children:s.jsx(Iw,{className:"h-4 w-4"})})]}),s.jsxs(tr,{className:"mb-4",children:[s.jsx(Qd,{className:"h-4 w-4"}),s.jsxs(nr,{children:[s.jsx("strong",{children:"Dynamic Placeholders:"})," Use placeholders like ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@app_name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@provider"})," in your translations. These will be automatically replaced with actual values in the app."]})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"bg-muted px-4 py-3 border-b",children:s.jsxs("p",{className:"text-sm font-medium",children:["Editing ",r.toUpperCase()," (",E.length," keys)"]})}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"divide-y",children:E.map(L=>{var z,F;const q=(z=j.en)==null?void 0:z[L],V=r!=="en"&&q?q:`Enter ${r.toUpperCase()} translation for "${L}"`;return s.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:`trans-${L}`,className:"text-xs text-muted-foreground font-mono",children:L}),s.jsx(Ne,{id:`trans-${L}`,value:((F=P[r])==null?void 0:F[L])||"",onChange:H=>R(L,H.target.value),placeholder:V,"data-testid":`input-translation-${L}`})]})},L)})})})]}),E.length===0&&s.jsxs(tr,{children:[s.jsx(Qd,{className:"h-4 w-4"}),s.jsx(nr,{children:"No translation keys found. Add a language and start adding translations."})]})]})]})}function qY(){var x,P,D;const{toast:t}=En(),[e,n]=p.useState(!1),[r,i]=p.useState(!1),{data:a}=et({queryKey:["/api/auth/session"]}),o=((x=a==null?void 0:a.data)==null?void 0:x.id)||((P=a==null?void 0:a.data)==null?void 0:P._id),{data:l,isLoading:c}=et({queryKey:[`/api/admin/profile/${o}`],enabled:!!o}),d=((D=l==null?void 0:l.data)==null?void 0:D.admin)||(l==null?void 0:l.admin)||(l==null?void 0:l.data)||l,[h,f]=p.useState({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||""}),[m,v]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""});p.useEffect(()=>{d&&f({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.full_name)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""})},[d]);const _=Ot({mutationFn:async O=>{const E={full_name:O.fullname,email:O.email,username:O.username};return gt("PATCH","/api/admin/profile",E)},onSuccess:()=>{yt.invalidateQueries({queryKey:[`/api/admin/profile/${o}`]}),yt.invalidateQueries({queryKey:["/api/auth/session"]}),n(!1),t({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:O=>{t({title:"Update failed",description:O.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),g=Ot({mutationFn:async O=>gt("POST","/api/admin/change-password",O),onSuccess:()=>{i(!1),v({currentPassword:"",newPassword:"",confirmPassword:""}),t({title:"Password changed",description:"Your password has been changed successfully."})},onError:O=>{t({title:"Password change failed",description:O.message||"Failed to change password. Please try again.",variant:"destructive"})}}),C=O=>{O.preventDefault(),_.mutate(h)},j=O=>{if(O.preventDefault(),m.newPassword!==m.confirmPassword){t({title:"Passwords don't match",description:"New password and confirm password must match.",variant:"destructive"});return}if(m.newPassword.length<6){t({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}g.mutate({currentPassword:m.currentPassword,newPassword:m.newPassword})},y=O=>O.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2);return c?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and security"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(he,{children:"Profile Information"}),s.jsx(Oe,{children:"Update your personal details"})]}),!e&&s.jsxs(ee,{onClick:()=>{f({fullname:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""}),n(!0)},"data-testid":"button-edit-profile",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),s.jsx(oe,{children:e?s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(as,{className:"h-24 w-24",children:[s.jsx(os,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(ls,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?y(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"fullname",children:"Full Name"}),s.jsx(Ne,{id:"fullname",value:h.fullname,onChange:O=>f({...h,fullname:O.target.value}),"data-testid":"input-fullname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"username",children:"Username"}),s.jsx(Ne,{id:"username",value:h.username,onChange:O=>f({...h,username:O.target.value}),"data-testid":"input-username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email",children:"Email"}),s.jsx(Ne,{id:"email",type:"email",value:h.email,onChange:O=>f({...h,email:O.target.value}),"data-testid":"input-email"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-edit",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ee,{type:"submit",disabled:_.isPending,"data-testid":"button-save-profile",children:[s.jsx(CN,{className:"h-4 w-4 mr-2"}),_.isPending?"Saving...":"Save Changes"]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(as,{className:"h-24 w-24",children:[s.jsx(os,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(ls,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?y(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-fullname",children:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"text-muted-foreground",children:"Username"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-username",children:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-email",children:(d==null?void 0:d.email)||"Not set"})]})]})]})})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(he,{children:"Change Password"}),s.jsx(Oe,{children:"Update your account password"})]}),!r&&s.jsxs(ee,{onClick:()=>i(!0),variant:"outline","data-testid":"button-change-password",children:[s.jsx(mm,{className:"h-4 w-4 mr-2"}),"Change Password"]})]}),r&&s.jsx(oe,{children:s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(Ne,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:O=>v({...m,currentPassword:O.target.value}),required:!0,"data-testid":"input-current-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"newPassword",children:"New Password"}),s.jsx(Ne,{id:"newPassword",type:"password",value:m.newPassword,onChange:O=>v({...m,newPassword:O.target.value}),required:!0,minLength:6,"data-testid":"input-new-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(Ne,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:O=>v({...m,confirmPassword:O.target.value}),required:!0,minLength:6,"data-testid":"input-confirm-password"})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{i(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},"data-testid":"button-cancel-password",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(ee,{type:"submit",disabled:g.isPending,"data-testid":"button-save-password",children:[s.jsx(CN,{className:"h-4 w-4 mr-2"}),g.isPending?"Changing...":"Change Password"]})]})]})})]})]})]})})}function ft(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function jr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Wn(t,e){const n=ft(t);return isNaN(e)?jr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ms(t,e){const n=ft(t);if(isNaN(e))return jr(t,NaN);if(!e)return n;const r=n.getDate(),i=jr(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Bj=6048e5,KY=864e5;let GY={};function bh(){return GY}function Xs(t,e){var l,c,d,h;const n=bh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=ft(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Qo(t){return Xs(t,{weekStartsOn:1})}function HO(t){const e=ft(t),n=e.getFullYear(),r=jr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Qo(r),a=jr(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Qo(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Dc(t){const e=ft(t);return e.setHours(0,0,0,0),e}function Xm(t){const e=ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ms(t,e){const n=Dc(t),r=Dc(e),i=+n-Xm(n),a=+r-Xm(r);return Math.round((i-a)/KY)}function QY(t){const e=HO(t),n=jr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Qo(n)}function wy(t,e){const n=e*7;return Wn(t,n)}function YY(t,e){return ms(t,e*12)}function XY(t){let e;return t.forEach(function(n){const r=ft(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function ZY(t){let e;return t.forEach(n=>{const r=ft(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function rr(t,e){const n=Dc(t),r=Dc(e);return+n==+r}function Wj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JY(t){if(!Wj(t)&&typeof t!="number")return!1;const e=ft(t);return!isNaN(Number(e))}function Ku(t,e){const n=ft(t),r=ft(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function eX(t,e,n){const r=Xs(t,n),i=Xs(e,n),a=+r-Xm(r),o=+i-Xm(i);return Math.round((a-o)/Bj)}function Hj(t){const e=ft(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function or(t){const e=ft(t);return e.setDate(1),e.setHours(0,0,0,0),e}function qO(t){const e=ft(t),n=jr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function qj(t,e){var l,c,d,h;const n=bh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=ft(t),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function KO(t){return qj(t,{weekStartsOn:1})}const tX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nX=(t,e,n)=>{let r;const i=tX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _x(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const rX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aX={date:_x({formats:rX,defaultWidth:"full"}),time:_x({formats:sX,defaultWidth:"full"}),dateTime:_x({formats:iX,defaultWidth:"full"})},oX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lX=(t,e,n,r)=>oX[t];function kd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const cX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gX={ordinalNumber:pX,era:kd({values:cX,defaultWidth:"wide"}),quarter:kd({values:dX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kd({values:uX,defaultWidth:"wide"}),day:kd({values:hX,defaultWidth:"wide"}),dayPeriod:kd({values:fX,defaultWidth:"wide",formattingValues:mX,defaultFormattingWidth:"wide"})};function Ed(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?vX(l,f=>f.test(o)):xX(l,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function xX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function vX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const wX=/^(\d+)(th|st|nd|rd)?/i,jX=/\d+/i,bX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NX={any:[/^b/i,/^(a|c)/i]},_X={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SX={any:[/1/i,/2/i,/3/i,/4/i]},CX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IX={ordinalNumber:yX({matchPattern:wX,parsePattern:jX,valueCallback:t=>parseInt(t,10)}),era:Ed({matchPatterns:bX,defaultMatchWidth:"wide",parsePatterns:NX,defaultParseWidth:"any"}),quarter:Ed({matchPatterns:_X,defaultMatchWidth:"wide",parsePatterns:SX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ed({matchPatterns:CX,defaultMatchWidth:"wide",parsePatterns:kX,defaultParseWidth:"any"}),day:Ed({matchPatterns:EX,defaultMatchWidth:"wide",parsePatterns:TX,defaultParseWidth:"any"}),dayPeriod:Ed({matchPatterns:PX,defaultMatchWidth:"any",parsePatterns:AX,defaultParseWidth:"any"})},GO={code:"en-US",formatDistance:nX,formatLong:aX,formatRelative:lX,localize:gX,match:IX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RX(t){const e=ft(t);return Ms(e,qO(e))+1}function QO(t){const e=ft(t),n=+Qo(e)-+QY(e);return Math.round(n/Bj)+1}function YO(t,e){var h,f,m,v;const n=ft(t),r=n.getFullYear(),i=bh(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=jr(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Xs(o,e),c=jr(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Xs(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function DX(t,e){var l,c,d,h;const n=bh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=YO(t,e),a=jr(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Xs(a,e)}function XO(t,e){const n=ft(t),r=+Xs(n,e)-+DX(n,e);return Math.round(r/Bj)+1}function vt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Gi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return vt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):vt(n+1,2)},d(t,e){return vt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return vt(t.getHours()%12||12,e.length)},H(t,e){return vt(t.getHours(),e.length)},m(t,e){return vt(t.getMinutes(),e.length)},s(t,e){return vt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return vt(i,e.length)}},yl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},y_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Gi.y(t,e)},Y:function(t,e,n,r){const i=YO(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return vt(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):vt(a,e.length)},R:function(t,e){const n=HO(t);return vt(n,e.length)},u:function(t,e){const n=t.getFullYear();return vt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return vt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return vt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Gi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return vt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=XO(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):vt(i,e.length)},I:function(t,e,n){const r=QO(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):vt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Gi.d(t,e)},D:function(t,e,n){const r=RX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):vt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return vt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return vt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return vt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=yl.noon:r===0?i=yl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=yl.evening:r>=12?i=yl.afternoon:r>=4?i=yl.morning:i=yl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Gi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):vt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):vt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Gi.s(t,e)},S:function(t,e){return Gi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return j_(r);case"XXXX":case"XX":return lo(r);case"XXXXX":case"XXX":default:return lo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return j_(r);case"xxxx":case"xx":return lo(r);case"xxxxx":case"xxx":default:return lo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+w_(r,":");case"OOOO":default:return"GMT"+lo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+w_(r,":");case"zzzz":default:return"GMT"+lo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return vt(r,e.length)},T:function(t,e,n){const r=t.getTime();return vt(r,e.length)}};function w_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+vt(a,2)}function j_(t,e){return t%60===0?(t>0?"-":"+")+vt(Math.abs(t)/60,2):lo(t,e)}function lo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=vt(Math.trunc(r/60),2),a=vt(r%60,2);return n+i+e+a}const b_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},MX=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return b_(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",b_(r,e)).replace("{{time}}",ZO(i,e))},OX={p:ZO,P:MX},LX=/^D+$/,FX=/^Y+$/,$X=["D","DD","YY","YYYY"];function UX(t){return LX.test(t)}function VX(t){return FX.test(t)}function zX(t,e,n){const r=BX(t,e,n);if(console.warn(r),$X.includes(t))throw new RangeError(r)}function BX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qX=/^'([^]*?)'?$/,KX=/''/g,GX=/[a-zA-Z]/;function es(t,e,n){var h,f,m,v,_,g,C,j;const r=bh(),i=(n==null?void 0:n.locale)??r.locale??GO,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((j=(C=r.locale)==null?void 0:C.options)==null?void 0:j.weekStartsOn)??0,l=ft(t);if(!JY(l))throw new RangeError("Invalid time value");let c=e.match(HX).map(y=>{const x=y[0];if(x==="p"||x==="P"){const P=OX[x];return P(y,i.formatLong)}return y}).join("").match(WX).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:QX(y)};if(y_[x])return{isToken:!0,value:y};if(x.match(GX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&VX(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&UX(x))&&zX(x,e,String(t));const P=y_[x[0]];return P(l,x,i.localize,d)}).join("")}function QX(t){const e=t.match(qX);return e?e[1].replace(KX,"'"):t}function YX(t){const e=ft(t),n=e.getFullYear(),r=e.getMonth(),i=jr(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function XX(t){return Math.trunc(+ft(t)/1e3)}function ZX(t){const e=ft(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function JX(t,e){return eX(ZX(t),or(t),e)+1}function jy(t,e){const n=ft(t),r=ft(e);return n.getTime()>r.getTime()}function JO(t,e){const n=ft(t),r=ft(e);return+n<+r}function Kj(t,e){const n=ft(t),r=ft(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function eZ(t,e){const n=ft(t),r=ft(e);return n.getFullYear()===r.getFullYear()}function Sx(t,e){return Wn(t,-e)}function Cx(t,e){const n=ft(t),r=n.getFullYear(),i=n.getDate(),a=jr(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const o=YX(a);return n.setMonth(e,Math.min(i,o)),n}function N_(t,e){const n=ft(t);return isNaN(+n)?jr(t,NaN):(n.setFullYear(e),n)}var Gj="Popover",[eL,Dee]=lr(Gj,[qa]),Nh=qa(),[tZ,Xa]=eL(Gj),tL=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=Nh(e),c=p.useRef(null),[d,h]=p.useState(!1),[f=!1,m]=Ci({prop:r,defaultProp:i,onChange:a});return s.jsx(Ww,{...l,children:s.jsx(tZ,{scope:e,contentId:rs(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(v=>!v),[m]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:o,children:n})})};tL.displayName=Gj;var nL="PopoverAnchor",nZ=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Xa(nL,n),a=Nh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(ah,{...a,...r,ref:e})});nZ.displayName=nL;var rL="PopoverTrigger",sL=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Xa(rL,n),a=Nh(n),o=st(e,i.triggerRef),l=s.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cL(i.open),...r,ref:o,onClick:pe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(ah,{asChild:!0,...a,children:l})});sL.displayName=rL;var Qj="PopoverPortal",[rZ,sZ]=eL(Qj,{forceMount:void 0}),iL=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=Xa(Qj,e);return s.jsx(rZ,{scope:e,forceMount:n,children:s.jsx(_r,{present:n||a.open,children:s.jsx(zc,{asChild:!0,container:i,children:r})})})};iL.displayName=Qj;var Mc="PopoverContent",aL=p.forwardRef((t,e)=>{const n=sZ(Mc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=Xa(Mc,t.__scopePopover);return s.jsx(_r,{present:r||a.open,children:a.modal?s.jsx(aZ,{...i,ref:e}):s.jsx(oZ,{...i,ref:e})})});aL.displayName=Mc;var iZ=Aa("PopoverContent.RemoveScroll"),aZ=p.forwardRef((t,e)=>{const n=Xa(Mc,t.__scopePopover),r=p.useRef(null),i=st(e,r),a=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return Vp(o)},[]),s.jsx(vh,{as:iZ,allowPinchZoom:!0,children:s.jsx(oL,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:pe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oZ=p.forwardRef((t,e)=>{const n=Xa(Mc,t.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(oL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),oL=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,...f}=t,m=Xa(Mc,n),v=Nh(n);return Up(),s.jsx(xh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(el,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(Sp,{"data-state":cL(m.open),role:"dialog",id:m.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lL="PopoverClose",lZ=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Xa(lL,n);return s.jsx(Re.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});lZ.displayName=lL;var cZ="PopoverArrow",dZ=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Nh(n);return s.jsx(Cp,{...i,...r,ref:e})});dZ.displayName=cZ;function cL(t){return t?"open":"closed"}var uZ=tL,hZ=sL,fZ=iL,dL=aL;const __=uZ,S_=hZ,by=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>s.jsx(fZ,{children:s.jsx(dL,{ref:i,align:e,sideOffset:n,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));by.displayName=dL.displayName;var Ue=function(){return Ue=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ue.apply(this,arguments)};function mZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uL(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function _h(t){return t.mode==="multiple"}function Sh(t){return t.mode==="range"}function Yp(t){return t.mode==="single"}var pZ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function gZ(t,e){return es(t,"LLLL y",e)}function xZ(t,e){return es(t,"d",e)}function vZ(t,e){return es(t,"LLLL",e)}function yZ(t){return"".concat(t)}function wZ(t,e){return es(t,"cccccc",e)}function jZ(t,e){return es(t,"yyyy",e)}var bZ=Object.freeze({__proto__:null,formatCaption:gZ,formatDay:xZ,formatMonthCaption:vZ,formatWeekNumber:yZ,formatWeekdayName:wZ,formatYearCaption:jZ}),NZ=function(t,e,n){return es(t,"do MMMM (EEEE)",n)},_Z=function(){return"Month: "},SZ=function(){return"Go to next month"},CZ=function(){return"Go to previous month"},kZ=function(t,e){return es(t,"cccc",e)},EZ=function(t){return"Week n. ".concat(t)},TZ=function(){return"Year: "},PZ=Object.freeze({__proto__:null,labelDay:NZ,labelMonthDropdown:_Z,labelNext:SZ,labelPrevious:CZ,labelWeekNumber:EZ,labelWeekday:kZ,labelYearDropdown:TZ});function AZ(){var t="buttons",e=pZ,n=GO,r={},i={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:bZ,labels:PZ,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function IZ(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return r?a=or(r):e&&(a=new Date(e,0,1)),i?o=Hj(i):n&&(o=new Date(n,11,31)),{fromDate:a?Dc(a):void 0,toDate:o?Dc(o):void 0}}var hL=p.createContext(void 0);function RZ(t){var e,n=t.initialProps,r=AZ(),i=IZ(n),a=i.fromDate,o=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(Yp(n)||_h(n)||Sh(n))&&(c=n.onSelect);var d=Ue(Ue(Ue({},r),n),{captionLayout:l,classNames:Ue(Ue({},r.classNames),n.classNames),components:Ue({},n.components),formatters:Ue(Ue({},r.formatters),n.formatters),fromDate:a,labels:Ue(Ue({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ue(Ue({},r.modifiers),n.modifiers),modifiersClassNames:Ue(Ue({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ue(Ue({},r.styles),n.styles),toDate:o});return s.jsx(hL.Provider,{value:d,children:t.children})}function Pt(){var t=p.useContext(hL);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function fL(t){var e=Pt(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function DZ(t){return s.jsx("svg",Ue({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mL(t){var e,n,r=t.onChange,i=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,d=Pt(),h=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:DZ;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),s.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function MZ(t){var e,n=Pt(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var f=[];if(eZ(r,i))for(var m=or(r),v=r.getMonth();v<=i.getMonth();v++)f.push(Cx(m,v));else for(var m=or(new Date),v=0;v<=11;v++)f.push(Cx(m,v));var _=function(C){var j=Number(C.target.value),y=Cx(or(t.displayMonth),j);t.onChange(y)},g=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:mL;return s.jsx(g,{name:"months","aria-label":h(),className:c.dropdown_month,style:a.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:f.map(function(C){return s.jsx("option",{value:C.getMonth(),children:l(C,{locale:o})},C.getMonth())})})}function OZ(t){var e,n=t.displayMonth,r=Pt(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,h=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var v=i.getFullYear(),_=a.getFullYear(),g=v;g<=_;g++)m.push(N_(qO(new Date),g));var C=function(y){var x=N_(or(n),Number(y.target.value));t.onChange(x)},j=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:mL;return s.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:C,value:n.getFullYear(),caption:h(n,{locale:o}),children:m.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:h(y,{locale:o})},y.getFullYear())})})}function LZ(t,e){var n=p.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function FZ(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&Ku(a,i)<0){var d=-1*(c-1);i=ms(a,d)}return o&&Ku(i,o)<0&&(i=o),or(i)}function $Z(){var t=Pt(),e=FZ(t),n=LZ(e,t.month),r=n[0],i=n[1],a=function(o){var l;if(!t.disableNavigation){var c=or(o);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,a]}function UZ(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=or(t),a=or(ms(i,r)),o=Ku(a,i),l=[],c=0;c<o;c++){var d=ms(i,c);l.push(d)}return n&&(l=l.reverse()),l}function VZ(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=or(t);if(!n)return ms(l,o);var c=Ku(n,t);if(!(c<a))return ms(l,o)}}function zZ(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=or(t);if(!n)return ms(l,-o);var c=Ku(l,n);if(!(c<=0))return ms(l,-o)}}var pL=p.createContext(void 0);function BZ(t){var e=Pt(),n=$Z(),r=n[0],i=n[1],a=UZ(r,e),o=VZ(r,e),l=zZ(r,e),c=function(f){return a.some(function(m){return Kj(f,m)})},d=function(f,m){c(f)||(m&&JO(f,m)?i(ms(f,1+e.numberOfMonths*-1)):i(f))},h={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(pL.Provider,{value:h,children:t.children})}function Ch(){var t=p.useContext(pL);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function C_(t){var e,n=Pt(),r=n.classNames,i=n.styles,a=n.components,o=Ch().goToMonth,l=function(h){o(ms(h,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:fL,d=s.jsx(c,{id:t.id,displayMonth:t.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(MZ,{onChange:l,displayMonth:t.displayMonth}),s.jsx(OZ,{onChange:l,displayMonth:t.displayMonth})]})}function WZ(t){return s.jsx("svg",Ue({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function HZ(t){return s.jsx("svg",Ue({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Zm=p.forwardRef(function(t,e){var n=Pt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var o=a.join(" "),l=Ue(Ue({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),s.jsx("button",Ue({},t,{ref:e,type:"button",className:o,style:l}))});function qZ(t){var e,n,r=Pt(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,h=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return s.jsx(s.Fragment,{});var m=d(t.previousMonth,{locale:a}),v=[o.nav_button,o.nav_button_previous].join(" "),_=h(t.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),C=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:HZ,j=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:WZ;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&s.jsx(Zm,{name:"previous-month","aria-label":m,className:v,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?s.jsx(C,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&s.jsx(Zm,{name:"next-month","aria-label":_,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(C,{className:o.nav_icon,style:l.nav_icon})})]})}function k_(t){var e=Pt().numberOfMonths,n=Ch(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(_){return Kj(t.displayMonth,_)}),c=l===0,d=l===o.length-1,h=e>1&&(c||!d),f=e>1&&(d||!c),m=function(){r&&a(r)},v=function(){i&&a(i)};return s.jsx(qZ,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:v})}function KZ(t){var e,n=Pt(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:fL,d;return i?d=s.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=s.jsx(C_,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(C_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),s.jsx(k_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(k_,{displayMonth:t.displayMonth,id:t.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:d})}function GZ(t){var e=Pt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function QZ(t,e,n){for(var r=n?Qo(new Date):Xs(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Wn(r,a);i.push(o)}return i}function YZ(){var t=Pt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=QZ(i,a,o);return s.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(h,f){return s.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(h,{locale:i}),children:l(h,{locale:i})},f)})]})}function XZ(){var t,e=Pt(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:YZ;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function ZZ(t){var e=Pt(),n=e.locale,r=e.formatters.formatDay;return s.jsx(s.Fragment,{children:r(t.date,{locale:n})})}var Yj=p.createContext(void 0);function JZ(t){if(!_h(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Yj.Provider,{value:e,children:t.children})}return s.jsx(eJ,{initialProps:t.initialProps,children:t.children})}function eJ(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,o=function(d,h,f){var m,v;(m=e.onDayClick)===null||m===void 0||m.call(e,d,h,f);var _=!!(h.selected&&i&&(r==null?void 0:r.length)===i);if(!_){var g=!!(!h.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var C=r?uL([],r):[];if(h.selected){var j=C.findIndex(function(y){return rr(d,y)});C.splice(j,1)}else C.push(d);(v=e.onSelect)===null||v===void 0||v.call(e,C,d,h,f)}}},l={disabled:[]};r&&l.disabled.push(function(d){var h=a&&r.length>a-1,f=r.some(function(m){return rr(m,d)});return!!(h&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(Yj.Provider,{value:c,children:n})}function Xj(){var t=p.useContext(Yj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function tJ(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?rr(i,t)&&rr(r,t)?void 0:rr(i,t)?{from:i,to:void 0}:rr(r,t)?void 0:jy(r,t)?{from:t,to:i}:{from:r,to:t}:i?jy(t,i)?{from:i,to:t}:{from:t,to:i}:r?JO(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Zj=p.createContext(void 0);function nJ(t){if(!Sh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Zj.Provider,{value:e,children:t.children})}return s.jsx(rJ,{initialProps:t.initialProps,children:t.children})}function rJ(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,o=i.to,l=e.min,c=e.max,d=function(v,_,g){var C,j;(C=e.onDayClick)===null||C===void 0||C.call(e,v,_,g);var y=tJ(v,r);(j=e.onSelect)===null||j===void 0||j.call(e,y,v,_,g)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(h.range_start=[a],o?(h.range_end=[o],rr(a,o)||(h.range_middle=[{after:a,before:o}])):h.range_end=[a]):o&&(h.range_start=[o],h.range_end=[o]),l&&(a&&!o&&h.disabled.push({after:Sx(a,l-1),before:Wn(a,l-1)}),a&&o&&h.disabled.push({after:a,before:Wn(a,l-1)}),!a&&o&&h.disabled.push({after:Sx(o,l-1),before:Wn(o,l-1)})),c){if(a&&!o&&(h.disabled.push({before:Wn(a,-c+1)}),h.disabled.push({after:Wn(a,c-1)})),a&&o){var f=Ms(o,a)+1,m=c-f;h.disabled.push({before:Sx(a,m)}),h.disabled.push({after:Wn(o,m)})}!a&&o&&(h.disabled.push({before:Wn(o,-c+1)}),h.disabled.push({after:Wn(o,c-1)}))}return s.jsx(Zj.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:n})}function Jj(){var t=p.useContext(Zj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Uf(t){return Array.isArray(t)?uL([],t):t!==void 0?[t]:[]}function sJ(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Uf(i)}),e}var ps;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ps||(ps={}));var iJ=ps.Selected,ai=ps.Disabled,aJ=ps.Hidden,oJ=ps.Today,kx=ps.RangeEnd,Ex=ps.RangeMiddle,Tx=ps.RangeStart,lJ=ps.Outside;function cJ(t,e,n){var r,i=(r={},r[iJ]=Uf(t.selected),r[ai]=Uf(t.disabled),r[aJ]=Uf(t.hidden),r[oJ]=[t.today],r[kx]=[],r[Ex]=[],r[Tx]=[],r[lJ]=[],r);return t.fromDate&&i[ai].push({before:t.fromDate}),t.toDate&&i[ai].push({after:t.toDate}),_h(t)?i[ai]=i[ai].concat(e.modifiers[ai]):Sh(t)&&(i[ai]=i[ai].concat(n.modifiers[ai]),i[Tx]=n.modifiers[Tx],i[Ex]=n.modifiers[Ex],i[kx]=n.modifiers[kx]),i}var gL=p.createContext(void 0);function dJ(t){var e=Pt(),n=Xj(),r=Jj(),i=cJ(e,n,r),a=sJ(e.modifiers),o=Ue(Ue({},i),a);return s.jsx(gL.Provider,{value:o,children:t.children})}function xL(){var t=p.useContext(gL);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function uJ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function hJ(t){return!!(t&&typeof t=="object"&&"from"in t)}function fJ(t){return!!(t&&typeof t=="object"&&"after"in t)}function mJ(t){return!!(t&&typeof t=="object"&&"before"in t)}function pJ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function gJ(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=Ms(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Ms(t,r)>=0&&Ms(i,t)>=0;return o}return i?rr(i,t):r?rr(r,t):!1}function xJ(t){return Wj(t)}function vJ(t){return Array.isArray(t)&&t.every(Wj)}function yJ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(xJ(n))return rr(t,n);if(vJ(n))return n.includes(t);if(hJ(n))return gJ(t,n);if(pJ(n))return n.dayOfWeek.includes(t.getDay());if(uJ(n)){var r=Ms(n.before,t),i=Ms(n.after,t),a=r>0,o=i<0,l=jy(n.before,n.after);return l?o&&a:a||o}return fJ(n)?Ms(t,n.after)>0:mJ(n)?Ms(n.before,t)>0:typeof n=="function"?n(t):!1})}function eb(t,e,n){var r=Object.keys(e).reduce(function(a,o){var l=e[o];return yJ(t,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!Kj(t,n)&&(i.outside=!0),i}function wJ(t,e){for(var n=or(t[0]),r=Hj(t[t.length-1]),i,a,o=n;o<=r;){var l=eb(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Wn(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Wn(o,1)}return a||i}var jJ=365;function vL(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=i.weekStartsOn,d=i.fromDate,h=i.toDate,f=i.locale,m={day:Wn,week:wy,month:ms,year:YY,startOfWeek:function(C){return i.ISOWeek?Qo(C):Xs(C,{locale:f,weekStartsOn:c})},endOfWeek:function(C){return i.ISOWeek?KO(C):qj(C,{locale:f,weekStartsOn:c})}},v=m[n](t,r==="after"?1:-1);r==="before"&&d?v=XY([d,v]):r==="after"&&h&&(v=ZY([h,v]));var _=!0;if(a){var g=eb(v,a);_=!g.disabled&&!g.hidden}return _?v:l.count>jJ?l.lastFocused:vL(v,{moveBy:n,direction:r,context:i,modifiers:a,retry:Ue(Ue({},l),{count:l.count+1})})}var yL=p.createContext(void 0);function bJ(t){var e=Ch(),n=xL(),r=p.useState(),i=r[0],a=r[1],o=p.useState(),l=o[0],c=o[1],d=wJ(e.displayMonths,n),h=i??(l&&e.isDateDisplayed(l))?l:d,f=function(){c(i),a(void 0)},m=function(C){a(C)},v=Pt(),_=function(C,j){if(i){var y=vL(i,{moveBy:C,direction:j,context:v,modifiers:n});rr(i,y)||(e.goToDate(y,i),m(y))}},g={focusedDay:i,focusTarget:h,blur:f,focus:m,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return s.jsx(yL.Provider,{value:g,children:t.children})}function tb(){var t=p.useContext(yL);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function NJ(t,e){var n=xL(),r=eb(t,n,e);return r}var nb=p.createContext(void 0);function _J(t){if(!Yp(t.initialProps)){var e={selected:void 0};return s.jsx(nb.Provider,{value:e,children:t.children})}return s.jsx(SJ,{initialProps:t.initialProps,children:t.children})}function SJ(t){var e=t.initialProps,n=t.children,r=function(a,o,l){var c,d,h;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,a,o,l);return}(h=e.onSelect)===null||h===void 0||h.call(e,a,a,o,l)},i={selected:e.selected,onDayClick:r};return s.jsx(nb.Provider,{value:i,children:n})}function wL(){var t=p.useContext(nb);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function CJ(t,e){var n=Pt(),r=wL(),i=Xj(),a=Jj(),o=tb(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,f=o.blur,m=o.focus,v=o.focusMonthBefore,_=o.focusMonthAfter,g=o.focusYearBefore,C=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,x=function(z){var F,H,X,J;Yp(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,t,e,z):_h(n)?(H=i.onDayClick)===null||H===void 0||H.call(i,t,e,z):Sh(n)?(X=a.onDayClick)===null||X===void 0||X.call(a,t,e,z):(J=n.onDayClick)===null||J===void 0||J.call(n,t,e,z)},P=function(z){var F;m(t),(F=n.onDayFocus)===null||F===void 0||F.call(n,t,e,z)},D=function(z){var F;f(),(F=n.onDayBlur)===null||F===void 0||F.call(n,t,e,z)},O=function(z){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,t,e,z)},E=function(z){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,t,e,z)},b=function(z){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,t,e,z)},S=function(z){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,t,e,z)},R=function(z){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,t,e,z)},N=function(z){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,t,e,z)},T=function(z){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,t,e,z)},A=function(z){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,t,e,z)},L=function(z){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,t,e,z)},q=function(z){var F;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),d();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),h();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():v();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?C():_();break;case"Home":z.preventDefault(),z.stopPropagation(),j();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,t,e,z)},V={onClick:x,onFocus:P,onBlur:D,onKeyDown:q,onKeyUp:L,onMouseEnter:O,onMouseLeave:E,onPointerEnter:b,onPointerLeave:S,onTouchCancel:R,onTouchEnd:N,onTouchMove:T,onTouchStart:A};return V}function kJ(){var t=Pt(),e=wL(),n=Xj(),r=Jj(),i=Yp(t)?e.selected:_h(t)?n.selected:Sh(t)?r.selected:void 0;return i}function EJ(t){return Object.values(ps).includes(t)}function TJ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(EJ(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function PJ(t,e){var n=Ue({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Ue(Ue({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function AJ(t,e,n){var r,i,a,o=Pt(),l=tb(),c=NJ(t,e),d=CJ(t,c),h=kJ(),f=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var O;c.outside||l.focusedDay&&f&&rr(l.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,t,n,f,c.outside]);var m=TJ(o,c).join(" "),v=PJ(o,c),_=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:ZZ,C=s.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),j={style:v,className:m,children:C,role:"gridcell"},y=l.focusTarget&&rr(l.focusTarget,t)&&!c.outside,x=l.focusedDay&&rr(l.focusedDay,t),P=Ue(Ue(Ue({},j),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=x||y?0:-1,r)),d),D={isButton:f,isHidden:_,activeModifiers:c,selectedDays:h,buttonProps:P,divProps:j};return D}function IJ(t){var e=p.useRef(null),n=AJ(t.date,t.displayMonth,e);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Zm,Ue({name:"day",ref:e},n.buttonProps)):s.jsx("div",Ue({},n.divProps))}function RJ(t){var e=t.number,n=t.dates,r=Pt(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(e),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:h});var f=c(Number(e),{locale:l}),m=function(v){i(e,n,v)};return s.jsx(Zm,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:m,children:h})}function DJ(t){var e,n,r=Pt(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:IJ,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:RJ,h;return o&&(h=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:t.weekNumber,dates:t.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[h,t.dates.map(function(f){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:t.displayMonth,date:f})},XX(f))})]})}function E_(t,e,n){for(var r=n!=null&&n.ISOWeek?KO(e):qj(e,n),i=n!=null&&n.ISOWeek?Qo(t):Xs(t,n),a=Ms(r,i),o=[],l=0;l<=a;l++)o.push(Wn(i,l));var c=o.reduce(function(d,h){var f=n!=null&&n.ISOWeek?QO(h):XO(h,n),m=d.find(function(v){return v.weekNumber===f});return m?(m.dates.push(h),d):(d.push({weekNumber:f,dates:[h]}),d)},[]);return c}function MJ(t,e){var n=E_(or(t),Hj(t),e);if(e!=null&&e.useFixedWeeks){var r=JX(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=wy(a,6-r),l=E_(wy(a,1),o,e);n.push.apply(n,l)}}return n}function OJ(t){var e,n,r,i=Pt(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,h=i.components,f=i.weekStartsOn,m=i.firstWeekContainsDate,v=i.ISOWeek,_=MJ(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:v,locale:a,weekStartsOn:f,firstWeekContainsDate:m}),g=(e=h==null?void 0:h.Head)!==null&&e!==void 0?e:XZ,C=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:DJ,j=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:GZ;return s.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:_.map(function(y){return s.jsx(C,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(j,{displayMonth:t.displayMonth})]})}function LJ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var FJ=LJ()?p.useLayoutEffect:p.useEffect,Px=!1,$J=0;function T_(){return"react-day-picker-".concat(++$J)}function UJ(t){var e,n=t??(Px?T_():null),r=p.useState(n),i=r[0],a=r[1];return FJ(function(){i===null&&a(T_())},[]),p.useEffect(function(){Px===!1&&(Px=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function VJ(t){var e,n,r=Pt(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=Ch().displayMonths,d=UJ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[a.month],m=o.month,v=t.displayIndex===0,_=t.displayIndex===c.length-1,g=!v&&!_;i==="rtl"&&(e=[v,_],_=e[0],v=e[1]),v&&(f.push(a.caption_start),m=Ue(Ue({},m),o.caption_start)),_&&(f.push(a.caption_end),m=Ue(Ue({},m),o.caption_end)),g&&(f.push(a.caption_between),m=Ue(Ue({},m),o.caption_between));var C=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:KZ;return s.jsxs("div",{className:f.join(" "),style:m,children:[s.jsx(C,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(OJ,{id:h,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function zJ(t){var e=Pt(),n=e.classNames,r=e.styles;return s.jsx("div",{className:n.months,style:r.months,children:t.children})}function BJ(t){var e,n,r=t.initialProps,i=Pt(),a=tb(),o=Ch(),l=p.useState(!1),c=l[0],d=l[1];p.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var f=Ue(Ue({},i.styles.root),i.style),m=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,g){var C;return Ue(Ue({},_),(C={},C[g]=r[g],C))},{}),v=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:zJ;return s.jsx("div",Ue({className:h.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:s.jsx(v,{children:o.displayMonths.map(function(_,g){return s.jsx(VJ,{displayIndex:g,displayMonth:_},g)})})}))}function WJ(t){var e=t.children,n=mZ(t,["children"]);return s.jsx(RZ,{initialProps:n,children:s.jsx(BZ,{children:s.jsx(_J,{initialProps:n,children:s.jsx(JZ,{initialProps:n,children:s.jsx(nJ,{initialProps:n,children:s.jsx(dJ,{children:s.jsx(bJ,{children:e})})})})})})})}function HJ(t){return s.jsx(WJ,Ue({},t,{children:s.jsx(BJ,{initialProps:t})}))}function Ny({className:t,classNames:e,showOutsideDays:n=!0,...r}){return s.jsx(HJ,{showOutsideDays:n,className:ye("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ye(Wu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ye(Wu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...a})=>s.jsx(Ha,{className:ye("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(Hs,{className:ye("h-4 w-4",i),...a})},...r})}Ny.displayName="Calendar";function qJ(){const[t,e]=p.useState(!1),[n,r]=p.useState(void 0),[i,a]=p.useState(void 0),[o,l]=p.useState({from:"",to:"",limit:"50"}),[c,d]=p.useState({starting_after:"",ending_before:""}),f=(()=>{const N=new URLSearchParams;return o.limit&&N.append("limit",o.limit),o.from&&N.append("from",o.from),o.to&&N.append("to",o.to),c.starting_after&&N.append("starting_after",c.starting_after),c.ending_before&&N.append("ending_before",c.ending_before),N.toString()})(),{data:m,isLoading:v}=et({queryKey:["/api/admin/application-fees",f],queryFn:async()=>{const N=await fetch(`/api/admin/application-fees?${f}`);if(!N.ok)throw new Error("Failed to fetch fees");return N.json()}}),_=(m==null?void 0:m.data)||[],g=(m==null?void 0:m.has_more)||!1,C=_.reduce((N,T)=>N+(T.amount||0),0),j=new Date().getMonth(),y=new Date().getFullYear(),x=_.filter(N=>{const T=new Date(N.created*1e3);return T.getMonth()===j&&T.getFullYear()===y}).reduce((N,T)=>N+(T.amount||0),0),P=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N/100),D=N=>new Date(N*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=()=>{l({...o,from:n?es(n,"yyyy-MM-dd"):"",to:i?es(i,"yyyy-MM-dd"):""}),d({starting_after:"",ending_before:""})},E=()=>{r(void 0),a(void 0),l({from:"",to:"",limit:"50"}),d({starting_after:"",ending_before:""})},b=()=>{_.length>0&&d({starting_after:_[_.length-1].id,ending_before:""})},S=()=>{_.length>0&&d({starting_after:"",ending_before:_[0].id})},R=[o.from,o.to].filter(N=>N).length;return v?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading revenue..."})]})})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Revenue"}),s.jsx("p",{className:"text-muted-foreground",children:"Platform revenue from client transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Fees (Current View)"}),s.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-fees",children:P(C)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From current filter results"})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"This Month (Current View)"}),s.jsx(zP,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-fees",children:P(x)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(he,{className:"text-sm font-medium",children:"Total Transactions"}),s.jsx(Nc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(oe,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:_.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee transactions in current view"})]})]})]}),s.jsxs(ae,{className:"mb-6",children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"h-5 w-5"}),s.jsx(he,{children:"Filters"}),R>0&&s.jsxs(Be,{variant:"secondary",children:[R," active"]})]}),s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e(!t),"data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]})}),t&&s.jsxs(oe,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"From Date"}),s.jsxs(__,{children:[s.jsx(S_,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:ye("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),"data-testid":"button-from-date",children:[s.jsx(zl,{className:"mr-2 h-4 w-4"}),n?es(n,"PPP"):"Pick a date"]})}),s.jsx(by,{className:"w-auto p-0",align:"start",children:s.jsx(Ny,{mode:"single",selected:n,onSelect:r,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"To Date"}),s.jsxs(__,{children:[s.jsx(S_,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:ye("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),"data-testid":"button-to-date",children:[s.jsx(zl,{className:"mr-2 h-4 w-4"}),i?es(i,"PPP"):"Pick a date"]})}),s.jsx(by,{className:"w-auto p-0",align:"start",children:s.jsx(Ny,{mode:"single",selected:i,onSelect:a,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"limit-filter",children:"Results per page"}),s.jsxs(_n,{value:o.limit,onValueChange:N=>l({...o,limit:N}),children:[s.jsx(pn,{id:"limit-filter","data-testid":"select-limit-filter",children:s.jsx(Sn,{placeholder:"50"})}),s.jsxs(gn,{children:[s.jsx(se,{value:"10",children:"10"}),s.jsx(se,{value:"25",children:"25"}),s.jsx(se,{value:"50",children:"50"}),s.jsx(se,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ee,{onClick:O,"data-testid":"button-apply-filters",children:"Apply Filters"}),s.jsxs(ee,{variant:"outline",onClick:E,"data-testid":"button-clear-filters",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Revenue"}),s.jsx(Oe,{children:"List of platform fees collected from transactions"})]}),s.jsx(oe,{children:_.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No revenue found"}),R>0&&s.jsx(ee,{variant:"outline",onClick:E,className:"mt-4","data-testid":"button-clear-filters-empty",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Status"})]})}),s.jsx("tbody",{children:_.map(N=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-fee-${N.id}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:D(N.created)})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:P(N.amount)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Be,{variant:N.refunded?"destructive":"default",className:"text-xs",children:N.refunded?"Refunded":"Collected"})})]},N.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," ",_.length===1?"fee":"fees"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:S,disabled:!c.starting_after&&!c.ending_before,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:b,disabled:!g,"data-testid":"button-next-page",children:["Next",s.jsx(Hs,{className:"h-4 w-4 ml-1"})]})]})]})]})})]})]})})}const Oc=p.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Oc.displayName="Textarea";var jL="AlertDialog",[KJ,Mee]=lr(jL,[_O]),Li=_O(),bL=t=>{const{__scopeAlertDialog:e,...n}=t,r=Li(e);return s.jsx(UO,{...r,...n,modal:!0})};bL.displayName=jL;var GJ="AlertDialogTrigger",QJ=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Li(n);return s.jsx(VO,{...i,...r,ref:e})});QJ.displayName=GJ;var YJ="AlertDialogPortal",NL=t=>{const{__scopeAlertDialog:e,...n}=t,r=Li(e);return s.jsx(zO,{...r,...n})};NL.displayName=YJ;var XJ="AlertDialogOverlay",_L=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Li(n);return s.jsx(Fj,{...i,...r,ref:e})});_L.displayName=XJ;var tc="AlertDialogContent",[ZJ,JJ]=KJ(tc),eee=uP("AlertDialogContent"),SL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=Li(n),o=p.useRef(null),l=st(e,o),c=p.useRef(null);return s.jsx(TY,{contentName:tc,titleName:CL,docsSlug:"alert-dialog",children:s.jsx(ZJ,{scope:n,cancelRef:c,children:s.jsxs($j,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:pe(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(eee,{children:r}),s.jsx(nee,{contentRef:o})]})})})});SL.displayName=tc;var CL="AlertDialogTitle",kL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Li(n);return s.jsx(Uj,{...i,...r,ref:e})});kL.displayName=CL;var EL="AlertDialogDescription",TL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Li(n);return s.jsx(Vj,{...i,...r,ref:e})});TL.displayName=EL;var tee="AlertDialogAction",PL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Li(n);return s.jsx(zj,{...i,...r,ref:e})});PL.displayName=tee;var AL="AlertDialogCancel",IL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=JJ(AL,n),a=Li(n),o=st(e,i);return s.jsx(zj,{...a,...r,ref:o})});IL.displayName=AL;var nee=({contentRef:t})=>{const e=`\`${tc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tc}\` by passing a \`${EL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ree=bL,see=NL,RL=_L,DL=SL,ML=PL,OL=IL,LL=kL,FL=TL;const rb=ree,iee=see,$L=p.forwardRef(({className:t,...e},n)=>s.jsx(RL,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$L.displayName=RL.displayName;const Xp=p.forwardRef(({className:t,...e},n)=>s.jsxs(iee,{children:[s.jsx($L,{}),s.jsx(DL,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Xp.displayName=DL.displayName;const Zp=({className:t,...e})=>s.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});Zp.displayName="AlertDialogHeader";const Jp=({className:t,...e})=>s.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Jp.displayName="AlertDialogFooter";const eg=p.forwardRef(({className:t,...e},n)=>s.jsx(LL,{ref:n,className:ye("text-lg font-semibold",t),...e}));eg.displayName=LL.displayName;const tg=p.forwardRef(({className:t,...e},n)=>s.jsx(FL,{ref:n,className:ye("text-sm text-muted-foreground",t),...e}));tg.displayName=FL.displayName;const ng=p.forwardRef(({className:t,...e},n)=>s.jsx(ML,{ref:n,className:ye(Wu(),t),...e}));ng.displayName=ML.displayName;const rg=p.forwardRef(({className:t,...e},n)=>s.jsx(OL,{ref:n,className:ye(Wu({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));rg.displayName=OL.displayName;function aee(){var me,ue,ke;const[t,e]=p.useState(1),[n,r]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[h,f]=p.useState(!1),[m,v]=p.useState(""),[_,g]=p.useState(null),[C,j]=p.useState(null),[y,x]=p.useState(!1),[P,D]=p.useState(null),[O,E]=p.useState(""),[b,S]=p.useState(!1),[R,N]=p.useState(null),[T,A]=p.useState(""),[L,q]=p.useState(null),[V,z]=p.useState(!1),[F,H]=p.useState(null),[X,J]=p.useState(""),{toast:W}=En(),ge=10,ut=(()=>{const Z=new URLSearchParams;return Z.append("limit",ge.toString()),Z.append("page",t.toString()),n&&Z.append("title",n),Z.toString()})(),{data:Le,isLoading:Ce}=et({queryKey:["/api/admin/categories",ut],queryFn:async()=>{const Z=await fetch(`/api/admin/categories?${ut}`);if(!Z.ok)throw new Error("Failed to fetch categories");return Z.json()}}),ze=((me=Le==null?void 0:Le.data)==null?void 0:me.categories)||[],We=((ue=Le==null?void 0:Le.data)==null?void 0:ue.pages)||1,K=((ke=Le==null?void 0:Le.data)==null?void 0:ke.totalDoc)||0,be=()=>{r(i),e(1)},Ae=()=>{a(""),r(""),e(1)},He=Ot({mutationFn:async Z=>gt("POST","/api/admin/categories/bulk",{names:Z}),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories"]}),W({title:"Success",description:"Categories imported successfully"}),l(""),d(!1)},onError:Z=>{W({title:"Error",description:Z.message||"Failed to import categories",variant:"destructive"})}}),_t=()=>{const Z=o.split(`
`).map(De=>De.trim()).filter(De=>De.length>0);if(Z.length===0){W({title:"Error",description:"Please enter at least one category name",variant:"destructive"});return}He.mutate(Z)},jt=Ot({mutationFn:async({name:Z,icon:De})=>{console.log("Starting category mutation with name:",Z,"icon:",De==null?void 0:De.name);const St=new FormData;St.append("name",Z),De&&St.append("images",De),console.log("Sending request to /api/admin/categories");try{const Tn=await fetch("/api/admin/categories",{method:"POST",body:St});if(console.log("Response received:",Tn.status,Tn.statusText),!Tn.ok){const Fr=await Tn.json();throw new Error(Fr.error||"Failed to add category")}const Pn=await Tn.json();return console.log("Success data:",Pn),Pn}catch(Tn){throw console.error("Fetch error:",Tn),Tn}},onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories"]}),W({title:"Success",description:"Category added successfully"}),v(""),g(null),f(!1)},onError:Z=>{W({title:"Error",description:Z.message||"Failed to add category",variant:"destructive"})}}),vn=()=>{if(!m.trim()){W({title:"Error",description:"Please enter a category name",variant:"destructive"});return}jt.mutate({name:m,icon:_})},yn=Ot({mutationFn:async Z=>gt("DELETE",`/api/admin/categories/${Z}`),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories"]}),W({title:"Success",description:"Category deleted successfully"}),j(null)},onError:Z=>{W({title:"Error",description:Z.message||"Failed to delete category",variant:"destructive"})}}),xs=()=>{C&&yn.mutate(C)},bt=Ot({mutationFn:async({id:Z,name:De,icon:St})=>{const Tn=new FormData;Tn.append("name",De),St&&Tn.append("images",St);const Pn=await fetch(`/api/admin/categories/${Z}`,{method:"PUT",body:Tn});if(!Pn.ok){const Fr=await Pn.json();throw new Error(Fr.error||"Failed to update category")}return Pn.json()},onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories"]}),W({title:"Success",description:"Category updated successfully"}),S(!1),N(null),A(""),q(null)},onError:Z=>{W({title:"Error",description:Z.message||"Failed to update category",variant:"destructive"})}}),dn=()=>{if(!R||!T.trim()){W({title:"Error",description:"Please enter a category name",variant:"destructive"});return}bt.mutate({id:R._id,name:T,icon:L})},ni=Z=>{N(Z),A(Z.name),q(null),S(!0)},$=Ot({mutationFn:async({categoryId:Z,parentId:De})=>gt("PUT",`/api/admin/categories/${Z}/convert`,{targetType:"child",parentId:De}),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories"]}),W({title:"Success",description:"Category converted to subcategory successfully"}),z(!1),H(null),J("")},onError:Z=>{W({title:"Error",description:Z.message||"Failed to convert category",variant:"destructive"})}}),Q=()=>{if(!F||!X){W({title:"Error",description:"Please select a parent category",variant:"destructive"});return}if(F._id===X){W({title:"Error",description:"Cannot convert a category to be its own subcategory",variant:"destructive"});return}$.mutate({categoryId:F._id,parentId:X})},te=Ot({mutationFn:async({categoryId:Z,names:De})=>gt("POST",`/api/admin/categories/${Z}/subcategories/bulk`,{names:De}),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories"]}),W({title:"Success",description:"Subcategories imported successfully"}),E(""),x(!1),D(null)},onError:Z=>{W({title:"Error",description:Z.message||"Failed to import subcategories",variant:"destructive"})}}),we=()=>{if(!P)return;const Z=O.split(`
`).map(De=>De.trim()).filter(De=>De.length>0);if(Z.length===0){W({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}te.mutate({categoryId:P.id,names:Z})};return Ce?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]})})}):s.jsxs(Ge,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage product categories"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search categories by name...",value:i,onChange:Z=>a(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&be(),className:"pl-10","data-testid":"input-search-categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{onClick:be,"data-testid":"button-search",children:"Search"}),n&&s.jsx(ee,{variant:"outline",onClick:Ae,"data-testid":"button-clear-search",children:"Clear"}),s.jsxs(pi,{open:h,onOpenChange:f,children:[s.jsx(Ym,{asChild:!0,children:s.jsxs(ee,{"data-testid":"button-add-category",children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Add New Category"}),s.jsx(ia,{children:"Create a new category with an optional icon image."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"category-name",children:"Category Name"}),s.jsx(Ne,{id:"category-name",placeholder:"Enter category name",value:m,onChange:Z=>v(Z.target.value),"data-testid":"input-category-name"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"category-icon",children:"Category Icon (Optional)"}),s.jsx(Ne,{id:"category-icon",type:"file",accept:"image/*",onChange:Z=>{var De;return g(((De=Z.target.files)==null?void 0:De[0])||null)},"data-testid":"input-category-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>{f(!1),v(""),g(null)},"data-testid":"button-cancel-add-category",children:"Cancel"}),s.jsx(ee,{onClick:vn,disabled:jt.isPending,"data-testid":"button-submit-add-category",children:jt.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(pi,{open:c,onOpenChange:d,children:[s.jsx(Ym,{asChild:!0,children:s.jsxs(ee,{variant:"outline","data-testid":"button-bulk-import",children:[s.jsx(Rw,{className:"h-4 w-4 mr-2"}),"Bulk Import"]})}),s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Bulk Import Categories"}),s.jsx(ia,{children:"Enter category names, one per line. They will be added to the system."})]}),s.jsx(Oc,{placeholder:`Category 1
Category 2
Category 3`,value:o,onChange:Z=>l(Z.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-import",children:"Cancel"}),s.jsx(ee,{onClick:_t,disabled:He.isPending,"data-testid":"button-submit-import",children:He.isPending?"Importing...":"Import"})]})]})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"All Categories"}),s.jsx(Oe,{children:"Product categories in the platform"})]}),s.jsx(oe,{children:ze.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Subcategories"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:ze.map(Z=>{var De;return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-category-${Z._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:Z.icon?s.jsx("img",{src:`https://api.iconaapp.com/${Z.icon}`,alt:Z.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-category-${Z._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Gd,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Ul,{href:`/admin/categories/${Z._id}/subcategories`,children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("span",{className:"font-medium text-foreground group-hover:text-primary transition-colors","data-testid":`text-category-name-${Z._id}`,children:Z.name}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:Z.type||"N/A"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:((De=Z.subCategories)==null?void 0:De.length)||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm","data-testid":`button-actions-${Z._id}`,children:s.jsx(Bc,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[s.jsxs(fn,{onClick:()=>ni(Z),"data-testid":`button-edit-category-${Z._id}`,children:[s.jsx(l9,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(fn,{onClick:()=>{D({id:Z._id,name:Z.name}),x(!0)},"data-testid":`button-add-subcategories-${Z._id}`,children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Add Subcategories"]}),s.jsxs(fn,{onClick:()=>{H(Z),z(!0)},"data-testid":`button-convert-to-child-${Z._id}`,children:[s.jsx(B$,{className:"h-4 w-4 mr-2"}),"Convert to Subcategory"]}),s.jsx(Di,{}),s.jsxs(fn,{onClick:()=>j(Z._id),"data-testid":`button-delete-category-${Z._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Iw,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},Z._id)})})]})})})]}),ze.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",We," (",K," total categories)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>e(Z=>Math.max(1,Z-1)),disabled:t===1,"data-testid":"button-prev-page",children:[s.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>e(Z=>Z+1),disabled:t>=We,"data-testid":"button-next-page",children:["Next",s.jsx(Hs,{className:"h-4 w-4 ml-1"})]})]})]})]}),s.jsx(pi,{open:V,onOpenChange:Z=>{z(Z),Z||(H(null),J(""))},children:s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Convert to Subcategory"}),s.jsxs(ia,{children:['Convert "',F==null?void 0:F.name,'" to a subcategory by selecting its parent category.']})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"parent-category",children:"Parent Category"}),s.jsxs(_n,{value:X,onValueChange:J,children:[s.jsx(pn,{id:"parent-category","data-testid":"select-parent-category",children:s.jsx(Sn,{placeholder:"Select a parent category"})}),s.jsx(gn,{children:ze.filter(Z=>Z._id!==(F==null?void 0:F._id)).map(Z=>s.jsx(se,{value:Z._id,children:Z.name},Z._id))})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>{z(!1),H(null),J("")},"data-testid":"button-cancel-convert",children:"Cancel"}),s.jsx(ee,{onClick:Q,disabled:$.isPending,"data-testid":"button-submit-convert",children:$.isPending?"Converting...":"Convert"})]})]})}),s.jsx(pi,{open:b,onOpenChange:Z=>{S(Z),Z||(N(null),A(""),q(null))},children:s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Edit Category"}),s.jsx(ia,{children:"Update the category name and icon."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"edit-category-name",children:"Category Name"}),s.jsx(Ne,{id:"edit-category-name",placeholder:"Enter category name",value:T,onChange:Z=>A(Z.target.value),"data-testid":"input-edit-category-name"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"edit-category-icon",children:"Category Icon (Optional)"}),s.jsx(Ne,{id:"edit-category-icon",type:"file",accept:"image/*",onChange:Z=>{var De;return q(((De=Z.target.files)==null?void 0:De[0])||null)},"data-testid":"input-edit-category-icon"}),(R==null?void 0:R.icon)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Icon:"}),s.jsx("img",{src:`https://api.iconaapp.com/${R.icon}`,alt:R.name,className:"w-16 h-16 object-cover rounded-md"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>{S(!1),N(null),A(""),q(null)},"data-testid":"button-cancel-edit-category",children:"Cancel"}),s.jsx(ee,{onClick:dn,disabled:bt.isPending,"data-testid":"button-submit-edit-category",children:bt.isPending?"Updating...":"Update"})]})]})}),s.jsx(pi,{open:y,onOpenChange:x,children:s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Bulk Import Subcategories"}),s.jsxs(ia,{children:["Add subcategories to ",P==null?void 0:P.name,". Enter one subcategory name per line."]})]}),s.jsx(Oc,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:O,onChange:Z=>E(Z.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories-from-categories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>{x(!1),E(""),D(null)},"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(ee,{onClick:we,disabled:te.isPending,"data-testid":"button-submit-import-subcategories",children:te.isPending?"Importing...":"Import"})]})]})}),s.jsx(rb,{open:!!C,onOpenChange:Z=>!Z&&j(null),children:s.jsxs(Xp,{children:[s.jsxs(Zp,{children:[s.jsx(eg,{children:"Delete Category"}),s.jsx(tg,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),s.jsxs(Jp,{children:[s.jsx(rg,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(ng,{onClick:xs,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:yn.isPending?"Deleting...":"Delete"})]})]})})]})}function oee(){Zt();const[,t]=Jo("/admin/categories/:categoryId/subcategories"),e=t==null?void 0:t.categoryId,[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(""),[h,f]=p.useState(null),[m,v]=p.useState(null),{toast:_}=En(),{data:g,isLoading:C}=et({queryKey:["/api/admin/categories",e],queryFn:async()=>{const N=await fetch(`/api/admin/categories/${e}`);if(!N.ok)throw new Error("Failed to fetch category");return N.json()},enabled:!!e}),j=g==null?void 0:g.data,y=(j==null?void 0:j.subCategories)||[],x=Ot({mutationFn:async N=>gt("POST",`/api/admin/categories/${e}/subcategories/bulk`,{names:N}),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories",e]}),yt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategories imported successfully"}),r(""),a(!1)},onError:N=>{_({title:"Error",description:N.message||"Failed to import subcategories",variant:"destructive"})}}),P=()=>{const N=n.split(`
`).map(T=>T.trim()).filter(T=>T.length>0);if(N.length===0){_({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}x.mutate(N)},D=Ot({mutationFn:async({name:N,icon:T,parentId:A})=>{const L=new FormData;L.append("name",N),L.append("category",A),L.append("type","child"),T&&L.append("images",T);const q=await fetch("/api/admin/subcategories",{method:"POST",body:L});if(!q.ok){const V=await q.json();throw new Error(V.error||"Failed to add subcategory")}return q.json()},onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories",e]}),yt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategory added successfully"}),d(""),f(null),l(!1)},onError:N=>{_({title:"Error",description:N.message||"Failed to add subcategory",variant:"destructive"})}}),O=()=>{if(!c.trim()){_({title:"Error",description:"Please enter a subcategory name",variant:"destructive"});return}if(!e){_({title:"Error",description:"Category ID is missing",variant:"destructive"});return}D.mutate({name:c,icon:h,parentId:e})},E=Ot({mutationFn:async N=>gt("DELETE",`/api/admin/subcategories/${N}`),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories",e]}),yt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategory deleted successfully"}),v(null)},onError:N=>{_({title:"Error",description:N.message||"Failed to delete subcategory",variant:"destructive"})}}),b=()=>{m&&E.mutate(m)},S=Ot({mutationFn:async N=>gt("PUT",`/api/admin/categories/${N}/convert`,{targetType:"parent"}),onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/categories",e]}),yt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategory converted to parent category successfully"})},onError:N=>{_({title:"Error",description:N.message||"Failed to convert subcategory",variant:"destructive"})}}),R=N=>{S.mutate(N)};return C?s.jsx(Ge,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading subcategories..."})]})})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Ul,{href:"/admin/categories",children:s.jsxs(ee,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-to-categories",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[j!=null&&j.icon?s.jsx("img",{src:`https://api.iconaapp.com/${j.icon}`,alt:j.name,className:"w-20 h-20 object-cover rounded-lg"}):s.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:s.jsx(Gd,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:(j==null?void 0:j.name)||"Category"}),s.jsxs("p",{className:"text-muted-foreground",children:[y.length," subcategorie",y.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"mb-6 flex justify-end gap-2",children:[s.jsxs(pi,{open:o,onOpenChange:l,children:[s.jsx(Ym,{asChild:!0,children:s.jsxs(ee,{"data-testid":"button-add-subcategory",children:[s.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]})}),s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Add New Subcategory"}),s.jsxs(ia,{children:["Create a new subcategory under ",j==null?void 0:j.name," with an optional icon image."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"subcategory-name",children:"Subcategory Name"}),s.jsx(Ne,{id:"subcategory-name",placeholder:"Enter subcategory name",value:c,onChange:N=>d(N.target.value),"data-testid":"input-subcategory-name"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"subcategory-icon",children:"Subcategory Icon (Optional)"}),s.jsx(Ne,{id:"subcategory-icon",type:"file",accept:"image/*",onChange:N=>{var T;return f(((T=N.target.files)==null?void 0:T[0])||null)},"data-testid":"input-subcategory-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>{l(!1),d(""),f(null)},"data-testid":"button-cancel-add-subcategory",children:"Cancel"}),s.jsx(ee,{onClick:O,disabled:D.isPending,"data-testid":"button-submit-add-subcategory",children:D.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(pi,{open:i,onOpenChange:a,children:[s.jsx(Ym,{asChild:!0,children:s.jsxs(ee,{variant:"outline","data-testid":"button-bulk-import-subcategories",children:[s.jsx(Rw,{className:"h-4 w-4 mr-2"}),"Bulk Import Subcategories"]})}),s.jsxs(Ps,{children:[s.jsxs(As,{children:[s.jsx(Is,{children:"Bulk Import Subcategories"}),s.jsxs(ia,{children:["Enter subcategory names, one per line. They will be added to ",j==null?void 0:j.name,"."]})]}),s.jsx(Oc,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:n,onChange:N=>r(N.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(ee,{onClick:P,disabled:x.isPending,"data-testid":"button-submit-import-subcategories",children:x.isPending?"Importing...":"Import"})]})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Subcategories"}),s.jsxs(Oe,{children:["All subcategories under ",j==null?void 0:j.name]})]}),s.jsx(oe,{children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No subcategories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Followers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Viewers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:y.map(N=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-subcategory-${N._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:N.icon?s.jsx("img",{src:`https://api.iconaapp.com/${N.icon}`,alt:N.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-subcategory-${N._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Gd,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-subcategory-name-${N._id}`,children:N.name})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:N.followersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:N.viewersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(ol,{children:[s.jsx(ll,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"sm","data-testid":`button-actions-${N._id}`,children:s.jsx(Bc,{className:"h-4 w-4"})})}),s.jsxs(Ya,{align:"end",children:[s.jsxs(fn,{onClick:()=>R(N._id),"data-testid":`button-convert-to-parent-${N._id}`,children:[s.jsx(W$,{className:"h-4 w-4 mr-2"}),"Convert to Parent"]}),s.jsx(Di,{}),s.jsxs(fn,{onClick:()=>v(N._id),"data-testid":`button-delete-subcategory-${N._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(Iw,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},N._id))})]})})})]}),s.jsx(rb,{open:!!m,onOpenChange:N=>!N&&v(null),children:s.jsxs(Xp,{children:[s.jsxs(Zp,{children:[s.jsx(eg,{children:"Delete Subcategory"}),s.jsx(tg,{children:"Are you sure you want to delete this subcategory? This action cannot be undone."})]}),s.jsxs(Jp,{children:[s.jsx(rg,{"data-testid":"button-cancel-delete-subcategory",children:"Cancel"}),s.jsx(ng,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete-subcategory",children:E.isPending?"Deleting...":"Delete"})]})]})})]})})}function lee(){var D,O;const[,t]=Zt(),[e,n]=p.useState(1),[r,i]=p.useState("all"),[a,o]=p.useState(""),[l,c]=p.useState(!1),d=10,h=new URLSearchParams;h.append("page",e.toString()),h.append("limit",d.toString()),r!=="all"&&h.append("status",r);const{data:f,isLoading:m}=et({queryKey:["/api/admin/disputes",e,r],queryFn:async()=>{const E=await fetch(`/api/admin/disputes?${h.toString()}`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch disputes");return await E.json()}}),_=(((D=f==null?void 0:f.data)==null?void 0:D.disputes)||(f==null?void 0:f.data)||[]).filter(E=>E.orderId&&E.orderId._id),g=((O=f==null?void 0:f.data)==null?void 0:O.pages)||1,C=_.filter(E=>{var T,A,L,q,V;if(!a)return!0;const b=a.toLowerCase(),S=((A=(T=E.userId)==null?void 0:T.userName)==null?void 0:A.toLowerCase())||"",R=((q=(L=E.orderId)==null?void 0:L._id)==null?void 0:q.toLowerCase())||"",N=((V=E.reason)==null?void 0:V.toLowerCase())||"";return S.includes(b)||R.includes(b)||N.includes(b)}),j=E=>{switch(E==null?void 0:E.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},y=E=>{var b;return((b=E==null?void 0:E.replace(/_/g," "))==null?void 0:b.replace(/\b\w/g,S=>S.toUpperCase()))||"N/A"},x=()=>{o(""),i("all"),n(1)},P=a||r!=="all";return m?s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]}),s.jsx(ae,{children:s.jsx(oe,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading disputes..."})]})})})]})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Bl,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]})]})}),s.jsxs(ae,{className:"mb-6",children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(he,{children:"Filters"})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>c(!l),"data-testid":"button-toggle-filters",children:l?"Hide":"Show"})]})}),l&&s.jsx(oe,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"User, Order ID, Reason...",value:a,onChange:E=>o(E.target.value),className:"pl-10","data-testid":"input-search-disputes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),s.jsxs(_n,{value:r,onValueChange:i,children:[s.jsx(pn,{"data-testid":"select-status-filter",children:s.jsx(Sn,{})}),s.jsxs(gn,{children:[s.jsx(se,{value:"all",children:"All Statuses"}),s.jsx(se,{value:"submitted",children:"Submitted"}),s.jsx(se,{value:"under_review",children:"Under Review"}),s.jsx(se,{value:"resolved",children:"Resolved"}),s.jsx(se,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"flex items-end",children:P&&s.jsxs(ee,{variant:"outline",onClick:x,className:"w-full","data-testid":"button-clear-filters",children:[s.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{children:["All Disputes (",C.length,")"]}),s.jsx(Oe,{children:"Click on a dispute to view details and resolve"})]}),s.jsxs(oe,{children:[C.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No disputes found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Order ID"}),s.jsx(ne,{children:"User"}),s.jsx(ne,{children:"Reason"}),s.jsx(ne,{children:"Status"}),s.jsx(ne,{children:"Order Total"}),s.jsx(ne,{children:"Actions"})]})}),s.jsx(an,{children:C.map(E=>{var T,A,L,q,V,z,F,H,X,J;const b=((A=(T=E.orderId)==null?void 0:T.items)==null?void 0:A.reduce((W,ge)=>W+(ge.price||0),0))||0,S=((L=E.orderId)==null?void 0:L.tax)||0,R=((q=E.orderId)==null?void 0:q.shipping_fee)||0,N=b+S+R;return s.jsxs(nt,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-dispute-${E._id}`,children:[s.jsxs(re,{className:"font-mono text-sm",children:[(z=(V=E.orderId)==null?void 0:V._id)==null?void 0:z.substring(0,8),"..."]}),s.jsx(re,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:((H=(F=E.userId)==null?void 0:F.userName)==null?void 0:H.charAt(0).toUpperCase())||"U"})}),s.jsx("span",{children:((X=E.userId)==null?void 0:X.userName)||"Unknown"})]})}),s.jsx(re,{children:y(E.reason)}),s.jsx(re,{children:s.jsx(Be,{variant:j(E.status),children:((J=E.status)==null?void 0:J.replace(/_/g," "))||"Unknown"})}),s.jsxs(re,{className:"font-medium",children:["$",N.toFixed(2)]}),s.jsx(re,{children:s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>{var W;return t(`/admin/disputes/${(W=E.orderId)==null?void 0:W._id}`)},"data-testid":`button-view-dispute-${E._id}`,children:[s.jsx(Ia,{className:"h-4 w-4 mr-2"}),"View"]})})]},E._id)})})]})}),C.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",e," of ",g]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>n(E=>Math.max(1,E-1)),disabled:e===1,"data-testid":"button-prev-page",children:"Previous"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>n(E=>E+1),disabled:e>=g,"data-testid":"button-next-page",children:"Next"})]})]})]})]})]})})}var cee="Separator",P_="horizontal",dee=["horizontal","vertical"],UL=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=P_,...i}=t,a=uee(r)?r:P_,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Re.div,{"data-orientation":a,...l,...i,ref:e})});UL.displayName=cee;function uee(t){return dee.includes(t)}var VL=UL;const co=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(VL,{ref:i,decorative:n,orientation:e,className:ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));co.displayName=VL.displayName;function hee(){var b,S,R,N,T,A,L,q,V,z,F,H,X;const[,t]=Jo("/admin/disputes/:disputeId"),[,e]=Zt(),{toast:n}=En(),r=t==null?void 0:t.disputeId,[i,a]=p.useState(""),[o,l]=p.useState(!1),[c,d]=p.useState(null),{data:h,isLoading:f}=et({queryKey:["/api/admin/disputes",r],queryFn:async()=>{const J=await fetch(`/api/admin/disputes/${r}`,{credentials:"include"});if(!J.ok)throw new Error("Failed to fetch dispute");return await J.json()},enabled:!!r}),m=h==null?void 0:h.data,v=Ot({mutationFn:async({decision:J})=>{if(!m||!m.orderId)throw new Error("Dispute data not available");let W;if(J==="buyer"?W=m.orderId.customer||"":W=m.orderId.seller||"",!W)throw new Error(`Could not find ${J} ID in order data`);return gt("POST",`/api/admin/disputes/${m._id}/resolve`,{favored:W,final_comments:i})},onSuccess:()=>{yt.invalidateQueries({queryKey:["/api/admin/disputes"]}),n({title:"Success",description:"Dispute resolved successfully"}),e("/admin/disputes")},onError:J=>{n({title:"Error",description:J.message||"Failed to resolve dispute",variant:"destructive"})}}),_=J=>{d(J),l(!0)},g=()=>{c&&(v.mutate({decision:c}),l(!1))},C=J=>{switch(J==null?void 0:J.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},j=J=>{var W;return((W=J==null?void 0:J.replace(/_/g," "))==null?void 0:W.replace(/\b\w/g,ge=>ge.toUpperCase()))||"N/A"},y=J=>J?new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(f)return s.jsx(Ge,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading dispute..."})]})})});if(!m)return s.jsx(Ge,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Bl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Dispute not found"}),s.jsxs(ee,{variant:"outline",className:"mt-4",onClick:()=>e("/admin/disputes"),"data-testid":"button-back-to-disputes",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]})]})})});const x=((S=(b=m.orderId)==null?void 0:b.items)==null?void 0:S.reduce((J,W)=>J+(W.price||0)*(W.quantity||1),0))||0,P=((R=m.orderId)==null?void 0:R.tax)||0,D=((N=m.orderId)==null?void 0:N.shipping_fee)||0,O=x+P+D,E=((T=m.status)==null?void 0:T.toLowerCase())==="resolved";return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>e("/admin/disputes"),className:"mb-4","data-testid":"button-back",children:[s.jsx(ki,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Bl,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dispute Resolution"}),s.jsxs("p",{className:"text-muted-foreground",children:["Case ID: ",m._id]})]})]}),s.jsx(Be,{variant:C(m.status),className:"text-sm",children:(A=m.status)==null?void 0:A.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(Bl,{className:"h-5 w-5"}),"Dispute Details"]})}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Reason"}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:j(m.reason)})]}),s.jsx(co,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer's Statement"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:m.details||"No details provided"})]}),m.seller_response&&s.jsxs(s.Fragment,{children:[s.jsx(co,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Seller's Response"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:m.seller_response})]})]}),s.jsx(co,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Submitted On"}),s.jsx("p",{className:"mt-1",children:y(m.createdAt)})]})]})]}),s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"h-5 w-5"}),"Order Details"]}),s.jsxs(Oe,{children:["Order ID: ",(L=m.orderId)==null?void 0:L._id]})]}),s.jsx(oe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:"Items"}),s.jsx("div",{className:"space-y-3",children:(V=(q=m.orderId)==null?void 0:q.items)==null?void 0:V.map((J,W)=>{var ge,fe,ut,Le;return s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border rounded-lg","data-testid":`item-${J._id}`,children:[(fe=(ge=J.productId)==null?void 0:ge.images)!=null&&fe[0]?s.jsx("img",{src:`https://api.iconaapp.com/${J.productId.images[0]}`,alt:J.productId.name,className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:s.jsx(Yt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((ut=J.productId)==null?void 0:ut.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",J.quantity||1]}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:["$",(Le=J.price)==null?void 0:Le.toFixed(2)]})]})]},J._id||W)})})]}),s.jsx(co,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",x.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",P.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{children:["$",D.toFixed(2)]})]}),s.jsx(co,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",O.toFixed(2)]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center gap-2 text-base",children:[s.jsx(wr,{className:"h-4 w-4"}),"Customer"]})}),s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-primary",children:((F=(z=m.userId)==null?void 0:z.userName)==null?void 0:F.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((H=m.userId)==null?void 0:H.userName)||"Unknown"}),((X=m.userId)==null?void 0:X.email)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:m.userId.email})]})]})})]}),!E&&s.jsxs(ae,{className:"border-primary/50",children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2 text-base",children:[s.jsx(o9,{className:"h-4 w-4"}),"Resolve Dispute"]}),s.jsx(Oe,{children:"Rule in favor of one party"})]}),s.jsxs(oe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Admin Notes (Optional)"}),s.jsx(Oc,{placeholder:"Add any notes about your decision...",value:i,onChange:J=>a(J.target.value),rows:4,"data-testid":"textarea-admin-notes"})]}),s.jsx(co,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ee,{className:"w-full",variant:"default",size:"lg",onClick:()=>_("buyer"),disabled:v.isPending,"data-testid":"button-favor-buyer",children:[s.jsx(NN,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Buyer"]}),s.jsxs(ee,{className:"w-full",variant:"outline",size:"lg",onClick:()=>_("seller"),disabled:v.isPending,"data-testid":"button-favor-seller",children:[s.jsx(G$,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Seller"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"This action cannot be undone. The appropriate party will be refunded or compensated."})]})]}),E&&s.jsxs(ae,{className:"border-green-500/50 bg-green-500/5",children:[s.jsx(ce,{children:s.jsxs(he,{className:"flex items-center gap-2 text-base text-green-700 dark:text-green-400",children:[s.jsx(NN,{className:"h-4 w-4"}),"Dispute Resolved"]})}),s.jsx(oe,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"This dispute has been resolved and closed."})})]})]})]}),s.jsx(rb,{open:o,onOpenChange:l,children:s.jsxs(Xp,{children:[s.jsxs(Zp,{children:[s.jsx(eg,{children:"Confirm Resolution"}),s.jsxs(tg,{children:["Are you sure you want to rule in favor of the ",c==="buyer"?"buyer":"seller","?",c==="buyer"&&" The buyer will be refunded.",c==="seller"&&" The seller will keep the payment.","This action cannot be undone."]})]}),s.jsxs(Jp,{children:[s.jsx(rg,{"data-testid":"button-cancel-resolve",children:"Cancel"}),s.jsx(ng,{onClick:g,disabled:v.isPending,"data-testid":"button-confirm-resolve",children:v.isPending?"Resolving...":"Confirm"})]})]})})]})})}function fee(){var j,y;const[t,e]=p.useState(1),[n,r]=p.useState("");p.useState(!1);const{toast:i}=En(),a=10,{data:o,isLoading:l}=et({queryKey:["/api/admin/reported-cases",t],queryFn:async()=>{const x=await fetch(`/api/admin/reported-cases?page=${t}&limit=${a}`,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch reported cases");return await x.json()}}),c=Array.isArray((j=o==null?void 0:o.data)==null?void 0:j.data)?o.data.data:Array.isArray(o==null?void 0:o.data)?o.data:[],d=((y=o==null?void 0:o.data)==null?void 0:y.totalPages)||1,h=Ot({mutationFn:async({userId:x,blocked:P})=>gt("PATCH",`/api/admin/users/${x}/block`,{blocked:P}),onSuccess:(x,P)=>{yt.invalidateQueries({queryKey:["/api/admin/reported-cases"]}),i({title:"Success",description:`User ${P.blocked?"blocked":"unblocked"} successfully`})},onError:(x,P)=>{i({title:"Error",description:x.message||`Failed to ${P.blocked?"block":"unblock"} user`,variant:"destructive"})}}),f=c.filter(x=>{var S,R,N,T,A,L;if(!n)return!0;const P=n.toLowerCase(),D=((R=(S=x.reported)==null?void 0:S.userName)==null?void 0:R.toLowerCase())||"",O=((T=(N=x.reported_by)==null?void 0:N.userName)==null?void 0:T.toLowerCase())||"",E=((A=x.reason)==null?void 0:A.toLowerCase())||"",b=((L=x.description)==null?void 0:L.toLowerCase())||"";return D.includes(P)||O.includes(P)||E.includes(P)||b.includes(P)}),m=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",v=x=>{switch(x==null?void 0:x.toLowerCase()){case"resolved":return"default";case"pending":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},_=x=>{var P;return((P=x==null?void 0:x.replace(/_/g," "))==null?void 0:P.replace(/\b\w/g,D=>D.toUpperCase()))||"N/A"},g=()=>{r(""),e(1)},C=n;return l?s.jsx(Ge,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading reported cases..."})})})}):s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(zv,{className:"h-8 w-8"}),"Reported Cases"]}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-page-description",children:"Review and manage user-reported cases"})]})}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx(he,{children:"All Reported Cases"}),s.jsxs(Oe,{children:[f.length," ",f.length===1?"case":"cases"," found"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1 sm:w-64",children:[s.jsx(Zs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Ne,{placeholder:"Search by user, reason...",value:n,onChange:x=>r(x.target.value),className:"pl-8","data-testid":"input-search"})]}),C&&s.jsxs(ee,{variant:"outline",onClick:g,className:"gap-2","data-testid":"button-clear-filters",children:[s.jsx(Lr,{className:"h-4 w-4"}),"Clear"]})]})]})}),s.jsx(oe,{children:f.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(zv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-cases",children:n?"No cases match your search criteria":"No reported cases found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(rn,{children:[s.jsx(sn,{children:s.jsxs(nt,{children:[s.jsx(ne,{children:"Case ID"}),s.jsx(ne,{children:"Reported User"}),s.jsx(ne,{className:"hidden md:table-cell",children:"Reporter"}),s.jsx(ne,{children:"Reason"}),s.jsx(ne,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(ne,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(ne,{className:"text-right",children:"Actions"})]})}),s.jsx(an,{children:f.map(x=>{var P,D;return s.jsxs(nt,{"data-testid":`row-case-${x._id}`,children:[s.jsx(re,{className:"font-mono text-xs","data-testid":`text-case-id-${x._id}`,children:x._id.slice(-8)}),s.jsx(re,{"data-testid":`text-reported-user-${x._id}`,children:((P=x.reported)==null?void 0:P.userName)||"Unknown"}),s.jsx(re,{className:"hidden md:table-cell","data-testid":`text-reporter-${x._id}`,children:((D=x.reported_by)==null?void 0:D.userName)||"Anonymous"}),s.jsx(re,{"data-testid":`text-reason-${x._id}`,children:_(x.reason||"")}),s.jsx(re,{className:"hidden lg:table-cell",children:s.jsx(Be,{variant:v(x.status||"pending"),"data-testid":`badge-status-${x._id}`,children:x.status||"Pending"})}),s.jsx(re,{className:"hidden xl:table-cell","data-testid":`text-date-${x._id}`,children:m(x.createdAt||"")}),s.jsx(re,{className:"text-right",children:x.reported&&s.jsx(ee,{variant:x.reported.system_blocked?"outline":"destructive",size:"sm",onClick:()=>{var O;(O=x.reported)!=null&&O._id&&h.mutate({userId:x.reported._id,blocked:!x.reported.system_blocked})},disabled:h.isPending,"data-testid":`button-block-${x._id}`,children:x.reported.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"h-4 w-4 mr-2"}),"Unblock"]}):s.jsxs(s.Fragment,{children:[s.jsx(Tw,{className:"h-4 w-4 mr-2"}),"Block"]})})})]},x._id)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":"text-pagination-info",children:["Page ",t," of ",d]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>e(x=>Math.max(1,x-1)),disabled:t===1,"data-testid":"button-previous-page",children:"Previous"}),s.jsx(ee,{variant:"outline",onClick:()=>e(x=>Math.min(d,x+1)),disabled:t>=d,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})})}function mee(){var L,q,V,z,F,H,X,J,W,ge;const{toast:t}=En(),[e,n]=p.useState("all"),[r,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,h]=p.useState(!1),[f,m]=p.useState("https://play.google.com/store/apps/details?id=com.tokshop.live&hl=en"),[v,_]=p.useState("https://testflight.apple.com/join/jjzjjnC2"),[g,C]=p.useState("all"),[j,y]=p.useState(""),{data:x}=et({queryKey:["/api/admin/settings"]}),P=(x==null?void 0:x.data)||x,D=(P==null?void 0:P.demoMode)||!1,O=(L=P==null?void 0:P.email_service_provider)==null?void 0:L.toLowerCase();let E=((q=P==null?void 0:P.email_from_address)==null?void 0:q.trim())&&O;E&&(O==="smtp"?E=!!((V=P==null?void 0:P.email_smtp_host)!=null&&V.trim()&&((z=P==null?void 0:P.email_smtp_port)!=null&&z.trim())&&((F=P==null?void 0:P.email_smtp_user)!=null&&F.trim())&&((H=P==null?void 0:P.email_smtp_pass)!=null&&H.trim())):O==="mailgun"?E=!!((X=P==null?void 0:P.email_api_key)!=null&&X.trim()&&((J=P==null?void 0:P.email_mailgun_domain)!=null&&J.trim())):E=!!((W=P==null?void 0:P.email_api_key)!=null&&W.trim()));const{data:b}=et({queryKey:["/api/admin/users?limit=1000"],enabled:e==="individual"||g==="individual"}),S=((ge=b==null?void 0:b.data)==null?void 0:ge.users)||[],R=Ot({mutationFn:async fe=>gt("POST","/api/admin/send-email",fe),onSuccess:()=>{t({title:"Email sent successfully",description:e==="all"?"Email has been sent to all users":"Email has been sent to the selected user"}),o(""),c(""),i("")},onError:fe=>{t({title:"Failed to send email",description:fe.message||"An error occurred while sending the email",variant:"destructive"})}}),N=Ot({mutationFn:async fe=>gt("POST","/api/admin/send-update-notification",fe),onSuccess:()=>{t({title:"Update notification sent",description:g==="all"?"App update notification has been sent to all users":"App update notification has been sent to the selected user"}),g==="individual"&&y("")},onError:fe=>{t({title:"Failed to send notification",description:fe.message||"An error occurred while sending the notification",variant:"destructive"})}}),T=()=>{if(!a.trim()||!l.trim()){t({title:"Validation Error",description:"Subject and message are required",variant:"destructive"});return}if(e==="individual"&&!r){t({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}R.mutate({recipientType:e,recipientEmail:e==="individual"?r:void 0,subject:a,message:l,isHtmlMode:d})},A=()=>{if(g==="individual"&&!j){t({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}N.mutate({androidLink:f,iosLink:v,androidVersion:(P==null?void 0:P.androidVersion)||"",iosVersion:(P==null?void 0:P.iosVersion)||"",recipientType:g,recipientEmail:g==="individual"?j:void 0})};return s.jsx(Ge,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(jp,{className:"h-8 w-8"}),"Send Emails"]}),s.jsx("p",{className:"text-muted-foreground",children:"Send emails to users on your platform"})]}),D&&s.jsxs(tr,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(Wv,{className:"h-4 w-4 text-destructive"}),s.jsx(nr,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),!E&&s.jsxs(tr,{className:"mb-6",children:[s.jsx(fm,{className:"h-4 w-4"}),s.jsxs(nr,{children:["Email service is not configured. Please configure your email settings in the"," ",s.jsx("a",{href:"/admin/settings",className:"underline font-medium",children:"Settings page"})," first."]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Compose Email"}),s.jsx(Oe,{children:"Create and send emails to your users"})]}),s.jsxs(oe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(ee,{variant:e==="all"?"default":"outline",onClick:()=>n("all"),className:"flex-1","data-testid":"button-recipient-all",disabled:D,children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(ee,{variant:e==="individual"?"default":"outline",onClick:()=>n("individual"),className:"flex-1","data-testid":"button-recipient-individual",disabled:D,children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),e==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"recipient",children:"Select Recipient"}),s.jsxs(_n,{value:r,onValueChange:i,disabled:D,children:[s.jsx(pn,{id:"recipient","data-testid":"select-recipient",children:s.jsx(Sn,{placeholder:"Choose a user..."})}),s.jsx(gn,{children:S.map(fe=>s.jsxs(se,{value:fe.email,children:[fe.firstName," ",fe.lastName," (",fe.email,")"]},fe._id||fe.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"subject",children:"Subject"}),s.jsx(Ne,{id:"subject",value:a,onChange:fe=>o(fe.target.value),placeholder:"Enter email subject...","data-testid":"input-subject",disabled:D})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_N,{className:"h-4 w-4"}),s.jsx(ve,{htmlFor:"html-mode",className:"cursor-pointer",children:"HTML Mode"})]}),s.jsx(ec,{id:"html-mode",checked:d,onCheckedChange:h,"data-testid":"switch-html-mode",disabled:D})]}),d&&s.jsxs(tr,{children:[s.jsx(_N,{className:"h-4 w-4"}),s.jsxs(nr,{children:[s.jsx("strong",{children:"HTML Mode:"})," You can now use full HTML formatting. The message will be sent as-is without any wrapper template.",s.jsx("br",{}),"Tip: You can still use ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"{name}"})," for personalization."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"message",children:d?"HTML Content":"Message"}),s.jsx(Oc,{id:"message",value:l,onChange:fe=>c(fe.target.value),placeholder:d?"Enter your HTML email content...":"Enter your message...",rows:d?20:10,className:d?"font-mono text-sm":"","data-testid":"textarea-message",disabled:D}),!d&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tip: Use ","{name}"," to personalize with the user's name"]})]}),s.jsxs(ee,{onClick:T,disabled:D||R.isPending||!E,className:"w-full","data-testid":"button-send-email",children:[s.jsx(kN,{className:"h-4 w-4 mr-2"}),R.isPending?"Sending...":"Send Email"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsx(he,{children:"Email Configuration"}),s.jsx(Oe,{children:"Current email service settings"})]}),s.jsx(oe,{className:"space-y-4",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ve,{className:"text-xs text-muted-foreground",children:"Provider"}),s.jsx("p",{className:"font-medium capitalize",children:(P==null?void 0:P.email_service_provider)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(ve,{className:"text-xs text-muted-foreground",children:"From Address"}),s.jsx("p",{className:"font-medium",children:(P==null?void 0:P.email_from_address)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(ve,{className:"text-xs text-muted-foreground",children:"From Name"}),s.jsx("p",{className:"font-medium",children:(P==null?void 0:P.email_from_name)||"Not set"})]})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No email service configured. Please update your settings."})})]}),s.jsxs(ae,{children:[s.jsx(ce,{children:s.jsx(he,{children:"Tips"})}),s.jsxs(oe,{className:"space-y-2 text-sm",children:[s.jsx("p",{children:" Keep your subject line clear and concise"}),s.jsxs("p",{children:[" Personalize emails using ","{name}"," placeholder"]}),s.jsx("p",{children:" Test with individual emails before broadcasting"}),s.jsx("p",{children:" Be mindful of email frequency to avoid spam"})]})]})]})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(ae,{children:[s.jsxs(ce,{children:[s.jsxs(he,{className:"flex items-center gap-2",children:[s.jsx(VP,{className:"h-5 w-5"}),"App Update Notification"]}),s.jsx(Oe,{children:"Send a notification to all users about the latest app version"})]}),s.jsxs(oe,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(ee,{variant:g==="all"?"default":"outline",onClick:()=>C("all"),className:"flex-1","data-testid":"button-update-recipient-all",disabled:D,children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(ee,{variant:g==="individual"?"default":"outline",onClick:()=>C("individual"),className:"flex-1","data-testid":"button-update-recipient-individual",disabled:D,children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),g==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"update-recipient",children:"Select Recipient"}),s.jsxs(_n,{value:j,onValueChange:y,disabled:D,children:[s.jsx(pn,{id:"update-recipient","data-testid":"select-update-recipient",children:s.jsx(Sn,{placeholder:"Choose a user..."})}),s.jsx(gn,{children:S.map(fe=>s.jsxs(se,{value:fe.email,children:[fe.firstName," ",fe.lastName," (",fe.email,")"]},fe._id||fe.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(ve,{className:"text-xs text-muted-foreground",children:"Android Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.androidVersion)||"Not set"})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(ve,{className:"text-xs text-muted-foreground",children:"iOS Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.iosVersion)||"Not set"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"android-link",children:"Android Store Link"}),s.jsx(Ne,{id:"android-link",value:f,onChange:fe=>m(fe.target.value),placeholder:"https://play.google.com/store/apps/...","data-testid":"input-android-link",disabled:D})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"ios-link",children:"iOS Store Link"}),s.jsx(Ne,{id:"ios-link",value:v,onChange:fe=>_(fe.target.value),placeholder:"https://testflight.apple.com/join/...","data-testid":"input-ios-link",disabled:D})]})]}),s.jsxs(tr,{children:[s.jsx(fm,{className:"h-4 w-4"}),s.jsxs(nr,{children:[s.jsx("strong",{children:"Email Preview:"})," Users will receive a professionally formatted email with:",s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Personalized greeting with their name"}),s.jsx("li",{children:" Version numbers for Android and iOS"}),s.jsx("li",{children:" Direct links to update on their respective stores"}),s.jsx("li",{children:" Responsive design for mobile and desktop"})]})]})]}),s.jsxs(ee,{onClick:A,disabled:D||N.isPending||!E,className:"w-full",size:"lg","data-testid":"button-send-update-notification",children:[s.jsx(kN,{className:"h-4 w-4 mr-2"}),N.isPending?"Sending Update Notification...":g==="all"?"Send Update Notification to All Users":"Send Update Notification to Selected User"]})]})]})})]})})}function pee(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(ae,{className:"w-full max-w-md mx-4",children:s.jsxs(oe,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(fm,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function gee(t){const{settings:e}=ph();p.useEffect(()=>{const n=e.seo_title||e.app_name;document.title=n},[t,e.app_name,e.seo_title])}function xee({children:t}){const[e]=Zt(),[n,r]=p.useState(!0),[i,a]=p.useState(!1);return p.useEffect(()=>{if(e==="/admin/setup"){r(!1),a(!0);return}(async()=>{try{const c=await(await fetch("/api/admin/exists",{credentials:"include"})).json();c.success&&a(c.exists)}catch(l){console.error("Error checking if admin exists:",l),a(!0)}finally{r(!1)}})()},[e]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Checking admin setup..."})]})}):!i&&e!=="/admin/setup"?(window.location.href="/admin/setup",s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to setup..."})]})})):s.jsx(s.Fragment,{children:t})}function vee(){const{isAuthenticated:t,isLoading:e,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:i,pendingSocialAuthData:a,completeSocialAuth:o}=Ka(),[,l]=Zt(),[c,d]=p.useState(!1);gee();const h=async f=>{try{await o(f),d(!0)}catch(m){console.error("Social auth completion failed:",m)}};return p.useEffect(()=>{c&&t&&!r&&n&&(n.admin?l("/admin"):l("/admin/login"),d(!1))},[c,t,r,n,l]),e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r&&i&&a?s.jsx(RG,{userEmail:i,socialAuthData:a,onComplete:h,isLoading:e}):t?n!=null&&n.admin?s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(aN,{children:[s.jsx(Ct,{path:"/",component:v_}),s.jsx(Ct,{path:"/admin",component:v_}),s.jsx(Ct,{path:"/admin/users/:userId/details/:itemType/:itemId",component:MY}),s.jsx(Ct,{path:"/admin/users/:userId",component:DY}),s.jsx(Ct,{path:"/admin/users",component:mY}),s.jsx(Ct,{path:"/admin/inventory",component:OY}),s.jsx(Ct,{path:"/admin/products/:productId",component:LY}),s.jsx(Ct,{path:"/admin/orders/:orderId",component:$Y}),s.jsx(Ct,{path:"/admin/orders",component:FY}),s.jsx(Ct,{path:"/admin/disputes/:disputeId",component:hee}),s.jsx(Ct,{path:"/admin/disputes",component:lee}),s.jsx(Ct,{path:"/admin/reported-cases",component:fee}),s.jsx(Ct,{path:"/admin/transactions",component:UY}),s.jsx(Ct,{path:"/admin/payouts",component:VY}),s.jsx(Ct,{path:"/admin/application-fees",component:qJ}),s.jsx(Ct,{path:"/admin/categories/:categoryId/subcategories",component:oee}),s.jsx(Ct,{path:"/admin/categories",component:aee}),s.jsx(Ct,{path:"/admin/shows/:showId",component:BY}),s.jsx(Ct,{path:"/admin/shows",component:zY}),s.jsx(Ct,{path:"/admin/emails",component:mee}),s.jsx(Ct,{path:"/admin/settings",component:WY}),s.jsx(Ct,{path:"/admin/profile",component:qY}),s.jsx(Ct,{component:pee})]})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(bx,{})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(aN,{children:[s.jsx(Ct,{path:"/admin/setup",component:DG}),s.jsx(Ct,{path:"/admin/login",component:bx}),s.jsx(Ct,{component:bx})]})})})}function yee(){return s.jsx(D5,{client:yt,children:s.jsx(Aq,{children:s.jsx(Tq,{children:s.jsxs(xU,{children:[s.jsx(q9,{}),s.jsx(xee,{children:s.jsx(vee,{})})]})})})})}LT(document.getElementById("root")).render(s.jsx(yee,{}));
