var p0=t=>{throw TypeError(t)};var Qp=(t,e,n)=>e.has(t)||p0("Cannot "+n);var U=(t,e,n)=>(Qp(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?p0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ce=(t,e,n,r)=>(Qp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ye=(t,e,n)=>(Qp(t,e,"access private method"),n);var vh=(t,e,n,r)=>({set _(i){Ce(t,e,i,n)},get _(){return U(t,e,r)}});import{sql as Oo}from"drizzle-orm";import{pgTable as Lo,varchar as Br,text as Xe,boolean as bf,integer as jl,decimal as Lr,timestamp as oi}from"drizzle-orm/pg-core";import{createInsertSchema as Fo}from"drizzle-zod";function s4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function s_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i_={exports:{}},Am={},a_={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),i4=Symbol.for("react.portal"),a4=Symbol.for("react.fragment"),o4=Symbol.for("react.strict_mode"),l4=Symbol.for("react.profiler"),c4=Symbol.for("react.provider"),d4=Symbol.for("react.context"),u4=Symbol.for("react.forward_ref"),h4=Symbol.for("react.suspense"),f4=Symbol.for("react.memo"),m4=Symbol.for("react.lazy"),g0=Symbol.iterator;function p4(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l_=Object.assign,c_={};function bc(t,e,n){this.props=t,this.context=e,this.refs=c_,this.updater=n||o_}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d_(){}d_.prototype=bc.prototype;function Qv(t,e,n){this.props=t,this.context=e,this.refs=c_,this.updater=n||o_}var Zv=Qv.prototype=new d_;Zv.constructor=Qv;l_(Zv,bc.prototype);Zv.isPureReactComponent=!0;var x0=Array.isArray,u_=Object.prototype.hasOwnProperty,Xv={current:null},h_={key:!0,ref:!0,__self:!0,__source:!0};function f_(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)u_.call(e,r)&&!h_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Mu,type:t,key:a,ref:o,props:i,_owner:Xv.current}}function g4(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function x4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v0=/\/+/g;function Zp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x4(""+t.key):e.toString(36)}function Qh(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mu:case i4:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zp(o,0):r,x0(i)?(n="",t!=null&&(n=t.replace(v0,"$&/")+"/"),Qh(i,e,n,"",function(d){return d})):i!=null&&(Jv(i)&&(i=g4(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(v0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",x0(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Zp(a,l);o+=Qh(a,e,n,c,i)}else if(c=p4(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Zp(a,l++),o+=Qh(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yh(t,e,n){if(t==null)return t;var r=[],i=0;return Qh(t,r,"","",function(a){return e.call(n,a,i++)}),r}function v4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},Zh={transition:null},y4={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:Xv};function m_(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!Jv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};et.Component=bc;et.Fragment=a4;et.Profiler=l4;et.PureComponent=Qv;et.StrictMode=o4;et.Suspense=h4;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y4;et.act=m_;et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l_({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Xv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)u_.call(e,c)&&!h_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Mu,type:t.type,key:i,ref:a,props:r,_owner:o}};et.createContext=function(t){return t={$$typeof:d4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c4,_context:t},t.Consumer=t};et.createElement=f_;et.createFactory=function(t){var e=f_.bind(null,t);return e.type=t,e};et.createRef=function(){return{current:null}};et.forwardRef=function(t){return{$$typeof:u4,render:t}};et.isValidElement=Jv;et.lazy=function(t){return{$$typeof:m4,_payload:{_status:-1,_result:t},_init:v4}};et.memo=function(t,e){return{$$typeof:f4,type:t,compare:e===void 0?null:e}};et.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};et.unstable_act=m_;et.useCallback=function(t,e){return $n.current.useCallback(t,e)};et.useContext=function(t){return $n.current.useContext(t)};et.useDebugValue=function(){};et.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};et.useEffect=function(t,e){return $n.current.useEffect(t,e)};et.useId=function(){return $n.current.useId()};et.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};et.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};et.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};et.useMemo=function(t,e){return $n.current.useMemo(t,e)};et.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};et.useRef=function(t){return $n.current.useRef(t)};et.useState=function(t){return $n.current.useState(t)};et.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};et.useTransition=function(){return $n.current.useTransition()};et.version="18.3.1";a_.exports=et;var p=a_.exports;const We=s_(p),p_=s4({__proto__:null,default:We},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=p,j4=Symbol.for("react.element"),b4=Symbol.for("react.fragment"),N4=Object.prototype.hasOwnProperty,_4=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S4={key:!0,ref:!0,__self:!0,__source:!0};function g_(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)N4.call(e,r)&&!S4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j4,type:t,key:a,ref:o,props:i,_owner:_4.current}}Am.Fragment=b4;Am.jsx=g_;Am.jsxs=g_;i_.exports=Am;var s=i_.exports,x_={exports:{}},hr={},v_={exports:{}},y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var Q=F.length;F.push(W);e:for(;0<Q;){var X=Q-1>>>1,B=F[X];if(0<i(B,W))F[X]=W,F[Q]=B,Q=X;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],Q=F.pop();if(Q!==W){F[0]=Q;e:for(var X=0,B=F.length,me=B>>>1;X<me;){var ue=2*(X+1)-1,ot=F[ue],Me=ue+1,_e=F[Me];if(0>i(ot,Q))Me<B&&0>i(_e,ot)?(F[X]=_e,F[Me]=Q,X=Me):(F[X]=ot,F[ue]=Q,X=ue);else if(Me<B&&0>i(_e,Q))F[X]=_e,F[Me]=Q,X=Me;else break e}}return W}function i(F,W){var Q=F.sortIndex-W.sortIndex;return Q!==0?Q:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,m=3,v=!1,_=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=F)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function P(F){if(g=!1,x(F),!_)if(n(c)!==null)_=!0,V(D);else{var W=n(d);W!==null&&z(P,W.startTime-F)}}function D(F,W){_=!1,g&&(g=!1,j(b),b=-1),v=!0;var Q=m;try{for(x(W),h=n(c);h!==null&&(!(h.expirationTime>W)||F&&!N());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var B=X(h.expirationTime<=W);W=t.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&r(c),x(W)}else r(c);h=n(c)}if(h!==null)var me=!0;else{var ue=n(d);ue!==null&&z(P,ue.startTime-W),me=!1}return me}finally{h=null,m=Q,v=!1}}var O=!1,E=null,b=-1,S=5,R=-1;function N(){return!(t.unstable_now()-R<S)}function T(){if(E!==null){var F=t.unstable_now();R=F;var W=!0;try{W=E(!0,F)}finally{W?A():(O=!1,E=null)}}else O=!1}var A;if(typeof y=="function")A=function(){y(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=T,A=function(){H.postMessage(null)}}else A=function(){C(T,0)};function V(F){E=F,O||(O=!0,A())}function z(F,W){b=C(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,V(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var Q=m;m=W;try{return F()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=m;m=F;try{return W()}finally{m=Q}},t.unstable_scheduleCallback=function(F,W,Q){var X=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,F={id:f++,callback:W,priorityLevel:F,startTime:Q,expirationTime:B,sortIndex:-1},Q>X?(F.sortIndex=Q,e(d,F),n(c)===null&&F===n(d)&&(g?(j(b),b=-1):g=!0,z(P,Q-X))):(F.sortIndex=B,e(c,F),_||v||(_=!0,V(D))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var W=m;return function(){var Q=m;m=W;try{return F.apply(this,arguments)}finally{m=Q}}}})(y_);v_.exports=y_;var C4=v_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=p,cr=C4;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w_=new Set,zd={};function $o(t,e){tc(t,e),tc(t+"Capture",e)}function tc(t,e){for(zd[t]=e,t=0;t<e.length;t++)w_.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ix=Object.prototype.hasOwnProperty,E4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0={},w0={};function T4(t){return ix.call(w0,t)?!0:ix.call(y0,t)?!1:E4.test(t)?w0[t]=!0:(y0[t]=!0,!1)}function P4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A4(t,e,n,r){if(e===null||typeof e>"u"||P4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ey,ty);xn[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ey,ty);xn[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ey,ty);xn[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function ny(t,e,n,r){var i=xn.hasOwnProperty(e)?xn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A4(e,n,i,r)&&(n=null),r||i===null?T4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=k4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),ll=Symbol.for("react.portal"),cl=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),j_=Symbol.for("react.provider"),b_=Symbol.for("react.context"),sy=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),lx=Symbol.for("react.suspense_list"),iy=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),N_=Symbol.for("react.offscreen"),j0=Symbol.iterator;function Jc(t){return t===null||typeof t!="object"?null:(t=j0&&t[j0]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Xp;function fd(t){if(Xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||""}return`
`+Xp+t}var Jp=!1;function eg(t,e){if(!t||Jp)return"";Jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fd(t):""}function I4(t){switch(t.tag){case 5:return fd(t.type);case 16:return fd("Lazy");case 13:return fd("Suspense");case 19:return fd("SuspenseList");case 0:case 2:case 15:return t=eg(t.type,!1),t;case 11:return t=eg(t.type.render,!1),t;case 1:return t=eg(t.type,!0),t;default:return""}}function cx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cl:return"Fragment";case ll:return"Portal";case ax:return"Profiler";case ry:return"StrictMode";case ox:return"Suspense";case lx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b_:return(t.displayName||"Context")+".Consumer";case j_:return(t._context.displayName||"Context")+".Provider";case sy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iy:return e=t.displayName||null,e!==null?e:cx(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return cx(t(e))}catch{}}return null}function R4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cx(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function __(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D4(t){var e=__(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jh(t){t._valueTracker||(t._valueTracker=D4(t))}function S_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=__(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dx(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function b0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C_(t,e){e=e.checked,e!=null&&ny(t,"checked",e,!1)}function ux(t,e){C_(t,e);var n=xa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hx(t,e.type,n):e.hasOwnProperty("defaultValue")&&hx(t,e.type,xa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hx(t,e,n){(e!=="number"||Nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var md=Array.isArray;function bl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(md(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xa(n)}}function k_(t,e){var n=xa(e.value),r=xa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,T_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M4=["Webkit","ms","Moz","O"];Object.keys(bd).forEach(function(t){M4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bd[e]=bd[t]})});function P_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bd.hasOwnProperty(t)&&bd[t]?(""+e).trim():e+"px"}function A_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O4=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function px(t,e){if(e){if(O4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function gx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xx=null;function ay(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vx=null,Nl=null,_l=null;function C0(t){if(t=Fu(t)){if(typeof vx!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Om(e),vx(t.stateNode,t.type,e))}}function I_(t){Nl?_l?_l.push(t):_l=[t]:Nl=t}function R_(){if(Nl){var t=Nl,e=_l;if(_l=Nl=null,C0(t),e)for(t=0;t<e.length;t++)C0(e[t])}}function D_(t,e){return t(e)}function M_(){}var tg=!1;function O_(t,e,n){if(tg)return t(e,n);tg=!0;try{return D_(t,e,n)}finally{tg=!1,(Nl!==null||_l!==null)&&(M_(),R_())}}function Wd(t,e){var n=t.stateNode;if(n===null)return null;var r=Om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var yx=!1;if(di)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){yx=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{yx=!1}function L4(t,e,n,r,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Nd=!1,_f=null,Sf=!1,wx=null,F4={onError:function(t){Nd=!0,_f=t}};function $4(t,e,n,r,i,a,o,l,c){Nd=!1,_f=null,L4.apply(F4,arguments)}function U4(t,e,n,r,i,a,o,l,c){if($4.apply(this,arguments),Nd){if(Nd){var d=_f;Nd=!1,_f=null}else throw Error(le(198));Sf||(Sf=!0,wx=d)}}function Uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k0(t){if(Uo(t)!==t)throw Error(le(188))}function V4(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return k0(i),t;if(a===r)return k0(i),e;a=a.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function F_(t){return t=V4(t),t!==null?$_(t):null}function $_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$_(t);if(e!==null)return e;t=t.sibling}return null}var U_=cr.unstable_scheduleCallback,E0=cr.unstable_cancelCallback,z4=cr.unstable_shouldYield,B4=cr.unstable_requestPaint,Vt=cr.unstable_now,W4=cr.unstable_getCurrentPriorityLevel,oy=cr.unstable_ImmediatePriority,V_=cr.unstable_UserBlockingPriority,Cf=cr.unstable_NormalPriority,H4=cr.unstable_LowPriority,z_=cr.unstable_IdlePriority,Im=null,_s=null;function q4(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(Im,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:Y4,K4=Math.log,G4=Math.LN2;function Y4(t){return t>>>=0,t===0?32:31-(K4(t)/G4|0)|0}var Nh=64,_h=4194304;function pd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=pd(l):(a&=o,a!==0&&(r=pd(a)))}else o=n&~i,o!==0?r=pd(o):a!==0&&(r=pd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wr(e),i=1<<n,r|=t[n],e&=~i;return r}function Q4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Wr(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Q4(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function jx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B_(){var t=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),t}function ng(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=n}function X4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gt=0;function W_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H_,cy,q_,K_,G_,bx=!1,Sh=[],ia=null,aa=null,oa=null,Hd=new Map,qd=new Map,Vi=[],J4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(t,e){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Hd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(e.pointerId)}}function td(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Fu(e),e!==null&&cy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eR(t,e,n,r,i){switch(e){case"focusin":return ia=td(ia,t,e,n,r,i),!0;case"dragenter":return aa=td(aa,t,e,n,r,i),!0;case"mouseover":return oa=td(oa,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Hd.set(a,td(Hd.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,qd.set(a,td(qd.get(a)||null,t,e,n,r,i)),!0}return!1}function Y_(t){var e=Ja(t.target);if(e!==null){var n=Uo(e);if(n!==null){if(e=n.tag,e===13){if(e=L_(n),e!==null){t.blockedOn=e,G_(t.priority,function(){q_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xx=r,n.target.dispatchEvent(r),xx=null}else return e=Fu(n),e!==null&&cy(e),t.blockedOn=n,!1;e.shift()}return!0}function P0(t,e,n){Xh(t)&&n.delete(e)}function tR(){bx=!1,ia!==null&&Xh(ia)&&(ia=null),aa!==null&&Xh(aa)&&(aa=null),oa!==null&&Xh(oa)&&(oa=null),Hd.forEach(P0),qd.forEach(P0)}function nd(t,e){t.blockedOn===e&&(t.blockedOn=null,bx||(bx=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,tR)))}function Kd(t){function e(i){return nd(i,t)}if(0<Sh.length){nd(Sh[0],t);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ia!==null&&nd(ia,t),aa!==null&&nd(aa,t),oa!==null&&nd(oa,t),Hd.forEach(e),qd.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)Y_(n),n.blockedOn===null&&Vi.shift()}var Sl=Ni.ReactCurrentBatchConfig,Ef=!0;function nR(t,e,n,r){var i=gt,a=Sl.transition;Sl.transition=null;try{gt=1,dy(t,e,n,r)}finally{gt=i,Sl.transition=a}}function rR(t,e,n,r){var i=gt,a=Sl.transition;Sl.transition=null;try{gt=4,dy(t,e,n,r)}finally{gt=i,Sl.transition=a}}function dy(t,e,n,r){if(Ef){var i=Nx(t,e,n,r);if(i===null)hg(t,e,r,Tf,n),T0(t,r);else if(eR(i,t,e,n,r))r.stopPropagation();else if(T0(t,r),e&4&&-1<J4.indexOf(t)){for(;i!==null;){var a=Fu(i);if(a!==null&&H_(a),a=Nx(t,e,n,r),a===null&&hg(t,e,r,Tf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else hg(t,e,r,null,n)}}var Tf=null;function Nx(t,e,n,r){if(Tf=null,t=ay(r),t=Ja(t),t!==null)if(e=Uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function Q_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W4()){case oy:return 1;case V_:return 4;case Cf:case H4:return 16;case z_:return 536870912;default:return 16}default:return 16}}var ra=null,uy=null,Jh=null;function Z_(){if(Jh)return Jh;var t,e=uy,n=e.length,r,i="value"in ra?ra.value:ra.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Jh=i.slice(t,1<r?1-r:void 0)}function ef(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ch(){return!0}function A0(){return!1}function fr(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ch:A0,this.isPropagationStopped=A0,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hy=fr(Nc),Lu=Ot({},Nc,{view:0,detail:0}),sR=fr(Lu),rg,sg,rd,Rm=Ot({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rd&&(rd&&t.type==="mousemove"?(rg=t.screenX-rd.screenX,sg=t.screenY-rd.screenY):sg=rg=0,rd=t),rg)},movementY:function(t){return"movementY"in t?t.movementY:sg}}),I0=fr(Rm),iR=Ot({},Rm,{dataTransfer:0}),aR=fr(iR),oR=Ot({},Lu,{relatedTarget:0}),ig=fr(oR),lR=Ot({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),cR=fr(lR),dR=Ot({},Nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uR=fr(dR),hR=Ot({},Nc,{data:0}),R0=fr(hR),fR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pR[t])?!!e[t]:!1}function fy(){return gR}var xR=Ot({},Lu,{key:function(t){if(t.key){var e=fR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ef(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(t){return t.type==="keypress"?ef(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ef(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vR=fr(xR),yR=Ot({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=fr(yR),wR=Ot({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),jR=fr(wR),bR=Ot({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),NR=fr(bR),_R=Ot({},Rm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SR=fr(_R),CR=[9,13,27,32],my=di&&"CompositionEvent"in window,_d=null;di&&"documentMode"in document&&(_d=document.documentMode);var kR=di&&"TextEvent"in window&&!_d,X_=di&&(!my||_d&&8<_d&&11>=_d),M0=" ",O0=!1;function J_(t,e){switch(t){case"keyup":return CR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dl=!1;function ER(t,e){switch(t){case"compositionend":return eS(e);case"keypress":return e.which!==32?null:(O0=!0,M0);case"textInput":return t=e.data,t===M0&&O0?null:t;default:return null}}function TR(t,e){if(dl)return t==="compositionend"||!my&&J_(t,e)?(t=Z_(),Jh=uy=ra=null,dl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X_&&e.locale!=="ko"?null:e.data;default:return null}}var PR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PR[t.type]:e==="textarea"}function tS(t,e,n,r){I_(r),e=Pf(e,"onChange"),0<e.length&&(n=new hy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sd=null,Gd=null;function AR(t){hS(t,0)}function Dm(t){var e=fl(t);if(S_(e))return t}function IR(t,e){if(t==="change")return e}var nS=!1;if(di){var ag;if(di){var og="oninput"in document;if(!og){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),og=typeof F0.oninput=="function"}ag=og}else ag=!1;nS=ag&&(!document.documentMode||9<document.documentMode)}function $0(){Sd&&(Sd.detachEvent("onpropertychange",rS),Gd=Sd=null)}function rS(t){if(t.propertyName==="value"&&Dm(Gd)){var e=[];tS(e,Gd,t,ay(t)),O_(AR,e)}}function RR(t,e,n){t==="focusin"?($0(),Sd=e,Gd=n,Sd.attachEvent("onpropertychange",rS)):t==="focusout"&&$0()}function DR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(Gd)}function MR(t,e){if(t==="click")return Dm(e)}function OR(t,e){if(t==="input"||t==="change")return Dm(e)}function LR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xr=typeof Object.is=="function"?Object.is:LR;function Yd(t,e){if(Xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ix.call(e,i)||!Xr(t[i],e[i]))return!1}return!0}function U0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function V0(t,e){var n=U0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=U0(n)}}function sS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iS(){for(var t=window,e=Nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nf(t.document)}return e}function py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FR(t){var e=iS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sS(n.ownerDocument.documentElement,n)){if(r!==null&&py(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=V0(n,a);var o=V0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $R=di&&"documentMode"in document&&11>=document.documentMode,ul=null,_x=null,Cd=null,Sx=!1;function z0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sx||ul==null||ul!==Nf(r)||(r=ul,"selectionStart"in r&&py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cd&&Yd(Cd,r)||(Cd=r,r=Pf(_x,"onSelect"),0<r.length&&(e=new hy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ul)))}function kh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hl={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},lg={},aS={};di&&(aS=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Mm(t){if(lg[t])return lg[t];if(!hl[t])return t;var e=hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aS)return lg[t]=e[n];return t}var oS=Mm("animationend"),lS=Mm("animationiteration"),cS=Mm("animationstart"),dS=Mm("transitionend"),uS=new Map,B0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(t,e){uS.set(t,e),$o(e,[t])}for(var cg=0;cg<B0.length;cg++){var dg=B0[cg],UR=dg.toLowerCase(),VR=dg[0].toUpperCase()+dg.slice(1);Pa(UR,"on"+VR)}Pa(oS,"onAnimationEnd");Pa(lS,"onAnimationIteration");Pa(cS,"onAnimationStart");Pa("dblclick","onDoubleClick");Pa("focusin","onFocus");Pa("focusout","onBlur");Pa(dS,"onTransitionEnd");tc("onMouseEnter",["mouseout","mouseover"]);tc("onMouseLeave",["mouseout","mouseover"]);tc("onPointerEnter",["pointerout","pointerover"]);tc("onPointerLeave",["pointerout","pointerover"]);$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$o("onBeforeInput",["compositionend","keypress","textInput","paste"]);$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zR=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function W0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U4(r,e,void 0,t),t.currentTarget=null}function hS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;W0(i,l,d),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;W0(i,l,d),a=c}}}if(Sf)throw t=wx,Sf=!1,wx=null,t}function Tt(t,e){var n=e[Px];n===void 0&&(n=e[Px]=new Set);var r=t+"__bubble";n.has(r)||(fS(e,t,2,!1),n.add(r))}function ug(t,e,n){var r=0;e&&(r|=4),fS(n,t,r,e)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Eh]){t[Eh]=!0,w_.forEach(function(n){n!=="selectionchange"&&(zR.has(n)||ug(n,!1,t),ug(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eh]||(e[Eh]=!0,ug("selectionchange",!1,e))}}function fS(t,e,n,r){switch(Q_(e)){case 1:var i=nR;break;case 4:i=rR;break;default:i=dy}n=i.bind(null,e,n,t),i=void 0,!yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hg(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ja(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}O_(function(){var d=a,f=ay(n),h=[];e:{var m=uS.get(t);if(m!==void 0){var v=hy,_=t;switch(t){case"keypress":if(ef(n)===0)break e;case"keydown":case"keyup":v=vR;break;case"focusin":_="focus",v=ig;break;case"focusout":_="blur",v=ig;break;case"beforeblur":case"afterblur":v=ig;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=aR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jR;break;case oS:case lS:case cS:v=cR;break;case dS:v=NR;break;case"scroll":v=sR;break;case"wheel":v=SR;break;case"copy":case"cut":case"paste":v=uR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=D0}var g=(e&4)!==0,C=!g&&t==="scroll",j=g?m!==null?m+"Capture":null:m;g=[];for(var y=d,x;y!==null;){x=y;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,j!==null&&(P=Wd(y,j),P!=null&&g.push(Zd(y,P,x)))),C)break;y=y.return}0<g.length&&(m=new v(m,_,null,n,f),h.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==xx&&(_=n.relatedTarget||n.fromElement)&&(Ja(_)||_[ui]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=d,_=_?Ja(_):null,_!==null&&(C=Uo(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=d),v!==_)){if(g=I0,P="onMouseLeave",j="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=D0,P="onPointerLeave",j="onPointerEnter",y="pointer"),C=v==null?m:fl(v),x=_==null?m:fl(_),m=new g(P,y+"leave",v,n,f),m.target=C,m.relatedTarget=x,P=null,Ja(f)===d&&(g=new g(j,y+"enter",_,n,f),g.target=x,g.relatedTarget=C,P=g),C=P,v&&_)t:{for(g=v,j=_,y=0,x=g;x;x=el(x))y++;for(x=0,P=j;P;P=el(P))x++;for(;0<y-x;)g=el(g),y--;for(;0<x-y;)j=el(j),x--;for(;y--;){if(g===j||j!==null&&g===j.alternate)break t;g=el(g),j=el(j)}g=null}else g=null;v!==null&&H0(h,m,v,g,!1),_!==null&&C!==null&&H0(h,C,_,g,!0)}}e:{if(m=d?fl(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=IR;else if(L0(m))if(nS)D=OR;else{D=DR;var O=RR}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=MR);if(D&&(D=D(t,d))){tS(h,D,n,f);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&hx(m,"number",m.value)}switch(O=d?fl(d):window,t){case"focusin":(L0(O)||O.contentEditable==="true")&&(ul=O,_x=d,Cd=null);break;case"focusout":Cd=_x=ul=null;break;case"mousedown":Sx=!0;break;case"contextmenu":case"mouseup":case"dragend":Sx=!1,z0(h,n,f);break;case"selectionchange":if($R)break;case"keydown":case"keyup":z0(h,n,f)}var E;if(my)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else dl?J_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(X_&&n.locale!=="ko"&&(dl||b!=="onCompositionStart"?b==="onCompositionEnd"&&dl&&(E=Z_()):(ra=f,uy="value"in ra?ra.value:ra.textContent,dl=!0)),O=Pf(d,b),0<O.length&&(b=new R0(b,t,null,n,f),h.push({event:b,listeners:O}),E?b.data=E:(E=eS(n),E!==null&&(b.data=E)))),(E=kR?ER(t,n):TR(t,n))&&(d=Pf(d,"onBeforeInput"),0<d.length&&(f=new R0("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=E))}hS(h,e)})}function Zd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wd(t,n),a!=null&&r.unshift(Zd(t,a,i)),a=Wd(t,e),a!=null&&r.push(Zd(t,a,i))),t=t.return}return r}function el(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H0(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Wd(n,a),c!=null&&o.unshift(Zd(n,c,l))):i||(c=Wd(n,a),c!=null&&o.push(Zd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function q0(t){return(typeof t=="string"?t:""+t).replace(BR,`
`).replace(WR,"")}function Th(t,e,n){if(e=q0(e),q0(t)!==e&&n)throw Error(le(425))}function Af(){}var Cx=null,kx=null;function Ex(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tx=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(KR)}:Tx;function KR(t){setTimeout(function(){throw t})}function fg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kd(e)}function la(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function G0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _c=Math.random().toString(36).slice(2),gs="__reactFiber$"+_c,Xd="__reactProps$"+_c,ui="__reactContainer$"+_c,Px="__reactEvents$"+_c,GR="__reactListeners$"+_c,YR="__reactHandles$"+_c;function Ja(t){var e=t[gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[gs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=G0(t);t!==null;){if(n=t[gs])return n;t=G0(t)}return e}t=n,n=t.parentNode}return null}function Fu(t){return t=t[gs]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Om(t){return t[Xd]||null}var Ax=[],ml=-1;function Aa(t){return{current:t}}function Pt(t){0>ml||(t.current=Ax[ml],Ax[ml]=null,ml--)}function St(t,e){ml++,Ax[ml]=t.current,t.current=e}var va={},Cn=Aa(va),Yn=Aa(!1),vo=va;function nc(t,e){var n=t.type.contextTypes;if(!n)return va;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function If(){Pt(Yn),Pt(Cn)}function Y0(t,e,n){if(Cn.current!==va)throw Error(le(168));St(Cn,e),St(Yn,n)}function mS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,R4(t)||"Unknown",i));return Ot({},n,r)}function Rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||va,vo=Cn.current,St(Cn,t),St(Yn,Yn.current),!0}function Q0(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=mS(t,e,vo),r.__reactInternalMemoizedMergedChildContext=t,Pt(Yn),Pt(Cn),St(Cn,t)):Pt(Yn),St(Yn,n)}var Zs=null,Lm=!1,mg=!1;function pS(t){Zs===null?Zs=[t]:Zs.push(t)}function QR(t){Lm=!0,pS(t)}function Ia(){if(!mg&&Zs!==null){mg=!0;var t=0,e=gt;try{var n=Zs;for(gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zs=null,Lm=!1}catch(i){throw Zs!==null&&(Zs=Zs.slice(t+1)),U_(oy,Ia),i}finally{gt=e,mg=!1}}return null}var pl=[],gl=0,Df=null,Mf=0,vr=[],yr=0,yo=null,ri=1,si="";function Wa(t,e){pl[gl++]=Mf,pl[gl++]=Df,Df=t,Mf=e}function gS(t,e,n){vr[yr++]=ri,vr[yr++]=si,vr[yr++]=yo,yo=t;var r=ri;t=si;var i=32-Wr(r)-1;r&=~(1<<i),n+=1;var a=32-Wr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ri=1<<32-Wr(e)+i|n<<i|r,si=a+t}else ri=1<<a|n<<i|r,si=t}function gy(t){t.return!==null&&(Wa(t,1),gS(t,1,0))}function xy(t){for(;t===Df;)Df=pl[--gl],pl[gl]=null,Mf=pl[--gl],pl[gl]=null;for(;t===yo;)yo=vr[--yr],vr[yr]=null,si=vr[--yr],vr[yr]=null,ri=vr[--yr],vr[yr]=null}var ar=null,ir=null,At=!1,Ir=null;function xS(t,e){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Z0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,ir=la(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yo!==null?{id:ri,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ar=t,ir=null,!0):!1;default:return!1}}function Ix(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rx(t){if(At){var e=ir;if(e){var n=e;if(!Z0(t,e)){if(Ix(t))throw Error(le(418));e=la(n.nextSibling);var r=ar;e&&Z0(t,e)?xS(r,n):(t.flags=t.flags&-4097|2,At=!1,ar=t)}}else{if(Ix(t))throw Error(le(418));t.flags=t.flags&-4097|2,At=!1,ar=t}}}function X0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function Ph(t){if(t!==ar)return!1;if(!At)return X0(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ex(t.type,t.memoizedProps)),e&&(e=ir)){if(Ix(t))throw vS(),Error(le(418));for(;e;)xS(t,e),e=la(e.nextSibling)}if(X0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ir=la(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ir=null}}else ir=ar?la(t.stateNode.nextSibling):null;return!0}function vS(){for(var t=ir;t;)t=la(t.nextSibling)}function rc(){ir=ar=null,At=!1}function vy(t){Ir===null?Ir=[t]:Ir.push(t)}var ZR=Ni.ReactCurrentBatchConfig;function sd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Ah(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J0(t){var e=t._init;return e(t._payload)}function yS(t){function e(j,y){if(t){var x=j.deletions;x===null?(j.deletions=[y],j.flags|=16):x.push(y)}}function n(j,y){if(!t)return null;for(;y!==null;)e(j,y),y=y.sibling;return null}function r(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function i(j,y){return j=ha(j,y),j.index=0,j.sibling=null,j}function a(j,y,x){return j.index=x,t?(x=j.alternate,x!==null?(x=x.index,x<y?(j.flags|=2,y):x):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return t&&j.alternate===null&&(j.flags|=2),j}function l(j,y,x,P){return y===null||y.tag!==6?(y=jg(x,j.mode,P),y.return=j,y):(y=i(y,x),y.return=j,y)}function c(j,y,x,P){var D=x.type;return D===cl?f(j,y,x.props.children,P,x.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===$i&&J0(D)===y.type)?(P=i(y,x.props),P.ref=sd(j,y,x),P.return=j,P):(P=lf(x.type,x.key,x.props,null,j.mode,P),P.ref=sd(j,y,x),P.return=j,P)}function d(j,y,x,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=bg(x,j.mode,P),y.return=j,y):(y=i(y,x.children||[]),y.return=j,y)}function f(j,y,x,P,D){return y===null||y.tag!==7?(y=mo(x,j.mode,P,D),y.return=j,y):(y=i(y,x),y.return=j,y)}function h(j,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jg(""+y,j.mode,x),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wh:return x=lf(y.type,y.key,y.props,null,j.mode,x),x.ref=sd(j,null,y),x.return=j,x;case ll:return y=bg(y,j.mode,x),y.return=j,y;case $i:var P=y._init;return h(j,P(y._payload),x)}if(md(y)||Jc(y))return y=mo(y,j.mode,x,null),y.return=j,y;Ah(j,y)}return null}function m(j,y,x,P){var D=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:l(j,y,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wh:return x.key===D?c(j,y,x,P):null;case ll:return x.key===D?d(j,y,x,P):null;case $i:return D=x._init,m(j,y,D(x._payload),P)}if(md(x)||Jc(x))return D!==null?null:f(j,y,x,P,null);Ah(j,x)}return null}function v(j,y,x,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return j=j.get(x)||null,l(y,j,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case wh:return j=j.get(P.key===null?x:P.key)||null,c(y,j,P,D);case ll:return j=j.get(P.key===null?x:P.key)||null,d(y,j,P,D);case $i:var O=P._init;return v(j,y,x,O(P._payload),D)}if(md(P)||Jc(P))return j=j.get(x)||null,f(y,j,P,D,null);Ah(y,P)}return null}function _(j,y,x,P){for(var D=null,O=null,E=y,b=y=0,S=null;E!==null&&b<x.length;b++){E.index>b?(S=E,E=null):S=E.sibling;var R=m(j,E,x[b],P);if(R===null){E===null&&(E=S);break}t&&E&&R.alternate===null&&e(j,E),y=a(R,y,b),O===null?D=R:O.sibling=R,O=R,E=S}if(b===x.length)return n(j,E),At&&Wa(j,b),D;if(E===null){for(;b<x.length;b++)E=h(j,x[b],P),E!==null&&(y=a(E,y,b),O===null?D=E:O.sibling=E,O=E);return At&&Wa(j,b),D}for(E=r(j,E);b<x.length;b++)S=v(E,j,b,x[b],P),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?b:S.key),y=a(S,y,b),O===null?D=S:O.sibling=S,O=S);return t&&E.forEach(function(N){return e(j,N)}),At&&Wa(j,b),D}function g(j,y,x,P){var D=Jc(x);if(typeof D!="function")throw Error(le(150));if(x=D.call(x),x==null)throw Error(le(151));for(var O=D=null,E=y,b=y=0,S=null,R=x.next();E!==null&&!R.done;b++,R=x.next()){E.index>b?(S=E,E=null):S=E.sibling;var N=m(j,E,R.value,P);if(N===null){E===null&&(E=S);break}t&&E&&N.alternate===null&&e(j,E),y=a(N,y,b),O===null?D=N:O.sibling=N,O=N,E=S}if(R.done)return n(j,E),At&&Wa(j,b),D;if(E===null){for(;!R.done;b++,R=x.next())R=h(j,R.value,P),R!==null&&(y=a(R,y,b),O===null?D=R:O.sibling=R,O=R);return At&&Wa(j,b),D}for(E=r(j,E);!R.done;b++,R=x.next())R=v(E,j,b,R.value,P),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?b:R.key),y=a(R,y,b),O===null?D=R:O.sibling=R,O=R);return t&&E.forEach(function(T){return e(j,T)}),At&&Wa(j,b),D}function C(j,y,x,P){if(typeof x=="object"&&x!==null&&x.type===cl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wh:e:{for(var D=x.key,O=y;O!==null;){if(O.key===D){if(D=x.type,D===cl){if(O.tag===7){n(j,O.sibling),y=i(O,x.props.children),y.return=j,j=y;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===$i&&J0(D)===O.type){n(j,O.sibling),y=i(O,x.props),y.ref=sd(j,O,x),y.return=j,j=y;break e}n(j,O);break}else e(j,O);O=O.sibling}x.type===cl?(y=mo(x.props.children,j.mode,P,x.key),y.return=j,j=y):(P=lf(x.type,x.key,x.props,null,j.mode,P),P.ref=sd(j,y,x),P.return=j,j=P)}return o(j);case ll:e:{for(O=x.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(j,y.sibling),y=i(y,x.children||[]),y.return=j,j=y;break e}else{n(j,y);break}else e(j,y);y=y.sibling}y=bg(x,j.mode,P),y.return=j,j=y}return o(j);case $i:return O=x._init,C(j,y,O(x._payload),P)}if(md(x))return _(j,y,x,P);if(Jc(x))return g(j,y,x,P);Ah(j,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(j,y.sibling),y=i(y,x),y.return=j,j=y):(n(j,y),y=jg(x,j.mode,P),y.return=j,j=y),o(j)):n(j,y)}return C}var sc=yS(!0),wS=yS(!1),Of=Aa(null),Lf=null,xl=null,yy=null;function wy(){yy=xl=Lf=null}function jy(t){var e=Of.current;Pt(Of),t._currentValue=e}function Dx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cl(t,e){Lf=t,yy=xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hn=!0),t.firstContext=null)}function Nr(t){var e=t._currentValue;if(yy!==t)if(t={context:t,memoizedValue:e,next:null},xl===null){if(Lf===null)throw Error(le(308));xl=t,Lf.dependencies={lanes:0,firstContext:t}}else xl=xl.next=t;return e}var eo=null;function by(t){eo===null?eo=[t]:eo.push(t)}function jS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,by(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function Ny(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ca(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,by(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function tf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}function eb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ff(t,e,n,r){var i=t.updateQueue;Ui=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,f=d=c=null,l=a;do{var m=l.lane,v=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,g=l;switch(m=e,v=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){h=_.call(v,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,m=typeof _=="function"?_.call(v,h,m):_,m==null)break e;h=Ot({},h,m);break e;case 2:Ui=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=v,c=h):f=f.next=v,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);jo|=o,t.lanes=o,t.memoizedState=h}}function tb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var $u={},Ss=Aa($u),Jd=Aa($u),eu=Aa($u);function to(t){if(t===$u)throw Error(le(174));return t}function _y(t,e){switch(St(eu,e),St(Jd,t),St(Ss,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mx(e,t)}Pt(Ss),St(Ss,e)}function ic(){Pt(Ss),Pt(Jd),Pt(eu)}function NS(t){to(eu.current);var e=to(Ss.current),n=mx(e,t.type);e!==n&&(St(Jd,t),St(Ss,n))}function Sy(t){Jd.current===t&&(Pt(Ss),Pt(Jd))}var Dt=Aa(0);function $f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pg=[];function Cy(){for(var t=0;t<pg.length;t++)pg[t]._workInProgressVersionPrimary=null;pg.length=0}var nf=Ni.ReactCurrentDispatcher,gg=Ni.ReactCurrentBatchConfig,wo=0,Mt=null,Yt=null,sn=null,Uf=!1,kd=!1,tu=0,XR=0;function bn(){throw Error(le(321))}function ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xr(t[n],e[n]))return!1;return!0}function Ey(t,e,n,r,i,a){if(wo=a,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nf.current=t===null||t.memoizedState===null?nD:rD,t=n(r,i),kd){a=0;do{if(kd=!1,tu=0,25<=a)throw Error(le(301));a+=1,sn=Yt=null,e.updateQueue=null,nf.current=sD,t=n(r,i)}while(kd)}if(nf.current=Vf,e=Yt!==null&&Yt.next!==null,wo=0,sn=Yt=Mt=null,Uf=!1,e)throw Error(le(300));return t}function Ty(){var t=tu!==0;return tu=0,t}function cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Mt.memoizedState=sn=t:sn=sn.next=t,sn}function _r(){if(Yt===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=sn===null?Mt.memoizedState:sn.next;if(e!==null)sn=e,Yt=t;else{if(t===null)throw Error(le(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},sn===null?Mt.memoizedState=sn=t:sn=sn.next=t}return sn}function nu(t,e){return typeof e=="function"?e(t):e}function xg(t){var e=_r(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=Yt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((wo&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Mt.lanes|=f,jo|=f}d=d.next}while(d!==null&&d!==a);c===null?o=r:c.next=l,Xr(r,e.memoizedState)||(Hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Mt.lanes|=a,jo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vg(t){var e=_r(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Xr(a,e.memoizedState)||(Hn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function _S(){}function SS(t,e){var n=Mt,r=_r(),i=e(),a=!Xr(r.memoizedState,i);if(a&&(r.memoizedState=i,Hn=!0),r=r.queue,Py(ES.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,ru(9,kS.bind(null,n,r,i,e),void 0,null),on===null)throw Error(le(349));wo&30||CS(n,e,i)}return i}function CS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kS(t,e,n,r){e.value=n,e.getSnapshot=r,TS(e)&&PS(t)}function ES(t,e,n){return n(function(){TS(e)&&PS(t)})}function TS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xr(t,n)}catch{return!0}}function PS(t){var e=hi(t,1);e!==null&&Hr(e,t,1,-1)}function nb(t){var e=cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:t},e.queue=t,t=t.dispatch=tD.bind(null,Mt,t),[e.memoizedState,t]}function ru(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AS(){return _r().memoizedState}function rf(t,e,n,r){var i=cs();Mt.flags|=t,i.memoizedState=ru(1|e,n,void 0,r===void 0?null:r)}function Fm(t,e,n,r){var i=_r();r=r===void 0?null:r;var a=void 0;if(Yt!==null){var o=Yt.memoizedState;if(a=o.destroy,r!==null&&ky(r,o.deps)){i.memoizedState=ru(e,n,a,r);return}}Mt.flags|=t,i.memoizedState=ru(1|e,n,a,r)}function rb(t,e){return rf(8390656,8,t,e)}function Py(t,e){return Fm(2048,8,t,e)}function IS(t,e){return Fm(4,2,t,e)}function RS(t,e){return Fm(4,4,t,e)}function DS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MS(t,e,n){return n=n!=null?n.concat([t]):null,Fm(4,4,DS.bind(null,e,t),n)}function Ay(){}function OS(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LS(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FS(t,e,n){return wo&21?(Xr(n,e)||(n=B_(),Mt.lanes|=n,jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hn=!0),t.memoizedState=n)}function JR(t,e){var n=gt;gt=n!==0&&4>n?n:4,t(!0);var r=gg.transition;gg.transition={};try{t(!1),e()}finally{gt=n,gg.transition=r}}function $S(){return _r().memoizedState}function eD(t,e,n){var r=ua(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},US(t))VS(e,n);else if(n=jS(t,e,n,r),n!==null){var i=On();Hr(n,t,r,i),zS(n,e,r)}}function tD(t,e,n){var r=ua(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(US(t))VS(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Xr(l,o)){var c=e.interleaved;c===null?(i.next=i,by(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=jS(t,e,i,r),n!==null&&(i=On(),Hr(n,t,r,i),zS(n,e,r))}}function US(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function VS(t,e){kd=Uf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}var Vf={readContext:Nr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},nD={readContext:Nr,useCallback:function(t,e){return cs().memoizedState=[t,e===void 0?null:e],t},useContext:Nr,useEffect:rb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rf(4194308,4,DS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rf(4194308,4,t,e)},useInsertionEffect:function(t,e){return rf(4,2,t,e)},useMemo:function(t,e){var n=cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eD.bind(null,Mt,t),[r.memoizedState,t]},useRef:function(t){var e=cs();return t={current:t},e.memoizedState=t},useState:nb,useDebugValue:Ay,useDeferredValue:function(t){return cs().memoizedState=t},useTransition:function(){var t=nb(!1),e=t[0];return t=JR.bind(null,t[1]),cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mt,i=cs();if(At){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),on===null)throw Error(le(349));wo&30||CS(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,rb(ES.bind(null,r,a,t),[t]),r.flags|=2048,ru(9,kS.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=cs(),e=on.identifierPrefix;if(At){var n=si,r=ri;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rD={readContext:Nr,useCallback:OS,useContext:Nr,useEffect:Py,useImperativeHandle:MS,useInsertionEffect:IS,useLayoutEffect:RS,useMemo:LS,useReducer:xg,useRef:AS,useState:function(){return xg(nu)},useDebugValue:Ay,useDeferredValue:function(t){var e=_r();return FS(e,Yt.memoizedState,t)},useTransition:function(){var t=xg(nu)[0],e=_r().memoizedState;return[t,e]},useMutableSource:_S,useSyncExternalStore:SS,useId:$S,unstable_isNewReconciler:!1},sD={readContext:Nr,useCallback:OS,useContext:Nr,useEffect:Py,useImperativeHandle:MS,useInsertionEffect:IS,useLayoutEffect:RS,useMemo:LS,useReducer:vg,useRef:AS,useState:function(){return vg(nu)},useDebugValue:Ay,useDeferredValue:function(t){var e=_r();return Yt===null?e.memoizedState=t:FS(e,Yt.memoizedState,t)},useTransition:function(){var t=vg(nu)[0],e=_r().memoizedState;return[t,e]},useMutableSource:_S,useSyncExternalStore:SS,useId:$S,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $m={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=ua(t),a=li(r,i);a.payload=e,n!=null&&(a.callback=n),e=ca(t,a,i),e!==null&&(Hr(e,t,i,r),tf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=ua(t),a=li(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ca(t,a,i),e!==null&&(Hr(e,t,i,r),tf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=ua(t),i=li(n,r);i.tag=2,e!=null&&(i.callback=e),e=ca(t,i,r),e!==null&&(Hr(e,t,r,n),tf(e,t,r))}};function sb(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Yd(n,r)||!Yd(i,a):!0}function BS(t,e,n){var r=!1,i=va,a=e.contextType;return typeof a=="object"&&a!==null?a=Nr(a):(i=Qn(e)?vo:Cn.current,r=e.contextTypes,a=(r=r!=null)?nc(t,i):va),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$m,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function ib(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$m.enqueueReplaceState(e,e.state,null)}function Ox(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ny(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Nr(a):(a=Qn(e)?vo:Cn.current,i.context=nc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Mx(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$m.enqueueReplaceState(i,i.state,null),Ff(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ac(t,e){try{var n="",r=e;do n+=I4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function yg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iD=typeof WeakMap=="function"?WeakMap:Map;function WS(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bf||(Bf=!0,Kx=r),Lx(t,e)},n}function HS(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Lx(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Lx(t,e),typeof r!="function"&&(da===null?da=new Set([this]):da.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ab(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yD.bind(null,t,e,n),e.then(t,t))}function ob(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,ca(n,e,1))),n.lanes|=1),t)}var aD=Ni.ReactCurrentOwner,Hn=!1;function In(t,e,n,r){e.child=t===null?wS(e,null,n,r):sc(e,t.child,n,r)}function cb(t,e,n,r,i){n=n.render;var a=e.ref;return Cl(e,i),r=Ey(t,e,n,r,a,i),n=Ty(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(At&&n&&gy(e),e.flags|=1,In(t,e,r,i),e.child)}function db(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!$y(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,qS(t,e,a,r,i)):(t=lf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Yd,n(o,r)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=ha(a,r),t.ref=e.ref,t.return=e,e.child=t}function qS(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Yd(a,r)&&t.ref===e.ref)if(Hn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Hn=!0);else return e.lanes=t.lanes,fi(t,e,i)}return Fx(t,e,n,r,i)}function KS(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(yl,tr),tr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(yl,tr),tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,St(yl,tr),tr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,St(yl,tr),tr|=r;return In(t,e,i,n),e.child}function GS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fx(t,e,n,r,i){var a=Qn(n)?vo:Cn.current;return a=nc(e,a),Cl(e,i),n=Ey(t,e,n,r,a,i),r=Ty(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(At&&r&&gy(e),e.flags|=1,In(t,e,n,i),e.child)}function ub(t,e,n,r,i){if(Qn(n)){var a=!0;Rf(e)}else a=!1;if(Cl(e,i),e.stateNode===null)sf(t,e),BS(e,n,r),Ox(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nr(d):(d=Qn(n)?vo:Cn.current,d=nc(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ib(e,o,r,d),Ui=!1;var m=e.memoizedState;o.state=m,Ff(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Yn.current||Ui?(typeof f=="function"&&(Mx(e,n,f,r),c=e.memoizedState),(l=Ui||sb(e,n,l,r,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bS(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Tr(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nr(c):(c=Qn(n)?vo:Cn.current,c=nc(e,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ib(e,o,r,c),Ui=!1,m=e.memoizedState,o.state=m,Ff(e,r,o,i);var _=e.memoizedState;l!==h||m!==_||Yn.current||Ui?(typeof v=="function"&&(Mx(e,n,v,r),_=e.memoizedState),(d=Ui||sb(e,n,d,r,m,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $x(t,e,n,r,a,i)}function $x(t,e,n,r,i,a){GS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Q0(e,n,!1),fi(t,e,a);r=e.stateNode,aD.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sc(e,t.child,null,a),e.child=sc(e,null,l,a)):In(t,e,l,a),e.memoizedState=r.state,i&&Q0(e,n,!0),e.child}function YS(t){var e=t.stateNode;e.pendingContext?Y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y0(t,e.context,!1),_y(t,e.containerInfo)}function hb(t,e,n,r,i){return rc(),vy(i),e.flags|=256,In(t,e,n,r),e.child}var Ux={dehydrated:null,treeContext:null,retryLane:0};function Vx(t){return{baseLanes:t,cachePool:null,transitions:null}}function QS(t,e,n){var r=e.pendingProps,i=Dt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),St(Dt,i&1),t===null)return Rx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=zm(o,r,0,null),t=mo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Vx(n),e.memoizedState=Ux,t):Iy(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return oD(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ha(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ha(l,a):(a=mo(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Vx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Ux,r}return a=t.child,t=a.sibling,r=ha(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Iy(t,e){return e=zm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ih(t,e,n,r){return r!==null&&vy(r),sc(e,t.child,null,n),t=Iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oD(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=yg(Error(le(422))),Ih(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=zm({mode:"visible",children:r.children},i,0,null),a=mo(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&sc(e,t.child,null,o),e.child.memoizedState=Vx(o),e.memoizedState=Ux,a);if(!(e.mode&1))return Ih(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(le(419)),r=yg(a,r,void 0),Ih(t,e,o,r)}if(l=(o&t.childLanes)!==0,Hn||l){if(r=on,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hi(t,i),Hr(r,t,i,-1))}return Fy(),r=yg(Error(le(421))),Ih(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wD.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ir=la(i.nextSibling),ar=e,At=!0,Ir=null,t!==null&&(vr[yr++]=ri,vr[yr++]=si,vr[yr++]=yo,ri=t.id,si=t.overflow,yo=e),e=Iy(e,r.children),e.flags|=4096,e)}function fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dx(t.return,e,n)}function wg(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ZS(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(In(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fb(t,n,e);else if(t.tag===19)fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(St(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$f(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wg(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$f(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wg(e,!0,n,null,a);break;case"together":wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=ha(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ha(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lD(t,e,n){switch(e.tag){case 3:YS(e),rc();break;case 5:NS(e);break;case 1:Qn(e.type)&&Rf(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;St(Of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(St(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?QS(t,e,n):(St(Dt,Dt.current&1),t=fi(t,e,n),t!==null?t.sibling:null);St(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,KS(t,e,n)}return fi(t,e,n)}var XS,zx,JS,eC;XS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zx=function(){};JS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,to(Ss.current);var a=null;switch(n){case"input":i=dx(t,i),r=dx(t,r),a=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),a=[];break;case"textarea":i=fx(t,i),r=fx(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Af)}px(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(zd.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(zd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Tt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};eC=function(t,e,n,r){n!==r&&(e.flags|=4)};function id(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cD(t,e,n){var r=e.pendingProps;switch(xy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return Qn(e.type)&&If(),Nn(e),null;case 3:return r=e.stateNode,ic(),Pt(Yn),Pt(Cn),Cy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(Qx(Ir),Ir=null))),zx(t,e),Nn(e),null;case 5:Sy(e);var i=to(eu.current);if(n=e.type,t!==null&&e.stateNode!=null)JS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Nn(e),null}if(t=to(Ss.current),Ph(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[gs]=e,r[Xd]=a,t=(e.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<gd.length;i++)Tt(gd[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":b0(r,a),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tt("invalid",r);break;case"textarea":_0(r,a),Tt("invalid",r)}px(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Th(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Th(r.textContent,l,t),i=["children",""+l]):zd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Tt("scroll",r)}switch(n){case"input":jh(r),N0(r,a,!0);break;case"textarea":jh(r),S0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Af)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gs]=e,t[Xd]=r,XS(t,e,!1,!1),e.stateNode=t;e:{switch(o=gx(n,r),n){case"dialog":Tt("cancel",t),Tt("close",t),i=r;break;case"iframe":case"object":case"embed":Tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<gd.length;i++)Tt(gd[i],t);i=r;break;case"source":Tt("error",t),i=r;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=r;break;case"details":Tt("toggle",t),i=r;break;case"input":b0(t,r),i=dx(t,r),Tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),Tt("invalid",t);break;case"textarea":_0(t,r),i=fx(t,r),Tt("invalid",t);break;default:i=r}px(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?A_(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&T_(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bd(t,c):typeof c=="number"&&Bd(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Tt("scroll",t):c!=null&&ny(t,a,c,o))}switch(n){case"input":jh(t),N0(t,r,!1);break;case"textarea":jh(t),S0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?bl(t,!!r.multiple,a,!1):r.defaultValue!=null&&bl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)eC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=to(eu.current),to(Ss.current),Ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[gs]=e,(a=r.nodeValue!==n)&&(t=ar,t!==null))switch(t.tag){case 3:Th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Th(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gs]=e,e.stateNode=r}return Nn(e),null;case 13:if(Pt(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&ir!==null&&e.mode&1&&!(e.flags&128))vS(),rc(),e.flags|=98560,a=!1;else if(a=Ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(le(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(le(317));a[gs]=e}else rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),a=!1}else Ir!==null&&(Qx(Ir),Ir=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?en===0&&(en=3):Fy())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return ic(),zx(t,e),t===null&&Qd(e.stateNode.containerInfo),Nn(e),null;case 10:return jy(e.type._context),Nn(e),null;case 17:return Qn(e.type)&&If(),Nn(e),null;case 19:if(Pt(Dt),a=e.memoizedState,a===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)id(a,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$f(t),o!==null){for(e.flags|=128,id(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(Dt,Dt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Vt()>oc&&(e.flags|=128,r=!0,id(a,!1),e.lanes=4194304)}else{if(!r)if(t=$f(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),id(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!At)return Nn(e),null}else 2*Vt()-a.renderingStartTime>oc&&n!==1073741824&&(e.flags|=128,r=!0,id(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Vt(),e.sibling=null,n=Dt.current,St(Dt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return Ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function dD(t,e){switch(xy(e),e.tag){case 1:return Qn(e.type)&&If(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ic(),Pt(Yn),Pt(Cn),Cy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sy(e),null;case 13:if(Pt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Dt),null;case 4:return ic(),null;case 10:return jy(e.type._context),null;case 22:case 23:return Ly(),null;case 24:return null;default:return null}}var Rh=!1,Sn=!1,uD=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function vl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ft(t,e,r)}else n.current=null}function Bx(t,e,n){try{n()}catch(r){Ft(t,e,r)}}var mb=!1;function hD(t,e){if(Cx=Ef,t=iS(),py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,f=0,h=t,m=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++d===i&&(l=o),m===a&&++f===r&&(c=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kx={focusedElem:t,selectionRange:n},Ef=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,C=_.memoizedState,j=e.stateNode,y=j.getSnapshotBeforeUpdate(e.elementType===e.type?g:Tr(e.type,g),C);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(P){Ft(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return _=mb,mb=!1,_}function Ed(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Bx(e,n,a)}i=i.next}while(i!==r)}}function Um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tC(t){var e=t.alternate;e!==null&&(t.alternate=null,tC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gs],delete e[Xd],delete e[Px],delete e[GR],delete e[YR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nC(t){return t.tag===5||t.tag===3||t.tag===4}function pb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Af));else if(r!==4&&(t=t.child,t!==null))for(Hx(t,e,n),t=t.sibling;t!==null;)Hx(t,e,n),t=t.sibling}function qx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qx(t,e,n),t=t.sibling;t!==null;)qx(t,e,n),t=t.sibling}var fn=null,Ar=!1;function Ii(t,e,n){for(n=n.child;n!==null;)rC(t,e,n),n=n.sibling}function rC(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(Im,n)}catch{}switch(n.tag){case 5:Sn||vl(n,e);case 6:var r=fn,i=Ar;fn=null,Ii(t,e,n),fn=r,Ar=i,fn!==null&&(Ar?(t=fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fn.removeChild(n.stateNode));break;case 18:fn!==null&&(Ar?(t=fn,n=n.stateNode,t.nodeType===8?fg(t.parentNode,n):t.nodeType===1&&fg(t,n),Kd(t)):fg(fn,n.stateNode));break;case 4:r=fn,i=Ar,fn=n.stateNode.containerInfo,Ar=!0,Ii(t,e,n),fn=r,Ar=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bx(n,e,o),i=i.next}while(i!==r)}Ii(t,e,n);break;case 1:if(!Sn&&(vl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ft(n,e,l)}Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,Ii(t,e,n),Sn=r):Ii(t,e,n);break;default:Ii(t,e,n)}}function gb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uD),e.forEach(function(r){var i=jD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:fn=l.stateNode,Ar=!1;break e;case 3:fn=l.stateNode.containerInfo,Ar=!0;break e;case 4:fn=l.stateNode.containerInfo,Ar=!0;break e}l=l.return}if(fn===null)throw Error(le(160));rC(a,o,i),fn=null,Ar=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ft(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sC(e,t),e=e.sibling}function sC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kr(e,t),ls(t),r&4){try{Ed(3,t,t.return),Um(3,t)}catch(g){Ft(t,t.return,g)}try{Ed(5,t,t.return)}catch(g){Ft(t,t.return,g)}}break;case 1:kr(e,t),ls(t),r&512&&n!==null&&vl(n,n.return);break;case 5:if(kr(e,t),ls(t),r&512&&n!==null&&vl(n,n.return),t.flags&32){var i=t.stateNode;try{Bd(i,"")}catch(g){Ft(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&C_(i,a),gx(l,o);var d=gx(l,a);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?A_(i,h):f==="dangerouslySetInnerHTML"?T_(i,h):f==="children"?Bd(i,h):ny(i,f,h,d)}switch(l){case"input":ux(i,a);break;case"textarea":k_(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?bl(i,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?bl(i,!!a.multiple,a.defaultValue,!0):bl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xd]=a}catch(g){Ft(t,t.return,g)}}break;case 6:if(kr(e,t),ls(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Ft(t,t.return,g)}}break;case 3:if(kr(e,t),ls(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kd(e.containerInfo)}catch(g){Ft(t,t.return,g)}break;case 4:kr(e,t),ls(t);break;case 13:kr(e,t),ls(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(My=Vt())),r&4&&gb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(d=Sn)||f,kr(e,t),Sn=d):kr(e,t),ls(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Ee=t,f=t.child;f!==null;){for(h=Ee=f;Ee!==null;){switch(m=Ee,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ed(4,m,m.return);break;case 1:vl(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){Ft(r,n,g)}}break;case 5:vl(m,m.return);break;case 22:if(m.memoizedState!==null){vb(h);continue}}v!==null?(v.return=m,Ee=v):vb(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=P_("display",o))}catch(g){Ft(t,t.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Ft(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kr(e,t),ls(t),r&4&&gb(t);break;case 21:break;default:kr(e,t),ls(t)}}function ls(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nC(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bd(i,""),r.flags&=-33);var a=pb(t);qx(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=pb(t);Hx(t,l,o);break;default:throw Error(le(161))}}catch(c){Ft(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fD(t,e,n){Ee=t,iC(t)}function iC(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rh;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Sn;l=Rh;var d=Sn;if(Rh=o,(Sn=c)&&!d)for(Ee=i;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?yb(i):c!==null?(c.return=o,Ee=c):yb(i);for(;a!==null;)Ee=a,iC(a),a=a.sibling;Ee=i,Rh=l,Sn=d}xb(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ee=a):xb(t)}}function xb(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||Um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&tb(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Kd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Sn||e.flags&512&&Wx(e)}catch(m){Ft(e,e.return,m)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function vb(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function yb(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Um(4,e)}catch(c){Ft(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ft(e,i,c)}}var a=e.return;try{Wx(e)}catch(c){Ft(e,a,c)}break;case 5:var o=e.return;try{Wx(e)}catch(c){Ft(e,o,c)}}}catch(c){Ft(e,e.return,c)}if(e===t){Ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ee=l;break}Ee=e.return}}var mD=Math.ceil,zf=Ni.ReactCurrentDispatcher,Ry=Ni.ReactCurrentOwner,jr=Ni.ReactCurrentBatchConfig,lt=0,on=null,Bt=null,mn=0,tr=0,yl=Aa(0),en=0,su=null,jo=0,Vm=0,Dy=0,Td=null,Wn=null,My=0,oc=1/0,Qs=null,Bf=!1,Kx=null,da=null,Dh=!1,sa=null,Wf=0,Pd=0,Gx=null,af=-1,of=0;function On(){return lt&6?Vt():af!==-1?af:af=Vt()}function ua(t){return t.mode&1?lt&2&&mn!==0?mn&-mn:ZR.transition!==null?(of===0&&(of=B_()),of):(t=gt,t!==0||(t=window.event,t=t===void 0?16:Q_(t.type)),t):1}function Hr(t,e,n,r){if(50<Pd)throw Pd=0,Gx=null,Error(le(185));Ou(t,n,r),(!(lt&2)||t!==on)&&(t===on&&(!(lt&2)&&(Vm|=n),en===4&&zi(t,mn)),Zn(t,r),n===1&&lt===0&&!(e.mode&1)&&(oc=Vt()+500,Lm&&Ia()))}function Zn(t,e){var n=t.callbackNode;Z4(t,e);var r=kf(t,t===on?mn:0);if(r===0)n!==null&&E0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E0(n),e===1)t.tag===0?QR(wb.bind(null,t)):pS(wb.bind(null,t)),qR(function(){!(lt&6)&&Ia()}),n=null;else{switch(W_(r)){case 1:n=oy;break;case 4:n=V_;break;case 16:n=Cf;break;case 536870912:n=z_;break;default:n=Cf}n=fC(n,aC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aC(t,e){if(af=-1,of=0,lt&6)throw Error(le(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var r=kf(t,t===on?mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hf(t,r);else{e=r;var i=lt;lt|=2;var a=lC();(on!==t||mn!==e)&&(Qs=null,oc=Vt()+500,fo(t,e));do try{xD();break}catch(l){oC(t,l)}while(!0);wy(),zf.current=a,lt=i,Bt!==null?e=0:(on=null,mn=0,e=en)}if(e!==0){if(e===2&&(i=jx(t),i!==0&&(r=i,e=Yx(t,i))),e===1)throw n=su,fo(t,0),zi(t,r),Zn(t,Vt()),n;if(e===6)zi(t,r);else{if(i=t.current.alternate,!(r&30)&&!pD(i)&&(e=Hf(t,r),e===2&&(a=jx(t),a!==0&&(r=a,e=Yx(t,a))),e===1))throw n=su,fo(t,0),zi(t,r),Zn(t,Vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Ha(t,Wn,Qs);break;case 3:if(zi(t,r),(r&130023424)===r&&(e=My+500-Vt(),10<e)){if(kf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tx(Ha.bind(null,t,Wn,Qs),e);break}Ha(t,Wn,Qs);break;case 4:if(zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Wr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mD(r/1960))-r,10<r){t.timeoutHandle=Tx(Ha.bind(null,t,Wn,Qs),r);break}Ha(t,Wn,Qs);break;case 5:Ha(t,Wn,Qs);break;default:throw Error(le(329))}}}return Zn(t,Vt()),t.callbackNode===n?aC.bind(null,t):null}function Yx(t,e){var n=Td;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=Hf(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&Qx(e)),t}function Qx(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function pD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zi(t,e){for(e&=~Dy,e&=~Vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wr(e),r=1<<n;t[n]=-1,e&=~r}}function wb(t){if(lt&6)throw Error(le(327));kl();var e=kf(t,0);if(!(e&1))return Zn(t,Vt()),null;var n=Hf(t,e);if(t.tag!==0&&n===2){var r=jx(t);r!==0&&(e=r,n=Yx(t,r))}if(n===1)throw n=su,fo(t,0),zi(t,e),Zn(t,Vt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ha(t,Wn,Qs),Zn(t,Vt()),null}function Oy(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(oc=Vt()+500,Lm&&Ia())}}function bo(t){sa!==null&&sa.tag===0&&!(lt&6)&&kl();var e=lt;lt|=1;var n=jr.transition,r=gt;try{if(jr.transition=null,gt=1,t)return t()}finally{gt=r,jr.transition=n,lt=e,!(lt&6)&&Ia()}}function Ly(){tr=yl.current,Pt(yl)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HR(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(xy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&If();break;case 3:ic(),Pt(Yn),Pt(Cn),Cy();break;case 5:Sy(r);break;case 4:ic();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:jy(r.type._context);break;case 22:case 23:Ly()}n=n.return}if(on=t,Bt=t=ha(t.current,null),mn=tr=e,en=0,su=null,Dy=Vm=jo=0,Wn=Td=null,eo!==null){for(e=0;e<eo.length;e++)if(n=eo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}eo=null}return t}function oC(t,e){do{var n=Bt;try{if(wy(),nf.current=Vf,Uf){for(var r=Mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uf=!1}if(wo=0,sn=Yt=Mt=null,kd=!1,tu=0,Ry.current=null,n===null||n.return===null){en=1,su=e,Bt=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=ob(o);if(v!==null){v.flags&=-257,lb(v,o,l,a,e),v.mode&1&&ab(a,d,e),e=v,c=d;var _=e.updateQueue;if(_===null){var g=new Set;g.add(c),e.updateQueue=g}else _.add(c);break e}else{if(!(e&1)){ab(a,d,e),Fy();break e}c=Error(le(426))}}else if(At&&l.mode&1){var C=ob(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),lb(C,o,l,a,e),vy(ac(c,l));break e}}a=c=ac(c,l),en!==4&&(en=2),Td===null?Td=[a]:Td.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var j=WS(a,c,e);eb(a,j);break e;case 1:l=c;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(da===null||!da.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var P=HS(a,l,e);eb(a,P);break e}}a=a.return}while(a!==null)}dC(n)}catch(D){e=D,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function lC(){var t=zf.current;return zf.current=Vf,t===null?Vf:t}function Fy(){(en===0||en===3||en===2)&&(en=4),on===null||!(jo&268435455)&&!(Vm&268435455)||zi(on,mn)}function Hf(t,e){var n=lt;lt|=2;var r=lC();(on!==t||mn!==e)&&(Qs=null,fo(t,e));do try{gD();break}catch(i){oC(t,i)}while(!0);if(wy(),lt=n,zf.current=r,Bt!==null)throw Error(le(261));return on=null,mn=0,en}function gD(){for(;Bt!==null;)cC(Bt)}function xD(){for(;Bt!==null&&!z4();)cC(Bt)}function cC(t){var e=hC(t.alternate,t,tr);t.memoizedProps=t.pendingProps,e===null?dC(t):Bt=e,Ry.current=null}function dC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dD(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Bt=null;return}}else if(n=cD(n,e,tr),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);en===0&&(en=5)}function Ha(t,e,n){var r=gt,i=jr.transition;try{jr.transition=null,gt=1,vD(t,e,n,r)}finally{jr.transition=i,gt=r}return null}function vD(t,e,n,r){do kl();while(sa!==null);if(lt&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(X4(t,a),t===on&&(Bt=on=null,mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dh||(Dh=!0,fC(Cf,function(){return kl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=jr.transition,jr.transition=null;var o=gt;gt=1;var l=lt;lt|=4,Ry.current=null,hD(t,n),sC(n,t),FR(kx),Ef=!!Cx,kx=Cx=null,t.current=n,fD(n),B4(),lt=l,gt=o,jr.transition=a}else t.current=n;if(Dh&&(Dh=!1,sa=t,Wf=i),a=t.pendingLanes,a===0&&(da=null),q4(n.stateNode),Zn(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=Kx,Kx=null,t;return Wf&1&&t.tag!==0&&kl(),a=t.pendingLanes,a&1?t===Gx?Pd++:(Pd=0,Gx=t):Pd=0,Ia(),null}function kl(){if(sa!==null){var t=W_(Wf),e=jr.transition,n=gt;try{if(jr.transition=null,gt=16>t?16:t,sa===null)var r=!1;else{if(t=sa,sa=null,Wf=0,lt&6)throw Error(le(331));var i=lt;for(lt|=4,Ee=t.current;Ee!==null;){var a=Ee,o=a.child;if(Ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ee=d;Ee!==null;){var f=Ee;switch(f.tag){case 0:case 11:case 15:Ed(8,f,a)}var h=f.child;if(h!==null)h.return=f,Ee=h;else for(;Ee!==null;){f=Ee;var m=f.sibling,v=f.return;if(tC(f),f===d){Ee=null;break}if(m!==null){m.return=v,Ee=m;break}Ee=v}}}var _=a.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}Ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ee=o;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ed(9,a,a.return)}var j=a.sibling;if(j!==null){j.return=a.return,Ee=j;break e}Ee=a.return}}var y=t.current;for(Ee=y;Ee!==null;){o=Ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ee=x;else e:for(o=y;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Um(9,l)}}catch(D){Ft(l,l.return,D)}if(l===o){Ee=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Ee=P;break e}Ee=l.return}}if(lt=i,Ia(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(Im,t)}catch{}r=!0}return r}finally{gt=n,jr.transition=e}}return!1}function jb(t,e,n){e=ac(n,e),e=WS(t,e,1),t=ca(t,e,1),e=On(),t!==null&&(Ou(t,1,e),Zn(t,e))}function Ft(t,e,n){if(t.tag===3)jb(t,t,n);else for(;e!==null;){if(e.tag===3){jb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(da===null||!da.has(r))){t=ac(n,t),t=HS(e,t,1),e=ca(e,t,1),t=On(),e!==null&&(Ou(e,1,t),Zn(e,t));break}}e=e.return}}function yD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(mn&n)===n&&(en===4||en===3&&(mn&130023424)===mn&&500>Vt()-My?fo(t,0):Dy|=n),Zn(t,e)}function uC(t,e){e===0&&(t.mode&1?(e=_h,_h<<=1,!(_h&130023424)&&(_h=4194304)):e=1);var n=On();t=hi(t,e),t!==null&&(Ou(t,e,n),Zn(t,n))}function wD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uC(t,n)}function jD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),uC(t,n)}var hC;hC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hn=!1,lD(t,e,n);Hn=!!(t.flags&131072)}else Hn=!1,At&&e.flags&1048576&&gS(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sf(t,e),t=e.pendingProps;var i=nc(e,Cn.current);Cl(e,n),i=Ey(null,e,r,t,i,n);var a=Ty();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(a=!0,Rf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ny(e),i.updater=$m,e.stateNode=i,i._reactInternals=e,Ox(e,r,t,n),e=$x(null,e,r,!0,a,n)):(e.tag=0,At&&a&&gy(e),In(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ND(r),t=Tr(r,t),i){case 0:e=Fx(null,e,r,t,n);break e;case 1:e=ub(null,e,r,t,n);break e;case 11:e=cb(null,e,r,t,n);break e;case 14:e=db(null,e,r,Tr(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Fx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),ub(t,e,r,i,n);case 3:e:{if(YS(e),t===null)throw Error(le(387));r=e.pendingProps,a=e.memoizedState,i=a.element,bS(t,e),Ff(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ac(Error(le(423)),e),e=hb(t,e,r,n,i);break e}else if(r!==i){i=ac(Error(le(424)),e),e=hb(t,e,r,n,i);break e}else for(ir=la(e.stateNode.containerInfo.firstChild),ar=e,At=!0,Ir=null,n=wS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rc(),r===i){e=fi(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return NS(e),t===null&&Rx(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ex(r,i)?o=null:a!==null&&Ex(r,a)&&(e.flags|=32),GS(t,e),In(t,e,o,n),e.child;case 6:return t===null&&Rx(e),null;case 13:return QS(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sc(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),cb(t,e,r,i,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,St(Of,r._currentValue),r._currentValue=o,a!==null)if(Xr(a.value,o)){if(a.children===i.children&&!Yn.current){e=fi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=li(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Dx(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(le(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dx(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}In(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cl(e,n),i=Nr(i),r=r(i),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),db(t,e,r,i,n);case 15:return qS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),sf(t,e),e.tag=1,Qn(r)?(t=!0,Rf(e)):t=!1,Cl(e,n),BS(e,r,i),Ox(e,r,i,n),$x(null,e,r,!0,t,n);case 19:return ZS(t,e,n);case 22:return KS(t,e,n)}throw Error(le(156,e.tag))};function fC(t,e){return U_(t,e)}function bD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new bD(t,e,n,r)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ND(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sy)return 11;if(t===iy)return 14}return 2}function ha(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lf(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cl:return mo(n.children,i,a,e);case ry:o=8,i|=8;break;case ax:return t=wr(12,n,e,i|2),t.elementType=ax,t.lanes=a,t;case ox:return t=wr(13,n,e,i),t.elementType=ox,t.lanes=a,t;case lx:return t=wr(19,n,e,i),t.elementType=lx,t.lanes=a,t;case N_:return zm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j_:o=10;break e;case b_:o=9;break e;case sy:o=11;break e;case iy:o=14;break e;case $i:o=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function mo(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function zm(t,e,n,r){return t=wr(22,t,r,e),t.elementType=N_,t.lanes=n,t.stateNode={isHidden:!1},t}function jg(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function bg(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _D(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uy(t,e,n,r,i,a,o,l,c){return t=new _D(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=wr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ny(a),t}function SD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mC(t){if(!t)return va;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Qn(n))return mS(t,n,e)}return e}function pC(t,e,n,r,i,a,o,l,c){return t=Uy(n,r,!0,t,i,a,o,l,c),t.context=mC(null),n=t.current,r=On(),i=ua(n),a=li(r,i),a.callback=e??null,ca(n,a,i),t.current.lanes=i,Ou(t,i,r),Zn(t,r),t}function Bm(t,e,n,r){var i=e.current,a=On(),o=ua(i);return n=mC(n),e.context===null?e.context=n:e.pendingContext=n,e=li(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ca(i,e,o),t!==null&&(Hr(t,i,o,a),tf(t,i,o)),o}function qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vy(t,e){bb(t,e),(t=t.alternate)&&bb(t,e)}function CD(){return null}var gC=typeof reportError=="function"?reportError:function(t){console.error(t)};function zy(t){this._internalRoot=t}Wm.prototype.render=zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Bm(t,e,null,null)};Wm.prototype.unmount=zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){Bm(null,t,null,null)}),e[ui]=null}};function Wm(t){this._internalRoot=t}Wm.prototype.unstable_scheduleHydration=function(t){if(t){var e=K_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&Y_(t)}};function By(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nb(){}function kD(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=qf(o);a.call(d)}}var o=pC(e,r,t,0,null,!1,!1,"",Nb);return t._reactRootContainer=o,t[ui]=o.current,Qd(t.nodeType===8?t.parentNode:t),bo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=qf(c);l.call(d)}}var c=Uy(t,0,!1,null,null,!1,!1,"",Nb);return t._reactRootContainer=c,t[ui]=c.current,Qd(t.nodeType===8?t.parentNode:t),bo(function(){Bm(e,c,n,r)}),c}function qm(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=qf(o);l.call(c)}}Bm(e,o,t,i)}else o=kD(n,e,t,i,r);return qf(o)}H_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pd(e.pendingLanes);n!==0&&(ly(e,n|1),Zn(e,Vt()),!(lt&6)&&(oc=Vt()+500,Ia()))}break;case 13:bo(function(){var r=hi(t,1);if(r!==null){var i=On();Hr(r,t,1,i)}}),Vy(t,1)}};cy=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=On();Hr(e,t,134217728,n)}Vy(t,134217728)}};q_=function(t){if(t.tag===13){var e=ua(t),n=hi(t,e);if(n!==null){var r=On();Hr(n,t,e,r)}Vy(t,e)}};K_=function(){return gt};G_=function(t,e){var n=gt;try{return gt=t,e()}finally{gt=n}};vx=function(t,e,n){switch(e){case"input":if(ux(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Om(r);if(!i)throw Error(le(90));S_(r),ux(r,i)}}}break;case"textarea":k_(t,n);break;case"select":e=n.value,e!=null&&bl(t,!!n.multiple,e,!1)}};D_=Oy;M_=bo;var ED={usingClientEntryPoint:!1,Events:[Fu,fl,Om,I_,R_,Oy]},ad={findFiberByHostInstance:Ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TD={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F_(t),t===null?null:t.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Im=Mh.inject(TD),_s=Mh}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ED;hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!By(e))throw Error(le(200));return SD(t,e,null,n)};hr.createRoot=function(t,e){if(!By(t))throw Error(le(299));var n=!1,r="",i=gC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uy(t,1,!1,null,null,n,!1,r,i),t[ui]=e.current,Qd(t.nodeType===8?t.parentNode:t),new zy(e)};hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=F_(e),t=t===null?null:t.stateNode,t};hr.flushSync=function(t){return bo(t)};hr.hydrate=function(t,e,n){if(!Hm(e))throw Error(le(200));return qm(null,t,e,!0,n)};hr.hydrateRoot=function(t,e,n){if(!By(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=gC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pC(e,null,t,1,n??null,i,!1,a,o),t[ui]=e.current,Qd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wm(e)};hr.render=function(t,e,n){if(!Hm(e))throw Error(le(200));return qm(null,t,e,!1,n)};hr.unmountComponentAtNode=function(t){if(!Hm(t))throw Error(le(40));return t._reactRootContainer?(bo(function(){qm(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};hr.unstable_batchedUpdates=Oy;hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hm(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return qm(t,e,n,!1,r)};hr.version="18.3.1-next-f1338f8080-20240426";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(t){console.error(t)}}xC(),x_.exports=hr;var Vo=x_.exports;const PD=s_(Vo);var vC,_b=Vo;vC=_b.createRoot,_b.hydrateRoot;function AD(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var yC={exports:{}},wC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=p;function ID(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RD=typeof Object.is=="function"?Object.is:ID,DD=lc.useState,MD=lc.useEffect,OD=lc.useLayoutEffect,LD=lc.useDebugValue;function FD(t,e){var n=e(),r=DD({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return OD(function(){i.value=n,i.getSnapshot=e,Ng(i)&&a({inst:i})},[t,n,e]),MD(function(){return Ng(i)&&a({inst:i}),t(function(){Ng(i)&&a({inst:i})})},[t]),LD(n),n}function Ng(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RD(t,n)}catch{return!0}}function $D(t,e){return e()}var UD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$D:FD;wC.useSyncExternalStore=lc.useSyncExternalStore!==void 0?lc.useSyncExternalStore:UD;yC.exports=wC;var VD=yC.exports;const zD=p_.useInsertionEffect,BD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WD=BD?p.useLayoutEffect:p.useEffect,HD=zD||WD,jC=t=>{const e=p.useRef([t,(...n)=>e[0](...n)]).current;return HD(()=>{e[0]=t}),e[1]},qD="popstate",Wy="pushState",Hy="replaceState",KD="hashchange",Sb=[qD,Wy,Hy,KD],GD=t=>{for(const e of Sb)addEventListener(e,t);return()=>{for(const e of Sb)removeEventListener(e,t)}},bC=(t,e)=>VD.useSyncExternalStore(GD,t,e),YD=()=>location.search,QD=({ssrSearch:t=""}={})=>bC(YD,()=>t),Cb=()=>location.pathname,ZD=({ssrPath:t}={})=>bC(Cb,t?()=>t:Cb),XD=(t,{replace:e=!1,state:n=null}={})=>history[e?Hy:Wy](n,"",t),JD=(t={})=>[ZD(t),XD],kb=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[kb]>"u"){for(const t of[Wy,Hy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,kb,{value:!0})}const eM=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",NC=(t="")=>t==="/"?"":t,tM=(t,e)=>t[0]==="~"?t.slice(1):NC(e)+t,nM=(t="",e)=>eM(Eb(NC(t)),Eb(e)),Eb=t=>{try{return decodeURI(t)}catch{return t}},_C={hook:JD,searchHook:QD,parser:AD,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},SC=p.createContext(_C),Sc=()=>p.useContext(SC),CC={},kC=p.createContext(CC),rM=()=>p.useContext(kC),Km=t=>{const[e,n]=t.hook(t);return[nM(t.base,e),jC((r,i)=>n(tM(r,t.base),i))]},qt=()=>Km(Sc()),qy=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...r?[l]:[]]:[!1,null]},zo=t=>qy(Sc().parser,t,qt()[0]),sM=({children:t,...e})=>{var f,h;const n=Sc(),r=e.hook?_C:n;let i=r;const[a,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let m in r){const v=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===d&&v!==d[m]&&(l.current=d={...d}),d[m]=v,v!==r[m]&&(i=d)}return p.createElement(SC.Provider,{value:i,children:t})},Tb=({children:t,component:e},n)=>e?p.createElement(e,{params:n}):typeof t=="function"?t(n):t,iM=t=>{let e=p.useRef(CC),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},bt=({path:t,nest:e,match:n,...r})=>{const i=Sc(),[a]=Km(i),[o,l,c]=n??qy(i.parser,t,a,e),d=iM({...rM(),...l});if(!o)return null;const f=c?p.createElement(sM,{base:c},Tb(r,d)):Tb(r,d);return p.createElement(kC.Provider,{value:d,children:f})},El=p.forwardRef((t,e)=>{const n=Sc(),[r,i]=Km(n),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:f,replace:h,state:m,...v}=t,_=jC(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(l==null||l(C),C.defaultPrevented||(C.preventDefault(),i(o,t)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:_,href:g}):p.createElement("a",{...v,onClick:_,href:g,className:f!=null&&f.call?f(r===o):f,children:d,ref:e})}),EC=t=>Array.isArray(t)?t.flatMap(e=>EC(e&&e.type===p.Fragment?e.props.children:e)):[t],Pb=({children:t,location:e})=>{const n=Sc(),[r]=Km(n);for(const i of EC(t)){let a=0;if(p.isValidElement(i)&&(a=qy(n.parser,i.props.path,e||r,i.props.nest))[0])return p.cloneElement(i,{match:a})}return null};var Cc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},No=typeof window>"u"||"Deno"in globalThis;function xr(){}function aM(t,e){return typeof t=="function"?t(e):t}function Zx(t){return typeof t=="number"&&t>=0&&t!==1/0}function TC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Tl(t,e){return typeof t=="function"?t(e):t}function Rr(t,e){return typeof t=="function"?t(e):t}function Ab(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Ky(o,e.options))return!1}else if(!iu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function Ib(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(_o(e.options.mutationKey)!==_o(a))return!1}else if(!iu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Ky(t,e){return((e==null?void 0:e.queryKeyHashFn)||_o)(t)}function _o(t){return JSON.stringify(t,(e,n)=>Xx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!iu(t[n],e[n])):!1}function PC(t,e){if(t===e)return t;const n=Rb(t)&&Rb(e);if(n||Xx(t)&&Xx(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:a[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=PC(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function Kf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xx(t){if(!Db(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Db(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Db(t){return Object.prototype.toString.call(t)==="[object Object]"}function oM(t){return new Promise(e=>{setTimeout(e,t)})}function Jx(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PC(t,e):e}function lM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function cM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gy=Symbol();function AC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var io,Gi,zl,G1,dM=(G1=class extends Cc{constructor(){super();Re(this,io);Re(this,Gi);Re(this,zl);Ce(this,zl,e=>{if(!No&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Gi)||this.setEventListener(U(this,zl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Gi))==null||e.call(this),Ce(this,Gi,void 0))}setEventListener(e){var n;Ce(this,zl,e),(n=U(this,Gi))==null||n.call(this),Ce(this,Gi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,io)!==e&&(Ce(this,io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,io)=="boolean"?U(this,io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},io=new WeakMap,Gi=new WeakMap,zl=new WeakMap,G1),Yy=new dM,Bl,Yi,Wl,Y1,uM=(Y1=class extends Cc{constructor(){super();Re(this,Bl,!0);Re(this,Yi);Re(this,Wl);Ce(this,Wl,e=>{if(!No&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Yi)||this.setEventListener(U(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Yi))==null||e.call(this),Ce(this,Yi,void 0))}setEventListener(e){var n;Ce(this,Wl,e),(n=U(this,Yi))==null||n.call(this),Ce(this,Yi,e(this.setOnline.bind(this)))}setOnline(e){U(this,Bl)!==e&&(Ce(this,Bl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Bl)}},Bl=new WeakMap,Yi=new WeakMap,Wl=new WeakMap,Y1),Gf=new uM;function ev(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function hM(t){return Math.min(1e3*2**t,3e4)}function IC(t){return(t??"online")==="online"?Gf.isOnline():!0}var RC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _g(t){return t instanceof RC}function DC(t){let e=!1,n=0,r=!1,i;const a=ev(),o=g=>{var C;r||(m(new RC(g)),(C=t.abort)==null||C.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Yy.isFocused()&&(t.networkMode==="always"||Gf.isOnline())&&t.canRun(),f=()=>IC(t.networkMode)&&t.canRun(),h=g=>{var C;r||(r=!0,(C=t.onSuccess)==null||C.call(t,g),i==null||i(),a.resolve(g))},m=g=>{var C;r||(r=!0,(C=t.onError)==null||C.call(t,g),i==null||i(),a.reject(g))},v=()=>new Promise(g=>{var C;i=j=>{(r||d())&&g(j)},(C=t.onPause)==null||C.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const C=n===0?t.initialPromise:void 0;try{g=C??t.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(h).catch(j=>{var O;if(r)return;const y=t.retry??(No?0:3),x=t.retryDelay??hM,P=typeof x=="function"?x(n,j):x,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,j);if(e||!D){m(j);return}n++,(O=t.onFail)==null||O.call(t,n,j),oM(P).then(()=>d()?void 0:v()).then(()=>{e?m(j):_()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?_():v().then(_),a)}}function fM(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Qt=fM(),ao,Q1,MC=(Q1=class{constructor(){Re(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zx(this.gcTime)&&Ce(this,ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(No?1/0:5*60*1e3))}clearGcTimeout(){U(this,ao)&&(clearTimeout(U(this,ao)),Ce(this,ao,void 0))}},ao=new WeakMap,Q1),Hl,ql,gr,_n,Au,oo,Pr,Gs,Z1,mM=(Z1=class extends MC{constructor(n){super();Re(this,Pr);Re(this,Hl);Re(this,ql);Re(this,gr);Re(this,_n);Re(this,Au);Re(this,oo);Ce(this,oo,!1),Ce(this,Au,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ce(this,gr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ce(this,Hl,pM(this.options)),this.state=n.state??U(this,Hl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,_n))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Au),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,gr).remove(this)}setData(n,r){const i=Jx(this.state.data,n,this.options);return Ye(this,Pr,Gs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ye(this,Pr,Gs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=U(this,_n))==null?void 0:i.promise;return(a=U(this,_n))==null||a.cancel(n),r?r.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Hl))}isActive(){return this.observers.some(n=>Rr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!TC(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,_n))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,_n))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,gr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,_n)&&(U(this,oo)?U(this,_n).cancel({revert:!0}):U(this,_n).cancelRetry()),this.scheduleGc()),U(this,gr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ye(this,Pr,Gs).call(this,{type:"invalidate"})}fetch(n,r){var d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,_n))return U(this,_n).continueRetry(),U(this,_n).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ce(this,oo,!0),i.signal)})},o=()=>{const m=AC(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return a(v),Ce(this,oo,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(d=this.options.behavior)==null||d.onFetch(l,this),Ce(this,ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Ye(this,Pr,Gs).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=m=>{var v,_,g,C;_g(m)&&m.silent||Ye(this,Pr,Gs).call(this,{type:"error",error:m}),_g(m)||((_=(v=U(this,gr).config).onError)==null||_.call(v,m,this),(C=(g=U(this,gr).config).onSettled)==null||C.call(g,this.state.data,m,this)),this.scheduleGc()};return Ce(this,_n,DC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var v,_,g,C;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(j){c(j);return}(_=(v=U(this,gr).config).onSuccess)==null||_.call(v,m,this),(C=(g=U(this,gr).config).onSettled)==null||C.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,v)=>{Ye(this,Pr,Gs).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{Ye(this,Pr,Gs).call(this,{type:"pause"})},onContinue:()=>{Ye(this,Pr,Gs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,_n).start()}},Hl=new WeakMap,ql=new WeakMap,gr=new WeakMap,_n=new WeakMap,Au=new WeakMap,oo=new WeakMap,Pr=new WeakSet,Gs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...OC(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=n.error;return _g(a)&&a.revert&&U(this,ql)?{...U(this,ql),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Qt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,gr).notify({query:this,type:"updated",action:n})})},Z1);function OC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var us,X1,gM=(X1=class extends Cc{constructor(e={}){super();Re(this,us);this.config=e,Ce(this,us,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??Ky(i,n);let o=this.get(a);return o||(o=new mM({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,us).has(e.queryHash)||(U(this,us).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,us).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,us).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,us).get(e)}getAll(){return[...U(this,us).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ab(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ab(e,r)):n}notify(e){Qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},us=new WeakMap,X1),hs,Tn,lo,fs,Li,J1,xM=(J1=class extends MC{constructor(e){super();Re(this,fs);Re(this,hs);Re(this,Tn);Re(this,lo);this.mutationId=e.mutationId,Ce(this,Tn,e.mutationCache),Ce(this,hs,[]),this.state=e.state||LC(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,hs).includes(e)||(U(this,hs).push(e),this.clearGcTimeout(),U(this,Tn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ce(this,hs,U(this,hs).filter(n=>n!==e)),this.scheduleGc(),U(this,Tn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,hs).length||(this.state.status==="pending"?this.scheduleGc():U(this,Tn).remove(this))}continue(){var e;return((e=U(this,lo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,d,f,h,m,v,_,g,C,j,y,x,P,D,O,E;Ce(this,lo,DC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(b,S)=>{Ye(this,fs,Li).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Ye(this,fs,Li).call(this,{type:"pause"})},onContinue:()=>{Ye(this,fs,Li).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Tn).canRun(this)}));const n=this.state.status==="pending",r=!U(this,lo).canStart();try{if(!n){Ye(this,fs,Li).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=U(this,Tn).config).onMutate)==null?void 0:a.call(i,e,this));const S=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));S!==this.state.context&&Ye(this,fs,Li).call(this,{type:"pending",context:S,variables:e,isPaused:r})}const b=await U(this,lo).start();return await((d=(c=U(this,Tn).config).onSuccess)==null?void 0:d.call(c,b,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,b,e,this.state.context)),await((v=(m=U(this,Tn).config).onSettled)==null?void 0:v.call(m,b,null,this.state.variables,this.state.context,this)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,b,null,e,this.state.context)),Ye(this,fs,Li).call(this,{type:"success",data:b}),b}catch(b){try{throw await((j=(C=U(this,Tn).config).onError)==null?void 0:j.call(C,b,e,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,b,e,this.state.context)),await((D=(P=U(this,Tn).config).onSettled)==null?void 0:D.call(P,void 0,b,this.state.variables,this.state.context,this)),await((E=(O=this.options).onSettled)==null?void 0:E.call(O,void 0,b,e,this.state.context)),b}finally{Ye(this,fs,Li).call(this,{type:"error",error:b})}}finally{U(this,Tn).runNext(this)}}},hs=new WeakMap,Tn=new WeakMap,lo=new WeakMap,fs=new WeakSet,Li=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qt.batch(()=>{U(this,hs).forEach(r=>{r.onMutationUpdate(e)}),U(this,Tn).notify({mutation:this,type:"updated",action:e})})},J1);function LC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var er,Iu,e_,vM=(e_=class extends Cc{constructor(e={}){super();Re(this,er);Re(this,Iu);this.config=e,Ce(this,er,new Map),Ce(this,Iu,Date.now())}build(e,n,r){const i=new xM({mutationCache:this,mutationId:++vh(this,Iu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Oh(e),r=U(this,er).get(n)??[];r.push(e),U(this,er).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Oh(e);if(U(this,er).has(n)){const i=(r=U(this,er).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?U(this,er).delete(n):U(this,er).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,er).get(Oh(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,er).get(Oh(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,er).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ib(n,r))}findAll(e={}){return this.getAll().filter(n=>Ib(e,n))}notify(e){Qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qt.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},er=new WeakMap,Iu=new WeakMap,e_);function Oh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Mb(t){return{onFetch:(e,n)=>{var f,h,m,v,_;const r=e.options,i=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const C=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},j=AC(e.options,e.fetchOptions),y=async(x,P,D)=>{if(g)return Promise.reject();if(P==null&&x.pages.length)return Promise.resolve(x);const O={queryKey:e.queryKey,pageParam:P,direction:D?"backward":"forward",meta:e.options.meta};C(O);const E=await j(O),{maxPages:b}=e.options,S=D?cM:lM;return{pages:S(x.pages,E,b),pageParams:S(x.pageParams,P,b)}};if(i&&a.length){const x=i==="backward",P=x?yM:Ob,D={pages:a,pageParams:o},O=P(r,D);l=await y(D,O,x)}else{const x=t??a.length;do{const P=c===0?o[0]??r.initialPageParam:Ob(r,l);if(c>0&&P==null)break;l=await y(l,P),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var g,C;return(C=(g=e.options).persister)==null?void 0:C.call(g,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function Ob(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function yM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Lt,Qi,Zi,Kl,Gl,Xi,Yl,Ql,t_,wM=(t_=class{constructor(t={}){Re(this,Lt);Re(this,Qi);Re(this,Zi);Re(this,Kl);Re(this,Gl);Re(this,Xi);Re(this,Yl);Re(this,Ql);Ce(this,Lt,t.queryCache||new gM),Ce(this,Qi,t.mutationCache||new vM),Ce(this,Zi,t.defaultOptions||{}),Ce(this,Kl,new Map),Ce(this,Gl,new Map),Ce(this,Xi,0)}mount(){vh(this,Xi)._++,U(this,Xi)===1&&(Ce(this,Yl,Yy.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Lt).onFocus())})),Ce(this,Ql,Gf.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Lt).onOnline())})))}unmount(){var t,e;vh(this,Xi)._--,U(this,Xi)===0&&((t=U(this,Yl))==null||t.call(this),Ce(this,Yl,void 0),(e=U(this,Ql))==null||e.call(this),Ce(this,Ql,void 0))}isFetching(t){return U(this,Lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Qi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,Lt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Tl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,Lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,Lt).get(r.queryHash),a=i==null?void 0:i.state.data,o=aM(e,a);if(o!==void 0)return U(this,Lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Qt.batch(()=>U(this,Lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Lt);Qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Lt),r={type:"active",...t};return Qt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Qt.batch(()=>U(this,Lt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t={},e={}){return Qt.batch(()=>{if(U(this,Lt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Qt.batch(()=>U(this,Lt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(xr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Lt).build(this,e);return n.isStaleByTime(Tl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=Mb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=Mb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gf.isOnline()?U(this,Qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Lt)}getMutationCache(){return U(this,Qi)}getDefaultOptions(){return U(this,Zi)}setDefaultOptions(t){Ce(this,Zi,t)}setQueryDefaults(t,e){U(this,Kl).set(_o(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Kl).values()];let n={};return e.forEach(r=>{iu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,Gl).set(_o(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Gl).values()];let n={};return e.forEach(r=>{iu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Zi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ky(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Gy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Zi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Lt).clear(),U(this,Qi).clear()}},Lt=new WeakMap,Qi=new WeakMap,Zi=new WeakMap,Kl=new WeakMap,Gl=new WeakMap,Xi=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,t_),zn,nt,Ru,Pn,co,Zl,Ji,ms,Du,Xl,Jl,uo,ho,ea,ec,ft,xd,tv,nv,rv,sv,iv,av,ov,FC,n_,jM=(n_=class extends Cc{constructor(e,n){super();Re(this,ft);Re(this,zn);Re(this,nt);Re(this,Ru);Re(this,Pn);Re(this,co);Re(this,Zl);Re(this,Ji);Re(this,ms);Re(this,Du);Re(this,Xl);Re(this,Jl);Re(this,uo);Re(this,ho);Re(this,ea);Re(this,ec,new Set);this.options=n,Ce(this,zn,e),Ce(this,ms,null),Ce(this,Ji,ev()),this.options.experimental_prefetchInRender||U(this,Ji).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,nt).addObserver(this),Lb(U(this,nt),this.options)?Ye(this,ft,xd).call(this):this.updateResult(),Ye(this,ft,sv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lv(U(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lv(U(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ye(this,ft,iv).call(this),Ye(this,ft,av).call(this),U(this,nt).removeObserver(this)}setOptions(e,n){const r=this.options,i=U(this,nt);if(this.options=U(this,zn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rr(this.options.enabled,U(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ye(this,ft,ov).call(this),U(this,nt).setOptions(this.options),r._defaulted&&!Kf(this.options,r)&&U(this,zn).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,nt),observer:this});const a=this.hasListeners();a&&Fb(U(this,nt),i,this.options,r)&&Ye(this,ft,xd).call(this),this.updateResult(n),a&&(U(this,nt)!==i||Rr(this.options.enabled,U(this,nt))!==Rr(r.enabled,U(this,nt))||Tl(this.options.staleTime,U(this,nt))!==Tl(r.staleTime,U(this,nt)))&&Ye(this,ft,tv).call(this);const o=Ye(this,ft,nv).call(this);a&&(U(this,nt)!==i||Rr(this.options.enabled,U(this,nt))!==Rr(r.enabled,U(this,nt))||o!==U(this,ea))&&Ye(this,ft,rv).call(this,o)}getOptimisticResult(e){const n=U(this,zn).getQueryCache().build(U(this,zn),e),r=this.createResult(n,e);return NM(this,r)&&(Ce(this,Pn,r),Ce(this,Zl,this.options),Ce(this,co,U(this,nt).state)),r}getCurrentResult(){return U(this,Pn)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){U(this,ec).add(e)}getCurrentQuery(){return U(this,nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,zn).defaultQueryOptions(e),r=U(this,zn).getQueryCache().build(U(this,zn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ye(this,ft,xd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Pn)))}createResult(e,n){var b;const r=U(this,nt),i=this.options,a=U(this,Pn),o=U(this,co),l=U(this,Zl),d=e!==r?e.state:U(this,Ru),{state:f}=e;let h={...f},m=!1,v;if(n._optimisticResults){const S=this.hasListeners(),R=!S&&Lb(e,n),N=S&&Fb(e,r,n,i);(R||N)&&(h={...h,...OC(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:_,errorUpdatedAt:g,status:C}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===U(this,Du))v=U(this,Xl);else try{Ce(this,Du,n.select),v=n.select(h.data),v=Jx(a==null?void 0:a.data,v,n),Ce(this,Xl,v),Ce(this,ms,null)}catch(S){Ce(this,ms,S)}else v=h.data;if(n.placeholderData!==void 0&&v===void 0&&C==="pending"){let S;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))S=a.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((b=U(this,Jl))==null?void 0:b.state.data,U(this,Jl)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),Ce(this,ms,null)}catch(R){Ce(this,ms,R)}S!==void 0&&(C="success",v=Jx(a==null?void 0:a.data,S,n),m=!0)}U(this,ms)&&(_=U(this,ms),v=U(this,Xl),g=Date.now(),C="error");const j=h.fetchStatus==="fetching",y=C==="pending",x=C==="error",P=y&&j,D=v!==void 0,E={status:C,fetchStatus:h.fetchStatus,isPending:y,isSuccess:C==="success",isError:x,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:h.dataUpdatedAt,error:_,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:x&&!D,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:x&&D,isStale:Qy(e,n),refetch:this.refetch,promise:U(this,Ji)};if(this.options.experimental_prefetchInRender){const S=T=>{E.status==="error"?T.reject(E.error):E.data!==void 0&&T.resolve(E.data)},R=()=>{const T=Ce(this,Ji,E.promise=ev());S(T)},N=U(this,Ji);switch(N.status){case"pending":e.queryHash===r.queryHash&&S(N);break;case"fulfilled":(E.status==="error"||E.data!==N.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==N.reason)&&R();break}}return E}updateResult(e){const n=U(this,Pn),r=this.createResult(U(this,nt),this.options);if(Ce(this,co,U(this,nt).state),Ce(this,Zl,this.options),U(this,co).data!==void 0&&Ce(this,Jl,U(this,nt)),Kf(r,n))return;Ce(this,Pn,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,ec).size)return!0;const c=new Set(l??U(this,ec));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Pn)).some(d=>{const f=d;return U(this,Pn)[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Ye(this,ft,FC).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ye(this,ft,sv).call(this)}},zn=new WeakMap,nt=new WeakMap,Ru=new WeakMap,Pn=new WeakMap,co=new WeakMap,Zl=new WeakMap,Ji=new WeakMap,ms=new WeakMap,Du=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,uo=new WeakMap,ho=new WeakMap,ea=new WeakMap,ec=new WeakMap,ft=new WeakSet,xd=function(e){Ye(this,ft,ov).call(this);let n=U(this,nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(xr)),n},tv=function(){Ye(this,ft,iv).call(this);const e=Tl(this.options.staleTime,U(this,nt));if(No||U(this,Pn).isStale||!Zx(e))return;const r=TC(U(this,Pn).dataUpdatedAt,e)+1;Ce(this,uo,setTimeout(()=>{U(this,Pn).isStale||this.updateResult()},r))},nv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,nt)):this.options.refetchInterval)??!1},rv=function(e){Ye(this,ft,av).call(this),Ce(this,ea,e),!(No||Rr(this.options.enabled,U(this,nt))===!1||!Zx(U(this,ea))||U(this,ea)===0)&&Ce(this,ho,setInterval(()=>{(this.options.refetchIntervalInBackground||Yy.isFocused())&&Ye(this,ft,xd).call(this)},U(this,ea)))},sv=function(){Ye(this,ft,tv).call(this),Ye(this,ft,rv).call(this,Ye(this,ft,nv).call(this))},iv=function(){U(this,uo)&&(clearTimeout(U(this,uo)),Ce(this,uo,void 0))},av=function(){U(this,ho)&&(clearInterval(U(this,ho)),Ce(this,ho,void 0))},ov=function(){const e=U(this,zn).getQueryCache().build(U(this,zn),this.options);if(e===U(this,nt))return;const n=U(this,nt);Ce(this,nt,e),Ce(this,Ru,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},FC=function(e){Qt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,Pn))}),U(this,zn).getQueryCache().notify({query:U(this,nt),type:"observerResultsUpdated"})})},n_);function bM(t,e){return Rr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Lb(t,e){return bM(t,e)||t.state.data!==void 0&&lv(t,e,e.refetchOnMount)}function lv(t,e,n){if(Rr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Qy(t,e)}return!1}function Fb(t,e,n,r){return(t!==e||Rr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Qy(t,n)}function Qy(t,e){return Rr(e.enabled,t)!==!1&&t.isStaleByTime(Tl(e.staleTime,t))}function NM(t,e){return!Kf(t.getCurrentResult(),e)}var ta,na,Bn,Js,ci,cf,cv,r_,_M=(r_=class extends Cc{constructor(n,r){super();Re(this,ci);Re(this,ta);Re(this,na);Re(this,Bn);Re(this,Js);Ce(this,ta,n),this.setOptions(r),this.bindMethods(),Ye(this,ci,cf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=U(this,ta).defaultMutationOptions(n),Kf(this.options,r)||U(this,ta).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Bn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&_o(r.mutationKey)!==_o(this.options.mutationKey)?this.reset():((i=U(this,Bn))==null?void 0:i.state.status)==="pending"&&U(this,Bn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,Bn))==null||n.removeObserver(this)}onMutationUpdate(n){Ye(this,ci,cf).call(this),Ye(this,ci,cv).call(this,n)}getCurrentResult(){return U(this,na)}reset(){var n;(n=U(this,Bn))==null||n.removeObserver(this),Ce(this,Bn,void 0),Ye(this,ci,cf).call(this),Ye(this,ci,cv).call(this)}mutate(n,r){var i;return Ce(this,Js,r),(i=U(this,Bn))==null||i.removeObserver(this),Ce(this,Bn,U(this,ta).getMutationCache().build(U(this,ta),this.options)),U(this,Bn).addObserver(this),U(this,Bn).execute(n)}},ta=new WeakMap,na=new WeakMap,Bn=new WeakMap,Js=new WeakMap,ci=new WeakSet,cf=function(){var r;const n=((r=U(this,Bn))==null?void 0:r.state)??LC();Ce(this,na,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},cv=function(n){Qt.batch(()=>{var r,i,a,o,l,c,d,f;if(U(this,Js)&&this.hasListeners()){const h=U(this,na).variables,m=U(this,na).context;(n==null?void 0:n.type)==="success"?((i=(r=U(this,Js)).onSuccess)==null||i.call(r,n.data,h,m),(o=(a=U(this,Js)).onSettled)==null||o.call(a,n.data,null,h,m)):(n==null?void 0:n.type)==="error"&&((c=(l=U(this,Js)).onError)==null||c.call(l,n.error,h,m),(f=(d=U(this,Js)).onSettled)==null||f.call(d,void 0,n.error,h,m))}this.listeners.forEach(h=>{h(U(this,na))})})},r_),$C=p.createContext(void 0),UC=t=>{const e=p.useContext($C);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SM=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx($C.Provider,{value:t,children:e})),VC=p.createContext(!1),CM=()=>p.useContext(VC);VC.Provider;function kM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var EM=p.createContext(kM()),TM=()=>p.useContext(EM);function zC(t,e){return typeof t=="function"?t(...e):!!t}function dv(){}var PM=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},AM=t=>{p.useEffect(()=>{t.clearReset()},[t])},IM=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&zC(n,[t.error,r]),RM=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},DM=(t,e)=>t.isLoading&&t.isFetching&&!e,MM=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,$b=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function OM(t,e,n){var f,h,m,v,_;const r=UC(),i=CM(),a=TM(),o=r.defaultQueryOptions(t);(h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",RM(o),PM(o,a),AM(a);const l=!r.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(r,o)),d=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(g=>{const C=i?dv:c.subscribe(Qt.batchCalls(g));return c.updateResult(),C},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),MM(o,d))throw $b(o,c,a);if(IM({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,d),o.experimental_prefetchInRender&&!No&&DM(d,i)){const g=l?$b(o,c,a):(_=r.getQueryCache().get(o.queryHash))==null?void 0:_.promise;g==null||g.catch(dv).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ze(t,e){return OM(t,jM)}function It(t,e){const n=UC(),[r]=p.useState(()=>new _M(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const i=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(Qt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((o,l)=>{r.mutate(o,l).catch(dv)},[r]);if(i.error&&zC(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function BC(t){if(!t.ok){const e=await t.text()||t.statusText;console.error(`API Error: ${t.status} - ${t.statusText}`,{url:t.url,status:t.status,statusText:t.statusText,text:e});let n;try{n=JSON.parse(e)}catch(r){console.log("JSON parsing failed:",r,"Original text:",e)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw t.status===400?new Error("Please check your information and try again."):t.status===401?new Error("Invalid email or password."):t.status===403?new Error("Access denied. Please contact support."):t.status===404?new Error("Service not available. Please try again later."):t.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function ht(t,e,n){const r=e,i=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),o=localStorage.getItem("user");e.includes("/api/admin/users")&&(console.log("[apiRequest] Calling /api/admin/users:"),console.log("  - adminAccessToken:",i?"present":"missing"),console.log("  - accessToken:",a?"present":"missing"),console.log("  - user:",o?"present":"missing"));const l=n?{"Content-Type":"application/json"}:{};i&&(l["x-admin-token"]=i),a&&(l["x-access-token"]=a),o&&(l["x-user-data"]=btoa(unescape(encodeURIComponent(o)))),e.includes("/api/admin/users")&&console.log("  - Headers:",Object.keys(l));const c=await fetch(r,{method:t,headers:l,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(d=>{throw console.error("Fetch error for:",r,d),d});return await BC(c),c}const LM=({on401:t})=>async({queryKey:e})=>{const[n,...r]=e,i=new URLSearchParams;if(r.length>0)if(n==="/api/admin/shows"&&r.length>=2){const[h,m,v,_]=r;h&&i.set("page",String(h)),m&&i.set("limit",String(m)),v&&i.set("title",String(v)),_&&i.set("type",String(_))}else if(n==="/api/admin/users"&&r.length>=2){const[h,m,v]=r;h&&i.set("page",String(h)),m&&i.set("limit",String(m)),v&&i.set("title",String(v))}else r[0]&&typeof r[0]=="string"&&i.set("userId",r[0]);const a=`${n}${i.toString()?"?"+i.toString():""}`,o=localStorage.getItem("adminAccessToken"),l=localStorage.getItem("accessToken"),c=localStorage.getItem("user");n==="/api/admin/users"&&(console.log("[QueryClient] Fetching /api/admin/users:"),console.log("  - adminAccessToken:",o?"present":"missing"),console.log("  - accessToken:",l?"present":"missing"),console.log("  - user:",c?"present":"missing"));const d={"Content-Type":"application/json"};o&&(d["x-admin-token"]=o),l&&(d["x-access-token"]=l),c&&(d["x-user-data"]=btoa(unescape(encodeURIComponent(c)))),n==="/api/admin/users"&&console.log("  - Headers:",Object.keys(d));const f=await fetch(a,{credentials:"include",headers:d});return t==="returnNull"&&f.status===401?null:(await BC(f),await f.json())},pt=new wM({defaultOptions:{queries:{queryFn:LM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),FM=1,$M=1e6;let Sg=0;function UM(){return Sg=(Sg+1)%Number.MAX_SAFE_INTEGER,Sg.toString()}const Cg=new Map,Ub=t=>{if(Cg.has(t))return;const e=setTimeout(()=>{Cg.delete(t),Ad({type:"REMOVE_TOAST",toastId:t})},$M);Cg.set(t,e)},VM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,FM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ub(n):t.toasts.forEach(r=>{Ub(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},df=[];let uf={toasts:[]};function Ad(t){uf=VM(uf,t),df.forEach(e=>{e(uf)})}function zM({...t}){const e=UM(),n=i=>Ad({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ad({type:"DISMISS_TOAST",toastId:e});return Ad({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function yn(){const[t,e]=p.useState(uf);return p.useEffect(()=>(df.push(e),()=>{const n=df.indexOf(e);n>-1&&df.splice(n,1)}),[t]),{...t,toast:zM,dismiss:n=>Ad({type:"DISMISS_TOAST",toastId:n})}}function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Vb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gm(...t){return e=>{let n=!1;const r=t.map(i=>{const a=Vb(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Vb(t[i],null)}}}}function tt(...t){return p.useCallback(Gm(...t),t)}function BM(t,e){const n=p.createContext(e),r=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Jn(t,e=[]){let n=[];function r(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const d=h=>{var j;const{scope:m,children:v,..._}=h,g=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,C=p.useMemo(()=>_,Object.values(_));return s.jsx(g.Provider,{value:C,children:v})};d.displayName=a+"Provider";function f(h,m){var g;const v=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,_=p.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,f]}const i=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,WM(i,...e)]}function WM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ya(t){const e=HM(t),n=p.forwardRef((r,i)=>{const{children:a,...o}=r,l=p.Children.toArray(a),c=l.find(qM);if(c){const d=c.props.children,f=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:p.isValidElement(d)?p.cloneElement(d,void 0,f):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var WC=ya("Slot");function HM(t){const e=p.forwardRef((n,r)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const o=GM(i),l=KM(a,i.props);return i.type!==p.Fragment&&(l.ref=r?Gm(r,o):o),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HC=Symbol("radix.slottable");function qC(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=HC,e}function qM(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HC}function KM(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function GM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ym(t){const e=t+"CollectionProvider",[n,r]=Jn(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:C,children:j}=g,y=We.useRef(null),x=We.useRef(new Map).current;return s.jsx(i,{scope:C,itemMap:x,collectionRef:y,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=ya(l),d=We.forwardRef((g,C)=>{const{scope:j,children:y}=g,x=a(l,j),P=tt(C,x.collectionRef);return s.jsx(c,{ref:P,children:y})});d.displayName=l;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=ya(f),v=We.forwardRef((g,C)=>{const{scope:j,children:y,...x}=g,P=We.useRef(null),D=tt(C,P),O=a(f,j);return We.useEffect(()=>(O.itemMap.set(P,{ref:P,...x}),()=>void O.itemMap.delete(P))),s.jsx(m,{[h]:"",ref:D,children:y})});v.displayName=f;function _(g){const C=a(t+"CollectionConsumer",g);return We.useCallback(()=>{const y=C.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(C.itemMap.values()).sort((O,E)=>x.indexOf(O.ref.current)-x.indexOf(E.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},_,r]}var YM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=YM.reduce((t,e)=>{const n=ya(`Primitive.${e}`),r=p.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Zy(t,e){t&&Vo.flushSync(()=>t.dispatchEvent(e))}function vn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function QM(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ZM="DismissableLayer",uv="dismissableLayer.update",XM="dismissableLayer.pointerDownOutside",JM="dismissableLayer.focusOutside",zb,KC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bo=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(KC),[f,h]=p.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),_=tt(e,E=>h(E)),g=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=g.indexOf(C),y=f?g.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,P=y>=j,D=tO(E=>{const b=E.target,S=[...d.branches].some(R=>R.contains(b));!P||S||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),O=nO(E=>{const b=E.target;[...d.branches].some(R=>R.contains(b))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return QM(E=>{y===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),p.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Bb(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=zb)}},[f,m,n,d]),p.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Bb())},[f,d]),p.useEffect(()=>{const E=()=>v({});return document.addEventListener(uv,E),()=>document.removeEventListener(uv,E)},[]),s.jsx(Ae.div,{...c,ref:_,style:{pointerEvents:x?P?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,D.onPointerDownCapture)})});Bo.displayName=ZM;var eO="DismissableLayerBranch",GC=p.forwardRef((t,e)=>{const n=p.useContext(KC),r=p.useRef(null),i=tt(e,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ae.div,{...t,ref:i})});GC.displayName=eO;function tO(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){YC(XM,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nO(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t),r=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!r.current&&YC(JM,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bb(){const t=new CustomEvent(uv);document.dispatchEvent(t)}function YC(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Zy(i,a):i.dispatchEvent(a)}var rO=Bo,sO=GC,tn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},iO="Portal",kc=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=p.useState(!1);tn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PD.createPortal(s.jsx(Ae.div,{...r,ref:e}),o):null});kc.displayName=iO;function aO(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var mr=t=>{const{present:e,children:n}=t,r=oO(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=tt(r.ref,lO(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:a}):null};mr.displayName="Presence";function oO(t){const[e,n]=p.useState(),r=p.useRef({}),i=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=aO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Lh(r.current);a.current=l==="mounted"?d:"none"},[l]),tn(()=>{const d=r.current,f=i.current;if(f!==t){const m=a.current,v=Lh(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),tn(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=v=>{const g=Lh(r.current).includes(v.animationName);if(v.target===e&&g&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},m=v=>{v.target===e&&(a.current=Lh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Lh(t){return(t==null?void 0:t.animationName)||"none"}function lO(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function mi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=cO({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:r,l=vn(n),c=p.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else i(d)},[a,t,i,l]);return[o,c]}function cO({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),a=vn(e);return p.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var dO="VisuallyHidden",Uu=p.forwardRef((t,e)=>s.jsx(Ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Uu.displayName=dO;var uO=Uu,Xy="ToastProvider",[Jy,hO,fO]=Ym("Toast"),[QC,_K]=Jn("Toast",[fO]),[mO,Qm]=QC(Xy),ZC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[d,f]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xy}\`. Expected non-empty \`string\`.`),s.jsx(Jy.Provider,{scope:e,children:s.jsx(mO,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>f(v=>v+1),[]),onToastRemove:p.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};ZC.displayName=Xy;var XC="ToastViewport",pO=["F8"],hv="toast.viewportPause",fv="toast.viewportResume",JC=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=pO,label:i="Notifications ({hotkey})",...a}=t,o=Qm(XC,n),l=hO(n),c=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=p.useRef(null),m=tt(e,h,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;p.useEffect(()=>{const C=j=>{var x;r.length!==0&&r.every(P=>j[P]||j.code===P)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),p.useEffect(()=>{const C=c.current,j=h.current;if(_&&C&&j){const y=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(hv);j.dispatchEvent(O),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(fv);j.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!C.contains(O.relatedTarget)&&x()},D=()=>{C.contains(document.activeElement)||x()};return C.addEventListener("focusin",y),C.addEventListener("focusout",P),C.addEventListener("pointermove",y),C.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{C.removeEventListener("focusin",y),C.removeEventListener("focusout",P),C.removeEventListener("pointermove",y),C.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[_,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:C})=>{const y=l().map(x=>{const P=x.ref.current,D=[P,...EO(P)];return C==="forwards"?D:D.reverse()});return(C==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const C=h.current;if(C){const j=y=>{var D,O,E;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const b=document.activeElement,S=y.shiftKey;if(y.target===C&&S){(D=d.current)==null||D.focus();return}const T=g({tabbingDirection:S?"backwards":"forwards"}),A=T.findIndex(L=>L===b);kg(T.slice(A+1))?y.preventDefault():S?(O=d.current)==null||O.focus():(E=f.current)==null||E.focus()}};return C.addEventListener("keydown",j),()=>C.removeEventListener("keydown",j)}},[l,g]),s.jsxs(sO,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&s.jsx(mv,{ref:d,onFocusFromOutsideViewport:()=>{const C=g({tabbingDirection:"forwards"});kg(C)}}),s.jsx(Jy.Slot,{scope:n,children:s.jsx(Ae.ol,{tabIndex:-1,...a,ref:m})}),_&&s.jsx(mv,{ref:f,onFocusFromOutsideViewport:()=>{const C=g({tabbingDirection:"backwards"});kg(C)}})]})});JC.displayName=XC;var ek="ToastFocusProxy",mv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Qm(ek,n);return s.jsx(Uu,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&r()}})});mv.displayName=ek;var Zm="Toast",gO="toast.swipeStart",xO="toast.swipeMove",vO="toast.swipeCancel",yO="toast.swipeEnd",tk=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=mi({prop:r,defaultProp:i,onChange:a});return s.jsx(mr,{present:n||l,children:s.jsx(bO,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:vn(t.onPause),onResume:vn(t.onResume),onSwipeStart:fe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(t.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:fe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(t.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});tk.displayName=Zm;var[wO,jO]=QC(Zm,{onClose(){}}),bO=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:v,..._}=t,g=Qm(Zm,n),[C,j]=p.useState(null),y=tt(e,L=>j(L)),x=p.useRef(null),P=p.useRef(null),D=i||g.duration,O=p.useRef(0),E=p.useRef(D),b=p.useRef(0),{onToastAdd:S,onToastRemove:R}=g,N=vn(()=>{var H;(C==null?void 0:C.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),T=p.useCallback(L=>{!L||L===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(N,L))},[N]);p.useEffect(()=>{const L=g.viewport;if(L){const H=()=>{T(E.current),d==null||d()},V=()=>{const z=new Date().getTime()-O.current;E.current=E.current-z,window.clearTimeout(b.current),c==null||c()};return L.addEventListener(hv,V),L.addEventListener(fv,H),()=>{L.removeEventListener(hv,V),L.removeEventListener(fv,H)}}},[g.viewport,D,c,d,T]),p.useEffect(()=>{a&&!g.isClosePausedRef.current&&T(D)},[a,D,g.isClosePausedRef,T]),p.useEffect(()=>(S(),()=>R()),[S,R]);const A=p.useMemo(()=>C?lk(C):null,[C]);return g.viewport?s.jsxs(s.Fragment,{children:[A&&s.jsx(NO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),s.jsx(wO,{scope:n,onClose:N,children:Vo.createPortal(s.jsx(Jy.ItemSlot,{scope:n,children:s.jsx(rO,{asChild:!0,onEscapeKeyDown:fe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||N(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fe(t.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:fe(t.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:fe(t.onPointerMove,L=>{if(!x.current)return;const H=L.clientX-x.current.x,V=L.clientY-x.current.y,z=!!P.current,F=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=F?W(0,H):0,X=F?0:W(0,V),B=L.pointerType==="touch"?10:2,me={x:Q,y:X},ue={originalEvent:L,delta:me};z?(P.current=me,Fh(xO,h,ue,{discrete:!1})):Wb(me,g.swipeDirection,B)?(P.current=me,Fh(gO,f,ue,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(H)>B||Math.abs(V)>B)&&(x.current=null)}),onPointerUp:fe(t.onPointerUp,L=>{const H=P.current,V=L.target;if(V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),P.current=null,x.current=null,H){const z=L.currentTarget,F={originalEvent:L,delta:H};Wb(H,g.swipeDirection,g.swipeThreshold)?Fh(yO,v,F,{discrete:!0}):Fh(vO,m,F,{discrete:!0}),z.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),NO=t=>{const{__scopeToast:e,children:n,...r}=t,i=Qm(Zm,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return CO(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(kc,{asChild:!0,children:s.jsx(Uu,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},_O="ToastTitle",nk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Ae.div,{...r,ref:e})});nk.displayName=_O;var SO="ToastDescription",rk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Ae.div,{...r,ref:e})});rk.displayName=SO;var sk="ToastAction",ik=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(ok,{altText:n,asChild:!0,children:s.jsx(ew,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sk}\`. Expected non-empty \`string\`.`),null)});ik.displayName=sk;var ak="ToastClose",ew=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=jO(ak,n);return s.jsx(ok,{asChild:!0,children:s.jsx(Ae.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,i.onClose)})})});ew.displayName=ak;var ok=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function lk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),kO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lk(r))}}),e}function Fh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Zy(i,a):i.dispatchEvent(a)}var Wb=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function CO(t=()=>{}){const e=vn(t);tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function kO(t){return t.nodeType===t.ELEMENT_NODE}function EO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var TO=ZC,ck=JC,dk=tk,uk=nk,hk=rk,fk=ik,mk=ew;function pk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pk(t))&&(r&&(r+=" "),r+=e);return r}const Hb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qb=gk,Vu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const f=n==null?void 0:n[d],h=a==null?void 0:a[d];if(f===null)return null;const m=Hb(f)||Hb(h);return i[d][m]}),l=n&&Object.entries(n).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:h,className:m,...v}=f;return Object.entries(v).every(_=>{let[g,C]=_;return Array.isArray(C)?C.includes({...a,...l}[g]):{...a,...l}[g]===C})?[...d,h,m]:d},[]);return qb(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...AO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xk("lucide",i),...l},[...o.map(([d,f])=>p.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=p.forwardRef(({className:r,...i},a)=>p.createElement(IO,{ref:a,iconNode:e,className:xk(`lucide-${PO(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Ne("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Ne("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=Ne("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ne("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Ne("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Ne("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ne("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Ne("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Ne("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Ne("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Ne("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ne("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Ne("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ne("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Ne("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Ne("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),aw="-",nL=t=>{const e=sL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(aw);return l[0]===""&&l.length!==1&&l.shift(),Sk(l,e)||rL(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Sk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Sk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(aw);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Xb=/^\[(.+)\]$/,rL=t=>{if(Xb.test(t)){const e=Xb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return aL(Object.entries(t.classGroups),n).forEach(([a,o])=>{yv(o,r,a,e)}),r},yv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Jb(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(iL(i)){yv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{yv(o,Jb(e,a),n,r)})})},Jb=(t,e)=>{let n=t;return e.split(aw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},iL=t=>t.isThemeGetter,aL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,oL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},Ck="!",lL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,f=0,h;for(let C=0;C<l.length;C++){let j=l[C];if(d===0){if(j===i&&(r||l.slice(C,C+a)===e)){c.push(l.slice(f,C)),f=C+a;continue}if(j==="/"){h=C;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(f),v=m.startsWith(Ck),_=v?m.substring(1):m,g=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},cL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dL=t=>({cache:oL(t.cacheSize),parseClassName:lL(t),...nL(t)}),uL=/\s+/,hL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(uL);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}=n(d);let _=!!v,g=r(_?m.substring(0,v):m);if(!g){if(!_){l=d+(l.length>0?" "+l:l);continue}if(g=r(m),!g){l=d+(l.length>0?" "+l:l);continue}_=!1}const C=cL(f).join(":"),j=h?C+Ck:C,y=j+g;if(a.includes(y))continue;a.push(y);const x=i(g,_);for(let P=0;P<x.length;++P){const D=x[P];a.push(j+D)}l=d+(l.length>0?" "+l:l)}return l};function fL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kk(e))&&(r&&(r+=" "),r+=n);return r}const kk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kk(t[r]))&&(n&&(n+=" "),n+=e);return n};function mL(t,...e){let n,r,i,a=o;function o(c){const d=e.reduce((f,h)=>h(f),t());return n=dL(d),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=hL(c,n);return i(c,f),f}return function(){return a(fL.apply(null,arguments))}}const Et=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ek=/^\[(?:([a-z-]+):)?(.+)\]$/i,pL=/^\d+\/\d+$/,gL=new Set(["px","full","screen"]),xL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=t=>Il(t)||gL.has(t)||pL.test(t),Ri=t=>Pc(t,"length",TL),Il=t=>!!t&&!Number.isNaN(Number(t)),Eg=t=>Pc(t,"number",Il),od=t=>!!t&&Number.isInteger(Number(t)),bL=t=>t.endsWith("%")&&Il(t.slice(0,-1)),Ke=t=>Ek.test(t),Di=t=>xL.test(t),NL=new Set(["length","size","percentage"]),_L=t=>Pc(t,NL,Tk),SL=t=>Pc(t,"position",Tk),CL=new Set(["image","url"]),kL=t=>Pc(t,CL,AL),EL=t=>Pc(t,"",PL),ld=()=>!0,Pc=(t,e,n)=>{const r=Ek.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},TL=t=>vL.test(t)&&!yL.test(t),Tk=()=>!1,PL=t=>wL.test(t),AL=t=>jL.test(t),IL=()=>{const t=Et("colors"),e=Et("spacing"),n=Et("blur"),r=Et("brightness"),i=Et("borderColor"),a=Et("borderRadius"),o=Et("borderSpacing"),l=Et("borderWidth"),c=Et("contrast"),d=Et("grayscale"),f=Et("hueRotate"),h=Et("invert"),m=Et("gap"),v=Et("gradientColorStops"),_=Et("gradientColorStopPositions"),g=Et("inset"),C=Et("margin"),j=Et("opacity"),y=Et("padding"),x=Et("saturate"),P=Et("scale"),D=Et("sepia"),O=Et("skew"),E=Et("space"),b=Et("translate"),S=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Ke,e],T=()=>[Ke,e],A=()=>["",Hs,Ri],L=()=>["auto",Il,Ke],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Ke],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Il,Ke];return{cacheSize:500,separator:":",theme:{colors:[ld],spacing:[Hs,Ri],blur:["none","",Di,Ke],brightness:X(),borderColor:[t],borderRadius:["none","","full",Di,Ke],borderSpacing:T(),borderWidth:A(),contrast:X(),grayscale:W(),hueRotate:X(),invert:W(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[bL,Ri],inset:N(),margin:N(),opacity:X(),padding:T(),saturate:X(),scale:X(),sepia:W(),skew:X(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ke]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",od,Ke]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",od,Ke]}],"grid-cols":[{"grid-cols":[ld]}],"col-start-end":[{col:["auto",{span:["full",od,Ke]},Ke]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ld]}],"row-start-end":[{row:["auto",{span:[od,Ke]},Ke]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Ri]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eg]}],"font-family":[{font:[ld]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",Il,Eg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hs,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hs,Ri]}],"underline-offset":[{"underline-offset":["auto",Hs,Ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),SL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_L]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Hs,Ke]}],"outline-w":[{outline:[Hs,Ri]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Hs,Ri]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Di,EL]}],"shadow-color":[{shadow:[ld]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Di,Ke]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[od,Ke]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hs,Ri,Eg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RL=mL(IL);function xe(...t){return RL(gk(t))}const DL=TO,Pk=p.forwardRef(({className:t,...e},n)=>s.jsx(ck,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",t),...e}));Pk.displayName=ck.displayName;const ML=Vu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ak=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(dk,{ref:r,className:xe(ML({variant:e}),t),...n}));Ak.displayName=dk.displayName;const OL=p.forwardRef(({className:t,...e},n)=>s.jsx(fk,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));OL.displayName=fk.displayName;const Ik=p.forwardRef(({className:t,...e},n)=>s.jsx(mk,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Sr,{className:"h-4 w-4"})}));Ik.displayName=mk.displayName;const Rk=p.forwardRef(({className:t,...e},n)=>s.jsx(uk,{ref:n,className:xe("text-sm font-semibold",t),...e}));Rk.displayName=uk.displayName;const Dk=p.forwardRef(({className:t,...e},n)=>s.jsx(hk,{ref:n,className:xe("text-sm opacity-90",t),...e}));Dk.displayName=hk.displayName;function LL(){const{toasts:t}=yn();return s.jsxs(DL,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(Ak,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(Rk,{children:n}),r&&s.jsx(Dk,{children:r})]}),i,s.jsx(Ik,{})]},e)}),s.jsx(Pk,{})]})}var FL=p_[" useId ".trim().toString()]||(()=>{}),$L=0;function qr(t){const[e,n]=p.useState(FL());return tn(()=>{n(r=>r??String($L++))},[t]),e?`radix-${e}`:""}const UL=["top","right","bottom","left"],ja=Math.min,rr=Math.max,Xf=Math.round,Vh=Math.floor,Es=t=>({x:t,y:t}),VL={left:"right",right:"left",bottom:"top",top:"bottom"},zL={start:"end",end:"start"};function wv(t,e,n){return rr(t,ja(e,n))}function gi(t,e){return typeof t=="function"?t(e):t}function xi(t){return t.split("-")[0]}function Ac(t){return t.split("-")[1]}function ow(t){return t==="x"?"y":"x"}function lw(t){return t==="y"?"height":"width"}function ba(t){return["top","bottom"].includes(xi(t))?"y":"x"}function cw(t){return ow(ba(t))}function BL(t,e,n){n===void 0&&(n=!1);const r=Ac(t),i=cw(t),a=lw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Jf(o)),[o,Jf(o)]}function WL(t){const e=Jf(t);return[jv(t),e,jv(e)]}function jv(t){return t.replace(/start|end/g,e=>zL[e])}function HL(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}function qL(t,e,n,r){const i=Ac(t);let a=HL(xi(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(jv)))),a}function Jf(t){return t.replace(/left|right|bottom|top/g,e=>VL[e])}function KL(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mk(t){return typeof t!="number"?KL(t):{top:t,right:t,bottom:t,left:t}}function em(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function eN(t,e,n){let{reference:r,floating:i}=t;const a=ba(e),o=cw(e),l=lw(o),c=xi(e),d=a==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:r.y-i.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Ac(e)){case"start":v[o]-=m*(n&&d?-1:1);break;case"end":v[o]+=m*(n&&d?-1:1);break}return v}const GL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=eN(d,r,c),m=r,v={},_=0;for(let g=0;g<l.length;g++){const{name:C,fn:j}=l[g],{x:y,y:x,data:P,reset:D}=await j({x:f,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});f=y??f,h=x??h,v={...v,[C]:{...v[C],...P}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:h}=eN(d,m,c)),g=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:v}};async function cu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=gi(e,t),_=Mk(v),C=l[m?h==="floating"?"reference":"floating":h],j=em(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},D=em(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(j.top-D.top+_.top)/P.y,bottom:(D.bottom-j.bottom+_.bottom)/P.y,left:(j.left-D.left+_.left)/P.x,right:(D.right-j.right+_.right)/P.x}}const YL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=gi(t,e)||{};if(d==null)return{};const h=Mk(f),m={x:n,y:r},v=cw(i),_=lw(v),g=await o.getDimensions(d),C=v==="y",j=C?"top":"left",y=C?"bottom":"right",x=C?"clientHeight":"clientWidth",P=a.reference[_]+a.reference[v]-m[v]-a.floating[_],D=m[v]-a.reference[v],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=O?O[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(O)))&&(E=l.floating[x]||a.floating[_]);const b=P/2-D/2,S=E/2-g[_]/2-1,R=ja(h[j],S),N=ja(h[y],S),T=R,A=E-g[_]-N,L=E/2-g[_]/2+b,H=wv(T,L,A),V=!c.arrow&&Ac(i)!=null&&L!==H&&a.reference[_]/2-(L<T?R:N)-g[_]/2<0,z=V?L<T?L-T:L-A:0;return{[v]:m[v]+z,data:{[v]:H,centerOffset:L-H-z,...V&&{alignmentOffset:z}},reset:V}}}),QL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...C}=gi(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=xi(i),y=ba(l),x=xi(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(x||!g?[Jf(l)]:WL(l)),O=_!=="none";!m&&O&&D.push(...qL(l,g,_,P));const E=[l,...D],b=await cu(e,C),S=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&S.push(b[j]),h){const L=BL(i,o,P);S.push(b[L[0]],b[L[1]])}if(R=[...R,{placement:i,overflows:S}],!S.every(L=>L<=0)){var N,T;const L=(((N=a.flip)==null?void 0:N.index)||0)+1,H=E[L];if(H)return{data:{index:L,overflows:R},reset:{placement:H}};let V=(T=R.filter(z=>z.overflows[0]<=0).sort((z,F)=>z.overflows[1]-F.overflows[1])[0])==null?void 0:T.placement;if(!V)switch(v){case"bestFit":{var A;const z=(A=R.filter(F=>{if(O){const W=ba(F.placement);return W===y||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,Q)=>W+Q,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:A[0];z&&(V=z);break}case"initialPlacement":V=l;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function tN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nN(t){return UL.some(e=>t[e]>=0)}const ZL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=gi(t,e);switch(r){case"referenceHidden":{const a=await cu(e,{...i,elementContext:"reference"}),o=tN(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nN(o)}}}case"escaped":{const a=await cu(e,{...i,altBoundary:!0}),o=tN(a,n.floating);return{data:{escapedOffsets:o,escaped:nN(o)}}}default:return{}}}}};async function XL(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=xi(n),l=Ac(n),c=ba(n)==="y",d=["left","top"].includes(o)?-1:1,f=a&&c?-1:1,h=gi(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(v=l==="end"?_*-1:_),c?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const JL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await XL(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},eF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:j,y}=C;return{x:j,y}}},...c}=gi(t,e),d={x:n,y:r},f=await cu(e,c),h=ba(xi(i)),m=ow(h);let v=d[m],_=d[h];if(a){const C=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=v+f[C],x=v-f[j];v=wv(y,v,x)}if(o){const C=h==="y"?"top":"left",j=h==="y"?"bottom":"right",y=_+f[C],x=_-f[j];_=wv(y,_,x)}const g=l.fn({...e,[m]:v,[h]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:a,[h]:o}}}}}},tF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=gi(t,e),f={x:n,y:r},h=ba(i),m=ow(h);let v=f[m],_=f[h];const g=gi(l,e),C=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=m==="y"?"height":"width",P=a.reference[m]-a.floating[x]+C.mainAxis,D=a.reference[m]+a.reference[x]-C.mainAxis;v<P?v=P:v>D&&(v=D)}if(d){var j,y;const x=m==="y"?"width":"height",P=["top","left"].includes(xi(i)),D=a.reference[h]-a.floating[x]+(P&&((j=o.offset)==null?void 0:j[h])||0)+(P?0:C.crossAxis),O=a.reference[h]+a.reference[x]+(P?0:((y=o.offset)==null?void 0:y[h])||0)-(P?C.crossAxis:0);_<D?_=D:_>O&&(_=O)}return{[m]:v,[h]:_}}}},nF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=gi(t,e),f=await cu(e,d),h=xi(i),m=Ac(i),v=ba(i)==="y",{width:_,height:g}=a.floating;let C,j;h==="top"||h==="bottom"?(C=h,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=h,C=m==="end"?"top":"bottom");const y=g-f.top-f.bottom,x=_-f.left-f.right,P=ja(g-f[C],y),D=ja(_-f[j],x),O=!e.middlewareData.shift;let E=P,b=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=y),O&&!m){const R=rr(f.left,0),N=rr(f.right,0),T=rr(f.top,0),A=rr(f.bottom,0);v?b=_-2*(R!==0||N!==0?R+N:rr(f.left,f.right)):E=g-2*(T!==0||A!==0?T+A:rr(f.top,f.bottom))}await c({...e,availableWidth:b,availableHeight:E});const S=await o.getDimensions(l.floating);return _!==S.width||g!==S.height?{reset:{rects:!0}}:{}}}};function Jm(){return typeof window<"u"}function Ic(t){return Ok(t)?(t.nodeName||"").toLowerCase():"#document"}function or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Us(t){var e;return(e=(Ok(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ok(t){return Jm()?t instanceof Node||t instanceof or(t).Node:!1}function Jr(t){return Jm()?t instanceof Element||t instanceof or(t).Element:!1}function Rs(t){return Jm()?t instanceof HTMLElement||t instanceof or(t).HTMLElement:!1}function rN(t){return!Jm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof or(t).ShadowRoot}function zu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function rF(t){return["table","td","th"].includes(Ic(t))}function ep(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function dw(t){const e=uw(),n=Jr(t)?es(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function sF(t){let e=Na(t);for(;Rs(e)&&!uc(e);){if(dw(e))return e;if(ep(e))return null;e=Na(e)}return null}function uw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uc(t){return["html","body","#document"].includes(Ic(t))}function es(t){return or(t).getComputedStyle(t)}function tp(t){return Jr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Na(t){if(Ic(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rN(t)&&t.host||Us(t);return rN(e)?e.host:e}function Lk(t){const e=Na(t);return uc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rs(e)&&zu(e)?e:Lk(e)}function du(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Lk(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=or(i);if(a){const l=bv(o);return e.concat(o,o.visualViewport||[],zu(i)?i:[],l&&n?du(l):[])}return e.concat(i,du(i,[],n))}function bv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fk(t){const e=es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rs(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Xf(n)!==a||Xf(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function hw(t){return Jr(t)?t:t.contextElement}function Rl(t){const e=hw(t);if(!Rs(e))return Es(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Fk(e);let o=(a?Xf(n.width):n.width)/r,l=(a?Xf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const iF=Es(0);function $k(t){const e=or(t);return!uw()||!e.visualViewport?iF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==or(t)?!1:e}function So(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=hw(t);let o=Es(1);e&&(r?Jr(r)&&(o=Rl(r)):o=Rl(t));const l=aF(a,n,r)?$k(a):Es(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(a){const m=or(a),v=r&&Jr(r)?or(r):r;let _=m,g=bv(_);for(;g&&r&&v!==_;){const C=Rl(g),j=g.getBoundingClientRect(),y=es(g),x=j.left+(g.clientLeft+parseFloat(y.paddingLeft))*C.x,P=j.top+(g.clientTop+parseFloat(y.paddingTop))*C.y;c*=C.x,d*=C.y,f*=C.x,h*=C.y,c+=x,d+=P,_=or(g),g=bv(_)}}return em({width:f,height:h,x:c,y:d})}function fw(t,e){const n=tp(t).scrollLeft;return e?e.left+n:So(Us(t)).left+n}function Uk(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:fw(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function oF(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Us(r),l=e?ep(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Es(1);const f=Es(0),h=Rs(r);if((h||!h&&!a)&&((Ic(r)!=="body"||zu(o))&&(c=tp(r)),Rs(r))){const v=So(r);d=Rl(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=o&&!h&&!a?Uk(o,c,!0):Es(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function lF(t){return Array.from(t.getClientRects())}function cF(t){const e=Us(t),n=tp(t),r=t.ownerDocument.body,i=rr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=rr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+fw(t);const l=-n.scrollTop;return es(r).direction==="rtl"&&(o+=rr(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function dF(t,e){const n=or(t),r=Us(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=uw();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function uF(t,e){const n=So(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Rs(t)?Rl(t):Es(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:o,height:l,x:c,y:d}}function sN(t,e,n){let r;if(e==="viewport")r=dF(t,n);else if(e==="document")r=cF(Us(t));else if(Jr(e))r=uF(e,n);else{const i=$k(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return em(r)}function Vk(t,e){const n=Na(t);return n===e||!Jr(n)||uc(n)?!1:es(n).position==="fixed"||Vk(n,e)}function hF(t,e){const n=e.get(t);if(n)return n;let r=du(t,[],!1).filter(l=>Jr(l)&&Ic(l)!=="body"),i=null;const a=es(t).position==="fixed";let o=a?Na(t):t;for(;Jr(o)&&!uc(o);){const l=es(o),c=dw(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zu(o)&&!c&&Vk(t,o))?r=r.filter(f=>f!==o):i=l,o=Na(o)}return e.set(t,r),r}function fF(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?ep(e)?[]:hF(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const h=sN(e,f,i);return d.top=rr(h.top,d.top),d.right=ja(h.right,d.right),d.bottom=ja(h.bottom,d.bottom),d.left=rr(h.left,d.left),d},sN(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mF(t){const{width:e,height:n}=Fk(t);return{width:e,height:n}}function pF(t,e,n){const r=Rs(e),i=Us(e),a=n==="fixed",o=So(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Es(0);if(r||!r&&!a)if((Ic(e)!=="body"||zu(i))&&(l=tp(e)),r){const m=So(e,!0,a,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=fw(i));const d=i&&!r&&!a?Uk(i,l):Es(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Tg(t){return es(t).position==="static"}function iN(t,e){if(!Rs(t)||es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Us(t)===n&&(n=n.ownerDocument.body),n}function zk(t,e){const n=or(t);if(ep(t))return n;if(!Rs(t)){let i=Na(t);for(;i&&!uc(i);){if(Jr(i)&&!Tg(i))return i;i=Na(i)}return n}let r=iN(t,e);for(;r&&rF(r)&&Tg(r);)r=iN(r,e);return r&&uc(r)&&Tg(r)&&!dw(r)?n:r||sF(t)||n}const gF=async function(t){const e=this.getOffsetParent||zk,n=this.getDimensions,r=await n(t.floating);return{reference:pF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xF(t){return es(t).direction==="rtl"}const vF={convertOffsetParentRelativeRectToViewportRelativeRect:oF,getDocumentElement:Us,getClippingRect:fF,getOffsetParent:zk,getElementRects:gF,getClientRects:lF,getDimensions:mF,getScale:Rl,isElement:Jr,isRTL:xF};function Bk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yF(t,e){let n=null,r;const i=Us(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:f,top:h,width:m,height:v}=d;if(l||e(),!m||!v)return;const _=Vh(h),g=Vh(i.clientWidth-(f+m)),C=Vh(i.clientHeight-(h+v)),j=Vh(f),x={rootMargin:-_+"px "+-g+"px "+-C+"px "+-j+"px",threshold:rr(0,ja(1,c))||1};let P=!0;function D(O){const E=O[0].intersectionRatio;if(E!==c){if(!P)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!Bk(d,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),a}function wF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=hw(t),f=i||a?[...d?du(d):[],...du(e)]:[];f.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const h=d&&l?yF(d,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let _,g=c?So(t):null;c&&C();function C(){const j=So(t);g&&!Bk(g,j)&&n(),g=j,_=requestAnimationFrame(C)}return n(),()=>{var j;f.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),h==null||h(),(j=v)==null||j.disconnect(),v=null,c&&cancelAnimationFrame(_)}}const jF=JL,bF=eF,NF=QL,_F=nF,SF=ZL,aN=YL,CF=tF,kF=(t,e,n)=>{const r=new Map,i={platform:vF,...n},a={...i.platform,_c:r};return GL(t,e,{...i,platform:a})};var hf=typeof document<"u"?p.useLayoutEffect:p.useEffect;function tm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tm(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!tm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Wk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function oN(t,e){const n=Wk(t);return Math.round(e*n)/n}function Pg(t){const e=p.useRef(t);return hf(()=>{e.current=t}),e}function EF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=p.useState(r);tm(m,r)||v(r);const[_,g]=p.useState(null),[C,j]=p.useState(null),y=p.useCallback(F=>{F!==O.current&&(O.current=F,g(F))},[]),x=p.useCallback(F=>{F!==E.current&&(E.current=F,j(F))},[]),P=a||_,D=o||C,O=p.useRef(null),E=p.useRef(null),b=p.useRef(f),S=c!=null,R=Pg(c),N=Pg(i),T=Pg(d),A=p.useCallback(()=>{if(!O.current||!E.current)return;const F={placement:e,strategy:n,middleware:m};N.current&&(F.platform=N.current),kF(O.current,E.current,F).then(W=>{const Q={...W,isPositioned:T.current!==!1};L.current&&!tm(b.current,Q)&&(b.current=Q,Vo.flushSync(()=>{h(Q)}))})},[m,e,n,N,T]);hf(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const L=p.useRef(!1);hf(()=>(L.current=!0,()=>{L.current=!1}),[]),hf(()=>{if(P&&(O.current=P),D&&(E.current=D),P&&D){if(R.current)return R.current(P,D,A);A()}},[P,D,A,R,S]);const H=p.useMemo(()=>({reference:O,floating:E,setReference:y,setFloating:x}),[y,x]),V=p.useMemo(()=>({reference:P,floating:D}),[P,D]),z=p.useMemo(()=>{const F={position:n,left:0,top:0};if(!V.floating)return F;const W=oN(V.floating,f.x),Q=oN(V.floating,f.y);return l?{...F,transform:"translate("+W+"px, "+Q+"px)",...Wk(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:Q}},[n,l,V.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:A,refs:H,elements:V,floatingStyles:z}),[f,A,H,V,z])}const TF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aN({element:r.current,padding:i}).fn(n):{}:r?aN({element:r,padding:i}).fn(n):{}}}},PF=(t,e)=>({...jF(t),options:[t,e]}),AF=(t,e)=>({...bF(t),options:[t,e]}),IF=(t,e)=>({...CF(t),options:[t,e]}),RF=(t,e)=>({...NF(t),options:[t,e]}),DF=(t,e)=>({..._F(t),options:[t,e]}),MF=(t,e)=>({...SF(t),options:[t,e]}),OF=(t,e)=>({...TF(t),options:[t,e]});var LF="Arrow",Hk=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Ae.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hk.displayName=LF;var FF=Hk;function qk(t){const[e,n]=p.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mw="Popper",[Kk,Da]=Jn(mw),[$F,Gk]=Kk(mw),Yk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return s.jsx($F,{scope:e,anchor:r,onAnchorChange:i,children:n})};Yk.displayName=mw;var Qk="PopperAnchor",Zk=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=Gk(Qk,n),o=p.useRef(null),l=tt(e,o);return p.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Ae.div,{...i,ref:l})});Zk.displayName=Qk;var pw="PopperContent",[UF,VF]=Kk(pw),Xk=p.forwardRef((t,e)=>{var _e,Ue,ze,q,we,Te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:_,...g}=t,C=Gk(pw,n),[j,y]=p.useState(null),x=tt(e,Be=>y(Be)),[P,D]=p.useState(null),O=qk(P),E=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,S=r+(a!=="center"?"-"+a:""),R=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},N=Array.isArray(d)?d:[d],T=N.length>0,A={padding:R,boundary:N.filter(BF),altBoundary:T},{refs:L,floatingStyles:H,placement:V,isPositioned:z,middlewareData:F}=EF({strategy:"fixed",placement:S,whileElementsMounted:(...Be)=>wF(...Be,{animationFrame:v==="always"}),elements:{reference:C.anchor},middleware:[PF({mainAxis:i+b,alignmentAxis:o}),c&&AF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?IF():void 0,...A}),c&&RF({...A}),DF({...A,apply:({elements:Be,rects:wt,availableWidth:xt,availableHeight:dn})=>{const{width:un,height:is}=wt.reference,vt=Be.floating.style;vt.setProperty("--radix-popper-available-width",`${xt}px`),vt.setProperty("--radix-popper-available-height",`${dn}px`),vt.setProperty("--radix-popper-anchor-width",`${un}px`),vt.setProperty("--radix-popper-anchor-height",`${is}px`)}}),P&&OF({element:P,padding:l}),WF({arrowWidth:E,arrowHeight:b}),m&&MF({strategy:"referenceHidden",...A})]}),[W,Q]=t2(V),X=vn(_);tn(()=>{z&&(X==null||X())},[z,X]);const B=(_e=F.arrow)==null?void 0:_e.x,me=(Ue=F.arrow)==null?void 0:Ue.y,ue=((ze=F.arrow)==null?void 0:ze.centerOffset)!==0,[ot,Me]=p.useState();return tn(()=>{j&&Me(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[(q=F.transformOrigin)==null?void 0:q.x,(we=F.transformOrigin)==null?void 0:we.y].join(" "),...((Te=F.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(UF,{scope:n,placedSide:W,onArrowChange:D,arrowX:B,arrowY:me,shouldHideArrow:ue,children:s.jsx(Ae.div,{"data-side":W,"data-align":Q,...g,ref:x,style:{...g.style,animation:z?void 0:"none"}})})})});Xk.displayName=pw;var Jk="PopperArrow",zF={top:"bottom",right:"left",bottom:"top",left:"right"},e2=p.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=VF(Jk,r),o=zF[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(FF,{...i,ref:n,style:{...i.style,display:"block"}})})});e2.displayName=Jk;function BF(t){return t!==null}var WF=t=>({name:"transformOrigin",options:t,fn(e){var C,j,y;const{placement:n,rects:r,middlewareData:i}=e,o=((C=i.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,f]=t2(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((j=i.arrow)==null?void 0:j.x)??0)+l/2,v=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let _="",g="";return d==="bottom"?(_=o?h:`${m}px`,g=`${-c}px`):d==="top"?(_=o?h:`${m}px`,g=`${r.floating.height+c}px`):d==="right"?(_=`${-c}px`,g=o?h:`${v}px`):d==="left"&&(_=`${r.floating.width+c}px`,g=o?h:`${v}px`),{data:{x:_,y:g}}}});function t2(t){const[e,n="center"]=t.split("-");return[e,n]}var gw=Yk,Bu=Zk,np=Xk,rp=e2,[sp,SK]=Jn("Tooltip",[Da]),xw=Da(),n2="TooltipProvider",HF=700,lN="tooltip.open",[qF,r2]=sp(n2),s2=t=>{const{__scopeTooltip:e,delayDuration:n=HF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(qF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};s2.displayName=n2;var i2="Tooltip",[CK,ip]=sp(i2),Nv="TooltipTrigger",KF=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ip(Nv,n),a=r2(Nv,n),o=xw(n),l=p.useRef(null),c=tt(e,l,i.onTriggerChange),d=p.useRef(!1),f=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Bu,{asChild:!0,...o,children:s.jsx(Ae.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:fe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:fe(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:fe(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:fe(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:fe(t.onBlur,i.onClose),onClick:fe(t.onClick,i.onClose)})})});KF.displayName=Nv;var GF="TooltipPortal",[kK,YF]=sp(GF,{forceMount:void 0}),hc="TooltipContent",a2=p.forwardRef((t,e)=>{const n=YF(hc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=ip(hc,t.__scopeTooltip);return s.jsx(mr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(o2,{side:i,...a,ref:e}):s.jsx(QF,{side:i,...a,ref:e})})}),QF=p.forwardRef((t,e)=>{const n=ip(hc,t.__scopeTooltip),r=r2(hc,t.__scopeTooltip),i=p.useRef(null),a=tt(e,i),[o,l]=p.useState(null),{trigger:c,onClose:d}=n,f=i.current,{onPointerInTransitChange:h}=r,m=p.useCallback(()=>{l(null),h(!1)},[h]),v=p.useCallback((_,g)=>{const C=_.currentTarget,j={x:_.clientX,y:_.clientY},y=t3(j,C.getBoundingClientRect()),x=n3(j,y),P=r3(g.getBoundingClientRect()),D=i3([...x,...P]);l(D),h(!0)},[h]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&f){const _=C=>v(C,f),g=C=>v(C,c);return c.addEventListener("pointerleave",_),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",_),f.removeEventListener("pointerleave",g)}}},[c,f,v,m]),p.useEffect(()=>{if(o){const _=g=>{const C=g.target,j={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(C))||(f==null?void 0:f.contains(C)),x=!s3(j,o);y?m():x&&(m(),d())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,f,o,d,m]),s.jsx(o2,{...t,ref:a})}),[ZF,XF]=sp(i2,{isInside:!1}),JF=qC("TooltipContent"),o2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=ip(hc,n),d=xw(n),{onClose:f}=c;return p.useEffect(()=>(document.addEventListener(lN,f),()=>document.removeEventListener(lN,f)),[f]),p.useEffect(()=>{if(c.trigger){const h=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:s.jsxs(np,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(JF,{children:r}),s.jsx(ZF,{scope:n,isInside:!0,children:s.jsx(uO,{id:c.contentId,role:"tooltip",children:i||r})})]})})});a2.displayName=hc;var l2="TooltipArrow",e3=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=xw(n);return XF(l2,n).isInside?null:s.jsx(rp,{...i,...r,ref:e})});e3.displayName=l2;function t3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function n3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function r3(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function s3(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,f=e[o].y;c>r!=f>r&&n<(d-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function i3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),a3(e)}function a3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var o3=s2,c2=a2;const l3=o3,c3=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(c2,{ref:r,sideOffset:e,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));c3.displayName=c2.displayName;const d3=()=>{};var cN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},u2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=a>>2,h=(a&3)<<4|l>>4;let m=(l&15)<<2|d>>6,v=d&63;c||(v=64,o||(m=64)),r.push(n[f],n[h],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(d2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||h==null)throw new h3;const m=a<<2|l>>4;if(r.push(m),d!==64){const v=l<<4&240|d>>2;if(r.push(v),h!==64){const _=d<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f3=function(t){const e=d2(t);return u2.encodeByteArray(e,!0)},nm=function(t){return f3(t).replace(/\./g,"")},h2=function(t){try{return u2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=()=>m3().__FIREBASE_DEFAULTS__,g3=()=>{if(typeof process>"u"||typeof cN>"u")return;const t=cN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h2(t[1]);return e&&JSON.parse(e)},vw=()=>{try{return d3()||p3()||g3()||x3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f2=t=>{var e,n;return(n=(e=vw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},m2=t=>{const e=f2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p2=()=>{var t;return(t=vw())==null?void 0:t.config},g2=t=>{var e;return(e=vw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nm(JSON.stringify(n)),nm(JSON.stringify(o)),""].join(".")}const Dd={};function y3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dd))Dd[e]?t.emulator.push(e):t.prod.push(e);return t}function w3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dN=!1;function ww(t,e){if(typeof window>"u"||typeof document>"u"||!Rc(window.location.host)||Dd[t]===e||Dd[t]||dN)return;Dd[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",a=y3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{dN=!0,o()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=w3(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),g=n("learnmore"),C=document.getElementById(g)||document.createElement("a"),j=n("preprendIcon"),y=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;l(x),f(C,g);const P=d();c(y,j),x.append(y,_,C,P),document.body.appendChild(x)}a?(_.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function b3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S3(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C3(){try{return typeof indexedDB=="object"}catch{return!1}}function k3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="FirebaseError";class Vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=E3,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wu.prototype.create)}}class Wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?T3(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Vs(i,l,r)}}function T3(t,e){return t.replace(P3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P3=/\{\$([^}]+)}/g;function A3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Co(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(uN(a)&&uN(o)){if(!Co(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function I3(t,e){const n=new R3(t,e);return n.subscribe.bind(n)}class R3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ag),i.error===void 0&&(i.error=Ag),i.complete===void 0&&(i.complete=Ag);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){return t&&t._delegate?t._delegate:t}class _a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L3(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O3(t){return t===qa?void 0:t}function L3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const $3={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},U3=ut.INFO,V3={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},z3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jw{constructor(e){this.name=e,this._logLevel=U3,this._logHandler=z3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const B3=(t,e)=>e.some(n=>t instanceof n);let hN,fN;function W3(){return hN||(hN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H3(){return fN||(fN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v2=new WeakMap,_v=new WeakMap,y2=new WeakMap,Ig=new WeakMap,bw=new WeakMap;function q3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(ma(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v2.set(n,t)}).catch(()=>{}),bw.set(e,t),e}function K3(t){if(_v.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});_v.set(t,e)}let Sv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||y2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G3(t){Sv=t(Sv)}function Y3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rg(this),e,...n);return y2.set(r,e.sort?e.sort():[e]),ma(r)}:H3().includes(t)?function(...e){return t.apply(Rg(this),e),ma(v2.get(this))}:function(...e){return ma(t.apply(Rg(this),e))}}function Q3(t){return typeof t=="function"?Y3(t):(t instanceof IDBTransaction&&K3(t),B3(t,W3())?new Proxy(t,Sv):t)}function ma(t){if(t instanceof IDBRequest)return q3(t);if(Ig.has(t))return Ig.get(t);const e=Q3(t);return e!==t&&(Ig.set(t,e),bw.set(e,t)),e}const Rg=t=>bw.get(t);function Z3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=ma(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ma(o.result),c.oldVersion,c.newVersion,ma(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const X3=["get","getKey","getAll","getAllKeys","count"],J3=["put","add","delete","clear"],Dg=new Map;function mN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X3.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return Dg.set(e,a),a}G3(t=>({...t,get:(e,n,r)=>mN(e,n)||t.get(e,n,r),has:(e,n)=>!!mN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cv="@firebase/app",pN="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new jw("@firebase/app"),n6="@firebase/app-compat",r6="@firebase/analytics-compat",s6="@firebase/analytics",i6="@firebase/app-check-compat",a6="@firebase/app-check",o6="@firebase/auth",l6="@firebase/auth-compat",c6="@firebase/database",d6="@firebase/data-connect",u6="@firebase/database-compat",h6="@firebase/functions",f6="@firebase/functions-compat",m6="@firebase/installations",p6="@firebase/installations-compat",g6="@firebase/messaging",x6="@firebase/messaging-compat",v6="@firebase/performance",y6="@firebase/performance-compat",w6="@firebase/remote-config",j6="@firebase/remote-config-compat",b6="@firebase/storage",N6="@firebase/storage-compat",_6="@firebase/firestore",S6="@firebase/ai",C6="@firebase/firestore-compat",k6="firebase",E6="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="[DEFAULT]",T6={[Cv]:"fire-core",[n6]:"fire-core-compat",[s6]:"fire-analytics",[r6]:"fire-analytics-compat",[a6]:"fire-app-check",[i6]:"fire-app-check-compat",[o6]:"fire-auth",[l6]:"fire-auth-compat",[c6]:"fire-rtdb",[d6]:"fire-data-connect",[u6]:"fire-rtdb-compat",[h6]:"fire-fn",[f6]:"fire-fn-compat",[m6]:"fire-iid",[p6]:"fire-iid-compat",[g6]:"fire-fcm",[x6]:"fire-fcm-compat",[v6]:"fire-perf",[y6]:"fire-perf-compat",[w6]:"fire-rc",[j6]:"fire-rc-compat",[b6]:"fire-gcs",[N6]:"fire-gcs-compat",[_6]:"fire-fst",[C6]:"fire-fst-compat",[S6]:"fire-vertex","fire-js":"fire-js",[k6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map,P6=new Map,Ev=new Map;function gN(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Ev.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(const n of rm.values())gN(n,t);for(const n of P6.values())gN(n,t);return!0}function ap(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new Wu("app","Firebase",A6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=E6;function w2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:kv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw pa.create("bad-app-name",{appName:String(i)});if(n||(n=p2()),!n)throw pa.create("no-options");const a=rm.get(i);if(a){if(Co(n,a.options)&&Co(r,a.config))return a;throw pa.create("duplicate-app",{appName:i})}const o=new F3(i);for(const c of Ev.values())o.addComponent(c);const l=new I6(n,r,o);return rm.set(i,l),l}function Nw(t=kv){const e=rm.get(t);if(!e&&t===kv&&p2())return w2();if(!e)throw pa.create("no-app",{appName:t});return e}function Ts(t,e,n){let r=T6[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(o.join(" "));return}ko(new _a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="firebase-heartbeat-database",D6=1,uu="firebase-heartbeat-store";let Mg=null;function j2(){return Mg||(Mg=Z3(R6,D6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw pa.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function M6(t){try{const n=(await j2()).transaction(uu),r=await n.objectStore(uu).get(b2(t));return await n.done,r}catch(e){if(e instanceof Vs)vi.warn(e.message);else{const n=pa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function xN(t,e){try{const r=(await j2()).transaction(uu,"readwrite");await r.objectStore(uu).put(e,b2(t)),await r.done}catch(n){if(n instanceof Vs)vi.warn(n.message);else{const r=pa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(r.message)}}}function b2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=1024,L6=30;class F6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new U6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=vN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>L6){const o=V6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vN(),{heartbeatsToSend:r,unsentEntries:i}=$6(this._heartbeatsCache.heartbeats),a=nm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return vi.warn(n),""}}}function vN(){return new Date().toISOString().substring(0,10)}function $6(t,e=O6){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),yN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class U6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C3()?k3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function yN(t){return nm(JSON.stringify({version:2,heartbeats:t})).length}function V6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){ko(new _a("platform-logger",e=>new e6(e),"PRIVATE")),ko(new _a("heartbeat",e=>new F6(e),"PRIVATE")),Ts(Cv,pN,t),Ts(Cv,pN,"esm2020"),Ts("fire-js","")}z6("");var B6="firebase",W6="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(B6,W6,"app");function N2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H6=N2,_2=new Wu("auth","Firebase",N2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new jw("@firebase/auth");function q6(t,...e){sm.logLevel<=ut.WARN&&sm.warn(`Auth (${Wo}): ${t}`,...e)}function ff(t,...e){sm.logLevel<=ut.ERROR&&sm.error(`Auth (${Wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,...e){throw Sw(t,...e)}function Kr(t,...e){return Sw(t,...e)}function _w(t,e,n){const r={...H6(),[e]:n};return new Wu("auth","Firebase",r).create(e,{appName:t.name})}function ga(t){return _w(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ds(t,"argument-error"),_w(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _2.create(t,...e)}function Oe(t,e,...n){if(!t)throw Sw(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function yi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function K6(){return wN()==="http:"||wN()==="https:"}function wN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K6()||N3()||"connection"in navigator)?navigator.onLine:!0}function Y6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=j3()||_3()}get(){return G6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t,e){yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],X6=new qu(3e4,6e4);function kw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Dc(t,e,n,r,i={}){return k2(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Hu({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return b3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Rc(t.emulatorConfig.host)&&(d.credentials="include"),C2.fetch()(await E2(t,t.config.apiHost,n,l),d)})}async function k2(t,e,n){t._canInitEmulator=!1;const r={...Q6,...e};try{const i=new e5(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw zh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zh(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _w(t,f,d);Ds(t,f)}}catch(i){if(i instanceof Vs)throw i;Ds(t,"network-request-failed",{message:String(i)})}}async function J6(t,e,n,r,i={}){const a=await Dc(t,e,n,r,i);return"mfaPendingCredential"in a&&Ds(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function E2(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?Cw(t.config,i):`${t.config.apiScheme}://${i}`;return Z6.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class e5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),X6.get())})}}function zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e){return Dc(t,"POST","/v1/accounts:delete",e)}async function im(t,e){return Dc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n5(t,e=!1){const n=_i(t),r=await n.getIdToken(e),i=Ew(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Md(Og(i.auth_time)),issuedAtTime:Md(Og(i.iat)),expirationTime:Md(Og(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Og(t){return Number(t)*1e3}function Ew(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=h2(n);return i?JSON.parse(i):(ff("Failed to decode base64 JWT payload"),null)}catch(i){return ff("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jN(t){const e=Ew(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vs&&r5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t){var h;const e=t.auth,n=await t.getIdToken(),r=await hu(t,im(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?T2(i.providerUserInfo):[],o=a5(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function i5(t){const e=_i(t);await am(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){const n=await k2(t,{},async()=>{const r=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await E2(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Rc(t.emulatorConfig.host)&&(c.credentials="include"),C2.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l5(t,e){return Dc(t,"POST","/v2/accounts:revokeToken",kw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=jN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await o5(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Dl;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Oe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new s5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n5(this,e)}reload(){return i5(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await am(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(ga(this.auth));const e=await this.getIdToken();return await hu(this,t5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:v,providerData:_,stsTokenManager:g}=n;Oe(h&&g,e,"internal-error");const C=Dl.fromJSON(this.name,g);Oe(typeof h=="string",e,"internal-error"),Mi(r,e.name),Mi(i,e.name),Oe(typeof m=="boolean",e,"internal-error"),Oe(typeof v=="boolean",e,"internal-error"),Mi(a,e.name),Mi(o,e.name),Mi(l,e.name),Mi(c,e.name),Mi(d,e.name),Mi(f,e.name);const j=new Fr({uid:h,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:C,createdAt:d,lastLoginAt:f});return _&&Array.isArray(_)&&(j.providerData=_.map(y=>({...y}))),c&&(j._redirectEventId=c),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const a=new Fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await am(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?T2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Dl;l.updateFromIdToken(r);const c=new Fr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Pv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Map;function ai(t){yi(t instanceof Function,"Expected a class definition");let e=bN.get(t);return e?(yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}P2.type="NONE";const NN=P2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,a),this.fullPersistenceKey=mf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await im(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(ai(NN),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||ai(NN);const o=mf(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const m=await im(e,{idToken:f}).catch(()=>{});if(!m)break;h=await Fr._fromGetAccountInfoResponse(e,m,f)}else h=Fr._fromJSON(e,f);d!==a&&(l=h),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ml(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Ml(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O2(e))return"Blackberry";if(L2(e))return"Webos";if(I2(e))return"Safari";if((e.includes("chrome/")||R2(e))&&!e.includes("edge/"))return"Chrome";if(M2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function A2(t=Ln()){return/firefox\//i.test(t)}function I2(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R2(t=Ln()){return/crios\//i.test(t)}function D2(t=Ln()){return/iemobile/i.test(t)}function M2(t=Ln()){return/android/i.test(t)}function O2(t=Ln()){return/blackberry/i.test(t)}function L2(t=Ln()){return/webos/i.test(t)}function Tw(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c5(t=Ln()){var e;return Tw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function d5(){return S3()&&document.documentMode===10}function F2(t=Ln()){return Tw(t)||M2(t)||L2(t)||O2(t)||/windows phone/i.test(t)||D2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e=[]){let n;switch(t){case"Browser":n=_N(Ln());break;case"Worker":n=`${_N(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e={}){return Dc(t,"GET","/v2/passwordPolicy",kw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=6;class m5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SN(this),this.idTokenSubscription=new SN(this),this.beforeStateQueue=new u5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await im(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await am(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(ga(this));const n=e?_i(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h5(this),n=new m5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&q6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Mc(t){return _i(t)}class SN{constructor(e){this.auth=e,this.observer=null,this.addObserver=I3(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g5(t){Pw=t}function x5(t){return Pw.loadJS(t)}function v5(){return Pw.gapiScript}function y5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t,e){const n=ap(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Co(a,e??{}))return i;Ds(i,"already-initialized")}return n.initialize({options:e})}function j5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b5(t,e,n){const r=Mc(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),a=U2(e),{host:o,port:l}=N5(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Co(d,r.config.emulator)&&Co(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Rc(o)?(yw(`${a}//${o}${c}`),ww("Auth",!0)):_5()}function U2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N5(t){const e=U2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:CN(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:CN(o)}}}function CN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return J6(t,"POST","/v1/accounts:signInWithIdp",kw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="http://localhost";class wi extends V2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new wi(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:S5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Od extends Oc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Oe("providerId"in n&&"signInMethod"in n,"argument-error"),wi._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Oe(e.idToken||e.accessToken,"argument-error"),wi._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Od.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Od.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:o,providerId:l}=e;if(!r&&!i&&!n&&!a||!l)return null;try{return new Od(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Oc{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Oc{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Oc{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Fr._fromIdTokenResponse(e,r,i),o=kN(r);return new fc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=kN(r);return new fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function kN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends Vs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,om.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new om(e,n,r,i)}}function z2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(t,a,e,r):a})}async function C5(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(ga(r));const i="reauthenticate";try{const a=await hu(t,z2(r,i,e,t),n);Oe(a.idToken,r,"internal-error");const o=Ew(a.idToken);Oe(o,r,"internal-error");const{sub:l}=o;return Oe(t.uid===l,r,"user-mismatch"),fc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ds(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e,n=!1){if(sr(t.app))return Promise.reject(ga(t));const r="signIn",i=await z2(t,r,e),a=await fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function T5(t,e,n,r){return _i(t).onIdTokenChanged(e,n,r)}function P5(t,e,n){return _i(t).beforeAuthStateChanged(e,n)}function A5(t,e,n,r){return _i(t).onAuthStateChanged(e,n,r)}function I5(t){return _i(t).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=1e3,D5=10;class W2 extends B2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);d5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}W2.type="LOCAL";const M5=W2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends B2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H2.type="SESSION";const q2=H2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(n.origin,a)),c=await O5(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Aw("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(m.data.response);break;default:clearTimeout(f),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(){return window}function F5(t){Ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof Ps().WorkerGlobalScope<"u"&&typeof Ps().importScripts=="function"}async function $5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V5(){return K2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",z5=1,cm="firebaseLocalStorage",Y2="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([cm],e?"readwrite":"readonly").objectStore(cm)}function B5(){const t=indexedDB.deleteDatabase(G2);return new Ku(t).toPromise()}function Av(){const t=indexedDB.open(G2,z5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cm,{keyPath:Y2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cm)?e(r):(r.close(),await B5(),e(await Av()))})})}async function EN(t,e,n){const r=cp(t,!0).put({[Y2]:e,value:n});return new Ku(r).toPromise()}async function W5(t,e){const n=cp(t,!1).get(e),r=await new Ku(n).toPromise();return r===void 0?null:r.value}function TN(t,e){const n=cp(t,!0).delete(e);return new Ku(n).toPromise()}const H5=800,q5=3;class Q2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Av(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(V5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $5(),!this.activeServiceWorker)return;this.sender=new L5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Av();return await EN(e,lm,"1"),await TN(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EN(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=cp(i,!1).getAll();return new Ku(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q2.type="LOCAL";const K5=Q2;new qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){return e?ai(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends V2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G5(t){return E5(t.auth,new Rw(t),t.bypassAuthState)}function Y5(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),k5(n,new Rw(t),t.bypassAuthState)}async function Q5(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),C5(n,new Rw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G5;case"linkViaPopup":case"linkViaRedirect":return Q5;case"reauthViaPopup":case"reauthViaRedirect":return Y5;default:Ds(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new qu(2e3,1e4);async function X2(t,e,n){if(sr(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=Mc(t);S2(t,e,op);const i=Iw(r,n);return new no(r,"signInViaPopup",e,i).executeNotNull()}class no extends Z2{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=Aw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z5.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="pendingRedirect",pf=new Map;class J5 extends Z2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await e9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e9(t,e){const n=eE(e),r=J2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function t9(t,e){return J2(t)._set(eE(e),"true")}function n9(t,e){pf.set(t._key(),e)}function J2(t){return ai(t._redirectPersistence)}function eE(t){return mf(X5,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e,n){return r9(t,e,n)}async function r9(t,e,n){if(sr(t.app))return Promise.reject(ga(t));const r=Mc(t);S2(t,e,op),await r._initializationPromise;const i=Iw(r,n);return await t9(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function s9(t,e){return await Mc(t)._initializationPromise,nE(t,e,!1)}async function nE(t,e,n=!1){if(sr(t.app))return Promise.reject(ga(t));const r=Mc(t),i=Iw(r,e),o=await new J5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=10*60*1e3;class a9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i9&&this.cachedEventUids.clear(),this.cachedEventUids.has(PN(e))}saveEventToCache(e){this.cachedEventUids.add(PN(e)),this.lastProcessedEventTime=Date.now()}}function PN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l9(t,e={}){return Dc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d9=/^https?/;async function u9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l9(t);for(const n of e)try{if(h9(n))return}catch{}Ds(t,"unauthorized-domain")}function h9(t){const e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!d9.test(n))return!1;if(c9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new qu(3e4,6e4);function AN(){const t=Ps().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m9(t){return new Promise((e,n)=>{var i,a,o;function r(){AN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AN(),n(Kr(t,"network-request-failed"))},timeout:f9.get()})}if((a=(i=Ps().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Ps().gapi)!=null&&o.load)r();else{const l=y5("iframefcb");return Ps()[l]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},x5(`${v5()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw gf=null,e})}let gf=null;function p9(t){return gf=gf||m9(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new qu(5e3,15e3),x9="__/auth/iframe",v9="emulator/auth/iframe",y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j9(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cw(e,v9):`https://${t.config.authDomain}/${x9}`,r={apiKey:e.apiKey,appName:t.name,v:Wo},i=w9.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Hu(r).slice(1)}`}async function b9(t){const e=await p9(t),n=Ps().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:j9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),l=Ps().setTimeout(()=>{a(o)},g9.get());function c(){Ps().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_9=500,S9=600,C9="_blank",k9="http://localhost";class IN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E9(t,e,n,r=_9,i=S9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...N9,width:r.toString(),height:i.toString(),top:a,left:o},d=Ln().toLowerCase();n&&(l=R2(d)?C9:n),A2(d)&&(e=e||k9,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[v,_])=>`${m}${v}=${_},`,"");if(c5(d)&&l!=="_self")return T9(e||"",l),new IN(null);const h=window.open(e||"",l,f);Oe(h,t,"popup-blocked");try{h.focus()}catch{}return new IN(h)}function T9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="__/auth/handler",A9="emulator/auth/handler",I9=encodeURIComponent("fac");async function RN(t,e,n,r,i,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wo,eventId:i};if(e instanceof op){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",A3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Oc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${I9}=${encodeURIComponent(c)}`:"";return`${R9(t)}?${Hu(l).slice(1)}${d}`}function R9({config:t}){return t.emulator?Cw(t,A9):`https://${t.authDomain}/${P9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="webStorageSupport";class D9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q2,this._completeRedirectFn=nE,this._overrideRedirectResult=n9}async _openPopup(e,n,r,i){var o;yi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await RN(e,n,r,Tv(),i);return E9(e,a,Aw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await RN(e,n,r,Tv(),i);return F5(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(yi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await b9(e),r=new a9(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lg,{type:Lg},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[Lg];a!==void 0&&n(!!a),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F2()||I2()||Tw()}}const M9=D9;var DN="@firebase/auth",MN="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F9(t){ko(new _a("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$2(t)},d=new p5(r,i,a,c);return j5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new _a("auth-internal",e=>{const n=Mc(e.getProvider("auth").getImmediate());return(r=>new O9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(DN,MN,L9(t)),Ts(DN,MN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=5*60,U9=g2("authIdTokenMaxAge")||$9;let ON=null;const V9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U9)return;const i=n==null?void 0:n.token;ON!==i&&(ON=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z9(t=Nw()){const e=ap(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w5(t,{popupRedirectResolver:M9,persistence:[K5,M5,q2]}),r=g2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=V9(a.toString());P5(n,o,()=>o(n.currentUser)),T5(n,l=>o(l))}}const i=f2("auth");return i&&b5(n,`http://${i}`),n}function B9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}g5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Kr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",B9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F9("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebasestorage.googleapis.com",W9="storageBucket",H9=2*60*1e3,q9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Vs{constructor(e,n,r=0){super(Fg(e),`Firebase Storage: ${n} (${Fg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ms;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ms||(Ms={}));function Fg(t){return"storage/"+t}function K9(){const t="An unknown error occurred, please check the error payload for server response.";return new zs(Ms.UNKNOWN,t)}function G9(){return new zs(Ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y9(){return new zs(Ms.CANCELED,"User canceled the upload/download.")}function Q9(t){return new zs(Ms.INVALID_URL,"Invalid URL '"+t+"'.")}function Z9(t){return new zs(Ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LN(t){return new zs(Ms.INVALID_ARGUMENT,t)}function iE(){return new zs(Ms.APP_DELETED,"The Firebase app was deleted.")}function X9(t){return new zs(Ms.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$r.makeFromUrl(e,n)}catch{return new $r(e,"")}if(r.path==="")return r;throw Z9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},g=n===sE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",j=new RegExp(`^https?://${g}/${i}/${C}`,"i"),x=[{regex:l,indices:c,postModify:a},{regex:v,indices:_,postModify:d},{regex:j,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<x.length;P++){const D=x[P],O=D.regex.exec(e);if(O){const E=O[D.indices.bucket];let b=O[D.indices.path];b||(b=""),r=new $r(E,b),D.postModify(r);break}}if(r==null)throw Q9(e);return r}}class J9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let d=!1;function f(...C){d||(d=!0,e.apply(null,C))}function h(C){i=setTimeout(()=>{i=null,t(v,c())},C)}function m(){a&&clearTimeout(a)}function v(C,...j){if(d){m();return}if(C){m(),f.call(null,C,...j);return}if(c()||o){m(),f.call(null,C,...j);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,h(x)}let _=!1;function g(C){_||(_=!0,m(),!d&&(i!==null?(C||(l=2),clearTimeout(i),h(0)):C||(l=1)))}return h(0),a=setTimeout(()=>{o=!0,g(!0)},n),g}function t$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t){return t!==void 0}function FN(t,e,n,r){if(r<e)throw LN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw LN(`Invalid value for '${t}'. Expected ${n} or less.`)}function r$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var dm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dm||(dm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,i,a,o,l,c,d,f,h,m=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,g)=>{this.resolve_=_,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===dm.NO_ERROR,c=a.getStatus();if(!l||s$(c,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===dm.ABORT;r(!1,new Bh(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Bh(d,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());n$(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=K9();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?iE():Y9();o(c)}else{const c=G9();o(c)}};this.canceled_?n(!1,new Bh(!1,null,!0)):this.backoffId_=e$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function a$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function c$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d$(t,e,n,r,i,a,o=!0,l=!1){const c=r$(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return l$(f,e),a$(f,n),o$(f,a),c$(f,r),new i$(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this._service=e,n instanceof $r?this._location=n:this._location=$r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new um(e,n)}get root(){const e=new $r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h$(this._location.path)}get storage(){return this._service}get parent(){const e=u$(this._location.path);if(e===null)return null;const n=new $r(this._location.bucket,e);return new um(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw X9(e)}}function $N(t,e){const n=e==null?void 0:e[W9];return n==null?null:$r.makeFromBucketSpec(n,t)}function f$(t,e,n,r={}){t.host=`${e}:${n}`;const i=Rc(e);i&&(yw(`https://${t.host}/b`),ww("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:x2(a,t.app.options.projectId))}class m${constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=sE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H9,this._maxUploadRetryTime=q9,this._requests=new Set,i!=null?this._bucket=$r.makeFromBucketSpec(i,this._host):this._bucket=$N(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$r.makeFromBucketSpec(this._url,e):this._bucket=$N(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new um(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new J9(iE());{const o=d$(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const UN="@firebase/storage",VN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="storage";function p$(t=Nw(),e){t=_i(t);const r=ap(t,aE).getImmediate({identifier:e}),i=m2("storage");return i&&g$(r,...i),r}function g$(t,e,n,r={}){f$(t,e,n,r)}function x$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new m$(n,r,i,e,Wo)}function v$(){ko(new _a(aE,x$,"PUBLIC").setMultipleInstances(!0)),Ts(UN,VN,""),Ts(UN,VN,"esm2020")}v$();var zN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,b){function S(){}S.prototype=b.prototype,E.F=b.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(R,N,T){for(var A=Array(arguments.length-2),L=2;L<arguments.length;L++)A[L-2]=arguments[L];return b.prototype[N].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,b,S){S||(S=0);const R=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)R[N]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(N=0;N<16;++N)R[N]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=E.g[0],S=E.g[1],N=E.g[2];let T=E.g[3],A;A=b+(T^S&(N^T))+R[0]+3614090360&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[1]+3905402710&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[2]+606105819&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[3]+3250441966&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(T^S&(N^T))+R[4]+4118548399&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[5]+1200080426&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[6]+2821735955&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[7]+4249261313&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(T^S&(N^T))+R[8]+1770035416&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[9]+2336552879&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[10]+4294925233&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[11]+2304563134&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(T^S&(N^T))+R[12]+1804603682&4294967295,b=S+(A<<7&4294967295|A>>>25),A=T+(N^b&(S^N))+R[13]+4254626195&4294967295,T=b+(A<<12&4294967295|A>>>20),A=N+(S^T&(b^S))+R[14]+2792965006&4294967295,N=T+(A<<17&4294967295|A>>>15),A=S+(b^N&(T^b))+R[15]+1236535329&4294967295,S=N+(A<<22&4294967295|A>>>10),A=b+(N^T&(S^N))+R[1]+4129170786&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[6]+3225465664&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[11]+643717713&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[0]+3921069994&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(N^T&(S^N))+R[5]+3593408605&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[10]+38016083&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[15]+3634488961&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[4]+3889429448&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(N^T&(S^N))+R[9]+568446438&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[14]+3275163606&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[3]+4107603335&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[8]+1163531501&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(N^T&(S^N))+R[13]+2850285829&4294967295,b=S+(A<<5&4294967295|A>>>27),A=T+(S^N&(b^S))+R[2]+4243563512&4294967295,T=b+(A<<9&4294967295|A>>>23),A=N+(b^S&(T^b))+R[7]+1735328473&4294967295,N=T+(A<<14&4294967295|A>>>18),A=S+(T^b&(N^T))+R[12]+2368359562&4294967295,S=N+(A<<20&4294967295|A>>>12),A=b+(S^N^T)+R[5]+4294588738&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[8]+2272392833&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[11]+1839030562&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[14]+4259657740&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(S^N^T)+R[1]+2763975236&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[4]+1272893353&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[7]+4139469664&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[10]+3200236656&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(S^N^T)+R[13]+681279174&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[0]+3936430074&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[3]+3572445317&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[6]+76029189&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(S^N^T)+R[9]+3654602809&4294967295,b=S+(A<<4&4294967295|A>>>28),A=T+(b^S^N)+R[12]+3873151461&4294967295,T=b+(A<<11&4294967295|A>>>21),A=N+(T^b^S)+R[15]+530742520&4294967295,N=T+(A<<16&4294967295|A>>>16),A=S+(N^T^b)+R[2]+3299628645&4294967295,S=N+(A<<23&4294967295|A>>>9),A=b+(N^(S|~T))+R[0]+4096336452&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[7]+1126891415&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[14]+2878612391&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[5]+4237533241&4294967295,S=N+(A<<21&4294967295|A>>>11),A=b+(N^(S|~T))+R[12]+1700485571&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[3]+2399980690&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[10]+4293915773&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[1]+2240044497&4294967295,S=N+(A<<21&4294967295|A>>>11),A=b+(N^(S|~T))+R[8]+1873313359&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[15]+4264355552&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[6]+2734768916&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[13]+1309151649&4294967295,S=N+(A<<21&4294967295|A>>>11),A=b+(N^(S|~T))+R[4]+4149444226&4294967295,b=S+(A<<6&4294967295|A>>>26),A=T+(S^(b|~N))+R[11]+3174756917&4294967295,T=b+(A<<10&4294967295|A>>>22),A=N+(b^(T|~S))+R[2]+718787259&4294967295,N=T+(A<<15&4294967295|A>>>17),A=S+(T^(N|~b))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+N&4294967295,E.g[3]=E.g[3]+T&4294967295}r.prototype.v=function(E,b){b===void 0&&(b=E.length);const S=b-this.blockSize,R=this.C;let N=this.h,T=0;for(;T<b;){if(N==0)for(;T<=S;)i(this,E,T),T+=this.blockSize;if(typeof E=="string"){for(;T<b;)if(R[N++]=E.charCodeAt(T++),N==this.blockSize){i(this,R),N=0;break}}else for(;T<b;)if(R[N++]=E[T++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;b=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=b&255,b/=256;for(this.v(E),E=Array(16),b=0,S=0;S<4;++S)for(let R=0;R<32;R+=8)E[b++]=this.g[S]>>>R&255;return E};function a(E,b){var S=l;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=b(E)}function o(E,b){this.h=b;const S=[];let R=!0;for(let N=E.length-1;N>=0;N--){const T=E[N]|0;R&&T==b||(S[N]=T,R=!1)}this.g=S}var l={};function c(E){return-128<=E&&E<128?a(E,function(b){return new o([b|0],b<0?-1:0)}):new o([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return h;if(E<0)return C(d(-E));const b=[];let S=1;for(let R=0;E>=S;R++)b[R]=E/S|0,S*=4294967296;return new o(b,0)}function f(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return C(f(E.substring(1),b));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=d(Math.pow(b,8));let R=h;for(let T=0;T<E.length;T+=8){var N=Math.min(8,E.length-T);const A=parseInt(E.substring(T,T+N),b);N<8?(N=d(Math.pow(b,N)),R=R.j(N).add(d(A))):(R=R.j(S),R=R.add(d(A)))}return R}var h=c(0),m=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-C(this).m();let E=0,b=1;for(let S=0;S<this.g.length;S++){const R=this.i(S);E+=(R>=0?R:4294967296+R)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(g(this))return"-"+C(this).toString(E);const b=d(Math.pow(E,6));var S=this;let R="";for(;;){const N=P(S,b).g;S=j(S,N.j(b));let T=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=N,_(S))return T+R;for(;T.length<6;)T="0"+T;R=T+R}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(let b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=j(this,E),g(E)?-1:_(E)?0:1};function C(E){const b=E.g.length,S=[];for(let R=0;R<b;R++)S[R]=~E.g[R];return new o(S,~E.h).add(m)}t.abs=function(){return g(this)?C(this):this},t.add=function(E){const b=Math.max(this.g.length,E.g.length),S=[];let R=0;for(let N=0;N<=b;N++){let T=R+(this.i(N)&65535)+(E.i(N)&65535),A=(T>>>16)+(this.i(N)>>>16)+(E.i(N)>>>16);R=A>>>16,T&=65535,A&=65535,S[N]=A<<16|T}return new o(S,S[S.length-1]&-2147483648?-1:0)};function j(E,b){return E.add(C(b))}t.j=function(E){if(_(this)||_(E))return h;if(g(this))return g(E)?C(this).j(C(E)):C(C(this).j(E));if(g(E))return C(this.j(C(E)));if(this.l(v)<0&&E.l(v)<0)return d(this.m()*E.m());const b=this.g.length+E.g.length,S=[];for(var R=0;R<2*b;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<E.g.length;N++){const T=this.i(R)>>>16,A=this.i(R)&65535,L=E.i(N)>>>16,H=E.i(N)&65535;S[2*R+2*N]+=A*H,y(S,2*R+2*N),S[2*R+2*N+1]+=T*H,y(S,2*R+2*N+1),S[2*R+2*N+1]+=A*L,y(S,2*R+2*N+1),S[2*R+2*N+2]+=T*L,y(S,2*R+2*N+2)}for(E=0;E<b;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=b;E<2*b;E++)S[E]=0;return new o(S,0)};function y(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function x(E,b){this.g=E,this.h=b}function P(E,b){if(_(b))throw Error("division by zero");if(_(E))return new x(h,h);if(g(E))return b=P(C(E),b),new x(C(b.g),C(b.h));if(g(b))return b=P(E,C(b)),new x(C(b.g),b.h);if(E.g.length>30){if(g(E)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var S=m,R=b;R.l(E)<=0;)S=D(S),R=D(R);var N=O(S,1),T=O(R,1);for(R=O(R,2),S=O(S,2);!_(R);){var A=T.add(R);A.l(E)<=0&&(N=N.add(S),T=A),R=O(R,1),S=O(S,1)}return b=j(E,N.j(b)),new x(N,b)}for(N=h;E.l(b)>=0;){for(S=Math.max(1,Math.floor(E.m()/b.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),T=d(S),A=T.j(b);g(A)||A.l(E)>0;)S-=R,T=d(S),A=T.j(b);_(T)&&(T=m),N=N.add(T),E=j(E,A)}return new x(N,E)}t.B=function(E){return P(this,E).h},t.and=function(E){const b=Math.max(this.g.length,E.g.length),S=[];for(let R=0;R<b;R++)S[R]=this.i(R)&E.i(R);return new o(S,this.h&E.h)},t.or=function(E){const b=Math.max(this.g.length,E.g.length),S=[];for(let R=0;R<b;R++)S[R]=this.i(R)|E.i(R);return new o(S,this.h|E.h)},t.xor=function(E){const b=Math.max(this.g.length,E.g.length),S=[];for(let R=0;R<b;R++)S[R]=this.i(R)^E.i(R);return new o(S,this.h^E.h)};function D(E){const b=E.g.length+1,S=[];for(let R=0;R<b;R++)S[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(S,E.h)}function O(E,b){const S=b>>5;b%=32;const R=E.g.length-S,N=[];for(let T=0;T<R;T++)N[T]=b>0?E.i(T+S)>>>b|E.i(T+S+1)<<32-b:E.i(T+S);return new o(N,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Dw=o}).apply(typeof zN<"u"?zN:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var w=0;w<u.length;++w){var k=u[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(u,w){if(w)e:{var k=r;u=u.split(".");for(var M=0;M<u.length-1;M++){var K=u[M];if(!(K in k))break e;k=k[K]}u=u[u.length-1],M=k[u],w=w(M),w!=M&&w!=null&&e(k,u,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(w){var k=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&k.push([M,w[M]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var w=typeof u;return w=="object"&&u!=null||w=="function"}function c(u,w,k){return u.call.apply(u.bind,arguments)}function d(u,w,k){return d=c,d.apply(null,arguments)}function f(u,w){var k=Array.prototype.slice.call(arguments,1);return function(){var M=k.slice();return M.push.apply(M,arguments),u.apply(this,M)}}function h(u,w){function k(){}k.prototype=w.prototype,u.Z=w.prototype,u.prototype=new k,u.prototype.constructor=u,u.Ob=function(M,K,Y){for(var pe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)pe[Ge-2]=arguments[Ge];return w.prototype[K].apply(M,pe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function v(u){const w=u.length;if(w>0){const k=Array(w);for(let M=0;M<w;M++)k[M]=u[M];return k}return[]}function _(u,w){for(let M=1;M<arguments.length;M++){const K=arguments[M];var k=typeof K;if(k=k!="object"?k:K?Array.isArray(K)?"array":k:"null",k=="array"||k=="object"&&typeof K.length=="number"){k=u.length||0;const Y=K.length||0;u.length=k+Y;for(let pe=0;pe<Y;pe++)u[k+pe]=K[pe]}else u.push(K)}}class g{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(u){o.setTimeout(()=>{throw u},0)}function j(){var u=E;let w=null;return u.g&&(w=u.g,u.g=u.g.next,u.g||(u.h=null),w.next=null),w}class y{constructor(){this.h=this.g=null}add(w,k){const M=x.get();M.set(w,k),this.h?this.h.next=M:this.g=M,this.h=M}}var x=new g(()=>new P,u=>u.reset());class P{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,E=new y,b=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(S)}};function S(){for(var u;u=j();){try{u.h.call(u.g)}catch(k){C(k)}var w=x;w.j(u),w.h<100&&(w.h++,u.next=w.g,w.g=u)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,w){this.type=u,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,w=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const k=()=>{};o.addEventListener("test",k,w),o.removeEventListener("test",k,w)}catch{}return u}();function A(u){return/^[\s\xa0]*$/.test(u)}function L(u,w){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,w)}h(L,N),L.prototype.init=function(u,w){const k=this.type=u.type,M=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=w,w=u.relatedTarget,w||(k=="mouseover"?w=u.fromElement:k=="mouseout"&&(w=u.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),V=0;function z(u,w,k,M,K){this.listener=u,this.proxy=null,this.src=w,this.type=k,this.capture=!!M,this.ha=K,this.key=++V,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function W(u,w,k){for(const M in u)w.call(k,u[M],M,u)}function Q(u,w){for(const k in u)w.call(void 0,u[k],k,u)}function X(u){const w={};for(const k in u)w[k]=u[k];return w}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(u,w){let k,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(k in M)u[k]=M[k];for(let Y=0;Y<B.length;Y++)k=B[Y],Object.prototype.hasOwnProperty.call(M,k)&&(u[k]=M[k])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,w,k,M,K){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const pe=Me(u,w,M,K);return pe>-1?(w=u[pe],k||(w.fa=!1)):(w=new z(w,this.src,Y,!!M,K),w.fa=k,u.push(w)),w};function ot(u,w){const k=w.type;if(k in u.g){var M=u.g[k],K=Array.prototype.indexOf.call(M,w,void 0),Y;(Y=K>=0)&&Array.prototype.splice.call(M,K,1),Y&&(F(w),u.g[k].length==0&&(delete u.g[k],u.h--))}}function Me(u,w,k,M){for(let K=0;K<u.length;++K){const Y=u[K];if(!Y.da&&Y.listener==w&&Y.capture==!!k&&Y.ha==M)return K}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Ue={};function ze(u,w,k,M,K){if(Array.isArray(w)){for(let Y=0;Y<w.length;Y++)ze(u,w[Y],k,M,K);return null}return k=is(k),u&&u[H]?u.J(w,k,l(M)?!!M.capture:!!M,K):q(u,w,k,!1,M,K)}function q(u,w,k,M,K,Y){if(!w)throw Error("Invalid event type");const pe=l(K)?!!K.capture:!!K;let Ge=dn(u);if(Ge||(u[_e]=Ge=new ue(u)),k=Ge.add(w,k,M,pe,Y),k.proxy)return k;if(M=we(),k.proxy=M,M.src=u,M.listener=k,u.addEventListener)T||(K=pe),K===void 0&&(K=!1),u.addEventListener(w.toString(),M,K);else if(u.attachEvent)u.attachEvent(wt(w.toString()),M);else if(u.addListener&&u.removeListener)u.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return k}function we(){function u(k){return w.call(u.src,u.listener,k)}const w=xt;return u}function Te(u,w,k,M,K){if(Array.isArray(w))for(var Y=0;Y<w.length;Y++)Te(u,w[Y],k,M,K);else M=l(M)?!!M.capture:!!M,k=is(k),u&&u[H]?(u=u.i,Y=String(w).toString(),Y in u.g&&(w=u.g[Y],k=Me(w,k,M,K),k>-1&&(F(w[k]),Array.prototype.splice.call(w,k,1),w.length==0&&(delete u.g[Y],u.h--)))):u&&(u=dn(u))&&(w=u.g[w.toString()],u=-1,w&&(u=Me(w,k,M,K)),(k=u>-1?w[u]:null)&&Be(k))}function Be(u){if(typeof u!="number"&&u&&!u.da){var w=u.src;if(w&&w[H])ot(w.i,u);else{var k=u.type,M=u.proxy;w.removeEventListener?w.removeEventListener(k,M,u.capture):w.detachEvent?w.detachEvent(wt(k),M):w.addListener&&w.removeListener&&w.removeListener(M),(k=dn(w))?(ot(k,u),k.h==0&&(k.src=null,w[_e]=null)):F(u)}}}function wt(u){return u in Ue?Ue[u]:Ue[u]="on"+u}function xt(u,w){if(u.da)u=!0;else{w=new L(w,this);const k=u.listener,M=u.ha||u.src;u.fa&&Be(u),u=k.call(M,w)}return u}function dn(u){return u=u[_e],u instanceof ue?u:null}var un="__closure_events_fn_"+(Math.random()*1e9>>>0);function is(u){return typeof u=="function"?u:(u[un]||(u[un]=function(w){return u.handleEvent(w)}),u[un])}function vt(){R.call(this),this.i=new ue(this),this.M=this,this.G=null}h(vt,R),vt.prototype[H]=!0,vt.prototype.removeEventListener=function(u,w,k,M){Te(this,u,w,k,M)};function nn(u,w){var k,M=u.G;if(M)for(k=[];M;M=M.G)k.push(M);if(u=u.M,M=w.type||w,typeof w=="string")w=new N(w,u);else if(w instanceof N)w.target=w.target||u;else{var K=w;w=new N(M,u),me(w,K)}K=!0;let Y,pe;if(k)for(pe=k.length-1;pe>=0;pe--)Y=w.g=k[pe],K=Bs(Y,M,!0,w)&&K;if(Y=w.g=u,K=Bs(Y,M,!0,w)&&K,K=Bs(Y,M,!1,w)&&K,k)for(pe=0;pe<k.length;pe++)Y=w.g=k[pe],K=Bs(Y,M,!1,w)&&K}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const w in u.g){const k=u.g[w];for(let M=0;M<k.length;M++)F(k[M]);delete u.g[w],u.h--}}this.G=null},vt.prototype.J=function(u,w,k,M){return this.i.add(String(u),w,!1,k,M)},vt.prototype.K=function(u,w,k,M){return this.i.add(String(u),w,!0,k,M)};function Bs(u,w,k,M){if(w=u.i.g[String(w)],!w)return!0;w=w.concat();let K=!0;for(let Y=0;Y<w.length;++Y){const pe=w[Y];if(pe&&!pe.da&&pe.capture==k){const Ge=pe.listener,Kt=pe.ha||pe.src;pe.fa&&ot(u.i,pe),K=Ge.call(Kt,M)!==!1&&K}}return K&&!M.defaultPrevented}function $(u,w){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:o.setTimeout(u,w||0)}function G(u){u.g=$(()=>{u.g=null,u.i&&(u.i=!1,G(u))},u.l);const w=u.h;u.h=null,u.m.apply(null,w)}class ee extends R{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:G(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(u){R.call(this),this.h=u,this.g={}}h(ve,R);var he=[];function ce(u){W(u.g,function(w,k){this.g.hasOwnProperty(k)&&Be(w)},u),u.g={}}ve.prototype.N=function(){ve.Z.N.call(this),ce(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Se=o.JSON.stringify,Z=o.JSON.parse,Ie=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function jt(){}function wn(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cr(){N.call(this,"d")}h(Cr,N);function Fc(){N.call(this,"c")}h(Fc,N);var Ws={},ch=null;function Qo(){return ch=ch||new vt}Ws.Ia="serverreachability";function Ej(u){N.call(this,Ws.Ia,u)}h(Ej,N);function $c(u){const w=Qo();nn(w,new Ej(w))}Ws.STAT_EVENT="statevent";function Tj(u,w){N.call(this,Ws.STAT_EVENT,u),this.stat=w}h(Tj,N);function En(u){const w=Qo();nn(w,new Tj(w,u))}Ws.Ja="timingevent";function Pj(u,w){N.call(this,Ws.Ja,u),this.size=w}h(Pj,N);function Uc(u,w){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},w)}function Vc(){this.g=!0}Vc.prototype.ua=function(){this.g=!1};function MI(u,w,k,M,K,Y){u.info(function(){if(u.g)if(Y){var pe="",Ge=Y.split("&");for(let yt=0;yt<Ge.length;yt++){var Kt=Ge[yt].split("=");if(Kt.length>1){const rn=Kt[0];Kt=Kt[1];const os=rn.split("_");pe=os.length>=2&&os[1]=="type"?pe+(rn+"="+Kt+"&"):pe+(rn+"=redacted&")}}}else pe=null;else pe=Y;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+w+`
`+k+`
`+pe})}function OI(u,w,k,M,K,Y,pe){u.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+w+`
`+k+`
`+Y+" "+pe})}function Zo(u,w,k,M){u.info(function(){return"XMLHTTP TEXT ("+w+"): "+FI(u,k)+(M?" "+M:"")})}function LI(u,w){u.info(function(){return"TIMEOUT: "+w})}Vc.prototype.info=function(){};function FI(u,w){if(!u.g)return w;if(!w)return null;try{const Y=JSON.parse(w);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var k=Y[u];if(!(k.length<2)){var M=k[1];if(Array.isArray(M)&&!(M.length<1)){var K=M[0];if(K!="noop"&&K!="stop"&&K!="close")for(let pe=1;pe<M.length;pe++)M[pe]=""}}}}return Se(Y)}catch{return w}}var Mp={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$I={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Aj;function Op(){}h(Op,jt),Op.prototype.g=function(){return new XMLHttpRequest},Aj=new Op;function zc(u){return encodeURIComponent(String(u))}function UI(u){var w=1;u=u.split(":");const k=[];for(;w>0&&u.length;)k.push(u.shift()),w--;return u.length&&k.push(u.join(":")),k}function Ci(u,w,k,M){this.j=u,this.i=w,this.l=k,this.S=M||1,this.V=new ve(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ij}function Ij(){this.i=null,this.g="",this.h=!1}var Rj={},Lp={};function Fp(u,w,k){u.M=1,u.A=uh(as(w)),u.u=k,u.R=!0,Dj(u,null)}function Dj(u,w){u.F=Date.now(),dh(u),u.B=as(u.A);var k=u.B,M=u.S;Array.isArray(M)||(M=[String(M)]),Kj(k.i,"t",M),u.C=0,k=u.j.L,u.h=new Ij,u.g=u0(u.j,k?w:null,!u.u),u.P>0&&(u.O=new ee(d(u.Y,u,u.g),u.P)),w=u.V,k=u.g,M=u.ba;var K="readystatechange";Array.isArray(K)||(K&&(he[0]=K.toString()),K=he);for(let Y=0;Y<K.length;Y++){const pe=ze(k,K[Y],M||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=u.J?X(u.J):{},u.u?(u.v||(u.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,w)):(u.v="GET",u.g.ea(u.B,u.v,null,w)),$c(),MI(u.i,u.v,u.B,u.l,u.S,u.u)}Ci.prototype.ba=function(u){u=u.target;const w=this.O;w&&Ti(u)==3?w.j():this.Y(u)},Ci.prototype.Y=function(u){try{if(u==this.g)e:{const Ge=Ti(this.g),Kt=this.g.ya(),yt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||e0(this.g)))){this.K||Ge!=4||Kt==7||(Kt==8||yt<=0?$c(3):$c(2)),$p(this);var w=this.g.ca();this.X=w;var k=VI(this);if(this.o=w==200,OI(this.i,this.v,this.B,this.l,this.S,Ge,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,K=this.g;if((M=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(M)){var Y=M;break t}}Y=null}if(u=Y)Zo(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Up(this,u);else{this.o=!1,this.m=3,En(12),Ua(this),Bc(this);break e}}if(this.R){u=!0;let rn;for(;!this.K&&this.C<k.length;)if(rn=zI(this,k),rn==Lp){Ge==4&&(this.m=4,En(14),u=!1),Zo(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Rj){this.m=4,En(15),Zo(this.i,this.l,k,"[Invalid Chunk]"),u=!1;break}else Zo(this.i,this.l,rn,null),Up(this,rn);if(Mj(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||k.length!=0||this.h.h||(this.m=1,En(16),u=!1),this.o=this.o&&u,!u)Zo(this.i,this.l,k,"[Invalid Chunked Response]"),Ua(this),Bc(this);else if(k.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Gp(pe),pe.P=!0,En(11))}}else Zo(this.i,this.l,k,null),Up(this,k);Ge==4&&Ua(this),this.o&&!this.K&&(Ge==4?o0(this.j,this):(this.o=!1,dh(this)))}else n4(this.g),w==400&&k.indexOf("Unknown SID")>0?(this.m=3,En(12)):(this.m=0,En(13)),Ua(this),Bc(this)}}}catch{}finally{}};function VI(u){if(!Mj(u))return u.g.la();const w=e0(u.g);if(w==="")return"";let k="";const M=w.length,K=Ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ua(u),Bc(u),"";u.h.i=new o.TextDecoder}for(let Y=0;Y<M;Y++)u.h.h=!0,k+=u.h.i.decode(w[Y],{stream:!(K&&Y==M-1)});return w.length=0,u.h.g+=k,u.C=0,u.h.g}function Mj(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function zI(u,w){var k=u.C,M=w.indexOf(`
`,k);return M==-1?Lp:(k=Number(w.substring(k,M)),isNaN(k)?Rj:(M+=1,M+k>w.length?Lp:(w=w.slice(M,M+k),u.C=M+k,w)))}Ci.prototype.cancel=function(){this.K=!0,Ua(this)};function dh(u){u.T=Date.now()+u.H,Oj(u,u.H)}function Oj(u,w){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Uc(d(u.aa,u),w)}function $p(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(LI(this.i,this.B),this.M!=2&&($c(),En(17)),Ua(this),this.m=2,Bc(this)):Oj(this,this.T-u)};function Bc(u){u.j.I==0||u.K||o0(u.j,u)}function Ua(u){$p(u);var w=u.O;w&&typeof w.dispose=="function"&&w.dispose(),u.O=null,ce(u.V),u.g&&(w=u.g,u.g=null,w.abort(),w.dispose())}function Up(u,w){try{var k=u.j;if(k.I!=0&&(k.g==u||Vp(k.h,u))){if(!u.L&&Vp(k.h,u)&&k.I==3){try{var M=k.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<u.F)gh(k),mh(k);else break e;Kp(k),En(18)}}else k.xa=K[1],0<k.xa-k.K&&K[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=Uc(d(k.Va,k),6e3));$j(k.h)<=1&&k.ta&&(k.ta=void 0)}else za(k,11)}else if((u.L||k.g==u)&&gh(k),!A(w))for(K=k.Ba.g.parse(w),w=0;w<K.length;w++){let yt=K[w];const rn=yt[0];if(!(rn<=k.K))if(k.K=rn,yt=yt[1],k.I==2)if(yt[0]=="c"){k.M=yt[1],k.ba=yt[2];const os=yt[3];os!=null&&(k.ka=os,k.j.info("VER="+k.ka));const Ba=yt[4];Ba!=null&&(k.za=Ba,k.j.info("SVER="+k.za));const Pi=yt[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(M=1.5*Pi,k.O=M,k.j.info("backChannelRequestTimeoutMs_="+M)),M=k;const Ai=u.g;if(Ai){const xh=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xh){var Y=M.h;Y.g||xh.indexOf("spdy")==-1&&xh.indexOf("quic")==-1&&xh.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(zp(Y,Y.h),Y.h=null))}if(M.G){const Yp=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Yp&&(M.wa=Yp,kt(M.J,M.G,Yp))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-u.F,k.j.info("Handshake RTT: "+k.T+"ms")),M=k;var pe=u;if(M.na=d0(M,M.L?M.ba:null,M.W),pe.L){Uj(M.h,pe);var Ge=pe,Kt=M.O;Kt&&(Ge.H=Kt),Ge.D&&($p(Ge),dh(Ge)),M.g=pe}else i0(M);k.i.length>0&&ph(k)}else yt[0]!="stop"&&yt[0]!="close"||za(k,7);else k.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?za(k,7):qp(k):yt[0]!="noop"&&k.l&&k.l.qa(yt),k.A=0)}}$c(4)}catch{}}var BI=class{constructor(u,w){this.g=u,this.map=w}};function Lj(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fj(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $j(u){return u.h?1:u.g?u.g.size:0}function Vp(u,w){return u.h?u.h==w:u.g?u.g.has(w):!1}function zp(u,w){u.g?u.g.add(w):u.h=w}function Uj(u,w){u.h&&u.h==w?u.h=null:u.g&&u.g.has(w)&&u.g.delete(w)}Lj.prototype.cancel=function(){if(this.i=Vj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vj(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let w=u.i;for(const k of u.g.values())w=w.concat(k.G);return w}return v(u.i)}var zj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WI(u,w){if(u){u=u.split("&");for(let k=0;k<u.length;k++){const M=u[k].indexOf("=");let K,Y=null;M>=0?(K=u[k].substring(0,M),Y=u[k].substring(M+1)):K=u[k],w(K,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ki(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;u instanceof ki?(this.l=u.l,Wc(this,u.j),this.o=u.o,this.g=u.g,Hc(this,u.u),this.h=u.h,Bp(this,Gj(u.i)),this.m=u.m):u&&(w=String(u).match(zj))?(this.l=!1,Wc(this,w[1]||"",!0),this.o=qc(w[2]||""),this.g=qc(w[3]||"",!0),Hc(this,w[4]),this.h=qc(w[5]||"",!0),Bp(this,w[6]||"",!0),this.m=qc(w[7]||"")):(this.l=!1,this.i=new Gc(null,this.l))}ki.prototype.toString=function(){const u=[];var w=this.j;w&&u.push(Kc(w,Bj,!0),":");var k=this.g;return(k||w=="file")&&(u.push("//"),(w=this.o)&&u.push(Kc(w,Bj,!0),"@"),u.push(zc(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&u.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&u.push("/"),u.push(Kc(k,k.charAt(0)=="/"?KI:qI,!0))),(k=this.i.toString())&&u.push("?",k),(k=this.m)&&u.push("#",Kc(k,YI)),u.join("")},ki.prototype.resolve=function(u){const w=as(this);let k=!!u.j;k?Wc(w,u.j):k=!!u.o,k?w.o=u.o:k=!!u.g,k?w.g=u.g:k=u.u!=null;var M=u.h;if(k)Hc(w,u.u);else if(k=!!u.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var K=w.h.lastIndexOf("/");K!=-1&&(M=w.h.slice(0,K+1)+M)}if(K=M,K==".."||K==".")M="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){M=K.lastIndexOf("/",0)==0,K=K.split("/");const Y=[];for(let pe=0;pe<K.length;){const Ge=K[pe++];Ge=="."?M&&pe==K.length&&Y.push(""):Ge==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),M&&pe==K.length&&Y.push("")):(Y.push(Ge),M=!0)}M=Y.join("/")}else M=K}return k?w.h=M:k=u.i.toString()!=="",k?Bp(w,Gj(u.i)):k=!!u.m,k&&(w.m=u.m),w};function as(u){return new ki(u)}function Wc(u,w,k){u.j=k?qc(w,!0):w,u.j&&(u.j=u.j.replace(/:$/,""))}function Hc(u,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);u.u=w}else u.u=null}function Bp(u,w,k){w instanceof Gc?(u.i=w,QI(u.i,u.l)):(k||(w=Kc(w,GI)),u.i=new Gc(w,u.l))}function kt(u,w,k){u.i.set(w,k)}function uh(u){return kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function qc(u,w){return u?w?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kc(u,w,k){return typeof u=="string"?(u=encodeURI(u).replace(w,HI),k&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function HI(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bj=/[#\/\?@]/g,qI=/[#\?:]/g,KI=/[#\?]/g,GI=/[#\?@]/g,YI=/#/g;function Gc(u,w){this.h=this.g=null,this.i=u||null,this.j=!!w}function Va(u){u.g||(u.g=new Map,u.h=0,u.i&&WI(u.i,function(w,k){u.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}t=Gc.prototype,t.add=function(u,w){Va(this),this.i=null,u=Xo(this,u);let k=this.g.get(u);return k||this.g.set(u,k=[]),k.push(w),this.h+=1,this};function Wj(u,w){Va(u),w=Xo(u,w),u.g.has(w)&&(u.i=null,u.h-=u.g.get(w).length,u.g.delete(w))}function Hj(u,w){return Va(u),w=Xo(u,w),u.g.has(w)}t.forEach=function(u,w){Va(this),this.g.forEach(function(k,M){k.forEach(function(K){u.call(w,K,M,this)},this)},this)};function qj(u,w){Va(u);let k=[];if(typeof w=="string")Hj(u,w)&&(k=k.concat(u.g.get(Xo(u,w))));else for(u=Array.from(u.g.values()),w=0;w<u.length;w++)k=k.concat(u[w]);return k}t.set=function(u,w){return Va(this),this.i=null,u=Xo(this,u),Hj(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[w]),this.h+=1,this},t.get=function(u,w){return u?(u=qj(this,u),u.length>0?String(u[0]):w):w};function Kj(u,w,k){Wj(u,w),k.length>0&&(u.i=null,u.g.set(Xo(u,w),v(k)),u.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var k=w[M];const K=zc(k);k=qj(this,k);for(let Y=0;Y<k.length;Y++){let pe=K;k[Y]!==""&&(pe+="="+zc(k[Y])),u.push(pe)}}return this.i=u.join("&")};function Gj(u){const w=new Gc;return w.i=u.i,u.g&&(w.g=new Map(u.g),w.h=u.h),w}function Xo(u,w){return w=String(w),u.j&&(w=w.toLowerCase()),w}function QI(u,w){w&&!u.j&&(Va(u),u.i=null,u.g.forEach(function(k,M){const K=M.toLowerCase();M!=K&&(Wj(this,M),Kj(this,K,k))},u)),u.j=w}function ZI(u,w){const k=new Vc;if(o.Image){const M=new Image;M.onload=f(Ei,k,"TestLoadImage: loaded",!0,w,M),M.onerror=f(Ei,k,"TestLoadImage: error",!1,w,M),M.onabort=f(Ei,k,"TestLoadImage: abort",!1,w,M),M.ontimeout=f(Ei,k,"TestLoadImage: timeout",!1,w,M),o.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=u}else w(!1)}function XI(u,w){const k=new Vc,M=new AbortController,K=setTimeout(()=>{M.abort(),Ei(k,"TestPingServer: timeout",!1,w)},1e4);fetch(u,{signal:M.signal}).then(Y=>{clearTimeout(K),Y.ok?Ei(k,"TestPingServer: ok",!0,w):Ei(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(K),Ei(k,"TestPingServer: error",!1,w)})}function Ei(u,w,k,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(k)}catch{}}function JI(){this.g=new Ie}function Wp(u){this.i=u.Sb||null,this.h=u.ab||!1}h(Wp,jt),Wp.prototype.g=function(){return new hh(this.i,this.h)};function hh(u,w){vt.call(this),this.H=u,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(hh,vt),t=hh.prototype,t.open=function(u,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=w,this.readyState=1,Qc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(w.body=u),(this.H||o).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yc(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qc(this)),this.g&&(this.readyState=3,Qc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yj(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yj(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var w=u.value?u.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!u.done}))&&(this.response=this.responseText+=w)}u.done?Yc(this):Qc(this),this.readyState==3&&Yj(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Yc(this))},t.Na=function(u){this.g&&(this.response=u,Yc(this))},t.ga=function(){this.g&&Yc(this)};function Yc(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qc(u)}t.setRequestHeader=function(u,w){this.A.append(u,w)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,u.push(k[0]+": "+k[1]),k=w.next();return u.join(`\r
`)};function Qc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qj(u){let w="";return W(u,function(k,M){w+=M,w+=":",w+=k,w+=`\r
`}),w}function Hp(u,w,k){e:{for(M in k){var M=!1;break e}M=!0}M||(k=Qj(k),typeof u=="string"?k!=null&&zc(k):kt(u,w,k))}function $t(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h($t,vt);var e4=/^https?$/i,t4=["POST","PUT"];t=$t.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,w,k,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);w=w?w.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Aj.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(u),!0),this.B=!1}catch(Y){Zj(this,Y);return}if(u=k||"",k=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)k.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())k.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(k.keys()).find(Y=>Y.toLowerCase()=="content-type"),K=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(t4,w,void 0)>=0)||M||K||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,pe]of k)this.g.setRequestHeader(Y,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Zj(this,Y)}};function Zj(u,w){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=w,u.o=5,Xj(u),fh(u)}function Xj(u){u.A||(u.A=!0,nn(u,"complete"),nn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nn(this,"complete"),nn(this,"abort"),fh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fh(this,!0)),$t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Jj(this):this.Xa())},t.Xa=function(){Jj(this)};function Jj(u){if(u.h&&typeof a<"u"){if(u.v&&Ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(nn(u,"readystatechange"),Ti(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var M;if(M=Y===0){let pe=String(u.D).match(zj)[1]||null;!pe&&o.self&&o.self.location&&(pe=o.self.location.protocol.slice(0,-1)),M=!e4.test(pe?pe.toLowerCase():"")}k=M}if(k)nn(u,"complete"),nn(u,"success");else{u.o=6;try{var K=Ti(u)>2?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.ca()+"]",Xj(u)}}finally{fh(u)}}}}function fh(u,w){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const k=u.g;u.g=null,w||nn(u,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var w=this.g.responseText;return u&&w.indexOf(u)==0&&(w=w.substring(u.length)),Z(w)}};function e0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function n4(u){const w={};u=(u.g&&Ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<u.length;M++){if(A(u[M]))continue;var k=UI(u[M]);const K=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Y=w[K]||[];w[K]=Y,Y.push(k)}Q(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(u,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[u]||w}function t0(u){this.za=0,this.i=[],this.j=new Vc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zc("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zc("baseRetryDelayMs",5e3,u),this.Za=Zc("retryDelaySeedMs",1e4,u),this.Ta=Zc("forwardChannelMaxRetries",2,u),this.va=Zc("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Lj(u&&u.concurrentRequestLimit),this.Ba=new JI,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=t0.prototype,t.ka=8,t.I=1,t.connect=function(u,w,k,M){En(0),this.W=u,this.H=w||{},k&&M!==void 0&&(this.H.OSID=k,this.H.OAID=M),this.F=this.X,this.J=d0(this,null,this.W),ph(this)};function qp(u){if(n0(u),u.I==3){var w=u.V++,k=as(u.J);if(kt(k,"SID",u.M),kt(k,"RID",w),kt(k,"TYPE","terminate"),Xc(u,k),w=new Ci(u,u.j,w),w.M=2,w.A=uh(as(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(w.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=w.A,k=!0),k||(w.g=u0(w.j,null),w.g.ea(w.A)),w.F=Date.now(),dh(w)}c0(u)}function mh(u){u.g&&(Gp(u),u.g.cancel(),u.g=null)}function n0(u){mh(u),u.v&&(o.clearTimeout(u.v),u.v=null),gh(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function ph(u){if(!Fj(u.h)&&!u.m){u.m=!0;var w=u.Ea;D||b(),O||(D(),O=!0),E.add(w,u),u.D=0}}function r4(u,w){return $j(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=w.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Uc(d(u.Ea,u,w),l0(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const K=new Ci(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=X(Y),me(Y,this.U)):Y=this.U),this.u!==null||this.R||(K.J=Y,Y=null),this.S)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var M=this.i[k];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=s0(this,K,w),k=as(this.J),kt(k,"RID",u),kt(k,"CVER",22),this.G&&kt(k,"X-HTTP-Session-Id",this.G),Xc(this,k),Y&&(this.R?w="headers="+zc(Qj(Y))+"&"+w:this.u&&Hp(k,this.u,Y)),zp(this.h,K),this.Ra&&kt(k,"TYPE","init"),this.S?(kt(k,"$req",w),kt(k,"SID","null"),K.U=!0,Fp(K,k,null)):Fp(K,k,w),this.I=2}}else this.I==3&&(u?r0(this,u):this.i.length==0||Fj(this.h)||r0(this))};function r0(u,w){var k;w?k=w.l:k=u.V++;const M=as(u.J);kt(M,"SID",u.M),kt(M,"RID",k),kt(M,"AID",u.K),Xc(u,M),u.u&&u.o&&Hp(M,u.u,u.o),k=new Ci(u,u.j,k,u.D+1),u.u===null&&(k.J=u.o),w&&(u.i=w.G.concat(u.i)),w=s0(u,k,1e3),k.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zp(u.h,k),Fp(k,M,w)}function Xc(u,w){u.H&&W(u.H,function(k,M){kt(w,M,k)}),u.l&&W({},function(k,M){kt(w,M,k)})}function s0(u,w,k){k=Math.min(u.i.length,k);const M=u.l?d(u.l.Ka,u.l,u):null;e:{var K=u.i;let Ge=-1;for(;;){const Kt=["count="+k];Ge==-1?k>0?(Ge=K[0].g,Kt.push("ofs="+Ge)):Ge=0:Kt.push("ofs="+Ge);let yt=!0;for(let rn=0;rn<k;rn++){var Y=K[rn].g;const os=K[rn].map;if(Y-=Ge,Y<0)Ge=Math.max(0,K[rn].g-100),yt=!1;else try{Y="req"+Y+"_"||"";try{var pe=os instanceof Map?os:Object.entries(os);for(const[Ba,Pi]of pe){let Ai=Pi;l(Pi)&&(Ai=Se(Pi)),Kt.push(Y+Ba+"="+encodeURIComponent(Ai))}}catch(Ba){throw Kt.push(Y+"type="+encodeURIComponent("_badmap")),Ba}}catch{M&&M(os)}}if(yt){pe=Kt.join("&");break e}}pe=void 0}return u=u.i.splice(0,k),w.G=u,pe}function i0(u){if(!u.g&&!u.v){u.Y=1;var w=u.Da;D||b(),O||(D(),O=!0),E.add(w,u),u.A=0}}function Kp(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Uc(d(u.Da,u),l0(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,a0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Uc(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,En(10),mh(this),a0(this))};function Gp(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function a0(u){u.g=new Ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var w=as(u.na);kt(w,"RID","rpc"),kt(w,"SID",u.M),kt(w,"AID",u.K),kt(w,"CI",u.F?"0":"1"),!u.F&&u.ia&&kt(w,"TO",u.ia),kt(w,"TYPE","xmlhttp"),Xc(u,w),u.u&&u.o&&Hp(w,u.u,u.o),u.O&&(u.g.H=u.O);var k=u.g;u=u.ba,k.M=1,k.A=uh(as(w)),k.u=null,k.R=!0,Dj(k,u)}t.Va=function(){this.C!=null&&(this.C=null,mh(this),Kp(this),En(19))};function gh(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function o0(u,w){var k=null;if(u.g==w){gh(u),Gp(u),u.g=null;var M=2}else if(Vp(u.h,w))k=w.G,Uj(u.h,w),M=1;else return;if(u.I!=0){if(w.o)if(M==1){k=w.u?w.u.length:0,w=Date.now()-w.F;var K=u.D;M=Qo(),nn(M,new Pj(M,k)),ph(u)}else i0(u);else if(K=w.m,K==3||K==0&&w.X>0||!(M==1&&r4(u,w)||M==2&&Kp(u)))switch(k&&k.length>0&&(w=u.h,w.i=w.i.concat(k)),K){case 1:za(u,5);break;case 4:za(u,10);break;case 3:za(u,6);break;default:za(u,2)}}}function l0(u,w){let k=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(k*=2),k*w}function za(u,w){if(u.j.info("Error code "+w),w==2){var k=d(u.bb,u),M=u.Ua;const K=!M;M=new ki(M||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wc(M,"https"),uh(M),K?ZI(M.toString(),k):XI(M.toString(),k)}else En(2);u.I=0,u.l&&u.l.pa(w),c0(u),n0(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function c0(u){if(u.I=0,u.ja=[],u.l){const w=Vj(u.h);(w.length!=0||u.i.length!=0)&&(_(u.ja,w),_(u.ja,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.oa()}}function d0(u,w,k){var M=k instanceof ki?as(k):new ki(k);if(M.g!="")w&&(M.g=w+"."+M.g),Hc(M,M.u);else{var K=o.location;M=K.protocol,w=w?w+"."+K.hostname:K.hostname,K=+K.port;const Y=new ki(null);M&&Wc(Y,M),w&&(Y.g=w),K&&Hc(Y,K),k&&(Y.h=k),M=Y}return k=u.G,w=u.wa,k&&w&&kt(M,k,w),kt(M,"VER",u.ka),Xc(u,M),M}function u0(u,w,k){if(w&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=u.Aa&&!u.ma?new $t(new Wp({ab:k})):new $t(u.ma),w.Fa(u.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h0(){}t=h0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function pr(u,w){vt.call(this),this.g=new t0(w),this.l=u,this.h=w&&w.messageUrlParams||null,u=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(u?u["X-WebChannel-Content-Type"]=w.messageContentType:u={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(u?u["X-WebChannel-Client-Profile"]=w.sa:u={"X-WebChannel-Client-Profile":w.sa}),this.g.U=u,(u=w&&w.Qb)&&!A(u)&&(this.g.u=u),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!A(w)&&(this.g.G=w,u=this.h,u!==null&&w in u&&(u=this.h,w in u&&delete u[w])),this.j=new Jo(this)}h(pr,vt),pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){qp(this.g)},pr.prototype.o=function(u){var w=this.g;if(typeof u=="string"){var k={};k.__data__=u,u=k}else this.v&&(k={},k.__data__=Se(u),u=k);w.i.push(new BI(w.Ya++,u)),w.I==3&&ph(w)},pr.prototype.N=function(){this.g.l=null,delete this.j,qp(this.g),delete this.g,pr.Z.N.call(this)};function f0(u){Cr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var w=u.__sm__;if(w){e:{for(const k in w){u=k;break e}u=void 0}(this.i=u)&&(u=this.i,w=w!==null&&u in w?w[u]:void 0),this.data=w}else this.data=u}h(f0,Cr);function m0(){Fc.call(this),this.status=1}h(m0,Fc);function Jo(u){this.g=u}h(Jo,h0),Jo.prototype.ra=function(){nn(this.g,"a")},Jo.prototype.qa=function(u){nn(this.g,new f0(u))},Jo.prototype.pa=function(u){nn(this.g,new m0)},Jo.prototype.oa=function(){nn(this.g,"b")},pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Mp.NO_ERROR=0,Mp.TIMEOUT=8,Mp.HTTP_ERROR=6,$I.COMPLETE="complete",wn.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const BN="@firebase/firestore",WN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new jw("@firebase/firestore");function Ur(t,...e){if(mc.logLevel<=ut.DEBUG){const n=e.map(Mw);mc.debug(`Firestore (${Gu}): ${t}`,...n)}}function oE(t,...e){if(mc.logLevel<=ut.ERROR){const n=e.map(Mw);mc.error(`Firestore (${Gu}): ${t}`,...n)}}function y$(t,...e){if(mc.logLevel<=ut.WARN){const n=e.map(Mw);mc.warn(`Firestore (${Gu}): ${t}`,...n)}}function Mw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lE(t,r,n)}function lE(t,e,n){let r=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw oE(r),new Error(r)}function Ld(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||lE(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class j${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b${constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ld(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Fd;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Fd,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ur("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ur("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fd)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ur("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ld(typeof r.accessToken=="string",31837,{l:r}),new cE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ld(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class N${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new N$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ld(this.o===void 0,3512);const r=a=>{a.error!=null&&Ur("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ur("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ur("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ur("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ld(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=C$(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Sa(t,e){return t<e?-1:t>e?1:0}function E$(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return $g(i)===$g(a)?Sa(i,a):$g(i)?1:-1}return Sa(t.length,e.length)}const T$=55296,P$=57343;function $g(t){const e=t.charCodeAt(0);return e>=T$&&e<=P$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="__name__";class ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&fu(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fu(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ds.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Sa(e.length,n.length)}static compareSegments(e,n){const r=ds.isNumericId(e),i=ds.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ds.extractNumericId(e).compare(ds.extractNumericId(n)):E$(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Dw.fromString(e.substring(4,e.length-2))}}class Dr extends ds{construct(e,n,r){return new Dr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dr(n)}static emptyPath(){return new Dr([])}}const A$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xa extends ds{construct(e,n,r){return new Xa(e,n,r)}static isValidIdentifier(e){return A$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xa.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qN}static keyField(){return new Xa([qN])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new at(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new at(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new at(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new at(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xa(n)}static emptyPath(){return new Xa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.path=e}static fromPath(e){return new ro(Dr.fromString(e))}static fromName(e){return new ro(Dr.fromString(e).popFirst(5))}static empty(){return new ro(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ro(new Dr(e.slice()))}}function I$(t,e,n,r){if(e===!0&&r===!0)throw new at(it.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R$(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function D$(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fu(12329,{type:typeof t})}function M$(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=D$(t);throw new at(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yu(t,e){if(!R$(t))throw new at(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new at(it.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=-62135596800,GN=1e6;class ps{static now(){return ps.fromMillis(Date.now())}static fromDate(e){return ps.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*GN);return new ps(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KN)throw new at(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GN}_compareTo(e){return this.seconds===e.seconds?Sa(this.nanoseconds,e.nanoseconds):Sa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ps._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yu(e,ps._jsonSchema))return new ps(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ps._jsonSchemaVersion="firestore/timestamp/1.0",ps._jsonSchema={type:Ht("string",ps._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};function O$(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new L$("Invalid base64 string: "+a):a}}(e);return new Eo(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Eo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Eo.EMPTY_BYTE_STRING=new Eo("");const Iv="(default)";class hm{constructor(e,n){this.projectId=e,this.database=n||Iv}static empty(){return new hm("","")}get isDefaultDatabase(){return this.database===Iv}isEqual(e){return e instanceof hm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $$(t){return new F$(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YN,rt;(rt=YN||(YN={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Dw([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=1048576;function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ur("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new Ow(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var QN,ZN;(ZN=QN||(QN={})).Ma="default",ZN.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firestore.googleapis.com",JN=!0;class e1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dE,this.ssl=JN}else this.host=e.host,this.ssl=e.ssl??JN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V$)throw new at(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w$;switch(r.type){case"firstParty":return new _$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XN.get(n);r&&(Ur("ComponentProvider","Removing Datastore"),XN.delete(n),r.terminate())}(this),Promise.resolve()}}function W$(t,e,n,r={}){var d;t=M$(t,uE);const i=Rc(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(yw(`https://${l}`),ww("Firestore",!0)),a.host!==dE&&a.host!==l&&y$("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Co(c,o)&&(t._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Rn.MOCK_USER;else{f=x2(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new at(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rn(m)}t._authCredentials=new j$(new cE(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lw(this.firestore,e,this._query)}}class js{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new js(this.firestore,e,this._key)}toJSON(){return{type:js._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yu(n,js._jsonSchema))return new js(e,r||null,new ro(Dr.fromString(n.referencePath)))}}js._jsonSchemaVersion="firestore/documentReference/1.0",js._jsonSchema={type:Ht("string",js._jsonSchemaVersion),referencePath:Ht("string")};class Fw extends Lw{constructor(e,n,r){super(e,n,$$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new js(this.firestore,null,new ro(e))}withConverter(e){return new Fw(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="AsyncQueue";class n1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z$(this,"async_queue_retry"),this._c=()=>{const r=Ug();r&&Ur(t1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fd;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!O$(e))throw e;Ur(t1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,oE("INTERNAL UNHANDLED ERROR: ",r1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ow.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&fu(47125,{Pc:r1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class H$ extends uE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new n1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n1(e),this._firestoreClient=void 0,await e}}}function q$(t,e){const n=typeof t=="object"?t:Nw(),r=typeof t=="string"?t:Iv,i=ap(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=m2("firestore");a&&W$(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(Eo.fromBase64String(e))}catch(n){throw new at(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(Eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yu(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Ht("string",ti._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new at(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Sa(this._lat,e._lat)||Sa(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:po._jsonSchemaVersion}}static fromJSON(e){if(Yu(e,po._jsonSchema))return new po(e.latitude,e.longitude)}}po._jsonSchemaVersion="firestore/geoPoint/1.0",po._jsonSchema={type:Ht("string",po._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:go._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yu(e,go._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new go(e.vectorValues);throw new at(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}go._jsonSchemaVersion="firestore/vectorValue/1.0",go._jsonSchema={type:Ht("string",go._jsonSchemaVersion),vectorValues:Ht("object")};const K$=new RegExp("[~\\*/\\[\\]]");function G$(t,e,n){if(e.search(K$)>=0)throw s1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new hE(...e.split("."))._internalPath}catch{throw s1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function s1(t,e,n,r,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new at(it.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y$ extends fE{data(){return super.data()}}function mE(t,e){return typeof e=="string"?G$(t,e):e instanceof hE?e._internalPath:e._delegate._internalPath}class Hh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends fE{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:Ht("string",Ll._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class xf extends Ll{data(e={}){return super.data(e)}}class $d{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xf(this._firestore,this._userDataWriter,r.key,r,new Hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new xf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new xf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Hh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:Q$(l.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$d._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k$.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fu(61501,{type:t})}}$d._jsonSchemaVersion="firestore/querySnapshot/1.0",$d._jsonSchema={type:Ht("string",$d._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};(function(e,n=!0){(function(i){Gu=i})(Wo),ko(new _a("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new H$(new b$(r.getProvider("auth-internal")),new S$(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new at(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hm(d.options.projectId,f)}(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ts(BN,WN,e),Ts(BN,WN,"esm2020")})();const Z$={apiKey:"AIzaSyAq_pNPbTOSvA1X6K2jOCsiVUQyVdqcqBA",authDomain:"icona-e7769.firebaseapp.com",projectId:"icona-e7769",storageBucket:"icona-e7769.firebasestorage.app",appId:"1:167886286942:web:f13314bc30af1005e384cf"},$w=w2(Z$),Ho=z9($w);p$($w);q$($w);const dp=new ei,up=new Od("apple.com");dp.addScope("email");dp.addScope("profile");up.addScope("email");up.addScope("name");const X$=async()=>{try{return await X2(Ho,dp)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await J$();throw t}},J$=()=>tE(Ho,dp),e8=()=>s9(Ho),t8=()=>I5(Ho),n8=async()=>{try{return await X2(Ho,up)}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await r8();throw t}},r8=()=>tE(Ho,up),s8=t=>A5(Ho,t);var st;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(st||(st={}));var Rv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Rv||(Rv={}));const ke=st.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xs=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},ae=st.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),i8=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class lr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof lr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,st.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}lr.create=t=>new lr(t);const pc=(t,e)=>{let n;switch(t.code){case ae.invalid_type:t.received===ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,st.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${st.joinValues(t.keys,", ")}`;break;case ae.invalid_union:n="Invalid input";break;case ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${st.joinValues(t.options)}`;break;case ae.invalid_enum_value:n=`Invalid enum value. Expected ${st.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:n="Invalid function arguments";break;case ae.invalid_return_type:n="Invalid function return type";break;case ae.invalid_date:n="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:st.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ae.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ae.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ae.custom:n="Invalid input";break;case ae.invalid_intersection_types:n="Intersection results could not be merged";break;case ae.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:n="Number must be finite";break;default:n=e.defaultError,st.assertNever(t)}return{message:n}};let pE=pc;function a8(t){pE=t}function fm(){return pE}const mm=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},o8=[];function be(t,e){const n=fm(),r=mm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===pc?void 0:pc].filter(i=>!!i)});t.common.issues.push(r)}class kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return $e;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return kn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return $e;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const $e=Object.freeze({status:"aborted"}),wl=t=>({status:"dirty",value:t}),Fn=t=>({status:"valid",value:t}),Dv=t=>t.status==="aborted",Mv=t=>t.status==="dirty",To=t=>t.status==="valid",mu=t=>typeof Promise<"u"&&t instanceof Promise;function pm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function gE(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Pe||(Pe={}));var vd,yd;class Os{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i1=(t,e)=>{if(To(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new lr(t.common.issues);return this._error=n,this._error}}};function He(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class Qe{get description(){return this._def.description}_getType(e){return Xs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Xs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kn,ctx:{common:e.parent.common,data:e.data,parsedType:Xs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(mu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xs(e)},a=this._parseSync({data:e,path:i.path,parent:i});return i1(i,a)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xs(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return To(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>To(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xs(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(mu(i)?i:Promise.resolve(i));return i1(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:ae.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ts({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return As.create(this,this._def)}nullable(){return Ta.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gr.create(this)}promise(){return xc.create(this,this._def)}or(e){return vu.create([this,e],this._def)}and(e){return yu.create(this,e,this._def)}transform(e){return new ts({...He(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new _u({...He(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new Uw({typeName:Le.ZodBranded,type:this,...He(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Su({...He(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qu.create(this,e)}readonly(){return Cu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const l8=/^c[^\s-]{8,}$/i,c8=/^[0-9a-z]+$/,d8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,u8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,h8=/^[a-z0-9_-]{21}$/i,f8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,m8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,p8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,g8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vg;const x8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,v8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,y8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,w8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,j8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,b8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",N8=new RegExp(`^${xE}$`);function vE(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _8(t){return new RegExp(`^${vE(t)}$`)}function yE(t){let e=`${xE}T${vE(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function S8(t,e){return!!((e==="v4"||!e)&&x8.test(t)||(e==="v6"||!e)&&y8.test(t))}function C8(t,e){if(!f8.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function k8(t,e){return!!((e==="v4"||!e)&&v8.test(t)||(e==="v6"||!e)&&w8.test(t))}class Vr extends Qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const a=this._getOrReturnCtx(e);return be(a,{code:ae.invalid_type,expected:ke.string,received:a.parsedType}),$e}const r=new kn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?be(i,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&be(i,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")p8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"email",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Vg||(Vg=new RegExp(g8,"u")),Vg.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"emoji",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")u8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"uuid",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")h8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"nanoid",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")l8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")c8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cuid2",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")d8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ulid",code:ae.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),be(i,{validation:"url",code:ae.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"regex",code:ae.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),be(i,{code:ae.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:ae.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),be(i,{code:ae.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?yE(a).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ae.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?N8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ae.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?_8(a).test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{code:ae.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?m8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"duration",code:ae.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?S8(e.data,a.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"ip",code:ae.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?C8(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"jwt",code:ae.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?k8(e.data,a.version)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"cidr",code:ae.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?j8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64",code:ae.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?b8.test(e.data)||(i=this._getOrReturnCtx(e,i),be(i,{validation:"base64url",code:ae.invalid_string,message:a.message}),r.dirty()):st.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ae.invalid_string,...Pe.errToObj(r)})}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Pe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Pe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Pe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Pe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Pe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Pe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Pe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Pe.errToObj(n)})}nonempty(e){return this.min(1,Pe.errToObj(e))}trim(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vr.create=t=>{var e;return new Vr({checks:[],typeName:Le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...He(t)})};function E8(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Ca extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const a=this._getOrReturnCtx(e);return be(a,{code:ae.invalid_type,expected:ke.number,received:a.parsedType}),$e}let r;const i=new kn;for(const a of this._def.checks)a.kind==="int"?st.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:ae.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:ae.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:ae.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?E8(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),be(r,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:ae.not_finite,message:a.message}),i.dirty()):st.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,i){return new Ca({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(i)}]})}_addCheck(e){return new Ca({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&st.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ca.create=t=>new Ca({checks:[],typeName:Le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...He(t)});class ka extends Qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let r;const i=new kn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:ae.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:ae.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),be(r,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):st.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return be(n,{code:ae.invalid_type,expected:ke.bigint,received:n.parsedType}),$e}gte(e,n){return this.setLimit("min",e,!0,Pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Pe.toString(n))}setLimit(e,n,r,i){return new ka({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Pe.toString(i)}]})}_addCheck(e){return new ka({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ka.create=t=>{var e;return new ka({checks:[],typeName:Le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...He(t)})};class pu extends Qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return be(r,{code:ae.invalid_type,expected:ke.boolean,received:r.parsedType}),$e}return Fn(e.data)}}pu.create=t=>new pu({typeName:Le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...He(t)});class Po extends Qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const a=this._getOrReturnCtx(e);return be(a,{code:ae.invalid_type,expected:ke.date,received:a.parsedType}),$e}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return be(a,{code:ae.invalid_date}),$e}const r=new kn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ae.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),be(i,{code:ae.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):st.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Po({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Po.create=t=>new Po({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Le.ZodDate,...He(t)});class gm extends Qe{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return be(r,{code:ae.invalid_type,expected:ke.symbol,received:r.parsedType}),$e}return Fn(e.data)}}gm.create=t=>new gm({typeName:Le.ZodSymbol,...He(t)});class gu extends Qe{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return be(r,{code:ae.invalid_type,expected:ke.undefined,received:r.parsedType}),$e}return Fn(e.data)}}gu.create=t=>new gu({typeName:Le.ZodUndefined,...He(t)});class xu extends Qe{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return be(r,{code:ae.invalid_type,expected:ke.null,received:r.parsedType}),$e}return Fn(e.data)}}xu.create=t=>new xu({typeName:Le.ZodNull,...He(t)});class gc extends Qe{constructor(){super(...arguments),this._any=!0}_parse(e){return Fn(e.data)}}gc.create=t=>new gc({typeName:Le.ZodAny,...He(t)});class xo extends Qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Fn(e.data)}}xo.create=t=>new xo({typeName:Le.ZodUnknown,...He(t)});class ji extends Qe{_parse(e){const n=this._getOrReturnCtx(e);return be(n,{code:ae.invalid_type,expected:ke.never,received:n.parsedType}),$e}}ji.create=t=>new ji({typeName:Le.ZodNever,...He(t)});class xm extends Qe{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return be(r,{code:ae.invalid_type,expected:ke.void,received:r.parsedType}),$e}return Fn(e.data)}}xm.create=t=>new xm({typeName:Le.ZodVoid,...He(t)});class Gr extends Qe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ke.array)return be(n,{code:ae.invalid_type,expected:ke.array,received:n.parsedType}),$e;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(be(n,{code:o?ae.too_big:ae.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(be(n,{code:ae.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(be(n,{code:ae.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Os(n,o,n.path,l)))).then(o=>kn.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Os(n,o,n.path,l)));return kn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Gr({...this._def,minLength:{value:e,message:Pe.toString(n)}})}max(e,n){return new Gr({...this._def,maxLength:{value:e,message:Pe.toString(n)}})}length(e,n){return new Gr({...this._def,exactLength:{value:e,message:Pe.toString(n)}})}nonempty(e){return this.min(1,e)}}Gr.create=(t,e)=>new Gr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...He(e)});function ol(t){if(t instanceof Rt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=As.create(ol(r))}return new Rt({...t._def,shape:()=>e})}else return t instanceof Gr?new Gr({...t._def,type:ol(t.element)}):t instanceof As?As.create(ol(t.unwrap())):t instanceof Ta?Ta.create(ol(t.unwrap())):t instanceof Ls?Ls.create(t.items.map(e=>ol(e))):t}class Rt extends Qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=st.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ke.object){const d=this._getOrReturnCtx(e);return be(d,{code:ae.invalid_type,expected:ke.object,received:d.parsedType}),$e}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ji&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Os(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ji){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(be(i,{code:ae.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Os(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const h=await f.key,m=await f.value;d.push({key:h,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>kn.mergeObjectSync(r,d)):kn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Pe.errToObj,new Rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Pe.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Rt({...this._def,unknownKeys:"strip"})}passthrough(){return new Rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Rt({...this._def,catchall:e})}pick(e){const n={};return st.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Rt({...this._def,shape:()=>n})}omit(e){const n={};return st.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Rt({...this._def,shape:()=>n})}deepPartial(){return ol(this)}partial(e){const n={};return st.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Rt({...this._def,shape:()=>n})}required(e){const n={};return st.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof As;)a=a._def.innerType;n[r]=a}}),new Rt({...this._def,shape:()=>n})}keyof(){return wE(st.objectKeys(this.shape))}}Rt.create=(t,e)=>new Rt({shape:()=>t,unknownKeys:"strip",catchall:ji.create(),typeName:Le.ZodObject,...He(e)});Rt.strictCreate=(t,e)=>new Rt({shape:()=>t,unknownKeys:"strict",catchall:ji.create(),typeName:Le.ZodObject,...He(e)});Rt.lazycreate=(t,e)=>new Rt({shape:t,unknownKeys:"strip",catchall:ji.create(),typeName:Le.ZodObject,...He(e)});class vu extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new lr(l.ctx.common.issues));return be(n,{code:ae.invalid_union,unionErrors:o}),$e}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new lr(c));return be(n,{code:ae.invalid_union,unionErrors:l}),$e}}get options(){return this._def.options}}vu.create=(t,e)=>new vu({options:t,typeName:Le.ZodUnion,...He(e)});const Ys=t=>t instanceof ju?Ys(t.schema):t instanceof ts?Ys(t.innerType()):t instanceof bu?[t.value]:t instanceof Ea?t.options:t instanceof Nu?st.objectValues(t.enum):t instanceof _u?Ys(t._def.innerType):t instanceof gu?[void 0]:t instanceof xu?[null]:t instanceof As?[void 0,...Ys(t.unwrap())]:t instanceof Ta?[null,...Ys(t.unwrap())]:t instanceof Uw||t instanceof Cu?Ys(t.unwrap()):t instanceof Su?Ys(t._def.innerType):[];class hp extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.object)return be(n,{code:ae.invalid_type,expected:ke.object,received:n.parsedType}),$e;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(be(n,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const o=Ys(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new hp({typeName:Le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...He(r)})}}function Ov(t,e){const n=Xs(t),r=Xs(e);if(t===e)return{valid:!0,data:t};if(n===ke.object&&r===ke.object){const i=st.objectKeys(e),a=st.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Ov(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===ke.array&&r===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Ov(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ke.date&&r===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yu extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(Dv(a)||Dv(o))return $e;const l=Ov(a.value,o.value);return l.valid?((Mv(a)||Mv(o))&&n.dirty(),{status:n.value,value:l.data}):(be(r,{code:ae.invalid_intersection_types}),$e)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yu.create=(t,e,n)=>new yu({left:t,right:e,typeName:Le.ZodIntersection,...He(n)});class Ls extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return be(r,{code:ae.invalid_type,expected:ke.array,received:r.parsedType}),$e;if(r.data.length<this._def.items.length)return be(r,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&r.data.length>this._def.items.length&&(be(r,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Os(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>kn.mergeArray(n,o)):kn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Ls({...this._def,rest:e})}}Ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ls({items:t,typeName:Le.ZodTuple,rest:null,...He(e)})};class wu extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return be(r,{code:ae.invalid_type,expected:ke.object,received:r.parsedType}),$e;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Os(r,l,r.path,l)),value:o._parse(new Os(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?kn.mergeObjectAsync(n,i):kn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Qe?new wu({keyType:e,valueType:n,typeName:Le.ZodRecord,...He(r)}):new wu({keyType:Vr.create(),valueType:e,typeName:Le.ZodRecord,...He(n)})}}class vm extends Qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return be(r,{code:ae.invalid_type,expected:ke.map,received:r.parsedType}),$e;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new Os(r,l,r.path,[d,"key"])),value:a._parse(new Os(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return $e;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return $e;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}vm.create=(t,e,n)=>new vm({valueType:e,keyType:t,typeName:Le.ZodMap,...He(n)});class Ao extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return be(r,{code:ae.invalid_type,expected:ke.set,received:r.parsedType}),$e;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(be(r,{code:ae.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(be(r,{code:ae.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return $e;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new Os(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Ao({...this._def,minSize:{value:e,message:Pe.toString(n)}})}max(e,n){return new Ao({...this._def,maxSize:{value:e,message:Pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ao.create=(t,e)=>new Ao({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...He(e)});class Fl extends Qe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.function)return be(n,{code:ae.invalid_type,expected:ke.function,received:n.parsedType}),$e;function r(l,c){return mm({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fm(),pc].filter(d=>!!d),issueData:{code:ae.invalid_arguments,argumentsError:c}})}function i(l,c){return mm({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fm(),pc].filter(d=>!!d),issueData:{code:ae.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof xc){const l=this;return Fn(async function(...c){const d=new lr([]),f=await l._def.args.parseAsync(c,a).catch(v=>{throw d.addIssue(r(c,v)),d}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,a).catch(v=>{throw d.addIssue(i(h,v)),d})})}else{const l=this;return Fn(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new lr([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(f,a);if(!h.success)throw new lr([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fl({...this._def,args:Ls.create(e).rest(xo.create())})}returns(e){return new Fl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Fl({args:e||Ls.create([]).rest(xo.create()),returns:n||xo.create(),typeName:Le.ZodFunction,...He(r)})}}class ju extends Qe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ju.create=(t,e)=>new ju({getter:t,typeName:Le.ZodLazy,...He(e)});class bu extends Qe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return be(n,{received:n.data,code:ae.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:e.data}}get value(){return this._def.value}}bu.create=(t,e)=>new bu({value:t,typeName:Le.ZodLiteral,...He(e)});function wE(t,e){return new Ea({values:t,typeName:Le.ZodEnum,...He(e)})}class Ea extends Qe{constructor(){super(...arguments),vd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return be(n,{expected:st.joinValues(r),received:n.parsedType,code:ae.invalid_type}),$e}if(pm(this,vd)||gE(this,vd,new Set(this._def.values)),!pm(this,vd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return be(n,{received:n.data,code:ae.invalid_enum_value,options:r}),$e}return Fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ea.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ea.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}vd=new WeakMap;Ea.create=wE;class Nu extends Qe{constructor(){super(...arguments),yd.set(this,void 0)}_parse(e){const n=st.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=st.objectValues(n);return be(r,{expected:st.joinValues(i),received:r.parsedType,code:ae.invalid_type}),$e}if(pm(this,yd)||gE(this,yd,new Set(st.getValidEnumValues(this._def.values))),!pm(this,yd).has(e.data)){const i=st.objectValues(n);return be(r,{received:r.data,code:ae.invalid_enum_value,options:i}),$e}return Fn(e.data)}get enum(){return this._def.values}}yd=new WeakMap;Nu.create=(t,e)=>new Nu({values:t,typeName:Le.ZodNativeEnum,...He(e)});class xc extends Qe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.promise&&n.common.async===!1)return be(n,{code:ae.invalid_type,expected:ke.promise,received:n.parsedType}),$e;const r=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return Fn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xc.create=(t,e)=>new xc({type:t,typeName:Le.ZodPromise,...He(e)});class ts extends Qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{be(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return $e;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?$e:c.status==="dirty"||n.value==="dirty"?wl(c.value):c});{if(n.value==="aborted")return $e;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?$e:l.status==="dirty"||n.value==="dirty"?wl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?$e:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?$e:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!To(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>To(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);st.assertNever(i)}}ts.create=(t,e,n)=>new ts({schema:t,typeName:Le.ZodEffects,effect:e,...He(n)});ts.createWithPreprocess=(t,e,n)=>new ts({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...He(n)});class As extends Qe{_parse(e){return this._getType(e)===ke.undefined?Fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}As.create=(t,e)=>new As({innerType:t,typeName:Le.ZodOptional,...He(e)});class Ta extends Qe{_parse(e){return this._getType(e)===ke.null?Fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ta.create=(t,e)=>new Ta({innerType:t,typeName:Le.ZodNullable,...He(e)});class _u extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}_u.create=(t,e)=>new _u({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});class Su extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mu(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new lr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new lr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});class ym extends Qe{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return be(r,{code:ae.invalid_type,expected:ke.nan,received:r.parsedType}),$e}return{status:"valid",value:e.data}}}ym.create=t=>new ym({typeName:Le.ZodNaN,...He(t)});const T8=Symbol("zod_brand");class Uw extends Qe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qu extends Qe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?$e:a.status==="dirty"?(n.dirty(),wl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?$e:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Qu({in:e,out:n,typeName:Le.ZodPipeline})}}class Cu extends Qe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(To(i)&&(i.value=Object.freeze(i.value)),i);return mu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Cu.create=(t,e)=>new Cu({innerType:t,typeName:Le.ZodReadonly,...He(e)});function a1(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function jE(t,e={},n){return t?gc.create().superRefine((r,i)=>{var a,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,f;if(!c){const h=a1(e,r),m=(f=(d=h.fatal)!==null&&d!==void 0?d:n)!==null&&f!==void 0?f:!0;i.addIssue({code:"custom",...h,fatal:m})}});if(!l){const c=a1(e,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:d})}}):gc.create()}const P8={object:Rt.lazycreate};var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const A8=(t,e={message:`Input not instance of ${t.name}`})=>jE(n=>n instanceof t,e),bE=Vr.create,NE=Ca.create,I8=ym.create,R8=ka.create,_E=pu.create,D8=Po.create,M8=gm.create,O8=gu.create,L8=xu.create,F8=gc.create,$8=xo.create,U8=ji.create,V8=xm.create,z8=Gr.create,B8=Rt.create,W8=Rt.strictCreate,H8=vu.create,q8=hp.create,K8=yu.create,G8=Ls.create,Y8=wu.create,Q8=vm.create,Z8=Ao.create,X8=Fl.create,J8=ju.create,eU=bu.create,tU=Ea.create,nU=Nu.create,rU=xc.create,o1=ts.create,sU=As.create,iU=Ta.create,aU=ts.createWithPreprocess,oU=Qu.create,lU=()=>bE().optional(),cU=()=>NE().optional(),dU=()=>_E().optional(),uU={string:t=>Vr.create({...t,coerce:!0}),number:t=>Ca.create({...t,coerce:!0}),boolean:t=>pu.create({...t,coerce:!0}),bigint:t=>ka.create({...t,coerce:!0}),date:t=>Po.create({...t,coerce:!0})},hU=$e;var I=Object.freeze({__proto__:null,defaultErrorMap:pc,setErrorMap:a8,getErrorMap:fm,makeIssue:mm,EMPTY_PATH:o8,addIssueToContext:be,ParseStatus:kn,INVALID:$e,DIRTY:wl,OK:Fn,isAborted:Dv,isDirty:Mv,isValid:To,isAsync:mu,get util(){return st},get objectUtil(){return Rv},ZodParsedType:ke,getParsedType:Xs,ZodType:Qe,datetimeRegex:yE,ZodString:Vr,ZodNumber:Ca,ZodBigInt:ka,ZodBoolean:pu,ZodDate:Po,ZodSymbol:gm,ZodUndefined:gu,ZodNull:xu,ZodAny:gc,ZodUnknown:xo,ZodNever:ji,ZodVoid:xm,ZodArray:Gr,ZodObject:Rt,ZodUnion:vu,ZodDiscriminatedUnion:hp,ZodIntersection:yu,ZodTuple:Ls,ZodRecord:wu,ZodMap:vm,ZodSet:Ao,ZodFunction:Fl,ZodLazy:ju,ZodLiteral:bu,ZodEnum:Ea,ZodNativeEnum:Nu,ZodPromise:xc,ZodEffects:ts,ZodTransformer:ts,ZodOptional:As,ZodNullable:Ta,ZodDefault:_u,ZodCatch:Su,ZodNaN:ym,BRAND:T8,ZodBranded:Uw,ZodPipeline:Qu,ZodReadonly:Cu,custom:jE,Schema:Qe,ZodSchema:Qe,late:P8,get ZodFirstPartyTypeKind(){return Le},coerce:uU,any:F8,array:z8,bigint:R8,boolean:_E,date:D8,discriminatedUnion:q8,effect:o1,enum:tU,function:X8,instanceof:A8,intersection:K8,lazy:J8,literal:eU,map:Q8,nan:I8,nativeEnum:nU,never:U8,null:L8,nullable:iU,number:NE,object:B8,oboolean:dU,onumber:cU,optional:sU,ostring:lU,pipeline:oU,preprocess:aU,promise:rU,record:Y8,set:Z8,strictObject:W8,string:bE,symbol:M8,transformer:o1,tuple:G8,undefined:O8,union:H8,unknown:$8,void:V8,NEVER:hU,ZodIssueCode:ae,quotelessJson:i8,ZodError:lr});const fU=I.object({email:I.string().email("Please enter a valid email address"),password:I.string().min(1,"Password is required")}),mU=I.object({email:I.string().email("Please enter a valid email address"),password:I.string().min(6,"Password must be at least 6 characters"),firstName:I.string().min(1,"First name is required"),lastName:I.string().min(1,"Last name is required"),userName:I.string().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:I.string().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:I.string().min(1,"Country is required")});I.object({email:I.string().optional(),firstName:I.string().optional(),lastName:I.string().optional(),type:I.enum(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:I.string().optional(),userName:I.string().optional(),country:I.string().optional(),phone:I.string().optional(),gender:I.string().optional(),uid:I.string().optional(),idToken:I.string().min(1,"Firebase ID token is required for authentication"),provider:I.string().optional(),profilePicture:I.string().optional()}).refine(t=>t.type==="google"?!!t.email&&!!t.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const SE=I.object({firstName:I.string().min(1,"First name is required"),lastName:I.string().min(1,"Last name is required"),userName:I.string().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:I.string().min(1,"Country is required"),phone:I.string().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:I.string().optional()});I.object({token:I.string().optional(),user:I.object({id:I.string(),email:I.string(),name:I.string().optional()}).optional(),message:I.string().optional()});I.object({success:I.boolean(),message:I.string().optional(),data:I.any(),accessToken:I.string().optional(),authtoken:I.string().optional(),newuser:I.boolean().optional()});I.object({success:I.boolean().optional(),message:I.string(),error:I.string().optional(),details:I.any().optional()});const pU=I.object({_id:I.string(),customer:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),userName:I.string().optional(),email:I.string(),profilePhoto:I.string().optional(),address:I.object({_id:I.string(),name:I.string(),addrress1:I.string(),city:I.string(),state:I.string(),zipcode:I.string(),phone:I.string(),email:I.string()}).optional()}),seller:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),userName:I.string().optional(),email:I.string()}),need_label:I.boolean(),giveaway:I.object({_id:I.string(),name:I.string(),description:I.string().optional(),quantity:I.number(),images:I.array(I.string()).optional(),category:I.object({_id:I.string(),name:I.string()}).optional(),shipping_profile:I.object({_id:I.string(),weight:I.number(),name:I.string(),scale:I.string()}).optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),status:I.string().optional(),participants:I.array(I.string()).optional()}).optional(),ordertype:I.string().optional(),items:I.array(I.object({_id:I.string().optional(),orderId:I.string().optional(),productId:I.object({_id:I.string().optional(),name:I.string().optional(),images:I.array(I.string()).optional(),category:I.object({_id:I.string().optional(),name:I.string().optional()}).optional()}).optional(),quantity:I.number().optional(),price:I.number().optional(),shipping_fee:I.number().optional(),weight:I.string().optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),scale:I.string().optional()})).optional(),total:I.number().optional(),servicefee:I.number().optional(),tax:I.number().optional(),shipping_fee:I.number().optional(),seller_shipping_fee_pay:I.number().optional(),total_shipping_cost:I.number().optional(),invoice:I.number().optional(),status:I.string().optional(),tracking_number:I.string().optional(),label:I.string().optional(),weight:I.union([I.number(),I.string()]).optional(),date:I.number().optional(),createdAt:I.string().optional(),updatedAt:I.string().optional(),bundleId:I.string().optional().nullable(),tokshow:I.object({_id:I.string(),title:I.string().optional(),name:I.string().optional()}).optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),scale:I.string().optional()});I.object({orders:I.array(pU),limits:I.number(),pages:I.number(),total:I.number()});I.object({totalOrder:I.number(),totalAmount:I.string(),todayOrder:I.array(I.any()),totalAmountOfThisMonth:I.string(),totalPendingOrder:I.object({total:I.number(),count:I.number()}).optional(),totalDeliveredOrder:I.number(),orders:I.array(I.any()),weeklySaleReport:I.array(I.any())});const gU=I.object({_id:I.string(),name:I.string(),description:I.string().optional(),price:I.number(),quantity:I.number(),images:I.array(I.string()).optional(),category:I.object({_id:I.string(),name:I.string()}).optional(),seller:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),userName:I.string().optional(),email:I.string()}),status:I.string().optional(),weight:I.union([I.number(),I.string()]).optional(),height:I.string().optional(),width:I.string().optional(),length:I.string().optional(),scale:I.string().optional(),shipping_profile:I.object({_id:I.string(),weight:I.number(),name:I.string(),scale:I.string()}).optional(),colors:I.array(I.string()).optional(),sizes:I.array(I.string()).optional(),featured:I.boolean().optional(),createdAt:I.string().optional(),updatedAt:I.string().optional()});I.object({products:I.array(gU),limits:I.number(),pages:I.number(),totalDoc:I.number()});const CE=I.lazy(()=>I.object({_id:I.string(),name:I.string(),description:I.string().optional(),status:I.string().optional(),icon:I.string().optional(),type:I.string().optional(),subCategories:I.array(CE).optional()}));I.object({categories:I.array(CE),limits:I.number().optional(),pages:I.number().optional(),total:I.number().optional()});const xU=I.object({_id:I.string(),name:I.string(),weight:I.number(),scale:I.string(),description:I.string().optional()});I.array(xU);const vU=I.enum(["auction","buy_now","giveaway"]);I.object({name:I.string().min(1,"Product name is required"),description:I.string().optional(),price:I.coerce.number().optional().nullable(),quantity:I.coerce.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:I.string().min(1,"Category is required"),status:I.enum(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:vU,shippingProfile:I.string().nullable().optional(),images:I.array(I.string()).optional(),startingPrice:I.coerce.number().optional().nullable(),duration:I.coerce.number().int().optional().nullable(),sudden:I.boolean().optional().default(!1),featured:I.boolean().optional().default(!1),whocanenter:I.enum(["everyone","followers"]).optional().default("everyone"),tokshow:I.string().optional()}).refine(t=>t.listingType==="auction"?t.startingPrice!==void 0&&t.startingPrice!==null&&t.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(t=>t.listingType==="auction"?t.duration!==void 0&&t.duration!==null&&t.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(t=>t.listingType==="buy_now"?t.price!==void 0&&t.price!==null&&t.price>0:!0,{message:"Price must be greater than 0",path:["price"]});I.object({id:I.string(),customerId:I.string(),customerName:I.string(),orderIds:I.array(I.string()),count:I.number(),weight:I.string().optional(),dimensions:I.string().optional(),totalValue:I.number(),status:I.enum(["pending","labeled"]).optional().default("pending"),createdAt:I.string().optional()});const yU=Lo("users",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),username:Xe("username").notNull().unique(),password:Xe("password").notNull(),email:Xe("email").notNull().unique(),name:Xe("name").notNull(),avatar:Xe("avatar"),seller:bf("seller").default(!1),admin:bf("admin").default(!1)}),wU=Lo("orders",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),orderNumber:Xe("order_number").notNull().unique(),customerId:Br("customer_id").notNull(),customerName:Xe("customer_name").notNull(),customerEmail:Xe("customer_email").notNull(),itemName:Xe("item_name").notNull(),itemCount:jl("item_count").notNull().default(1),amount:Lr("amount",{precision:10,scale:2}).notNull(),weight:Xe("weight"),dimensions:Xe("dimensions"),status:Xe("status").notNull(),createdAt:oi("created_at").defaultNow().notNull(),shippedAt:oi("shipped_at"),deliveredAt:oi("delivered_at"),trackingNumber:Xe("tracking_number"),shippingCost:Lr("shipping_cost",{precision:10,scale:2}).default("0"),couponDiscount:Lr("coupon_discount",{precision:10,scale:2}).default("0"),bundleId:Br("bundle_id")}),jU=Lo("shipment_bundles",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),bundleName:Xe("bundle_name").notNull(),totalWeight:Xe("total_weight"),totalDimensions:Xe("total_dimensions"),trackingNumber:Xe("tracking_number"),shippingCost:Lr("shipping_cost",{precision:10,scale:2}).default("0"),createdAt:oi("created_at").defaultNow().notNull(),shippedAt:oi("shipped_at")}),bU=Lo("live_shows",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),title:Xe("title").notNull(),description:Xe("description"),scheduledAt:oi("scheduled_at").notNull(),status:Xe("status").notNull(),category:Xe("category").notNull(),thumbnail:Xe("thumbnail"),viewerCount:jl("viewer_count").default(0),totalSales:Lr("total_sales",{precision:10,scale:2}).default("0"),hostId:Br("host_id").notNull()}),NU=Lo("analytics",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),date:oi("date").notNull(),totalSales:Lr("total_sales",{precision:10,scale:2}).notNull(),orderCount:jl("order_count").notNull(),buyerCount:jl("buyer_count").notNull(),showCount:jl("show_count").notNull(),avgShippingTime:Lr("avg_shipping_time",{precision:4,scale:2}),cancellationRate:Lr("cancellation_rate",{precision:5,scale:2}),satisfactionRating:Lr("satisfaction_rating",{precision:3,scale:2})}),_U=Lo("shipping_profiles",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),name:Xe("name").notNull(),description:Xe("description"),baseRate:Lr("base_rate",{precision:10,scale:2}).notNull(),freeShippingThreshold:Lr("free_shipping_threshold",{precision:10,scale:2}),bundleEnabled:bf("bundle_enabled").default(!0),maxBundleSize:jl("max_bundle_size").default(10)}),SU=Lo("addresses",{id:Br("id").primaryKey().default(Oo`gen_random_uuid()`),name:Xe("name").notNull(),addrress1:Xe("addrress1").notNull(),primary:bf("primary").default(!1),addrress2:Xe("addrress2").default(""),city:Xe("city").default(""),countryCode:Xe("country_code").default(""),cityCode:Xe("city_code").default(""),state:Xe("state").default(""),stateCode:Xe("state_code").default(""),country:Xe("country").default(""),zipcode:Xe("zipcode").default(""),street:Xe("street").default(""),phone:Xe("phone").default(""),email:Xe("email").default(""),userId:Br("user_id").notNull(),createdAt:oi("created_at").defaultNow().notNull(),updatedAt:oi("updated_at").defaultNow().notNull()});Fo(yU).omit({id:!0});Fo(wU).omit({id:!0});Fo(bU).omit({id:!0});Fo(NU).omit({id:!0});Fo(_U).omit({id:!0});Fo(jU).omit({id:!0});Fo(SU).omit({id:!0,createdAt:!0,updatedAt:!0});const CU=I.object({name:I.string().min(1,"Address name is required"),addrress1:I.string().min(1,"Street address is required"),addrress2:I.string().optional().default(""),city:I.string().min(1,"City is required"),state:I.string().min(1,"State is required"),stateCode:I.string().optional().default(""),cityCode:I.string().optional().default(""),zipcode:I.string().min(1,"ZIP code is required"),countryCode:I.string().min(1,"Country is required"),country:I.string().optional(),phone:I.string().min(1,"Phone number is required"),email:I.string().email("Please enter a valid email address"),userId:I.string().min(1,"User ID is required")});CU.partial().extend({name:I.string().min(1,"Address name is required").optional(),addrress1:I.string().min(1,"Street address is required").optional(),city:I.string().min(1,"City is required").optional(),state:I.string().min(1,"State is required").optional(),zipcode:I.string().min(1,"ZIP code is required").optional(),countryCode:I.string().min(1,"Country is required").optional(),phone:I.string().min(1,"Phone number is required").optional(),email:I.string().email("Please enter a valid email address").optional()});I.object({primary:I.boolean(),userId:I.string().min(1,"User ID is required")});I.object({weight:I.union([I.string(),I.number()]).transform(String),unit:I.string().optional().default("oz"),product:I.string(),update:I.boolean().optional().default(!0),owner:I.string(),customer:I.string(),length:I.union([I.string(),I.number()]).transform(Number),width:I.union([I.string(),I.number()]).transform(Number),height:I.union([I.string(),I.number()]).transform(Number)});I.object({carrier:I.string(),service:I.string(),price:I.string(),deliveryTime:I.string(),objectId:I.string().min(1,"Rate ID is required")});I.object({rate_id:I.string().min(1,"Rate ID is required"),order:I.union([I.string(),I.object({_id:I.string(),customer:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),email:I.string().email(),address:I.object({name:I.string(),addrress1:I.string(),city:I.string(),state:I.string(),zipcode:I.string(),phone:I.string(),email:I.string().email()}).optional()}),seller:I.object({_id:I.string(),firstName:I.string(),lastName:I.string().optional(),email:I.string().email()})})]),isBundle:I.boolean().optional(),shipping_fee:I.union([I.string(),I.number()]).transform(Number),servicelevel:I.string().min(1,"Service level is required"),carrier:I.string().optional(),deliveryTime:I.string().optional()});I.object({success:I.boolean(),message:I.string(),data:I.object({tracking_number:I.string(),label_url:I.string().optional(),label_data:I.string().optional(),carrier:I.string(),service:I.string(),cost:I.string(),delivery_time:I.string(),purchased_at:I.string()}).optional(),error:I.string().optional()});I.object({orderIds:I.array(I.string().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:I.string().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:I.string().min(1,"Rate ID is required")});I.object({success:I.boolean(),message:I.string(),data:I.object({tracking_number:I.string(),label_url:I.string().optional(),cost:I.number(),carrier:I.string(),service:I.string(),affected_orders:I.array(I.string()),update_results:I.array(I.object({orderId:I.string(),success:I.boolean(),error:I.string().optional(),data:I.any().optional()})),aggregated_weight:I.string().optional(),aggregated_dimensions:I.string().optional()}).optional(),error:I.string().optional()});const kE=p.createContext(null);function kU({children:t}){console.log("[AuthProvider] Initializing AuthProvider");const[e,n]=p.useState(null),[r,i]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),[d,f]=p.useState(null),h=p.useRef(!1),m=p.useRef(!1),v=p.useRef(0),_=p.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",r,"user:",e?e.id:"null","isAuthenticated:",!!e);const g=!!e,C=async(N,T,A=!1)=>{var L,H;try{const V=await N.getIdToken(!0);let z=null;if(N.providerData&&N.providerData.length>0&&(N.providerData.some(ue=>ue.providerId==="apple.com")?z="apple":N.providerData.some(ue=>ue.providerId==="google.com")&&(z="google")),!z&&(T==null?void 0:T.providerId)==="apple.com"?z="apple":!z&&(T==null?void 0:T.providerId)==="google.com"&&(z="google"),!z)throw new Error("Unable to determine authentication provider");let F="",W="",Q=N.email||"";if(z==="apple"&&(T!=null&&T.profile)){const ue=T.profile;ue.name&&(F=ue.name.firstName||"",W=ue.name.lastName||""),ue.email&&(Q=ue.email)}else(z==="google"||!(T!=null&&T.profile))&&(F=((L=N.displayName)==null?void 0:L.split(" ")[0])||"",W=((H=N.displayName)==null?void 0:H.split(" ").slice(1).join(" "))||"");const X={idToken:V,uid:N.uid,email:Q,firstName:F,lastName:W,type:z,profilePhoto:N.photoURL||"",userName:z==="apple"?"":Q||N.uid,country:"",phone:"",gender:""},B=await ht("POST","/api/auth/social",X),me=await B.json();if(!B.ok)throw new Error(me.error||`Authentication failed: ${B.status}`);if(me.success){if(!A&&me.newuser===!0)return o(!0),c(N.email||""),f(N),me;const ue={id:me.data._id||me.data.id,email:me.data.email,firstName:me.data.firstName,lastName:me.data.lastName||"",profilePhoto:me.data.profilePhoto||N.photoURL||"",userName:me.data.userName,country:me.data.country||"",phone:me.data.phone||"",seller:me.data.seller||!1,admin:me.data.admin||!1,authProvider:z,address:me.data.address,defaultpaymentmethod:me.data.defaultpaymentmethod};n(ue),localStorage.setItem("userId",ue.id),localStorage.setItem("user",JSON.stringify(ue)),me.accessToken&&localStorage.setItem("accessToken",me.accessToken),o(!1),c(null),f(null)}else throw new Error(me.message||"Authentication failed");return me}catch(V){throw console.error("Authentication failed:",(V==null?void 0:V.message)||V),V}},j=async(N,T)=>await y(N,T),y=async(N,T)=>{try{i(!0);const A=fU.parse({email:N,password:T}),H=await(await ht("POST","/api/auth/login",A)).json();if(H.success){const V={id:H.data._id||H.data.id,email:H.data.email,firstName:H.data.firstName,lastName:H.data.lastName||"",profilePhoto:H.data.profilePhoto||"",userName:H.data.userName,country:H.data.country||"",phone:H.data.phone||"",seller:H.data.seller||!1,admin:H.data.admin||!1,authProvider:"email",address:H.data.address,defaultpaymentmethod:H.data.defaultpaymentmethod};n(V),localStorage.setItem("userId",V.id),localStorage.setItem("user",JSON.stringify(V)),H.accessToken&&localStorage.setItem("accessToken",H.accessToken)}else{const V=H.message||H.error||"Login failed";throw new Error(V)}}catch(A){throw console.error("Email login failed:",A),A}finally{i(!1)}},x=async(N,T,A,L,H,V,z)=>{try{i(!0);const F=mU.parse({email:N,password:T,firstName:A,lastName:L,userName:H,phone:V,country:z}),Q=await(await ht("POST","/api/auth/signup",F)).json();if(Q.success){const X={id:Q.data._id||Q.data.id,email:Q.data.email,firstName:Q.data.firstName,lastName:Q.data.lastName||"",profilePhoto:Q.data.profilePhoto||"",userName:Q.data.userName,country:Q.data.country||z,phone:Q.data.phone||"",seller:Q.data.seller||!1,admin:Q.data.admin||!1,authProvider:"email",address:Q.data.address,defaultpaymentmethod:Q.data.defaultpaymentmethod};n(X),localStorage.setItem("userId",X.id),localStorage.setItem("user",JSON.stringify(X)),Q.accessToken&&localStorage.setItem("accessToken",Q.accessToken)}else{const X=Q.message||Q.error||"Signup failed";throw new Error(X)}}catch(F){throw console.error("Email signup failed:",F),F}finally{i(!1)}},P=async()=>{try{i(!0);const N=await X$();if(N!=null&&N.user){const T=N.user.email;if(!T)throw new Error("No email found in Google account");const L=await(await ht("GET",`/api/users/userexists/email?email=${encodeURIComponent(T)}`)).json();console.log("[loginWithGoogle] User existence check:",L),L.exists?await C(N.user,N==null?void 0:N.additionalUserInfo,!0):(o(!0),c(T),f(N.user),console.log("[loginWithGoogle] New user detected, redirecting to data collection"))}}catch(N){throw console.error("Google login failed:",N),N}finally{i(!1)}},D=async()=>{try{i(!0);const N=await n8();N!=null&&N.user&&await C(N.user,N==null?void 0:N.additionalUserInfo)}catch(N){throw console.error("Apple login failed:",N),N}finally{i(!1)}},O=async N=>{try{if(i(!0),!d)throw new Error("No pending social authentication data found");const T=SE.parse(N);let A="google";d.providerData&&d.providerData.length>0&&(d.providerData.some(z=>z.providerId==="apple.com")?A="apple":d.providerData.some(z=>z.providerId==="google.com")&&(A="google"));const L={email:d.email||"",firstName:T.firstName,lastName:T.lastName,userName:T.userName,type:A,profilePhoto:d.photoURL||"",country:T.country||"",phone:T.phone||"",gender:T.gender||""},V=await(await ht("POST","/api/auth/social/complete",L)).json();if(V.success){const z={id:V.data._id||V.data.id,email:V.data.email,firstName:V.data.firstName,lastName:V.data.lastName||"",profilePhoto:V.data.profilePhoto||d.photoURL||"",userName:V.data.userName,country:V.data.country||"",phone:V.data.phone||"",seller:V.data.seller||!1,admin:V.data.admin||!1,authProvider:A,address:V.data.address,defaultpaymentmethod:V.data.defaultpaymentmethod};n(z),localStorage.setItem("userId",z.id),localStorage.setItem("user",JSON.stringify(z)),V.accessToken&&localStorage.setItem("accessToken",V.accessToken),o(!1),c(null),f(null)}else throw new Error(V.error||"Failed to complete social authentication")}catch(T){throw console.error("Social auth completion failed:",T),T}finally{i(!1)}},E=async()=>{try{await ht("POST","/api/auth/logout",{}),await t8(),n(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),o(!1),c(null),f(null)}catch(N){console.error("Logout failed:",N),n(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),o(!1),c(null),f(null)}},b=async()=>{try{console.log("[checkAuth] Starting auth check...");const N=e8(),T=new Promise(H=>setTimeout(()=>H(null),2e3)),A=await Promise.race([N,T]);if(A!=null&&A.user&&!h.current){h.current=!0;try{await C(A.user,A==null?void 0:A.additionalUserInfo)}finally{h.current=!1}return}const L=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",L?"EXISTS":"NONE"),L)try{const H=JSON.parse(L);console.log("[checkAuth] Setting user from localStorage:",H.id),n(H),ht("GET","/api/auth/session").then(V=>V.json()).then(V=>{V.success||console.log("Session validation failed but keeping localStorage user")}).catch(V=>{console.log("Session validation error but keeping localStorage user:",V)})}catch(H){console.error("Failed to parse stored user data:",H),localStorage.removeItem("userId"),localStorage.removeItem("user"),n(null)}else n(null)}catch(N){console.error("Auth check failed:",N);const T=localStorage.getItem("user");if(T)try{const A=JSON.parse(T);n(A)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),n(null)}else n(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),m.current=!0,i(!1)}},S=async()=>{try{if(!(e!=null&&e.id)){console.log("[refreshUserData] No user logged in");return}if(_.current){console.log("[refreshUserData] Already refreshing, skipping...");return}const N=Date.now();if(N-v.current<2e3){console.log("[refreshUserData] Refreshed recently, skipping...");return}_.current=!0,v.current=N,console.log("[refreshUserData] Fetching latest user data for:",e.id);const A=await(await ht("GET",`/api/address/default/address/${e.id}`)).json(),L=(A==null?void 0:A.address)||null,V=await(await ht("GET",`/api/users/paymentmethod/${e.id}`)).json(),z=(V==null?void 0:V.data)||null,F={...e,address:L||e.address,defaultpaymentmethod:z||e.defaultpaymentmethod};n(F),localStorage.setItem("user",JSON.stringify(F)),console.log("[refreshUserData] User data updated:",{hasAddress:!!F.address,hasPayment:!!F.defaultpaymentmethod})}catch(N){console.error("[refreshUserData] Failed to refresh user data:",N)}finally{_.current=!1}};p.useEffect(()=>{const N=s8(async T=>{console.log("[Firebase Listener] Auth state changed, user:",T?"EXISTS":"NONE","hasCheckedAuth:",m.current),T||n(null),m.current?(console.log("[Firebase Listener] Setting isLoading = false"),i(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return b(),()=>N()},[]);const R={user:e,isLoading:r,isAuthenticated:g,pendingSocialAuth:a,pendingSocialAuthEmail:l,pendingSocialAuthData:d,login:j,emailLogin:y,emailSignup:x,loginWithGoogle:P,loginWithApple:D,completeSocialAuth:O,logout:E,checkAuth:b,refreshUserData:S};return s.jsx(kE.Provider,{value:R,children:t})}function Ma(){const t=p.useContext(kE);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const EE={app_name:"App",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0},TE=p.createContext({settings:EE,isLoading:!0});function l1(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,i=Math.max(e,n,r),a=Math.min(e,n,r);let o=0,l=0,c=(i+a)/2;if(i!==a){const d=i-a;switch(l=c>.5?d/(2-i-a):d/(i+a),i){case e:o=((n-r)/d+(n<r?6:0))/6;break;case n:o=((r-e)/d+2)/6;break;case r:o=((e-n)/d+4)/6;break}}return o=Math.round(o*360),l=Math.round(l*100),c=Math.round(c*100),`${o} ${l}% ${c}%`}function c1(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,i=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*i+.7152*a+.0722*o}function EU(t,e){console.log(" Applying theme colors:",{primaryColor:t,secondaryColor:e});const n=document.documentElement,r=l1(t),i=l1(e);console.log(" Converted to HSL:",{primaryHSL:r,secondaryHSL:i});const a=c1(t),o=a>.5;console.log(" Luminance:",{luminance:a,isLightColor:o});const l=o?"0 0% 9%":"0 0% 100%";n.style.setProperty("--primary",r),n.style.setProperty("--primary-foreground",l),n.style.setProperty("--ring",r),n.style.setProperty("--chart-1",r),n.style.setProperty("--sidebar-primary",r),n.style.setProperty("--sidebar-primary-foreground",l),n.style.setProperty("--sidebar-ring",r);const f=c1(e)>.5?"0 0% 9%":"0 0% 100%";n.style.setProperty("--secondary",i),n.style.setProperty("--secondary-foreground",f),n.style.setProperty("--accent",i),n.style.setProperty("--accent-foreground",f),n.style.setProperty("--chart-2",i),console.log(" Theme colors applied successfully")}function TU({children:t}){const[e,n]=p.useState(EE),[r,i]=p.useState(!0);return p.useEffect(()=>{async function a(){try{const o=await fetch("/api/settings");if(o.ok){const l=await o.json();console.log(" Settings fetched:",l),l.success&&l.data&&(console.log(" Settings data:",l.data),n(l.data))}}catch(o){console.error("Failed to fetch app settings:",o)}finally{i(!1)}}a()},[]),p.useEffect(()=>{e.primary_color&&e.secondary_color&&EU(e.primary_color,e.secondary_color)},[e.primary_color,e.secondary_color]),s.jsx(TE.Provider,{value:{settings:e,isLoading:r},children:t})}function Zu(){const t=p.useContext(TE);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}var Xu=t=>t.type==="checkbox",so=t=>t instanceof Date,Dn=t=>t==null;const PE=t=>typeof t=="object";var zt=t=>!Dn(t)&&!Array.isArray(t)&&PE(t)&&!so(t),AE=t=>zt(t)&&t.target?Xu(t.target)?t.target.checked:t.target.value:t,PU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,IE=(t,e)=>t.has(PU(e)),AU=t=>{const e=t.constructor&&t.constructor.prototype;return zt(e)&&e.hasOwnProperty("isPrototypeOf")},Vw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Vw&&(t instanceof Blob||r))&&(n||zt(t)))if(e=n?[]:{},!n&&!AU(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=hn(t[i]));else return t;return e}var fp=t=>Array.isArray(t)?t.filter(Boolean):[],Ut=t=>t===void 0,ye=(t,e,n)=>{if(!e||!zt(t))return n;const r=fp(e.split(/[,[\].]+?/)).reduce((i,a)=>Dn(i)?i:i[a],t);return Ut(r)||r===t?Ut(t[e])?n:t[e]:r},nr=t=>typeof t=="boolean",zw=t=>/^\w*$/.test(t),RE=t=>fp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),dt=(t,e,n)=>{let r=-1;const i=zw(e)?[e]:RE(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=zt(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const wm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DE=We.createContext(null),mp=()=>We.useContext(DE),IU=t=>{const{children:e,...n}=t;return We.createElement(DE.Provider,{value:n},e)};var ME=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Mr.all&&(e._proxyFormState[o]=!r||Mr.all),n&&(n[o]=!0),t[o]}});return i};function RU(t){const e=mp(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=We.useState(n._formState),c=We.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=We.useRef(i);return d.current=i,We.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:a,callback:f=>{!r&&l({...n._formState,...f})}}),[n,r,a]),We.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),We.useMemo(()=>ME(o,n,c.current,!1),[o,n])}var bs=t=>typeof t=="string",OE=(t,e,n,r,i)=>bs(t)?(r&&e.watch.add(t),ye(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),ye(n,a))):(r&&(e.watchAll=!0),n);function DU(t){const e=mp(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t||{},l=We.useRef(r),c=We.useRef(i);l.current=r,We.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&f(OE(l.current,n._names,h.values||n._formValues,!1,c.current))}),[n,a,o]);const[d,f]=We.useState(n._getWatch(r,i));return We.useEffect(()=>n._removeUnmounted()),d}function MU(t){const e=mp(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a}=t,o=IE(i._names.array,n),l=DU({control:i,name:n,defaultValue:ye(i._formValues,n,ye(i._defaultValues,n,t.defaultValue)),exact:!0}),c=RU({control:i,name:n,exact:!0}),d=We.useRef(t),f=We.useRef(i.register(n,{...t.rules,value:l,...nr(t.disabled)?{disabled:t.disabled}:{}})),h=We.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ye(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ye(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ye(c.validatingFields,n)},error:{enumerable:!0,get:()=>ye(c.errors,n)}}),[c,n]),m=We.useCallback(C=>f.current.onChange({target:{value:AE(C),name:n},type:wm.CHANGE}),[n]),v=We.useCallback(()=>f.current.onBlur({target:{value:ye(i._formValues,n),name:n},type:wm.BLUR}),[n,i._formValues]),_=We.useCallback(C=>{const j=ye(i._fields,n);j&&C&&(j._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:y=>C.setCustomValidity(y),reportValidity:()=>C.reportValidity()})},[i._fields,n]),g=We.useMemo(()=>({name:n,value:l,...nr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:v,ref:_}),[n,r,c.disabled,m,v,_,l]);return We.useEffect(()=>{const C=i._options.shouldUnregister||a;i.register(n,{...d.current.rules,...nr(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(y,x)=>{const P=ye(i._fields,y);P&&P._f&&(P._f.mount=x)};if(j(n,!0),C){const y=hn(ye(i._options.defaultValues,n));dt(i._defaultValues,n,y),Ut(ye(i._formValues,n))&&dt(i._formValues,n,y)}return!o&&i.register(n),()=>{(o?C&&!i._state.action:C)?i.unregister(n):j(n,!1)}},[n,i,o,a]),We.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),We.useMemo(()=>({field:g,formState:c,fieldState:h}),[g,c,h])}const OU=t=>t.render(MU(t));var LE=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ud=t=>Array.isArray(t)?t:[t],d1=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Lv=t=>Dn(t)||!PE(t);function qi(t,e){if(Lv(t)||Lv(e))return t===e;if(so(t)&&so(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(so(a)&&so(o)||zt(a)&&zt(o)||Array.isArray(a)&&Array.isArray(o)?!qi(a,o):a!==o)return!1}}return!0}var An=t=>zt(t)&&!Object.keys(t).length,Bw=t=>t.type==="file",Or=t=>typeof t=="function",jm=t=>{if(!Vw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},FE=t=>t.type==="select-multiple",Ww=t=>t.type==="radio",LU=t=>Ww(t)||Xu(t),zg=t=>jm(t)&&t.isConnected;function FU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ut(t)?r++:t[e[r++]];return t}function $U(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ut(t[e]))return!1;return!0}function Gt(t,e){const n=Array.isArray(e)?e:zw(e)?[e]:RE(e),r=n.length===1?t:FU(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(zt(r)&&An(r)||Array.isArray(r)&&$U(r))&&Gt(t,n.slice(0,-1)),t}var $E=t=>{for(const e in t)if(Or(t[e]))return!0;return!1};function bm(t,e={}){const n=Array.isArray(t);if(zt(t)||n)for(const r in t)Array.isArray(t[r])||zt(t[r])&&!$E(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bm(t[r],e[r])):Dn(t[r])||(e[r]=!0);return e}function UE(t,e,n){const r=Array.isArray(t);if(zt(t)||r)for(const i in t)Array.isArray(t[i])||zt(t[i])&&!$E(t[i])?Ut(e)||Lv(n[i])?n[i]=Array.isArray(t[i])?bm(t[i],[]):{...bm(t[i])}:UE(t[i],Dn(e)?{}:e[i],n[i]):n[i]=!qi(t[i],e[i]);return n}var cd=(t,e)=>UE(t,e,bm(e));const u1={value:!1,isValid:!1},h1={value:!0,isValid:!0};var VE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ut(t[0].attributes.value)?Ut(t[0].value)||t[0].value===""?h1:{value:t[0].value,isValid:!0}:h1:u1}return u1},zE=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ut(t)?t:e?t===""?NaN:t&&+t:n&&bs(t)?new Date(t):r?r(t):t;const f1={isValid:!1,value:null};var BE=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,f1):f1;function m1(t){const e=t.ref;return Bw(e)?e.files:Ww(e)?BE(t.refs).value:FE(e)?[...e.selectedOptions].map(({value:n})=>n):Xu(e)?VE(t.refs).value:zE(Ut(e.value)?t.ref.value:e.value,t)}var UU=(t,e,n,r)=>{const i={};for(const a of t){const o=ye(e,a);o&&dt(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Nm=t=>t instanceof RegExp,dd=t=>Ut(t)?t:Nm(t)?t.source:zt(t)?Nm(t.value)?t.value.source:t.value:t,p1=t=>({isOnSubmit:!t||t===Mr.onSubmit,isOnBlur:t===Mr.onBlur,isOnChange:t===Mr.onChange,isOnAll:t===Mr.all,isOnTouch:t===Mr.onTouched});const g1="AsyncFunction";var VU=t=>!!t&&!!t.validate&&!!(Or(t.validate)&&t.validate.constructor.name===g1||zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===g1)),zU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),x1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Vd=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=ye(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Vd(l,e))break}else if(zt(l)&&Vd(l,e))break}}};function v1(t,e,n){const r=ye(t,n);if(r||zw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=ye(e,a),l=ye(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var BU=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return An(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Mr.all))},WU=(t,e,n)=>!t||!e||t===e||Ud(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),HU=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,qU=(t,e)=>!fp(ye(t,e)).length&&Gt(t,e),KU=(t,e,n)=>{const r=Ud(ye(t,n));return dt(r,"root",e[n]),dt(t,n,r),t},vf=t=>bs(t);function y1(t,e,n="validate"){if(vf(t)||Array.isArray(t)&&t.every(vf)||nr(t)&&!t)return{type:n,message:vf(t)?t:"",ref:e}}var tl=t=>zt(t)&&!Nm(t)?t:{value:t,message:""},w1=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:h,max:m,pattern:v,validate:_,name:g,valueAsNumber:C,mount:j}=t._f,y=ye(n,g);if(!j||e.has(g))return{};const x=l?l[0]:o,P=T=>{i&&x.reportValidity&&(x.setCustomValidity(nr(T)?"":T||""),x.reportValidity())},D={},O=Ww(o),E=Xu(o),b=O||E,S=(C||Bw(o))&&Ut(o.value)&&Ut(y)||jm(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,R=LE.bind(null,g,r,D),N=(T,A,L,H=qs.maxLength,V=qs.minLength)=>{const z=T?A:L;D[g]={type:T?H:V,message:z,ref:o,...R(T?H:V,z)}};if(a?!Array.isArray(y)||!y.length:c&&(!b&&(S||Dn(y))||nr(y)&&!y||E&&!VE(l).isValid||O&&!BE(l).isValid)){const{value:T,message:A}=vf(c)?{value:!!c,message:c}:tl(c);if(T&&(D[g]={type:qs.required,message:A,ref:x,...R(qs.required,A)},!r))return P(A),D}if(!S&&(!Dn(h)||!Dn(m))){let T,A;const L=tl(m),H=tl(h);if(!Dn(y)&&!isNaN(y)){const V=o.valueAsNumber||y&&+y;Dn(L.value)||(T=V>L.value),Dn(H.value)||(A=V<H.value)}else{const V=o.valueAsDate||new Date(y),z=Q=>new Date(new Date().toDateString()+" "+Q),F=o.type=="time",W=o.type=="week";bs(L.value)&&y&&(T=F?z(y)>z(L.value):W?y>L.value:V>new Date(L.value)),bs(H.value)&&y&&(A=F?z(y)<z(H.value):W?y<H.value:V<new Date(H.value))}if((T||A)&&(N(!!T,L.message,H.message,qs.max,qs.min),!r))return P(D[g].message),D}if((d||f)&&!S&&(bs(y)||a&&Array.isArray(y))){const T=tl(d),A=tl(f),L=!Dn(T.value)&&y.length>+T.value,H=!Dn(A.value)&&y.length<+A.value;if((L||H)&&(N(L,T.message,A.message),!r))return P(D[g].message),D}if(v&&!S&&bs(y)){const{value:T,message:A}=tl(v);if(Nm(T)&&!y.match(T)&&(D[g]={type:qs.pattern,message:A,ref:o,...R(qs.pattern,A)},!r))return P(A),D}if(_){if(Or(_)){const T=await _(y,n),A=y1(T,x);if(A&&(D[g]={...A,...R(qs.validate,A.message)},!r))return P(A.message),D}else if(zt(_)){let T={};for(const A in _){if(!An(T)&&!r)break;const L=y1(await _[A](y,n),x,A);L&&(T={...L,...R(A,L.message)},P(L.message),r&&(D[g]=T))}if(!An(T)&&(D[g]={ref:x,...T},!r))return D}}return P(!0),D};const GU={mode:Mr.onSubmit,reValidateMode:Mr.onChange,shouldFocusError:!0};function YU(t={}){let e={...GU,...t},n={submitCount:0,isDirty:!1,isLoading:Or(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=zt(e.defaultValues)||zt(e.values)?hn(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:hn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:d1(),state:d1()},v=p1(e.mode),_=p1(e.reValidateMode),g=e.criteriaMode===Mr.all,C=$=>G=>{clearTimeout(d),d=setTimeout($,G)},j=async $=>{if(!e.disabled&&(f.isValid||h.isValid||$)){const G=e.resolver?An((await S()).errors):await N(r,!0);G!==n.isValid&&m.state.next({isValid:G})}},y=($,G)=>{!e.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&(($||Array.from(l.mount)).forEach(ee=>{ee&&(G?dt(n.validatingFields,ee,G):Gt(n.validatingFields,ee))}),m.state.next({validatingFields:n.validatingFields,isValidating:!An(n.validatingFields)}))},x=($,G=[],ee,ve,he=!0,ce=!0)=>{if(ve&&ee&&!e.disabled){if(o.action=!0,ce&&Array.isArray(ye(r,$))){const Se=ee(ye(r,$),ve.argA,ve.argB);he&&dt(r,$,Se)}if(ce&&Array.isArray(ye(n.errors,$))){const Se=ee(ye(n.errors,$),ve.argA,ve.argB);he&&dt(n.errors,$,Se),qU(n.errors,$)}if((f.touchedFields||h.touchedFields)&&ce&&Array.isArray(ye(n.touchedFields,$))){const Se=ee(ye(n.touchedFields,$),ve.argA,ve.argB);he&&dt(n.touchedFields,$,Se)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=cd(i,a)),m.state.next({name:$,isDirty:A($,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(a,$,G)},P=($,G)=>{dt(n.errors,$,G),m.state.next({errors:n.errors})},D=$=>{n.errors=$,m.state.next({errors:n.errors,isValid:!1})},O=($,G,ee,ve)=>{const he=ye(r,$);if(he){const ce=ye(a,$,Ut(ee)?ye(i,$):ee);Ut(ce)||ve&&ve.defaultChecked||G?dt(a,$,G?ce:m1(he._f)):V($,ce),o.mount&&j()}},E=($,G,ee,ve,he)=>{let ce=!1,Se=!1;const Z={name:$};if(!e.disabled){if(!ee||ve){(f.isDirty||h.isDirty)&&(Se=n.isDirty,n.isDirty=Z.isDirty=A(),ce=Se!==Z.isDirty);const Ie=qi(ye(i,$),G);Se=!!ye(n.dirtyFields,$),Ie?Gt(n.dirtyFields,$):dt(n.dirtyFields,$,!0),Z.dirtyFields=n.dirtyFields,ce=ce||(f.dirtyFields||h.dirtyFields)&&Se!==!Ie}if(ee){const Ie=ye(n.touchedFields,$);Ie||(dt(n.touchedFields,$,ee),Z.touchedFields=n.touchedFields,ce=ce||(f.touchedFields||h.touchedFields)&&Ie!==ee)}ce&&he&&m.state.next(Z)}return ce?Z:{}},b=($,G,ee,ve)=>{const he=ye(n.errors,$),ce=(f.isValid||h.isValid)&&nr(G)&&n.isValid!==G;if(e.delayError&&ee?(c=C(()=>P($,ee)),c(e.delayError)):(clearTimeout(d),c=null,ee?dt(n.errors,$,ee):Gt(n.errors,$)),(ee?!qi(he,ee):he)||!An(ve)||ce){const Se={...ve,...ce&&nr(G)?{isValid:G}:{},errors:n.errors,name:$};n={...n,...Se},m.state.next(Se)}},S=async $=>{y($,!0);const G=await e.resolver(a,e.context,UU($||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y($),G},R=async $=>{const{errors:G}=await S($);if($)for(const ee of $){const ve=ye(G,ee);ve?dt(n.errors,ee,ve):Gt(n.errors,ee)}else n.errors=G;return G},N=async($,G,ee={valid:!0})=>{for(const ve in $){const he=$[ve];if(he){const{_f:ce,...Se}=he;if(ce){const Z=l.array.has(ce.name),Ie=he._f&&VU(he._f);Ie&&f.validatingFields&&y([ve],!0);const jt=await w1(he,l.disabled,a,g,e.shouldUseNativeValidation&&!G,Z);if(Ie&&f.validatingFields&&y([ve]),jt[ce.name]&&(ee.valid=!1,G))break;!G&&(ye(jt,ce.name)?Z?KU(n.errors,jt,ce.name):dt(n.errors,ce.name,jt[ce.name]):Gt(n.errors,ce.name))}!An(Se)&&await N(Se,G,ee)}}return ee.valid},T=()=>{for(const $ of l.unMount){const G=ye(r,$);G&&(G._f.refs?G._f.refs.every(ee=>!zg(ee)):!zg(G._f.ref))&&ze($)}l.unMount=new Set},A=($,G)=>!e.disabled&&($&&G&&dt(a,$,G),!qi(B(),i)),L=($,G,ee)=>OE($,l,{...o.mount?a:Ut(G)?i:bs($)?{[$]:G}:G},ee,G),H=$=>fp(ye(o.mount?a:i,$,e.shouldUnregister?ye(i,$,[]):[])),V=($,G,ee={})=>{const ve=ye(r,$);let he=G;if(ve){const ce=ve._f;ce&&(!ce.disabled&&dt(a,$,zE(G,ce)),he=jm(ce.ref)&&Dn(G)?"":G,FE(ce.ref)?[...ce.ref.options].forEach(Se=>Se.selected=he.includes(Se.value)):ce.refs?Xu(ce.ref)?ce.refs.length>1?ce.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(he)?!!he.find(Z=>Z===Se.value):he===Se.value)):ce.refs[0]&&(ce.refs[0].checked=!!he):ce.refs.forEach(Se=>Se.checked=Se.value===he):Bw(ce.ref)?ce.ref.value="":(ce.ref.value=he,ce.ref.type||m.state.next({name:$,values:hn(a)})))}(ee.shouldDirty||ee.shouldTouch)&&E($,he,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&X($)},z=($,G,ee)=>{for(const ve in G){const he=G[ve],ce=`${$}.${ve}`,Se=ye(r,ce);(l.array.has($)||zt(he)||Se&&!Se._f)&&!so(he)?z(ce,he,ee):V(ce,he,ee)}},F=($,G,ee={})=>{const ve=ye(r,$),he=l.array.has($),ce=hn(G);dt(a,$,ce),he?(m.array.next({name:$,values:hn(a)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ee.shouldDirty&&m.state.next({name:$,dirtyFields:cd(i,a),isDirty:A($,ce)})):ve&&!ve._f&&!Dn(ce)?z($,ce,ee):V($,ce,ee),x1($,l)&&m.state.next({...n}),m.state.next({name:o.mount?$:void 0,values:hn(a)})},W=async $=>{o.mount=!0;const G=$.target;let ee=G.name,ve=!0;const he=ye(r,ee),ce=Se=>{ve=Number.isNaN(Se)||so(Se)&&isNaN(Se.getTime())||qi(Se,ye(a,ee,Se))};if(he){let Se,Z;const Ie=G.type?m1(he._f):AE($),jt=$.type===wm.BLUR||$.type===wm.FOCUS_OUT,wn=!zU(he._f)&&!e.resolver&&!ye(n.errors,ee)&&!he._f.deps||HU(jt,ye(n.touchedFields,ee),n.isSubmitted,_,v),jn=x1(ee,l,jt);dt(a,ee,Ie),jt?(he._f.onBlur&&he._f.onBlur($),c&&c(0)):he._f.onChange&&he._f.onChange($);const Cr=E(ee,Ie,jt),Fc=!An(Cr)||jn;if(!jt&&m.state.next({name:ee,type:$.type,values:hn(a)}),wn)return(f.isValid||h.isValid)&&(e.mode==="onBlur"?jt&&j():jt||j()),Fc&&m.state.next({name:ee,...jn?{}:Cr});if(!jt&&jn&&m.state.next({...n}),e.resolver){const{errors:Ws}=await S([ee]);if(ce(Ie),ve){const ch=v1(n.errors,r,ee),Qo=v1(Ws,r,ch.name||ee);Se=Qo.error,ee=Qo.name,Z=An(Ws)}}else y([ee],!0),Se=(await w1(he,l.disabled,a,g,e.shouldUseNativeValidation))[ee],y([ee]),ce(Ie),ve&&(Se?Z=!1:(f.isValid||h.isValid)&&(Z=await N(r,!0)));ve&&(he._f.deps&&X(he._f.deps),b(ee,Z,Se,Cr))}},Q=($,G)=>{if(ye(n.errors,G)&&$.focus)return $.focus(),1},X=async($,G={})=>{let ee,ve;const he=Ud($);if(e.resolver){const ce=await R(Ut($)?$:he);ee=An(ce),ve=$?!he.some(Se=>ye(ce,Se)):ee}else $?(ve=(await Promise.all(he.map(async ce=>{const Se=ye(r,ce);return await N(Se&&Se._f?{[ce]:Se}:Se)}))).every(Boolean),!(!ve&&!n.isValid)&&j()):ve=ee=await N(r);return m.state.next({...!bs($)||(f.isValid||h.isValid)&&ee!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:ee}:{},errors:n.errors}),G.shouldFocus&&!ve&&Vd(r,Q,$?he:l.mount),ve},B=$=>{const G={...o.mount?a:i};return Ut($)?G:bs($)?ye(G,$):$.map(ee=>ye(G,ee))},me=($,G)=>({invalid:!!ye((G||n).errors,$),isDirty:!!ye((G||n).dirtyFields,$),error:ye((G||n).errors,$),isValidating:!!ye(n.validatingFields,$),isTouched:!!ye((G||n).touchedFields,$)}),ue=$=>{$&&Ud($).forEach(G=>Gt(n.errors,G)),m.state.next({errors:$?n.errors:{}})},ot=($,G,ee)=>{const ve=(ye(r,$,{_f:{}})._f||{}).ref,he=ye(n.errors,$)||{},{ref:ce,message:Se,type:Z,...Ie}=he;dt(n.errors,$,{...Ie,...G,ref:ve}),m.state.next({name:$,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&ve&&ve.focus&&ve.focus()},Me=($,G)=>Or($)?m.state.subscribe({next:ee=>$(L(void 0,G),ee)}):L($,G,!0),_e=$=>m.state.subscribe({next:G=>{WU($.name,G.name,$.exact)&&BU(G,$.formState||f,vt,$.reRenderRoot)&&$.callback({values:{...a},...n,...G})}}).unsubscribe,Ue=$=>(o.mount=!0,h={...h,...$.formState},_e({...$,formState:h})),ze=($,G={})=>{for(const ee of $?Ud($):l.mount)l.mount.delete(ee),l.array.delete(ee),G.keepValue||(Gt(r,ee),Gt(a,ee)),!G.keepError&&Gt(n.errors,ee),!G.keepDirty&&Gt(n.dirtyFields,ee),!G.keepTouched&&Gt(n.touchedFields,ee),!G.keepIsValidating&&Gt(n.validatingFields,ee),!e.shouldUnregister&&!G.keepDefaultValue&&Gt(i,ee);m.state.next({values:hn(a)}),m.state.next({...n,...G.keepDirty?{isDirty:A()}:{}}),!G.keepIsValid&&j()},q=({disabled:$,name:G})=>{(nr($)&&o.mount||$||l.disabled.has(G))&&($?l.disabled.add(G):l.disabled.delete(G))},we=($,G={})=>{let ee=ye(r,$);const ve=nr(G.disabled)||nr(e.disabled);return dt(r,$,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:$}},name:$,mount:!0,...G}}),l.mount.add($),ee?q({disabled:nr(G.disabled)?G.disabled:e.disabled,name:$}):O($,!0,G.value),{...ve?{disabled:G.disabled||e.disabled}:{},...e.progressive?{required:!!G.required,min:dd(G.min),max:dd(G.max),minLength:dd(G.minLength),maxLength:dd(G.maxLength),pattern:dd(G.pattern)}:{},name:$,onChange:W,onBlur:W,ref:he=>{if(he){we($,G),ee=ye(r,$);const ce=Ut(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Se=LU(ce),Z=ee._f.refs||[];if(Se?Z.find(Ie=>Ie===ce):ce===ee._f.ref)return;dt(r,$,{_f:{...ee._f,...Se?{refs:[...Z.filter(zg),ce,...Array.isArray(ye(i,$))?[{}]:[]],ref:{type:ce.type,name:$}}:{ref:ce}}}),O($,!1,void 0,ce)}else ee=ye(r,$,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(IE(l.array,$)&&o.action)&&l.unMount.add($)}}},Te=()=>e.shouldFocusError&&Vd(r,Q,l.mount),Be=$=>{nr($)&&(m.state.next({disabled:$}),Vd(r,(G,ee)=>{const ve=ye(r,ee);ve&&(G.disabled=ve._f.disabled||$,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(he=>{he.disabled=ve._f.disabled||$}))},0,!1))},wt=($,G)=>async ee=>{let ve;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let he=hn(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:Se}=await S();n.errors=ce,he=Se}else await N(r);if(l.disabled.size)for(const ce of l.disabled)dt(he,ce,void 0);if(Gt(n.errors,"root"),An(n.errors)){m.state.next({errors:{}});try{await $(he,ee)}catch(ce){ve=ce}}else G&&await G({...n.errors},ee),Te(),setTimeout(Te);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:An(n.errors)&&!ve,submitCount:n.submitCount+1,errors:n.errors}),ve)throw ve},xt=($,G={})=>{ye(r,$)&&(Ut(G.defaultValue)?F($,hn(ye(i,$))):(F($,G.defaultValue),dt(i,$,hn(G.defaultValue))),G.keepTouched||Gt(n.touchedFields,$),G.keepDirty||(Gt(n.dirtyFields,$),n.isDirty=G.defaultValue?A($,hn(ye(i,$))):A()),G.keepError||(Gt(n.errors,$),f.isValid&&j()),m.state.next({...n}))},dn=($,G={})=>{const ee=$?hn($):i,ve=hn(ee),he=An($),ce=he?i:ve;if(G.keepDefaultValues||(i=ee),!G.keepValues){if(G.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(cd(i,a))]);for(const Z of Array.from(Se))ye(n.dirtyFields,Z)?dt(ce,Z,ye(a,Z)):F(Z,ye(ce,Z))}else{if(Vw&&Ut($))for(const Se of l.mount){const Z=ye(r,Se);if(Z&&Z._f){const Ie=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(jm(Ie)){const jt=Ie.closest("form");if(jt){jt.reset();break}}}}for(const Se of l.mount)F(Se,ye(ce,Se))}a=hn(ce),m.array.next({values:{...ce}}),m.state.next({values:{...ce}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:he?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!qi($,i)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:G.keepDirtyValues?G.keepDefaultValues&&a?cd(i,a):n.dirtyFields:G.keepDefaultValues&&$?cd(i,$):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},un=($,G)=>dn(Or($)?$(a):$,G),is=($,G={})=>{const ee=ye(r,$),ve=ee&&ee._f;if(ve){const he=ve.refs?ve.refs[0]:ve.ref;he.focus&&(he.focus(),G.shouldSelect&&Or(he.select)&&he.select())}},vt=$=>{n={...n,...$}},Bs={control:{register:we,unregister:ze,getFieldState:me,handleSubmit:wt,setError:ot,_subscribe:_e,_runSchema:S,_getWatch:L,_getDirty:A,_setValid:j,_setFieldArray:x,_setDisabledField:q,_setErrors:D,_getFieldArray:H,_reset:dn,_resetDefaultValues:()=>Or(e.defaultValues)&&e.defaultValues().then($=>{un($,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Be,_subjects:m,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return l},set _names($){l=$},get _formState(){return n},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ue,trigger:X,register:we,handleSubmit:wt,watch:Me,setValue:F,getValues:B,reset:un,resetField:xt,clearErrors:ue,unregister:ze,setError:ot,setFocus:is,getFieldState:me};return{...Bs,formControl:Bs}}function QU(t={}){const e=We.useRef(void 0),n=We.useRef(void 0),[r,i]=We.useState({isDirty:!1,isValidating:!1,isLoading:Or(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Or(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:YU(t),formState:r},t.formControl&&t.defaultValues&&!Or(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,We.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),We.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),We.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),We.useEffect(()=>{t.values&&!qi(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),We.useEffect(()=>{t.errors&&!An(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),We.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),We.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=ME(r,a),e.current}const j1=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ye(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},WE=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?j1(r.ref,n,t):r.refs&&r.refs.forEach(i=>j1(i,n,t))}},ZU=(t,e)=>{e.shouldUseNativeValidation&&WE(t,e);const n={};for(const r in t){const i=ye(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(XU(e.names||Object.keys(t),r)){const o=Object.assign({},ye(n,r));dt(o,"root",a),dt(n,r,o)}else dt(n,r,a)}return n},XU=(t,e)=>t.some(n=>n.startsWith(e+"."));var JU=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=LE(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},eV=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&WE({},a),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:ZU(JU(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const se=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));se.displayName="Card";const oe=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));oe.displayName="CardHeader";const de=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));de.displayName="CardTitle";const De=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));De.displayName="CardDescription";const ie=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));ie.displayName="CardContent";const tV=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));tV.displayName="CardFooter";const ku=Vu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?WC:"button";return s.jsx(o,{className:xe(ku({variant:e,size:n,className:t})),ref:a,...i})});J.displayName="Button";const je=p.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));je.displayName="Input";var nV="Label",HE=p.forwardRef((t,e)=>s.jsx(Ae.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HE.displayName=nV;var qE=HE;const rV=Vu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ge=p.forwardRef(({className:t,...e},n)=>s.jsx(qE,{ref:n,className:xe(rV(),t),...e}));ge.displayName=qE.displayName;const sV=IU,KE=p.createContext({}),nl=({...t})=>s.jsx(KE.Provider,{value:{name:t.name},children:s.jsx(OU,{...t})}),pp=()=>{const t=p.useContext(KE),e=p.useContext(GE),{getFieldState:n,formState:r}=mp(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},GE=p.createContext({}),Ka=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return s.jsx(GE.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:xe("space-y-2",t),...e})})});Ka.displayName="FormItem";const iV=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=pp();return s.jsx(ge,{ref:n,className:xe(r&&"text-destructive",t),htmlFor:i,...e})});iV.displayName="FormLabel";const Ga=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=pp();return s.jsx(WC,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});Ga.displayName="FormControl";const aV=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=pp();return s.jsx("p",{ref:n,id:r,className:xe("text-sm text-muted-foreground",t),...e})});aV.displayName="FormDescription";const Ya=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=pp(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:xe("text-sm font-medium text-destructive",t),...n,children:o}):null});Ya.displayName="FormMessage";function b1(t,[e,n]){return Math.min(n,Math.max(e,t))}var oV=p.createContext(void 0);function gp(t){const e=p.useContext(oV);return t||e||"ltr"}var Bg=0;function xp(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??N1()),document.body.insertAdjacentElement("beforeend",t[1]??N1()),Bg++,()=>{Bg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bg--}},[])}function N1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wg="focusScope.autoFocusOnMount",Hg="focusScope.autoFocusOnUnmount",_1={bubbles:!1,cancelable:!0},lV="FocusScope",Ju=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),d=vn(i),f=vn(a),h=p.useRef(null),m=tt(e,g=>c(g)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(x){if(v.paused||!l)return;const P=x.target;l.contains(P)?h.current=P:Fi(h.current,{select:!0})},C=function(x){if(v.paused||!l)return;const P=x.relatedTarget;P!==null&&(l.contains(P)||Fi(h.current,{select:!0}))},j=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&Fi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",C);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",C),y.disconnect()}}},[r,l,v.paused]),p.useEffect(()=>{if(l){C1.add(v);const g=document.activeElement;if(!l.contains(g)){const j=new CustomEvent(Wg,_1);l.addEventListener(Wg,d),l.dispatchEvent(j),j.defaultPrevented||(cV(mV(YE(l)),{select:!0}),document.activeElement===g&&Fi(l))}return()=>{l.removeEventListener(Wg,d),setTimeout(()=>{const j=new CustomEvent(Hg,_1);l.addEventListener(Hg,f),l.dispatchEvent(j),j.defaultPrevented||Fi(g??document.body,{select:!0}),l.removeEventListener(Hg,f),C1.remove(v)},0)}}},[l,d,f,v]);const _=p.useCallback(g=>{if(!n&&!r||v.paused)return;const C=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,j=document.activeElement;if(C&&j){const y=g.currentTarget,[x,P]=dV(y);x&&P?!g.shiftKey&&j===P?(g.preventDefault(),n&&Fi(x,{select:!0})):g.shiftKey&&j===x&&(g.preventDefault(),n&&Fi(P,{select:!0})):j===y&&g.preventDefault()}},[n,r,v.paused]);return s.jsx(Ae.div,{tabIndex:-1,...o,ref:m,onKeyDown:_})});Ju.displayName=lV;function cV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Fi(r,{select:e}),document.activeElement!==n)return}function dV(t){const e=YE(t),n=S1(e,t),r=S1(e.reverse(),t);return[n,r]}function YE(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function S1(t,e){for(const n of t)if(!uV(n,{upTo:e}))return n}function uV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hV(t){return t instanceof HTMLInputElement&&"select"in t}function Fi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&hV(t)&&e&&t.select()}}var C1=fV();function fV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=k1(t,e),t.unshift(e)},remove(e){var n;t=k1(t,e),(n=t[0])==null||n.resume()}}}function k1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function mV(t){return t.filter(e=>e.tagName!=="A")}function QE(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rl=new WeakMap,qh=new WeakMap,Kh={},qg=0,ZE=function(t){return t&&(t.host||ZE(t.parentNode))},gV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ZE(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xV=function(t,e,n,r){var i=gV(e,Array.isArray(t)?t:[t]);Kh[n]||(Kh[n]=new WeakMap);var a=Kh[n],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))f(m);else try{var v=m.getAttribute(r),_=v!==null&&v!=="false",g=(rl.get(m)||0)+1,C=(a.get(m)||0)+1;rl.set(m,g),a.set(m,C),o.push(m),g===1&&_&&qh.set(m,!0),C===1&&m.setAttribute(n,"true"),_||m.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return f(e),l.clear(),qg++,function(){o.forEach(function(h){var m=rl.get(h)-1,v=a.get(h)-1;rl.set(h,m),a.set(h,v),m||(qh.has(h)||h.removeAttribute(r),qh.delete(h)),v||h.removeAttribute(n)}),qg--,qg||(rl=new WeakMap,rl=new WeakMap,qh=new WeakMap,Kh={})}},vp=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=pV(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),xV(r,i,n,"aria-hidden")):function(){return null}},xs=function(){return xs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xs.apply(this,arguments)};function XE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var yf="right-scroll-bar-position",wf="width-before-scroll-bar",yV="with-scroll-bars-hidden",wV="--removed-body-scroll-bar-size";function Kg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jV(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bV=typeof window<"u"?p.useLayoutEffect:p.useEffect,E1=new WeakMap;function NV(t,e){var n=jV(null,function(r){return t.forEach(function(i){return Kg(i,r)})});return bV(function(){var r=E1.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||Kg(l,null)}),a.forEach(function(l){i.has(l)||Kg(l,o)})}E1.set(n,t)},[t]),n}function _V(t){return t}function SV(t,e){e===void 0&&(e=_V);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return i}function CV(t){t===void 0&&(t={});var e=SV(null);return e.options=xs({async:!0,ssr:!1},t),e}var JE=function(t){var e=t.sideCar,n=XE(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,xs({},n))};JE.isSideCarExport=!0;function kV(t,e){return t.useMedium(e),JE}var eT=CV(),Gg=function(){},yp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Gg,onWheelCapture:Gg,onTouchMoveCapture:Gg}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,v=t.noIsolation,_=t.inert,g=t.allowPinchZoom,C=t.as,j=C===void 0?"div":C,y=t.gapMode,x=XE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,D=NV([n,e]),O=xs(xs({},x),i);return p.createElement(p.Fragment,null,f&&p.createElement(P,{sideCar:eT,removeScrollBar:d,shards:h,noIsolation:v,inert:_,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?p.cloneElement(p.Children.only(l),xs(xs({},O),{ref:D})):p.createElement(j,xs({},O,{className:c,ref:D}),l))});yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yp.classNames={fullWidth:wf,zeroRight:yf};var EV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EV();return e&&t.setAttribute("nonce",e),t}function PV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var IV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=TV())&&(PV(e,n),AV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RV=function(){var t=IV();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tT=function(){var t=RV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},DV={left:0,top:0,right:0,gap:0},Yg=function(t){return parseInt(t||"",10)||0},MV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Yg(n),Yg(r),Yg(i)]},OV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return DV;var e=MV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},LV=tT(),$l="data-scroll-locked",FV=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat($l,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($l,`] {
    `).concat(wV,": ").concat(l,`px;
  }
`)},T1=function(){var t=parseInt(document.body.getAttribute($l)||"0",10);return isFinite(t)?t:0},$V=function(){p.useEffect(function(){return document.body.setAttribute($l,(T1()+1).toString()),function(){var t=T1()-1;t<=0?document.body.removeAttribute($l):document.body.setAttribute($l,t.toString())}},[])},UV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;$V();var a=p.useMemo(function(){return OV(i)},[i]);return p.createElement(LV,{styles:FV(a,!e,i,n?"":"!important")})},Fv=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return Fv=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{Fv=!1}var sl=Fv?{passive:!1}:!1,VV=function(t){return t.tagName==="TEXTAREA"},nT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VV(t)&&n[e]==="visible")},zV=function(t){return nT(t,"overflowY")},BV=function(t){return nT(t,"overflowX")},P1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=rT(t,r);if(i){var a=sT(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rT=function(t,e){return t==="v"?zV(e):BV(e)},sT=function(t,e){return t==="v"?WV(e):HV(e)},qV=function(t,e){return t==="h"&&e==="rtl"?-1:1},KV=function(t,e,n,r,i){var a=qV(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),d=!1,f=o>0,h=0,m=0;do{var v=sT(t,l),_=v[0],g=v[1],C=v[2],j=g-C-a*_;(_||j)&&rT(t,l)&&(h+=j,m+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&(Math.abs(h)<1||!i)||!f&&(Math.abs(m)<1||!i))&&(d=!0),d},Yh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},A1=function(t){return[t.deltaX,t.deltaY]},I1=function(t){return t&&"current"in t?t.current:t},GV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},QV=0,il=[];function ZV(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(QV++)[0],a=p.useState(tT)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=vV([t.lockRef.current],(t.shards||[]).map(I1),!0).filter(Boolean);return g.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,C){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var j=Yh(g),y=n.current,x="deltaX"in g?g.deltaX:y[0]-j[0],P="deltaY"in g?g.deltaY:y[1]-j[1],D,O=g.target,E=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in g&&E==="h"&&O.type==="range")return!1;var b=P1(E,O);if(!b)return!0;if(b?D=E:(D=E==="v"?"h":"v",b=P1(E,O)),!b)return!1;if(!r.current&&"changedTouches"in g&&(x||P)&&(r.current=D),!D)return!0;var S=r.current||D;return KV(S,C,g,S==="h"?x:P,!0)},[]),c=p.useCallback(function(g){var C=g;if(!(!il.length||il[il.length-1]!==a)){var j="deltaY"in C?A1(C):Yh(C),y=e.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&GV(D.delta,j)})[0];if(y&&y.should){C.cancelable&&C.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(I1).filter(Boolean).filter(function(D){return D.contains(C.target)}),P=x.length>0?l(C,x[0]):!o.current.noIsolation;P&&C.cancelable&&C.preventDefault()}}},[]),d=p.useCallback(function(g,C,j,y){var x={name:g,delta:C,target:j,should:y,shadowParent:XV(j)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(P){return P!==x})},1)},[]),f=p.useCallback(function(g){n.current=Yh(g),r.current=void 0},[]),h=p.useCallback(function(g){d(g.type,A1(g),g.target,l(g,t.lockRef.current))},[]),m=p.useCallback(function(g){d(g.type,Yh(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return il.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,sl),document.addEventListener("touchmove",c,sl),document.addEventListener("touchstart",f,sl),function(){il=il.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,sl),document.removeEventListener("touchmove",c,sl),document.removeEventListener("touchstart",f,sl)}},[]);var v=t.removeScrollBar,_=t.inert;return p.createElement(p.Fragment,null,_?p.createElement(a,{styles:YV(i)}):null,v?p.createElement(UV,{gapMode:t.gapMode}):null)}function XV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const JV=kV(eT,ZV);var eh=p.forwardRef(function(t,e){return p.createElement(yp,xs({},t,{ref:e,sideCar:JV}))});eh.classNames=yp.classNames;var e7=[" ","Enter","ArrowUp","ArrowDown"],t7=[" ","Enter"],th="Select",[wp,jp,n7]=Ym(th),[Lc,EK]=Jn(th,[n7,Da]),bp=Da(),[r7,Oa]=Lc(th),[s7,i7]=Lc(th),iT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:h,disabled:m,required:v,form:_}=t,g=bp(e),[C,j]=p.useState(null),[y,x]=p.useState(null),[P,D]=p.useState(!1),O=gp(d),[E=!1,b]=mi({prop:r,defaultProp:i,onChange:a}),[S,R]=mi({prop:o,defaultProp:l,onChange:c}),N=p.useRef(null),T=C?_||!!C.closest("form"):!0,[A,L]=p.useState(new Set),H=Array.from(A).map(V=>V.props.value).join(";");return s.jsx(gw,{...g,children:s.jsxs(r7,{required:v,scope:e,trigger:C,onTriggerChange:j,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:qr(),value:S,onValueChange:R,open:E,onOpenChange:b,dir:O,triggerPointerDownPosRef:N,disabled:m,children:[s.jsx(wp.Provider,{scope:e,children:s.jsx(s7,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(V=>{L(z=>new Set(z).add(V))},[]),onNativeOptionRemove:p.useCallback(V=>{L(z=>{const F=new Set(z);return F.delete(V),F})},[]),children:n})}),T?s.jsxs(PT,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:h,value:S,onChange:V=>R(V.target.value),disabled:m,form:_,children:[S===void 0?s.jsx("option",{value:""}):null,Array.from(A)]},H):null]})})};iT.displayName=th;var aT="SelectTrigger",oT=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=bp(n),o=Oa(aT,n),l=o.disabled||r,c=tt(e,o.onTriggerChange),d=jp(n),f=p.useRef("touch"),[h,m,v]=AT(g=>{const C=d().filter(x=>!x.disabled),j=C.find(x=>x.value===o.value),y=IT(C,g,j);y!==void 0&&o.onValueChange(y.value)}),_=g=>{l||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Bu,{asChild:!0,...a,children:s.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TT(o.value)?"":void 0,...i,ref:c,onClick:fe(i.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&_(g)}),onPointerDown:fe(i.onPointerDown,g=>{f.current=g.pointerType;const C=g.target;C.hasPointerCapture(g.pointerId)&&C.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(_(g),g.preventDefault())}),onKeyDown:fe(i.onKeyDown,g=>{const C=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(C&&g.key===" ")&&e7.includes(g.key)&&(_(),g.preventDefault())})})})});oT.displayName=aT;var lT="SelectValue",cT=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=Oa(lT,n),{onValueNodeHasChildrenChange:d}=c,f=a!==void 0,h=tt(e,c.onValueNodeChange);return tn(()=>{d(f)},[d,f]),s.jsx(Ae.span,{...l,ref:h,style:{pointerEvents:"none"},children:TT(c.value)?s.jsx(s.Fragment,{children:o}):a})});cT.displayName=lT;var a7="SelectIcon",dT=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Ae.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});dT.displayName=a7;var o7="SelectPortal",uT=t=>s.jsx(kc,{asChild:!0,...t});uT.displayName=o7;var Io="SelectContent",hT=p.forwardRef((t,e)=>{const n=Oa(Io,t.__scopeSelect),[r,i]=p.useState();if(tn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Vo.createPortal(s.jsx(fT,{scope:t.__scopeSelect,children:s.jsx(wp.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(mT,{...t,ref:e})});hT.displayName=Io;var Er=10,[fT,La]=Lc(Io),l7="SelectContentImpl",c7=ya("SelectContent.RemoveScroll"),mT=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:C,...j}=t,y=Oa(Io,n),[x,P]=p.useState(null),[D,O]=p.useState(null),E=tt(e,_e=>P(_e)),[b,S]=p.useState(null),[R,N]=p.useState(null),T=jp(n),[A,L]=p.useState(!1),H=p.useRef(!1);p.useEffect(()=>{if(x)return vp(x)},[x]),xp();const V=p.useCallback(_e=>{const[Ue,...ze]=T().map(Te=>Te.ref.current),[q]=ze.slice(-1),we=document.activeElement;for(const Te of _e)if(Te===we||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Ue&&D&&(D.scrollTop=0),Te===q&&D&&(D.scrollTop=D.scrollHeight),Te==null||Te.focus(),document.activeElement!==we))return},[T,D]),z=p.useCallback(()=>V([b,x]),[V,b,x]);p.useEffect(()=>{A&&z()},[A,z]);const{onOpenChange:F,triggerPointerDownPosRef:W}=y;p.useEffect(()=>{if(x){let _e={x:0,y:0};const Ue=q=>{var we,Te;_e={x:Math.abs(Math.round(q.pageX)-(((we=W.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(q.pageY)-(((Te=W.current)==null?void 0:Te.y)??0))}},ze=q=>{_e.x<=10&&_e.y<=10?q.preventDefault():x.contains(q.target)||F(!1),document.removeEventListener("pointermove",Ue),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",ze,{capture:!0})}}},[x,F,W]),p.useEffect(()=>{const _e=()=>F(!1);return window.addEventListener("blur",_e),window.addEventListener("resize",_e),()=>{window.removeEventListener("blur",_e),window.removeEventListener("resize",_e)}},[F]);const[Q,X]=AT(_e=>{const Ue=T().filter(we=>!we.disabled),ze=Ue.find(we=>we.ref.current===document.activeElement),q=IT(Ue,_e,ze);q&&setTimeout(()=>q.ref.current.focus())}),B=p.useCallback((_e,Ue,ze)=>{const q=!H.current&&!ze;(y.value!==void 0&&y.value===Ue||q)&&(S(_e),q&&(H.current=!0))},[y.value]),me=p.useCallback(()=>x==null?void 0:x.focus(),[x]),ue=p.useCallback((_e,Ue,ze)=>{const q=!H.current&&!ze;(y.value!==void 0&&y.value===Ue||q)&&N(_e)},[y.value]),ot=r==="popper"?$v:pT,Me=ot===$v?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:_,hideWhenDetached:g,avoidCollisions:C}:{};return s.jsx(fT,{scope:n,content:x,viewport:D,onViewportChange:O,itemRefCallback:B,selectedItem:b,onItemLeave:me,itemTextRefCallback:ue,focusSelectedItem:z,selectedItemText:R,position:r,isPositioned:A,searchRef:Q,children:s.jsx(eh,{as:c7,allowPinchZoom:!0,children:s.jsx(Ju,{asChild:!0,trapped:y.open,onMountAutoFocus:_e=>{_e.preventDefault()},onUnmountAutoFocus:fe(i,_e=>{var Ue;(Ue=y.trigger)==null||Ue.focus({preventScroll:!0}),_e.preventDefault()}),children:s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:_e=>_e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(ot,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:_e=>_e.preventDefault(),...j,...Me,onPlaced:()=>L(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:fe(j.onKeyDown,_e=>{const Ue=_e.ctrlKey||_e.altKey||_e.metaKey;if(_e.key==="Tab"&&_e.preventDefault(),!Ue&&_e.key.length===1&&X(_e.key),["ArrowUp","ArrowDown","Home","End"].includes(_e.key)){let q=T().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(_e.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(_e.key)){const we=_e.target,Te=q.indexOf(we);q=q.slice(Te+1)}setTimeout(()=>V(q)),_e.preventDefault()}})})})})})})});mT.displayName=l7;var d7="SelectItemAlignedPosition",pT=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=Oa(Io,n),o=La(Io,n),[l,c]=p.useState(null),[d,f]=p.useState(null),h=tt(e,E=>f(E)),m=jp(n),v=p.useRef(!1),_=p.useRef(!0),{viewport:g,selectedItem:C,selectedItemText:j,focusSelectedItem:y}=o,x=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&C&&j){const E=a.trigger.getBoundingClientRect(),b=d.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),R=j.getBoundingClientRect();if(a.dir!=="rtl"){const we=R.left-b.left,Te=S.left-we,Be=E.left-Te,wt=E.width+Be,xt=Math.max(wt,b.width),dn=window.innerWidth-Er,un=b1(Te,[Er,Math.max(Er,dn-xt)]);l.style.minWidth=wt+"px",l.style.left=un+"px"}else{const we=b.right-R.right,Te=window.innerWidth-S.right-we,Be=window.innerWidth-E.right-Te,wt=E.width+Be,xt=Math.max(wt,b.width),dn=window.innerWidth-Er,un=b1(Te,[Er,Math.max(Er,dn-xt)]);l.style.minWidth=wt+"px",l.style.right=un+"px"}const N=m(),T=window.innerHeight-Er*2,A=g.scrollHeight,L=window.getComputedStyle(d),H=parseInt(L.borderTopWidth,10),V=parseInt(L.paddingTop,10),z=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),W=H+V+A+F+z,Q=Math.min(C.offsetHeight*5,W),X=window.getComputedStyle(g),B=parseInt(X.paddingTop,10),me=parseInt(X.paddingBottom,10),ue=E.top+E.height/2-Er,ot=T-ue,Me=C.offsetHeight/2,_e=C.offsetTop+Me,Ue=H+V+_e,ze=W-Ue;if(Ue<=ue){const we=N.length>0&&C===N[N.length-1].ref.current;l.style.bottom="0px";const Te=d.clientHeight-g.offsetTop-g.offsetHeight,Be=Math.max(ot,Me+(we?me:0)+Te+z),wt=Ue+Be;l.style.height=wt+"px"}else{const we=N.length>0&&C===N[0].ref.current;l.style.top="0px";const Be=Math.max(ue,H+g.offsetTop+(we?B:0)+Me)+ze;l.style.height=Be+"px",g.scrollTop=Ue-ue+g.offsetTop}l.style.margin=`${Er}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,a.trigger,a.valueNode,l,d,g,C,j,a.dir,r]);tn(()=>x(),[x]);const[P,D]=p.useState();tn(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=p.useCallback(E=>{E&&_.current===!0&&(x(),y==null||y(),_.current=!1)},[x,y]);return s.jsx(h7,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(Ae.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pT.displayName=d7;var u7="SelectPopperPosition",$v=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Er,...a}=t,o=bp(n);return s.jsx(np,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$v.displayName=u7;var[h7,Hw]=Lc(Io,{}),Uv="SelectViewport",gT=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=La(Uv,n),o=Hw(Uv,n),l=tt(e,a.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(wp.Slot,{scope:n,children:s.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const v=Math.abs(c.current-f.scrollTop);if(v>0){const _=window.innerHeight-Er*2,g=parseFloat(h.style.minHeight),C=parseFloat(h.style.height),j=Math.max(g,C);if(j<_){const y=j+v,x=Math.min(_,y),P=y-x;h.style.height=x+"px",h.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});gT.displayName=Uv;var xT="SelectGroup",[f7,m7]=Lc(xT),p7=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qr();return s.jsx(f7,{scope:n,id:i,children:s.jsx(Ae.div,{role:"group","aria-labelledby":i,...r,ref:e})})});p7.displayName=xT;var vT="SelectLabel",yT=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=m7(vT,n);return s.jsx(Ae.div,{id:i.id,...r,ref:e})});yT.displayName=vT;var _m="SelectItem",[g7,wT]=Lc(_m),jT=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=Oa(_m,n),c=La(_m,n),d=l.value===r,[f,h]=p.useState(a??""),[m,v]=p.useState(!1),_=tt(e,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,r,i)}),g=qr(),C=p.useRef("touch"),j=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(g7,{scope:n,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:p.useCallback(y=>{h(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(wp.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:s.jsx(Ae.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:fe(o.onFocus,()=>v(!0)),onBlur:fe(o.onBlur,()=>v(!1)),onClick:fe(o.onClick,()=>{C.current!=="mouse"&&j()}),onPointerUp:fe(o.onPointerUp,()=>{C.current==="mouse"&&j()}),onPointerDown:fe(o.onPointerDown,y=>{C.current=y.pointerType}),onPointerMove:fe(o.onPointerMove,y=>{var x;C.current=y.pointerType,i?(x=c.onItemLeave)==null||x.call(c):C.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:fe(o.onKeyDown,y=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&y.key===" "||(t7.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});jT.displayName=_m;var wd="SelectItemText",bT=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=Oa(wd,n),l=La(wd,n),c=wT(wd,n),d=i7(wd,n),[f,h]=p.useState(null),m=tt(e,j=>h(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),v=f==null?void 0:f.textContent,_=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:C}=d;return tn(()=>(g(_),()=>C(_)),[g,C,_]),s.jsxs(s.Fragment,{children:[s.jsx(Ae.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vo.createPortal(a.children,o.valueNode):null]})});bT.displayName=wd;var NT="SelectItemIndicator",_T=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return wT(NT,n).isSelected?s.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});_T.displayName=NT;var Vv="SelectScrollUpButton",ST=p.forwardRef((t,e)=>{const n=La(Vv,t.__scopeSelect),r=Hw(Vv,t.__scopeSelect),[i,a]=p.useState(!1),o=tt(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(kT,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ST.displayName=Vv;var zv="SelectScrollDownButton",CT=p.forwardRef((t,e)=>{const n=La(zv,t.__scopeSelect),r=Hw(zv,t.__scopeSelect),[i,a]=p.useState(!1),o=tt(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(kT,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});CT.displayName=zv;var kT=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=La("SelectScrollButton",n),o=p.useRef(null),l=jp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),tn(()=>{var f;const d=l().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ae.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:fe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{c()})})}),x7="SelectSeparator",ET=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});ET.displayName=x7;var Bv="SelectArrow",v7=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=bp(n),a=Oa(Bv,n),o=La(Bv,n);return a.open&&o.position==="popper"?s.jsx(rp,{...i,...r,ref:e}):null});v7.displayName=Bv;function TT(t){return t===""||t===void 0}var PT=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=p.useRef(null),a=tt(e,i),o=QE(n);return p.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(Uu,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});PT.displayName="BubbleSelect";function AT(t){const e=vn(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function IT(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=y7(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function y7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var w7=iT,RT=oT,j7=cT,b7=dT,N7=uT,DT=hT,_7=gT,MT=yT,OT=jT,S7=bT,C7=_T,LT=ST,FT=CT,$T=ET;const pn=w7,gn=j7,ln=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(RT,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(b7,{asChild:!0,children:s.jsx(yk,{className:"h-4 w-4 opacity-50"})})]}));ln.displayName=RT.displayName;const UT=p.forwardRef(({className:t,...e},n)=>s.jsx(LT,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(FO,{className:"h-4 w-4"})}));UT.displayName=LT.displayName;const VT=p.forwardRef(({className:t,...e},n)=>s.jsx(FT,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(yk,{className:"h-4 w-4"})}));VT.displayName=FT.displayName;const cn=p.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(N7,{children:s.jsxs(DT,{ref:i,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(UT,{}),s.jsx(_7,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(VT,{})]})}));cn.displayName=DT.displayName;const k7=p.forwardRef(({className:t,...e},n)=>s.jsx(MT,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));k7.displayName=MT.displayName;const re=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(OT,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(C7,{children:s.jsx(vk,{className:"h-4 w-4"})})}),s.jsx(S7,{children:e})]}));re.displayName=OT.displayName;const E7=p.forwardRef(({className:t,...e},n)=>s.jsx($T,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));E7.displayName=$T.displayName;const T7=Vu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qn=p.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:xe(T7({variant:e}),t),...n}));qn.displayName="Alert";const P7=p.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:xe("mb-1 font-medium leading-none tracking-tight",t),...e}));P7.displayName="AlertTitle";const Kn=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:xe("text-sm [&_p]:leading-relaxed",t),...e}));Kn.displayName="AlertDescription";function A7({userEmail:t,socialAuthData:e,onComplete:n,isLoading:r=!1}){var h,m;const[i,a]=p.useState(""),{toast:o}=yn(),l=((h=e.displayName)==null?void 0:h.split(" ")[0])||"",c=((m=e.displayName)==null?void 0:m.split(" ").slice(1).join(" "))||"",d=QU({resolver:eV(SE),defaultValues:{firstName:l,lastName:c,userName:"",country:"",phone:"",gender:""}}),f=async v=>{try{a(""),await n(v),o({title:"Account setup complete!",description:"Welcome to your account."})}catch(_){console.error("Social auth completion failed:",_);const g=(_==null?void 0:_.message)||"Failed to complete account setup. Please try again.";a(g),o({variant:"destructive",title:"Setup failed",description:g})}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-6 md:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 overflow-hidden",children:[e.photoURL?s.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:v=>{var g;const _=v.target;_.style.display="none",(g=_.nextElementSibling)==null||g.classList.remove("hidden")}}):null,s.jsx(wk,{className:`h-8 w-8 text-primary ${e.photoURL?"hidden":""}`})]}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Just a few more details to finish setting up your account"}),s.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Signed in as: ",t]})]}),s.jsxs(se,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm","data-testid":"card-social-auth-complete",children:[s.jsx(oe,{className:"pb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Setup your profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose your unique username to complete your account"})]})}),s.jsxs(ie,{className:"space-y-6 pb-8",children:[i&&s.jsx(qn,{variant:"destructive",className:"mb-4","data-testid":"alert-submit-error",children:s.jsx(Kn,{children:i})}),s.jsx(sV,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6","data-testid":"form-social-auth-complete",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(nl,{control:d.control,name:"firstName",render:({field:v})=>s.jsxs(Ka,{children:[s.jsx(Ga,{children:s.jsxs("div",{className:"relative",children:[s.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{...v,placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-firstName"})]})}),s.jsx(Ya,{})]})}),s.jsx(nl,{control:d.control,name:"lastName",render:({field:v})=>s.jsxs(Ka,{children:[s.jsx(Ga,{children:s.jsxs("div",{className:"relative",children:[s.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{...v,placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-lastName"})]})}),s.jsx(Ya,{})]})})]}),s.jsx(nl,{control:d.control,name:"userName",render:({field:v})=>s.jsxs(Ka,{children:[s.jsx(Ga,{children:s.jsxs("div",{className:"relative",children:[s.jsx(OO,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{...v,placeholder:"Choose your unique username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-userName"})]})}),s.jsx(Ya,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(nl,{control:d.control,name:"country",render:({field:v})=>s.jsxs(Ka,{children:[s.jsxs(pn,{name:v.name,onValueChange:v.onChange,value:v.value,disabled:r,children:[s.jsx(Ga,{children:s.jsx(ln,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-country",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(WO,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(gn,{placeholder:"Select Country"})]})})}),s.jsxs(cn,{className:"max-h-60",children:[s.jsx(re,{value:"Afghanistan",children:"Afghanistan"}),s.jsx(re,{value:"Albania",children:"Albania"}),s.jsx(re,{value:"Algeria",children:"Algeria"}),s.jsx(re,{value:"Argentina",children:"Argentina"}),s.jsx(re,{value:"Australia",children:"Australia"}),s.jsx(re,{value:"Austria",children:"Austria"}),s.jsx(re,{value:"Bangladesh",children:"Bangladesh"}),s.jsx(re,{value:"Belgium",children:"Belgium"}),s.jsx(re,{value:"Brazil",children:"Brazil"}),s.jsx(re,{value:"Canada",children:"Canada"}),s.jsx(re,{value:"Chile",children:"Chile"}),s.jsx(re,{value:"China",children:"China"}),s.jsx(re,{value:"Colombia",children:"Colombia"}),s.jsx(re,{value:"Denmark",children:"Denmark"}),s.jsx(re,{value:"Egypt",children:"Egypt"}),s.jsx(re,{value:"Ethiopia",children:"Ethiopia"}),s.jsx(re,{value:"Finland",children:"Finland"}),s.jsx(re,{value:"France",children:"France"}),s.jsx(re,{value:"Germany",children:"Germany"}),s.jsx(re,{value:"Ghana",children:"Ghana"}),s.jsx(re,{value:"Greece",children:"Greece"}),s.jsx(re,{value:"India",children:"India"}),s.jsx(re,{value:"Indonesia",children:"Indonesia"}),s.jsx(re,{value:"Iran",children:"Iran"}),s.jsx(re,{value:"Iraq",children:"Iraq"}),s.jsx(re,{value:"Ireland",children:"Ireland"}),s.jsx(re,{value:"Israel",children:"Israel"}),s.jsx(re,{value:"Italy",children:"Italy"}),s.jsx(re,{value:"Japan",children:"Japan"}),s.jsx(re,{value:"Jordan",children:"Jordan"}),s.jsx(re,{value:"Kenya",children:"Kenya"}),s.jsx(re,{value:"Malaysia",children:"Malaysia"}),s.jsx(re,{value:"Mexico",children:"Mexico"}),s.jsx(re,{value:"Morocco",children:"Morocco"}),s.jsx(re,{value:"Netherlands",children:"Netherlands"}),s.jsx(re,{value:"New Zealand",children:"New Zealand"}),s.jsx(re,{value:"Nigeria",children:"Nigeria"}),s.jsx(re,{value:"Norway",children:"Norway"}),s.jsx(re,{value:"Pakistan",children:"Pakistan"}),s.jsx(re,{value:"Philippines",children:"Philippines"}),s.jsx(re,{value:"Poland",children:"Poland"}),s.jsx(re,{value:"Portugal",children:"Portugal"}),s.jsx(re,{value:"Russia",children:"Russia"}),s.jsx(re,{value:"Saudi Arabia",children:"Saudi Arabia"}),s.jsx(re,{value:"Singapore",children:"Singapore"}),s.jsx(re,{value:"South Africa",children:"South Africa"}),s.jsx(re,{value:"South Korea",children:"South Korea"}),s.jsx(re,{value:"Spain",children:"Spain"}),s.jsx(re,{value:"Sweden",children:"Sweden"}),s.jsx(re,{value:"Switzerland",children:"Switzerland"}),s.jsx(re,{value:"Thailand",children:"Thailand"}),s.jsx(re,{value:"Turkey",children:"Turkey"}),s.jsx(re,{value:"Ukraine",children:"Ukraine"}),s.jsx(re,{value:"United Arab Emirates",children:"United Arab Emirates"}),s.jsx(re,{value:"United Kingdom",children:"United Kingdom"}),s.jsx(re,{value:"United States",children:"United States"}),s.jsx(re,{value:"Venezuela",children:"Venezuela"}),s.jsx(re,{value:"Vietnam",children:"Vietnam"})]})]}),s.jsx(Ya,{})]})}),s.jsx(nl,{control:d.control,name:"phone",render:({field:v})=>s.jsxs(Ka,{children:[s.jsx(Ga,{children:s.jsxs("div",{className:"relative",children:[s.jsx(QO,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{...v,placeholder:"Phone Number (optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:r,"data-testid":"input-phone",type:"tel"})]})}),s.jsx(Ya,{})]})})]}),s.jsx(nl,{control:d.control,name:"gender",render:({field:v})=>s.jsxs(Ka,{children:[s.jsxs(pn,{onValueChange:v.onChange,defaultValue:v.value,disabled:r,children:[s.jsx(Ga,{children:s.jsx(ln,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-gender",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ks,{className:"h-4 w-4 text-muted-foreground mr-3"}),s.jsx(gn,{placeholder:"Select Gender (optional)"})]})})}),s.jsxs(cn,{children:[s.jsx(re,{value:"male",children:"Male"}),s.jsx(re,{value:"female",children:"Female"}),s.jsx(re,{value:"other",children:"Other"}),s.jsx(re,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),s.jsx(Ya,{})]})}),s.jsx(J,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium h-12 text-lg",disabled:r,"data-testid":"button-complete-setup",children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent mr-3"}),"Setting up your account..."]}):"Complete Setup"})]})})]})]})]})]})}function Qg(){const[,t]=qt(),{user:e,checkAuth:n,logout:r}=Ma(),{toast:i}=yn(),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState(!1);p.useEffect(()=>{e!=null&&e.admin&&t("/admin")},[e==null?void 0:e.admin,t]);const v=async()=>{m(!0);try{await r(),i({title:"Logged Out",description:"You can now login as an admin"}),await n()}catch(g){i({title:"Logout Failed",description:g.message||"Failed to logout",variant:"destructive"})}finally{m(!1)}};if(e&&!e.admin)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(xv,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(se,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[s.jsx(oe,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(de,{className:"text-xl font-semibold text-foreground",children:"Already Logged In"})})}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("p",{className:"text-muted-foreground",children:["You are currently logged in as ",s.jsx("span",{className:"font-medium text-foreground",children:e.email})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To access the admin portal, please logout from your current account first."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(J,{onClick:v,className:"w-full",disabled:h,"data-testid":"button-logout-to-admin",children:h?s.jsxs(s.Fragment,{children:[s.jsx(Yb,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging out..."]}):"Logout to Continue"}),s.jsx(J,{onClick:()=>t("/"),variant:"outline",className:"w-full",disabled:h,"data-testid":"button-back-dashboard",children:"Back to Dashboard"})]})]})]})]})]});const _=async g=>{g.preventDefault(),f(!0);try{const C=await fetch("/api/admin/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:l}),credentials:"include"}),j=await C.json();if(!C.ok||!j.success)throw new Error(j.message||j.error||"Admin login failed");if(!j.data)throw new Error("Invalid response: missing user data");const y=j.data._id||j.data.id;if(!y)throw new Error("Invalid response: missing user ID");localStorage.setItem("userId",y),localStorage.setItem("user",JSON.stringify({id:y,email:j.data.email||a,firstName:j.data.firstName||"",lastName:j.data.lastName||"",profilePhoto:j.data.profilePhoto||"",userName:j.data.userName||j.data.email||a,country:j.data.country||"",phone:j.data.phone||"",seller:j.data.seller||!1,admin:!0,authProvider:"email"})),j.accessToken&&localStorage.setItem("adminAccessToken",j.accessToken),await n(),i({title:"Admin Login Successful",description:"Welcome to the admin dashboard"}),t("/admin")}catch(C){i({title:"Login Failed",description:C.message||"Invalid credentials",variant:"destructive"})}finally{f(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),s.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(xv,{className:"h-8 w-8 text-primary","data-testid":"icon-admin-shield"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-primary",children:"Admin Portal"})]})})}),s.jsxs(se,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm relative",children:[d&&s.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-lg","data-testid":"loading-overlay",children:[s.jsx(Yb,{className:"h-8 w-8 animate-spin text-primary mb-4"}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-medium text-foreground",children:"Signing you in..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin credentials"})]})]}),s.jsx(oe,{className:"pb-4",children:s.jsx("div",{className:"text-center mb-4",children:s.jsx(de,{className:"text-xl font-semibold text-foreground",children:"Admin Login"})})}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"email",type:"email",placeholder:"Admin Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:a,onChange:g=>o(g.target.value),required:!0,disabled:d,"data-testid":"input-admin-email"})]})}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"password",type:"password",placeholder:"Password",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground",value:l,onChange:g=>c(g.target.value),required:!0,disabled:d,"data-testid":"input-admin-password"})]})}),s.jsx(J,{type:"submit",className:"w-full",disabled:d,"data-testid":"button-admin-login",children:d?"Signing in...":"Sign In as Admin"})]})})]})]})]})}function I7(){var o;const[,t]=qt(),{toast:e}=yn();Zu();const[n,r]=p.useState({email:"",password:"",confirmPassword:"",username:"admin",full_name:"Admin"}),i=It({mutationFn:async l=>{const c=await fetch("/api/admin/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"});if(!c.ok){const d=await c.json().catch(()=>({error:"Failed to create admin"}));throw new Error(d.error||d.message||"Failed to create admin")}return c.json()},onSuccess:async l=>{console.log("Admin created successfully:",l),e({title:"Admin account created!",description:"Verifying setup..."}),await new Promise(c=>setTimeout(c,1e3));try{const d=await(await fetch("/api/admin/exists",{credentials:"include"})).json();d.success&&d.exists?(e({title:"Setup complete!",description:"Redirecting to login page..."}),await new Promise(f=>setTimeout(f,800)),t("/admin/login")):(e({title:"Admin created",description:"Please try logging in.",variant:"default"}),await new Promise(f=>setTimeout(f,500)),t("/admin/login"))}catch(c){console.error("Error checking admin existence:",c),await new Promise(d=>setTimeout(d,500)),t("/admin/login")}},onError:l=>{e({title:"Setup failed",description:l.message||"Failed to create admin account. Please try again.",variant:"destructive"})}}),a=l=>{if(l.preventDefault(),!n.email||!n.password){e({title:"Missing fields",description:"Email and password are required.",variant:"destructive"});return}if(n.password!==n.confirmPassword){e({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(n.password.length<6){e({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}i.mutate({email:n.email,password:n.password,username:n.username,full_name:n.full_name,role:"admin"})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsx("div",{className:"w-full max-w-2xl",children:s.jsxs(se,{children:[s.jsxs(oe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:s.jsx(xv,{className:"h-12 w-12 text-primary"})})}),s.jsx(de,{className:"text-2xl",children:"Admin Setup"}),s.jsx(De,{className:"text-center max-w-md mx-auto mt-2",children:"This is a one-time setup. Create your first administrator account to access the platform."})]}),s.jsx(ie,{children:s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"full_name",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"full_name",type:"text",value:n.full_name,onChange:l=>r({...n,full_name:l.target.value}),placeholder:"Admin",className:"pl-10","data-testid":"input-setup-fullname"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"username",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"username",type:"text",value:n.username,onChange:l=>r({...n,username:l.target.value}),placeholder:"admin",className:"pl-10","data-testid":"input-setup-username"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ge,{htmlFor:"email",children:["Email Address ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Xm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"email",type:"email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"admin@example.com",className:"pl-10",required:!0,"data-testid":"input-setup-email"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ge,{htmlFor:"password",children:["Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"password",type:"password",value:n.password,onChange:l=>r({...n,password:l.target.value}),placeholder:"Min 6 characters",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-password"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ge,{htmlFor:"confirmPassword",children:["Confirm Password ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Qf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(je,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:l=>r({...n,confirmPassword:l.target.value}),placeholder:"Confirm password",className:"pl-10",required:!0,minLength:6,"data-testid":"input-setup-confirm-password"})]})]})]}),i.isError&&s.jsxs(qn,{variant:"destructive",children:[s.jsx(Yf,{className:"h-4 w-4"}),s.jsx(Kn,{children:((o=i.error)==null?void 0:o.message)||"Failed to create admin account. Please try again."})]}),s.jsx(J,{type:"submit",className:"w-full",disabled:i.isPending,"data-testid":"button-setup-submit",children:i.isPending?"Creating Account...":"Create Admin Account"})]})})]})})})}const R7=[{section:"User Management",items:[{name:"Users",href:"/admin/users",icon:ks},{name:"Reported Cases",href:"/admin/reported-cases",icon:gv}]},{section:"Commerce",items:[{name:"Inventory",href:"/admin/inventory",icon:Wt},{name:"Orders",href:"/admin/orders",icon:fa},{name:"Disputes",href:"/admin/disputes",icon:Al},{name:"Transactions",href:"/admin/transactions",icon:cc},{name:"Payouts",href:"/admin/payouts",icon:pv}]},{section:"Platform",items:[{name:"Revenue",href:"/admin/application-fees",icon:VO},{name:"Categories",href:"/admin/categories",icon:BO},{name:"Shows",href:"/admin/shows",icon:dc},{name:"Emails",href:"/admin/emails",icon:Xm}]},{section:"Account",items:[{name:"Profile",href:"/admin/profile",icon:wk},{name:"Settings",href:"/admin/settings",icon:rw}]}];function D7({isOpen:t,onClose:e}){const[n]=qt(),{data:r}=Ze({queryKey:["/api/admin/settings"]}),i=(r==null?void 0:r.data)||r;return i!=null&&i.app_name,s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:e,"data-testid":"sidebar-overlay"}),s.jsxs("div",{className:xe("flex flex-col w-64 bg-card border-r border-border h-full transition-transform duration-300 ease-in-out","lg:relative lg:translate-x-0","fixed inset-y-0 left-0 z-50",t?"translate-x-0":"-translate-x-full"),children:[s.jsx("div",{className:"lg:hidden flex justify-end p-3 border-b border-border",children:s.jsx(J,{variant:"ghost",size:"sm",onClick:e,"data-testid":"button-close-sidebar",children:s.jsx(Sr,{className:"h-5 w-5"})})}),s.jsx("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:R7.map((a,o)=>s.jsxs("div",{children:[s.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:a.section}),s.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const c=l.icon,d=n===l.href;return s.jsx(El,{href:l.href,children:s.jsxs(J,{variant:d?"secondary":"ghost",className:xe("w-full justify-start",d&&"bg-primary/10 text-primary hover:bg-primary/20 hover:text-primary"),onClick:e,"data-testid":`link-admin-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(c,{className:"h-4 w-4 mr-3"}),l.name]})},l.href)})})]},o))})]})]})}const M7=Vu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ve({className:t,variant:e,...n}){return s.jsx("div",{className:xe(M7({variant:e}),t),...n})}var qw="Avatar",[O7,TK]=Jn(qw),[L7,zT]=O7(qw),BT=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=p.useState("idle");return s.jsx(L7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Ae.span,{...r,ref:e})})});BT.displayName=qw;var WT="AvatarImage",HT=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=zT(WT,n),l=F7(r,a),c=vn(d=>{i(d),o.onImageLoadingStatusChange(d)});return tn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ae.img,{...a,ref:e,src:r}):null});HT.displayName=WT;var qT="AvatarFallback",KT=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=zT(qT,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Ae.span,{...i,ref:e}):null});KT.displayName=qT;function R1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function F7(t,{referrerPolicy:e,crossOrigin:n}){const r=U7(),i=p.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=p.useState(()=>R1(a,t));return tn(()=>{l(R1(a,t))},[a,t]),tn(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),f=c("error");return a.addEventListener("load",d),a.addEventListener("error",f),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",f)}},[a,n,e]),o}function $7(){return()=>{}}function U7(){return p.useSyncExternalStore($7,()=>!0,()=>!1)}var GT=BT,YT=HT,QT=KT;const Yr=p.forwardRef(({className:t,...e},n)=>s.jsx(GT,{ref:n,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Yr.displayName=GT.displayName;const Qr=p.forwardRef(({className:t,...e},n)=>s.jsx(YT,{ref:n,className:xe("aspect-square h-full w-full",t),...e}));Qr.displayName=YT.displayName;const Zr=p.forwardRef(({className:t,...e},n)=>s.jsx(QT,{ref:n,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Zr.displayName=QT.displayName;var Zg="rovingFocusGroup.onEntryFocus",V7={bubbles:!1,cancelable:!0},Np="RovingFocusGroup",[Wv,ZT,z7]=Ym(Np),[B7,_p]=Jn(Np,[z7]),[W7,H7]=B7(Np),XT=p.forwardRef((t,e)=>s.jsx(Wv.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Wv.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(q7,{...t,ref:e})})}));XT.displayName=Np;var q7=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=t,m=p.useRef(null),v=tt(e,m),_=gp(a),[g=null,C]=mi({prop:o,defaultProp:l,onChange:c}),[j,y]=p.useState(!1),x=vn(d),P=ZT(n),D=p.useRef(!1),[O,E]=p.useState(0);return p.useEffect(()=>{const b=m.current;if(b)return b.addEventListener(Zg,x),()=>b.removeEventListener(Zg,x)},[x]),s.jsx(W7,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:g,onItemFocus:p.useCallback(b=>C(b),[C]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(b=>b+1),[]),onFocusableItemRemove:p.useCallback(()=>E(b=>b-1),[]),children:s.jsx(Ae.div,{tabIndex:j||O===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{D.current=!0}),onFocus:fe(t.onFocus,b=>{const S=!D.current;if(b.target===b.currentTarget&&S&&!j){const R=new CustomEvent(Zg,V7);if(b.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=P().filter(V=>V.focusable),T=N.find(V=>V.active),A=N.find(V=>V.id===g),H=[T,A,...N].filter(Boolean).map(V=>V.ref.current);tP(H,f)}}D.current=!1}),onBlur:fe(t.onBlur,()=>y(!1))})})}),JT="RovingFocusGroupItem",eP=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,l=qr(),c=a||l,d=H7(JT,n),f=d.currentTabStopId===c,h=ZT(n),{onFocusableItemAdd:m,onFocusableItemRemove:v}=d;return p.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),s.jsx(Wv.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:s.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:fe(t.onMouseDown,_=>{r?d.onItemFocus(c):_.preventDefault()}),onFocus:fe(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:fe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=Y7(_,d.orientation,d.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let j=h().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")j.reverse();else if(g==="prev"||g==="next"){g==="prev"&&j.reverse();const y=j.indexOf(_.currentTarget);j=d.loop?Q7(j,y+1):j.slice(y+1)}setTimeout(()=>tP(j))}})})})});eP.displayName=JT;var K7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Y7(t,e,n){const r=G7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return K7[r]}function tP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Q7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nP=XT,rP=eP,Hv=["Enter"," "],Z7=["ArrowDown","PageUp","Home"],sP=["ArrowUp","PageDown","End"],X7=[...Z7,...sP],J7={ltr:[...Hv,"ArrowRight"],rtl:[...Hv,"ArrowLeft"]},ez={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nh="Menu",[Eu,tz,nz]=Ym(nh),[qo,iP]=Jn(nh,[nz,Da,_p]),Sp=Da(),aP=_p(),[rz,Ko]=qo(nh),[sz,rh]=qo(nh),oP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=Sp(e),[c,d]=p.useState(null),f=p.useRef(!1),h=vn(a),m=gp(i);return p.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),s.jsx(gw,{...l,children:s.jsx(rz,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(sz,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:r})})})};oP.displayName=nh;var iz="MenuAnchor",Kw=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Sp(n);return s.jsx(Bu,{...i,...r,ref:e})});Kw.displayName=iz;var Gw="MenuPortal",[az,lP]=qo(Gw,{forceMount:void 0}),cP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Ko(Gw,e);return s.jsx(az,{scope:e,forceMount:n,children:s.jsx(mr,{present:n||a.open,children:s.jsx(kc,{asChild:!0,container:i,children:r})})})};cP.displayName=Gw;var br="MenuContent",[oz,Yw]=qo(br),dP=p.forwardRef((t,e)=>{const n=lP(br,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Ko(br,t.__scopeMenu),o=rh(br,t.__scopeMenu);return s.jsx(Eu.Provider,{scope:t.__scopeMenu,children:s.jsx(mr,{present:r||a.open,children:s.jsx(Eu.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(lz,{...i,ref:e}):s.jsx(cz,{...i,ref:e})})})})}),lz=p.forwardRef((t,e)=>{const n=Ko(br,t.__scopeMenu),r=p.useRef(null),i=tt(e,r);return p.useEffect(()=>{const a=r.current;if(a)return vp(a)},[]),s.jsx(Qw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),cz=p.forwardRef((t,e)=>{const n=Ko(br,t.__scopeMenu);return s.jsx(Qw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),dz=ya("MenuContent.ScrollLock"),Qw=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:v,disableOutsideScroll:_,...g}=t,C=Ko(br,n),j=rh(br,n),y=Sp(n),x=aP(n),P=tz(n),[D,O]=p.useState(null),E=p.useRef(null),b=tt(e,E,C.onContentChange),S=p.useRef(0),R=p.useRef(""),N=p.useRef(0),T=p.useRef(null),A=p.useRef("right"),L=p.useRef(0),H=_?eh:p.Fragment,V=_?{as:dz,allowPinchZoom:!0}:void 0,z=W=>{var _e,Ue;const Q=R.current+W,X=P().filter(ze=>!ze.disabled),B=document.activeElement,me=(_e=X.find(ze=>ze.ref.current===B))==null?void 0:_e.textValue,ue=X.map(ze=>ze.textValue),ot=bz(ue,Q,me),Me=(Ue=X.find(ze=>ze.textValue===ot))==null?void 0:Ue.ref.current;(function ze(q){R.current=q,window.clearTimeout(S.current),q!==""&&(S.current=window.setTimeout(()=>ze(""),1e3))})(Q),Me&&setTimeout(()=>Me.focus())};p.useEffect(()=>()=>window.clearTimeout(S.current),[]),xp();const F=p.useCallback(W=>{var X,B;return A.current===((X=T.current)==null?void 0:X.side)&&_z(W,(B=T.current)==null?void 0:B.area)},[]);return s.jsx(oz,{scope:n,searchRef:R,onItemEnter:p.useCallback(W=>{F(W)&&W.preventDefault()},[F]),onItemLeave:p.useCallback(W=>{var Q;F(W)||((Q=E.current)==null||Q.focus(),O(null))},[F]),onTriggerLeave:p.useCallback(W=>{F(W)&&W.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:p.useCallback(W=>{T.current=W},[]),children:s.jsx(H,{...V,children:s.jsx(Ju,{asChild:!0,trapped:i,onMountAutoFocus:fe(a,W=>{var Q;W.preventDefault(),(Q=E.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:v,children:s.jsx(nP,{asChild:!0,...x,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:fe(c,W=>{j.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(np,{role:"menu","aria-orientation":"vertical","data-state":CP(C.open),"data-radix-menu-content":"",dir:j.dir,...y,...g,ref:b,style:{outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,W=>{const X=W.target.closest("[data-radix-menu-content]")===W.currentTarget,B=W.ctrlKey||W.altKey||W.metaKey,me=W.key.length===1;X&&(W.key==="Tab"&&W.preventDefault(),!B&&me&&z(W.key));const ue=E.current;if(W.target!==ue||!X7.includes(W.key))return;W.preventDefault();const Me=P().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);sP.includes(W.key)&&Me.reverse(),wz(Me)}),onBlur:fe(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(S.current),R.current="")}),onPointerMove:fe(t.onPointerMove,Tu(W=>{const Q=W.target,X=L.current!==W.clientX;if(W.currentTarget.contains(Q)&&X){const B=W.clientX>L.current?"right":"left";A.current=B,L.current=W.clientX}}))})})})})})})});dP.displayName=br;var uz="MenuGroup",Zw=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ae.div,{role:"group",...r,ref:e})});Zw.displayName=uz;var hz="MenuLabel",uP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ae.div,{...r,ref:e})});uP.displayName=hz;var Sm="MenuItem",D1="menu.itemSelect",Cp=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=p.useRef(null),o=rh(Sm,t.__scopeMenu),l=Yw(Sm,t.__scopeMenu),c=tt(e,a),d=p.useRef(!1),f=()=>{const h=a.current;if(!n&&h){const m=new CustomEvent(D1,{bubbles:!0,cancelable:!0});h.addEventListener(D1,v=>r==null?void 0:r(v),{once:!0}),Zy(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(hP,{...i,ref:c,disabled:n,onClick:fe(t.onClick,f),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:fe(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:fe(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||Hv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Cp.displayName=Sm;var hP=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=Yw(Sm,n),l=aP(n),c=p.useRef(null),d=tt(e,c),[f,h]=p.useState(!1),[m,v]=p.useState("");return p.useEffect(()=>{const _=c.current;_&&v((_.textContent??"").trim())},[a.children]),s.jsx(Eu.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(rP,{asChild:!0,...l,focusable:!r,children:s.jsx(Ae.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:d,onPointerMove:fe(t.onPointerMove,Tu(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,Tu(_=>o.onItemLeave(_))),onFocus:fe(t.onFocus,()=>h(!0)),onBlur:fe(t.onBlur,()=>h(!1))})})})}),fz="MenuCheckboxItem",fP=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(vP,{scope:t.__scopeMenu,checked:n,children:s.jsx(Cp,{role:"menuitemcheckbox","aria-checked":Cm(n)?"mixed":n,...i,ref:e,"data-state":Jw(n),onSelect:fe(i.onSelect,()=>r==null?void 0:r(Cm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fP.displayName=fz;var mP="MenuRadioGroup",[mz,pz]=qo(mP,{value:void 0,onValueChange:()=>{}}),pP=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=vn(r);return s.jsx(mz,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(Zw,{...i,ref:e})})});pP.displayName=mP;var gP="MenuRadioItem",xP=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=pz(gP,t.__scopeMenu),a=n===i.value;return s.jsx(vP,{scope:t.__scopeMenu,checked:a,children:s.jsx(Cp,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":Jw(a),onSelect:fe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});xP.displayName=gP;var Xw="MenuItemIndicator",[vP,gz]=qo(Xw,{checked:!1}),yP=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=gz(Xw,n);return s.jsx(mr,{present:r||Cm(a.checked)||a.checked===!0,children:s.jsx(Ae.span,{...i,ref:e,"data-state":Jw(a.checked)})})});yP.displayName=Xw;var xz="MenuSeparator",wP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});wP.displayName=xz;var vz="MenuArrow",jP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Sp(n);return s.jsx(rp,{...i,...r,ref:e})});jP.displayName=vz;var yz="MenuSub",[PK,bP]=qo(yz),jd="MenuSubTrigger",NP=p.forwardRef((t,e)=>{const n=Ko(jd,t.__scopeMenu),r=rh(jd,t.__scopeMenu),i=bP(jd,t.__scopeMenu),a=Yw(jd,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},f=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Kw,{asChild:!0,...d,children:s.jsx(hP,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":CP(n.open),...t,ref:Gm(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,Tu(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:fe(t.onPointerLeave,Tu(h=>{var v,_;f();const m=(v=n.content)==null?void 0:v.getBoundingClientRect();if(m){const g=(_=n.content)==null?void 0:_.dataset.side,C=g==="right",j=C?-5:5,y=m[C?"left":"right"],x=m[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+j,y:h.clientY},{x:y,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:y,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,h=>{var v;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||J7[r.dir].includes(h.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),h.preventDefault())})})})});NP.displayName=jd;var _P="MenuSubContent",SP=p.forwardRef((t,e)=>{const n=lP(br,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Ko(br,t.__scopeMenu),o=rh(br,t.__scopeMenu),l=bP(_P,t.__scopeMenu),c=p.useRef(null),d=tt(e,c);return s.jsx(Eu.Provider,{scope:t.__scopeMenu,children:s.jsx(mr,{present:r||a.open,children:s.jsx(Eu.Slot,{scope:t.__scopeMenu,children:s.jsx(Qw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:fe(t.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:fe(t.onKeyDown,f=>{var v;const h=f.currentTarget.contains(f.target),m=ez[o.dir].includes(f.key);h&&m&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),f.preventDefault())})})})})})});SP.displayName=_P;function CP(t){return t?"open":"closed"}function Cm(t){return t==="indeterminate"}function Jw(t){return Cm(t)?"indeterminate":t?"checked":"unchecked"}function wz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function jz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function bz(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=jz(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Nz(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,d=e[o].x,f=e[o].y;c>r!=f>r&&n<(d-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function _z(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Nz(n,e)}function Tu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Sz=oP,Cz=Kw,kz=cP,Ez=dP,Tz=Zw,Pz=uP,Az=Cp,Iz=fP,Rz=pP,Dz=xP,Mz=yP,Oz=wP,Lz=jP,Fz=NP,$z=SP,ej="DropdownMenu",[Uz,AK]=Jn(ej,[iP]),Vn=iP(),[Vz,kP]=Uz(ej),EP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Vn(e),d=p.useRef(null),[f=!1,h]=mi({prop:i,defaultProp:a,onChange:o});return s.jsx(Vz,{scope:e,triggerId:qr(),triggerRef:d,contentId:qr(),open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(Sz,{...c,open:f,onOpenChange:h,dir:r,modal:l,children:n})})};EP.displayName=ej;var TP="DropdownMenuTrigger",PP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=kP(TP,n),o=Vn(n);return s.jsx(Cz,{asChild:!0,...o,children:s.jsx(Ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Gm(e,a.triggerRef),onPointerDown:fe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:fe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});PP.displayName=TP;var zz="DropdownMenuPortal",AP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Vn(e);return s.jsx(kz,{...r,...n})};AP.displayName=zz;var IP="DropdownMenuContent",RP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=kP(IP,n),a=Vn(n),o=p.useRef(!1);return s.jsx(Ez,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RP.displayName=IP;var Bz="DropdownMenuGroup",Wz=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Tz,{...i,...r,ref:e})});Wz.displayName=Bz;var Hz="DropdownMenuLabel",DP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Pz,{...i,...r,ref:e})});DP.displayName=Hz;var qz="DropdownMenuItem",MP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Az,{...i,...r,ref:e})});MP.displayName=qz;var Kz="DropdownMenuCheckboxItem",OP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Iz,{...i,...r,ref:e})});OP.displayName=Kz;var Gz="DropdownMenuRadioGroup",Yz=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Rz,{...i,...r,ref:e})});Yz.displayName=Gz;var Qz="DropdownMenuRadioItem",LP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Dz,{...i,...r,ref:e})});LP.displayName=Qz;var Zz="DropdownMenuItemIndicator",FP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Mz,{...i,...r,ref:e})});FP.displayName=Zz;var Xz="DropdownMenuSeparator",$P=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Oz,{...i,...r,ref:e})});$P.displayName=Xz;var Jz="DropdownMenuArrow",eB=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Lz,{...i,...r,ref:e})});eB.displayName=Jz;var tB="DropdownMenuSubTrigger",UP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx(Fz,{...i,...r,ref:e})});UP.displayName=tB;var nB="DropdownMenuSubContent",VP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vn(n);return s.jsx($z,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VP.displayName=nB;var rB=EP,sB=PP,iB=AP,zP=RP,BP=DP,WP=MP,HP=OP,qP=LP,KP=FP,GP=$P,YP=UP,QP=VP;const Go=rB,Yo=sB,aB=p.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(YP,{ref:i,className:xe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(Is,{className:"ml-auto"})]}));aB.displayName=YP.displayName;const oB=p.forwardRef(({className:t,...e},n)=>s.jsx(QP,{ref:n,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));oB.displayName=QP.displayName;const Fa=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(iB,{children:s.jsx(zP,{ref:r,sideOffset:e,className:xe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Fa.displayName=zP.displayName;const an=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(WP,{ref:r,className:xe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));an.displayName=WP.displayName;const lB=p.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(HP,{ref:i,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(KP,{children:s.jsx(vk,{className:"h-4 w-4"})})}),e]}));lB.displayName=HP.displayName;const cB=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(qP,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(KP,{children:s.jsx(UO,{className:"h-2 w-2 fill-current"})})}),e]}));cB.displayName=qP.displayName;const ZP=p.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(BP,{ref:r,className:xe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ZP.displayName=BP.displayName;const bi=p.forwardRef(({className:t,...e},n)=>s.jsx(GP,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));bi.displayName=GP.displayName;function qe({children:t}){const{user:e,logout:n}=Ma(),{settings:r}=Zu(),[,i]=qt(),[a,o]=p.useState(!1),l=async()=>{await n(),i("/admin/login")},c=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`.toUpperCase():e!=null&&e.firstName?e.firstName[0].toUpperCase():e!=null&&e.email?e.email[0].toUpperCase():"A";return s.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[s.jsxs("div",{className:"bg-card border-b border-border px-3 sm:px-6 py-3 flex justify-between items-center h-14 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(J,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"lg:hidden h-9 w-9 p-0","data-testid":"button-mobile-menu",children:s.jsx(YO,{className:"h-5 w-5"})}),s.jsx(El,{href:"/admin","data-testid":"link-admin-home",children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("div",{className:"h-7 w-7 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:r.app_name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"hidden sm:flex flex-col",children:[s.jsx("span",{className:"text-base font-bold text-foreground leading-tight",children:r.app_name}),s.jsx("span",{className:"text-xs text-muted-foreground -mt-0.5",children:"Admin Panel"})]})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right hidden md:block mr-2",children:[s.jsx("p",{className:"text-sm font-medium text-foreground","data-testid":"text-admin-email",children:e==null?void 0:e.email}),s.jsx(Ve,{variant:"secondary",className:"mt-0.5 text-xs",children:"Admin"})]}),e&&s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,"data-testid":"button-profile-dropdown",children:s.jsxs(Yr,{className:"h-9 w-9 cursor-pointer hover-elevate",children:[s.jsx(Qr,{src:e.profilePhoto,alt:`${e.firstName||e.email}`}),s.jsx(Zr,{className:"bg-primary text-primary-foreground text-sm font-bold",children:c()})]})}),s.jsxs(Fa,{align:"end",className:"w-56",children:[s.jsx(ZP,{children:"My Account"}),s.jsx(bi,{}),s.jsx(an,{asChild:!0,children:s.jsxs(El,{href:"/admin/profile",className:"cursor-pointer","data-testid":"dropdown-profile",children:[s.jsx(dr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(an,{asChild:!0,children:s.jsxs(El,{href:"/admin/settings",className:"cursor-pointer","data-testid":"dropdown-settings",children:[s.jsx(rw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(bi,{}),s.jsxs(an,{onClick:l,className:"cursor-pointer text-destructive focus:text-destructive","data-testid":"dropdown-logout",children:[s.jsx(GO,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Logout"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(D7,{isOpen:a,onClose:()=>o(!1)}),s.jsx("div",{className:"flex-1 overflow-auto",children:t})]})]})}const Zt=p.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:xe("w-full caption-bottom text-sm",t),...e})}));Zt.displayName="Table";const Xt=p.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:xe("[&_tr]:border-b",t),...e}));Xt.displayName="TableHeader";const Jt=p.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:xe("[&_tr:last-child]:border-0",t),...e}));Jt.displayName="TableBody";const dB=p.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));dB.displayName="TableFooter";const Je=p.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Je.displayName="TableRow";const te=p.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));te.displayName="TableHead";const ne=p.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ne.displayName="TableCell";const uB=p.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:xe("mt-4 text-sm text-muted-foreground",t),...e}));uB.displayName="TableCaption";function M1(){var _;const[,t]=qt(),{user:e}=Ma(),{toast:n}=yn(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{e!=null&&e.admin||t("/")},[e==null?void 0:e.admin,t]);const c=`/api/admin/users?page=${a}&limit=${l}${r?`&title=${encodeURIComponent(r)}`:""}`,{data:d,isLoading:f}=Ze({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const g=await fetch(c,{credentials:"include"});if(!g.ok)throw new Error("Failed to fetch users");return await g.json()}}),h=((_=d==null?void 0:d.data)==null?void 0:_.users)||[],m=d!=null&&d.data?{currentPage:a,totalPages:d.data.pages,totalItems:d.data.totalDoc,hasNextPage:a<d.data.pages,hasPrevPage:a>1}:void 0,v=It({mutationFn:async({userId:g,blocked:C})=>ht("PATCH",`/api/admin/users/${g}/block`,{blocked:C}),onSuccess:(g,C)=>{pt.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${C.blocked?"blocked":"unblocked"} successfully`})},onError:(g,C)=>{n({title:"Error",description:g.message||`Failed to ${C.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(m==null?void 0:m.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:h.filter(g=>g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Customers"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:h.filter(g=>!g.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"All Users"}),s.jsx(De,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search users...",value:r,onChange:g=>i(g.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(ie,{children:f?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):h.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{className:"min-w-[200px]",children:"User"}),s.jsx(te,{className:"hidden md:table-cell",children:"Email"}),s.jsx(te,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(te,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(te,{children:"Type"}),s.jsx(te,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(te,{className:"text-right",children:"Wallet"}),s.jsx(te,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:h.map(g=>{var C,j;return s.jsxs(Je,{"data-testid":`row-user-${g._id||g.id}`,children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Yr,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Qr,{src:g.profilePhoto}),s.jsxs(Zr,{children:[(C=g.firstName)==null?void 0:C[0],(j=g.lastName)==null?void 0:j[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[g.firstName," ",g.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:g.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:g.phone||"No phone"})]})]})}),s.jsx(ne,{className:"hidden md:table-cell","data-testid":`text-email-${g._id||g.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:g.email})}),s.jsx(ne,{className:"hidden lg:table-cell","data-testid":`text-username-${g._id||g.id}`,children:g.userName||"N/A"}),s.jsx(ne,{className:"hidden xl:table-cell",children:g.country||"N/A"}),s.jsx(ne,{children:s.jsx(Ve,{variant:g.seller?"default":"secondary",children:g.seller?"Seller":"Customer"})}),s.jsx(ne,{className:"hidden sm:table-cell",children:s.jsx(Ve,{variant:g.system_blocked?"destructive":"secondary","data-testid":`badge-status-${g._id||g.id}`,children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(jk,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(ne,{className:"text-right","data-testid":`text-wallet-${g._id||g.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(_k,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(g.wallet||0).toFixed(2)]})]})}),s.jsx(ne,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${g._id||g.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(g.walletPending||0).toFixed(2)]})}),s.jsx(ne,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm","data-testid":`button-actions-${g._id||g.id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(an,{onClick:()=>t(`/admin/users/${g._id||g.id}`),"data-testid":`menu-view-user-${g._id||g.id}`,children:[s.jsx(wa,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(bi,{}),s.jsx(an,{onClick:()=>{v.mutate({userId:g._id||g.id,blocked:!g.system_blocked})},disabled:v.isPending,"data-testid":`menu-block-user-${g._id||g.id}`,className:g.system_blocked?"":"text-destructive focus:text-destructive",children:g.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(tw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},g._id||g.id)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Is,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function hB(){var v;const[,t]=qt(),{user:e}=Ma(),{toast:n}=yn(),[r,i]=p.useState(""),[a,o]=p.useState(1),[l]=p.useState(20);p.useEffect(()=>{e!=null&&e.admin||t("/")},[e==null?void 0:e.admin,t]);const{data:c,isLoading:d}=Ze({queryKey:["/api/admin/users",a,l,r],queryFn:async()=>{const _=new URLSearchParams;_.set("page",String(a)),_.set("limit",String(l)),r&&_.set("title",r);const g=`/api/admin/users?${_.toString()}`;return await(await ht("GET",g)).json()}}),f=((v=c==null?void 0:c.data)==null?void 0:v.users)||[],h=c!=null&&c.data?{currentPage:a,totalPages:c.data.pages,totalItems:c.data.totalDoc,hasNextPage:a<c.data.pages,hasPrevPage:a>1}:void 0,m=It({mutationFn:async({userId:_,blocked:g})=>ht("PATCH",`/api/admin/users/${_}/block`,{blocked:g}),onSuccess:(_,g)=>{pt.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Success",description:`User ${g.blocked?"blocked":"unblocked"} successfully`})},onError:(_,g)=>{n({title:"Error",description:_.message||`Failed to ${g.blocked?"block":"unblock"} user`,variant:"destructive"})}});return p.useEffect(()=>{o(1)},[r]),s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:(h==null?void 0:h.totalItems)||f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Sellers"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sellers-count",children:f.filter(_=>_.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Customers"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-customers-count",children:f.filter(_=>!_.seller).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"All Users"}),s.jsx(De,{children:"View and manage all registered users"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search users...",value:r,onChange:_=>i(_.target.value),className:"pl-10","data-testid":"input-search-users"})]})]})}),s.jsx(ie,{children:d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):f.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No users found"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{className:"min-w-[200px]",children:"User"}),s.jsx(te,{className:"hidden md:table-cell",children:"Email"}),s.jsx(te,{className:"hidden lg:table-cell",children:"Username"}),s.jsx(te,{className:"hidden xl:table-cell",children:"Country"}),s.jsx(te,{children:"Type"}),s.jsx(te,{className:"hidden sm:table-cell",children:"Status"}),s.jsx(te,{className:"text-right",children:"Wallet"}),s.jsx(te,{className:"text-right hidden sm:table-cell",children:"Pending"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:f.map(_=>{var g,C;return s.jsxs(Je,{"data-testid":`row-user-${_._id||_.id}`,children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Yr,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Qr,{src:_.profilePhoto}),s.jsxs(Zr,{children:[(g=_.firstName)==null?void 0:g[0],(C=_.lastName)==null?void 0:C[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"font-medium truncate",children:[_.firstName," ",_.lastName]}),s.jsx("div",{className:"text-sm text-muted-foreground md:hidden truncate",children:_.email}),s.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:_.phone||"No phone"})]})]})}),s.jsx(ne,{className:"hidden md:table-cell","data-testid":`text-email-${_._id||_.id}`,children:s.jsx("div",{className:"max-w-[200px] truncate",children:_.email})}),s.jsx(ne,{className:"hidden lg:table-cell","data-testid":`text-username-${_._id||_.id}`,children:_.userName||"N/A"}),s.jsx(ne,{className:"hidden xl:table-cell",children:_.country||"N/A"}),s.jsx(ne,{children:s.jsx(Ve,{variant:_.seller?"default":"secondary",children:_.seller?"Seller":"Customer"})}),s.jsx(ne,{className:"hidden sm:table-cell",children:s.jsx(Ve,{variant:_.system_blocked?"destructive":"secondary","data-testid":`badge-status-${_._id||_.id}`,children:_.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(jk,{className:"h-3 w-3 mr-1"}),"Blocked"]}):s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"h-3 w-3 mr-1"}),"Active"]})})}),s.jsx(ne,{className:"text-right","data-testid":`text-wallet-${_._id||_.id}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-1 font-medium",children:[s.jsx(_k,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:["$",(_.wallet||0).toFixed(2)]})]})}),s.jsx(ne,{className:"text-right hidden sm:table-cell","data-testid":`text-wallet-pending-${_._id||_.id}`,children:s.jsxs("span",{className:"text-muted-foreground",children:["$",(_.walletPending||0).toFixed(2)]})}),s.jsx(ne,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm","data-testid":`button-actions-${_._id||_.id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(an,{onClick:()=>t(`/admin/users/${_._id||_.id}`),"data-testid":`menu-view-user-${_._id||_.id}`,children:[s.jsx(wa,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(bi,{}),s.jsx(an,{onClick:()=>{m.mutate({userId:_._id||_.id,blocked:!_.system_blocked})},disabled:m.isPending,"data-testid":`menu-block-user-${_._id||_.id}`,className:_.system_blocked?"":"text-destructive focus:text-destructive",children:_.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"h-4 w-4 mr-2"}),"Unblock User"]}):s.jsxs(s.Fragment,{children:[s.jsx(tw,{className:"h-4 w-4 mr-2"}),"Block User"]})})]})]})})]},_._id||_.id)})})]})}),h&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",h.currentPage," of ",h.totalPages," (",h.totalItems," total users)"]}),s.jsxs("span",{className:"sm:hidden",children:[h.currentPage," / ",h.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(a-1),disabled:!h.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>o(a+1),disabled:!h.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Is,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}var tj="Tabs",[fB,IK]=Jn(tj,[_p]),XP=_p(),[mB,nj]=fB(tj),JP=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,f=gp(l),[h,m]=mi({prop:r,onChange:i,defaultProp:a});return s.jsx(mB,{scope:n,baseId:qr(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:c,children:s.jsx(Ae.div,{dir:f,"data-orientation":o,...d,ref:e})})});JP.displayName=tj;var eA="TabsList",tA=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=nj(eA,n),o=XP(n);return s.jsx(nP,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Ae.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});tA.displayName=eA;var nA="TabsTrigger",rA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=nj(nA,n),l=XP(n),c=aA(o.baseId,r),d=oA(o.baseId,r),f=r===o.value;return s.jsx(rP,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(Ae.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:fe(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:fe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:fe(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(r)})})})});rA.displayName=nA;var sA="TabsContent",iA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=nj(sA,n),c=aA(l.baseId,r),d=oA(l.baseId,r),f=r===l.value,h=p.useRef(f);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(mr,{present:i||f,children:({present:m})=>s.jsx(Ae.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});iA.displayName=sA;function aA(t,e){return`${t}-trigger-${e}`}function oA(t,e){return`${t}-content-${e}`}var pB=JP,lA=tA,cA=rA,dA=iA;const vc=pB,Ro=p.forwardRef(({className:t,...e},n)=>s.jsx(lA,{ref:n,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ro.displayName=lA.displayName;const Nt=p.forwardRef(({className:t,...e},n)=>s.jsx(cA,{ref:n,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nt.displayName=cA.displayName;const _t=p.forwardRef(({className:t,...e},n)=>s.jsx(dA,{ref:n,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_t.displayName=dA.displayName;var rj="Switch",[gB,RK]=Jn(rj),[xB,vB]=gB(rj),uA=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...h}=t,[m,v]=p.useState(null),_=tt(e,x=>v(x)),g=p.useRef(!1),C=m?f||!!m.closest("form"):!0,[j=!1,y]=mi({prop:i,defaultProp:a,onChange:d});return s.jsxs(xB,{scope:n,checked:j,disabled:l,children:[s.jsx(Ae.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":mA(j),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:_,onClick:fe(t.onClick,x=>{y(P=>!P),C&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),C&&s.jsx(yB,{control:m,bubbles:!g.current,name:r,value:c,checked:j,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});uA.displayName=rj;var hA="SwitchThumb",fA=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=vB(hA,n);return s.jsx(Ae.span,{"data-state":mA(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});fA.displayName=hA;var yB=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=p.useRef(null),o=QE(n),l=qk(e);return p.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mA(t){return t?"checked":"unchecked"}var pA=uA,wB=fA;const Ul=p.forwardRef(({className:t,...e},n)=>s.jsx(pA,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(wB,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ul.displayName=pA.displayName;var sj="Dialog",[gA,xA]=Jn(sj),[jB,ss]=gA(sj),vA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[d=!1,f]=mi({prop:r,defaultProp:i,onChange:a});return s.jsx(jB,{scope:e,triggerRef:l,contentRef:c,contentId:qr(),titleId:qr(),descriptionId:qr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};vA.displayName=sj;var yA="DialogTrigger",wA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ss(yA,n),a=tt(e,i.triggerRef);return s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oj(i.open),...r,ref:a,onClick:fe(t.onClick,i.onOpenToggle)})});wA.displayName=yA;var ij="DialogPortal",[bB,jA]=gA(ij,{forceMount:void 0}),bA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=ss(ij,e);return s.jsx(bB,{scope:e,forceMount:n,children:p.Children.map(r,o=>s.jsx(mr,{present:n||a.open,children:s.jsx(kc,{asChild:!0,container:i,children:o})}))})};bA.displayName=ij;var km="DialogOverlay",NA=p.forwardRef((t,e)=>{const n=jA(km,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ss(km,t.__scopeDialog);return a.modal?s.jsx(mr,{present:r||a.open,children:s.jsx(_B,{...i,ref:e})}):null});NA.displayName=km;var NB=ya("DialogOverlay.RemoveScroll"),_B=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ss(km,n);return s.jsx(eh,{as:NB,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ae.div,{"data-state":oj(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Do="DialogContent",_A=p.forwardRef((t,e)=>{const n=jA(Do,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=ss(Do,t.__scopeDialog);return s.jsx(mr,{present:r||a.open,children:a.modal?s.jsx(SB,{...i,ref:e}):s.jsx(CB,{...i,ref:e})})});_A.displayName=Do;var SB=p.forwardRef((t,e)=>{const n=ss(Do,t.__scopeDialog),r=p.useRef(null),i=tt(e,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return vp(a)},[]),s.jsx(SA,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:fe(t.onFocusOutside,a=>a.preventDefault())})}),CB=p.forwardRef((t,e)=>{const n=ss(Do,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(SA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),SA=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=ss(Do,n),c=p.useRef(null),d=tt(e,c);return xp(),s.jsxs(s.Fragment,{children:[s.jsx(Ju,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Bo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oj(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(EB,{titleId:l.titleId}),s.jsx(PB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aj="DialogTitle",CA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ss(aj,n);return s.jsx(Ae.h2,{id:i.titleId,...r,ref:e})});CA.displayName=aj;var kA="DialogDescription",EA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ss(kA,n);return s.jsx(Ae.p,{id:i.descriptionId,...r,ref:e})});EA.displayName=kA;var TA="DialogClose",PA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ss(TA,n);return s.jsx(Ae.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});PA.displayName=TA;function oj(t){return t?"open":"closed"}var AA="DialogTitleWarning",[kB,IA]=BM(AA,{contentName:Do,titleName:aj,docsSlug:"dialog"}),EB=({titleId:t})=>{const e=IA(AA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},TB="DialogDescriptionWarning",PB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IA(TB).contentName}}.`;return p.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},RA=vA,DA=wA,MA=bA,lj=NA,cj=_A,dj=CA,uj=EA,hj=PA;const ni=RA,Em=DA,AB=MA,OA=p.forwardRef(({className:t,...e},n)=>s.jsx(lj,{ref:n,className:xe("fixed inset-0 z-[9998] bg-black/40 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));OA.displayName=lj.displayName;const vs=p.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(AB,{children:[s.jsx(OA,{}),s.jsxs(cj,{ref:r,className:xe("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(hj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Sr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vs.displayName=cj.displayName;const ys=({className:t,...e})=>s.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ys.displayName="DialogHeader";const ws=p.forwardRef(({className:t,...e},n)=>s.jsx(dj,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));ws.displayName=dj.displayName;const Ki=p.forwardRef(({className:t,...e},n)=>s.jsx(uj,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));Ki.displayName=uj.displayName;function IB(){var _e,Ue,ze;const[,t]=qt(),[,e]=zo("/admin/users/:userId"),{user:n}=Ma(),{settings:r}=Zu(),{toast:i}=yn(),a=e==null?void 0:e.userId,[o,l]=p.useState("orders"),[c,d]=p.useState(null),[f,h]=p.useState(!1);p.useEffect(()=>{n!=null&&n.admin||t("/")},[n==null?void 0:n.admin,t]);const m=It({mutationFn:async q=>await ht("PATCH",`/api/admin/users/${a}/approve-seller`,{email:q}),onSuccess:()=>{pt.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User approved as seller successfully"})},onError:q=>{i({title:"Error",description:q.message||"Failed to approve seller",variant:"destructive"})}}),v=It({mutationFn:async q=>await ht("PATCH",`/api/admin/users/${a}`,q),onSuccess:()=>{pt.invalidateQueries({queryKey:[`/api/admin/users/${a}`]}),i({title:"Success",description:"User updated successfully"})},onError:q=>{i({title:"Error",description:q.message||"Failed to update user",variant:"destructive"})}}),_=q=>{if(q){const we=(L==null?void 0:L.email)||"";m.mutate(we)}else v.mutate({seller:!1})},{data:g,isLoading:C}=Ze({queryKey:[`/api/admin/users/${a}`],enabled:!!a,refetchOnMount:"always",staleTime:0}),{data:j,isLoading:y}=Ze({queryKey:[`/api/address/all/${a}`],enabled:!!a}),{data:x,isLoading:P}=Ze({queryKey:[`/api/shipping/profiles/${a}`],enabled:!!a}),{data:D,isLoading:O}=Ze({queryKey:["/api/products",a],enabled:!!a}),{data:E,isLoading:b}=Ze({queryKey:["/api/orders",a,o],enabled:!!a&&(o==="orders"||o==="giveaways"),refetchOnMount:"always",staleTime:0}),{data:S,isLoading:R}=Ze({queryKey:["purchases-for-customer",a,o],queryFn:async()=>{const q=await fetch(`/api/orders?customer=${a}`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch purchases");return await q.json()},enabled:!!a&&(o==="purchases"||o==="giveaways")}),{data:N,isLoading:T}=Ze({queryKey:["/api/admin/transactions",a,o],queryFn:async()=>{const q=await fetch(`/api/admin/transactions?userId=${a}`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch transactions");return await q.json()},enabled:!!a&&o==="transactions"}),{data:A}=Ze({queryKey:["admin-settings"],queryFn:async()=>{const q=await fetch("/api/admin/settings",{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch settings");const we=await q.json();return we.success?we.data:we}}),L=g==null?void 0:g.data,H=(j==null?void 0:j.data)||j||[],V=(x==null?void 0:x.data)||x||[],z=(D==null?void 0:D.products)||(D==null?void 0:D.data)||[],F=(E==null?void 0:E.orders)||(E==null?void 0:E.data)||[],W=(S==null?void 0:S.orders)||(S==null?void 0:S.data)||[],Q=((_e=N==null?void 0:N.data)==null?void 0:_e.data)||(N==null?void 0:N.transactions)||(N==null?void 0:N.data)||[],X=Array.isArray(Q)?Q:[],B=(A==null?void 0:A.support_email)||"support@icona.com",me=(A==null?void 0:A.stripe_fee)||"0",ue=(A==null?void 0:A.extra_charges)||"0",Me=[...F,...W].filter(q=>q.ordertype==="giveaway"||q.orderType==="giveaway");return C?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading user details..."})]})})}):L?s.jsxs(qe,{children:[s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(J,{variant:"ghost",onClick:()=>t("/admin"),"data-testid":"button-back-to-admin",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),s.jsxs(se,{className:"mb-8",children:[s.jsxs(oe,{children:[s.jsx(de,{children:"User Profile"}),s.jsx(De,{children:"Complete user information"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsxs(Yr,{className:"h-20 w-20",children:[s.jsx(Qr,{src:L.profilePhoto}),s.jsxs(Zr,{className:"text-2xl",children:[(Ue=L.firstName)==null?void 0:Ue[0],(ze=L.lastName)==null?void 0:ze[0]]})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium","data-testid":"text-user-name",children:[L.firstName," ",L.lastName]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-email",children:L.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium","data-testid":"text-user-username",children:L.userName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:L.country||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:L.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Default Payment Method"}),s.jsx("p",{className:"font-medium","data-testid":"text-default-payment-method",children:typeof L.defaultpaymentmethod=="object"&&L.defaultpaymentmethod?`${(L.defaultpaymentmethod.type||"Card").replace(/_/g," ")} ending in ${L.defaultpaymentmethod.last4||"****"}`:L.defaultpaymentmethod?String(L.defaultpaymentmethod).replace(/_/g," "):"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(Ve,{variant:L.seller?"default":"secondary",children:L.seller?"Seller":"Customer"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Admin Controls"}),s.jsxs("div",{className:"flex items-center justify-between max-w-md",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ge,{htmlFor:"seller-toggle",className:"text-base",children:"Seller Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this user to sell products on the platform"})]}),s.jsx(Ul,{id:"seller-toggle",checked:L.seller,onCheckedChange:_,disabled:m.isPending||v.isPending,"data-testid":"switch-seller-status"})]})]})]})]}),s.jsxs(vc,{defaultValue:"addresses",className:"w-full",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ro,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(Nt,{value:"addresses","data-testid":"tab-addresses",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(nw,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Addresses (",H.length,")"]}),s.jsxs(Nt,{value:"shipping","data-testid":"tab-shipping",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(lu,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Shipping Profiles (",V.length,")"]}),s.jsxs(Nt,{value:"inventory","data-testid":"tab-inventory",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Wt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Inventory (",z.length,")"]}),s.jsxs(Nt,{value:"activities","data-testid":"tab-activities",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(RO,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Activities"]})]})}),s.jsx(_t,{value:"addresses",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"User Addresses"}),s.jsx(De,{children:"All saved addresses for this user"})]}),s.jsx(ie,{children:y?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading addresses..."})]}):H.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No addresses found"}):s.jsx("div",{className:"space-y-4",children:H.map((q,we)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`address-${we}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h4",{className:"font-medium",children:q.name}),s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/addresses/${q._id}`),"data-testid":`button-view-address-${we}`,children:"View Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:q.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:q.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:q.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City/Region"}),s.jsxs("p",{className:"font-medium",children:[q.city,", ",q.region]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium",children:q.country})]})]})]},q._id||we))})})]})}),s.jsx(_t,{value:"shipping",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Shipping Profiles"}),s.jsx(De,{children:"User's shipping configurations"})]}),s.jsx(ie,{children:P?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading shipping profiles..."})]}):V.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No shipping profiles found"}):s.jsx("div",{className:"space-y-4",children:V.map((q,we)=>s.jsxs("div",{className:"border rounded-lg p-4","data-testid":`shipping-profile-${we}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["Shipping Profile #",we+1]}),s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/shipping-profiles/${q._id}`),"data-testid":`button-view-shipping-${we}`,children:"View Details"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(q).map(([Te,Be])=>Te==="_id"||Te==="__v"||Te==="userId"||Te==="user"||Te==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground capitalize",children:Te.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"break-words",children:typeof Be=="object"&&Be!==null?JSON.stringify(Be):String(Be||"N/A")})]},Te))})]},q._id||we))})})]})}),s.jsx(_t,{value:"inventory",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Product Inventory"}),s.jsx(De,{children:"All products listed by this user"})]}),s.jsx(ie,{children:O?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading inventory..."})]}):z.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No inventory found"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Product"}),s.jsx(te,{children:"Price"}),s.jsx(te,{children:"Stock"}),s.jsx(te,{children:"Category"}),s.jsx(te,{children:"Status"}),s.jsx(te,{children:"Actions"})]})}),s.jsx(Jt,{children:z.map(q=>{var we,Te,Be;return s.jsxs(Je,{"data-testid":`product-${q._id||q.id}`,children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[((we=q.images)==null?void 0:we[0])&&s.jsx("img",{src:q.images[0],alt:q.name,className:"h-10 w-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{children:q.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(Te=q.description)==null?void 0:Te.substring(0,50),"..."]})]})]})}),s.jsxs(ne,{children:["$",q.price]}),s.jsx(ne,{children:q.quantity||0}),s.jsx(ne,{children:((Be=q.category)==null?void 0:Be.name)||"N/A"}),s.jsx(ne,{children:s.jsx(Ve,{variant:q.active?"default":"secondary",children:q.active?"Active":"Inactive"})}),s.jsx(ne,{children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/inventory/${q._id||q.id}`),"data-testid":`button-view-product-${q._id||q.id}`,children:"View Details"})})]},q._id||q.id)})})]})})})]})}),s.jsx(_t,{value:"activities",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"User Activities"}),s.jsx(De,{children:"Orders, purchases, and giveaways"})]}),s.jsx(ie,{children:s.jsxs(vc,{defaultValue:"orders",className:"w-full",onValueChange:l,children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ro,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-2 lg:grid-cols-4",children:[s.jsx(Nt,{value:"orders","data-testid":"tab-activities-orders",className:"flex-shrink-0 sm:flex-shrink",children:"Orders"}),s.jsx(Nt,{value:"purchases","data-testid":"tab-activities-purchases",className:"flex-shrink-0 sm:flex-shrink",children:"Purchases"}),s.jsx(Nt,{value:"giveaways","data-testid":"tab-activities-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:"Giveaways"}),s.jsxs(Nt,{value:"transactions","data-testid":"tab-activities-transactions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(cc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Transactions"]})]})}),s.jsx(_t,{value:"orders",children:b?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading orders..."})]}):F.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No orders found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Order ID"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Items"}),s.jsx(te,{children:"Total"}),s.jsx(te,{children:"Status"}),s.jsx(te,{children:"Actions"})]})}),s.jsx(Jt,{children:F.map(q=>{var Te,Be;const we=((Te=q.items)==null?void 0:Te.reduce((wt,xt)=>wt+(xt.total||xt.totalPrice||xt.price||0),0))||0;return s.jsxs(Je,{"data-testid":`order-${q._id||q.id}`,children:[s.jsx(ne,{className:"font-medium",children:q.invoice||"N/A"}),s.jsx(ne,{children:q.createdAt?new Date(q.createdAt).toLocaleDateString():"N/A"}),s.jsxs(ne,{children:[((Be=q.items)==null?void 0:Be.length)||0," items"]}),s.jsxs(ne,{children:["$",we.toFixed(2)]}),s.jsx(ne,{children:s.jsx(Ve,{children:q.status||"pending"})}),s.jsx(ne,{children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${q._id||q.id}`),"data-testid":`button-view-order-${q._id||q.id}`,children:"View Details"})})]},q._id||q.id)})})]})})}),s.jsx(_t,{value:"purchases",children:R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading purchases..."})]}):W.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No purchases found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Order ID"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Items"}),s.jsx(te,{children:"Total"}),s.jsx(te,{children:"Status"}),s.jsx(te,{children:"Actions"})]})}),s.jsx(Jt,{children:W.map(q=>{var Te,Be;const we=((Te=q.items)==null?void 0:Te.reduce((wt,xt)=>wt+(xt.total||xt.totalPrice||xt.price||0),0))||0;return s.jsxs(Je,{"data-testid":`purchase-${q._id||q.id}`,children:[s.jsx(ne,{className:"font-medium",children:q.invoice||"N/A"}),s.jsx(ne,{children:q.createdAt?new Date(q.createdAt).toLocaleDateString():"N/A"}),s.jsxs(ne,{children:[((Be=q.items)==null?void 0:Be.length)||0," items"]}),s.jsxs(ne,{children:["$",we.toFixed(2)]}),s.jsx(ne,{children:s.jsx(Ve,{children:q.status||"pending"})}),s.jsx(ne,{children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${q._id||q.id}`),"data-testid":`button-view-purchase-${q._id||q.id}`,children:"View Details"})})]},q._id||q.id)})})]})})}),s.jsx(_t,{value:"giveaways",children:b||R?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading giveaways..."})]}):Me.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No giveaways found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Order ID"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Items"}),s.jsx(te,{children:"Total"}),s.jsx(te,{children:"Status"}),s.jsx(te,{children:"Actions"})]})}),s.jsx(Jt,{children:Me.map(q=>{var Te,Be;const we=((Te=q.items)==null?void 0:Te.reduce((wt,xt)=>wt+(xt.total||xt.totalPrice||xt.price||0),0))||0;return s.jsxs(Je,{"data-testid":`giveaway-${q._id||q.id}`,children:[s.jsx(ne,{className:"font-medium",children:q.invoice||"N/A"}),s.jsx(ne,{children:q.createdAt?new Date(q.createdAt).toLocaleDateString():"N/A"}),s.jsxs(ne,{children:[((Be=q.items)==null?void 0:Be.length)||0," items"]}),s.jsxs(ne,{children:["$",we.toFixed(2)]}),s.jsx(ne,{children:s.jsx(Ve,{children:q.status||"pending"})}),s.jsx(ne,{children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${a}/details/orders/${q._id||q.id}`),"data-testid":`button-view-giveaway-${q._id||q.id}`,children:"View Details"})})]},q._id||q.id)})})]})})}),s.jsx(_t,{value:"transactions",children:T?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading transactions..."})]}):X.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No transactions found"}):s.jsx("div",{className:"rounded-md border mt-4",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Transaction ID"}),s.jsx(te,{children:"From"}),s.jsx(te,{children:"To"}),s.jsx(te,{children:"Type"}),s.jsx(te,{children:"Amount"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Status"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:X.map(q=>{const we=q._id||q.id,Te=typeof q.from=="object"&&(`${q.from.firstName||""} ${q.from.lastName||""}`.trim()||q.from.userName||q.from.email)||"Unknown",Be=typeof q.to=="object"&&(`${q.to.firstName||""} ${q.to.lastName||""}`.trim()||q.to.userName||q.to.email)||"Unknown",wt=q.amount||0,xt=q.type||"N/A",dn=q.status||"pending",un=is=>{switch(is.toLowerCase()){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";default:return"secondary"}};return s.jsxs(Je,{"data-testid":`transaction-${we}`,children:[s.jsx(ne,{className:"font-mono text-xs",children:String(we).slice(-8)}),s.jsx(ne,{children:Te}),s.jsx(ne,{children:Be}),s.jsx(ne,{className:"capitalize",children:xt}),s.jsxs(ne,{children:["$",wt.toFixed(2)]}),s.jsx(ne,{children:q.createdAt?new Date(q.createdAt).toLocaleDateString():"N/A"}),s.jsx(ne,{children:s.jsx(Ve,{variant:un(dn),children:dn})}),s.jsx(ne,{className:"text-right",children:s.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>{q.receipt?window.open(q.receipt,"_blank"):(d(q),h(!0))},"data-testid":`button-print-receipt-${we}`,children:[s.jsx(Zf,{className:"h-4 w-4 mr-2"}),"Receipt"]})})]},we)})})]})})})]})})]})})]})]}),s.jsx(ni,{open:f,onOpenChange:h,children:s.jsxs(vs,{className:"max-w-md",children:[s.jsx(ys,{children:s.jsx(ws,{children:"Transaction Receipt"})}),c&&s.jsxs("div",{id:"receipt-content-user",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:r.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(c._id||c.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:c.createdAt?new Date(c.createdAt).toLocaleDateString():c.date?new Date(c.date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:c.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(Ve,{variant:(c.status||"pending").toLowerCase()==="completed"?"default":(c.status||"pending").toLowerCase()==="failed"?"destructive":"secondary",children:c.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof c.from=="object"&&(`${c.from.firstName||""} ${c.from.lastName||""}`.trim()||c.from.userName||c.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof c.to=="object"&&(`${c.to.firstName||""} ${c.to.lastName||""}`.trim()||c.to.userName||c.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(c.total)||0).toFixed(2)]})]}),(()=>{const q=parseFloat(c.stripe_fee)||0,we=parseFloat(c.extra_charges)||0,Te=q+we;return Te>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",me,"% + ",ue,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",Te.toFixed(2)]})]})})(),c.serviceFee&&parseFloat(c.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.serviceFee).toFixed(2)]})]}),c.shippingFee&&parseFloat(c.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(c.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(c.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",B]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(J,{variant:"outline",onClick:()=>h(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(J,{onClick:()=>{const q=document.getElementById("receipt-content-user");if(q){const we=window.open("","_blank");we&&(we.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${q.innerHTML}
                        </body>
                      </html>
                    `),we.document.close(),we.focus(),setTimeout(()=>{we.print(),we.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Zf,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]}):s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"User not found"}),s.jsx(J,{onClick:()=>t("/admin"),className:"mt-4",children:"Back to Dashboard"})]})})})}function RB(){var _,g,C,j,y,x,P,D,O,E;const[,t]=qt(),[,e]=zo("/admin/users/:userId/details/:itemType/:itemId"),{userId:n,itemType:r,itemId:i}=e||{},a=()=>{switch(r){case"addresses":return[`/api/address/all/${n}`];case"shipping-profiles":return[`/api/shipping/profiles/${n}`];case"inventory":return["/api/products",n];case"orders":return["/api/orders",n];default:return[`/api/admin/users/${n}/${r}`]}},{data:o,isLoading:l}=Ze({queryKey:a(),enabled:!!n&&!!r}),f=(o?o.products?o.products:o.orders?o.orders:Array.isArray(o)?o:Array.isArray(o.data)?o.data:[]:[]).find(b=>(b._id||b.id)===i);if(l)return s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading details..."})]})})});if(!f)return s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"Item not found"}),s.jsx(J,{onClick:()=>t(`/admin/users/${n}`),className:"mt-4",children:"Back to User"})]})})});const h=()=>{switch(r){case"addresses":return nw;case"orders":return fa;case"shipping-profiles":return lu;case"inventory":return Wt;default:return Wt}},m=()=>{switch(r){case"addresses":return"Address Details";case"orders":return`Order #${f.invoice||f._id}`;case"shipping-profiles":return"Shipping Profile Details";case"inventory":return"Inventory Item Details";default:return"Item Details"}},v=h();return s.jsx(qe,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(J,{variant:"ghost",onClick:()=>t(`/admin/users/${n}`),"data-testid":"button-back-to-user",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to User"]})}),s.jsxs(vc,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Ro,{children:[s.jsx(Nt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(Nt,{value:"details","data-testid":"tab-details",children:"Details"}),r==="orders"&&s.jsx(Nt,{value:"items","data-testid":"tab-items",children:"Items"}),r==="inventory"&&s.jsx(Nt,{value:"reviews","data-testid":"tab-reviews",children:"Reviews"})]}),s.jsx(_t,{value:"overview",children:s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(v,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(de,{children:m()}),s.jsx(De,{children:"Basic information"})]})]})}),s.jsxs(ie,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:f.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:f.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium text-lg",children:f.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(Ve,{children:f.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium",children:[f.address,", ",f.city,", ",f.region,", ",f.country]})]})]}),r==="orders"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:f.createdAt?new Date(f.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Ve,{children:f.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-2xl",children:["$",((f.total||0)+(f.servicefee||0)+(f.tax||0)+(f.shipping_fee||0)).toFixed(2)]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(f).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="user"||b==="taxCode"?null:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(f).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="orderId"||b==="ownerId"||b==="favorite"||b==="deleted"||b==="reviews"||b==="favorited"||b==="discountedPrice"||b==="colors"||b==="tokshow"||b==="tiktokshow"?null:b==="images"&&Array.isArray(S)&&S.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((R,N)=>s.jsx("img",{src:R,alt:`Product ${N+1}`,className:"h-24 w-24 rounded object-cover border"},N))})]},b):b==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(Ve,{variant:S?"default":"secondary",children:S?"Yes":"No"})]},b):b==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(S||"N/A").replace(/_/g," ")})]},b):b==="sizes"&&Array.isArray(S)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:S.join(", ")||"N/A"})]},b):b==="category"&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):(b==="shippingProfile"||b==="shipping_profile")&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))})]})]})}),s.jsx(_t,{value:"details",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Complete Details"}),s.jsx(De,{children:"All available information"})]}),s.jsxs(ie,{children:[r==="addresses"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"font-medium text-lg",children:f.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-lg",children:f.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-lg",children:f.phone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address Type"}),s.jsx("p",{className:"font-medium text-lg",children:f.isDefault?"Default":"Secondary"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Street Address"}),s.jsx("p",{className:"font-medium text-lg",children:f.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"City"}),s.jsx("p",{className:"font-medium text-lg",children:f.city})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Region/State"}),s.jsx("p",{className:"font-medium text-lg",children:f.region})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Postal Code"}),s.jsx("p",{className:"font-medium text-lg",children:f.postalCode||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium text-lg",children:f.country})]})]}),r==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invoice Number"}),s.jsx("p",{className:"font-medium",children:f.invoice||f._id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:f.createdAt?new Date(f.createdAt).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Ve,{children:f.status||"pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium text-xl",children:["$",((f.total||0)+(f.servicefee||0)+(f.tax||0)+(f.shipping_fee||0)).toFixed(2)]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"font-medium",children:f.notes||"No notes"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((_=f.customer)==null?void 0:_.firstName)||""} ${((g=f.customer)==null?void 0:g.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((C=f.customer)==null?void 0:C.email)||"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),s.jsx("p",{className:"font-medium",children:(j=f.customer)!=null&&j.address?`${f.customer.address.addrress1}, ${f.customer.address.city}, ${f.customer.address.state} ${f.customer.address.zipcode}`:"N/A"})]}),((x=(y=f.customer)==null?void 0:y.address)==null?void 0:x.phone)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:f.customer.address.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Seller Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:`${((P=f.seller)==null?void 0:P.firstName)||""} ${((D=f.seller)==null?void 0:D.lastName)||""}`.trim()||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:((O=f.seller)==null?void 0:O.email)||"N/A"})]}),((E=f.seller)==null?void 0:E.userName)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium",children:f.seller.userName})]})]})]})]}),r==="shipping-profiles"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(f).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="user"||b==="taxCode"?null:s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))}),r==="inventory"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(f).map(([b,S])=>b==="_id"||b==="__v"||b==="userId"||b==="orderId"||b==="ownerId"||b==="favorite"||b==="deleted"||b==="reviews"||b==="favorited"||b==="discountedPrice"||b==="colors"||b==="tokshow"||b==="tiktokshow"?null:b==="images"&&Array.isArray(S)&&S.length>0?s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize mb-2",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((R,N)=>s.jsx("img",{src:R,alt:`Product ${N+1}`,className:"h-24 w-24 rounded object-cover border"},N))})]},b):b==="featured"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Featured"}),s.jsx(Ve,{variant:S?"default":"secondary",children:S?"Yes":"No"})]},b):b==="listing_type"?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Listing Type"}),s.jsx("p",{className:"font-medium text-lg",children:String(S||"N/A").replace(/_/g," ")})]},b):b==="sizes"&&Array.isArray(S)?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Sizes"}),s.jsx("p",{className:"font-medium text-lg",children:S.join(", ")||"N/A"})]},b):b==="category"&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Category"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):(b==="shippingProfile"||b==="shipping_profile")&&typeof S=="object"&&S!==null?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:"Shipping Profile"}),s.jsx("p",{className:"font-medium text-lg",children:S.name||"N/A"})]},b):s.jsxs("div",{className:b==="description"?"md:col-span-2":"",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),s.jsx("p",{className:"font-medium text-lg break-words",children:typeof S=="object"&&S!==null?JSON.stringify(S):String(S||"N/A")})]},b))})]})]})}),r==="orders"&&s.jsx(_t,{value:"items",children:s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(de,{children:"Order Items"}),s.jsx(De,{children:"Products in this order"})]})]})}),s.jsx(ie,{children:!f.items||f.items.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No items in this order"}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Product"}),s.jsx(te,{children:"Quantity"}),s.jsx(te,{children:"Price"}),s.jsx(te,{className:"text-right",children:"Total"})]})}),s.jsx(Jt,{children:f.items.map((b,S)=>{var R;return s.jsxs(Je,{children:[s.jsx(ne,{className:"font-medium",children:((R=b.productId)==null?void 0:R.name)||"N/A"}),s.jsx(ne,{children:b.quantity||1}),s.jsxs(ne,{children:["$",b.price||0]}),s.jsxs(ne,{className:"text-right",children:["$",(b.quantity||1)*(b.price||0)]})]},b._id||S)})})]})})})]})}),r==="inventory"&&s.jsx(_t,{value:"reviews",children:s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wt,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(de,{children:"Product Reviews"}),s.jsx(De,{children:"Customer reviews for this product"})]})]})}),s.jsx(ie,{children:!f.reviews||f.reviews.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No reviews yet"}):s.jsx("div",{className:"space-y-4",children:f.reviews.map((b,S)=>{var R;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.userName||((R=b.user)==null?void 0:R.name)||"Anonymous"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.createdAt?new Date(b.createdAt).toLocaleDateString():"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-lg font-semibold",children:b.rating||"N/A"}),s.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:"/ 5"})]})]}),s.jsx("p",{className:"text-sm",children:b.comment||b.review||"No comment"})]},b._id||S)})})})]})})]})]})})}function DB(){var b;const[,t]=qt(),[e,n]=p.useState(""),[r,i]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState("all"),[d,f]=p.useState(!1),[h,m]=p.useState(1),[v]=p.useState(10);let _=`/api/admin/products?page=${h}&limit=${v}`;e&&(_+=`&title=${encodeURIComponent(e)}`),r&&r!=="all"&&(_+=`&category=${encodeURIComponent(r)}`),l&&l!=="all"&&(_+=`&price=${encodeURIComponent(l)}`);const{data:g,isLoading:C}=Ze({queryKey:[_]}),j=((b=g==null?void 0:g.data)==null?void 0:b.products)||[],y=new Map;j.forEach(S=>{if(S.category){const R=typeof S.category=="object"?S.category._id:S.category,N=typeof S.category=="object"?S.category.name:S.category;R&&!y.has(R)&&y.set(R,N)}});const x=Array.from(y.entries()).map(([S,R])=>({id:S,name:R})),P=a&&a!=="all"?j.filter(S=>(S.status||"active")===a):j,D=g!=null&&g.data?{currentPage:h,totalPages:g.data.pages,totalItems:g.data.totalDoc,hasNextPage:h<g.data.pages,hasPrevPage:h>1}:void 0;p.useEffect(()=>{m(1)},[e,r,a,l]);const O=()=>{n(""),i("all"),o("all"),c("all")},E=e||r&&r!=="all"||a&&a!=="all"||l&&l!=="all";return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Products"}),s.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-products",children:(D==null?void 0:D.totalItems)||j.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All products in inventory"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Active Products"}),s.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-products",children:j.filter(S=>S.status==="active"||!S.status).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"On current page"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Categories"}),s.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-categories-count",children:new Set(j.map(S=>{var R;return((R=S.category)==null?void 0:R._id)||S.category}).filter(Boolean)).size}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique categories"})]})]})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"All Products"}),s.jsx(De,{children:"View and manage all product inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>f(!d),"data-testid":"button-toggle-filters",className:"whitespace-nowrap",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Filters",E&&s.jsx(Ve,{variant:"secondary",className:"ml-2",children:[e,r!=="all"&&r,a!=="all"&&a,l!=="all"&&l].filter(Boolean).length})]}),E&&s.jsx(J,{variant:"ghost",size:"sm",onClick:O,"data-testid":"button-clear-filters",children:s.jsx(Sr,{className:"h-4 w-4"})})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search products...",value:e,onChange:S=>n(S.target.value),className:"pl-10","data-testid":"input-search-products"})]}),s.jsxs(pn,{value:r,onValueChange:i,children:[s.jsx(ln,{"data-testid":"select-category-filter",children:s.jsx(gn,{placeholder:"All Categories"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All Categories"}),x.map(S=>s.jsx(re,{value:S.id,children:S.name},S.id))]})]}),s.jsxs(pn,{value:a,onValueChange:o,children:[s.jsx(ln,{"data-testid":"select-status-filter",children:s.jsx(gn,{placeholder:"All Status"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All Status"}),s.jsx(re,{value:"active",children:"Active"}),s.jsx(re,{value:"inactive",children:"Inactive"}),s.jsx(re,{value:"draft",children:"Draft"})]})]}),s.jsxs(pn,{value:l,onValueChange:c,children:[s.jsx(ln,{"data-testid":"select-price-filter",children:s.jsx(gn,{placeholder:"All Prices"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All Prices"}),s.jsx(re,{value:"0-25",children:"$0 - $25"}),s.jsx(re,{value:"25-50",children:"$25 - $50"}),s.jsx(re,{value:"50-100",children:"$50 - $100"}),s.jsx(re,{value:"100-",children:"$100+"})]})]})]})]})}),s.jsx(ie,{children:C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):P.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{className:"min-w-[250px]",children:"Product"}),s.jsx(te,{className:"hidden sm:table-cell",children:"Owner"}),s.jsx(te,{className:"hidden md:table-cell",children:"Category"}),s.jsx(te,{className:"hidden md:table-cell",children:"Type"}),s.jsx(te,{className:"hidden xl:table-cell",children:"Price"}),s.jsx(te,{className:"hidden 2xl:table-cell",children:"Stock"}),s.jsx(te,{className:"hidden 2xl:table-cell",children:"Featured"}),s.jsx(te,{children:"Status"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:P.map(S=>{var R,N,T;return s.jsxs(Je,{"data-testid":`row-product-${S._id||S.id}`,onClick:()=>t(`/admin/products/${S._id||S.id}`),className:"cursor-pointer hover-elevate",children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[(R=S.images)!=null&&R[0]?s.jsx("img",{src:S.images[0],alt:S.name,className:"h-10 w-10 rounded object-cover flex-shrink-0"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(Wt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:S.name}),s.jsxs("div",{className:"text-sm text-muted-foreground sm:hidden truncate",children:["Owner: ",typeof S.ownerId=="object"?S.ownerId.userName||S.ownerId.email||"Unknown":"N/A"]})]})]})}),s.jsx(ne,{className:"hidden sm:table-cell","data-testid":`text-owner-${S._id||S.id}`,children:s.jsx("div",{className:"max-w-[150px]",children:typeof S.ownerId=="object"?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium truncate",children:S.ownerId.firstName&&S.ownerId.lastName?`${S.ownerId.firstName} ${S.ownerId.lastName}`:S.ownerId.userName||"Unknown"}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:S.ownerId.email||""})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})}),s.jsx(ne,{className:"hidden md:table-cell","data-testid":`text-category-${S._id||S.id}`,children:((N=S.category)==null?void 0:N.name)||S.category||"Uncategorized"}),s.jsx(ne,{className:"hidden md:table-cell","data-testid":`text-type-${S._id||S.id}`,children:s.jsx(Ve,{variant:S.listing_type==="auction"?"default":S.listing_type==="giveaway"?"secondary":"outline",children:S.listing_type==="auction"?"Auction":S.listing_type==="giveaway"?"Giveaway":S.listing_type==="buy_now"?"Buy Now":S.listing_type||"Unknown"})}),s.jsxs(ne,{className:"hidden xl:table-cell","data-testid":`text-price-${S._id||S.id}`,children:["$",((T=S.price)==null?void 0:T.toFixed(2))||"0.00"]}),s.jsx(ne,{className:"hidden 2xl:table-cell",children:S.quantity||0}),s.jsx(ne,{className:"hidden 2xl:table-cell",children:s.jsx(Ve,{variant:S.featured?"default":"outline","data-testid":`badge-featured-${S._id||S.id}`,children:S.featured?"Yes":"No"})}),s.jsx(ne,{children:s.jsx(Ve,{variant:S.status==="active"||!S.status?"default":"secondary",children:S.status||"active"})}),s.jsx(ne,{className:"text-right",children:s.jsxs(J,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),t(`/admin/products/${S._id||S.id}`)},"data-testid":`button-view-product-${S._id||S.id}`,className:"whitespace-nowrap",children:[s.jsx(wa,{className:"h-4 w-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"View Details"})]})})]},S._id||S.id)})})]})}),D&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",D.currentPage," of ",D.totalPages," (",D.totalItems," total products)"]}),s.jsxs("span",{className:"sm:hidden",children:[D.currentPage," / ",D.totalPages]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>m(h-1),disabled:!D.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>m(h+1),disabled:!D.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Is,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function MB(){var o,l;const[,t]=qt(),[,e]=zo("/admin/products/:productId"),{user:n}=Ma(),r=e==null?void 0:e.productId;p.useEffect(()=>{n!=null&&n.admin||t("/")},[n==null?void 0:n.admin,t]);const{data:i,isLoading:a}=Ze({queryKey:[`/api/products/${r}`],enabled:!!r});return a?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading product details..."})]})})}):i?s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs(J,{variant:"ghost",onClick:()=>t("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{className:"text-2xl",children:i.name}),s.jsx(Ve,{variant:i.status==="active"||!i.status?"default":"secondary",children:i.status||"active"})]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-sm",children:i.description||"No description provided"})]}),i.images&&i.images.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center",children:[s.jsx(HO,{className:"h-4 w-4 mr-2"}),"Product Images"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.images.map((c,d)=>s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border",children:s.jsx("img",{src:c,alt:`${i.name} - ${d+1}`,className:"w-full h-full object-cover"})},d))})]})]})]}),i.ownerId&&s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"text-lg flex items-center",children:[s.jsx(dr,{className:"h-5 w-5 mr-2"}),"Product Owner"]})}),s.jsxs(ie,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:typeof i.ownerId=="object"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-name",children:i.ownerId.firstName&&i.ownerId.lastName?`${i.ownerId.firstName} ${i.ownerId.lastName}`:i.ownerId.userName||"Unknown"})]}),i.ownerId.email&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium text-sm break-all","data-testid":"text-owner-email",children:i.ownerId.email})]}),i.ownerId.country&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country"}),s.jsx("p",{className:"font-medium","data-testid":"text-owner-country",children:i.ownerId.country})]}),i.ownerId.seller!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Type"}),s.jsx(Ve,{variant:i.ownerId.seller?"default":"secondary",children:i.ownerId.seller?"Seller":"Customer"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-owner-id",children:String(i.ownerId)})]})}),s.jsx(J,{variant:"outline",className:"w-full mt-4",onClick:()=>t(`/admin/users/${i.ownerId._id||i.ownerId}`),"data-testid":"button-view-seller",children:"View Full Profile"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"text-lg flex items-center",children:[s.jsx(Cs,{className:"h-5 w-5 mr-2"}),"Pricing"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-3xl font-bold","data-testid":"text-product-price",children:["$",((o=i.price)==null?void 0:o.toFixed(2))||"0.00"]})})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"text-lg flex items-center",children:[s.jsx(LO,{className:"h-5 w-5 mr-2"}),"Stock"]})}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-3xl font-bold","data-testid":"text-product-stock",children:i.quantity||0}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"units available"})]})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"text-lg flex items-center",children:[s.jsx(tL,{className:"h-5 w-5 mr-2"}),"Category"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm","data-testid":"text-product-category",children:((l=i.category)==null?void 0:l.name)||i.category||"Uncategorized"})})]}),i.shipping_profile&&s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"text-lg flex items-center",children:[s.jsx(lu,{className:"h-5 w-5 mr-2"}),"Shipping Profile"]})}),s.jsx(ie,{children:s.jsx("div",{className:"space-y-3 text-sm",children:typeof i.shipping_profile=="object"&&i.shipping_profile?s.jsxs(s.Fragment,{children:[i.shipping_profile.name&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-name",children:i.shipping_profile.name})]}),i.shipping_profile.weight!==void 0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Weight"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-weight",children:[i.shipping_profile.weight," ",i.shipping_profile.scale||"oz"]})]}),(i.shipping_profile.length||i.shipping_profile.width||i.shipping_profile.height)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Dimensions (L  W  H)"}),s.jsxs("p",{className:"font-medium","data-testid":"text-shipping-dimensions",children:[i.shipping_profile.length||0,"  ",i.shipping_profile.width||0,"  ",i.shipping_profile.height||0," in"]})]}),i.shipping_profile.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Description"}),s.jsx("p",{className:"font-medium","data-testid":"text-shipping-description",children:i.shipping_profile.description})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Profile ID"}),s.jsx("p",{className:"font-mono text-xs break-all","data-testid":"text-shipping-id",children:String(i.shipping_profile)})]})})})]})]})]})]})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-8",children:[s.jsxs(J,{variant:"ghost",onClick:()=>t("/admin/inventory"),className:"mb-6","data-testid":"button-back-to-inventory",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Product not found"})]})]})})}function OB(){const[,t]=qt(),{toast:e}=yn(),[n,r]=p.useState(""),[i,a]=p.useState("all"),[o,l]=p.useState(!1),{data:c,isLoading:d}=Ze({queryKey:["admin-all-orders"],queryFn:async()=>{const y=await fetch("/api/orders",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch orders");return await y.json()}}),f=(c==null?void 0:c.orders)||(c==null?void 0:c.data)||[],h=It({mutationFn:async({id:y,type:x})=>ht("PUT",`/api/admin/refund/${y}`,{type:x}),onSuccess:()=>{pt.invalidateQueries({queryKey:["admin-all-orders"]}),e({title:"Success",description:"Refund processed successfully"})},onError:y=>{e({title:"Error",description:y.message||"Failed to process refund",variant:"destructive"})}}),m=f.filter(y=>{var x;if(n){const P=String(y.invoice||y._id||"").toLowerCase(),D=typeof y.customer=="object"&&(`${y.customer.firstName||""} ${y.customer.lastName||""}`.trim()||y.customer.userName||y.customer.email)||"",O=n.toLowerCase();if(!P.includes(O)&&!D.toLowerCase().includes(O))return!1}return!(i!=="all"&&((x=y.status)==null?void 0:x.toLowerCase())!==i.toLowerCase())}),v=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",_=y=>{switch(y==null?void 0:y.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}},g=()=>{r(""),a("all")},C=n||i!=="all",j=[n,i!=="all"].filter(Boolean).length;return d?s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsx(se,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]})})})]})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all platform orders"})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fa,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(de,{children:"All Orders"}),s.jsxs(De,{children:[m.length," of ",f.length," orders"]})]})]}),s.jsxs(J,{variant:o?"default":"outline",size:"sm",onClick:()=>l(!o),"data-testid":"button-toggle-filters",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Filters",j>0&&s.jsx(Ve,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:j})]})]}),o&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Invoice or customer...",value:n,onChange:y=>r(y.target.value),className:"pl-9","data-testid":"input-search-orders"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(pn,{value:i,onValueChange:a,children:[s.jsx(ln,{"data-testid":"select-status-filter",children:s.jsx(gn,{placeholder:"All statuses"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All Statuses"}),s.jsx(re,{value:"pending",children:"Pending"}),s.jsx(re,{value:"processing",children:"Processing"}),s.jsx(re,{value:"shipped",children:"Shipped"}),s.jsx(re,{value:"delivered",children:"Delivered"}),s.jsx(re,{value:"completed",children:"Completed"}),s.jsx(re,{value:"cancelled",children:"Cancelled"})]})]})]})]}),C&&s.jsxs(J,{variant:"ghost",size:"sm",onClick:g,"data-testid":"button-clear-filters",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(ie,{children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:C?"No orders match your filters":"No orders found"}),C&&s.jsx(J,{variant:"outline",onClick:g,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Order ID"}),s.jsx(te,{children:"Customer"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Items"}),s.jsx(te,{children:"Total"}),s.jsx(te,{children:"Status"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:m.map(y=>{var S;const x=y._id||y.id,P=y.invoice||x,D=typeof y.customer=="object"&&y.customer!==null?`${y.customer.firstName||""} ${y.customer.lastName||""}`.trim()||y.customer.userName||y.customer.email:"Unknown",O=((S=y.items)==null?void 0:S.length)||0,b=(()=>{if(y.totalAmount||y.total)return y.totalAmount||y.total;if(!y.items||y.items.length===0)return 0;const R=y.items.reduce((A,L)=>{const H=L.price||0,V=L.quantity||1;return A+H*V},0),N=y.shipping_fee||y.shippingFee||y.shipping||0,T=y.tax||0;return R+N+T})();return s.jsxs(Je,{children:[s.jsx(ne,{className:"font-mono text-xs","data-testid":`text-order-id-${x}`,children:P}),s.jsx(ne,{"data-testid":`text-customer-${x}`,children:D}),s.jsx(ne,{"data-testid":`text-date-${x}`,children:v(y.createdAt||y.orderDate)}),s.jsxs(ne,{"data-testid":`text-items-${x}`,children:[O," ",O===1?"item":"items"]}),s.jsxs(ne,{"data-testid":`text-total-${x}`,children:["$",b.toFixed(2)]}),s.jsx(ne,{children:s.jsx(Ve,{variant:_(y.status),"data-testid":`badge-status-${x}`,children:y.status||"pending"})}),s.jsx(ne,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm","data-testid":`button-actions-${x}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(an,{onClick:()=>t(`/admin/orders/${x}`),"data-testid":`menu-view-order-${x}`,children:[s.jsx(wa,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsx(bi,{}),s.jsxs(an,{onClick:()=>{h.mutate({id:x,type:"order"})},disabled:h.isPending,"data-testid":`menu-refund-order-${x}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Refund Order"]})]})]})})]},x)})})]})})})]})]})})}function LB(){var g,C;const[,t]=qt(),[,e]=zo("/admin/orders/:orderId"),n=e==null?void 0:e.orderId,{data:r,isLoading:i}=Ze({queryKey:[`admin-order-${n}`],queryFn:async()=>{const j=await fetch(`/api/orders/${n}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch order");const y=await j.json();return y.success?y.data:y},enabled:!!n}),a=(r==null?void 0:r.order)||(r==null?void 0:r.data)||r,o=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",l=j=>{switch(j==null?void 0:j.toLowerCase()){case"completed":case"delivered":return"default";case"pending":case"processing":return"secondary";case"shipped":return"outline";case"cancelled":return"destructive";default:return"secondary"}};if(i)return s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(!a)return s.jsx(qe,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Wt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Order not found"}),s.jsx(J,{onClick:()=>t("/admin/orders"),className:"mt-4",children:"Back to Orders"})]})})});const c=typeof a.customer=="object"?`${a.customer.firstName||""} ${a.customer.lastName||""}`.trim()||a.customer.userName||a.customer.email:"Unknown",d=typeof a.customer=="object"?a.customer.email:"",h=!a.items||a.items.length===0?0:a.items.reduce((j,y)=>{const x=y.price||0,P=y.quantity||1;return j+x*P},0),m=a.shipping_fee||a.shippingFee||a.shipping||0,v=a.tax||0,_=h+m+v;return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(J,{variant:"ghost",onClick:()=>t("/admin/orders"),className:"mb-4","data-testid":"button-back-to-orders",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Orders"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Order Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order ID: ",a.invoice||n]})]}),s.jsx(Ve,{variant:l(a.status),className:"text-lg py-2 px-4 w-fit","data-testid":"badge-order-status",children:a.status||"pending"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center",children:[s.jsx(Wt,{className:"h-5 w-5 mr-2"}),"Order Items"]}),s.jsxs(De,{children:[((g=a.items)==null?void 0:g.length)||0," items"]})]}),s.jsx(ie,{children:a.items&&a.items.length>0?s.jsx("div",{className:"space-y-4",children:a.items.map((j,y)=>{var E,b,S,R,N,T;const x=((E=j.productId)==null?void 0:E.name)||((b=j.productId)==null?void 0:b.title)||j.name||j.title||"Unknown Product",P=((S=j.productId)==null?void 0:S.image)||((N=(R=j.productId)==null?void 0:R.images)==null?void 0:N[0])||j.image||((T=j.images)==null?void 0:T[0]),D=j.quantity||1,O=j.price||0;return s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg","data-testid":`order-item-${y}`,children:[P&&s.jsx("img",{src:P,alt:x,className:"w-16 h-16 object-cover rounded","data-testid":`img-product-${y}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium","data-testid":`text-product-name-${y}`,children:x}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",D]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(O*D).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",O.toFixed(2)," each"]})]})]},y)})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items found"})})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center",children:[s.jsx(cc,{className:"h-5 w-5 mr-2"}),"Order Summary"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3","data-testid":"order-summary",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",h.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee"}),s.jsxs("span",{children:["$",m.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",v.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-3 border-t",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{"data-testid":"text-order-total",children:["$",_.toFixed(2)]})]})]})})]}),a.shippingAddress&&s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center",children:[s.jsx(nw,{className:"h-5 w-5 mr-2"}),"Shipping Address"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"text-sm space-y-1","data-testid":"shipping-address",children:[a.shippingAddress.street&&s.jsx("p",{children:a.shippingAddress.street}),a.shippingAddress.city&&s.jsxs("p",{children:[a.shippingAddress.city,a.shippingAddress.state&&`, ${a.shippingAddress.state}`,a.shippingAddress.zipCode&&` ${a.shippingAddress.zipCode}`]}),a.shippingAddress.country&&s.jsx("p",{children:a.shippingAddress.country})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center",children:[s.jsx(dr,{className:"h-5 w-5 mr-2"}),"Customer"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-3","data-testid":"customer-info",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:c}),d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}),((C=a.customer)==null?void 0:C.address)&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Shipping Address"}),s.jsxs("div",{className:"text-sm space-y-1",children:[a.customer.address.street&&s.jsx("p",{children:a.customer.address.street}),a.customer.address.city&&s.jsxs("p",{children:[a.customer.address.city,a.customer.address.state&&`, ${a.customer.address.state}`]}),(a.customer.address.zipcode||a.customer.address.zipCode)&&s.jsx("p",{children:a.customer.address.zipcode||a.customer.address.zipCode}),a.customer.address.country&&s.jsx("p",{children:a.customer.address.country}),a.customer.address.email&&s.jsx("p",{className:"pt-1 text-muted-foreground",children:a.customer.address.email}),a.customer.address.phone&&s.jsx("p",{className:"text-muted-foreground",children:a.customer.address.phone})]})]})]})})]}),a.seller&&s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center",children:[s.jsx(eL,{className:"h-5 w-5 mr-2"}),"Seller"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2","data-testid":"seller-info",children:[s.jsx("p",{className:"font-medium",children:typeof a.seller=="object"?`${a.seller.firstName||""} ${a.seller.lastName||""}`.trim()||a.seller.userName||a.seller.email:a.seller}),typeof a.seller=="object"&&a.seller.email&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.seller.email})]})})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center",children:[s.jsx(lu,{className:"h-5 w-5 mr-2"}),"Order Information"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-2 text-sm","data-testid":"order-info",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:o(a.createdAt||a.orderDate)})]}),a.shippeddate&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipped Date"}),s.jsx("p",{className:"font-medium",children:o(a.shippeddate)})]}),a.payment_status&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),s.jsx("p",{className:"font-medium capitalize","data-testid":"text-payment-status",children:a.payment_status})]}),a.orderType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),s.jsx("p",{className:"font-medium capitalize",children:a.orderType})]}),a.tracking_number&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"font-medium font-mono text-xs","data-testid":"text-tracking-number",children:a.tracking_number})]}),a.tracking_url&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking URL"}),s.jsx("a",{href:a.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline block break-all","data-testid":"link-tracking-url",children:"Track Package "})]}),a.label&&s.jsx("div",{className:"pt-2",children:s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>window.open(a.label,"_blank"),className:"w-full","data-testid":"button-print-label",children:[s.jsx(lu,{className:"h-4 w-4 mr-2"}),"Print Shipping Label"]})})]})})]})]})]})]})})}function FB(){const{toast:t}=yn(),{settings:e}=Zu(),[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(null),[c,d]=p.useState(!1),[f,h]=p.useState(1),{data:m,isLoading:v}=Ze({queryKey:["admin-transactions"],queryFn:async()=>{const N=await fetch("/api/admin/transactions",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch transactions");const T=await N.json();return T.success?T.data:T}}),{data:_,isLoading:g}=Ze({queryKey:["admin-refunds",f],queryFn:async()=>{const N=await fetch(`/api/admin/refunds?limit=10&page=${f}`,{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch refunds");const T=await N.json();return T.success?T.data:T}}),{data:C}=Ze({queryKey:["admin-settings"],queryFn:async()=>{const N=await fetch("/api/admin/settings",{credentials:"include"});if(!N.ok)throw new Error("Failed to fetch settings");const T=await N.json();return T.success?T.data:T}}),j=(m==null?void 0:m.transactions)||(m==null?void 0:m.data)||[],y=(C==null?void 0:C.support_email)||"support@icona.com",x=(C==null?void 0:C.stripe_fee)||"0",P=(C==null?void 0:C.extra_charges)||"0",D=It({mutationFn:async({id:N,type:T})=>ht("PUT",`/api/admin/refund/${N}`,{type:T}),onSuccess:()=>{pt.invalidateQueries({queryKey:["admin-transactions"]}),t({title:"Success",description:"Refund processed successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to process refund",variant:"destructive"})}}),O=j.filter(N=>{if(n){const T=n.toLowerCase(),A=String(N._id||N.id||"").toLowerCase(),L=typeof N.from=="object"&&(`${N.from.firstName||""} ${N.from.lastName||""}`.trim()||N.from.userName||N.from.email)||"",H=typeof N.to=="object"&&(`${N.to.firstName||""} ${N.to.lastName||""}`.trim()||N.to.userName||N.to.email)||"";if(!A.includes(T)&&!L.toLowerCase().includes(T)&&!H.toLowerCase().includes(T))return!1}return!0}),E=N=>N?new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",b=N=>{switch(N==null?void 0:N.toLowerCase()){case"completed":case"success":return"default";case"pending":return"secondary";case"failed":case"cancelled":return"destructive";default:return"secondary"}},S=()=>{r("")},R=n;return v?s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions"})]}),s.jsx(se,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading transactions..."})]})})})]})}):s.jsxs(qe,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor all financial transactions and refunds"})]}),s.jsxs(vc,{defaultValue:"transactions",className:"space-y-4",children:[s.jsxs(Ro,{children:[s.jsx(Nt,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"}),s.jsx(Nt,{value:"refunds","data-testid":"tab-refunds",children:"Refunds"})]}),s.jsx(_t,{value:"transactions",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(cc,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(de,{children:"Transaction History"}),s.jsxs(De,{children:[O.length," of ",j.length," transactions"]})]})]}),s.jsxs(J,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!i),"data-testid":"button-toggle-filters",children:[s.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Filters",R&&s.jsx(Ve,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:"1"})]})]}),i&&s.jsxs("div",{className:"mt-4 space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Transaction ID or user...",value:n,onChange:N=>r(N.target.value),className:"pl-9","data-testid":"input-search-transactions"})]})]})}),R&&s.jsxs(J,{variant:"ghost",size:"sm",onClick:S,"data-testid":"button-clear-filters",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),s.jsx(ie,{children:O.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(cc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:R?"No transactions match your filters":"No transactions found"}),R&&s.jsx(J,{variant:"outline",onClick:S,className:"mt-4",children:"Clear Filters"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Transaction ID"}),s.jsx(te,{children:"From"}),s.jsx(te,{children:"To"}),s.jsx(te,{children:"Type"}),s.jsx(te,{children:"Amount"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Status"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:O.map(N=>{const T=N._id||N.id,A=typeof N.from=="object"&&(`${N.from.firstName||""} ${N.from.lastName||""}`.trim()||N.from.userName||N.from.email)||"Unknown",L=typeof N.to=="object"&&(`${N.to.firstName||""} ${N.to.lastName||""}`.trim()||N.to.userName||N.to.email)||"Unknown",H=N.amount||0,V=N.type||"N/A",z=N.status||"pending";return s.jsxs(Je,{children:[s.jsx(ne,{className:"font-mono text-xs","data-testid":`text-transaction-id-${T}`,children:String(T).slice(-8)}),s.jsx(ne,{"data-testid":`text-from-${T}`,children:A}),s.jsx(ne,{"data-testid":`text-to-${T}`,children:L}),s.jsx(ne,{"data-testid":`text-type-${T}`,children:s.jsx("span",{className:"capitalize",children:V})}),s.jsxs(ne,{"data-testid":`text-amount-${T}`,children:["$",H.toFixed(2)]}),s.jsx(ne,{"data-testid":`text-date-${T}`,children:E(N.createdAt||N.date)}),s.jsx(ne,{children:s.jsx(Ve,{variant:b(z),"data-testid":`badge-status-${T}`,children:z})}),s.jsx(ne,{className:"text-right",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm","data-testid":`button-actions-${T}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(an,{onClick:()=>{N.receipt?window.open(N.receipt,"_blank"):(l(N),d(!0))},"data-testid":`menu-print-receipt-${T}`,children:[s.jsx(Zf,{className:"h-4 w-4 mr-2"}),"Print Receipt"]}),s.jsx(bi,{}),s.jsxs(an,{onClick:()=>{D.mutate({id:T,type:"transaction"})},disabled:D.isPending,"data-testid":`menu-refund-transaction-${T}`,className:"text-orange-600 focus:text-orange-600",children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Refund Transaction"]})]})]})})]},T)})})]})})})]})}),s.jsx(_t,{value:"refunds",children:s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Cs,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx(de,{children:"Refunds"}),s.jsx(De,{children:"View all processed refunds"})]})]})}),s.jsx(ie,{children:g?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading refunds..."})]}):!(_!=null&&_.data)||_.data.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No refunds found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Refund ID"}),s.jsx(te,{children:"Amount"}),s.jsx(te,{children:"Reason"}),s.jsx(te,{children:"Date"}),s.jsx(te,{children:"Status"})]})}),s.jsx(Jt,{children:_.data.map(N=>{const T=N.id,A=(N.amount||0)/100;return s.jsxs(Je,{children:[s.jsx(ne,{className:"font-mono text-xs","data-testid":`text-refund-id-${T}`,children:String(T).slice(-8)}),s.jsxs(ne,{"data-testid":`text-amount-${T}`,children:["$",A.toFixed(2)]}),s.jsx(ne,{"data-testid":`text-reason-${T}`,children:N.reason||"N/A"}),s.jsx(ne,{"data-testid":`text-date-${T}`,children:E(new Date(N.created*1e3).toISOString())}),s.jsx(ne,{children:s.jsx(Ve,{variant:b(N.status),"data-testid":`badge-status-${T}`,children:N.status})})]},T)})})]})})})]})})]})]}),s.jsx(ni,{open:c,onOpenChange:d,children:s.jsxs(vs,{className:"max-w-md",children:[s.jsx(ys,{children:s.jsx(ws,{children:"Transaction Receipt"})}),o&&s.jsxs("div",{id:"receipt-content",className:"space-y-4 p-4",children:[s.jsxs("div",{className:"text-center border-b pb-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:e.app_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Receipt"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),s.jsx("span",{className:"font-mono",children:String(o._id||o.id).slice(-8)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Date:"}),s.jsx("span",{children:E(o.createdAt||o.date)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"capitalize",children:o.type||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(Ve,{variant:b(o.status||"pending"),children:o.status||"pending"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"From:"}),s.jsx("span",{className:"font-medium",children:typeof o.from=="object"&&(`${o.from.firstName||""} ${o.from.lastName||""}`.trim()||o.from.userName||o.from.email)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"To:"}),s.jsx("span",{className:"font-medium",children:typeof o.to=="object"&&(`${o.to.firstName||""} ${o.to.lastName||""}`.trim()||o.to.userName||o.to.email)||"Unknown"})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsxs("span",{children:["$",(parseFloat(o.total)||0).toFixed(2)]})]}),(()=>{const N=parseFloat(o.stripe_fee)||0,T=parseFloat(o.extra_charges)||0,A=N+T;return A>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service Charge (",x,"% + ",P,"%):"]}),s.jsxs("span",{className:"text-destructive",children:["-$",A.toFixed(2)]})]})})(),o.serviceFee&&parseFloat(o.serviceFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Service Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.serviceFee).toFixed(2)]})]}),o.shippingFee&&parseFloat(o.shippingFee)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Fee:"}),s.jsxs("span",{className:"text-destructive",children:["-$",parseFloat(o.shippingFee).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold pt-2 border-t",children:[s.jsx("span",{children:"Amount:"}),s.jsxs("span",{children:["$",(parseFloat(o.amount)||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Thank you for your business!"}),s.jsxs("p",{children:["For support, please contact ",y]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx(J,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-close-receipt",children:"Close"}),s.jsxs(J,{onClick:()=>{const N=document.getElementById("receipt-content");if(N){const T=window.open("","_blank");T&&(T.document.write(`
                      <html>
                        <head>
                          <title>Receipt</title>
                          <style>
                            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
                            .space-y-4 > * + * { margin-top: 1rem; }
                            .space-y-2 > * + * { margin-top: 0.5rem; }
                            .flex { display: flex; }
                            .justify-between { justify-content: space-between; }
                            .items-center { align-items: center; }
                            .text-center { text-align: center; }
                            .border-b { border-bottom: 1px solid #ddd; padding-bottom: 1rem; }
                            .border-t { border-top: 1px solid #ddd; padding-top: 1rem; }
                            .text-muted-foreground { color: #666; }
                            .font-mono { font-family: monospace; }
                            .font-bold { font-weight: bold; }
                            .font-medium { font-weight: 500; }
                            .text-lg { font-size: 1.125rem; }
                            .text-2xl { font-size: 1.5rem; }
                            .text-xs { font-size: 0.75rem; }
                            .text-sm { font-size: 0.875rem; }
                            .capitalize { text-transform: capitalize; }
                          </style>
                        </head>
                        <body>
                          ${N.innerHTML}
                        </body>
                      </html>
                    `),T.document.close(),T.focus(),setTimeout(()=>{T.print(),T.close()},250))}},"data-testid":"button-print-receipt-dialog",children:[s.jsx(Zf,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})})]})}function $B(){const[t,e]=p.useState(""),[n,r]=p.useState(1),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[f,h]=p.useState(""),m=10,_=(()=>{const V=new URLSearchParams;return i&&i!=="all"&&V.append("status",i),o&&V.append("from",o),c&&V.append("to",c),V.append("limit",m.toString()),f&&n>1&&V.append("starting_after",f),V.toString()})(),{data:g,isLoading:C}=Ze({queryKey:["/api/admin/stripe-payouts",i,o,c,f,n],queryFn:async()=>{const V=`/api/admin/stripe-payouts${_?"?"+_:""}`;return console.log("Fetching payouts from:",V),(await fetch(V,{credentials:"include"})).json()},staleTime:0,refetchOnMount:!0}),j=(g==null?void 0:g.data)||[],y=(g==null?void 0:g.has_more)||!1,x=j.filter(V=>{var z;if(t){const F=t.toLowerCase(),W=(((z=V.destination)==null?void 0:z.bank_name)||"").toLowerCase(),Q=(V.id||"").toLowerCase();if(!W.includes(F)&&!Q.includes(F))return!1}return!0}),P=x.reduce((V,z)=>V+(z.amount||0)/100,0),D=x.length,O=D>0?P/D:0;x.length;const E=x,b=(n-1)*m+1,S=(n-1)*m+x.length,R=y?`${S}+`:S,N=V=>{e(V),r(1),h("")},T=()=>{a(""),l(""),d(""),e(""),r(1),h("")},A=()=>{if(y&&j.length>0){const V=j[j.length-1];h(V.id),r(z=>z+1)}},L=()=>{r(1),h("")},H=i||o||c;return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Stripe Payouts"}),s.jsx("p",{className:"text-muted-foreground",children:"View Stripe payout transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Amount"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-amount",children:["$",P.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all payouts"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Payouts"}),s.jsx(pv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-count",children:D}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payout transactions"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Average Payout"}),s.jsx(Nk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-avg-payout",children:["$",O.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs(se,{className:"mb-6",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(de,{className:"text-lg",children:"Filters"})]}),H&&s.jsxs(J,{variant:"ghost",size:"sm",onClick:T,"data-testid":"button-reset-filters",children:[s.jsx(Sr,{className:"h-4 w-4 mr-1"}),"Reset"]})]})}),s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(pn,{value:i,onValueChange:a,children:[s.jsx(ln,{"data-testid":"select-status",children:s.jsx(gn,{placeholder:"All statuses"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All statuses"}),s.jsx(re,{value:"paid",children:"Paid"}),s.jsx(re,{value:"pending",children:"Pending"}),s.jsx(re,{value:"in_transit",children:"In Transit"}),s.jsx(re,{value:"canceled",children:"Canceled"}),s.jsx(re,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"From Date"}),s.jsx(je,{type:"date",value:o,onChange:V=>l(V.target.value),"data-testid":"input-date-from"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"To Date"}),s.jsx(je,{type:"date",value:c,onChange:V=>d(V.target.value),"data-testid":"input-date-to"})]})]})})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Payout Transactions"}),s.jsx(De,{children:"Stripe payout history"})]}),s.jsxs("div",{className:"relative w-full sm:w-64",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search by bank or ID...",value:t,onChange:V=>N(V.target.value),className:"pl-10","data-testid":"input-search-payouts"})]})]})}),s.jsxs(ie,{children:[C?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payouts..."})]}):x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(pv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:t?"No payouts found matching your search":"No payouts found"})]}):s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{className:"min-w-[180px]",children:"Bank"}),s.jsx(te,{className:"text-right",children:"Amount"}),s.jsx(te,{className:"hidden md:table-cell",children:"Currency"}),s.jsx(te,{className:"hidden lg:table-cell",children:"Created"}),s.jsx(te,{className:"hidden lg:table-cell",children:"Arrival Date"}),s.jsx(te,{children:"Type"}),s.jsx(te,{className:"hidden sm:table-cell",children:"Status"})]})}),s.jsx(Jt,{children:E.map(V=>{var me,ue;const z=V.id,F=(V.amount||0)/100,W=V.created?new Date(V.created*1e3):null,Q=V.arrival_date?new Date(V.arrival_date*1e3):null,X=((me=V.destination)==null?void 0:me.bank_name)||"Bank Account",B=((ue=V.destination)==null?void 0:ue.last4)||"";return s.jsxs(Je,{"data-testid":`row-payout-${z}`,children:[s.jsx(ne,{"data-testid":`text-bank-${z}`,children:s.jsxs("div",{className:"max-w-[180px]",children:[s.jsx("div",{className:"font-medium truncate",children:X}),B&&s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["****",B]})]})}),s.jsxs(ne,{className:"text-right font-semibold","data-testid":`text-amount-${z}`,children:["$",F.toFixed(2)]}),s.jsx(ne,{className:"hidden md:table-cell uppercase",children:V.currency||"USD"}),s.jsx(ne,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pl,{className:"h-4 w-4 text-muted-foreground"}),W?W.toLocaleDateString():"N/A"]})}),s.jsx(ne,{className:"hidden lg:table-cell",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pl,{className:"h-4 w-4 text-muted-foreground"}),Q?Q.toLocaleDateString():"N/A"]})}),s.jsx(ne,{children:s.jsx(Ve,{variant:V.automatic?"default":"outline",children:V.automatic?"Automatic":"Manual"})}),s.jsx(ne,{className:"hidden sm:table-cell",children:s.jsx(Ve,{variant:"secondary",children:V.status||"Completed"})})]},z)})})]})}),x.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",b," to ",S," of ",R," payouts"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:L,disabled:n===1,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4"}),"Previous"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",n,y?"+":""]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:A,disabled:!y,"data-testid":"button-next-page",children:["Next",s.jsx(Is,{className:"h-4 w-4"})]})]})]})]})]})]})})}function UB(){const[,t]=qt(),[e,n]=p.useState(1),[r,i]=p.useState(10),[a,o]=p.useState(""),[l,c]=p.useState(""),{data:d,isLoading:f}=Ze({queryKey:["/api/admin/shows",e,r,a,l]}),h=(d==null?void 0:d.data)||[],m=d?{currentPage:e,totalPages:d.pages||1,totalItems:d.totalDoc||0,hasNextPage:e<(d.pages||1),hasPrevPage:e>1}:null,v=h.filter(g=>g.status==="live").length,_=h.filter(g=>g.status==="scheduled").length;return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Live Shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all live shopping shows and rooms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Shows"}),s.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-shows",children:(m==null?void 0:m.totalItems)||h.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Live Now"}),s.jsx(wa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-live-shows",children:v}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Scheduled"}),s.jsx(Pl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-scheduled-shows",children:_}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming shows"})]})]})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx(de,{children:"Live Shows & Rooms"}),s.jsx(De,{children:"View and manage all live shows"})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search by title...",value:a,onChange:g=>{o(g.target.value),n(1)},className:"pl-10","data-testid":"input-search-title"})]}),s.jsxs(pn,{value:l,onValueChange:g=>{c(g==="all"?"":g),n(1)},children:[s.jsx(ln,{className:"w-full sm:w-[180px]","data-testid":"select-type",children:s.jsx(gn,{placeholder:"All Types"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All Types"}),s.jsx(re,{value:"live",children:"Live"}),s.jsx(re,{value:"scheduled",children:"Scheduled"}),s.jsx(re,{value:"ended",children:"Ended"})]})]})]})]})}),s.jsx(ie,{children:f?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading shows..."})]}):h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:a||l?"No shows found matching your filters":"No shows found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{className:"min-w-[250px]",children:"Show Details"}),s.jsx(te,{className:"hidden md:table-cell",children:"Host"}),s.jsx(te,{className:"hidden lg:table-cell",children:"Viewers"}),s.jsx(te,{className:"hidden sm:table-cell",children:"Created"}),s.jsx(te,{children:"Status"})]})}),s.jsx(Jt,{children:h.map(g=>{var b,S,R,N,T,A;const C=g._id||g.id,j=g.createdAt?new Date(g.createdAt):null,y=(b=g.owner)!=null&&b.firstName?String(g.owner.firstName):"",x=(S=g.owner)!=null&&S.lastName?String(g.owner.lastName):"",P=(R=g.owner)!=null&&R.userName?String(g.owner.userName):"",D=(N=g.owner)!=null&&N.email?String(g.owner.email):"",O=(T=g.owner)!=null&&T.profilePhoto?String(g.owner.profilePhoto):"",E=!!g.owner;return s.jsxs(Je,{"data-testid":`row-show-${C}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>t(`/admin/shows/${C}`),children:[s.jsx(ne,{className:"font-medium",children:s.jsxs("div",{className:"flex items-start gap-3",children:[g.thumbnail&&s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-16 h-16 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate","data-testid":`text-title-${C}`,children:String(g.title||g.name||"Untitled Show")}),((A=g.category)==null?void 0:A.name)&&s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx(Ve,{variant:"secondary",className:"text-xs",children:String(g.category.name)})}),g.description&&typeof g.description=="string"&&s.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:g.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 md:hidden",children:[s.jsx(dr,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:E&&(y||P)||"Unknown Host"})]})]})]})}),s.jsx(ne,{className:"hidden md:table-cell",children:E?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Yr,{className:"h-8 w-8 flex-shrink-0",children:[s.jsx(Qr,{src:O}),s.jsxs(Zr,{children:[(y||"U")[0],(x||"H")[0]]})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"text-sm font-medium truncate",children:[y," ",x]}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:D})]})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No host"})}),s.jsx(ne,{className:"hidden lg:table-cell","data-testid":`text-viewers-${C}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wa,{className:"h-4 w-4 text-muted-foreground"}),Array.isArray(g.viewers)?g.viewers.length:0]})}),s.jsx(ne,{className:"hidden sm:table-cell",children:j?j.toLocaleDateString():"N/A"}),s.jsx(ne,{children:(()=>{let L="unknown";if(g.ended===!0)L="ended";else if(g.started===!0&&g.ended===!1)L="live";else if(g.started===!1&&g.ended===!1){const z=g.startDate||g.date||g.createdAt;z&&new Date(z)>new Date&&(L="active")}const H=L==="live",V=L==="active"?"scheduled":L;return s.jsxs(Ve,{variant:H?"default":L==="active"?"secondary":"outline",className:H?"bg-green-600":"",children:[H&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),V.charAt(0).toUpperCase()+V.slice(1)]})})()})]},C)})})]})}),m&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground text-center sm:text-left",children:[s.jsxs("span",{className:"hidden sm:inline",children:["Page ",m.currentPage," of ",m.totalPages," (",m.totalItems," total shows)"]}),s.jsxs("span",{className:"sm:hidden",children:[m.currentPage," / ",m.totalPages]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground whitespace-nowrap",children:"Show"}),s.jsxs(pn,{value:String(r),onValueChange:g=>{i(Number(g)),n(1)},children:[s.jsx(ln,{className:"w-[70px] h-8","data-testid":"select-limit",children:s.jsx(gn,{})}),s.jsxs(cn,{children:[s.jsx(re,{value:"10",children:"10"}),s.jsx(re,{value:"25",children:"25"}),s.jsx(re,{value:"50",children:"50"}),s.jsx(re,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:!m.hasPrevPage,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:!m.hasNextPage,"data-testid":"button-next-page",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(Is,{className:"h-4 w-4 sm:ml-1"})]})]})]})]})})]})]})})}function VB(){var V,z,F,W,Q,X;const[,t]=qt(),[,e]=zo("/admin/shows/:showId"),n=e==null?void 0:e.showId,[r,i]=p.useState("overview"),{data:a,isLoading:o}=Ze({queryKey:[`admin-show-${n}`],queryFn:async()=>{const B=await fetch(`/api/admin/shows/${n}`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch show");const me=await B.json();return me.success?me.data:me},enabled:!!n}),{data:l,isLoading:c}=Ze({queryKey:[`admin-show-${n}-auctions`],queryFn:async()=>{const B=await fetch(`/api/admin/shows/${n}/auctions?page=1&limit=15`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch auctions");return await B.json()},enabled:!!n&&r==="auctions"}),{data:d,isLoading:f}=Ze({queryKey:[`admin-show-${n}-giveaways`],queryFn:async()=>{const B=await fetch(`/api/admin/shows/${n}/giveaways?page=1&limit=20`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch giveaways");return await B.json()},enabled:!!n&&r==="giveaways"}),{data:h,isLoading:m}=Ze({queryKey:[`admin-show-${n}-buy-now`],queryFn:async()=>{const B=await fetch(`/api/admin/shows/${n}/buy-now?page=1&limit=15`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch buy now items");return await B.json()},enabled:!!n&&r==="buy-now"}),{data:v,isLoading:_}=Ze({queryKey:[`admin-show-${n}-sold`],queryFn:async()=>{const B=await fetch(`/api/admin/shows/${n}/sold?page=1&limit=15`,{credentials:"include"});if(!B.ok)throw new Error("Failed to fetch sold items");return await B.json()},enabled:!!n&&r==="sold"}),g=(a==null?void 0:a.data)||a,C=B=>B?new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(o)return s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading show details..."})]})})});if(!g)return s.jsx(qe,{children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(dc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Show not found"}),s.jsx(J,{onClick:()=>t("/admin/shows"),className:"mt-4","data-testid":"button-back-to-shows",children:"Back to Shows"})]})})});const j=(V=g.owner)!=null&&V.firstName?String(g.owner.firstName):"",y=(z=g.owner)!=null&&z.lastName?String(g.owner.lastName):"",x=(F=g.owner)!=null&&F.userName?String(g.owner.userName):"",P=(W=g.owner)!=null&&W.email?String(g.owner.email):"",D=(Q=g.owner)!=null&&Q.profilePhoto?String(g.owner.profilePhoto):"",O=!!g.owner;let E="unknown";if(g.ended===!0)E="ended";else if(g.started===!0&&g.ended===!1)E="live";else if(g.started===!1&&g.ended===!1){const B=g.startDate||g.date||g.createdAt;B&&new Date(B)>new Date&&(E="active")}const b=E==="live",S=g.activeauction,R=g.pinnedobject,N=(S==null?void 0:S.bids)||[],T=(l==null?void 0:l.data)||[],A=(d==null?void 0:d.data)||[],L=(h==null?void 0:h.data)||[],H=(v==null?void 0:v.data)||[];return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(J,{variant:"ghost",onClick:()=>t("/admin/shows"),className:"mb-4","data-testid":"button-back-to-shows",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Shows"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground","data-testid":"text-show-title",children:String(g.title||g.name||"Untitled Show")}),s.jsx("p",{className:"text-muted-foreground",children:"Show Details"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ve,{variant:b?"default":E==="active"?"secondary":"outline",className:b?"bg-green-600":"",children:[b&&s.jsxs("span",{className:"relative flex h-2 w-2 mr-1.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),E==="active"?"Scheduled":E.charAt(0).toUpperCase()+E.slice(1)]})})]})]}),s.jsxs(vc,{value:r,onValueChange:i,className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ro,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-5",children:[s.jsx(Nt,{value:"overview","data-testid":"tab-overview",className:"flex-shrink-0 sm:flex-shrink",children:"Overview"}),s.jsxs(Nt,{value:"auctions","data-testid":"tab-auctions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx($h,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Auctions"]}),s.jsxs(Nt,{value:"giveaways","data-testid":"tab-giveaways",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Uh,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Giveaways"]}),s.jsxs(Nt,{value:"buy-now","data-testid":"tab-buy-now",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(fa,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Buy Now"]}),s.jsxs(Nt,{value:"sold","data-testid":"tab-sold",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Wt,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Sold"]})]})}),s.jsx(_t,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(dc,{className:"h-5 w-5"}),"Show Information"]})}),s.jsxs(ie,{className:"space-y-4",children:[g.thumbnail&&s.jsx("img",{src:g.thumbnail,alt:g.title||"Show",className:"w-full h-64 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("p",{className:"text-foreground","data-testid":"text-show-description",children:g.description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Category"}),s.jsx("p",{className:"text-foreground",children:(X=g.category)!=null&&X.name?String(g.category.name):"N/A"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Viewers"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wa,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-foreground","data-testid":"text-viewer-count",children:Array.isArray(g.viewers)?g.viewers.length:0})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("p",{className:"text-foreground",children:C(g.createdAt)})]}),g.date&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Scheduled Date"}),s.jsx("p",{className:"text-foreground",children:C(g.date)})]})]})]})]}),S&&s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx($h,{className:"h-5 w-5"}),"Active Auction"]}),s.jsx(De,{children:"Current auction in progress"})]}),s.jsxs(ie,{className:"space-y-4",children:[S.product&&s.jsxs("div",{className:"flex items-start gap-4",children:[S.product.images&&S.product.images[0]&&s.jsx("img",{src:S.product.images[0],alt:S.product.name,className:"w-20 h-20 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium","data-testid":"text-auction-product-name",children:S.product.name}),S.product.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.product.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Starting Price"}),s.jsxs("p",{className:"text-lg font-bold text-foreground","data-testid":"text-auction-starting-price",children:["$",S.startingprice||0]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Current Bid"}),s.jsxs("p",{className:"text-lg font-bold text-green-600","data-testid":"text-auction-current-bid",children:["$",S.currentbid||S.startingprice||0]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Status"}),s.jsx(Ve,{variant:S.won?"default":"secondary",children:S.won?"Won":"In Progress"})]}),S.winner&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Winner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Yr,{className:"h-8 w-8",children:[s.jsx(Qr,{src:S.winner.profilePhoto}),s.jsxs(Zr,{children:[(S.winner.firstName||"W")[0],(S.winner.lastName||"N")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[S.winner.firstName," ",S.winner.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.winner.email})]})]})]})]})]}),N.length>0&&s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"h-5 w-5"}),"Bids (",N.length,")"]}),s.jsx(De,{children:"All bids for the active auction"})]}),s.jsx(ie,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Bidder"}),s.jsx(te,{children:"Amount"}),s.jsx(te,{children:"Time"})]})}),s.jsx(Jt,{children:N.map((B,me)=>{var ue,ot,Me,_e,Ue,ze;return s.jsxs(Je,{"data-testid":`row-bid-${me}`,children:[s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Yr,{className:"h-8 w-8",children:[s.jsx(Qr,{src:(ue=B.user)==null?void 0:ue.profilePhoto}),s.jsxs(Zr,{children:[(((ot=B.user)==null?void 0:ot.firstName)||"B")[0],(((Me=B.user)==null?void 0:Me.lastName)||"D")[0]]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[(_e=B.user)==null?void 0:_e.firstName," ",(Ue=B.user)==null?void 0:Ue.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(ze=B.user)==null?void 0:ze.email})]})]})}),s.jsx(ne,{children:s.jsxs("span",{className:"font-bold text-green-600","data-testid":`text-bid-amount-${me}`,children:["$",B.amount||0]})}),s.jsx(ne,{className:"text-muted-foreground",children:C(B.createdAt)})]},B._id||me)})})]})})})]}),R&&s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(ZO,{className:"h-5 w-5"}),"Pinned Object"]}),s.jsx(De,{children:"Currently pinned item in the show"})]}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-start gap-4",children:[R.images&&R.images[0]&&s.jsx("img",{src:R.images[0],alt:R.name,className:"w-24 h-24 rounded object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-lg","data-testid":"text-pinned-name",children:R.name}),R.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price: "}),s.jsxs("span",{className:"font-bold text-foreground","data-testid":"text-pinned-price",children:["$",R.price||0]})]}),R.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Qty: "}),s.jsx("span",{className:"font-medium text-foreground",children:R.quantity})]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5"}),"Host Information"]})}),s.jsx(ie,{children:O?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Yr,{className:"h-12 w-12",children:[s.jsx(Qr,{src:D}),s.jsxs(Zr,{children:[(j||"U")[0],(y||"H")[0]]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium","data-testid":"text-host-name",children:[j," ",y]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",x]})]})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),s.jsx("p",{className:"text-sm","data-testid":"text-host-email",children:P})]}),g.owner.country&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Country"}),s.jsx("p",{className:"text-sm",children:g.owner.country})]}),g.owner.accountType&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-muted-foreground mb-1",children:"Account Type"}),s.jsx(Ve,{variant:"secondary",children:g.owner.accountType})]})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No host information available"})})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsx(de,{children:"Quick Stats"})}),s.jsxs(ie,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show ID"}),s.jsx("span",{className:"text-xs font-mono",children:g._id||g.id||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Viewers"}),s.jsx("span",{className:"font-bold",children:Array.isArray(g.viewers)?g.viewers.length:0})]}),S&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Bids"}),s.jsx("span",{className:"font-bold",children:N.length})]})]})]})]})]})}),s.jsx(_t,{value:"auctions",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx($h,{className:"h-5 w-5"}),"Auction Items (",T.length,")"]}),s.jsx(De,{children:"All auction products in this show"})]}),s.jsx(ie,{children:c?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading auctions..."})]}):T.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx($h,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No auction items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:T.map(B=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-auction-${B._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:B.images&&B.images[0]?s.jsx("img",{src:B.images[0],alt:B.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Wt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(ie,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-auction-name-${B._id}`,children:B.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-auction-price-${B._id}`,children:["$",B.price||0]})]}),B.status&&s.jsx(Ve,{variant:"secondary",className:"mt-1.5 text-xs",children:B.status})]})]},B._id))})})]})}),s.jsx(_t,{value:"giveaways",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Uh,{className:"h-5 w-5"}),"Giveaway Items (",A.length,")"]}),s.jsx(De,{children:"All giveaway items in this show"})]}),s.jsx(ie,{children:f?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading giveaways..."})]}):A.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Uh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No giveaway items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:A.map(B=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-giveaway-${B._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:B.images&&B.images[0]?s.jsx("img",{src:B.images[0],alt:B.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Uh,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(ie,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-giveaway-name-${B._id}`,children:B.name}),B.description&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:B.description}),B.quantity&&s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Quantity"}),s.jsx("span",{className:"font-medium text-sm",children:B.quantity})]})]})]},B._id))})})]})}),s.jsx(_t,{value:"buy-now",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-5 w-5"}),"Buy Now Items (",L.length,")"]}),s.jsx(De,{children:"All buy now products in this show"})]}),s.jsx(ie,{children:m?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading buy now items..."})]}):L.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No buy now items found"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:L.map(B=>s.jsxs(se,{className:"overflow-hidden","data-testid":`card-buy-now-${B._id}`,children:[s.jsx("div",{className:"aspect-video relative",children:B.images&&B.images[0]?s.jsx("img",{src:B.images[0],alt:B.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:s.jsx(Wt,{className:"h-8 w-8 text-muted-foreground"})})}),s.jsxs(ie,{className:"p-3",children:[s.jsx("h3",{className:"font-medium text-sm truncate","data-testid":`text-buy-now-name-${B._id}`,children:B.name}),s.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Price"}),s.jsxs("span",{className:"font-bold text-sm text-foreground","data-testid":`text-buy-now-price-${B._id}`,children:["$",B.price||0]})]}),B.quantity!==void 0&&s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Stock"}),s.jsx("span",{className:"font-medium text-sm",children:B.quantity})]}),B.status&&s.jsx(Ve,{variant:"secondary",className:"mt-1.5 text-xs",children:B.status})]})]},B._id))})})]})}),s.jsx(_t,{value:"sold",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Wt,{className:"h-5 w-5"}),"Sold Orders (",H.length,")"]}),s.jsx(De,{children:"All orders from this show"})]}),s.jsx(ie,{children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading sold orders..."})]}):H.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sold orders found"})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Order ID"}),s.jsx(te,{children:"Customer"}),s.jsx(te,{children:"Status"}),s.jsx(te,{children:"Total"}),s.jsx(te,{children:"Date"})]})}),s.jsx(Jt,{children:H.map(B=>{var me,ue,ot,Me;return s.jsxs(Je,{"data-testid":`row-sold-${B._id}`,children:[s.jsxs(ne,{className:"font-mono text-sm",children:[(me=B._id)==null?void 0:me.substring(0,8),"..."]}),s.jsx(ne,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[(ue=B.customer)==null?void 0:ue.firstName," ",(ot=B.customer)==null?void 0:ot.lastName]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(Me=B.customer)==null?void 0:Me.email})]})}),s.jsx(ne,{children:s.jsx(Ve,{variant:"secondary",children:B.status||"pending"})}),s.jsxs(ne,{className:"font-bold",children:["$",B.invoice||B.total||0]}),s.jsx(ne,{className:"text-sm text-muted-foreground",children:C(B.createdAt)})]},B._id)})})]})})})]})})]})]})})}function LA(){const{user:t}=Ma(),{data:e}=Ze({queryKey:["/api/admin/demo-mode"],enabled:!!(t!=null&&t.admin),staleTime:3e4,refetchOnWindowFocus:!0}),n=(e==null?void 0:e.demoMode)||!1,r=(t==null?void 0:t.admin)||!1,i=(t==null?void 0:t.role)==="superAdmin",a=(t==null?void 0:t.admin)&&!i;return{canCreate:!n&&r,canEdit:!n&&r,canDelete:!n&&r,canManageSettings:!n&&r,isSuperAdmin:i,isReadOnlyAdmin:a,isDemoMode:n}}function zB(){const{toast:t}=yn(),{canManageSettings:e,isDemoMode:n}=LA(),[r,i]=p.useState(!1),[a,o]=p.useState(null),[l,c]=p.useState(!1),{data:d,isLoading:f}=Ze({queryKey:["/api/admin/settings"]}),h=(d==null?void 0:d.data)||d,m=x=>!x||x.length<8?"":`${x.substring(0,4)}${"".repeat(12)}${x.substring(x.length-4)}`,[v,_]=p.useState({app_name:"",seo_title:"",commission:"",stripe_fee:"",extra_charges:"",currency:"$",support_email:"",forceUpdate:!1,demoMode:!1,seller_auto_approve:!0,appVersion:"",androidVersion:"",iosVersion:"",privacy_url:"",terms_url:"",FIREBASE_API_KEY:"",shippo_api_key:"",stripeSecretKey:"",stripepublickey:"",stripe_webhook_key:"",stripe_connect_account:"",livekit_url:"",livekit_api_key:"",livekit_api_secret:"",email_service_provider:"sendgrid",email_api_key:"",email_from_address:"",email_from_name:"",email_reply_to:"",email_mailgun_domain:"",email_smtp_host:"",email_smtp_port:"",email_smtp_user:"",email_smtp_pass:"",primary_color:"",secondary_color:"",app_logo:""});p.useEffect(()=>{_({app_name:(h==null?void 0:h.app_name)||"",seo_title:(h==null?void 0:h.seo_title)||"",commission:(h==null?void 0:h.commission)||"",stripe_fee:(h==null?void 0:h.stripe_fee)||"",extra_charges:(h==null?void 0:h.extra_charges)||"",currency:(h==null?void 0:h.currency)||"$",support_email:(h==null?void 0:h.support_email)||"",forceUpdate:(h==null?void 0:h.forceUpdate)||!1,demoMode:(h==null?void 0:h.demoMode)||!1,seller_auto_approve:(h==null?void 0:h.seller_auto_approve)!==void 0?h.seller_auto_approve:!0,appVersion:(h==null?void 0:h.appVersion)||"",androidVersion:(h==null?void 0:h.androidVersion)||"",iosVersion:(h==null?void 0:h.iosVersion)||"",privacy_url:(h==null?void 0:h.privacy_url)||"",terms_url:(h==null?void 0:h.terms_url)||"",FIREBASE_API_KEY:(h==null?void 0:h.FIREBASE_API_KEY)||"",shippo_api_key:(h==null?void 0:h.shippo_api_key)||"",stripeSecretKey:(h==null?void 0:h.stripeSecretKey)||"",stripepublickey:(h==null?void 0:h.stripepublickey)||"",stripe_webhook_key:(h==null?void 0:h.stripe_webhook_key)||"",stripe_connect_account:(h==null?void 0:h.stripe_connect_account)||"",livekit_url:(h==null?void 0:h.livekit_url)||"",livekit_api_key:(h==null?void 0:h.livekit_api_key)||"",livekit_api_secret:(h==null?void 0:h.livekit_api_secret)||"",email_service_provider:(h==null?void 0:h.email_service_provider)||"sendgrid",email_api_key:(h==null?void 0:h.email_api_key)||"",email_from_address:(h==null?void 0:h.email_from_address)||"",email_from_name:(h==null?void 0:h.email_from_name)||"",email_reply_to:(h==null?void 0:h.email_reply_to)||"",email_mailgun_domain:(h==null?void 0:h.email_mailgun_domain)||"",email_smtp_host:(h==null?void 0:h.email_smtp_host)||"",email_smtp_port:(h==null?void 0:h.email_smtp_port)||"",email_smtp_user:(h==null?void 0:h.email_smtp_user)||"",email_smtp_pass:(h==null?void 0:h.email_smtp_pass)||"",primary_color:(h==null?void 0:h.primary_color)||"FFFACC15",secondary_color:(h==null?void 0:h.secondary_color)||"FF0D9488",app_logo:(h==null?void 0:h.app_logo)||""})},[h]);const g=It({mutationFn:async x=>{const P=await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!P.ok){const D=await P.json().catch(()=>({}));throw console.error("Settings update failed:",D),new Error((D==null?void 0:D.error)||"Failed to update settings")}return P.json()},onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/settings"]}),t({title:"Settings updated",description:"Platform settings have been saved successfully."}),i(!1)},onError:()=>{t({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"}),i(!1)}}),C=()=>{if(!e){t({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}i(!0),g.mutate(v)},j=(x,P)=>{_(D=>({...D,[x]:P}))},y=async x=>{c(!0);try{const P=new FormData;P.append("logo",x);const O=await(await fetch("/api/admin/upload-logo",{method:"POST",body:P})).json();if(O.success){_(b=>({...b,app_logo:O.data.logo_url})),o(null);const E=document.getElementById("app_logo");E&&(E.value=""),t({title:"Logo uploaded",description:"App logo has been uploaded successfully."}),pt.invalidateQueries({queryKey:["/api/admin/settings"]})}else throw new Error(O.error||"Upload failed")}catch(P){t({title:"Upload failed",description:P.message||"Failed to upload logo. Please try again.",variant:"destructive"})}finally{c(!1)}};return f?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Platform Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure platform settings and preferences"})]}),s.jsx(J,{onClick:C,disabled:r||!e,"data-testid":"button-save-settings",children:r?"Saving...":n?"Demo Mode - Read Only":"Save Changes"})]}),n&&s.jsxs(qn,{className:"mb-6",children:[s.jsx(vv,{className:"h-4 w-4"}),s.jsx(Kn,{children:"Demo mode is active. All settings are read-only and cannot be modified."})]}),s.jsxs(vc,{defaultValue:"general",className:"space-y-6",children:[s.jsx("div",{className:"w-full overflow-x-auto pb-2",children:s.jsxs(Ro,{className:"inline-flex w-full min-w-max sm:w-full sm:min-w-0 sm:grid sm:grid-cols-3 lg:grid-cols-6",children:[s.jsxs(Nt,{value:"general","data-testid":"tab-general",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(rw,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"General"]}),s.jsxs(Nt,{value:"payment","data-testid":"tab-payment",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(Cs,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Payment"]}),s.jsxs(Nt,{value:"api-keys","data-testid":"tab-api-keys",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(qO,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"API Keys"]}),s.jsxs(Nt,{value:"integrations","data-testid":"tab-integrations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(dc,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Integrations"]}),s.jsxs(Nt,{value:"app-versions","data-testid":"tab-app-versions",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(bk,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"App Versions"]}),s.jsxs(Nt,{value:"translations","data-testid":"tab-translations",className:"flex-shrink-0 sm:flex-shrink",children:[s.jsx(KO,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Translations"]})]})}),s.jsxs(_t,{value:"general",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"General Settings"}),s.jsx(De,{children:"Basic platform configuration"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"app_name",children:"App Name"}),s.jsx(je,{id:"app_name",value:v.app_name,onChange:x=>j("app_name",x.target.value),placeholder:"Your App Name","data-testid":"input-app-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"seo_title",children:"SEO Title"}),s.jsx(je,{id:"seo_title",value:v.seo_title,onChange:x=>j("seo_title",x.target.value),placeholder:"Browser title (defaults to App Name if empty)","data-testid":"input-seo-title"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This will appear in the browser tab. If empty, the app name will be used."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"support_email",children:"Support Email"}),s.jsx(je,{id:"support_email",type:"email",value:v.support_email,onChange:x=>j("support_email",x.target.value),placeholder:"support@example.com","data-testid":"input-support-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"currency",children:"Currency Symbol"}),s.jsx(je,{id:"currency",value:v.currency,onChange:x=>j("currency",x.target.value),placeholder:"$","data-testid":"input-currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"commission",children:"Platform Commission (%)"}),s.jsx(je,{id:"commission",type:"number",value:v.commission,onChange:x=>j("commission",x.target.value),placeholder:"5","data-testid":"input-commission"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Commission percentage charged on transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"stripe_fee",children:"Stripe Fee (%)"}),s.jsx(je,{id:"stripe_fee",type:"number",step:"0.01",value:v.stripe_fee,onChange:x=>j("stripe_fee",x.target.value),placeholder:"2.9","data-testid":"input-stripe-fee"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe processing fee percentage"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"extra_charges",children:"Extra Charges (Fixed)"}),s.jsx(je,{id:"extra_charges",type:"number",step:"0.01",value:v.extra_charges,onChange:x=>j("extra_charges",x.target.value),placeholder:"0.30","data-testid":"input-extra-charges"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fixed additional charges per transaction"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"app_logo",children:"App Logo"}),s.jsxs("div",{className:"flex items-start gap-4",children:[v.app_logo&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:v.app_logo.startsWith("http")?v.app_logo:`https://api.iconaapp.com/${v.app_logo.replace(/^\//,"")}`,alt:"App Logo",className:"h-20 w-20 object-contain rounded border border-border bg-muted p-2",onError:x=>{x.currentTarget.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80"><text x="50%" y="50%" text-anchor="middle" dy=".3em" fill="%23666">Logo</text></svg>'}})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{id:"app_logo",type:"file",accept:"image/*",onChange:x=>{var D;const P=(D=x.target.files)==null?void 0:D[0];P&&o(P)},"data-testid":"input-app-logo",className:"cursor-pointer flex-1"}),s.jsx(J,{type:"button",onClick:()=>{a?y(a):t({title:"No file selected",description:"Please select a logo file first.",variant:"destructive"})},disabled:!a||l,"data-testid":"button-upload-logo",children:l?"Uploading...":"Upload"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a logo file and click Upload (PNG, JPG, or SVG recommended)"})]})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Legal Links"}),s.jsx(De,{children:"Privacy policy and terms of service URLs"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"privacy_url",children:"Privacy Policy URL"}),s.jsx(je,{id:"privacy_url",type:"url",value:v.privacy_url,onChange:x=>j("privacy_url",x.target.value),placeholder:"https://example.com/privacy","data-testid":"input-privacy-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"terms_url",children:"Terms of Service URL"}),s.jsx(je,{id:"terms_url",type:"url",value:v.terms_url,onChange:x=>j("terms_url",x.target.value),placeholder:"https://example.com/terms","data-testid":"input-terms-url"})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"App Theme Colors"}),s.jsx(De,{children:"Configure primary and secondary colors for your mobile app"})]}),s.jsx(ie,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"primary_color",children:"Primary Color (Main Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:v.primary_color?`#${v.primary_color.slice(-6)}`:"#FACC15"}}),s.jsx(je,{id:"primary_color",value:v.primary_color,onChange:x=>j("primary_color",x.target.value.toUpperCase()),placeholder:"FFFACC15","data-testid":"input-primary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FFFACC15 for yellow)."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"secondary_color",children:"Secondary Color (Sub Color)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-12 h-10 rounded border border-border flex-shrink-0",style:{backgroundColor:v.secondary_color?`#${v.secondary_color.slice(-6)}`:"#0D9488"}}),s.jsx(je,{id:"secondary_color",value:v.secondary_color,onChange:x=>j("secondary_color",x.target.value.toUpperCase()),placeholder:"FF0D9488","data-testid":"input-secondary-color",maxLength:8})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: AARRGGBB (e.g., FF0D9488 for teal)."})]})]})})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Seller Approval Workflow"}),s.jsx(De,{children:"Control how users become sellers on your platform"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(ge,{htmlFor:"seller-auto-approve",children:"Automatic Seller Approval"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, users can become sellers automatically without admin approval. When disabled, admin must manually approve all seller applications."})]}),s.jsx(Ul,{id:"seller-auto-approve",checked:v.seller_auto_approve,onCheckedChange:x=>j("seller_auto_approve",x),"data-testid":"switch-seller-auto-approve"})]}),s.jsxs(qn,{children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsx(Kn,{children:v.seller_auto_approve?s.jsxs(s.Fragment,{children:["Automatic approval is ",s.jsx("strong",{children:"enabled"}),". Users will become sellers immediately after applying."]}):s.jsxs(s.Fragment,{children:["Manual approval is ",s.jsx("strong",{children:"required"}),". Admins must review and approve seller applications in the Users section."]})})]})]})]}),!v.demoMode&&s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Demo Mode"}),s.jsx(De,{children:"Control whether CRUD operations are allowed on the platform"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5 flex-1",children:[s.jsx(ge,{htmlFor:"demo-mode",children:"Enable Demo Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, all create, update, and delete operations will be disabled for everyone (including super admins). Perfect for protecting demo environments from modifications."})]}),s.jsx(Ul,{id:"demo-mode",checked:v.demoMode,onCheckedChange:x=>j("demoMode",x),"data-testid":"switch-demo-mode"})]}),v.demoMode&&s.jsxs(qn,{children:[s.jsx(vv,{className:"h-4 w-4"}),s.jsxs(Kn,{children:["Demo mode is currently ",s.jsx("strong",{children:"enabled"}),". All CRUD operations are disabled across the platform."]})]})]})]})]}),s.jsx(_t,{value:"payment",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Stripe Integration"}),s.jsx(De,{children:"Stripe payment gateway configuration"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"stripepublickey",children:"Stripe Publishable Key"}),s.jsx(je,{id:"stripepublickey",value:v.demoMode?m(v.stripepublickey):v.stripepublickey,onChange:x=>j("stripepublickey",x.target.value),placeholder:"pk_test_...","data-testid":"input-stripe-public-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"stripeSecretKey",children:"Stripe Secret Key"}),s.jsx(je,{id:"stripeSecretKey",type:v.demoMode?"text":"password",value:v.demoMode?m(v.stripeSecretKey):v.stripeSecretKey,onChange:x=>j("stripeSecretKey",x.target.value),placeholder:"sk_test_...","data-testid":"input-stripe-secret-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep this key secret and secure"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"stripe_webhook_key",children:"Stripe Webhook Secret"}),s.jsx(je,{id:"stripe_webhook_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.stripe_webhook_key):v.stripe_webhook_key,onChange:x=>j("stripe_webhook_key",x.target.value),placeholder:"whsec_...","data-testid":"input-stripe-webhook-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for verifying webhook events from Stripe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"stripe_connect_account",children:"Stripe Connect Account (Shipping Fees)"}),s.jsx(je,{id:"stripe_connect_account",value:v.stripe_connect_account,onChange:x=>j("stripe_connect_account",x.target.value),placeholder:"acct_...","data-testid":"input-stripe-connect-account",readOnly:v.demoMode,disabled:v.demoMode}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Stripe Connect account ID to receive shipping fees"})]})]})]})}),s.jsxs(_t,{value:"api-keys",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"External Service API Keys"}),s.jsx(De,{children:"API keys for third-party services"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"FIREBASE_API_KEY",children:"Firebase API Key"}),s.jsx(je,{id:"FIREBASE_API_KEY",type:v.demoMode?"text":"password",value:v.demoMode?m(v.FIREBASE_API_KEY):v.FIREBASE_API_KEY,onChange:x=>j("FIREBASE_API_KEY",x.target.value),placeholder:"AIza...","data-testid":"input-firebase-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"shippo_api_key",children:"Shippo API Key"}),s.jsx(je,{id:"shippo_api_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.shippo_api_key):v.shippo_api_key,onChange:x=>j("shippo_api_key",x.target.value),placeholder:"shippo_...","data-testid":"input-shippo-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for shipping label generation"})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Email Service Configuration"}),s.jsx(De,{children:"Configure email service for sending emails to users"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_service_provider",children:"Email Service Provider"}),s.jsxs(pn,{value:v.email_service_provider,onValueChange:x=>j("email_service_provider",x),children:[s.jsx(ln,{id:"email_service_provider","data-testid":"select-email-provider",children:s.jsx(gn,{placeholder:"Select provider"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"sendgrid",children:"SendGrid"}),s.jsx(re,{value:"mailgun",children:"Mailgun"}),s.jsx(re,{value:"resend",children:"Resend"}),s.jsx(re,{value:"smtp",children:"SMTP"})]})]})]}),v.email_service_provider!=="smtp"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_api_key",children:"Email API Key"}),s.jsx(je,{id:"email_api_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.email_api_key):v.email_api_key,onChange:x=>j("email_api_key",x.target.value),placeholder:"SG.xxx... or your provider's API key","data-testid":"input-email-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"API key for your email service provider"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_from_address",children:"From Email Address"}),s.jsx(je,{id:"email_from_address",type:"email",value:v.email_from_address,onChange:x=>j("email_from_address",x.target.value),placeholder:"noreply@yourdomain.com","data-testid":"input-email-from-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_from_name",children:"From Name"}),s.jsx(je,{id:"email_from_name",value:v.email_from_name,onChange:x=>j("email_from_name",x.target.value),placeholder:"Your App Name","data-testid":"input-email-from-name"})]})]}),v.email_service_provider==="mailgun"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_mailgun_domain",children:"Mailgun Domain"}),s.jsx(je,{id:"email_mailgun_domain",value:v.email_mailgun_domain,onChange:x=>j("email_mailgun_domain",x.target.value),placeholder:"mg.yourdomain.com","data-testid":"input-mailgun-domain"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Mailgun sending domain"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_reply_to",children:"Reply-To Email (Optional)"}),s.jsx(je,{id:"email_reply_to",type:"email",value:v.email_reply_to,onChange:x=>j("email_reply_to",x.target.value),placeholder:"support@gmail.com","data-testid":"input-email-reply-to"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When users reply to emails, their response will go to this address (can be different from From Email)"})]})]}),v.email_service_provider==="smtp"&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs(qn,{children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsxs(Kn,{children:[s.jsx("strong",{children:"Gmail Users:"})," Use an App Password instead of your regular password.",s.jsx("br",{}),"Generate one at: ",s.jsx("a",{href:"https://myaccount.google.com/apppasswords",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"myaccount.google.com/apppasswords"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_smtp_host",children:"SMTP Host"}),s.jsx(je,{id:"email_smtp_host",value:v.email_smtp_host,onChange:x=>j("email_smtp_host",x.target.value),placeholder:"smtp.gmail.com","data-testid":"input-smtp-host"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_smtp_port",children:"SMTP Port"}),s.jsx(je,{id:"email_smtp_port",value:v.email_smtp_port,onChange:x=>j("email_smtp_port",x.target.value),placeholder:"587","data-testid":"input-smtp-port"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_smtp_user",children:"SMTP Username"}),s.jsx(je,{id:"email_smtp_user",value:v.email_smtp_user,onChange:x=>j("email_smtp_user",x.target.value),placeholder:"your-email@gmail.com","data-testid":"input-smtp-user"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email_smtp_pass",children:"SMTP Password"}),s.jsx(je,{id:"email_smtp_pass",type:v.demoMode?"text":"password",value:v.demoMode?m(v.email_smtp_pass):v.email_smtp_pass,onChange:x=>j("email_smtp_pass",x.target.value),placeholder:"App Password (16 characters)","data-testid":"input-smtp-pass",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]})]})]})]})]})]}),s.jsx(_t,{value:"integrations",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"LiveKit Integration"}),s.jsx(De,{children:"Live streaming platform configuration"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"livekit_url",children:"LiveKit URL"}),s.jsx(je,{id:"livekit_url",value:v.livekit_url,onChange:x=>j("livekit_url",x.target.value),placeholder:"wss://your-livekit-url.com","data-testid":"input-livekit-url"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"livekit_api_key",children:"LiveKit API Key"}),s.jsx(je,{id:"livekit_api_key",type:v.demoMode?"text":"password",value:v.demoMode?m(v.livekit_api_key):v.livekit_api_key,onChange:x=>j("livekit_api_key",x.target.value),placeholder:"API...","data-testid":"input-livekit-api-key",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"livekit_api_secret",children:"LiveKit API Secret"}),s.jsx(je,{id:"livekit_api_secret",type:v.demoMode?"text":"password",value:v.demoMode?m(v.livekit_api_secret):v.livekit_api_secret,onChange:x=>j("livekit_api_secret",x.target.value),placeholder:"Secret...","data-testid":"input-livekit-api-secret",readOnly:v.demoMode,disabled:v.demoMode,onCopy:x=>v.demoMode&&x.preventDefault(),onCut:x=>v.demoMode&&x.preventDefault(),onPaste:x=>v.demoMode&&x.preventDefault(),className:v.demoMode?"select-none cursor-not-allowed opacity-60":""}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"LiveKit credentials for video streaming"})]})]})]})}),s.jsx(_t,{value:"app-versions",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"App Version Management"}),s.jsx(De,{children:"Manage mobile app version numbers"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"appVersion",children:"App Version"}),s.jsx(je,{id:"appVersion",value:v.appVersion,onChange:x=>j("appVersion",x.target.value),placeholder:"1.0.0","data-testid":"input-app-version"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"androidVersion",children:"Android Version"}),s.jsx(je,{id:"androidVersion",value:v.androidVersion,onChange:x=>j("androidVersion",x.target.value),placeholder:"1.0.0","data-testid":"input-android-version"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"iosVersion",children:"iOS Version"}),s.jsx(je,{id:"iosVersion",value:v.iosVersion,onChange:x=>j("iosVersion",x.target.value),placeholder:"1.0.0","data-testid":"input-ios-version"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ul,{id:"forceUpdate",checked:v.forceUpdate,onCheckedChange:x=>j("forceUpdate",x),"data-testid":"switch-force-update"}),s.jsx(ge,{htmlFor:"forceUpdate",className:"cursor-pointer",children:"Force App Update"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, users will be required to update the app to continue using it"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"These version numbers are used with the Force Update feature"})]})]})}),s.jsx(_t,{value:"translations",className:"space-y-6",children:s.jsx(BB,{})})]})]})})}function BB(){const{toast:t}=yn(),{canManageSettings:e,isDemoMode:n}=LA(),[r,i]=p.useState("en"),[a,o]=p.useState(""),[l,c]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(""),v=p.useRef(!1),{data:_,isLoading:g}=Ze({queryKey:["/api/admin/translations"]}),C=(_==null?void 0:_.data)||{},j=C.translations||C,y=C.version,x=C.default_language,[P,D]=p.useState({}),O=Object.keys(P);p.useEffect(()=>{j&&Object.keys(j).length>0&&Object.keys(P).length===0&&D(j)},[j,P]),p.useEffect(()=>{!v.current&&x?(m(x),v.current=!0):!v.current&&O.length>0&&!h&&(m(O[0]),v.current=!0)},[x,O,h]);const E=Array.from(new Set(Object.values(P).flatMap(L=>Object.keys(L)))).sort(),b=()=>{if(!a||a.length!==2){t({title:"Invalid language code",description:"Language code must be exactly 2 characters (e.g., 'es', 'fr')",variant:"destructive"});return}if(O.includes(a)){t({title:"Language already exists",description:`Language '${a}' is already configured`,variant:"destructive"});return}if(O.length===0){const L={app_name:"",hi:"",home:"",profile:"",settings:""};D({[a]:L})}else{const L=j.en||j[O[0]]||{},H={};Object.keys(L).forEach(V=>{H[V]=""}),D(V=>({...V,[a]:H}))}i(a),o(""),c(!1),t({title:"Language added",description:`Language '${a}' has been added. ${O.length===0?"Add your translation keys and":"Fill in the translations and"} save.`})},S=L=>{if(L==="en"){t({title:"Cannot delete English",description:"English is the default language and cannot be deleted",variant:"destructive"});return}const H={...P};delete H[L],D(H),r===L&&i("en"),t({title:"Language removed",description:`Language '${L}' has been removed. Click Save to apply changes.`})},R=(L,H)=>{D(V=>({...V,[r]:{...V[r],[L]:H}}))},N=async()=>{if(!e){t({title:"Action not allowed",description:"Settings cannot be changed in demo mode",variant:"destructive"});return}f(!0);try{if(!(await ht("POST","/api/admin/translations",{translations:P,default_language:h})).ok)throw new Error("Failed to save translations");pt.invalidateQueries({queryKey:["/api/admin/translations"]}),t({title:"Translations saved",description:"All translations have been saved successfully"})}catch(L){t({title:"Error",description:L.message||"Failed to save translations",variant:"destructive"})}finally{f(!1)}},T=async()=>{try{const L=await fetch("/api/admin/translations/download",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!L.ok)throw new Error("Failed to download translations");const H=await L.blob(),V=window.URL.createObjectURL(H),z=document.createElement("a");z.href=V,z.download="translations.xml",document.body.appendChild(z),z.click(),window.URL.revokeObjectURL(V),document.body.removeChild(z),t({title:"Download started",description:"Your translations XML file is downloading"})}catch(L){t({title:"Error",description:L.message||"Failed to download translations",variant:"destructive"})}},A=async L=>{var V;const H=(V=L.target.files)==null?void 0:V[0];if(H){if(!H.name.endsWith(".xml")){t({title:"Invalid file",description:"Please upload an XML file",variant:"destructive"});return}try{const z=new FormData;z.append("file",H);const F=await fetch("/api/admin/translations/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:z});if(!F.ok){const Q=await F.json();throw new Error(Q.error||"Failed to upload translations")}const W=await F.json();pt.invalidateQueries({queryKey:["/api/admin/translations"]}),t({title:"Upload successful",description:W.message||"Translations imported successfully"}),L.target.value=""}catch(z){t({title:"Error",description:z.message||"Failed to upload translations",variant:"destructive"}),L.target.value=""}}};return g?s.jsx(se,{children:s.jsx(ie,{className:"p-8",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):O.length===0&&!l?s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"App Translations"}),s.jsx(De,{children:"No translations found. Add your first language to get started."})]}),s.jsxs(ie,{children:[s.jsxs(qn,{className:"mb-4",children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsx(Kn,{children:"Start by adding English (en) as your default language, then add translation keys."})]}),s.jsxs(J,{onClick:()=>c(!0),"data-testid":"button-add-first-language",children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add First Language"]}),l&&s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(je,{placeholder:"Code (e.g., en)",value:a,onChange:L=>o(L.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(J,{onClick:b,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(J,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]})]})]}):s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{children:"App Translations"}),s.jsx(De,{children:"Manage translations for your mobile app. Download as XML, edit offline, and upload back."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{onClick:T,variant:"outline","data-testid":"button-download-xml",children:[s.jsx(zO,{className:"h-4 w-4 mr-2"}),"Download XML"]}),s.jsxs(J,{onClick:()=>{var L;return(L=document.getElementById("xml-upload-input"))==null?void 0:L.click()},variant:"outline","data-testid":"button-upload-xml",children:[s.jsx(iw,{className:"h-4 w-4 mr-2"}),"Upload XML"]}),s.jsx("input",{id:"xml-upload-input",type:"file",accept:".xml",onChange:A,className:"hidden","data-testid":"input-xml-upload"}),s.jsx(J,{onClick:N,disabled:d||!e,"data-testid":"button-save-translations",children:d?"Saving...":n?"Demo Mode - Read Only":"Save"})]})]})}),s.jsxs(ie,{className:"space-y-6",children:[y!==void 0&&s.jsx("div",{className:"flex gap-4 text-sm text-muted-foreground border-b pb-4",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Version:"})," ",y]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{children:"Select Language to Edit"}),s.jsxs(pn,{value:r,onValueChange:i,children:[s.jsx(ln,{"data-testid":"select-language",children:s.jsx(gn,{})}),s.jsx(cn,{children:O.map(L=>{var H;return s.jsxs(re,{value:L,children:[L.toUpperCase()," - ",((H=P[L])==null?void 0:H.app_name)||"Language"]},L)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{children:"Default Language"}),s.jsxs(pn,{value:h||O[0]||"en",onValueChange:m,children:[s.jsx(ln,{"data-testid":"select-default-language",children:s.jsx(gn,{placeholder:"Select default language"})}),s.jsx(cn,{children:O.map(L=>{var H;return s.jsxs(re,{value:L,children:[L.toUpperCase()," - ",((H=P[L])==null?void 0:H.app_name)||"Language"]},L)})})]})]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[l?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(je,{placeholder:"Code (e.g., es)",value:a,onChange:L=>o(L.target.value.toLowerCase()),maxLength:2,className:"w-32","data-testid":"input-new-language"}),s.jsx(J,{onClick:b,size:"sm","data-testid":"button-confirm-add",children:"Add"}),s.jsx(J,{onClick:()=>{c(!1),o("")},size:"sm",variant:"ghost","data-testid":"button-cancel-add",children:"Cancel"})]}):s.jsxs(J,{onClick:()=>c(!0),variant:"outline","data-testid":"button-add-language",children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add Language"]}),r!=="en"&&s.jsx(J,{onClick:()=>S(r),variant:"destructive",size:"sm","data-testid":"button-delete-language",children:s.jsx(sw,{className:"h-4 w-4"})})]}),s.jsxs(qn,{className:"mb-4",children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsxs(Kn,{children:[s.jsx("strong",{children:"Dynamic Placeholders:"})," Use placeholders like ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@app_name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@name"}),", ",s.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:"@provider"})," in your translations. These will be automatically replaced with actual values in the app."]})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"bg-muted px-4 py-3 border-b",children:s.jsxs("p",{className:"text-sm font-medium",children:["Editing ",r.toUpperCase()," (",E.length," keys)"]})}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:s.jsx("div",{className:"divide-y",children:E.map(L=>{var z,F;const H=(z=j.en)==null?void 0:z[L],V=r!=="en"&&H?H:`Enter ${r.toUpperCase()} translation for "${L}"`;return s.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ge,{htmlFor:`trans-${L}`,className:"text-xs text-muted-foreground font-mono",children:L}),s.jsx(je,{id:`trans-${L}`,value:((F=P[r])==null?void 0:F[L])||"",onChange:W=>R(L,W.target.value),placeholder:V,"data-testid":`input-translation-${L}`})]})},L)})})})]}),E.length===0&&s.jsxs(qn,{children:[s.jsx(Rd,{className:"h-4 w-4"}),s.jsx(Kn,{children:"No translation keys found. Add a language and start adding translations."})]})]})]})}function WB(){var x,P,D;const{toast:t}=yn(),[e,n]=p.useState(!1),[r,i]=p.useState(!1),{data:a}=Ze({queryKey:["/api/auth/session"]}),o=((x=a==null?void 0:a.data)==null?void 0:x.id)||((P=a==null?void 0:a.data)==null?void 0:P._id),{data:l,isLoading:c}=Ze({queryKey:[`/api/admin/profile/${o}`],enabled:!!o}),d=((D=l==null?void 0:l.data)==null?void 0:D.admin)||(l==null?void 0:l.admin)||(l==null?void 0:l.data)||l,[f,h]=p.useState({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||""}),[m,v]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""});p.useEffect(()=>{d&&h({fullname:(d==null?void 0:d.fullname)||(d==null?void 0:d.full_name)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""})},[d]);const _=It({mutationFn:async O=>{const E={full_name:O.fullname,email:O.email,username:O.username};return ht("PATCH","/api/admin/profile",E)},onSuccess:()=>{pt.invalidateQueries({queryKey:[`/api/admin/profile/${o}`]}),pt.invalidateQueries({queryKey:["/api/auth/session"]}),n(!1),t({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:O=>{t({title:"Update failed",description:O.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),g=It({mutationFn:async O=>ht("POST","/api/admin/change-password",O),onSuccess:()=>{i(!1),v({currentPassword:"",newPassword:"",confirmPassword:""}),t({title:"Password changed",description:"Your password has been changed successfully."})},onError:O=>{t({title:"Password change failed",description:O.message||"Failed to change password. Please try again.",variant:"destructive"})}}),C=O=>{O.preventDefault(),_.mutate(f)},j=O=>{if(O.preventDefault(),m.newPassword!==m.confirmPassword){t({title:"Passwords don't match",description:"New password and confirm password must match.",variant:"destructive"});return}if(m.newPassword.length<6){t({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}g.mutate({currentPassword:m.currentPassword,newPassword:m.newPassword})},y=O=>O.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2);return c?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and security"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Profile Information"}),s.jsx(De,{children:"Update your personal details"})]}),!e&&s.jsxs(J,{onClick:()=>{h({fullname:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"",email:(d==null?void 0:d.email)||"",username:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||""}),n(!0)},"data-testid":"button-edit-profile",children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]}),s.jsx(ie,{children:e?s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(Yr,{className:"h-24 w-24",children:[s.jsx(Qr,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(Zr,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?y(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"fullname",children:"Full Name"}),s.jsx(je,{id:"fullname",value:f.fullname,onChange:O=>h({...f,fullname:O.target.value}),"data-testid":"input-fullname"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"username",children:"Username"}),s.jsx(je,{id:"username",value:f.username,onChange:O=>h({...f,username:O.target.value}),"data-testid":"input-username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email",children:"Email"}),s.jsx(je,{id:"email",type:"email",value:f.email,onChange:O=>h({...f,email:O.target.value}),"data-testid":"input-email"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(J,{type:"button",variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-edit",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(J,{type:"submit",disabled:_.isPending,"data-testid":"button-save-profile",children:[s.jsx(Qb,{className:"h-4 w-4 mr-2"}),_.isPending?"Saving...":"Save Changes"]})]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs(Yr,{className:"h-24 w-24",children:[s.jsx(Qr,{src:d==null?void 0:d.profilepic,alt:(d==null?void 0:d.fullname)||(d==null?void 0:d.name)}),s.jsx(Zr,{className:"text-2xl",children:d!=null&&d.fullname||d!=null&&d.name?y(d.fullname||d.name):"AD"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{className:"text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-fullname",children:(d==null?void 0:d.full_name)||(d==null?void 0:d.fullname)||(d==null?void 0:d.name)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{className:"text-muted-foreground",children:"Username"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-username",children:(d==null?void 0:d.username)||(d==null?void 0:d.userName)||"Not set"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium p-2 bg-muted rounded-md","data-testid":"text-email",children:(d==null?void 0:d.email)||"Not set"})]})]})]})})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Change Password"}),s.jsx(De,{children:"Update your account password"})]}),!r&&s.jsxs(J,{onClick:()=>i(!0),variant:"outline","data-testid":"button-change-password",children:[s.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Change Password"]})]}),r&&s.jsx(ie,{children:s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(je,{id:"currentPassword",type:"password",value:m.currentPassword,onChange:O=>v({...m,currentPassword:O.target.value}),required:!0,"data-testid":"input-current-password"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"newPassword",children:"New Password"}),s.jsx(je,{id:"newPassword",type:"password",value:m.newPassword,onChange:O=>v({...m,newPassword:O.target.value}),required:!0,minLength:6,"data-testid":"input-new-password"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(je,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:O=>v({...m,confirmPassword:O.target.value}),required:!0,minLength:6,"data-testid":"input-confirm-password"})]}),s.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[s.jsxs(J,{type:"button",variant:"outline",onClick:()=>{i(!1),v({currentPassword:"",newPassword:"",confirmPassword:""})},"data-testid":"button-cancel-password",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsxs(J,{type:"submit",disabled:g.isPending,"data-testid":"button-save-password",children:[s.jsx(Qb,{className:"h-4 w-4 mr-2"}),g.isPending?"Changing...":"Change Password"]})]})]})})]})]})]})})}function ct(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ur(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Mn(t,e){const n=ct(t);return isNaN(e)?ur(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ns(t,e){const n=ct(t);if(isNaN(e))return ur(t,NaN);if(!e)return n;const r=n.getDate(),i=ur(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const fj=6048e5,HB=864e5;let qB={};function sh(){return qB}function Fs(t,e){var l,c,d,f;const n=sh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=ct(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Mo(t){return Fs(t,{weekStartsOn:1})}function FA(t){const e=ct(t),n=e.getFullYear(),r=ur(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Mo(r),a=ur(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=Mo(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function yc(t){const e=ct(t);return e.setHours(0,0,0,0),e}function Tm(t){const e=ct(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ns(t,e){const n=yc(t),r=yc(e),i=+n-Tm(n),a=+r-Tm(r);return Math.round((i-a)/HB)}function KB(t){const e=FA(t),n=ur(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Mo(n)}function qv(t,e){const n=e*7;return Mn(t,n)}function GB(t,e){return ns(t,e*12)}function YB(t){let e;return t.forEach(function(n){const r=ct(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function QB(t){let e;return t.forEach(n=>{const r=ct(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Gn(t,e){const n=yc(t),r=yc(e);return+n==+r}function mj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZB(t){if(!mj(t)&&typeof t!="number")return!1;const e=ct(t);return!isNaN(Number(e))}function Pu(t,e){const n=ct(t),r=ct(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function XB(t,e,n){const r=Fs(t,n),i=Fs(e,n),a=+r-Tm(r),o=+i-Tm(i);return Math.round((a-o)/fj)}function pj(t){const e=ct(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Xn(t){const e=ct(t);return e.setDate(1),e.setHours(0,0,0,0),e}function $A(t){const e=ct(t),n=ur(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function gj(t,e){var l,c,d,f;const n=sh(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,i=ct(t),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function UA(t){return gj(t,{weekStartsOn:1})}const JB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eW=(t,e,n)=>{let r;const i=JB[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const tW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sW={date:Xg({formats:tW,defaultWidth:"full"}),time:Xg({formats:nW,defaultWidth:"full"}),dateTime:Xg({formats:rW,defaultWidth:"full"})},iW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aW=(t,e,n,r)=>iW[t];function ud(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const oW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fW=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mW={ordinalNumber:fW,era:ud({values:oW,defaultWidth:"wide"}),quarter:ud({values:lW,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ud({values:cW,defaultWidth:"wide"}),day:ud({values:dW,defaultWidth:"wide"}),dayPeriod:ud({values:uW,defaultWidth:"wide",formattingValues:hW,defaultFormattingWidth:"wide"})};function hd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?gW(l,h=>h.test(o)):pW(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function pW(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gW(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function xW(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const vW=/^(\d+)(th|st|nd|rd)?/i,yW=/\d+/i,wW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jW={any:[/^b/i,/^(a|c)/i]},bW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NW={any:[/1/i,/2/i,/3/i,/4/i]},_W={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PW={ordinalNumber:xW({matchPattern:vW,parsePattern:yW,valueCallback:t=>parseInt(t,10)}),era:hd({matchPatterns:wW,defaultMatchWidth:"wide",parsePatterns:jW,defaultParseWidth:"any"}),quarter:hd({matchPatterns:bW,defaultMatchWidth:"wide",parsePatterns:NW,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hd({matchPatterns:_W,defaultMatchWidth:"wide",parsePatterns:SW,defaultParseWidth:"any"}),day:hd({matchPatterns:CW,defaultMatchWidth:"wide",parsePatterns:kW,defaultParseWidth:"any"}),dayPeriod:hd({matchPatterns:EW,defaultMatchWidth:"any",parsePatterns:TW,defaultParseWidth:"any"})},VA={code:"en-US",formatDistance:eW,formatLong:sW,formatRelative:aW,localize:mW,match:PW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AW(t){const e=ct(t);return Ns(e,$A(e))+1}function zA(t){const e=ct(t),n=+Mo(e)-+KB(e);return Math.round(n/fj)+1}function BA(t,e){var f,h,m,v;const n=ct(t),r=n.getFullYear(),i=sh(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=ur(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Fs(o,e),c=ur(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Fs(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function IW(t,e){var l,c,d,f;const n=sh(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=BA(t,e),a=ur(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Fs(a,e)}function WA(t,e){const n=ct(t),r=+Fs(n,e)-+IW(n,e);return Math.round(r/fj)+1}function mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Oi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):mt(n+1,2)},d(t,e){return mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return mt(t.getHours()%12||12,e.length)},H(t,e){return mt(t.getHours(),e.length)},m(t,e){return mt(t.getMinutes(),e.length)},s(t,e){return mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return mt(i,e.length)}},al={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Oi.y(t,e)},Y:function(t,e,n,r){const i=BA(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return mt(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):mt(a,e.length)},R:function(t,e){const n=FA(t);return mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Oi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=WA(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):mt(i,e.length)},I:function(t,e,n){const r=zA(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Oi.d(t,e)},D:function(t,e,n){const r=AW(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return mt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return mt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return mt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=al.noon:r===0?i=al.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=al.evening:r>=12?i=al.afternoon:r>=4?i=al.morning:i=al.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Oi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Oi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Oi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Oi.s(t,e)},S:function(t,e){return Oi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return F1(r);case"XXXX":case"XX":return Qa(r);case"XXXXX":case"XXX":default:return Qa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return F1(r);case"xxxx":case"xx":return Qa(r);case"xxxxx":case"xxx":default:return Qa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+L1(r,":");case"OOOO":default:return"GMT"+Qa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+L1(r,":");case"zzzz":default:return"GMT"+Qa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return mt(r,e.length)},T:function(t,e,n){const r=t.getTime();return mt(r,e.length)}};function L1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+mt(a,2)}function F1(t,e){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):Qa(t,e)}function Qa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=mt(Math.trunc(r/60),2),a=mt(r%60,2);return n+i+e+a}const $1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},HA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},RW=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return $1(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",$1(r,e)).replace("{{time}}",HA(i,e))},DW={p:HA,P:RW},MW=/^D+$/,OW=/^Y+$/,LW=["D","DD","YY","YYYY"];function FW(t){return MW.test(t)}function $W(t){return OW.test(t)}function UW(t,e,n){const r=VW(t,e,n);if(console.warn(r),LW.includes(t))throw new RangeError(r)}function VW(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WW=/^'([^]*?)'?$/,HW=/''/g,qW=/[a-zA-Z]/;function zr(t,e,n){var f,h,m,v,_,g,C,j;const r=sh(),i=(n==null?void 0:n.locale)??r.locale??VA,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((j=(C=r.locale)==null?void 0:C.options)==null?void 0:j.weekStartsOn)??0,l=ct(t);if(!ZB(l))throw new RangeError("Invalid time value");let c=e.match(BW).map(y=>{const x=y[0];if(x==="p"||x==="P"){const P=DW[x];return P(y,i.formatLong)}return y}).join("").match(zW).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:KW(y)};if(O1[x])return{isToken:!0,value:y};if(x.match(qW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$W(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&FW(x))&&UW(x,e,String(t));const P=O1[x[0]];return P(l,x,i.localize,d)}).join("")}function KW(t){const e=t.match(WW);return e?e[1].replace(HW,"'"):t}function GW(t){const e=ct(t),n=e.getFullYear(),r=e.getMonth(),i=ur(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function YW(t){return Math.trunc(+ct(t)/1e3)}function QW(t){const e=ct(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function ZW(t,e){return XB(QW(t),Xn(t),e)+1}function Kv(t,e){const n=ct(t),r=ct(e);return n.getTime()>r.getTime()}function qA(t,e){const n=ct(t),r=ct(e);return+n<+r}function xj(t,e){const n=ct(t),r=ct(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function XW(t,e){const n=ct(t),r=ct(e);return n.getFullYear()===r.getFullYear()}function Jg(t,e){return Mn(t,-e)}function ex(t,e){const n=ct(t),r=n.getFullYear(),i=n.getDate(),a=ur(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const o=GW(a);return n.setMonth(e,Math.min(i,o)),n}function U1(t,e){const n=ct(t);return isNaN(+n)?ur(t,NaN):(n.setFullYear(e),n)}var vj="Popover",[KA,DK]=Jn(vj,[Da]),ih=Da(),[JW,$a]=KA(vj),GA=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=ih(e),c=p.useRef(null),[d,f]=p.useState(!1),[h=!1,m]=mi({prop:r,defaultProp:i,onChange:a});return s.jsx(gw,{...l,children:s.jsx(JW,{scope:e,contentId:qr(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(v=>!v),[m]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>f(!0),[]),onCustomAnchorRemove:p.useCallback(()=>f(!1),[]),modal:o,children:n})})};GA.displayName=vj;var YA="PopoverAnchor",eH=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$a(YA,n),a=ih(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Bu,{...a,...r,ref:e})});eH.displayName=YA;var QA="PopoverTrigger",ZA=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$a(QA,n),a=ih(n),o=tt(e,i.triggerRef),l=s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nI(i.open),...r,ref:o,onClick:fe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Bu,{asChild:!0,...a,children:l})});ZA.displayName=QA;var yj="PopoverPortal",[tH,nH]=KA(yj,{forceMount:void 0}),XA=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=$a(yj,e);return s.jsx(tH,{scope:e,forceMount:n,children:s.jsx(mr,{present:n||a.open,children:s.jsx(kc,{asChild:!0,container:i,children:r})})})};XA.displayName=yj;var wc="PopoverContent",JA=p.forwardRef((t,e)=>{const n=nH(wc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=$a(wc,t.__scopePopover);return s.jsx(mr,{present:r||a.open,children:a.modal?s.jsx(sH,{...i,ref:e}):s.jsx(iH,{...i,ref:e})})});JA.displayName=wc;var rH=ya("PopoverContent.RemoveScroll"),sH=p.forwardRef((t,e)=>{const n=$a(wc,t.__scopePopover),r=p.useRef(null),i=tt(e,r),a=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return vp(o)},[]),s.jsx(eh,{as:rH,allowPinchZoom:!0,children:s.jsx(eI,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),iH=p.forwardRef((t,e)=>{const n=$a(wc,t.__scopePopover),r=p.useRef(!1),i=p.useRef(!1);return s.jsx(eI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),eI=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,...h}=t,m=$a(wc,n),v=ih(n);return xp(),s.jsx(Ju,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Bo,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(np,{"data-state":nI(m.open),role:"dialog",id:m.contentId,...v,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tI="PopoverClose",aH=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=$a(tI,n);return s.jsx(Ae.button,{type:"button",...r,ref:e,onClick:fe(t.onClick,()=>i.onOpenChange(!1))})});aH.displayName=tI;var oH="PopoverArrow",lH=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ih(n);return s.jsx(rp,{...i,...r,ref:e})});lH.displayName=oH;function nI(t){return t?"open":"closed"}var cH=GA,dH=ZA,uH=XA,rI=JA;const V1=cH,z1=dH,Gv=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>s.jsx(uH,{children:s.jsx(rI,{ref:i,align:e,sideOffset:n,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Gv.displayName=rI.displayName;var Fe=function(){return Fe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fe.apply(this,arguments)};function hH(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sI(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function ah(t){return t.mode==="multiple"}function oh(t){return t.mode==="range"}function kp(t){return t.mode==="single"}var fH={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function mH(t,e){return zr(t,"LLLL y",e)}function pH(t,e){return zr(t,"d",e)}function gH(t,e){return zr(t,"LLLL",e)}function xH(t){return"".concat(t)}function vH(t,e){return zr(t,"cccccc",e)}function yH(t,e){return zr(t,"yyyy",e)}var wH=Object.freeze({__proto__:null,formatCaption:mH,formatDay:pH,formatMonthCaption:gH,formatWeekNumber:xH,formatWeekdayName:vH,formatYearCaption:yH}),jH=function(t,e,n){return zr(t,"do MMMM (EEEE)",n)},bH=function(){return"Month: "},NH=function(){return"Go to next month"},_H=function(){return"Go to previous month"},SH=function(t,e){return zr(t,"cccc",e)},CH=function(t){return"Week n. ".concat(t)},kH=function(){return"Year: "},EH=Object.freeze({__proto__:null,labelDay:jH,labelMonthDropdown:bH,labelNext:NH,labelPrevious:_H,labelWeekNumber:CH,labelWeekday:SH,labelYearDropdown:kH});function TH(){var t="buttons",e=fH,n=VA,r={},i={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:wH,labels:EH,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function PH(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return r?a=Xn(r):e&&(a=new Date(e,0,1)),i?o=pj(i):n&&(o=new Date(n,11,31)),{fromDate:a?yc(a):void 0,toDate:o?yc(o):void 0}}var iI=p.createContext(void 0);function AH(t){var e,n=t.initialProps,r=TH(),i=PH(n),a=i.fromDate,o=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(kp(n)||ah(n)||oh(n))&&(c=n.onSelect);var d=Fe(Fe(Fe({},r),n),{captionLayout:l,classNames:Fe(Fe({},r.classNames),n.classNames),components:Fe({},n.components),formatters:Fe(Fe({},r.formatters),n.formatters),fromDate:a,labels:Fe(Fe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Fe(Fe({},r.modifiers),n.modifiers),modifiersClassNames:Fe(Fe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Fe(Fe({},r.styles),n.styles),toDate:o});return s.jsx(iI.Provider,{value:d,children:t.children})}function Ct(){var t=p.useContext(iI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function aI(t){var e=Ct(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function IH(t){return s.jsx("svg",Fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oI(t){var e,n,r=t.onChange,i=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,d=Ct(),f=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:IH;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),s.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function RH(t){var e,n=Ct(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var h=[];if(XW(r,i))for(var m=Xn(r),v=r.getMonth();v<=i.getMonth();v++)h.push(ex(m,v));else for(var m=Xn(new Date),v=0;v<=11;v++)h.push(ex(m,v));var _=function(C){var j=Number(C.target.value),y=ex(Xn(t.displayMonth),j);t.onChange(y)},g=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:oI;return s.jsx(g,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:h.map(function(C){return s.jsx("option",{value:C.getMonth(),children:l(C,{locale:o})},C.getMonth())})})}function DH(t){var e,n=t.displayMonth,r=Ct(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,f=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var v=i.getFullYear(),_=a.getFullYear(),g=v;g<=_;g++)m.push(U1($A(new Date),g));var C=function(y){var x=U1(Xn(n),Number(y.target.value));t.onChange(x)},j=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:oI;return s.jsx(j,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:C,value:n.getFullYear(),caption:f(n,{locale:o}),children:m.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:f(y,{locale:o})},y.getFullYear())})})}function MH(t,e){var n=p.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function OH(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&Pu(a,i)<0){var d=-1*(c-1);i=ns(a,d)}return o&&Pu(i,o)<0&&(i=o),Xn(i)}function LH(){var t=Ct(),e=OH(t),n=MH(e,t.month),r=n[0],i=n[1],a=function(o){var l;if(!t.disableNavigation){var c=Xn(o);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,a]}function FH(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Xn(t),a=Xn(ns(i,r)),o=Pu(a,i),l=[],c=0;c<o;c++){var d=ns(i,c);l.push(d)}return n&&(l=l.reverse()),l}function $H(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=Xn(t);if(!n)return ns(l,o);var c=Pu(n,t);if(!(c<a))return ns(l,o)}}function UH(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=Xn(t);if(!n)return ns(l,-o);var c=Pu(l,n);if(!(c<=0))return ns(l,-o)}}var lI=p.createContext(void 0);function VH(t){var e=Ct(),n=LH(),r=n[0],i=n[1],a=FH(r,e),o=$H(r,e),l=UH(r,e),c=function(h){return a.some(function(m){return xj(h,m)})},d=function(h,m){c(h)||(m&&qA(h,m)?i(ns(h,1+e.numberOfMonths*-1)):i(h))},f={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(lI.Provider,{value:f,children:t.children})}function lh(){var t=p.useContext(lI);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function B1(t){var e,n=Ct(),r=n.classNames,i=n.styles,a=n.components,o=lh().goToMonth,l=function(f){o(ns(f,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:aI,d=s.jsx(c,{id:t.id,displayMonth:t.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(RH,{onChange:l,displayMonth:t.displayMonth}),s.jsx(DH,{onChange:l,displayMonth:t.displayMonth})]})}function zH(t){return s.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function BH(t){return s.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Pm=p.forwardRef(function(t,e){var n=Ct(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var o=a.join(" "),l=Fe(Fe({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),s.jsx("button",Fe({},t,{ref:e,type:"button",className:o,style:l}))});function WH(t){var e,n,r=Ct(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,f=c.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return s.jsx(s.Fragment,{});var m=d(t.previousMonth,{locale:a}),v=[o.nav_button,o.nav_button_previous].join(" "),_=f(t.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),C=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:BH,j=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:zH;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&s.jsx(Pm,{name:"previous-month","aria-label":m,className:v,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?s.jsx(C,{className:o.nav_icon,style:l.nav_icon}):s.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&s.jsx(Pm,{name:"next-month","aria-label":_,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?s.jsx(j,{className:o.nav_icon,style:l.nav_icon}):s.jsx(C,{className:o.nav_icon,style:l.nav_icon})})]})}function W1(t){var e=Ct().numberOfMonths,n=lh(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(_){return xj(t.displayMonth,_)}),c=l===0,d=l===o.length-1,f=e>1&&(c||!d),h=e>1&&(d||!c),m=function(){r&&a(r)},v=function(){i&&a(i)};return s.jsx(WH,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:h,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:v})}function HH(t){var e,n=Ct(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:aI,d;return i?d=s.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=s.jsx(B1,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(B1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),s.jsx(W1,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(W1,{displayMonth:t.displayMonth,id:t.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:d})}function qH(t){var e=Ct(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function KH(t,e,n){for(var r=n?Mo(new Date):Fs(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=Mn(r,a);i.push(o)}return i}function GH(){var t=Ct(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=KH(i,a,o);return s.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(f,h){return s.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(f,{locale:i}),children:l(f,{locale:i})},h)})]})}function YH(){var t,e=Ct(),n=e.classNames,r=e.styles,i=e.components,a=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:GH;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function QH(t){var e=Ct(),n=e.locale,r=e.formatters.formatDay;return s.jsx(s.Fragment,{children:r(t.date,{locale:n})})}var wj=p.createContext(void 0);function ZH(t){if(!ah(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return s.jsx(wj.Provider,{value:e,children:t.children})}return s.jsx(XH,{initialProps:t.initialProps,children:t.children})}function XH(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,o=function(d,f,h){var m,v;(m=e.onDayClick)===null||m===void 0||m.call(e,d,f,h);var _=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!_){var g=!!(!f.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var C=r?sI([],r):[];if(f.selected){var j=C.findIndex(function(y){return Gn(d,y)});C.splice(j,1)}else C.push(d);(v=e.onSelect)===null||v===void 0||v.call(e,C,d,f,h)}}},l={disabled:[]};r&&l.disabled.push(function(d){var f=a&&r.length>a-1,h=r.some(function(m){return Gn(m,d)});return!!(f&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(wj.Provider,{value:c,children:n})}function jj(){var t=p.useContext(wj);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function JH(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Gn(i,t)&&Gn(r,t)?void 0:Gn(i,t)?{from:i,to:void 0}:Gn(r,t)?void 0:Kv(r,t)?{from:t,to:i}:{from:r,to:t}:i?Kv(t,i)?{from:i,to:t}:{from:t,to:i}:r?qA(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var bj=p.createContext(void 0);function eq(t){if(!oh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(bj.Provider,{value:e,children:t.children})}return s.jsx(tq,{initialProps:t.initialProps,children:t.children})}function tq(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,o=i.to,l=e.min,c=e.max,d=function(v,_,g){var C,j;(C=e.onDayClick)===null||C===void 0||C.call(e,v,_,g);var y=JH(v,r);(j=e.onSelect)===null||j===void 0||j.call(e,y,v,_,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],Gn(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),l&&(a&&!o&&f.disabled.push({after:Jg(a,l-1),before:Mn(a,l-1)}),a&&o&&f.disabled.push({after:a,before:Mn(a,l-1)}),!a&&o&&f.disabled.push({after:Jg(o,l-1),before:Mn(o,l-1)})),c){if(a&&!o&&(f.disabled.push({before:Mn(a,-c+1)}),f.disabled.push({after:Mn(a,c-1)})),a&&o){var h=Ns(o,a)+1,m=c-h;f.disabled.push({before:Jg(a,m)}),f.disabled.push({after:Mn(o,m)})}!a&&o&&(f.disabled.push({before:Mn(o,-c+1)}),f.disabled.push({after:Mn(o,c-1)}))}return s.jsx(bj.Provider,{value:{selected:r,onDayClick:d,modifiers:f},children:n})}function Nj(){var t=p.useContext(bj);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function jf(t){return Array.isArray(t)?sI([],t):t!==void 0?[t]:[]}function nq(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=jf(i)}),e}var rs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(rs||(rs={}));var rq=rs.Selected,Ks=rs.Disabled,sq=rs.Hidden,iq=rs.Today,tx=rs.RangeEnd,nx=rs.RangeMiddle,rx=rs.RangeStart,aq=rs.Outside;function oq(t,e,n){var r,i=(r={},r[rq]=jf(t.selected),r[Ks]=jf(t.disabled),r[sq]=jf(t.hidden),r[iq]=[t.today],r[tx]=[],r[nx]=[],r[rx]=[],r[aq]=[],r);return t.fromDate&&i[Ks].push({before:t.fromDate}),t.toDate&&i[Ks].push({after:t.toDate}),ah(t)?i[Ks]=i[Ks].concat(e.modifiers[Ks]):oh(t)&&(i[Ks]=i[Ks].concat(n.modifiers[Ks]),i[rx]=n.modifiers[rx],i[nx]=n.modifiers[nx],i[tx]=n.modifiers[tx]),i}var cI=p.createContext(void 0);function lq(t){var e=Ct(),n=jj(),r=Nj(),i=oq(e,n,r),a=nq(e.modifiers),o=Fe(Fe({},i),a);return s.jsx(cI.Provider,{value:o,children:t.children})}function dI(){var t=p.useContext(cI);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function cq(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function dq(t){return!!(t&&typeof t=="object"&&"from"in t)}function uq(t){return!!(t&&typeof t=="object"&&"after"in t)}function hq(t){return!!(t&&typeof t=="object"&&"before"in t)}function fq(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function mq(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=Ns(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Ns(t,r)>=0&&Ns(i,t)>=0;return o}return i?Gn(i,t):r?Gn(r,t):!1}function pq(t){return mj(t)}function gq(t){return Array.isArray(t)&&t.every(mj)}function xq(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(pq(n))return Gn(t,n);if(gq(n))return n.includes(t);if(dq(n))return mq(t,n);if(fq(n))return n.dayOfWeek.includes(t.getDay());if(cq(n)){var r=Ns(n.before,t),i=Ns(n.after,t),a=r>0,o=i<0,l=Kv(n.before,n.after);return l?o&&a:a||o}return uq(n)?Ns(t,n.after)>0:hq(n)?Ns(n.before,t)>0:typeof n=="function"?n(t):!1})}function _j(t,e,n){var r=Object.keys(e).reduce(function(a,o){var l=e[o];return xq(t,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!xj(t,n)&&(i.outside=!0),i}function vq(t,e){for(var n=Xn(t[0]),r=pj(t[t.length-1]),i,a,o=n;o<=r;){var l=_j(o,e),c=!l.disabled&&!l.hidden;if(!c){o=Mn(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Mn(o,1)}return a||i}var yq=365;function uI(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=i.weekStartsOn,d=i.fromDate,f=i.toDate,h=i.locale,m={day:Mn,week:qv,month:ns,year:GB,startOfWeek:function(C){return i.ISOWeek?Mo(C):Fs(C,{locale:h,weekStartsOn:c})},endOfWeek:function(C){return i.ISOWeek?UA(C):gj(C,{locale:h,weekStartsOn:c})}},v=m[n](t,r==="after"?1:-1);r==="before"&&d?v=YB([d,v]):r==="after"&&f&&(v=QB([f,v]));var _=!0;if(a){var g=_j(v,a);_=!g.disabled&&!g.hidden}return _?v:l.count>yq?l.lastFocused:uI(v,{moveBy:n,direction:r,context:i,modifiers:a,retry:Fe(Fe({},l),{count:l.count+1})})}var hI=p.createContext(void 0);function wq(t){var e=lh(),n=dI(),r=p.useState(),i=r[0],a=r[1],o=p.useState(),l=o[0],c=o[1],d=vq(e.displayMonths,n),f=i??(l&&e.isDateDisplayed(l))?l:d,h=function(){c(i),a(void 0)},m=function(C){a(C)},v=Ct(),_=function(C,j){if(i){var y=uI(i,{moveBy:C,direction:j,context:v,modifiers:n});Gn(i,y)||(e.goToDate(y,i),m(y))}},g={focusedDay:i,focusTarget:f,blur:h,focus:m,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return s.jsx(hI.Provider,{value:g,children:t.children})}function Sj(){var t=p.useContext(hI);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function jq(t,e){var n=dI(),r=_j(t,n,e);return r}var Cj=p.createContext(void 0);function bq(t){if(!kp(t.initialProps)){var e={selected:void 0};return s.jsx(Cj.Provider,{value:e,children:t.children})}return s.jsx(Nq,{initialProps:t.initialProps,children:t.children})}function Nq(t){var e=t.initialProps,n=t.children,r=function(a,o,l){var c,d,f;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,a,o,l);return}(f=e.onSelect)===null||f===void 0||f.call(e,a,a,o,l)},i={selected:e.selected,onDayClick:r};return s.jsx(Cj.Provider,{value:i,children:n})}function fI(){var t=p.useContext(Cj);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _q(t,e){var n=Ct(),r=fI(),i=jj(),a=Nj(),o=Sj(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,m=o.focus,v=o.focusMonthBefore,_=o.focusMonthAfter,g=o.focusYearBefore,C=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,x=function(z){var F,W,Q,X;kp(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,t,e,z):ah(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,t,e,z):oh(n)?(Q=a.onDayClick)===null||Q===void 0||Q.call(a,t,e,z):(X=n.onDayClick)===null||X===void 0||X.call(n,t,e,z)},P=function(z){var F;m(t),(F=n.onDayFocus)===null||F===void 0||F.call(n,t,e,z)},D=function(z){var F;h(),(F=n.onDayBlur)===null||F===void 0||F.call(n,t,e,z)},O=function(z){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,t,e,z)},E=function(z){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,t,e,z)},b=function(z){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,t,e,z)},S=function(z){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,t,e,z)},R=function(z){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,t,e,z)},N=function(z){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,t,e,z)},T=function(z){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,t,e,z)},A=function(z){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,t,e,z)},L=function(z){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,t,e,z)},H=function(z){var F;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),d();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),f();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():v();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?C():_();break;case"Home":z.preventDefault(),z.stopPropagation(),j();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,t,e,z)},V={onClick:x,onFocus:P,onBlur:D,onKeyDown:H,onKeyUp:L,onMouseEnter:O,onMouseLeave:E,onPointerEnter:b,onPointerLeave:S,onTouchCancel:R,onTouchEnd:N,onTouchMove:T,onTouchStart:A};return V}function Sq(){var t=Ct(),e=fI(),n=jj(),r=Nj(),i=kp(t)?e.selected:ah(t)?n.selected:oh(t)?r.selected:void 0;return i}function Cq(t){return Object.values(rs).includes(t)}function kq(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(Cq(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function Eq(t,e){var n=Fe({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Fe(Fe({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function Tq(t,e,n){var r,i,a,o=Ct(),l=Sj(),c=jq(t,e),d=_q(t,c),f=Sq(),h=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var O;c.outside||l.focusedDay&&h&&Gn(l.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,t,n,h,c.outside]);var m=kq(o,c).join(" "),v=Eq(o,c),_=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:QH,C=s.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),j={style:v,className:m,children:C,role:"gridcell"},y=l.focusTarget&&Gn(l.focusTarget,t)&&!c.outside,x=l.focusedDay&&Gn(l.focusedDay,t),P=Fe(Fe(Fe({},j),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=x||y?0:-1,r)),d),D={isButton:h,isHidden:_,activeModifiers:c,selectedDays:f,buttonProps:P,divProps:j};return D}function Pq(t){var e=p.useRef(null),n=Tq(t.date,t.displayMonth,e);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Pm,Fe({name:"day",ref:e},n.buttonProps)):s.jsx("div",Fe({},n.divProps))}function Aq(t){var e=t.number,n=t.dates,r=Ct(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,f=d(Number(e),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var h=c(Number(e),{locale:l}),m=function(v){i(e,n,v)};return s.jsx(Pm,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:m,children:f})}function Iq(t){var e,n,r=Ct(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:Pq,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:Aq,f;return o&&(f=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(d,{number:t.weekNumber,dates:t.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[f,t.dates.map(function(h){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:t.displayMonth,date:h})},YW(h))})]})}function H1(t,e,n){for(var r=n!=null&&n.ISOWeek?UA(e):gj(e,n),i=n!=null&&n.ISOWeek?Mo(t):Fs(t,n),a=Ns(r,i),o=[],l=0;l<=a;l++)o.push(Mn(i,l));var c=o.reduce(function(d,f){var h=n!=null&&n.ISOWeek?zA(f):WA(f,n),m=d.find(function(v){return v.weekNumber===h});return m?(m.dates.push(f),d):(d.push({weekNumber:h,dates:[f]}),d)},[]);return c}function Rq(t,e){var n=H1(Xn(t),pj(t),e);if(e!=null&&e.useFixedWeeks){var r=ZW(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=qv(a,6-r),l=H1(qv(a,1),o,e);n.push.apply(n,l)}}return n}function Dq(t){var e,n,r,i=Ct(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,f=i.components,h=i.weekStartsOn,m=i.firstWeekContainsDate,v=i.ISOWeek,_=Rq(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:v,locale:a,weekStartsOn:h,firstWeekContainsDate:m}),g=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:YH,C=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:Iq,j=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:qH;return s.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:_.map(function(y){return s.jsx(C,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(j,{displayMonth:t.displayMonth})]})}function Mq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Oq=Mq()?p.useLayoutEffect:p.useEffect,sx=!1,Lq=0;function q1(){return"react-day-picker-".concat(++Lq)}function Fq(t){var e,n=t??(sx?q1():null),r=p.useState(n),i=r[0],a=r[1];return Oq(function(){i===null&&a(q1())},[]),p.useEffect(function(){sx===!1&&(sx=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function $q(t){var e,n,r=Ct(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=lh().displayMonths,d=Fq(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],m=o.month,v=t.displayIndex===0,_=t.displayIndex===c.length-1,g=!v&&!_;i==="rtl"&&(e=[v,_],_=e[0],v=e[1]),v&&(h.push(a.caption_start),m=Fe(Fe({},m),o.caption_start)),_&&(h.push(a.caption_end),m=Fe(Fe({},m),o.caption_end)),g&&(h.push(a.caption_between),m=Fe(Fe({},m),o.caption_between));var C=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:HH;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(C,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(Dq,{id:f,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function Uq(t){var e=Ct(),n=e.classNames,r=e.styles;return s.jsx("div",{className:n.months,style:r.months,children:t.children})}function Vq(t){var e,n,r=t.initialProps,i=Ct(),a=Sj(),o=lh(),l=p.useState(!1),c=l[0],d=l[1];p.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var h=Fe(Fe({},i.styles.root),i.style),m=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,g){var C;return Fe(Fe({},_),(C={},C[g]=r[g],C))},{}),v=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Uq;return s.jsx("div",Fe({className:f.join(" "),style:h,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:s.jsx(v,{children:o.displayMonths.map(function(_,g){return s.jsx($q,{displayIndex:g,displayMonth:_},g)})})}))}function zq(t){var e=t.children,n=hH(t,["children"]);return s.jsx(AH,{initialProps:n,children:s.jsx(VH,{children:s.jsx(bq,{initialProps:n,children:s.jsx(ZH,{initialProps:n,children:s.jsx(eq,{initialProps:n,children:s.jsx(lq,{children:s.jsx(wq,{children:e})})})})})})})}function Bq(t){return s.jsx(zq,Fe({},t,{children:s.jsx(Vq,{initialProps:t})}))}function Yv({className:t,classNames:e,showOutsideDays:n=!0,...r}){return s.jsx(Bq,{showOutsideDays:n,className:xe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(ku({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(ku({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...a})=>s.jsx(Ra,{className:xe("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(Is,{className:xe("h-4 w-4",i),...a})},...r})}Yv.displayName="Calendar";function Wq(){const[t,e]=p.useState(!1),[n,r]=p.useState(void 0),[i,a]=p.useState(void 0),[o,l]=p.useState({from:"",to:"",limit:"50"}),[c,d]=p.useState({starting_after:"",ending_before:""}),h=(()=>{const N=new URLSearchParams;return o.limit&&N.append("limit",o.limit),o.from&&N.append("from",o.from),o.to&&N.append("to",o.to),c.starting_after&&N.append("starting_after",c.starting_after),c.ending_before&&N.append("ending_before",c.ending_before),N.toString()})(),{data:m,isLoading:v}=Ze({queryKey:["/api/admin/application-fees",h],queryFn:async()=>{const N=await fetch(`/api/admin/application-fees?${h}`);if(!N.ok)throw new Error("Failed to fetch fees");return N.json()}}),_=(m==null?void 0:m.data)||[],g=(m==null?void 0:m.has_more)||!1,C=_.reduce((N,T)=>N+(T.amount||0),0),j=new Date().getMonth(),y=new Date().getFullYear(),x=_.filter(N=>{const T=new Date(N.created*1e3);return T.getMonth()===j&&T.getFullYear()===y}).reduce((N,T)=>N+(T.amount||0),0),P=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N/100),D=N=>new Date(N*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=()=>{l({...o,from:n?zr(n,"yyyy-MM-dd"):"",to:i?zr(i,"yyyy-MM-dd"):""}),d({starting_after:"",ending_before:""})},E=()=>{r(void 0),a(void 0),l({from:"",to:"",limit:"50"}),d({starting_after:"",ending_before:""})},b=()=>{_.length>0&&d({starting_after:_[_.length-1].id,ending_before:""})},S=()=>{_.length>0&&d({starting_after:"",ending_before:_[0].id})},R=[o.from,o.to].filter(N=>N).length;return v?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading revenue..."})]})})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Revenue"}),s.jsx("p",{className:"text-muted-foreground",children:"Platform revenue from client transactions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Fees (Current View)"}),s.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-fees",children:P(C)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"From current filter results"})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"This Month (Current View)"}),s.jsx(Nk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-monthly-fees",children:P(x)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(de,{className:"text-sm font-medium",children:"Total Transactions"}),s.jsx(cc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ie,{children:[s.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-transactions",children:_.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Fee transactions in current view"})]})]})]}),s.jsxs(se,{className:"mb-6",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5"}),s.jsx(de,{children:"Filters"}),R>0&&s.jsxs(Ve,{variant:"secondary",children:[R," active"]})]}),s.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>e(!t),"data-testid":"button-toggle-filters",children:[t?"Hide":"Show"," Filters"]})]})}),t&&s.jsxs(ie,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{children:"From Date"}),s.jsxs(V1,{children:[s.jsx(z1,{asChild:!0,children:s.jsxs(J,{variant:"outline",className:xe("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),"data-testid":"button-from-date",children:[s.jsx(Pl,{className:"mr-2 h-4 w-4"}),n?zr(n,"PPP"):"Pick a date"]})}),s.jsx(Gv,{className:"w-auto p-0",align:"start",children:s.jsx(Yv,{mode:"single",selected:n,onSelect:r,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{children:"To Date"}),s.jsxs(V1,{children:[s.jsx(z1,{asChild:!0,children:s.jsxs(J,{variant:"outline",className:xe("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),"data-testid":"button-to-date",children:[s.jsx(Pl,{className:"mr-2 h-4 w-4"}),i?zr(i,"PPP"):"Pick a date"]})}),s.jsx(Gv,{className:"w-auto p-0",align:"start",children:s.jsx(Yv,{mode:"single",selected:i,onSelect:a,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"limit-filter",children:"Results per page"}),s.jsxs(pn,{value:o.limit,onValueChange:N=>l({...o,limit:N}),children:[s.jsx(ln,{id:"limit-filter","data-testid":"select-limit-filter",children:s.jsx(gn,{placeholder:"50"})}),s.jsxs(cn,{children:[s.jsx(re,{value:"10",children:"10"}),s.jsx(re,{value:"25",children:"25"}),s.jsx(re,{value:"50",children:"50"}),s.jsx(re,{value:"100",children:"100"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(J,{onClick:O,"data-testid":"button-apply-filters",children:"Apply Filters"}),s.jsxs(J,{variant:"outline",onClick:E,"data-testid":"button-clear-filters",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Revenue"}),s.jsx(De,{children:"List of platform fees collected from transactions"})]}),s.jsx(ie,{children:_.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No revenue found"}),R>0&&s.jsx(J,{variant:"outline",onClick:E,className:"mt-4","data-testid":"button-clear-filters-empty",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Amount"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-sm text-muted-foreground",children:"Status"})]})}),s.jsx("tbody",{children:_.map(N=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-fee-${N.id}`,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pl,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:D(N.created)})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:P(N.amount)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Ve,{variant:N.refunded?"destructive":"default",className:"text-xs",children:N.refunded?"Refunded":"Collected"})})]},N.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-border",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," ",_.length===1?"fee":"fees"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:S,disabled:!c.starting_after&&!c.ending_before,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:b,disabled:!g,"data-testid":"button-next-page",children:["Next",s.jsx(Is,{className:"h-4 w-4 ml-1"})]})]})]})]})})]})]})})}const jc=p.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));jc.displayName="Textarea";var mI="AlertDialog",[Hq,MK]=Jn(mI,[xA]),Si=xA(),pI=t=>{const{__scopeAlertDialog:e,...n}=t,r=Si(e);return s.jsx(RA,{...r,...n,modal:!0})};pI.displayName=mI;var qq="AlertDialogTrigger",Kq=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Si(n);return s.jsx(DA,{...i,...r,ref:e})});Kq.displayName=qq;var Gq="AlertDialogPortal",gI=t=>{const{__scopeAlertDialog:e,...n}=t,r=Si(e);return s.jsx(MA,{...r,...n})};gI.displayName=Gq;var Yq="AlertDialogOverlay",xI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Si(n);return s.jsx(lj,{...i,...r,ref:e})});xI.displayName=Yq;var Vl="AlertDialogContent",[Qq,Zq]=Hq(Vl),Xq=qC("AlertDialogContent"),vI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=Si(n),o=p.useRef(null),l=tt(e,o),c=p.useRef(null);return s.jsx(kB,{contentName:Vl,titleName:yI,docsSlug:"alert-dialog",children:s.jsx(Qq,{scope:n,cancelRef:c,children:s.jsxs(cj,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:fe(i.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(Xq,{children:r}),s.jsx(eK,{contentRef:o})]})})})});vI.displayName=Vl;var yI="AlertDialogTitle",wI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Si(n);return s.jsx(dj,{...i,...r,ref:e})});wI.displayName=yI;var jI="AlertDialogDescription",bI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Si(n);return s.jsx(uj,{...i,...r,ref:e})});bI.displayName=jI;var Jq="AlertDialogAction",NI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Si(n);return s.jsx(hj,{...i,...r,ref:e})});NI.displayName=Jq;var _I="AlertDialogCancel",SI=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Zq(_I,n),a=Si(n),o=tt(e,i);return s.jsx(hj,{...a,...r,ref:o})});SI.displayName=_I;var eK=({contentRef:t})=>{const e=`\`${Vl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vl}\` by passing a \`${jI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},tK=pI,nK=gI,CI=xI,kI=vI,EI=NI,TI=SI,PI=wI,AI=bI;const kj=tK,rK=nK,II=p.forwardRef(({className:t,...e},n)=>s.jsx(CI,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));II.displayName=CI.displayName;const Ep=p.forwardRef(({className:t,...e},n)=>s.jsxs(rK,{children:[s.jsx(II,{}),s.jsx(kI,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ep.displayName=kI.displayName;const Tp=({className:t,...e})=>s.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Tp.displayName="AlertDialogHeader";const Pp=({className:t,...e})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Pp.displayName="AlertDialogFooter";const Ap=p.forwardRef(({className:t,...e},n)=>s.jsx(PI,{ref:n,className:xe("text-lg font-semibold",t),...e}));Ap.displayName=PI.displayName;const Ip=p.forwardRef(({className:t,...e},n)=>s.jsx(AI,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));Ip.displayName=AI.displayName;const Rp=p.forwardRef(({className:t,...e},n)=>s.jsx(EI,{ref:n,className:xe(ku(),t),...e}));Rp.displayName=EI.displayName;const Dp=p.forwardRef(({className:t,...e},n)=>s.jsx(TI,{ref:n,className:xe(ku({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Dp.displayName=TI.displayName;function sK(){var he,ce,Se;const[t,e]=p.useState(1),[n,r]=p.useState(""),[i,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[f,h]=p.useState(!1),[m,v]=p.useState(""),[_,g]=p.useState(null),[C,j]=p.useState(null),[y,x]=p.useState(!1),[P,D]=p.useState(null),[O,E]=p.useState(""),[b,S]=p.useState(!1),[R,N]=p.useState(null),[T,A]=p.useState(""),[L,H]=p.useState(null),[V,z]=p.useState(!1),[F,W]=p.useState(null),[Q,X]=p.useState(""),{toast:B}=yn(),me=10,ot=(()=>{const Z=new URLSearchParams;return Z.append("limit",me.toString()),Z.append("page",t.toString()),n&&Z.append("title",n),Z.toString()})(),{data:Me,isLoading:_e}=Ze({queryKey:["/api/admin/categories",ot],queryFn:async()=>{const Z=await fetch(`/api/admin/categories?${ot}`);if(!Z.ok)throw new Error("Failed to fetch categories");return Z.json()}}),Ue=((he=Me==null?void 0:Me.data)==null?void 0:he.categories)||[],ze=((ce=Me==null?void 0:Me.data)==null?void 0:ce.pages)||1,q=((Se=Me==null?void 0:Me.data)==null?void 0:Se.totalDoc)||0,we=()=>{r(i),e(1)},Te=()=>{a(""),r(""),e(1)},Be=It({mutationFn:async Z=>ht("POST","/api/admin/categories/bulk",{names:Z}),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories"]}),B({title:"Success",description:"Categories imported successfully"}),l(""),d(!1)},onError:Z=>{B({title:"Error",description:Z.message||"Failed to import categories",variant:"destructive"})}}),wt=()=>{const Z=o.split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0);if(Z.length===0){B({title:"Error",description:"Please enter at least one category name",variant:"destructive"});return}Be.mutate(Z)},xt=It({mutationFn:async({name:Z,icon:Ie})=>{console.log("Starting category mutation with name:",Z,"icon:",Ie==null?void 0:Ie.name);const jt=new FormData;jt.append("name",Z),Ie&&jt.append("images",Ie),console.log("Sending request to /api/admin/categories");try{const wn=await fetch("/api/admin/categories",{method:"POST",body:jt});if(console.log("Response received:",wn.status,wn.statusText),!wn.ok){const Cr=await wn.json();throw new Error(Cr.error||"Failed to add category")}const jn=await wn.json();return console.log("Success data:",jn),jn}catch(wn){throw console.error("Fetch error:",wn),wn}},onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories"]}),B({title:"Success",description:"Category added successfully"}),v(""),g(null),h(!1)},onError:Z=>{B({title:"Error",description:Z.message||"Failed to add category",variant:"destructive"})}}),dn=()=>{if(!m.trim()){B({title:"Error",description:"Please enter a category name",variant:"destructive"});return}xt.mutate({name:m,icon:_})},un=It({mutationFn:async Z=>ht("DELETE",`/api/admin/categories/${Z}`),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories"]}),B({title:"Success",description:"Category deleted successfully"}),j(null)},onError:Z=>{B({title:"Error",description:Z.message||"Failed to delete category",variant:"destructive"})}}),is=()=>{C&&un.mutate(C)},vt=It({mutationFn:async({id:Z,name:Ie,icon:jt})=>{const wn=new FormData;wn.append("name",Ie),jt&&wn.append("images",jt);const jn=await fetch(`/api/admin/categories/${Z}`,{method:"PUT",body:wn});if(!jn.ok){const Cr=await jn.json();throw new Error(Cr.error||"Failed to update category")}return jn.json()},onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories"]}),B({title:"Success",description:"Category updated successfully"}),S(!1),N(null),A(""),H(null)},onError:Z=>{B({title:"Error",description:Z.message||"Failed to update category",variant:"destructive"})}}),nn=()=>{if(!R||!T.trim()){B({title:"Error",description:"Please enter a category name",variant:"destructive"});return}vt.mutate({id:R._id,name:T,icon:L})},Bs=Z=>{N(Z),A(Z.name),H(null),S(!0)},$=It({mutationFn:async({categoryId:Z,parentId:Ie})=>ht("PUT",`/api/admin/categories/${Z}/convert`,{targetType:"child",parentId:Ie}),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories"]}),B({title:"Success",description:"Category converted to subcategory successfully"}),z(!1),W(null),X("")},onError:Z=>{B({title:"Error",description:Z.message||"Failed to convert category",variant:"destructive"})}}),G=()=>{if(!F||!Q){B({title:"Error",description:"Please select a parent category",variant:"destructive"});return}if(F._id===Q){B({title:"Error",description:"Cannot convert a category to be its own subcategory",variant:"destructive"});return}$.mutate({categoryId:F._id,parentId:Q})},ee=It({mutationFn:async({categoryId:Z,names:Ie})=>ht("POST",`/api/admin/categories/${Z}/subcategories/bulk`,{names:Ie}),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories"]}),B({title:"Success",description:"Subcategories imported successfully"}),E(""),x(!1),D(null)},onError:Z=>{B({title:"Error",description:Z.message||"Failed to import subcategories",variant:"destructive"})}}),ve=()=>{if(!P)return;const Z=O.split(`
`).map(Ie=>Ie.trim()).filter(Ie=>Ie.length>0);if(Z.length===0){B({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}ee.mutate({categoryId:P.id,names:Z})};return _e?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]})})}):s.jsxs(qe,{children:[s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage product categories"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search categories by name...",value:i,onChange:Z=>a(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&we(),className:"pl-10","data-testid":"input-search-categories"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(J,{onClick:we,"data-testid":"button-search",children:"Search"}),n&&s.jsx(J,{variant:"outline",onClick:Te,"data-testid":"button-clear-search",children:"Clear"}),s.jsxs(ni,{open:f,onOpenChange:h,children:[s.jsx(Em,{asChild:!0,children:s.jsxs(J,{"data-testid":"button-add-category",children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Add New Category"}),s.jsx(Ki,{children:"Create a new category with an optional icon image."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"category-name",children:"Category Name"}),s.jsx(je,{id:"category-name",placeholder:"Enter category name",value:m,onChange:Z=>v(Z.target.value),"data-testid":"input-category-name"})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"category-icon",children:"Category Icon (Optional)"}),s.jsx(je,{id:"category-icon",type:"file",accept:"image/*",onChange:Z=>{var Ie;return g(((Ie=Z.target.files)==null?void 0:Ie[0])||null)},"data-testid":"input-category-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>{h(!1),v(""),g(null)},"data-testid":"button-cancel-add-category",children:"Cancel"}),s.jsx(J,{onClick:dn,disabled:xt.isPending,"data-testid":"button-submit-add-category",children:xt.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(ni,{open:c,onOpenChange:d,children:[s.jsx(Em,{asChild:!0,children:s.jsxs(J,{variant:"outline","data-testid":"button-bulk-import",children:[s.jsx(iw,{className:"h-4 w-4 mr-2"}),"Bulk Import"]})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Bulk Import Categories"}),s.jsx(Ki,{children:"Enter category names, one per line. They will be added to the system."})]}),s.jsx(jc,{placeholder:`Category 1
Category 2
Category 3`,value:o,onChange:Z=>l(Z.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-import",children:"Cancel"}),s.jsx(J,{onClick:wt,disabled:Be.isPending,"data-testid":"button-submit-import",children:Be.isPending?"Importing...":"Import"})]})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"All Categories"}),s.jsx(De,{children:"Product categories in the platform"})]}),s.jsx(ie,{children:Ue.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Id,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No categories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Subcategories"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:Ue.map(Z=>{var Ie;return s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-category-${Z._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:Z.icon?s.jsx("img",{src:`https://api.iconaapp.com/${Z.icon}`,alt:Z.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-category-${Z._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Id,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(El,{href:`/admin/categories/${Z._id}/subcategories`,children:s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",children:[s.jsx("span",{className:"font-medium text-foreground group-hover:text-primary transition-colors","data-testid":`text-category-name-${Z._id}`,children:Z.name}),s.jsx(Is,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:Z.type||"N/A"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:((Ie=Z.subCategories)==null?void 0:Ie.length)||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm","data-testid":`button-actions-${Z._id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(an,{onClick:()=>Bs(Z),"data-testid":`button-edit-category-${Z._id}`,children:[s.jsx(JO,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsxs(an,{onClick:()=>{D({id:Z._id,name:Z.name}),x(!0)},"data-testid":`button-add-subcategories-${Z._id}`,children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add Subcategories"]}),s.jsxs(an,{onClick:()=>{W(Z),z(!0)},"data-testid":`button-convert-to-child-${Z._id}`,children:[s.jsx(DO,{className:"h-4 w-4 mr-2"}),"Convert to Subcategory"]}),s.jsx(bi,{}),s.jsxs(an,{onClick:()=>j(Z._id),"data-testid":`button-delete-category-${Z._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(sw,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},Z._id)})})]})})})]}),Ue.length>0&&s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",ze," (",q," total categories)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>e(Z=>Math.max(1,Z-1)),disabled:t===1,"data-testid":"button-prev-page",children:[s.jsx(Ra,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs(J,{variant:"outline",size:"sm",onClick:()=>e(Z=>Z+1),disabled:t>=ze,"data-testid":"button-next-page",children:["Next",s.jsx(Is,{className:"h-4 w-4 ml-1"})]})]})]})]}),s.jsx(ni,{open:V,onOpenChange:Z=>{z(Z),Z||(W(null),X(""))},children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Convert to Subcategory"}),s.jsxs(Ki,{children:['Convert "',F==null?void 0:F.name,'" to a subcategory by selecting its parent category.']})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"parent-category",children:"Parent Category"}),s.jsxs(pn,{value:Q,onValueChange:X,children:[s.jsx(ln,{id:"parent-category","data-testid":"select-parent-category",children:s.jsx(gn,{placeholder:"Select a parent category"})}),s.jsx(cn,{children:Ue.filter(Z=>Z._id!==(F==null?void 0:F._id)).map(Z=>s.jsx(re,{value:Z._id,children:Z.name},Z._id))})]})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>{z(!1),W(null),X("")},"data-testid":"button-cancel-convert",children:"Cancel"}),s.jsx(J,{onClick:G,disabled:$.isPending,"data-testid":"button-submit-convert",children:$.isPending?"Converting...":"Convert"})]})]})}),s.jsx(ni,{open:b,onOpenChange:Z=>{S(Z),Z||(N(null),A(""),H(null))},children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Edit Category"}),s.jsx(Ki,{children:"Update the category name and icon."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"edit-category-name",children:"Category Name"}),s.jsx(je,{id:"edit-category-name",placeholder:"Enter category name",value:T,onChange:Z=>A(Z.target.value),"data-testid":"input-edit-category-name"})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"edit-category-icon",children:"Category Icon (Optional)"}),s.jsx(je,{id:"edit-category-icon",type:"file",accept:"image/*",onChange:Z=>{var Ie;return H(((Ie=Z.target.files)==null?void 0:Ie[0])||null)},"data-testid":"input-edit-category-icon"}),(R==null?void 0:R.icon)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Current Icon:"}),s.jsx("img",{src:`https://api.iconaapp.com/${R.icon}`,alt:R.name,className:"w-16 h-16 object-cover rounded-md"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>{S(!1),N(null),A(""),H(null)},"data-testid":"button-cancel-edit-category",children:"Cancel"}),s.jsx(J,{onClick:nn,disabled:vt.isPending,"data-testid":"button-submit-edit-category",children:vt.isPending?"Updating...":"Update"})]})]})}),s.jsx(ni,{open:y,onOpenChange:x,children:s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Bulk Import Subcategories"}),s.jsxs(Ki,{children:["Add subcategories to ",P==null?void 0:P.name,". Enter one subcategory name per line."]})]}),s.jsx(jc,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:O,onChange:Z=>E(Z.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories-from-categories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>{x(!1),E(""),D(null)},"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(J,{onClick:ve,disabled:ee.isPending,"data-testid":"button-submit-import-subcategories",children:ee.isPending?"Importing...":"Import"})]})]})}),s.jsx(kj,{open:!!C,onOpenChange:Z=>!Z&&j(null),children:s.jsxs(Ep,{children:[s.jsxs(Tp,{children:[s.jsx(Ap,{children:"Delete Category"}),s.jsx(Ip,{children:"Are you sure you want to delete this category? This action cannot be undone."})]}),s.jsxs(Pp,{children:[s.jsx(Dp,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Rp,{onClick:is,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",children:un.isPending?"Deleting...":"Delete"})]})]})})]})}function iK(){qt();const[,t]=zo("/admin/categories/:categoryId/subcategories"),e=t==null?void 0:t.categoryId,[n,r]=p.useState(""),[i,a]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(""),[f,h]=p.useState(null),[m,v]=p.useState(null),{toast:_}=yn(),{data:g,isLoading:C}=Ze({queryKey:["/api/admin/categories",e],queryFn:async()=>{const N=await fetch(`/api/admin/categories/${e}`);if(!N.ok)throw new Error("Failed to fetch category");return N.json()},enabled:!!e}),j=g==null?void 0:g.data,y=(j==null?void 0:j.subCategories)||[],x=It({mutationFn:async N=>ht("POST",`/api/admin/categories/${e}/subcategories/bulk`,{names:N}),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories",e]}),pt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategories imported successfully"}),r(""),a(!1)},onError:N=>{_({title:"Error",description:N.message||"Failed to import subcategories",variant:"destructive"})}}),P=()=>{const N=n.split(`
`).map(T=>T.trim()).filter(T=>T.length>0);if(N.length===0){_({title:"Error",description:"Please enter at least one subcategory name",variant:"destructive"});return}x.mutate(N)},D=It({mutationFn:async({name:N,icon:T,parentId:A})=>{const L=new FormData;L.append("name",N),L.append("category",A),L.append("type","child"),T&&L.append("images",T);const H=await fetch("/api/admin/subcategories",{method:"POST",body:L});if(!H.ok){const V=await H.json();throw new Error(V.error||"Failed to add subcategory")}return H.json()},onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories",e]}),pt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategory added successfully"}),d(""),h(null),l(!1)},onError:N=>{_({title:"Error",description:N.message||"Failed to add subcategory",variant:"destructive"})}}),O=()=>{if(!c.trim()){_({title:"Error",description:"Please enter a subcategory name",variant:"destructive"});return}if(!e){_({title:"Error",description:"Category ID is missing",variant:"destructive"});return}D.mutate({name:c,icon:f,parentId:e})},E=It({mutationFn:async N=>ht("DELETE",`/api/admin/subcategories/${N}`),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories",e]}),pt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategory deleted successfully"}),v(null)},onError:N=>{_({title:"Error",description:N.message||"Failed to delete subcategory",variant:"destructive"})}}),b=()=>{m&&E.mutate(m)},S=It({mutationFn:async N=>ht("PUT",`/api/admin/categories/${N}/convert`,{targetType:"parent"}),onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/categories",e]}),pt.invalidateQueries({queryKey:["/api/admin/categories"]}),_({title:"Success",description:"Subcategory converted to parent category successfully"})},onError:N=>{_({title:"Error",description:N.message||"Failed to convert subcategory",variant:"destructive"})}}),R=N=>{S.mutate(N)};return C?s.jsx(qe,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading subcategories..."})]})})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(El,{href:"/admin/categories",children:s.jsxs(J,{variant:"ghost",size:"sm",className:"mb-4","data-testid":"button-back-to-categories",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[j!=null&&j.icon?s.jsx("img",{src:`https://api.iconaapp.com/${j.icon}`,alt:j.name,className:"w-20 h-20 object-cover rounded-lg"}):s.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:s.jsx(Id,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:(j==null?void 0:j.name)||"Category"}),s.jsxs("p",{className:"text-muted-foreground",children:[y.length," subcategorie",y.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"mb-6 flex justify-end gap-2",children:[s.jsxs(ni,{open:o,onOpenChange:l,children:[s.jsx(Em,{asChild:!0,children:s.jsxs(J,{"data-testid":"button-add-subcategory",children:[s.jsx(ou,{className:"h-4 w-4 mr-2"}),"Add Subcategory"]})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Add New Subcategory"}),s.jsxs(Ki,{children:["Create a new subcategory under ",j==null?void 0:j.name," with an optional icon image."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"subcategory-name",children:"Subcategory Name"}),s.jsx(je,{id:"subcategory-name",placeholder:"Enter subcategory name",value:c,onChange:N=>d(N.target.value),"data-testid":"input-subcategory-name"})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"subcategory-icon",children:"Subcategory Icon (Optional)"}),s.jsx(je,{id:"subcategory-icon",type:"file",accept:"image/*",onChange:N=>{var T;return h(((T=N.target.files)==null?void 0:T[0])||null)},"data-testid":"input-subcategory-icon"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>{l(!1),d(""),h(null)},"data-testid":"button-cancel-add-subcategory",children:"Cancel"}),s.jsx(J,{onClick:O,disabled:D.isPending,"data-testid":"button-submit-add-subcategory",children:D.isPending?"Adding...":"Add"})]})]})]}),s.jsxs(ni,{open:i,onOpenChange:a,children:[s.jsx(Em,{asChild:!0,children:s.jsxs(J,{variant:"outline","data-testid":"button-bulk-import-subcategories",children:[s.jsx(iw,{className:"h-4 w-4 mr-2"}),"Bulk Import Subcategories"]})}),s.jsxs(vs,{children:[s.jsxs(ys,{children:[s.jsx(ws,{children:"Bulk Import Subcategories"}),s.jsxs(Ki,{children:["Enter subcategory names, one per line. They will be added to ",j==null?void 0:j.name,"."]})]}),s.jsx(jc,{placeholder:`Subcategory 1
Subcategory 2
Subcategory 3`,value:n,onChange:N=>r(N.target.value),className:"min-h-[200px]","data-testid":"textarea-bulk-import-subcategories"}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-import-subcategories",children:"Cancel"}),s.jsx(J,{onClick:P,disabled:x.isPending,"data-testid":"button-submit-import-subcategories",children:x.isPending?"Importing...":"Import"})]})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Subcategories"}),s.jsxs(De,{children:["All subcategories under ",j==null?void 0:j.name]})]}),s.jsx(ie,{children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Id,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No subcategories found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Icon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Followers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Viewers"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:y.map(N=>s.jsxs("tr",{className:"border-b border-border hover:bg-muted/50 transition-colors","data-testid":`row-subcategory-${N._id}`,children:[s.jsx("td",{className:"py-3 px-4",children:N.icon?s.jsx("img",{src:`https://api.iconaapp.com/${N.icon}`,alt:N.name,className:"w-16 h-16 object-cover rounded-md","data-testid":`img-subcategory-${N._id}`}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:s.jsx(Id,{className:"h-6 w-6 text-muted-foreground"})})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"font-medium text-foreground","data-testid":`text-subcategory-name-${N._id}`,children:N.name})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:N.followersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:N.viewersCount||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs(Go,{children:[s.jsx(Yo,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm","data-testid":`button-actions-${N._id}`,children:s.jsx(Ec,{className:"h-4 w-4"})})}),s.jsxs(Fa,{align:"end",children:[s.jsxs(an,{onClick:()=>R(N._id),"data-testid":`button-convert-to-parent-${N._id}`,children:[s.jsx(MO,{className:"h-4 w-4 mr-2"}),"Convert to Parent"]}),s.jsx(bi,{}),s.jsxs(an,{onClick:()=>v(N._id),"data-testid":`button-delete-subcategory-${N._id}`,className:"text-destructive focus:text-destructive",children:[s.jsx(sw,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})})]},N._id))})]})})})]}),s.jsx(kj,{open:!!m,onOpenChange:N=>!N&&v(null),children:s.jsxs(Ep,{children:[s.jsxs(Tp,{children:[s.jsx(Ap,{children:"Delete Subcategory"}),s.jsx(Ip,{children:"Are you sure you want to delete this subcategory? This action cannot be undone."})]}),s.jsxs(Pp,{children:[s.jsx(Dp,{"data-testid":"button-cancel-delete-subcategory",children:"Cancel"}),s.jsx(Rp,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete-subcategory",children:E.isPending?"Deleting...":"Delete"})]})]})})]})})}function aK(){var D,O;const[,t]=qt(),[e,n]=p.useState(1),[r,i]=p.useState("all"),[a,o]=p.useState(""),[l,c]=p.useState(!1),d=10,f=new URLSearchParams;f.append("page",e.toString()),f.append("limit",d.toString()),r!=="all"&&f.append("status",r);const{data:h,isLoading:m}=Ze({queryKey:["/api/admin/disputes",e,r],queryFn:async()=>{const E=await fetch(`/api/admin/disputes?${f.toString()}`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch disputes");return await E.json()}}),_=(((D=h==null?void 0:h.data)==null?void 0:D.disputes)||(h==null?void 0:h.data)||[]).filter(E=>E.orderId&&E.orderId._id),g=((O=h==null?void 0:h.data)==null?void 0:O.pages)||1,C=_.filter(E=>{var T,A,L,H,V;if(!a)return!0;const b=a.toLowerCase(),S=((A=(T=E.userId)==null?void 0:T.userName)==null?void 0:A.toLowerCase())||"",R=((H=(L=E.orderId)==null?void 0:L._id)==null?void 0:H.toLowerCase())||"",N=((V=E.reason)==null?void 0:V.toLowerCase())||"";return S.includes(b)||R.includes(b)||N.includes(b)}),j=E=>{switch(E==null?void 0:E.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},y=E=>{var b;return((b=E==null?void 0:E.replace(/_/g," "))==null?void 0:b.replace(/\b\w/g,S=>S.toUpperCase()))||"N/A"},x=()=>{o(""),i("all"),n(1)},P=a||r!=="all";return m?s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]}),s.jsx(se,{children:s.jsx(ie,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading disputes..."})]})})})]})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Al,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Disputes Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and resolve order disputes"})]})]})}),s.jsxs(se,{className:"mb-6",children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tc,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(de,{children:"Filters"})]}),s.jsx(J,{variant:"ghost",size:"sm",onClick:()=>c(!l),"data-testid":"button-toggle-filters",children:l?"Hide":"Show"})]})}),l&&s.jsx(ie,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"User, Order ID, Reason...",value:a,onChange:E=>o(E.target.value),className:"pl-10","data-testid":"input-search-disputes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),s.jsxs(pn,{value:r,onValueChange:i,children:[s.jsx(ln,{"data-testid":"select-status-filter",children:s.jsx(gn,{})}),s.jsxs(cn,{children:[s.jsx(re,{value:"all",children:"All Statuses"}),s.jsx(re,{value:"submitted",children:"Submitted"}),s.jsx(re,{value:"under_review",children:"Under Review"}),s.jsx(re,{value:"resolved",children:"Resolved"}),s.jsx(re,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"flex items-end",children:P&&s.jsxs(J,{variant:"outline",onClick:x,className:"w-full","data-testid":"button-clear-filters",children:[s.jsx(Sr,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{children:["All Disputes (",C.length,")"]}),s.jsx(De,{children:"Click on a dispute to view details and resolve"})]}),s.jsxs(ie,{children:[C.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Al,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No disputes found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Order ID"}),s.jsx(te,{children:"User"}),s.jsx(te,{children:"Reason"}),s.jsx(te,{children:"Status"}),s.jsx(te,{children:"Order Total"}),s.jsx(te,{children:"Actions"})]})}),s.jsx(Jt,{children:C.map(E=>{var T,A,L,H,V,z,F,W,Q,X;const b=((A=(T=E.orderId)==null?void 0:T.items)==null?void 0:A.reduce((B,me)=>B+(me.price||0),0))||0,S=((L=E.orderId)==null?void 0:L.tax)||0,R=((H=E.orderId)==null?void 0:H.shipping_fee)||0,N=b+S+R;return s.jsxs(Je,{className:"cursor-pointer hover:bg-muted/50","data-testid":`row-dispute-${E._id}`,children:[s.jsxs(ne,{className:"font-mono text-sm",children:[(z=(V=E.orderId)==null?void 0:V._id)==null?void 0:z.substring(0,8),"..."]}),s.jsx(ne,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:((W=(F=E.userId)==null?void 0:F.userName)==null?void 0:W.charAt(0).toUpperCase())||"U"})}),s.jsx("span",{children:((Q=E.userId)==null?void 0:Q.userName)||"Unknown"})]})}),s.jsx(ne,{children:y(E.reason)}),s.jsx(ne,{children:s.jsx(Ve,{variant:j(E.status),children:((X=E.status)==null?void 0:X.replace(/_/g," "))||"Unknown"})}),s.jsxs(ne,{className:"font-medium",children:["$",N.toFixed(2)]}),s.jsx(ne,{children:s.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>{var B;return t(`/admin/disputes/${(B=E.orderId)==null?void 0:B._id}`)},"data-testid":`button-view-dispute-${E._id}`,children:[s.jsx(wa,{className:"h-4 w-4 mr-2"}),"View"]})})]},E._id)})})]})}),C.length>0&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",e," of ",g]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(J,{variant:"outline",size:"sm",onClick:()=>n(E=>Math.max(1,E-1)),disabled:e===1,"data-testid":"button-prev-page",children:"Previous"}),s.jsx(J,{variant:"outline",size:"sm",onClick:()=>n(E=>E+1),disabled:e>=g,"data-testid":"button-next-page",children:"Next"})]})]})]})]})]})})}var oK="Separator",K1="horizontal",lK=["horizontal","vertical"],RI=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=K1,...i}=t,a=cK(r)?r:K1,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Ae.div,{"data-orientation":a,...l,...i,ref:e})});RI.displayName=oK;function cK(t){return lK.includes(t)}var DI=RI;const Za=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(DI,{ref:i,decorative:n,orientation:e,className:xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Za.displayName=DI.displayName;function dK(){var b,S,R,N,T,A,L,H,V,z,F,W,Q;const[,t]=zo("/admin/disputes/:disputeId"),[,e]=qt(),{toast:n}=yn(),r=t==null?void 0:t.disputeId,[i,a]=p.useState(""),[o,l]=p.useState(!1),[c,d]=p.useState(null),{data:f,isLoading:h}=Ze({queryKey:["/api/admin/disputes",r],queryFn:async()=>{const X=await fetch(`/api/admin/disputes/${r}`,{credentials:"include"});if(!X.ok)throw new Error("Failed to fetch dispute");return await X.json()},enabled:!!r}),m=f==null?void 0:f.data,v=It({mutationFn:async({decision:X})=>{if(!m||!m.orderId)throw new Error("Dispute data not available");let B;if(X==="buyer"?B=m.orderId.customer||"":B=m.orderId.seller||"",!B)throw new Error(`Could not find ${X} ID in order data`);return ht("POST",`/api/admin/disputes/${m._id}/resolve`,{favored:B,final_comments:i})},onSuccess:()=>{pt.invalidateQueries({queryKey:["/api/admin/disputes"]}),n({title:"Success",description:"Dispute resolved successfully"}),e("/admin/disputes")},onError:X=>{n({title:"Error",description:X.message||"Failed to resolve dispute",variant:"destructive"})}}),_=X=>{d(X),l(!0)},g=()=>{c&&(v.mutate({decision:c}),l(!1))},C=X=>{switch(X==null?void 0:X.toLowerCase()){case"resolved":return"default";case"submitted":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},j=X=>{var B;return((B=X==null?void 0:X.replace(/_/g," "))==null?void 0:B.replace(/\b\w/g,me=>me.toUpperCase()))||"N/A"},y=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";if(h)return s.jsx(qe,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading dispute..."})]})})});if(!m)return s.jsx(qe,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Al,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Dispute not found"}),s.jsxs(J,{variant:"outline",className:"mt-4",onClick:()=>e("/admin/disputes"),"data-testid":"button-back-to-disputes",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]})]})})});const x=((S=(b=m.orderId)==null?void 0:b.items)==null?void 0:S.reduce((X,B)=>X+(B.price||0)*(B.quantity||1),0))||0,P=((R=m.orderId)==null?void 0:R.tax)||0,D=((N=m.orderId)==null?void 0:N.shipping_fee)||0,O=x+P+D,E=((T=m.status)==null?void 0:T.toLowerCase())==="resolved";return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(J,{variant:"ghost",onClick:()=>e("/admin/disputes"),className:"mb-4","data-testid":"button-back",children:[s.jsx(pi,{className:"h-4 w-4 mr-2"}),"Back to Disputes"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-destructive/10 rounded-lg",children:s.jsx(Al,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Dispute Resolution"}),s.jsxs("p",{className:"text-muted-foreground",children:["Case ID: ",m._id]})]})]}),s.jsx(Ve,{variant:C(m.status),className:"text-sm",children:(A=m.status)==null?void 0:A.replace(/_/g," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(Al,{className:"h-5 w-5"}),"Dispute Details"]})}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Reason"}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:j(m.reason)})]}),s.jsx(Za,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer's Statement"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:m.details||"No details provided"})]}),m.seller_response&&s.jsxs(s.Fragment,{children:[s.jsx(Za,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Seller's Response"}),s.jsx("p",{className:"mt-2 p-4 bg-muted rounded-lg text-foreground whitespace-pre-wrap",children:m.seller_response})]})]}),s.jsx(Za,{}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Submitted On"}),s.jsx("p",{className:"mt-1",children:y(m.createdAt)})]})]})]}),s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-5 w-5"}),"Order Details"]}),s.jsxs(De,{children:["Order ID: ",(L=m.orderId)==null?void 0:L._id]})]}),s.jsx(ie,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-3 block",children:"Items"}),s.jsx("div",{className:"space-y-3",children:(V=(H=m.orderId)==null?void 0:H.items)==null?void 0:V.map((X,B)=>{var me,ue,ot,Me;return s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border rounded-lg","data-testid":`item-${X._id}`,children:[(ue=(me=X.productId)==null?void 0:me.images)!=null&&ue[0]?s.jsx("img",{src:`https://api.iconaapp.com/${X.productId.images[0]}`,alt:X.productId.name,className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-muted rounded flex items-center justify-center",children:s.jsx(Wt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((ot=X.productId)==null?void 0:ot.name)||"Unknown Product"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",X.quantity||1]}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:["$",(Me=X.price)==null?void 0:Me.toFixed(2)]})]})]},X._id||B)})})]}),s.jsx(Za,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:["$",x.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tax"}),s.jsxs("span",{children:["$",P.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{children:["$",D.toFixed(2)]})]}),s.jsx(Za,{}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",O.toFixed(2)]})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center gap-2 text-base",children:[s.jsx(dr,{className:"h-4 w-4"}),"Customer"]})}),s.jsx(ie,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-semibold text-primary",children:((F=(z=m.userId)==null?void 0:z.userName)==null?void 0:F.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((W=m.userId)==null?void 0:W.userName)||"Unknown"}),((Q=m.userId)==null?void 0:Q.email)&&s.jsx("p",{className:"text-sm text-muted-foreground",children:m.userId.email})]})]})})]}),!E&&s.jsxs(se,{className:"border-primary/50",children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2 text-base",children:[s.jsx(XO,{className:"h-4 w-4"}),"Resolve Dispute"]}),s.jsx(De,{children:"Rule in favor of one party"})]}),s.jsxs(ie,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Admin Notes (Optional)"}),s.jsx(jc,{placeholder:"Add any notes about your decision...",value:i,onChange:X=>a(X.target.value),rows:4,"data-testid":"textarea-admin-notes"})]}),s.jsx(Za,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(J,{className:"w-full",variant:"default",size:"lg",onClick:()=>_("buyer"),disabled:v.isPending,"data-testid":"button-favor-buyer",children:[s.jsx(Kb,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Buyer"]}),s.jsxs(J,{className:"w-full",variant:"outline",size:"lg",onClick:()=>_("seller"),disabled:v.isPending,"data-testid":"button-favor-seller",children:[s.jsx($O,{className:"h-4 w-4 mr-2"}),"Rule in Favor of Seller"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"This action cannot be undone. The appropriate party will be refunded or compensated."})]})]}),E&&s.jsxs(se,{className:"border-green-500/50 bg-green-500/5",children:[s.jsx(oe,{children:s.jsxs(de,{className:"flex items-center gap-2 text-base text-green-700 dark:text-green-400",children:[s.jsx(Kb,{className:"h-4 w-4"}),"Dispute Resolved"]})}),s.jsx(ie,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"This dispute has been resolved and closed."})})]})]})]}),s.jsx(kj,{open:o,onOpenChange:l,children:s.jsxs(Ep,{children:[s.jsxs(Tp,{children:[s.jsx(Ap,{children:"Confirm Resolution"}),s.jsxs(Ip,{children:["Are you sure you want to rule in favor of the ",c==="buyer"?"buyer":"seller","?",c==="buyer"&&" The buyer will be refunded.",c==="seller"&&" The seller will keep the payment.","This action cannot be undone."]})]}),s.jsxs(Pp,{children:[s.jsx(Dp,{"data-testid":"button-cancel-resolve",children:"Cancel"}),s.jsx(Rp,{onClick:g,disabled:v.isPending,"data-testid":"button-confirm-resolve",children:v.isPending?"Resolving...":"Confirm"})]})]})})]})})}function uK(){var j,y;const[t,e]=p.useState(1),[n,r]=p.useState("");p.useState(!1);const{toast:i}=yn(),a=10,{data:o,isLoading:l}=Ze({queryKey:["/api/admin/reported-cases",t],queryFn:async()=>{const x=await fetch(`/api/admin/reported-cases?page=${t}&limit=${a}`,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch reported cases");return await x.json()}}),c=Array.isArray((j=o==null?void 0:o.data)==null?void 0:j.data)?o.data.data:Array.isArray(o==null?void 0:o.data)?o.data:[],d=((y=o==null?void 0:o.data)==null?void 0:y.totalPages)||1,f=It({mutationFn:async({userId:x,blocked:P})=>ht("PATCH",`/api/admin/users/${x}/block`,{blocked:P}),onSuccess:(x,P)=>{pt.invalidateQueries({queryKey:["/api/admin/reported-cases"]}),i({title:"Success",description:`User ${P.blocked?"blocked":"unblocked"} successfully`})},onError:(x,P)=>{i({title:"Error",description:x.message||`Failed to ${P.blocked?"block":"unblock"} user`,variant:"destructive"})}}),h=c.filter(x=>{var S,R,N,T,A,L;if(!n)return!0;const P=n.toLowerCase(),D=((R=(S=x.reported)==null?void 0:S.userName)==null?void 0:R.toLowerCase())||"",O=((T=(N=x.reported_by)==null?void 0:N.userName)==null?void 0:T.toLowerCase())||"",E=((A=x.reason)==null?void 0:A.toLowerCase())||"",b=((L=x.description)==null?void 0:L.toLowerCase())||"";return D.includes(P)||O.includes(P)||E.includes(P)||b.includes(P)}),m=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",v=x=>{switch(x==null?void 0:x.toLowerCase()){case"resolved":return"default";case"pending":return"secondary";case"under_review":return"outline";case"rejected":return"destructive";default:return"secondary"}},_=x=>{var P;return((P=x==null?void 0:x.replace(/_/g," "))==null?void 0:P.replace(/\b\w/g,D=>D.toUpperCase()))||"N/A"},g=()=>{r(""),e(1)},C=n;return l?s.jsx(qe,{children:s.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading reported cases..."})})})}):s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[s.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2","data-testid":"text-page-title",children:[s.jsx(gv,{className:"h-8 w-8"}),"Reported Cases"]}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-page-description",children:"Review and manage user-reported cases"})]})}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx(de,{children:"All Reported Cases"}),s.jsxs(De,{children:[h.length," ",h.length===1?"case":"cases"," found"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1 sm:w-64",children:[s.jsx($s,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(je,{placeholder:"Search by user, reason...",value:n,onChange:x=>r(x.target.value),className:"pl-8","data-testid":"input-search"})]}),C&&s.jsxs(J,{variant:"outline",onClick:g,className:"gap-2","data-testid":"button-clear-filters",children:[s.jsx(Sr,{className:"h-4 w-4"}),"Clear"]})]})]})}),s.jsx(ie,{children:h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(gv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground","data-testid":"text-no-cases",children:n?"No cases match your search criteria":"No reported cases found"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(Zt,{children:[s.jsx(Xt,{children:s.jsxs(Je,{children:[s.jsx(te,{children:"Case ID"}),s.jsx(te,{children:"Reported User"}),s.jsx(te,{className:"hidden md:table-cell",children:"Reporter"}),s.jsx(te,{children:"Reason"}),s.jsx(te,{className:"hidden lg:table-cell",children:"Status"}),s.jsx(te,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(te,{className:"text-right",children:"Actions"})]})}),s.jsx(Jt,{children:h.map(x=>{var P,D;return s.jsxs(Je,{"data-testid":`row-case-${x._id}`,children:[s.jsx(ne,{className:"font-mono text-xs","data-testid":`text-case-id-${x._id}`,children:x._id.slice(-8)}),s.jsx(ne,{"data-testid":`text-reported-user-${x._id}`,children:((P=x.reported)==null?void 0:P.userName)||"Unknown"}),s.jsx(ne,{className:"hidden md:table-cell","data-testid":`text-reporter-${x._id}`,children:((D=x.reported_by)==null?void 0:D.userName)||"Anonymous"}),s.jsx(ne,{"data-testid":`text-reason-${x._id}`,children:_(x.reason||"")}),s.jsx(ne,{className:"hidden lg:table-cell",children:s.jsx(Ve,{variant:v(x.status||"pending"),"data-testid":`badge-status-${x._id}`,children:x.status||"Pending"})}),s.jsx(ne,{className:"hidden xl:table-cell","data-testid":`text-date-${x._id}`,children:m(x.createdAt||"")}),s.jsx(ne,{className:"text-right",children:x.reported&&s.jsx(J,{variant:x.reported.system_blocked?"outline":"destructive",size:"sm",onClick:()=>{var O;(O=x.reported)!=null&&O._id&&f.mutate({userId:x.reported._id,blocked:!x.reported.system_blocked})},disabled:f.isPending,"data-testid":`button-block-${x._id}`,children:x.reported.system_blocked?s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"h-4 w-4 mr-2"}),"Unblock"]}):s.jsxs(s.Fragment,{children:[s.jsx(tw,{className:"h-4 w-4 mr-2"}),"Block"]})})})]},x._id)})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground","data-testid":"text-pagination-info",children:["Page ",t," of ",d]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(J,{variant:"outline",onClick:()=>e(x=>Math.max(1,x-1)),disabled:t===1,"data-testid":"button-previous-page",children:"Previous"}),s.jsx(J,{variant:"outline",onClick:()=>e(x=>Math.min(d,x+1)),disabled:t>=d,"data-testid":"button-next-page",children:"Next"})]})]})]})})]})]})})}function hK(){var L,H,V,z,F,W,Q,X,B,me;const{toast:t}=yn(),[e,n]=p.useState("all"),[r,i]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState("https://play.google.com/store/apps/details?id=com.tokshop.live&hl=en"),[v,_]=p.useState("https://testflight.apple.com/join/jjzjjnC2"),[g,C]=p.useState("all"),[j,y]=p.useState(""),{data:x}=Ze({queryKey:["/api/admin/settings"]}),P=(x==null?void 0:x.data)||x,D=(P==null?void 0:P.demoMode)||!1,O=(L=P==null?void 0:P.email_service_provider)==null?void 0:L.toLowerCase();let E=((H=P==null?void 0:P.email_from_address)==null?void 0:H.trim())&&O;E&&(O==="smtp"?E=!!((V=P==null?void 0:P.email_smtp_host)!=null&&V.trim()&&((z=P==null?void 0:P.email_smtp_port)!=null&&z.trim())&&((F=P==null?void 0:P.email_smtp_user)!=null&&F.trim())&&((W=P==null?void 0:P.email_smtp_pass)!=null&&W.trim())):O==="mailgun"?E=!!((Q=P==null?void 0:P.email_api_key)!=null&&Q.trim()&&((X=P==null?void 0:P.email_mailgun_domain)!=null&&X.trim())):E=!!((B=P==null?void 0:P.email_api_key)!=null&&B.trim()));const{data:b}=Ze({queryKey:["/api/admin/users?limit=1000"],enabled:e==="individual"||g==="individual"}),S=((me=b==null?void 0:b.data)==null?void 0:me.users)||[],R=It({mutationFn:async ue=>ht("POST","/api/admin/send-email",ue),onSuccess:()=>{t({title:"Email sent successfully",description:e==="all"?"Email has been sent to all users":"Email has been sent to the selected user"}),o(""),c(""),i("")},onError:ue=>{t({title:"Failed to send email",description:ue.message||"An error occurred while sending the email",variant:"destructive"})}}),N=It({mutationFn:async ue=>ht("POST","/api/admin/send-update-notification",ue),onSuccess:()=>{t({title:"Update notification sent",description:g==="all"?"App update notification has been sent to all users":"App update notification has been sent to the selected user"}),g==="individual"&&y("")},onError:ue=>{t({title:"Failed to send notification",description:ue.message||"An error occurred while sending the notification",variant:"destructive"})}}),T=()=>{if(!a.trim()||!l.trim()){t({title:"Validation Error",description:"Subject and message are required",variant:"destructive"});return}if(e==="individual"&&!r){t({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}R.mutate({recipientType:e,recipientEmail:e==="individual"?r:void 0,subject:a,message:l,isHtmlMode:d})},A=()=>{if(g==="individual"&&!j){t({title:"Validation Error",description:"Please select a recipient",variant:"destructive"});return}N.mutate({androidLink:h,iosLink:v,androidVersion:(P==null?void 0:P.androidVersion)||"",iosVersion:(P==null?void 0:P.iosVersion)||"",recipientType:g,recipientEmail:g==="individual"?j:void 0})};return s.jsx(qe,{children:s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Xm,{className:"h-8 w-8"}),"Send Emails"]}),s.jsx("p",{className:"text-muted-foreground",children:"Send emails to users on your platform"})]}),D&&s.jsxs(qn,{className:"mb-6 border-destructive bg-destructive/10",children:[s.jsx(vv,{className:"h-4 w-4 text-destructive"}),s.jsx(Kn,{className:"text-destructive",children:"Email functionality is disabled in demo mode. This page is view-only to prevent sending emails to real users."})]}),!E&&s.jsxs(qn,{className:"mb-6",children:[s.jsx(Yf,{className:"h-4 w-4"}),s.jsxs(Kn,{children:["Email service is not configured. Please configure your email settings in the"," ",s.jsx("a",{href:"/admin/settings",className:"underline font-medium",children:"Settings page"})," first."]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Compose Email"}),s.jsx(De,{children:"Create and send emails to your users"})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(J,{variant:e==="all"?"default":"outline",onClick:()=>n("all"),className:"flex-1","data-testid":"button-recipient-all",disabled:D,children:[s.jsx(ks,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(J,{variant:e==="individual"?"default":"outline",onClick:()=>n("individual"),className:"flex-1","data-testid":"button-recipient-individual",disabled:D,children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),e==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"recipient",children:"Select Recipient"}),s.jsxs(pn,{value:r,onValueChange:i,disabled:D,children:[s.jsx(ln,{id:"recipient","data-testid":"select-recipient",children:s.jsx(gn,{placeholder:"Choose a user..."})}),s.jsx(cn,{children:S.map(ue=>s.jsxs(re,{value:ue.email,children:[ue.firstName," ",ue.lastName," (",ue.email,")"]},ue._id||ue.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"subject",children:"Subject"}),s.jsx(je,{id:"subject",value:a,onChange:ue=>o(ue.target.value),placeholder:"Enter email subject...","data-testid":"input-subject",disabled:D})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gb,{className:"h-4 w-4"}),s.jsx(ge,{htmlFor:"html-mode",className:"cursor-pointer",children:"HTML Mode"})]}),s.jsx(Ul,{id:"html-mode",checked:d,onCheckedChange:f,"data-testid":"switch-html-mode",disabled:D})]}),d&&s.jsxs(qn,{children:[s.jsx(Gb,{className:"h-4 w-4"}),s.jsxs(Kn,{children:[s.jsx("strong",{children:"HTML Mode:"})," You can now use full HTML formatting. The message will be sent as-is without any wrapper template.",s.jsx("br",{}),"Tip: You can still use ",s.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:"{name}"})," for personalization."]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"message",children:d?"HTML Content":"Message"}),s.jsx(jc,{id:"message",value:l,onChange:ue=>c(ue.target.value),placeholder:d?"Enter your HTML email content...":"Enter your message...",rows:d?20:10,className:d?"font-mono text-sm":"","data-testid":"textarea-message",disabled:D}),!d&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tip: Use ","{name}"," to personalize with the user's name"]})]}),s.jsxs(J,{onClick:T,disabled:D||R.isPending||!E,className:"w-full","data-testid":"button-send-email",children:[s.jsx(Zb,{className:"h-4 w-4 mr-2"}),R.isPending?"Sending...":"Send Email"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsx(de,{children:"Email Configuration"}),s.jsx(De,{children:"Current email service settings"})]}),s.jsx(ie,{className:"space-y-4",children:E?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(ge,{className:"text-xs text-muted-foreground",children:"Provider"}),s.jsx("p",{className:"font-medium capitalize",children:(P==null?void 0:P.email_service_provider)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(ge,{className:"text-xs text-muted-foreground",children:"From Address"}),s.jsx("p",{className:"font-medium",children:(P==null?void 0:P.email_from_address)||"Not set"})]}),s.jsxs("div",{children:[s.jsx(ge,{className:"text-xs text-muted-foreground",children:"From Name"}),s.jsx("p",{className:"font-medium",children:(P==null?void 0:P.email_from_name)||"Not set"})]})]}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No email service configured. Please update your settings."})})]}),s.jsxs(se,{children:[s.jsx(oe,{children:s.jsx(de,{children:"Tips"})}),s.jsxs(ie,{className:"space-y-2 text-sm",children:[s.jsx("p",{children:" Keep your subject line clear and concise"}),s.jsxs("p",{children:[" Personalize emails using ","{name}"," placeholder"]}),s.jsx("p",{children:" Test with individual emails before broadcasting"}),s.jsx("p",{children:" Be mindful of email frequency to avoid spam"})]})]})]})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(se,{children:[s.jsxs(oe,{children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(bk,{className:"h-5 w-5"}),"App Update Notification"]}),s.jsx(De,{children:"Send a notification to all users about the latest app version"})]}),s.jsxs(ie,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{children:"Send To"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(J,{variant:g==="all"?"default":"outline",onClick:()=>C("all"),className:"flex-1","data-testid":"button-update-recipient-all",disabled:D,children:[s.jsx(ks,{className:"h-4 w-4 mr-2"}),"All Users"]}),s.jsxs(J,{variant:g==="individual"?"default":"outline",onClick:()=>C("individual"),className:"flex-1","data-testid":"button-update-recipient-individual",disabled:D,children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"Individual User"]})]})]}),g==="individual"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"update-recipient",children:"Select Recipient"}),s.jsxs(pn,{value:j,onValueChange:y,disabled:D,children:[s.jsx(ln,{id:"update-recipient","data-testid":"select-update-recipient",children:s.jsx(gn,{placeholder:"Choose a user..."})}),s.jsx(cn,{children:S.map(ue=>s.jsxs(re,{value:ue.email,children:[ue.firstName," ",ue.lastName," (",ue.email,")"]},ue._id||ue.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(ge,{className:"text-xs text-muted-foreground",children:"Android Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.androidVersion)||"Not set"})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsx(ge,{className:"text-xs text-muted-foreground",children:"iOS Version"}),s.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.iosVersion)||"Not set"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"android-link",children:"Android Store Link"}),s.jsx(je,{id:"android-link",value:h,onChange:ue=>m(ue.target.value),placeholder:"https://play.google.com/store/apps/...","data-testid":"input-android-link",disabled:D})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"ios-link",children:"iOS Store Link"}),s.jsx(je,{id:"ios-link",value:v,onChange:ue=>_(ue.target.value),placeholder:"https://testflight.apple.com/join/...","data-testid":"input-ios-link",disabled:D})]})]}),s.jsxs(qn,{children:[s.jsx(Yf,{className:"h-4 w-4"}),s.jsxs(Kn,{children:[s.jsx("strong",{children:"Email Preview:"})," Users will receive a professionally formatted email with:",s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Personalized greeting with their name"}),s.jsx("li",{children:" Version numbers for Android and iOS"}),s.jsx("li",{children:" Direct links to update on their respective stores"}),s.jsx("li",{children:" Responsive design for mobile and desktop"})]})]})]}),s.jsxs(J,{onClick:A,disabled:D||N.isPending||!E,className:"w-full",size:"lg","data-testid":"button-send-update-notification",children:[s.jsx(Zb,{className:"h-4 w-4 mr-2"}),N.isPending?"Sending Update Notification...":g==="all"?"Send Update Notification to All Users":"Send Update Notification to Selected User"]})]})]})})]})})}function fK(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(se,{className:"w-full max-w-md mx-4",children:s.jsxs(ie,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Yf,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function mK(t){const{settings:e}=Zu();p.useEffect(()=>{const n=e.seo_title||e.app_name;document.title=n},[t,e.app_name,e.seo_title])}function pK({children:t}){const[e]=qt(),[n,r]=p.useState(!0),[i,a]=p.useState(!1);return p.useEffect(()=>{if(e==="/admin/setup"){r(!1),a(!0);return}(async()=>{try{const c=await(await fetch("/api/admin/exists",{credentials:"include"})).json();c.success&&a(c.exists)}catch(l){console.error("Error checking if admin exists:",l),a(!0)}finally{r(!1)}})()},[e]),n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Checking admin setup..."})]})}):!i&&e!=="/admin/setup"?(window.location.href="/admin/setup",s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Redirecting to setup..."})]})})):s.jsx(s.Fragment,{children:t})}function gK(){const{isAuthenticated:t,isLoading:e,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:i,pendingSocialAuthData:a,completeSocialAuth:o}=Ma(),[,l]=qt(),[c,d]=p.useState(!1);mK();const f=async h=>{try{await o(h),d(!0)}catch(m){console.error("Social auth completion failed:",m)}};return p.useEffect(()=>{c&&t&&!r&&n&&(n.admin?l("/admin"):l("/admin/login"),d(!1))},[c,t,r,n,l]),e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r&&i&&a?s.jsx(A7,{userEmail:i,socialAuthData:a,onComplete:f,isLoading:e}):t?n!=null&&n.admin?s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(Pb,{children:[s.jsx(bt,{path:"/",component:M1}),s.jsx(bt,{path:"/admin",component:M1}),s.jsx(bt,{path:"/admin/users/:userId/details/:itemType/:itemId",component:RB}),s.jsx(bt,{path:"/admin/users/:userId",component:IB}),s.jsx(bt,{path:"/admin/users",component:hB}),s.jsx(bt,{path:"/admin/inventory",component:DB}),s.jsx(bt,{path:"/admin/products/:productId",component:MB}),s.jsx(bt,{path:"/admin/orders/:orderId",component:LB}),s.jsx(bt,{path:"/admin/orders",component:OB}),s.jsx(bt,{path:"/admin/disputes/:disputeId",component:dK}),s.jsx(bt,{path:"/admin/disputes",component:aK}),s.jsx(bt,{path:"/admin/reported-cases",component:uK}),s.jsx(bt,{path:"/admin/transactions",component:FB}),s.jsx(bt,{path:"/admin/payouts",component:$B}),s.jsx(bt,{path:"/admin/application-fees",component:Wq}),s.jsx(bt,{path:"/admin/categories/:categoryId/subcategories",component:iK}),s.jsx(bt,{path:"/admin/categories",component:sK}),s.jsx(bt,{path:"/admin/shows/:showId",component:VB}),s.jsx(bt,{path:"/admin/shows",component:UB}),s.jsx(bt,{path:"/admin/emails",component:hK}),s.jsx(bt,{path:"/admin/settings",component:zB}),s.jsx(bt,{path:"/admin/profile",component:WB}),s.jsx(bt,{component:fK})]})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsx(Qg,{})})}):s.jsx("div",{className:"flex flex-col h-screen bg-background",children:s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs(Pb,{children:[s.jsx(bt,{path:"/admin/setup",component:I7}),s.jsx(bt,{path:"/admin/login",component:Qg}),s.jsx(bt,{component:Qg})]})})})}function xK(){return s.jsx(SM,{client:pt,children:s.jsx(TU,{children:s.jsx(kU,{children:s.jsxs(l3,{children:[s.jsx(LL,{}),s.jsx(pK,{children:s.jsx(gK,{})})]})})})})}vC(document.getElementById("root")).render(s.jsx(xK,{}));
