import{g as k,a8 as S,r as f,d as F,j as e,L as b,B as N}from"./index-GnvmivW0.js";import{C as i,a as c,c as l,d as q,b as o}from"./card-Bsqf9o7h.js";import{I as u}from"./input-CDJz7BeV.js";import{T as I}from"./textarea-DkmXbh6O.js";import{L as m}from"./label-CbaFYhHW.js";import{M as P}from"./message-square-Cf3RgaVN.js";import{S as T}from"./send-BnGR3x8s.js";import{M}from"./mail-Ck7aiNy-.js";import{P as L}from"./phone-CoIyr-gn.js";import{M as E}from"./map-pin-Dn0fBe7g.js";function J(){const{toast:h}=k();S("Contact Us");const[p,j]=f.useState(!1),[r,g]=f.useState({name:"",email:"",subject:"",message:""}),{data:t,isLoading:y,error:v}=F({queryKey:["/api/content/contact"]}),d=n=>{g({...r,[n.target.name]:n.target.value})},w=async n=>{n.preventDefault(),j(!0);try{const a=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),x=await a.json();a.ok&&x.success?(h({title:"Message sent!",description:x.message||"Thank you for contacting us. We'll get back to you soon."}),g({name:"",email:"",subject:"",message:""})):h({title:"Failed to send message",description:x.error||"Please try again later.",variant:"destructive"})}catch(a){console.error("Contact form error:",a),h({title:"Error",description:"Failed to send your message. Please try again later.",variant:"destructive"})}finally{j(!1)}};if(y)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsx("div",{className:"text-center","data-testid":"loading-state",children:e.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading Contact Page..."})})});const C=(t==null?void 0:t.success)&&t.data&&t.data.title;if(v||!(t!=null&&t.success)||!C)return e.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md px-4","data-testid":"error-state",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Content Not Available"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The contact page content hasn't been configured yet. Please contact the administrator to set up the page content."}),e.jsx(b,{href:"/",children:e.jsx(N,{"data-testid":"button-go-home",children:"Go to Home"})})]})});const s=t.data;return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("main",{className:"w-full px-4 sm:px-6 py-8 sm:py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4","data-testid":"text-contact-title",children:s.title}),s.subtitle&&e.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mb-2","data-testid":"text-contact-subtitle",children:s.subtitle}),s.description&&e.jsx("p",{className:"text-muted-foreground text-sm sm:text-base","data-testid":"text-contact-description",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[s.showContactForm!==!1&&e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(i,{children:[e.jsxs(c,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Send us a message"]}),e.jsx(q,{children:"Fill out the form below and we'll get back to you soon."})]}),e.jsx(o,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"name",children:"Name *"}),e.jsx(u,{id:"name",name:"name",value:r.name,onChange:d,placeholder:"Your name",required:!0,"data-testid":"input-name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",children:"Email *"}),e.jsx(u,{id:"email",name:"email",type:"email",value:r.email,onChange:d,placeholder:"your@email.com",required:!0,"data-testid":"input-email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"subject",children:"Subject *"}),e.jsx(u,{id:"subject",name:"subject",value:r.subject,onChange:d,placeholder:"What is this about?",required:!0,"data-testid":"input-subject"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"message",children:"Message *"}),e.jsx(I,{id:"message",name:"message",value:r.message,onChange:d,placeholder:"Tell us more about your inquiry...",rows:6,required:!0,"data-testid":"input-message"})]}),e.jsx(N,{type:"submit",className:"w-full sm:w-auto",disabled:p,"data-testid":"button-submit",children:p?e.jsx(e.Fragment,{children:"Sending..."}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})})]})}),e.jsxs("div",{className:s.showContactForm!==!1?"space-y-6":"lg:col-span-3 space-y-6",children:[s.contactInfo.email&&e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Email"]})}),e.jsx(o,{children:e.jsx("a",{href:`mailto:${s.contactInfo.email}`,className:"text-sm font-medium text-primary hover:underline block break-all","data-testid":"link-email",children:s.contactInfo.email})})]}),s.contactInfo.phone&&e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Phone"]})}),e.jsx(o,{children:e.jsx("a",{href:`tel:${s.contactInfo.phone}`,className:"text-sm font-medium text-primary hover:underline block","data-testid":"link-phone",children:s.contactInfo.phone})})]}),s.contactInfo.address&&e.jsxs(i,{children:[e.jsx(c,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Address"]})}),e.jsx(o,{children:e.jsx("p",{className:"text-sm whitespace-pre-wrap","data-testid":"text-address",children:s.contactInfo.address})})]}),s.sections&&s.sections.length>0&&e.jsx(e.Fragment,{children:s.sections.map((n,a)=>e.jsxs(i,{children:[e.jsx(c,{children:e.jsx(l,{"data-testid":`section-title-${a}`,children:n.title})}),e.jsx(o,{children:e.jsx("div",{className:"text-sm whitespace-pre-wrap text-muted-foreground","data-testid":`section-content-${a}`,children:n.content})})]},a))}),e.jsxs("div",{className:"text-sm text-muted-foreground p-4 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Need quick answers?"})}),e.jsxs("p",{children:["Check our"," ",e.jsx(b,{href:"/faq","data-testid":"link-faq",children:e.jsx("span",{className:"text-primary hover:underline cursor-pointer",children:"FAQ page"})})," ","for answers to common questions."]})]})]})]})]})})}export{J as default};
