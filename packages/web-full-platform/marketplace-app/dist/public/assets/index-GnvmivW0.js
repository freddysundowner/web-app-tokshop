const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sidebar-XF3j6t6a.js","assets/avatar-T6GBhCEI.js","assets/separator-Datc7ShZ.js","assets/sheet-D5QVNRkq.js","assets/chevron-right-CXw-mF7y.js","assets/video--84agJTh.js","assets/package-DWwkENv3.js","assets/tag-jpmwmyGV.js","assets/truck-DP2GNOS8.js","assets/package-2-BB60Ci35.js","assets/credit-card-B0WsppBV.js","assets/receipt-0-3u59On.js","assets/map-pin-Dn0fBe7g.js","assets/book-open-BeXq40tE.js","assets/message-square-Cf3RgaVN.js","assets/app-header-D4w2njAg.js","assets/input-CDJz7BeV.js","assets/badge-CL9MXKGS.js","assets/tabs-BVwfLMcB.js","assets/index-kVvGtud3.js","assets/index-CmYyiKyk.js","assets/shopping-bag-DVKU65dg.js","assets/house-Dra-u4aY.js","assets/radio-B2CyFjtD.js","assets/dollar-sign-BPAh4ytq.js","assets/store-CA2BTc9t.js","assets/message-circle-BazjP4NK.js","assets/use-api-config-kum11Yvc.js","assets/dropdown-menu-B2qYf86A.js","assets/check-DoxmrmEj.js","assets/circle-iUglX5Df.js","assets/search-DE1AZ4db.js","assets/plus-CxBznHFO.js","assets/calendar-Cp1BJUQ9.js","assets/social-auth-complete-form-BgOpaaGy.js","assets/form-CgNvNzQO.js","assets/label-CbaFYhHW.js","assets/card-Bsqf9o7h.js","assets/select-EUq1_viI.js","assets/index-BdQq_4o_.js","assets/index-Vue-pIA6.js","assets/chevron-down-tcDKR_mK.js","assets/chevron-up-Cda9uppk.js","assets/alert-BCAR44i4.js","assets/user-CCcReMRJ.js","assets/globe-B-ijZil2.js","assets/phone-CoIyr-gn.js","assets/users-S9Kp6t2T.js","assets/dashboard-BpNNQYLI.js","assets/revenue-chart-BtCvCiKv.js","assets/index-QZHL2phQ.js","assets/format-Crz72tIO.js","assets/en-US-Cc-9gH5A.js","assets/circle-check-big-CLZG244L.js","assets/arrow-right-CTv_q6A6.js","assets/orders-Y4NQQexk.js","assets/useMutation-DAKVWGzI.js","assets/checkbox-ZrZ7F-Dx.js","assets/pricing-DCyf_yea.js","assets/pagination-COmJENkB.js","assets/chevron-left-BnuQCvWV.js","assets/firebase-chat-DdFjaliD.js","assets/info-C2t8FPuk.js","assets/purchases-BIPrmudq.js","assets/dialog-D1L4tMGI.js","assets/textarea-DkmXbh6O.js","assets/radio-group-CiS8qgSW.js","assets/ellipsis-CgHIMWzm.js","assets/printer-Cmv9hO84.js","assets/thank-you-Dy9m83zK.js","assets/circle-check-jk63TU7f.js","assets/inventory-BYLE0KGt.js","assets/table-DMJOUqQh.js","assets/upload-DciL_rQf.js","assets/download-D9C51OkM.js","assets/file-text-CoItu-Vz.js","assets/refresh-cw-DXFTvLUy.js","assets/square-pen-BpFUY4eK.js","assets/eye-MrtS8r4d.js","assets/trash-2-V4a6hNaj.js","assets/add-product-B1K3_8d3.js","assets/inventory-product-form-CIDJRsRI.js","assets/scroll-area-FQ9vYp1R.js","assets/switch-C_scnTkE.js","assets/image-Hw4wFcaj.js","assets/save-Xig5-s-l.js","assets/arrow-left-CUbNyMTb.js","assets/edit-product-Idxzm5Fx.js","assets/shipping-BDMwsEE5.js","assets/endOfMonth-DAoz7cdb.js","assets/isSameDay-bd8GA9bu.js","assets/collapsible-B-insiOQ.js","assets/index-BUngnxKp.js","assets/shipping-profiles-BPDMQIyj.js","assets/addresses-COyHsC6-.js","assets/react-country-state-city-4XimWX2C.js","assets/react-country-state-city-BZfUZqIr.css","assets/star-Dvv0yNqt.js","assets/ellipsis-vertical-CJSSwQPi.js","assets/analytics-B0xlvhfz.js","assets/trending-up-BhA3tfdN.js","assets/live-shows-CsT_76nU.js","assets/settings-CF-GVvYi.js","assets/gift-BuwW3fIO.js","assets/profile-BXLdLUWP.js","assets/shield-TxVeUbf2.js","assets/mail-Ck7aiNy-.js","assets/profile-view-BFP3sJOp.js","assets/user-badge-QQMJS_dE.js","assets/show-card-DLyViQGC.js","assets/isTomorrow-DSpd_Oy4.js","assets/constructNow-BkTMlMS8.js","assets/useInfiniteQuery-BODxHCl1.js","assets/share-dialog-flp6buSS.js","assets/ban-C4WTfSqp.js","assets/flag-kVKTLwg_.js","assets/product-detail-DtQhmTsA.js","assets/auction-detail-C6Sm8ryY.js","assets/clock-C8Dw1EBc.js","assets/circle-alert-COJng_1I.js","assets/account-Cxut37Q4.js","assets/payments-CWbWDyGI.js","assets/add-payment-dialog-DoThKuX2.js","assets/login-P4KRN_dh.js","assets/eye-off-CFCqOyIF.js","assets/signup-CBKtABaO.js","assets/transactions-CgaoYLAl.js","assets/home-4FVSTQyL.js","assets/product-card-BswFql_j.js","assets/auction-card-RSd_wyBe.js","assets/browse-DKlYgJG-.js","assets/category-CZKpc2TJ.js","assets/search-results-BsQfA3Y7.js","assets/trending-products-BzyDxxZn.js","assets/trending-auctions-CDC2wvwL.js","assets/featured-shows-CAMncNzr.js","assets/deals-Byp1ENzy.js","assets/deals-auctions-C7Cs4KaR.js","assets/deals-trending-CuqNZm_l.js","assets/landing-page-8-DzT9_eoM.js","assets/seller-login-BqL_0bnQ.js","assets/show-view-BvVfGJKH.js","assets/buy-now-dialog-B3KMFRJV.js","assets/make-offer-dialog-BV_W-Hrq.js","assets/send-BnGR3x8s.js","assets/upload-images-Cu-UJNNB.js","assets/privacy-policy-DxYrUA6N.js","assets/terms-of-service-GDb0FeVe.js","assets/contact-k50lD7nd.js","assets/user-reports-h0357SM3.js","assets/faq-C8sEJcyM.js","assets/accordion-DSOUyMZr.js","assets/about-Ck0LL1U3.js","assets/knowledge-base-lDR9vnRg.js","assets/hub-CbnYeohM.js","assets/offers-DmKgRzSE.js","assets/skeleton-DfVG0-vC.js","assets/offers-DPPRM03v.js","assets/inbox-DpcD75oi.js","assets/friends-CrSOlJGb.js","assets/help-center-B5skhqII.js","assets/circle-help-BM0rBwTx.js","assets/help-article-KJKaEfzU.js","assets/setup-BtgNpsPi.js","assets/schedule-show-DhAzalrn.js","assets/not-found-CH83bj7w.js"])))=>i.map(i=>d[i]);
var xE=t=>{throw TypeError(t)};var Fp=(t,e,n)=>e.has(t)||xE("Cannot "+n);var M=(t,e,n)=>(Fp(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>e.has(t)?xE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ee=(t,e,n,r)=>(Fp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pe=(t,e,n)=>(Fp(t,e,"access private method"),n);var Wu=(t,e,n,r)=>({set _(s){ee(t,e,s,n)},get _(){return M(t,e,r)}});function BN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var GW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YI={exports:{}},pf={},ZI={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),zN=Symbol.for("react.portal"),$N=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),WN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),XN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),kE=Symbol.iterator;function ZN(t){return t===null||typeof t!="object"?null:(t=kE&&t[kE]||t["@@iterator"],typeof t=="function"?t:null)}var JI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eA=Object.assign,tA={};function sl(t,e,n){this.props=t,this.context=e,this.refs=tA,this.updater=n||JI}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nA(){}nA.prototype=sl.prototype;function e_(t,e,n){this.props=t,this.context=e,this.refs=tA,this.updater=n||JI}var t_=e_.prototype=new nA;t_.constructor=e_;eA(t_,sl.prototype);t_.isPureReactComponent=!0;var PE=Array.isArray,rA=Object.prototype.hasOwnProperty,n_={current:null},sA={key:!0,ref:!0,__self:!0,__source:!0};function iA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rA.call(e,r)&&!sA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:du,type:t,key:i,ref:o,props:s,_owner:n_.current}}function JN(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r_(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function eO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var NE=/\/+/g;function Up(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eO(""+t.key):e.toString(36)}function Nd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case du:case zN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Up(o,0):r,PE(s)?(n="",t!=null&&(n=t.replace(NE,"$&/")+"/"),Nd(s,e,n,"",function(u){return u})):s!=null&&(r_(s)&&(s=JN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(NE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",PE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Up(i,a);o+=Nd(i,e,n,l,s)}else if(l=ZN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Up(i,a++),o+=Nd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hu(t,e,n){if(t==null)return t;var r=[],s=0;return Nd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Od={transition:null},nO={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Od,ReactCurrentOwner:n_};function oA(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Hu,forEach:function(t,e,n){Hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!r_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=sl;Re.Fragment=$N;Re.Profiler=WN;Re.PureComponent=e_;Re.StrictMode=qN;Re.Suspense=QN;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nO;Re.act=oA;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eA({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=n_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rA.call(e,l)&&!sA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:du,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:GN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};Re.createElement=iA;Re.createFactory=function(t){var e=iA.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:KN,render:t}};Re.isValidElement=r_;Re.lazy=function(t){return{$$typeof:YN,_payload:{_status:-1,_result:t},_init:tO}};Re.memo=function(t,e){return{$$typeof:XN,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Od.transition;Od.transition={};try{t()}finally{Od.transition=e}};Re.unstable_act=oA;Re.useCallback=function(t,e){return an.current.useCallback(t,e)};Re.useContext=function(t){return an.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Re.useEffect=function(t,e){return an.current.useEffect(t,e)};Re.useId=function(){return an.current.useId()};Re.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return an.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Re.useRef=function(t){return an.current.useRef(t)};Re.useState=function(t){return an.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return an.current.useTransition()};Re.version="18.3.1";ZI.exports=Re;var g=ZI.exports;const Rs=XI(g),mf=BN({__proto__:null,default:Rs},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=g,sO=Symbol.for("react.element"),iO=Symbol.for("react.fragment"),oO=Object.prototype.hasOwnProperty,aO=rO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lO={key:!0,ref:!0,__self:!0,__source:!0};function aA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oO.call(e,r)&&!lO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sO,type:t,key:i,ref:o,props:s,_owner:aO.current}}pf.Fragment=iO;pf.jsx=aA;pf.jsxs=aA;YI.exports=pf;var C=YI.exports,lA={exports:{}},Nn={},cA={exports:{}},uA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var oe=B.length;B.push(Q);e:for(;0<oe;){var z=oe-1>>>1,q=B[z];if(0<s(q,Q))B[z]=Q,B[oe]=q,oe=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Q=B[0],oe=B.pop();if(oe!==Q){B[0]=oe;e:for(var z=0,q=B.length,ae=q>>>1;z<ae;){var Ue=2*(z+1)-1,X=B[Ue],de=Ue+1,pe=B[de];if(0>s(X,oe))de<q&&0>s(pe,X)?(B[z]=pe,B[de]=oe,z=de):(B[z]=X,B[Ue]=oe,z=Ue);else if(de<q&&0>s(pe,oe))B[z]=pe,B[de]=oe,z=de;else break e}}return Q}function s(B,Q){var oe=B.sortIndex-Q.sortIndex;return oe!==0?oe:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,y=!1,I=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=B)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function k(B){if(_=!1,T(B),!I)if(n(l)!==null)I=!0,me(L);else{var Q=n(u);Q!==null&&Ie(k,Q.startTime-B)}}function L(B,Q){I=!1,_&&(_=!1,w(S),S=-1),y=!0;var oe=p;try{for(T(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||B&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,p=h.priorityLevel;var q=z(h.expirationTime<=Q);Q=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),T(Q)}else r(l);h=n(l)}if(h!==null)var ae=!0;else{var Ue=n(u);Ue!==null&&Ie(k,Ue.startTime-Q),ae=!1}return ae}finally{h=null,p=oe,y=!1}}var V=!1,A=null,S=-1,x=5,P=-1;function O(){return!(t.unstable_now()-P<x)}function D(){if(A!==null){var B=t.unstable_now();P=B;var Q=!0;try{Q=A(!0,B)}finally{Q?N():(V=!1,A=null)}}else V=!1}var N;if(typeof v=="function")N=function(){v(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ye=H.port2;H.port1.onmessage=D,N=function(){ye.postMessage(null)}}else N=function(){E(D,0)};function me(B){A=B,V||(V=!0,N())}function Ie(B,Q){S=E(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){I||y||(I=!0,me(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var oe=p;p=Q;try{return B()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=p;p=B;try{return Q()}finally{p=oe}},t.unstable_scheduleCallback=function(B,Q,oe){var z=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,B={id:d++,callback:Q,priorityLevel:B,startTime:oe,expirationTime:q,sortIndex:-1},oe>z?(B.sortIndex=oe,e(u,B),n(l)===null&&B===n(u)&&(_?(w(S),S=-1):_=!0,Ie(k,oe-z))):(B.sortIndex=q,e(l,B),I||y||(I=!0,me(L))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var Q=p;return function(){var oe=p;p=Q;try{return B.apply(this,arguments)}finally{p=oe}}}})(uA);cA.exports=uA;var cO=cA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uO=g,kn=cO;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dA=new Set,xc={};function bo(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(xc[t]=e,t=0;t<e.length;t++)dA.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,dO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OE={},DE={};function hO(t){return Gm.call(DE,t)?!0:Gm.call(OE,t)?!1:dO.test(t)?DE[t]=!0:(OE[t]=!0,!1)}function fO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pO(t,e,n,r){if(e===null||typeof e>"u"||fO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var s_=/[\-:]([a-z])/g;function i_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s_,i_);jt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s_,i_);jt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s_,i_);jt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function o_(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pO(e,n,s,r)&&(n=null),r||s===null?hO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=uO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),a_=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),hA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),l_=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),c_=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),pA=Symbol.for("react.offscreen"),LE=Symbol.iterator;function Bl(t){return t===null||typeof t!="object"?null:(t=LE&&t[LE]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,jp;function tc(t){if(jp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jp=e&&e[1]||""}return`
`+jp+t}var Bp=!1;function zp(t,e){if(!t||Bp)return"";Bp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function mO(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=zp(t.type,!1),t;case 11:return t=zp(t.type.render,!1),t;case 1:return t=zp(t.type,!0),t;default:return""}}function Ym(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case Ho:return"Portal";case Km:return"Profiler";case a_:return"StrictMode";case Qm:return"Suspense";case Xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fA:return(t.displayName||"Context")+".Consumer";case hA:return(t._context.displayName||"Context")+".Provider";case l_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c_:return e=t.displayName||null,e!==null?e:Ym(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return Ym(t(e))}catch{}}return null}function gO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ym(e);case 8:return e===a_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yO(t){var e=mA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=yO(t))}function gA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ME(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yA(t,e){e=e.checked,e!=null&&o_(t,"checked",e,!1)}function Jm(t,e){yA(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eg(t,e.type,n):e.hasOwnProperty("defaultValue")&&eg(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eg(t,e,n){(e!=="number"||dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function sa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(nc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function _A(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function UE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ng(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,wA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_O=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){_O.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function EA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function TA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=EA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vO=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rg(t,e){if(e){if(vO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=null;function u_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var og=null,ia=null,oa=null;function jE(t){if(t=pu(t)){if(typeof og!="function")throw Error(W(280));var e=t.stateNode;e&&(e=wf(e),og(t.stateNode,t.type,e))}}function SA(t){ia?oa?oa.push(t):oa=[t]:ia=t}function IA(){if(ia){var t=ia,e=oa;if(oa=ia=null,jE(t),e)for(t=0;t<e.length;t++)jE(e[t])}}function AA(t,e){return t(e)}function bA(){}var $p=!1;function RA(t,e,n){if($p)return t(e,n);$p=!0;try{return AA(t,e,n)}finally{$p=!1,(ia!==null||oa!==null)&&(bA(),IA())}}function Pc(t,e){var n=t.stateNode;if(n===null)return null;var r=wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var ag=!1;if(Jr)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){ag=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{ag=!1}function wO(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var fc=!1,hh=null,fh=!1,lg=null,EO={onError:function(t){fc=!0,hh=t}};function TO(t,e,n,r,s,i,o,a,l){fc=!1,hh=null,wO.apply(EO,arguments)}function SO(t,e,n,r,s,i,o,a,l){if(TO.apply(this,arguments),fc){if(fc){var u=hh;fc=!1,hh=null}else throw Error(W(198));fh||(fh=!0,lg=u)}}function Ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BE(t){if(Ro(t)!==t)throw Error(W(188))}function IO(t){var e=t.alternate;if(!e){if(e=Ro(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return BE(s),t;if(i===r)return BE(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function xA(t){return t=IO(t),t!==null?kA(t):null}function kA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kA(t);if(e!==null)return e;t=t.sibling}return null}var PA=kn.unstable_scheduleCallback,zE=kn.unstable_cancelCallback,AO=kn.unstable_shouldYield,bO=kn.unstable_requestPaint,mt=kn.unstable_now,RO=kn.unstable_getCurrentPriorityLevel,d_=kn.unstable_ImmediatePriority,NA=kn.unstable_UserBlockingPriority,ph=kn.unstable_NormalPriority,CO=kn.unstable_LowPriority,OA=kn.unstable_IdlePriority,gf=null,Er=null;function xO(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(gf,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:NO,kO=Math.log,PO=Math.LN2;function NO(t){return t>>>=0,t===0?32:31-(kO(t)/PO|0)|0}var Xu=64,Yu=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rc(a):(i&=o,i!==0&&(r=rc(i)))}else o=n&~s,o!==0?r=rc(o):i!==0&&(r=rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),s=1<<n,r|=t[n],e&=~s;return r}function OO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=OO(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DA(){var t=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),t}function qp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function LO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function h_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $e=0;function LA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MA,f_,VA,FA,UA,ug=!1,Zu=[],Xs=null,Ys=null,Zs=null,Nc=new Map,Oc=new Map,Os=[],MO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $E(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function $l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pu(e),e!==null&&f_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VO(t,e,n,r,s){switch(e){case"focusin":return Xs=$l(Xs,t,e,n,r,s),!0;case"dragenter":return Ys=$l(Ys,t,e,n,r,s),!0;case"mouseover":return Zs=$l(Zs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nc.set(i,$l(Nc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oc.set(i,$l(Oc.get(i)||null,t,e,n,r,s)),!0}return!1}function jA(t){var e=qi(t.target);if(e!==null){var n=Ro(e);if(n!==null){if(e=n.tag,e===13){if(e=CA(n),e!==null){t.blockedOn=e,UA(t.priority,function(){VA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ig=r,n.target.dispatchEvent(r),ig=null}else return e=pu(n),e!==null&&f_(e),t.blockedOn=n,!1;e.shift()}return!0}function qE(t,e,n){Dd(t)&&n.delete(e)}function FO(){ug=!1,Xs!==null&&Dd(Xs)&&(Xs=null),Ys!==null&&Dd(Ys)&&(Ys=null),Zs!==null&&Dd(Zs)&&(Zs=null),Nc.forEach(qE),Oc.forEach(qE)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,ug||(ug=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,FO)))}function Dc(t){function e(s){return ql(s,t)}if(0<Zu.length){ql(Zu[0],t);for(var n=1;n<Zu.length;n++){var r=Zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xs!==null&&ql(Xs,t),Ys!==null&&ql(Ys,t),Zs!==null&&ql(Zs,t),Nc.forEach(e),Oc.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)jA(n),n.blockedOn===null&&Os.shift()}var aa=ps.ReactCurrentBatchConfig,gh=!0;function UO(t,e,n,r){var s=$e,i=aa.transition;aa.transition=null;try{$e=1,p_(t,e,n,r)}finally{$e=s,aa.transition=i}}function jO(t,e,n,r){var s=$e,i=aa.transition;aa.transition=null;try{$e=4,p_(t,e,n,r)}finally{$e=s,aa.transition=i}}function p_(t,e,n,r){if(gh){var s=dg(t,e,n,r);if(s===null)em(t,e,r,yh,n),$E(t,r);else if(VO(s,t,e,n,r))r.stopPropagation();else if($E(t,r),e&4&&-1<MO.indexOf(t)){for(;s!==null;){var i=pu(s);if(i!==null&&MA(i),i=dg(t,e,n,r),i===null&&em(t,e,r,yh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else em(t,e,r,null,n)}}var yh=null;function dg(t,e,n,r){if(yh=null,t=u_(r),t=qi(t),t!==null)if(e=Ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yh=t,null}function BA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RO()){case d_:return 1;case NA:return 4;case ph:case CO:return 16;case OA:return 536870912;default:return 16}default:return 16}}var Hs=null,m_=null,Ld=null;function zA(){if(Ld)return Ld;var t,e=m_,n=e.length,r,s="value"in Hs?Hs.value:Hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ld=s.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function WE(){return!1}function On(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ju:WE,this.isPropagationStopped=WE,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g_=On(il),fu=st({},il,{view:0,detail:0}),BO=On(fu),Wp,Hp,Wl,yf=st({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(Wp=t.screenX-Wl.screenX,Hp=t.screenY-Wl.screenY):Hp=Wp=0,Wl=t),Wp)},movementY:function(t){return"movementY"in t?t.movementY:Hp}}),HE=On(yf),zO=st({},yf,{dataTransfer:0}),$O=On(zO),qO=st({},fu,{relatedTarget:0}),Gp=On(qO),WO=st({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),HO=On(WO),GO=st({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KO=On(GO),QO=st({},il,{data:0}),GE=On(QO),XO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZO[t])?!!e[t]:!1}function y_(){return JO}var eD=st({},fu,{key:function(t){if(t.key){var e=XO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y_,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tD=On(eD),nD=st({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KE=On(nD),rD=st({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y_}),sD=On(rD),iD=st({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),oD=On(iD),aD=st({},yf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lD=On(aD),cD=[9,13,27,32],__=Jr&&"CompositionEvent"in window,pc=null;Jr&&"documentMode"in document&&(pc=document.documentMode);var uD=Jr&&"TextEvent"in window&&!pc,$A=Jr&&(!__||pc&&8<pc&&11>=pc),QE=" ",XE=!1;function qA(t,e){switch(t){case"keyup":return cD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function dD(t,e){switch(t){case"compositionend":return WA(e);case"keypress":return e.which!==32?null:(XE=!0,QE);case"textInput":return t=e.data,t===QE&&XE?null:t;default:return null}}function hD(t,e){if(Ko)return t==="compositionend"||!__&&qA(t,e)?(t=zA(),Ld=m_=Hs=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $A&&e.locale!=="ko"?null:e.data;default:return null}}var fD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fD[t.type]:e==="textarea"}function HA(t,e,n,r){SA(r),e=_h(e,"onChange"),0<e.length&&(n=new g_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mc=null,Lc=null;function pD(t){rb(t,0)}function _f(t){var e=Yo(t);if(gA(e))return t}function mD(t,e){if(t==="change")return e}var GA=!1;if(Jr){var Kp;if(Jr){var Qp="oninput"in document;if(!Qp){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),Qp=typeof ZE.oninput=="function"}Kp=Qp}else Kp=!1;GA=Kp&&(!document.documentMode||9<document.documentMode)}function JE(){mc&&(mc.detachEvent("onpropertychange",KA),Lc=mc=null)}function KA(t){if(t.propertyName==="value"&&_f(Lc)){var e=[];HA(e,Lc,t,u_(t)),RA(pD,e)}}function gD(t,e,n){t==="focusin"?(JE(),mc=e,Lc=n,mc.attachEvent("onpropertychange",KA)):t==="focusout"&&JE()}function yD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(Lc)}function _D(t,e){if(t==="click")return _f(e)}function vD(t,e){if(t==="input"||t==="change")return _f(e)}function wD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:wD;function Mc(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gm.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function eT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tT(t,e){var n=eT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eT(n)}}function QA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XA(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function v_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ED(t){var e=XA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QA(n.ownerDocument.documentElement,n)){if(r!==null&&v_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=tT(n,i);var o=tT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TD=Jr&&"documentMode"in document&&11>=document.documentMode,Qo=null,hg=null,gc=null,fg=!1;function nT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fg||Qo==null||Qo!==dh(r)||(r=Qo,"selectionStart"in r&&v_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gc&&Mc(gc,r)||(gc=r,r=_h(hg,"onSelect"),0<r.length&&(e=new g_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qo)))}function ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},Xp={},YA={};Jr&&(YA=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function vf(t){if(Xp[t])return Xp[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YA)return Xp[t]=e[n];return t}var ZA=vf("animationend"),JA=vf("animationiteration"),eb=vf("animationstart"),tb=vf("transitionend"),nb=new Map,rT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){nb.set(t,e),bo(e,[t])}for(var Yp=0;Yp<rT.length;Yp++){var Zp=rT[Yp],SD=Zp.toLowerCase(),ID=Zp[0].toUpperCase()+Zp.slice(1);bi(SD,"on"+ID)}bi(ZA,"onAnimationEnd");bi(JA,"onAnimationIteration");bi(eb,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(tb,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AD=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function sT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SO(r,e,void 0,t),t.currentTarget=null}function rb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;sT(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;sT(s,a,u),i=l}}}if(fh)throw t=lg,fh=!1,lg=null,t}function Xe(t,e){var n=e[_g];n===void 0&&(n=e[_g]=new Set);var r=t+"__bubble";n.has(r)||(sb(e,t,2,!1),n.add(r))}function Jp(t,e,n){var r=0;e&&(r|=4),sb(n,t,r,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[td]){t[td]=!0,dA.forEach(function(n){n!=="selectionchange"&&(AD.has(n)||Jp(n,!1,t),Jp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,Jp("selectionchange",!1,e))}}function sb(t,e,n,r){switch(BA(e)){case 1:var s=UO;break;case 4:s=jO;break;default:s=p_}n=s.bind(null,e,n,t),s=void 0,!ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function em(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}RA(function(){var u=i,d=u_(n),h=[];e:{var p=nb.get(t);if(p!==void 0){var y=g_,I=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":y=tD;break;case"focusin":I="focus",y=Gp;break;case"focusout":I="blur",y=Gp;break;case"beforeblur":case"afterblur":y=Gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=HE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=$O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sD;break;case ZA:case JA:case eb:y=HO;break;case tb:y=oD;break;case"scroll":y=BO;break;case"wheel":y=lD;break;case"copy":case"cut":case"paste":y=KO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=KE}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?p!==null?p+"Capture":null:p;_=[];for(var v=u,T;v!==null;){T=v;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,w!==null&&(k=Pc(v,w),k!=null&&_.push(Fc(v,k,T)))),E)break;v=v.return}0<_.length&&(p=new y(p,I,null,n,d),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==ig&&(I=n.relatedTarget||n.fromElement)&&(qi(I)||I[es]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(I=n.relatedTarget||n.toElement,y=u,I=I?qi(I):null,I!==null&&(E=Ro(I),I!==E||I.tag!==5&&I.tag!==6)&&(I=null)):(y=null,I=u),y!==I)){if(_=HE,k="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=KE,k="onPointerLeave",w="onPointerEnter",v="pointer"),E=y==null?p:Yo(y),T=I==null?p:Yo(I),p=new _(k,v+"leave",y,n,d),p.target=E,p.relatedTarget=T,k=null,qi(d)===u&&(_=new _(w,v+"enter",I,n,d),_.target=T,_.relatedTarget=E,k=_),E=k,y&&I)t:{for(_=y,w=I,v=0,T=_;T;T=Mo(T))v++;for(T=0,k=w;k;k=Mo(k))T++;for(;0<v-T;)_=Mo(_),v--;for(;0<T-v;)w=Mo(w),T--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=Mo(_),w=Mo(w)}_=null}else _=null;y!==null&&iT(h,p,y,_,!1),I!==null&&E!==null&&iT(h,E,I,_,!0)}}e:{if(p=u?Yo(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var L=mD;else if(YE(p))if(GA)L=vD;else{L=yD;var V=gD}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=_D);if(L&&(L=L(t,u))){HA(h,L,n,d);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&eg(p,"number",p.value)}switch(V=u?Yo(u):window,t){case"focusin":(YE(V)||V.contentEditable==="true")&&(Qo=V,hg=u,gc=null);break;case"focusout":gc=hg=Qo=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,nT(h,n,d);break;case"selectionchange":if(TD)break;case"keydown":case"keyup":nT(h,n,d)}var A;if(__)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ko?qA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&($A&&n.locale!=="ko"&&(Ko||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ko&&(A=zA()):(Hs=d,m_="value"in Hs?Hs.value:Hs.textContent,Ko=!0)),V=_h(u,S),0<V.length&&(S=new GE(S,t,null,n,d),h.push({event:S,listeners:V}),A?S.data=A:(A=WA(n),A!==null&&(S.data=A)))),(A=uD?dD(t,n):hD(t,n))&&(u=_h(u,"onBeforeInput"),0<u.length&&(d=new GE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=A))}rb(h,e)})}function Fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _h(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pc(t,n),i!=null&&r.unshift(Fc(t,i,s)),i=Pc(t,e),i!=null&&r.push(Fc(t,i,s))),t=t.return}return r}function Mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Pc(n,i),l!=null&&o.unshift(Fc(n,l,a))):s||(l=Pc(n,i),l!=null&&o.push(Fc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bD=/\r\n?/g,RD=/\u0000|\uFFFD/g;function oT(t){return(typeof t=="string"?t:""+t).replace(bD,`
`).replace(RD,"")}function nd(t,e,n){if(e=oT(e),oT(t)!==e&&n)throw Error(W(425))}function vh(){}var pg=null,mg=null;function gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,aT=typeof Promise=="function"?Promise:void 0,xD=typeof queueMicrotask=="function"?queueMicrotask:typeof aT<"u"?function(t){return aT.resolve(null).then(t).catch(kD)}:yg;function kD(t){setTimeout(function(){throw t})}function tm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dc(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),gr="__reactFiber$"+ol,Uc="__reactProps$"+ol,es="__reactContainer$"+ol,_g="__reactEvents$"+ol,PD="__reactListeners$"+ol,ND="__reactHandles$"+ol;function qi(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[es]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lT(t);t!==null;){if(n=t[gr])return n;t=lT(t)}return e}t=n,n=t.parentNode}return null}function pu(t){return t=t[gr]||t[es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function wf(t){return t[Uc]||null}var vg=[],Zo=-1;function Ri(t){return{current:t}}function Je(t){0>Zo||(t.current=vg[Zo],vg[Zo]=null,Zo--)}function Ge(t,e){Zo++,vg[Zo]=t.current,t.current=e}var fi={},Xt=Ri(fi),yn=Ri(!1),uo=fi;function Da(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function wh(){Je(yn),Je(Xt)}function cT(t,e,n){if(Xt.current!==fi)throw Error(W(168));Ge(Xt,e),Ge(yn,n)}function ib(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,gO(t)||"Unknown",s));return st({},n,r)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,uo=Xt.current,Ge(Xt,t),Ge(yn,yn.current),!0}function uT(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=ib(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,Je(yn),Je(Xt),Ge(Xt,t)):Je(yn),Ge(yn,n)}var Br=null,Ef=!1,nm=!1;function ob(t){Br===null?Br=[t]:Br.push(t)}function OD(t){Ef=!0,ob(t)}function Ci(){if(!nm&&Br!==null){nm=!0;var t=0,e=$e;try{var n=Br;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Br=null,Ef=!1}catch(s){throw Br!==null&&(Br=Br.slice(t+1)),PA(d_,Ci),s}finally{$e=e,nm=!1}}return null}var Jo=[],ea=0,Th=null,Sh=0,Mn=[],Vn=0,ho=null,Wr=1,Hr="";function ji(t,e){Jo[ea++]=Sh,Jo[ea++]=Th,Th=t,Sh=e}function ab(t,e,n){Mn[Vn++]=Wr,Mn[Vn++]=Hr,Mn[Vn++]=ho,ho=t;var r=Wr;t=Hr;var s=32-Jn(r)-1;r&=~(1<<s),n+=1;var i=32-Jn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wr=1<<32-Jn(e)+s|n<<s|r,Hr=i+t}else Wr=1<<i|n<<s|r,Hr=t}function w_(t){t.return!==null&&(ji(t,1),ab(t,1,0))}function E_(t){for(;t===Th;)Th=Jo[--ea],Jo[ea]=null,Sh=Jo[--ea],Jo[ea]=null;for(;t===ho;)ho=Mn[--Vn],Mn[Vn]=null,Hr=Mn[--Vn],Mn[Vn]=null,Wr=Mn[--Vn],Mn[Vn]=null}var Rn=null,In=null,tt=!1,Yn=null;function lb(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,In=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ho!==null?{id:Wr,overflow:Hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,In=null,!0):!1;default:return!1}}function wg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eg(t){if(tt){var e=In;if(e){var n=e;if(!dT(t,e)){if(wg(t))throw Error(W(418));e=Js(n.nextSibling);var r=Rn;e&&dT(t,e)?lb(r,n):(t.flags=t.flags&-4097|2,tt=!1,Rn=t)}}else{if(wg(t))throw Error(W(418));t.flags=t.flags&-4097|2,tt=!1,Rn=t}}}function hT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function rd(t){if(t!==Rn)return!1;if(!tt)return hT(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gg(t.type,t.memoizedProps)),e&&(e=In)){if(wg(t))throw cb(),Error(W(418));for(;e;)lb(t,e),e=Js(e.nextSibling)}if(hT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Rn?Js(t.stateNode.nextSibling):null;return!0}function cb(){for(var t=In;t;)t=Js(t.nextSibling)}function La(){In=Rn=null,tt=!1}function T_(t){Yn===null?Yn=[t]:Yn.push(t)}var DD=ps.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function sd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fT(t){var e=t._init;return e(t._payload)}function ub(t){function e(w,v){if(t){var T=w.deletions;T===null?(w.deletions=[v],w.flags|=16):T.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=ri(w,v),w.index=0,w.sibling=null,w}function i(w,v,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<v?(w.flags|=2,v):T):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,T,k){return v===null||v.tag!==6?(v=cm(T,w.mode,k),v.return=w,v):(v=s(v,T),v.return=w,v)}function l(w,v,T,k){var L=T.type;return L===Go?d(w,v,T.props.children,k,T.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ks&&fT(L)===v.type)?(k=s(v,T.props),k.ref=Hl(w,v,T),k.return=w,k):(k=$d(T.type,T.key,T.props,null,w.mode,k),k.ref=Hl(w,v,T),k.return=w,k)}function u(w,v,T,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=um(T,w.mode,k),v.return=w,v):(v=s(v,T.children||[]),v.return=w,v)}function d(w,v,T,k,L){return v===null||v.tag!==7?(v=oo(T,w.mode,k,L),v.return=w,v):(v=s(v,T),v.return=w,v)}function h(w,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cm(""+v,w.mode,T),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gu:return T=$d(v.type,v.key,v.props,null,w.mode,T),T.ref=Hl(w,null,v),T.return=w,T;case Ho:return v=um(v,w.mode,T),v.return=w,v;case ks:var k=v._init;return h(w,k(v._payload),T)}if(nc(v)||Bl(v))return v=oo(v,w.mode,T,null),v.return=w,v;sd(w,v)}return null}function p(w,v,T,k){var L=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:a(w,v,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gu:return T.key===L?l(w,v,T,k):null;case Ho:return T.key===L?u(w,v,T,k):null;case ks:return L=T._init,p(w,v,L(T._payload),k)}if(nc(T)||Bl(T))return L!==null?null:d(w,v,T,k,null);sd(w,T)}return null}function y(w,v,T,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(T)||null,a(v,w,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gu:return w=w.get(k.key===null?T:k.key)||null,l(v,w,k,L);case Ho:return w=w.get(k.key===null?T:k.key)||null,u(v,w,k,L);case ks:var V=k._init;return y(w,v,T,V(k._payload),L)}if(nc(k)||Bl(k))return w=w.get(T)||null,d(v,w,k,L,null);sd(v,k)}return null}function I(w,v,T,k){for(var L=null,V=null,A=v,S=v=0,x=null;A!==null&&S<T.length;S++){A.index>S?(x=A,A=null):x=A.sibling;var P=p(w,A,T[S],k);if(P===null){A===null&&(A=x);break}t&&A&&P.alternate===null&&e(w,A),v=i(P,v,S),V===null?L=P:V.sibling=P,V=P,A=x}if(S===T.length)return n(w,A),tt&&ji(w,S),L;if(A===null){for(;S<T.length;S++)A=h(w,T[S],k),A!==null&&(v=i(A,v,S),V===null?L=A:V.sibling=A,V=A);return tt&&ji(w,S),L}for(A=r(w,A);S<T.length;S++)x=y(A,w,S,T[S],k),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?S:x.key),v=i(x,v,S),V===null?L=x:V.sibling=x,V=x);return t&&A.forEach(function(O){return e(w,O)}),tt&&ji(w,S),L}function _(w,v,T,k){var L=Bl(T);if(typeof L!="function")throw Error(W(150));if(T=L.call(T),T==null)throw Error(W(151));for(var V=L=null,A=v,S=v=0,x=null,P=T.next();A!==null&&!P.done;S++,P=T.next()){A.index>S?(x=A,A=null):x=A.sibling;var O=p(w,A,P.value,k);if(O===null){A===null&&(A=x);break}t&&A&&O.alternate===null&&e(w,A),v=i(O,v,S),V===null?L=O:V.sibling=O,V=O,A=x}if(P.done)return n(w,A),tt&&ji(w,S),L;if(A===null){for(;!P.done;S++,P=T.next())P=h(w,P.value,k),P!==null&&(v=i(P,v,S),V===null?L=P:V.sibling=P,V=P);return tt&&ji(w,S),L}for(A=r(w,A);!P.done;S++,P=T.next())P=y(A,w,S,P.value,k),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),v=i(P,v,S),V===null?L=P:V.sibling=P,V=P);return t&&A.forEach(function(D){return e(w,D)}),tt&&ji(w,S),L}function E(w,v,T,k){if(typeof T=="object"&&T!==null&&T.type===Go&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Gu:e:{for(var L=T.key,V=v;V!==null;){if(V.key===L){if(L=T.type,L===Go){if(V.tag===7){n(w,V.sibling),v=s(V,T.props.children),v.return=w,w=v;break e}}else if(V.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ks&&fT(L)===V.type){n(w,V.sibling),v=s(V,T.props),v.ref=Hl(w,V,T),v.return=w,w=v;break e}n(w,V);break}else e(w,V);V=V.sibling}T.type===Go?(v=oo(T.props.children,w.mode,k,T.key),v.return=w,w=v):(k=$d(T.type,T.key,T.props,null,w.mode,k),k.ref=Hl(w,v,T),k.return=w,w=k)}return o(w);case Ho:e:{for(V=T.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(w,v.sibling),v=s(v,T.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=um(T,w.mode,k),v.return=w,w=v}return o(w);case ks:return V=T._init,E(w,v,V(T._payload),k)}if(nc(T))return I(w,v,T,k);if(Bl(T))return _(w,v,T,k);sd(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,T),v.return=w,w=v):(n(w,v),v=cm(T,w.mode,k),v.return=w,w=v),o(w)):n(w,v)}return E}var Ma=ub(!0),db=ub(!1),Ih=Ri(null),Ah=null,ta=null,S_=null;function I_(){S_=ta=Ah=null}function A_(t){var e=Ih.current;Je(Ih),t._currentValue=e}function Tg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function la(t,e){Ah=t,S_=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(S_!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(Ah===null)throw Error(W(308));ta=t,Ah.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Wi=null;function b_(t){Wi===null?Wi=[t]:Wi.push(t)}function hb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,b_(e)):(n.next=s.next,s.next=n),e.interleaved=n,ts(t,r)}function ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ps=!1;function R_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ts(t,n)}return s=r.interleaved,s===null?(e.next=e,b_(r)):(e.next=s.next,s.next=e),r.interleaved=e,ts(t,n)}function Vd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h_(t,n)}}function pT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bh(t,e,n,r){var s=t.updateQueue;Ps=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,_=a;switch(p=e,y=n,_.tag){case 1:if(I=_.payload,typeof I=="function"){h=I.call(y,h,p);break e}h=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=_.payload,p=typeof I=="function"?I.call(y,h,p):I,p==null)break e;h=st({},h,p);break e;case 2:Ps=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);po|=o,t.lanes=o,t.memoizedState=h}}function mT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var mu={},Tr=Ri(mu),jc=Ri(mu),Bc=Ri(mu);function Hi(t){if(t===mu)throw Error(W(174));return t}function C_(t,e){switch(Ge(Bc,e),Ge(jc,t),Ge(Tr,mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ng(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ng(e,t)}Je(Tr),Ge(Tr,e)}function Va(){Je(Tr),Je(jc),Je(Bc)}function pb(t){Hi(Bc.current);var e=Hi(Tr.current),n=ng(e,t.type);e!==n&&(Ge(jc,t),Ge(Tr,n))}function x_(t){jc.current===t&&(Je(Tr),Je(jc))}var nt=Ri(0);function Rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rm=[];function k_(){for(var t=0;t<rm.length;t++)rm[t]._workInProgressVersionPrimary=null;rm.length=0}var Fd=ps.ReactCurrentDispatcher,sm=ps.ReactCurrentBatchConfig,fo=0,rt=null,At=null,Pt=null,Ch=!1,yc=!1,zc=0,LD=0;function qt(){throw Error(W(321))}function P_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function N_(t,e,n,r,s,i){if(fo=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?UD:jD,t=n(r,s),yc){i=0;do{if(yc=!1,zc=0,25<=i)throw Error(W(301));i+=1,Pt=At=null,e.updateQueue=null,Fd.current=BD,t=n(r,s)}while(yc)}if(Fd.current=xh,e=At!==null&&At.next!==null,fo=0,Pt=At=rt=null,Ch=!1,e)throw Error(W(300));return t}function O_(){var t=zc!==0;return zc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function $n(){if(At===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Pt===null?rt.memoizedState:Pt.next;if(e!==null)Pt=e,At=t;else{if(t===null)throw Error(W(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Pt===null?rt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function $c(t,e){return typeof e=="function"?e(t):e}function im(t){var e=$n(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=At,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((fo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,rt.lanes|=d,po|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,po|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function om(t){var e=$n(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rr(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function mb(){}function gb(t,e){var n=rt,r=$n(),s=e(),i=!rr(r.memoizedState,s);if(i&&(r.memoizedState=s,gn=!0),r=r.queue,D_(vb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,qc(9,_b.bind(null,n,r,s,e),void 0,null),Ot===null)throw Error(W(349));fo&30||yb(n,e,s)}return s}function yb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _b(t,e,n,r){e.value=n,e.getSnapshot=r,wb(e)&&Eb(t)}function vb(t,e,n){return n(function(){wb(e)&&Eb(t)})}function wb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function Eb(t){var e=ts(t,1);e!==null&&er(e,t,1,-1)}function gT(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:t},e.queue=t,t=t.dispatch=FD.bind(null,rt,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tb(){return $n().memoizedState}function Ud(t,e,n,r){var s=dr();rt.flags|=t,s.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function Tf(t,e,n,r){var s=$n();r=r===void 0?null:r;var i=void 0;if(At!==null){var o=At.memoizedState;if(i=o.destroy,r!==null&&P_(r,o.deps)){s.memoizedState=qc(e,n,i,r);return}}rt.flags|=t,s.memoizedState=qc(1|e,n,i,r)}function yT(t,e){return Ud(8390656,8,t,e)}function D_(t,e){return Tf(2048,8,t,e)}function Sb(t,e){return Tf(4,2,t,e)}function Ib(t,e){return Tf(4,4,t,e)}function Ab(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bb(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4,4,Ab.bind(null,e,t),n)}function L_(){}function Rb(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cb(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xb(t,e,n){return fo&21?(rr(n,e)||(n=DA(),rt.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function MD(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=sm.transition;sm.transition={};try{t(!1),e()}finally{$e=n,sm.transition=r}}function kb(){return $n().memoizedState}function VD(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pb(t))Nb(e,n);else if(n=hb(t,e,n,r),n!==null){var s=on();er(n,t,r,s),Ob(n,e,r)}}function FD(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pb(t))Nb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(s.next=s,b_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=hb(t,e,s,r),n!==null&&(s=on(),er(n,t,r,s),Ob(n,e,r))}}function Pb(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function Nb(t,e){yc=Ch=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ob(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h_(t,n)}}var xh={readContext:zn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},UD={readContext:zn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:yT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4194308,4,Ab.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ud(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ud(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VD.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:gT,useDebugValue:L_,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=gT(!1),e=t[0];return t=MD.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=dr();if(tt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ot===null)throw Error(W(349));fo&30||yb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,yT(vb.bind(null,r,i,t),[t]),r.flags|=2048,qc(9,_b.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=Ot.identifierPrefix;if(tt){var n=Hr,r=Wr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jD={readContext:zn,useCallback:Rb,useContext:zn,useEffect:D_,useImperativeHandle:bb,useInsertionEffect:Sb,useLayoutEffect:Ib,useMemo:Cb,useReducer:im,useRef:Tb,useState:function(){return im($c)},useDebugValue:L_,useDeferredValue:function(t){var e=$n();return xb(e,At.memoizedState,t)},useTransition:function(){var t=im($c)[0],e=$n().memoizedState;return[t,e]},useMutableSource:mb,useSyncExternalStore:gb,useId:kb,unstable_isNewReconciler:!1},BD={readContext:zn,useCallback:Rb,useContext:zn,useEffect:D_,useImperativeHandle:bb,useInsertionEffect:Sb,useLayoutEffect:Ib,useMemo:Cb,useReducer:om,useRef:Tb,useState:function(){return om($c)},useDebugValue:L_,useDeferredValue:function(t){var e=$n();return At===null?e.memoizedState=t:xb(e,At.memoizedState,t)},useTransition:function(){var t=om($c)[0],e=$n().memoizedState;return[t,e]},useMutableSource:mb,useSyncExternalStore:gb,useId:kb,unstable_isNewReconciler:!1};function Hn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sf={isMounted:function(t){return(t=t._reactInternals)?Ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),s=ni(t),i=Xr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(er(e,t,s,r),Vd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),s=ni(t),i=Xr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(er(e,t,s,r),Vd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=ni(t),s=Xr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(er(e,t,r,n),Vd(e,t,r))}};function _T(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(s,i):!0}function Db(t,e,n){var r=!1,s=fi,i=e.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=_n(e)?uo:Xt.current,r=e.contextTypes,i=(r=r!=null)?Da(t,s):fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Ig(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},R_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=_n(e)?uo:Xt.current,s.context=Da(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sf.enqueueReplaceState(s,s.state,null),bh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fa(t,e){try{var n="",r=e;do n+=mO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function am(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zD=typeof WeakMap=="function"?WeakMap:Map;function Lb(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ph||(Ph=!0,Lg=r),Ag(t,e)},n}function Mb(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ag(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ag(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=nL.bind(null,t,e,n),e.then(t,t))}function ET(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var $D=ps.ReactCurrentOwner,gn=!1;function sn(t,e,n,r){e.child=t===null?db(e,null,n,r):Ma(e,t.child,n,r)}function ST(t,e,n,r,s){n=n.render;var i=e.ref;return la(e,s),r=N_(t,e,n,r,i,s),n=O_(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ns(t,e,s)):(tt&&n&&w_(e),e.flags|=1,sn(t,e,r,s),e.child)}function IT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Vb(t,e,i,r,s)):(t=$d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return ns(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function Vb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mc(i,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,ns(t,e,s)}return bg(t,e,n,r,s)}function Fb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ra,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(ra,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ge(ra,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ge(ra,En),En|=r;return sn(t,e,s,n),e.child}function Ub(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bg(t,e,n,r,s){var i=_n(n)?uo:Xt.current;return i=Da(e,i),la(e,s),n=N_(t,e,n,r,i,s),r=O_(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ns(t,e,s)):(tt&&r&&w_(e),e.flags|=1,sn(t,e,n,s),e.child)}function AT(t,e,n,r,s){if(_n(n)){var i=!0;Eh(e)}else i=!1;if(la(e,s),e.stateNode===null)jd(t,e),Db(e,n,r),Ig(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=_n(n)?uo:Xt.current,u=Da(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vT(e,o,r,u),Ps=!1;var p=e.memoizedState;o.state=p,bh(e,r,o,s),l=e.memoizedState,a!==r||p!==l||yn.current||Ps?(typeof d=="function"&&(Sg(e,n,d,r),l=e.memoizedState),(a=Ps||_T(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Hn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=_n(n)?uo:Xt.current,l=Da(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&vT(e,o,r,l),Ps=!1,p=e.memoizedState,o.state=p,bh(e,r,o,s);var I=e.memoizedState;a!==h||p!==I||yn.current||Ps?(typeof y=="function"&&(Sg(e,n,y,r),I=e.memoizedState),(u=Ps||_T(e,n,u,r,p,I,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rg(t,e,n,r,i,s)}function Rg(t,e,n,r,s,i){Ub(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&uT(e,n,!1),ns(t,e,i);r=e.stateNode,$D.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ma(e,t.child,null,i),e.child=Ma(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&uT(e,n,!0),e.child}function jb(t){var e=t.stateNode;e.pendingContext?cT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cT(t,e.context,!1),C_(t,e.containerInfo)}function bT(t,e,n,r,s){return La(),T_(s),e.flags|=256,sn(t,e,n,r),e.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bb(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ge(nt,s&1),t===null)return Eg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bf(o,r,0,null),t=oo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xg(n),e.memoizedState=Cg,t):M_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ri(a,i):(i=oo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Cg,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M_(t,e){return e=bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function id(t,e,n,r){return r!==null&&T_(r),Ma(e,t.child,null,n),t=M_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=am(Error(W(422))),id(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bf({mode:"visible",children:r.children},s,0,null),i=oo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ma(e,t.child,null,o),e.child.memoizedState=xg(o),e.memoizedState=Cg,i);if(!(e.mode&1))return id(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=am(i,r,void 0),id(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ts(t,s),er(r,t,s,-1))}return z_(),r=am(Error(W(421))),id(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=Js(s.nextSibling),Rn=e,tt=!0,Yn=null,t!==null&&(Mn[Vn++]=Wr,Mn[Vn++]=Hr,Mn[Vn++]=ho,Wr=t.id,Hr=t.overflow,ho=e),e=M_(e,r.children),e.flags|=4096,e)}function RT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tg(t.return,e,n)}function lm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RT(t,n,e);else if(t.tag===19)RT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Rh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Rh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lm(e,!0,n,null,i);break;case"together":lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WD(t,e,n){switch(e.tag){case 3:jb(e),La();break;case 5:pb(e);break;case 1:_n(e.type)&&Eh(e);break;case 4:C_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ge(Ih,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?Bb(t,e,n):(Ge(nt,nt.current&1),t=ns(t,e,n),t!==null?t.sibling:null);Ge(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ge(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,Fb(t,e,n)}return ns(t,e,n)}var $b,kg,qb,Wb;$b=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kg=function(){};qb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hi(Tr.current);var i=null;switch(n){case"input":s=Zm(t,s),r=Zm(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=tg(t,s),r=tg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}rg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Wb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HD(t,e,n){var r=e.pendingProps;switch(E_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return _n(e.type)&&wh(),Wt(e),null;case 3:return r=e.stateNode,Va(),Je(yn),Je(Xt),k_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(Fg(Yn),Yn=null))),kg(t,e),Wt(e),null;case 5:x_(e);var s=Hi(Bc.current);if(n=e.type,t!==null&&e.stateNode!=null)qb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Wt(e),null}if(t=Hi(Tr.current),rd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gr]=e,r[Uc]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<sc.length;s++)Xe(sc[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":ME(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":FE(r,i),Xe("invalid",r)}rg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&nd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&nd(r.textContent,a,t),s=["children",""+a]):xc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Ku(r),VE(r,i,!0);break;case"textarea":Ku(r),UE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[Uc]=r,$b(t,e,!1,!1),e.stateNode=t;e:{switch(o=sg(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<sc.length;s++)Xe(sc[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":ME(t,r),s=Zm(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":FE(t,r),s=tg(t,r),Xe("invalid",t);break;default:s=r}rg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?TA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xe("scroll",t):l!=null&&o_(t,i,l,o))}switch(n){case"input":Ku(t),VE(t,r,!1);break;case"textarea":Ku(t),UE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?sa(t,!!r.multiple,i,!1):r.defaultValue!=null&&sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)Wb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Hi(Bc.current),Hi(Tr.current),rd(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(i=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&In!==null&&e.mode&1&&!(e.flags&128))cb(),La(),e.flags|=98560,i=!1;else if(i=rd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[gr]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else Yn!==null&&(Fg(Yn),Yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?bt===0&&(bt=3):z_())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Va(),kg(t,e),t===null&&Vc(e.stateNode.containerInfo),Wt(e),null;case 10:return A_(e.type._context),Wt(e),null;case 17:return _n(e.type)&&wh(),Wt(e),null;case 19:if(Je(nt),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gl(i,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rh(t),o!==null){for(e.flags|=128,Gl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&mt()>Ua&&(e.flags|=128,r=!0,Gl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Rh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Wt(e),null}else 2*mt()-i.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,Gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mt(),e.sibling=null,n=nt.current,Ge(nt,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return B_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function GD(t,e){switch(E_(e),e.tag){case 1:return _n(e.type)&&wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Va(),Je(yn),Je(Xt),k_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x_(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return Va(),null;case 10:return A_(e.type._context),null;case 22:case 23:return B_(),null;case 24:return null;default:return null}}var od=!1,Kt=!1,KD=typeof WeakSet=="function"?WeakSet:Set,ne=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function Pg(t,e,n){try{n()}catch(r){dt(t,e,r)}}var CT=!1;function QD(t,e){if(pg=gh,t=XA(),v_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mg={focusedElem:t,selectionRange:n},gh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var _=I.memoizedProps,E=I.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Hn(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(k){dt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return I=CT,CT=!1,I}function _c(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pg(e,n,i)}s=s.next}while(s!==r)}}function If(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ng(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hb(t){var e=t.alternate;e!==null&&(t.alternate=null,Hb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Uc],delete e[_g],delete e[PD],delete e[ND])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gb(t){return t.tag===5||t.tag===3||t.tag===4}function xT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(Og(t,e,n),t=t.sibling;t!==null;)Og(t,e,n),t=t.sibling}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}var Lt=null,Qn=!1;function Ts(t,e,n){for(n=n.child;n!==null;)Kb(t,e,n),n=n.sibling}function Kb(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(gf,n)}catch{}switch(n.tag){case 5:Kt||na(n,e);case 6:var r=Lt,s=Qn;Lt=null,Ts(t,e,n),Lt=r,Qn=s,Lt!==null&&(Qn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Qn?(t=Lt,n=n.stateNode,t.nodeType===8?tm(t.parentNode,n):t.nodeType===1&&tm(t,n),Dc(t)):tm(Lt,n.stateNode));break;case 4:r=Lt,s=Qn,Lt=n.stateNode.containerInfo,Qn=!0,Ts(t,e,n),Lt=r,Qn=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pg(n,e,o),s=s.next}while(s!==r)}Ts(t,e,n);break;case 1:if(!Kt&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Ts(t,e,n),Kt=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function kT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KD),e.forEach(function(r){var s=sL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Qn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Qn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if(Lt===null)throw Error(W(160));Kb(i,o,s),Lt=null,Qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){dt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qb(e,t),e=e.sibling}function Qb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),ur(t),r&4){try{_c(3,t,t.return),If(3,t)}catch(_){dt(t,t.return,_)}try{_c(5,t,t.return)}catch(_){dt(t,t.return,_)}}break;case 1:Wn(e,t),ur(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(Wn(e,t),ur(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(_){dt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yA(s,i),sg(a,o);var u=sg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?TA(s,h):d==="dangerouslySetInnerHTML"?wA(s,h):d==="children"?kc(s,h):o_(s,d,h,u)}switch(a){case"input":Jm(s,i);break;case"textarea":_A(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?sa(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?sa(s,!!i.multiple,i.defaultValue,!0):sa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uc]=i}catch(_){dt(t,t.return,_)}}break;case 6:if(Wn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){dt(t,t.return,_)}}break;case 3:if(Wn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(_){dt(t,t.return,_)}break;case 4:Wn(e,t),ur(t);break;case 13:Wn(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(U_=mt())),r&4&&kT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(u=Kt)||d,Wn(e,t),Kt=u):Wn(e,t),ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(h=ne=d;ne!==null;){switch(p=ne,y=p.child,p.tag){case 0:case 11:case 14:case 15:_c(4,p,p.return);break;case 1:na(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(_){dt(r,n,_)}}break;case 5:na(p,p.return);break;case 22:if(p.memoizedState!==null){NT(h);continue}}y!==null?(y.return=p,ne=y):NT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EA("display",o))}catch(_){dt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){dt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wn(e,t),ur(t),r&4&&kT(t);break;case 21:break;default:Wn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gb(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=xT(t);Dg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xT(t);Og(t,a,o);break;default:throw Error(W(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XD(t,e,n){ne=t,Xb(t)}function Xb(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||od;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=od;var u=Kt;if(od=o,(Kt=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?OT(s):l!==null?(l.return=o,ne=l):OT(s);for(;i!==null;)ne=i,Xb(i),i=i.sibling;ne=s,od=a,Kt=u}PT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):PT(t)}}function PT(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||If(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Kt||e.flags&512&&Ng(e)}catch(p){dt(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function NT(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function OT(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{If(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){dt(e,s,l)}}var i=e.return;try{Ng(e)}catch(l){dt(e,i,l)}break;case 5:var o=e.return;try{Ng(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var YD=Math.ceil,kh=ps.ReactCurrentDispatcher,V_=ps.ReactCurrentOwner,Bn=ps.ReactCurrentBatchConfig,Me=0,Ot=null,_t=null,Ut=0,En=0,ra=Ri(0),bt=0,Wc=null,po=0,Af=0,F_=0,vc=null,pn=null,U_=0,Ua=1/0,jr=null,Ph=!1,Lg=null,ti=null,ad=!1,Gs=null,Nh=0,wc=0,Mg=null,Bd=-1,zd=0;function on(){return Me&6?mt():Bd!==-1?Bd:Bd=mt()}function ni(t){return t.mode&1?Me&2&&Ut!==0?Ut&-Ut:DD.transition!==null?(zd===0&&(zd=DA()),zd):(t=$e,t!==0||(t=window.event,t=t===void 0?16:BA(t.type)),t):1}function er(t,e,n,r){if(50<wc)throw wc=0,Mg=null,Error(W(185));hu(t,n,r),(!(Me&2)||t!==Ot)&&(t===Ot&&(!(Me&2)&&(Af|=n),bt===4&&Ds(t,Ut)),vn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Ua=mt()+500,Ef&&Ci()))}function vn(t,e){var n=t.callbackNode;DO(t,e);var r=mh(t,t===Ot?Ut:0);if(r===0)n!==null&&zE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zE(n),e===1)t.tag===0?OD(DT.bind(null,t)):ob(DT.bind(null,t)),xD(function(){!(Me&6)&&Ci()}),n=null;else{switch(LA(r)){case 1:n=d_;break;case 4:n=NA;break;case 16:n=ph;break;case 536870912:n=OA;break;default:n=ph}n=sR(n,Yb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yb(t,e){if(Bd=-1,zd=0,Me&6)throw Error(W(327));var n=t.callbackNode;if(ca()&&t.callbackNode!==n)return null;var r=mh(t,t===Ot?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var s=Me;Me|=2;var i=Jb();(Ot!==t||Ut!==e)&&(jr=null,Ua=mt()+500,io(t,e));do try{eL();break}catch(a){Zb(t,a)}while(!0);I_(),kh.current=i,Me=s,_t!==null?e=0:(Ot=null,Ut=0,e=bt)}if(e!==0){if(e===2&&(s=cg(t),s!==0&&(r=s,e=Vg(t,s))),e===1)throw n=Wc,io(t,0),Ds(t,r),vn(t,mt()),n;if(e===6)Ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZD(s)&&(e=Oh(t,r),e===2&&(i=cg(t),i!==0&&(r=i,e=Vg(t,i))),e===1))throw n=Wc,io(t,0),Ds(t,r),vn(t,mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Bi(t,pn,jr);break;case 3:if(Ds(t,r),(r&130023424)===r&&(e=U_+500-mt(),10<e)){if(mh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=yg(Bi.bind(null,t,pn,jr),e);break}Bi(t,pn,jr);break;case 4:if(Ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YD(r/1960))-r,10<r){t.timeoutHandle=yg(Bi.bind(null,t,pn,jr),r);break}Bi(t,pn,jr);break;case 5:Bi(t,pn,jr);break;default:throw Error(W(329))}}}return vn(t,mt()),t.callbackNode===n?Yb.bind(null,t):null}function Vg(t,e){var n=vc;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=pn,pn=n,e!==null&&Fg(e)),t}function Fg(t){pn===null?pn=t:pn.push.apply(pn,t)}function ZD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ds(t,e){for(e&=~F_,e&=~Af,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function DT(t){if(Me&6)throw Error(W(327));ca();var e=mh(t,0);if(!(e&1))return vn(t,mt()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=cg(t);r!==0&&(e=r,n=Vg(t,r))}if(n===1)throw n=Wc,io(t,0),Ds(t,e),vn(t,mt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,pn,jr),vn(t,mt()),null}function j_(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Ua=mt()+500,Ef&&Ci())}}function mo(t){Gs!==null&&Gs.tag===0&&!(Me&6)&&ca();var e=Me;Me|=1;var n=Bn.transition,r=$e;try{if(Bn.transition=null,$e=1,t)return t()}finally{$e=r,Bn.transition=n,Me=e,!(Me&6)&&Ci()}}function B_(){En=ra.current,Je(ra)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CD(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(E_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:Va(),Je(yn),Je(Xt),k_();break;case 5:x_(r);break;case 4:Va();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:A_(r.type._context);break;case 22:case 23:B_()}n=n.return}if(Ot=t,_t=t=ri(t.current,null),Ut=En=e,bt=0,Wc=null,F_=Af=po=0,pn=vc=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Wi=null}return t}function Zb(t,e){do{var n=_t;try{if(I_(),Fd.current=xh,Ch){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ch=!1}if(fo=0,Pt=At=rt=null,yc=!1,zc=0,V_.current=null,n===null||n.return===null){bt=1,Wc=e,_t=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ET(o);if(y!==null){y.flags&=-257,TT(y,o,a,i,e),y.mode&1&&wT(i,u,e),e=y,l=u;var I=e.updateQueue;if(I===null){var _=new Set;_.add(l),e.updateQueue=_}else I.add(l);break e}else{if(!(e&1)){wT(i,u,e),z_();break e}l=Error(W(426))}}else if(tt&&a.mode&1){var E=ET(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),TT(E,o,a,i,e),T_(Fa(l,a));break e}}i=l=Fa(l,a),bt!==4&&(bt=2),vc===null?vc=[i]:vc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=Lb(i,l,e);pT(i,w);break e;case 1:a=l;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ti===null||!ti.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Mb(i,a,e);pT(i,k);break e}}i=i.return}while(i!==null)}tR(n)}catch(L){e=L,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function Jb(){var t=kh.current;return kh.current=xh,t===null?xh:t}function z_(){(bt===0||bt===3||bt===2)&&(bt=4),Ot===null||!(po&268435455)&&!(Af&268435455)||Ds(Ot,Ut)}function Oh(t,e){var n=Me;Me|=2;var r=Jb();(Ot!==t||Ut!==e)&&(jr=null,io(t,e));do try{JD();break}catch(s){Zb(t,s)}while(!0);if(I_(),Me=n,kh.current=r,_t!==null)throw Error(W(261));return Ot=null,Ut=0,bt}function JD(){for(;_t!==null;)eR(_t)}function eL(){for(;_t!==null&&!AO();)eR(_t)}function eR(t){var e=rR(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?tR(t):_t=e,V_.current=null}function tR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GD(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,_t=null;return}}else if(n=HD(n,e,En),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);bt===0&&(bt=5)}function Bi(t,e,n){var r=$e,s=Bn.transition;try{Bn.transition=null,$e=1,tL(t,e,n,r)}finally{Bn.transition=s,$e=r}return null}function tL(t,e,n,r){do ca();while(Gs!==null);if(Me&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(LO(t,i),t===Ot&&(_t=Ot=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ad||(ad=!0,sR(ph,function(){return ca(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=$e;$e=1;var a=Me;Me|=4,V_.current=null,QD(t,n),Qb(n,t),ED(mg),gh=!!pg,mg=pg=null,t.current=n,XD(n),bO(),Me=a,$e=o,Bn.transition=i}else t.current=n;if(ad&&(ad=!1,Gs=t,Nh=s),i=t.pendingLanes,i===0&&(ti=null),xO(n.stateNode),vn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ph)throw Ph=!1,t=Lg,Lg=null,t;return Nh&1&&t.tag!==0&&ca(),i=t.pendingLanes,i&1?t===Mg?wc++:(wc=0,Mg=t):wc=0,Ci(),null}function ca(){if(Gs!==null){var t=LA(Nh),e=Bn.transition,n=$e;try{if(Bn.transition=null,$e=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,Nh=0,Me&6)throw Error(W(331));var s=Me;for(Me|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:_c(8,d,i)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var p=d.sibling,y=d.return;if(Hb(d),d===u){ne=null;break}if(p!==null){p.return=y,ne=p;break}ne=y}}}var I=i.alternate;if(I!==null){var _=I.child;if(_!==null){I.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_c(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ne=w;break e}ne=i.return}}var v=t.current;for(ne=v;ne!==null;){o=ne;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ne=T;else e:for(o=v;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:If(9,a)}}catch(L){dt(a,a.return,L)}if(a===o){ne=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ne=k;break e}ne=a.return}}if(Me=s,Ci(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(gf,t)}catch{}r=!0}return r}finally{$e=n,Bn.transition=e}}return!1}function LT(t,e,n){e=Fa(n,e),e=Lb(t,e,1),t=ei(t,e,1),e=on(),t!==null&&(hu(t,1,e),vn(t,e))}function dt(t,e,n){if(t.tag===3)LT(t,t,n);else for(;e!==null;){if(e.tag===3){LT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=Fa(n,t),t=Mb(e,t,1),e=ei(e,t,1),t=on(),e!==null&&(hu(e,1,t),vn(e,t));break}}e=e.return}}function nL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Ut&n)===n&&(bt===4||bt===3&&(Ut&130023424)===Ut&&500>mt()-U_?io(t,0):F_|=n),vn(t,e)}function nR(t,e){e===0&&(t.mode&1?(e=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):e=1);var n=on();t=ts(t,e),t!==null&&(hu(t,e,n),vn(t,n))}function rL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nR(t,n)}function sL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),nR(t,n)}var rR;rR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,WD(t,e,n);gn=!!(t.flags&131072)}else gn=!1,tt&&e.flags&1048576&&ab(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jd(t,e),t=e.pendingProps;var s=Da(e,Xt.current);la(e,n),s=N_(null,e,r,t,s,n);var i=O_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(i=!0,Eh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,R_(e),s.updater=Sf,e.stateNode=s,s._reactInternals=e,Ig(e,r,t,n),e=Rg(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&w_(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=oL(r),t=Hn(r,t),s){case 0:e=bg(null,e,r,t,n);break e;case 1:e=AT(null,e,r,t,n);break e;case 11:e=ST(null,e,r,t,n);break e;case 14:e=IT(null,e,r,Hn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),bg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),AT(t,e,r,s,n);case 3:e:{if(jb(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,fb(t,e),bh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fa(Error(W(423)),e),e=bT(t,e,r,n,s);break e}else if(r!==s){s=Fa(Error(W(424)),e),e=bT(t,e,r,n,s);break e}else for(In=Js(e.stateNode.containerInfo.firstChild),Rn=e,tt=!0,Yn=null,n=db(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===s){e=ns(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return pb(e),t===null&&Eg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gg(r,s)?o=null:i!==null&&gg(r,i)&&(e.flags|=32),Ub(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Eg(e),null;case 13:return Bb(t,e,n);case 4:return C_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),ST(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ge(Ih,r._currentValue),r._currentValue=o,i!==null)if(rr(i.value,o)){if(i.children===s.children&&!yn.current){e=ns(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Xr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,la(e,n),s=zn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Hn(r,e.pendingProps),s=Hn(r.type,s),IT(t,e,r,s,n);case 15:return Vb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hn(r,s),jd(t,e),e.tag=1,_n(r)?(t=!0,Eh(e)):t=!1,la(e,n),Db(e,r,s),Ig(e,r,s,n),Rg(null,e,r,!0,t,n);case 19:return zb(t,e,n);case 22:return Fb(t,e,n)}throw Error(W(156,e.tag))};function sR(t,e){return PA(t,e)}function iL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new iL(t,e,n,r)}function $_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oL(t){if(typeof t=="function")return $_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l_)return 11;if(t===c_)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Go:return oo(n.children,s,i,e);case a_:o=8,s|=8;break;case Km:return t=jn(12,n,e,s|2),t.elementType=Km,t.lanes=i,t;case Qm:return t=jn(13,n,e,s),t.elementType=Qm,t.lanes=i,t;case Xm:return t=jn(19,n,e,s),t.elementType=Xm,t.lanes=i,t;case pA:return bf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hA:o=10;break e;case fA:o=9;break e;case l_:o=11;break e;case c_:o=14;break e;case ks:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function oo(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function bf(t,e,n,r){return t=jn(22,t,r,e),t.elementType=pA,t.lanes=n,t.stateNode={isHidden:!1},t}function cm(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function um(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function q_(t,e,n,r,s,i,o,a,l){return t=new aL(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},R_(i),t}function lL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iR(t){if(!t)return fi;t=t._reactInternals;e:{if(Ro(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(_n(n))return ib(t,n,e)}return e}function oR(t,e,n,r,s,i,o,a,l){return t=q_(n,r,!0,t,s,i,o,a,l),t.context=iR(null),n=t.current,r=on(),s=ni(n),i=Xr(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,hu(t,s,r),vn(t,r),t}function Rf(t,e,n,r){var s=e.current,i=on(),o=ni(s);return n=iR(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,o),t!==null&&(er(t,s,o,i),Vd(t,s,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function W_(t,e){MT(t,e),(t=t.alternate)&&MT(t,e)}function cL(){return null}var aR=typeof reportError=="function"?reportError:function(t){console.error(t)};function H_(t){this._internalRoot=t}Cf.prototype.render=H_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Rf(t,e,null,null)};Cf.prototype.unmount=H_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){Rf(null,t,null,null)}),e[es]=null}};function Cf(t){this._internalRoot=t}Cf.prototype.unstable_scheduleHydration=function(t){if(t){var e=FA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&jA(t)}};function G_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VT(){}function uL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Dh(o);i.call(u)}}var o=oR(e,r,t,0,null,!1,!1,"",VT);return t._reactRootContainer=o,t[es]=o.current,Vc(t.nodeType===8?t.parentNode:t),mo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Dh(l);a.call(u)}}var l=q_(t,0,!1,null,null,!1,!1,"",VT);return t._reactRootContainer=l,t[es]=l.current,Vc(t.nodeType===8?t.parentNode:t),mo(function(){Rf(e,l,n,r)}),l}function kf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Dh(o);a.call(l)}}Rf(e,o,t,s)}else o=uL(n,e,t,s,r);return Dh(o)}MA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(h_(e,n|1),vn(e,mt()),!(Me&6)&&(Ua=mt()+500,Ci()))}break;case 13:mo(function(){var r=ts(t,1);if(r!==null){var s=on();er(r,t,1,s)}}),W_(t,1)}};f_=function(t){if(t.tag===13){var e=ts(t,134217728);if(e!==null){var n=on();er(e,t,134217728,n)}W_(t,134217728)}};VA=function(t){if(t.tag===13){var e=ni(t),n=ts(t,e);if(n!==null){var r=on();er(n,t,e,r)}W_(t,e)}};FA=function(){return $e};UA=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};og=function(t,e,n){switch(e){case"input":if(Jm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wf(r);if(!s)throw Error(W(90));gA(r),Jm(r,s)}}}break;case"textarea":_A(t,n);break;case"select":e=n.value,e!=null&&sa(t,!!n.multiple,e,!1)}};AA=j_;bA=mo;var dL={usingClientEntryPoint:!1,Events:[pu,Yo,wf,SA,IA,j_]},Kl={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hL={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xA(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||cL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{gf=ld.inject(hL),Er=ld}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dL;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G_(e))throw Error(W(200));return lL(t,e,null,n)};Nn.createRoot=function(t,e){if(!G_(t))throw Error(W(299));var n=!1,r="",s=aR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=q_(t,1,!1,null,null,n,!1,r,s),t[es]=e.current,Vc(t.nodeType===8?t.parentNode:t),new H_(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=xA(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return mo(t)};Nn.hydrate=function(t,e,n){if(!xf(e))throw Error(W(200));return kf(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!G_(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=aR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oR(e,null,t,1,n??null,s,!1,i,o),t[es]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cf(e)};Nn.render=function(t,e,n){if(!xf(e))throw Error(W(200));return kf(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!xf(t))throw Error(W(40));return t._reactRootContainer?(mo(function(){kf(null,null,t,!1,function(){t._reactRootContainer=null,t[es]=null})}),!0):!1};Nn.unstable_batchedUpdates=j_;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return kf(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function lR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lR)}catch(t){console.error(t)}}lR(),lA.exports=Nn;var gu=lA.exports;const fL=XI(gu);var cR,FT=gu;cR=FT.createRoot,FT.hydrateRoot;const pL="modulepreload",mL=function(t){return"/"+t},UT={},ce=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=mL(l),l in UT)return;UT[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":pL,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function gL(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var uR={exports:{}},dR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=g;function yL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _L=typeof Object.is=="function"?Object.is:yL,vL=ja.useState,wL=ja.useEffect,EL=ja.useLayoutEffect,TL=ja.useDebugValue;function SL(t,e){var n=e(),r=vL({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return EL(function(){s.value=n,s.getSnapshot=e,dm(s)&&i({inst:s})},[t,n,e]),wL(function(){return dm(s)&&i({inst:s}),t(function(){dm(s)&&i({inst:s})})},[t]),TL(n),n}function dm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_L(t,n)}catch{return!0}}function IL(t,e){return e()}var AL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IL:SL;dR.useSyncExternalStore=ja.useSyncExternalStore!==void 0?ja.useSyncExternalStore:AL;uR.exports=dR;var bL=uR.exports;const RL=mf.useInsertionEffect,CL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xL=CL?g.useLayoutEffect:g.useEffect,kL=RL||xL,hR=t=>{const e=g.useRef([t,(...n)=>e[0](...n)]).current;return kL(()=>{e[0]=t}),e[1]},PL="popstate",K_="pushState",Q_="replaceState",NL="hashchange",jT=[PL,K_,Q_,NL],OL=t=>{for(const e of jT)addEventListener(e,t);return()=>{for(const e of jT)removeEventListener(e,t)}},fR=(t,e)=>bL.useSyncExternalStore(OL,t,e),BT=()=>location.search,DL=({ssrSearch:t}={})=>fR(BT,t!=null?()=>t:BT),zT=()=>location.pathname,LL=({ssrPath:t}={})=>fR(zT,t!=null?()=>t:zT),ML=(t,{replace:e=!1,state:n=null}={})=>history[e?Q_:K_](n,"",t),VL=(t={})=>[LL(t),ML],$T=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$T]>"u"){for(const t of[K_,Q_]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,$T,{value:!0})}const FL=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",pR=(t="")=>t==="/"?"":t,UL=(t,e)=>t[0]==="~"?t.slice(1):pR(e)+t,jL=(t="",e)=>FL(Ug(pR(t)),Ug(e)),BL=t=>t[0]==="?"?t.slice(1):t,Ug=t=>{try{return decodeURI(t)}catch{return t}},zL=t=>Ug(BL(t)),mR={hook:VL,searchHook:DL,parser:gL,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},gR=g.createContext(mR),Co=()=>g.useContext(gR),yR={},_R=g.createContext(yR),$L=()=>g.useContext(_R),Pf=t=>{const[e,n]=t.hook(t);return[jL(t.base,e),hR((r,s)=>n(UL(r,t.base),s))]},vR=()=>Pf(Co()),KW=()=>{const t=Co();return zL(t.searchHook(t))},X_=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,p)=>[h,l[p]])):o.groups;let d={...l};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},QW=t=>X_(Co().parser,t,vR()[0]),qL=({children:t,...e})=>{var d,h,p;const n=Co(),r=e.hook?mR:n;let s=r;const[i,o=e.ssrSearch??""]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];i&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs),e.searchHook=e.searchHook??((p=e.hook)==null?void 0:p.searchHook);let a=g.useRef({}),l=a.current,u=l;for(let y in r){const I=y==="base"?r[y]+(e[y]??""):e[y]??r[y];l===u&&I!==u[y]&&(a.current=u={...u}),u[y]=I,(I!==r[y]||I!==s[y])&&(s=u)}return g.createElement(gR.Provider,{value:s,children:t})},qT=({children:t,component:e},n)=>e?g.createElement(e,{params:n}):typeof t=="function"?t(n):t,WL=t=>{let e=g.useRef(yR);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},Z=({path:t,nest:e,match:n,...r})=>{const s=Co(),[i]=Pf(s),[o,a,l]=n??X_(s.parser,t,i,e),u=WL({...$L(),...a});if(!o)return null;const d=l?g.createElement(qL,{base:l},qT(r,u)):qT(r,u);return g.createElement(_R.Provider,{value:u,children:d})},XW=g.forwardRef((t,e)=>{const n=Co(),[r,s]=Pf(n),{to:i="",href:o=i,onClick:a,asChild:l,children:u,className:d,replace:h,state:p,...y}=t,I=hR(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),s(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&g.isValidElement(u)?g.cloneElement(u,{onClick:I,href:_}):g.createElement("a",{...y,onClick:I,href:_,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),wR=t=>Array.isArray(t)?t.flatMap(e=>wR(e&&e.type===g.Fragment?e.props.children:e)):[t],cd=({children:t,location:e})=>{const n=Co(),[r]=Pf(n);for(const s of wR(t)){let i=0;if(g.isValidElement(s)&&(i=X_(n.parser,s.props.path,e||r,s.props.nest))[0])return g.cloneElement(s,{match:i})}return null};var yu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fs,Jy,jI,GL=(jI=class{constructor(){ue(this,Fs,HL);ue(this,Jy,!1)}setTimeoutProvider(t){ee(this,Fs,t)}setTimeout(t,e){return M(this,Fs).setTimeout(t,e)}clearTimeout(t){M(this,Fs).clearTimeout(t)}setInterval(t,e){return M(this,Fs).setInterval(t,e)}clearInterval(t){M(this,Fs).clearInterval(t)}},Fs=new WeakMap,Jy=new WeakMap,jI),Gi=new GL;function KL(t){setTimeout(t,0)}var go=typeof window>"u"||"Deno"in globalThis;function dn(){}function QL(t,e){return typeof t=="function"?t(e):t}function jg(t){return typeof t=="number"&&t>=0&&t!==1/0}function ER(t,e){return Math.max(t+(e||0)-Date.now(),0)}function si(t,e){return typeof t=="function"?t(e):t}function Ln(t,e){return typeof t=="function"?t(e):t}function WT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Y_(o,e.options))return!1}else if(!Gc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function HT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Hc(e.options.mutationKey)!==Hc(i))return!1}else if(!Gc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Y_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Hc)(t)}function Hc(t){return JSON.stringify(t,(e,n)=>zg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Gc(t[n],e[n])):!1}var XL=Object.prototype.hasOwnProperty;function TR(t,e){if(t===e)return t;const n=GT(t)&&GT(e);if(!n&&!(zg(t)&&zg(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u],h=t[d],p=e[d];if(h===p){a[d]=h,(n?u<s:XL.call(t,d))&&l++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){a[d]=p;continue}const y=TR(h,p);a[d]=y,y===h&&l++}return s===o&&l===s?t:a}function Bg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function GT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zg(t){if(!KT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!KT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KT(t){return Object.prototype.toString.call(t)==="[object Object]"}function YL(t){return new Promise(e=>{Gi.setTimeout(e,t)})}function $g(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?TR(t,e):e}function ZL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Z_=Symbol();function SR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Z_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function e2(t,e){return typeof t=="function"?t(...e):!!t}var Xi,Us,Ea,BI,t2=(BI=class extends yu{constructor(){super();ue(this,Xi);ue(this,Us);ue(this,Ea);ee(this,Ea,e=>{if(!go&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Us)||this.setEventListener(M(this,Ea))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,Us))==null||e.call(this),ee(this,Us,void 0))}setEventListener(e){var n;ee(this,Ea,e),(n=M(this,Us))==null||n.call(this),ee(this,Us,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){M(this,Xi)!==e&&(ee(this,Xi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof M(this,Xi)=="boolean"?M(this,Xi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xi=new WeakMap,Us=new WeakMap,Ea=new WeakMap,BI),J_=new t2;function qg(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var n2=KL;function r2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=n2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Vt=r2(),Ta,js,Sa,zI,s2=(zI=class extends yu{constructor(){super();ue(this,Ta,!0);ue(this,js);ue(this,Sa);ee(this,Sa,e=>{if(!go&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,js)||this.setEventListener(M(this,Sa))}onUnsubscribe(){var e;this.hasListeners()||((e=M(this,js))==null||e.call(this),ee(this,js,void 0))}setEventListener(e){var n;ee(this,Sa,e),(n=M(this,js))==null||n.call(this),ee(this,js,e(this.setOnline.bind(this)))}setOnline(e){M(this,Ta)!==e&&(ee(this,Ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return M(this,Ta)}},Ta=new WeakMap,js=new WeakMap,Sa=new WeakMap,zI),Lh=new s2;function i2(t){return Math.min(1e3*2**t,3e4)}function IR(t){return(t??"online")==="online"?Lh.isOnline():!0}var Wg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function AR(t){let e=!1,n=0,r;const s=qg(),i=()=>s.status!=="pending",o=_=>{var E;if(!i()){const w=new Wg(_);p(w),(E=t.onCancel)==null||E.call(t,w)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>J_.isFocused()&&(t.networkMode==="always"||Lh.isOnline())&&t.canRun(),d=()=>IR(t.networkMode)&&t.canRun(),h=_=>{i()||(r==null||r(),s.resolve(_))},p=_=>{i()||(r==null||r(),s.reject(_))},y=()=>new Promise(_=>{var E;r=w=>{(i()||u())&&_(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;r=void 0,i()||(_=t.onContinue)==null||_.call(t)}),I=()=>{if(i())return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(h).catch(w=>{var V;if(i())return;const v=t.retry??(go?0:3),T=t.retryDelay??i2,k=typeof T=="function"?T(n,w):T,L=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!L){p(w);return}n++,(V=t.onFail)==null||V.call(t,n,w),YL(k).then(()=>u()?void 0:y()).then(()=>{e?p(w):I()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?I():y().then(I),s)}}var Yi,$I,bR=($I=class{constructor(){ue(this,Yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jg(this.gcTime)&&ee(this,Yi,Gi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(go?1/0:5*60*1e3))}clearGcTimeout(){M(this,Yi)&&(Gi.clearTimeout(M(this,Yi)),ee(this,Yi,void 0))}},Yi=new WeakMap,$I),Zi,Ia,Dn,Ji,xt,ou,eo,Gn,Ur,qI,o2=(qI=class extends bR{constructor(n){super();ue(this,Gn);ue(this,Zi);ue(this,Ia);ue(this,Dn);ue(this,Ji);ue(this,xt);ue(this,ou);ue(this,eo);ee(this,eo,!1),ee(this,ou,n.defaultOptions),this.setOptions(n.options),this.observers=[],ee(this,Ji,n.client),ee(this,Dn,M(this,Ji).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ee(this,Zi,XT(this.options)),this.state=n.state??M(this,Zi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=M(this,xt))==null?void 0:n.promise}setOptions(n){if(this.options={...M(this,ou),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=XT(this.options);r.data!==void 0&&(this.setState(QT(r.data,r.dataUpdatedAt)),ee(this,Zi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,Dn).remove(this)}setData(n,r){const s=$g(this.state.data,n,this.options);return Pe(this,Gn,Ur).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Pe(this,Gn,Ur).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=M(this,xt))==null?void 0:s.promise;return(i=M(this,xt))==null||i.cancel(n),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Zi))}isActive(){return this.observers.some(n=>Ln(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Z_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>si(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ER(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=M(this,xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),M(this,Dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(M(this,xt)&&(M(this,eo)?M(this,xt).cancel({revert:!0}):M(this,xt).cancelRetry()),this.scheduleGc()),M(this,Dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,Gn,Ur).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,h,p,y,I,_,E,w,v,T,k;if(this.state.fetchStatus!=="idle"&&((u=M(this,xt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(M(this,xt))return M(this,xt).continueRetry(),M(this,xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const L=this.observers.find(V=>V.options.queryFn);L&&this.setOptions(L.options)}const s=new AbortController,i=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(ee(this,eo,!0),s.signal)})},o=()=>{const L=SR(this.options,r),A=(()=>{const S={client:M(this,Ji),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return ee(this,eo,!1),this.options.persister?this.options.persister(L,A,this):L(A)},l=(()=>{const L={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:M(this,Ji),state:this.state,fetchFn:o};return i(L),L})();(d=this.options.behavior)==null||d.onFetch(l,this),ee(this,Ia,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Pe(this,Gn,Ur).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta}),ee(this,xt,AR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:L=>{L instanceof Wg&&L.revert&&this.setState({...M(this,Ia),fetchStatus:"idle"}),s.abort()},onFail:(L,V)=>{Pe(this,Gn,Ur).call(this,{type:"failed",failureCount:L,error:V})},onPause:()=>{Pe(this,Gn,Ur).call(this,{type:"pause"})},onContinue:()=>{Pe(this,Gn,Ur).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const L=await M(this,xt).start();if(L===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(L),(I=(y=M(this,Dn).config).onSuccess)==null||I.call(y,L,this),(E=(_=M(this,Dn).config).onSettled)==null||E.call(_,L,this.state.error,this),L}catch(L){if(L instanceof Wg){if(L.silent)return M(this,xt).promise;if(L.revert){if(this.state.data===void 0)throw L;return this.state.data}}throw Pe(this,Gn,Ur).call(this,{type:"error",error:L}),(v=(w=M(this,Dn).config).onError)==null||v.call(w,L,this),(k=(T=M(this,Dn).config).onSettled)==null||k.call(T,this.state.data,L,this),L}finally{this.scheduleGc()}}},Zi=new WeakMap,Ia=new WeakMap,Dn=new WeakMap,Ji=new WeakMap,xt=new WeakMap,ou=new WeakMap,eo=new WeakMap,Gn=new WeakSet,Ur=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...RR(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...QT(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ee(this,Ia,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),M(this,Dn).notify({query:this,type:"updated",action:n})})},qI);function RR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function QT(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function XT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var un,Ne,au,nn,to,Aa,zr,Bs,lu,ba,Ra,no,ro,zs,Ca,Be,ic,Hg,Gg,Kg,Qg,Xg,Yg,Zg,CR,WI,a2=(WI=class extends yu{constructor(e,n){super();ue(this,Be);ue(this,un);ue(this,Ne);ue(this,au);ue(this,nn);ue(this,to);ue(this,Aa);ue(this,zr);ue(this,Bs);ue(this,lu);ue(this,ba);ue(this,Ra);ue(this,no);ue(this,ro);ue(this,zs);ue(this,Ca,new Set);this.options=n,ee(this,un,e),ee(this,Bs,null),ee(this,zr,qg()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Ne).addObserver(this),YT(M(this,Ne),this.options)?Pe(this,Be,ic).call(this):this.updateResult(),Pe(this,Be,Qg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jg(M(this,Ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jg(M(this,Ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,Be,Xg).call(this),Pe(this,Be,Yg).call(this),M(this,Ne).removeObserver(this)}setOptions(e){const n=this.options,r=M(this,Ne);if(this.options=M(this,un).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ln(this.options.enabled,M(this,Ne))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,Be,Zg).call(this),M(this,Ne).setOptions(this.options),n._defaulted&&!Bg(this.options,n)&&M(this,un).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Ne),observer:this});const s=this.hasListeners();s&&ZT(M(this,Ne),r,this.options,n)&&Pe(this,Be,ic).call(this),this.updateResult(),s&&(M(this,Ne)!==r||Ln(this.options.enabled,M(this,Ne))!==Ln(n.enabled,M(this,Ne))||si(this.options.staleTime,M(this,Ne))!==si(n.staleTime,M(this,Ne)))&&Pe(this,Be,Hg).call(this);const i=Pe(this,Be,Gg).call(this);s&&(M(this,Ne)!==r||Ln(this.options.enabled,M(this,Ne))!==Ln(n.enabled,M(this,Ne))||i!==M(this,zs))&&Pe(this,Be,Kg).call(this,i)}getOptimisticResult(e){const n=M(this,un).getQueryCache().build(M(this,un),e),r=this.createResult(n,e);return c2(this,r)&&(ee(this,nn,r),ee(this,Aa,this.options),ee(this,to,M(this,Ne).state)),r}getCurrentResult(){return M(this,nn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&M(this,zr).status==="pending"&&M(this,zr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){M(this,Ca).add(e)}getCurrentQuery(){return M(this,Ne)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=M(this,un).defaultQueryOptions(e),r=M(this,un).getQueryCache().build(M(this,un),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Pe(this,Be,ic).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,nn)))}createResult(e,n){var x;const r=M(this,Ne),s=this.options,i=M(this,nn),o=M(this,to),a=M(this,Aa),u=e!==r?e.state:M(this,au),{state:d}=e;let h={...d},p=!1,y;if(n._optimisticResults){const P=this.hasListeners(),O=!P&&YT(e,n),D=P&&ZT(e,r,n,s);(O||D)&&(h={...h,...RR(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:I,errorUpdatedAt:_,status:E}=h;y=h.data;let w=!1;if(n.placeholderData!==void 0&&y===void 0&&E==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(P=i.data,w=!0):P=typeof n.placeholderData=="function"?n.placeholderData((x=M(this,Ra))==null?void 0:x.state.data,M(this,Ra)):n.placeholderData,P!==void 0&&(E="success",y=$g(i==null?void 0:i.data,P,n),p=!0)}if(n.select&&y!==void 0&&!w)if(i&&y===(o==null?void 0:o.data)&&n.select===M(this,lu))y=M(this,ba);else try{ee(this,lu,n.select),y=n.select(y),y=$g(i==null?void 0:i.data,y,n),ee(this,ba,y),ee(this,Bs,null)}catch(P){ee(this,Bs,P)}M(this,Bs)&&(I=M(this,Bs),y=M(this,ba),_=Date.now(),E="error");const v=h.fetchStatus==="fetching",T=E==="pending",k=E==="error",L=T&&v,V=y!==void 0,S={status:E,fetchStatus:h.fetchStatus,isPending:T,isSuccess:E==="success",isError:k,isInitialLoading:L,isLoading:L,data:y,dataUpdatedAt:h.dataUpdatedAt,error:I,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!T,isLoadingError:k&&!V,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&V,isStale:ev(e,n),refetch:this.refetch,promise:M(this,zr),isEnabled:Ln(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=N=>{S.status==="error"?N.reject(S.error):S.data!==void 0&&N.resolve(S.data)},O=()=>{const N=ee(this,zr,S.promise=qg());P(N)},D=M(this,zr);switch(D.status){case"pending":e.queryHash===r.queryHash&&P(D);break;case"fulfilled":(S.status==="error"||S.data!==D.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==D.reason)&&O();break}}return S}updateResult(){const e=M(this,nn),n=this.createResult(M(this,Ne),this.options);if(ee(this,to,M(this,Ne).state),ee(this,Aa,this.options),M(this,to).data!==void 0&&ee(this,Ra,M(this,Ne)),Bg(n,e))return;ee(this,nn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!M(this,Ca).size)return!0;const o=new Set(i??M(this,Ca));return this.options.throwOnError&&o.add("error"),Object.keys(M(this,nn)).some(a=>{const l=a;return M(this,nn)[l]!==e[l]&&o.has(l)})};Pe(this,Be,CR).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,Be,Qg).call(this)}},un=new WeakMap,Ne=new WeakMap,au=new WeakMap,nn=new WeakMap,to=new WeakMap,Aa=new WeakMap,zr=new WeakMap,Bs=new WeakMap,lu=new WeakMap,ba=new WeakMap,Ra=new WeakMap,no=new WeakMap,ro=new WeakMap,zs=new WeakMap,Ca=new WeakMap,Be=new WeakSet,ic=function(e){Pe(this,Be,Zg).call(this);let n=M(this,Ne).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(dn)),n},Hg=function(){Pe(this,Be,Xg).call(this);const e=si(this.options.staleTime,M(this,Ne));if(go||M(this,nn).isStale||!jg(e))return;const r=ER(M(this,nn).dataUpdatedAt,e)+1;ee(this,no,Gi.setTimeout(()=>{M(this,nn).isStale||this.updateResult()},r))},Gg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Ne)):this.options.refetchInterval)??!1},Kg=function(e){Pe(this,Be,Yg).call(this),ee(this,zs,e),!(go||Ln(this.options.enabled,M(this,Ne))===!1||!jg(M(this,zs))||M(this,zs)===0)&&ee(this,ro,Gi.setInterval(()=>{(this.options.refetchIntervalInBackground||J_.isFocused())&&Pe(this,Be,ic).call(this)},M(this,zs)))},Qg=function(){Pe(this,Be,Hg).call(this),Pe(this,Be,Kg).call(this,Pe(this,Be,Gg).call(this))},Xg=function(){M(this,no)&&(Gi.clearTimeout(M(this,no)),ee(this,no,void 0))},Yg=function(){M(this,ro)&&(Gi.clearInterval(M(this,ro)),ee(this,ro,void 0))},Zg=function(){const e=M(this,un).getQueryCache().build(M(this,un),this.options);if(e===M(this,Ne))return;const n=M(this,Ne);ee(this,Ne,e),ee(this,au,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},CR=function(e){Vt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(M(this,nn))}),M(this,un).getQueryCache().notify({query:M(this,Ne),type:"observerResultsUpdated"})})},WI);function l2(t,e){return Ln(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YT(t,e){return l2(t,e)||t.state.data!==void 0&&Jg(t,e,e.refetchOnMount)}function Jg(t,e,n){if(Ln(e.enabled,t)!==!1&&si(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ev(t,e)}return!1}function ZT(t,e,n,r){return(t!==e||Ln(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ev(t,n)}function ev(t,e){return Ln(e.enabled,t)!==!1&&t.isStaleByTime(si(e.staleTime,t))}function c2(t,e){return!Bg(t.getCurrentResult(),e)}function JT(t){return{onFetch:(e,n)=>{var d,h,p,y,I;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=SR(e.options,e.fetchOptions),v=async(T,k,L)=>{if(_)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const A=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:k,direction:L?"backward":"forward",meta:e.options.meta};return E(O),O})(),S=await w(A),{maxPages:x}=e.options,P=L?JL:ZL;return{pages:P(T.pages,S,x),pageParams:P(T.pageParams,k,x)}};if(s&&i.length){const T=s==="backward",k=T?xR:ey,L={pages:i,pageParams:o},V=k(r,L);a=await v(L,V,T)}else{const T=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:ey(r,a);if(l>0&&k==null)break;a=await v(a,k),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function ey(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xR(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}function ZW(t,e){return e?ey(t,e)!=null:!1}function JW(t,e){return!e||!t.getPreviousPageParam?!1:xR(t,e)!=null}var cu,fr,rn,so,pr,Cs,HI,u2=(HI=class extends bR{constructor(n){super();ue(this,pr);ue(this,cu);ue(this,fr);ue(this,rn);ue(this,so);ee(this,cu,n.client),this.mutationId=n.mutationId,ee(this,rn,n.mutationCache),ee(this,fr,[]),this.state=n.state||d2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){M(this,fr).includes(n)||(M(this,fr).push(n),this.clearGcTimeout(),M(this,rn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ee(this,fr,M(this,fr).filter(r=>r!==n)),this.scheduleGc(),M(this,rn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){M(this,fr).length||(this.state.status==="pending"?this.scheduleGc():M(this,rn).remove(this))}continue(){var n;return((n=M(this,so))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,d,h,p,y,I,_,E,w,v,T,k,L,V,A,S,x,P;const r=()=>{Pe(this,pr,Cs).call(this,{type:"continue"})},s={client:M(this,cu),meta:this.options.meta,mutationKey:this.options.mutationKey};ee(this,so,AR({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{Pe(this,pr,Cs).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{Pe(this,pr,Cs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,rn).canRun(this)}));const i=this.state.status==="pending",o=!M(this,so).canStart();try{if(i)r();else{Pe(this,pr,Cs).call(this,{type:"pending",variables:n,isPaused:o}),await((l=(a=M(this,rn).config).onMutate)==null?void 0:l.call(a,n,this,s));const D=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n,s));D!==this.state.context&&Pe(this,pr,Cs).call(this,{type:"pending",context:D,variables:n,isPaused:o})}const O=await M(this,so).start();return await((p=(h=M(this,rn).config).onSuccess)==null?void 0:p.call(h,O,n,this.state.context,this,s)),await((I=(y=this.options).onSuccess)==null?void 0:I.call(y,O,n,this.state.context,s)),await((E=(_=M(this,rn).config).onSettled)==null?void 0:E.call(_,O,null,this.state.variables,this.state.context,this,s)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,O,null,n,this.state.context,s)),Pe(this,pr,Cs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((k=(T=M(this,rn).config).onError)==null?void 0:k.call(T,O,n,this.state.context,this,s)),await((V=(L=this.options).onError)==null?void 0:V.call(L,O,n,this.state.context,s)),await((S=(A=M(this,rn).config).onSettled)==null?void 0:S.call(A,void 0,O,this.state.variables,this.state.context,this,s)),await((P=(x=this.options).onSettled)==null?void 0:P.call(x,void 0,O,n,this.state.context,s)),O}finally{Pe(this,pr,Cs).call(this,{type:"error",error:O})}}finally{M(this,rn).runNext(this)}}},cu=new WeakMap,fr=new WeakMap,rn=new WeakMap,so=new WeakMap,pr=new WeakSet,Cs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{M(this,fr).forEach(s=>{s.onMutationUpdate(n)}),M(this,rn).notify({mutation:this,type:"updated",action:n})})},HI);function d2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $r,Kn,uu,GI,h2=(GI=class extends yu{constructor(e={}){super();ue(this,$r);ue(this,Kn);ue(this,uu);this.config=e,ee(this,$r,new Set),ee(this,Kn,new Map),ee(this,uu,0)}build(e,n,r){const s=new u2({client:e,mutationCache:this,mutationId:++Wu(this,uu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){M(this,$r).add(e);const n=ud(e);if(typeof n=="string"){const r=M(this,Kn).get(n);r?r.push(e):M(this,Kn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(M(this,$r).delete(e)){const n=ud(e);if(typeof n=="string"){const r=M(this,Kn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&M(this,Kn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ud(e);if(typeof n=="string"){const r=M(this,Kn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ud(e);if(typeof n=="string"){const s=(r=M(this,Kn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vt.batch(()=>{M(this,$r).forEach(e=>{this.notify({type:"removed",mutation:e})}),M(this,$r).clear(),M(this,Kn).clear()})}getAll(){return Array.from(M(this,$r))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HT(n,r))}findAll(e={}){return this.getAll().filter(n=>HT(e,n))}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(e.map(n=>n.continue().catch(dn))))}},$r=new WeakMap,Kn=new WeakMap,uu=new WeakMap,GI);function ud(t){var e;return(e=t.options.scope)==null?void 0:e.id}var mr,KI,f2=(KI=class extends yu{constructor(e={}){super();ue(this,mr);this.config=e,ee(this,mr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Y_(s,n);let o=this.get(i);return o||(o=new o2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){M(this,mr).has(e.queryHash)||(M(this,mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=M(this,mr).get(e.queryHash);n&&(e.destroy(),n===e&&M(this,mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return M(this,mr).get(e)}getAll(){return[...M(this,mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WT(e,r)):n}notify(e){Vt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mr=new WeakMap,KI),ut,$s,qs,xa,ka,Ws,Pa,Na,QI,p2=(QI=class{constructor(t={}){ue(this,ut);ue(this,$s);ue(this,qs);ue(this,xa);ue(this,ka);ue(this,Ws);ue(this,Pa);ue(this,Na);ee(this,ut,t.queryCache||new f2),ee(this,$s,t.mutationCache||new h2),ee(this,qs,t.defaultOptions||{}),ee(this,xa,new Map),ee(this,ka,new Map),ee(this,Ws,0)}mount(){Wu(this,Ws)._++,M(this,Ws)===1&&(ee(this,Pa,J_.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,ut).onFocus())})),ee(this,Na,Lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),M(this,ut).onOnline())})))}unmount(){var t,e;Wu(this,Ws)._--,M(this,Ws)===0&&((t=M(this,Pa))==null||t.call(this),ee(this,Pa,void 0),(e=M(this,Na))==null||e.call(this),ee(this,Na,void 0))}isFetching(t){return M(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return M(this,$s).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=M(this,ut).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(si(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return M(this,ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=M(this,ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=QL(e,i);if(o!==void 0)return M(this,ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>M(this,ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=M(this,ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=M(this,ut);Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=M(this,ut);return Vt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vt.batch(()=>M(this,ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(dn).catch(dn)}invalidateQueries(t,e={}){return Vt.batch(()=>(M(this,ut).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vt.batch(()=>M(this,ut).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(dn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=M(this,ut).build(this,e);return n.isStaleByTime(si(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dn).catch(dn)}fetchInfiniteQuery(t){return t.behavior=JT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dn).catch(dn)}ensureInfiniteQueryData(t){return t.behavior=JT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lh.isOnline()?M(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,ut)}getMutationCache(){return M(this,$s)}getDefaultOptions(){return M(this,qs)}setDefaultOptions(t){ee(this,qs,t)}setQueryDefaults(t,e){M(this,xa).set(Hc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...M(this,xa).values()],n={};return e.forEach(r=>{Gc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){M(this,ka).set(Hc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...M(this,ka).values()],n={};return e.forEach(r=>{Gc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...M(this,qs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Y_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Z_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...M(this,qs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){M(this,ut).clear(),M(this,$s).clear()}},ut=new WeakMap,$s=new WeakMap,qs=new WeakMap,xa=new WeakMap,ka=new WeakMap,Ws=new WeakMap,Pa=new WeakMap,Na=new WeakMap,QI),kR=g.createContext(void 0),m2=t=>{const e=g.useContext(kR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},g2=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(kR.Provider,{value:t,children:e})),PR=g.createContext(!1),y2=()=>g.useContext(PR);PR.Provider;function _2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var v2=g.createContext(_2()),w2=()=>g.useContext(v2),E2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},T2=t=>{g.useEffect(()=>{t.clearReset()},[t])},S2=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||e2(n,[t.error,r])),I2=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},A2=(t,e)=>t.isLoading&&t.isFetching&&!e,b2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,e0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function R2(t,e,n){var h,p,y,I,_;const r=y2(),s=w2(),i=m2(),o=i.defaultQueryOptions(t);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",I2(o),E2(o,s),T2(s);const a=!i.getQueryCache().get(o.queryHash),[l]=g.useState(()=>new e(i,o)),u=l.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(E=>{const w=d?l.subscribe(Vt.batchCalls(E)):dn;return l.updateResult(),w},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),g.useEffect(()=>{l.setOptions(o)},[o,l]),b2(o,u))throw e0(o,l,s);if(S2({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((I=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||I.call(y,o,u),o.experimental_prefetchInRender&&!go&&A2(u,r)){const E=a?e0(o,l,s):(_=i.getQueryCache().get(o.queryHash))==null?void 0:_.promise;E==null||E.catch(dn).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function C2(t,e){return R2(t,a2)}async function NR(t){if(!t.ok){const e=await t.text()||t.statusText;console.error(`API Error: ${t.status} - ${t.statusText}`,{url:t.url,status:t.status,statusText:t.statusText,text:e});let n;try{n=JSON.parse(e)}catch(r){console.log("JSON parsing failed:",r,"Original text:",e)}if(n){if(n.error){if(typeof n.error=="string")throw new Error(n.error);if(typeof n.error=="object"){const r=n.error;throw r.message?new Error(r.message):r.error?new Error(r.error):new Error(`Validation failed: ${JSON.stringify(r)}`)}}else if(n.message)throw new Error(n.message)}throw t.status===400?new Error("Please check your information and try again."):t.status===401?new Error("Invalid email or password."):t.status===403?new Error("Access denied. Please contact support."):t.status===404?new Error("Service not available. Please try again later."):t.status>=500?new Error("Something went wrong. Please try again later."):new Error("Unable to complete request. Please try again.")}}async function Ss(t,e,n){const r=e,s=localStorage.getItem("adminAccessToken"),i=localStorage.getItem("accessToken"),o=localStorage.getItem("user"),a=n?{"Content-Type":"application/json"}:{};s&&(a["x-admin-token"]=s),i&&(a["x-access-token"]=i,a.Authorization=`Bearer ${i}`),o&&(a["x-user-data"]=btoa(unescape(encodeURIComponent(o))));const l=await fetch(r,{method:t,headers:a,body:n?JSON.stringify(n):void 0,credentials:"include"}).catch(u=>{throw console.error("Fetch error for:",r,u),u});return await NR(l),l}const x2=({on401:t})=>async({queryKey:e})=>{const[n,...r]=e,s=new URLSearchParams;let i=n;if(r.length>0)if(n==="/api/orders"&&r.length>=5){const[h,p,y,I,_]=r;h&&s.set("userId",String(h)),p&&p!=="all"&&s.set("status",String(p)),y&&y!=="all"&&s.set("customerId",String(y)),I&&s.set("page",String(I)),_&&s.set("limit",String(_))}else if(n==="/api/admin/shows"&&r.length>=2){const[h,p,y,I]=r;h&&s.set("page",String(h)),p&&s.set("limit",String(p)),y&&s.set("title",String(y)),I&&s.set("type",String(I))}else n==="/api/products"&&r.length===1&&typeof r[0]=="string"?i=`${n}/${r[0]}`:n==="/api/auction"&&r.length===1&&typeof r[0]=="string"?i=`${n}/${r[0]}`:n==="/api/articles/published"&&r.length===1&&typeof r[0]=="string"?i=`${n}/${r[0]}`:r[0]&&typeof r[0]=="string"&&s.set("userId",r[0]);i=`${i}${s.toString()?"?"+s.toString():""}`;const o=localStorage.getItem("adminAccessToken"),a=localStorage.getItem("accessToken"),l=localStorage.getItem("user"),u={"Content-Type":"application/json"};o&&(u["x-admin-token"]=o),a&&(u["x-access-token"]=a,u.Authorization=`Bearer ${a}`),l&&(u["x-user-data"]=btoa(unescape(encodeURIComponent(l))));const d=await fetch(i,{credentials:"include",headers:u});return await NR(d),await d.json()},ty=new p2({defaultOptions:{queries:{queryFn:x2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),k2=1,P2=1e6;let hm=0;function N2(){return hm=(hm+1)%Number.MAX_SAFE_INTEGER,hm.toString()}const fm=new Map,t0=t=>{if(fm.has(t))return;const e=setTimeout(()=>{fm.delete(t),Ec({type:"REMOVE_TOAST",toastId:t})},P2);fm.set(t,e)},O2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,k2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?t0(n):t.toasts.forEach(r=>{t0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qd=[];let Wd={toasts:[]};function Ec(t){Wd=O2(Wd,t),qd.forEach(e=>{e(Wd)})}function D2({...t}){const e=N2(),n=s=>Ec({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ec({type:"DISMISS_TOAST",toastId:e});return Ec({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function OR(){const[t,e]=g.useState(Wd);return g.useEffect(()=>(qd.push(e),()=>{const n=qd.indexOf(e);n>-1&&qd.splice(n,1)}),[t]),{...t,toast:D2,dismiss:n=>Ec({type:"DISMISS_TOAST",toastId:n})}}function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function n0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _u(...t){return e=>{let n=!1;const r=t.map(s=>{const i=n0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():n0(t[s],null)}}}}function Bt(...t){return g.useCallback(_u(...t),t)}function L2(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return C.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function al(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:p,children:y,...I}=h,_=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,E=g.useMemo(()=>I,Object.values(I));return C.jsx(_.Provider,{value:E,children:y})};u.displayName=i+"Provider";function d(h,p){var _;const y=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,I=g.useContext(y);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,M2(s,...e)]}function M2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function r0(t){const e=V2(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(U2);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function V2(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=B2(s),a=j2(i,s.props);return s.type!==g.Fragment&&(a.ref=r?_u(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var F2=Symbol("radix.slottable");function U2(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===F2}function j2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function B2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function z2(t){const e=t+"CollectionProvider",[n,r]=al(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:E,children:w}=_,v=Rs.useRef(null),T=Rs.useRef(new Map).current;return C.jsx(s,{scope:E,itemMap:T,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=r0(a),u=Rs.forwardRef((_,E)=>{const{scope:w,children:v}=_,T=i(a,w),k=Bt(E,T.collectionRef);return C.jsx(l,{ref:k,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=r0(d),y=Rs.forwardRef((_,E)=>{const{scope:w,children:v,...T}=_,k=Rs.useRef(null),L=Bt(E,k),V=i(d,w);return Rs.useEffect(()=>(V.itemMap.set(k,{ref:k,...T}),()=>void V.itemMap.delete(k))),C.jsx(p,{[h]:"",ref:L,children:v})});y.displayName=d;function I(_){const E=i(t+"CollectionConsumer",_);return Rs.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((V,A)=>T.indexOf(V.ref.current)-T.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},I,r]}function $2(t){const e=q2(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(H2);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function q2(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=K2(s),a=G2(i,s.props);return s.type!==g.Fragment&&(a.ref=r?_u(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W2=Symbol("radix.slottable");function H2(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W2}function G2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function K2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Q2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=Q2.reduce((t,e)=>{const n=$2(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function DR(t,e){t&&gu.flushSync(()=>t.dispatchEvent(e))}function Pr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function X2(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Y2="DismissableLayer",ny="dismissableLayer.update",Z2="dismissableLayer.pointerDownOutside",J2="dismissableLayer.focusOutside",s0,LR=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nf=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(LR),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),I=Bt(e,A=>h(A)),_=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(E),v=d?_.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=w,L=tM(A=>{const S=A.target,x=[...u.branches].some(P=>P.contains(S));!k||x||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},p),V=nM(A=>{const S=A.target;[...u.branches].some(P=>P.contains(S))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},p);return X2(A=>{v===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(s0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),i0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=s0)}},[d,p,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),i0())},[d,u]),g.useEffect(()=>{const A=()=>y({});return document.addEventListener(ny,A),()=>document.removeEventListener(ny,A)},[]),C.jsx(Tt.div,{...l,ref:I,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,L.onPointerDownCapture)})});Nf.displayName=Y2;var eM="DismissableLayerBranch",MR=g.forwardRef((t,e)=>{const n=g.useContext(LR),r=g.useRef(null),s=Bt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),C.jsx(Tt.div,{...t,ref:s})});MR.displayName=eM;function tM(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){VR(Z2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nM(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&VR(J2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i0(){const t=new CustomEvent(ny);document.dispatchEvent(t)}function VR(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DR(s,i):s.dispatchEvent(i)}var rM=Nf,sM=MR,rs=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},iM="Portal",tv=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);rs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?fL.createPortal(C.jsx(Tt.div,{...r,ref:e}),o):null});tv.displayName=iM;function oM(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ll=t=>{const{present:e,children:n}=t,r=aM(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Bt(r.ref,lM(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};ll.displayName="Presence";function aM(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=oM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=dd(r.current);i.current=a==="mounted"?u:"none"},[a]),rs(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,y=dd(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),rs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=y=>{const _=dd(r.current).includes(CSS.escape(y.animationName));if(y.target===e&&_&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=y=>{y.target===e&&(i.current=dd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function dd(t){return(t==null?void 0:t.animationName)||"none"}function lM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cM=mf[" useInsertionEffect ".trim().toString()]||rs;function nv({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=uM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=g.useCallback(d=>{var h;if(a){const p=dM(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,u]}function uM({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return cM(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function dM(t){return typeof t=="function"}var hM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fM="VisuallyHidden",Of=g.forwardRef((t,e)=>C.jsx(Tt.span,{...t,ref:e,style:{...hM,...t.style}}));Of.displayName=fM;var pM=Of,rv="ToastProvider",[sv,mM,gM]=z2("Toast"),[FR]=al("Toast",[gM]),[yM,Df]=FR(rv),UR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rv}\`. Expected non-empty \`string\`.`),C.jsx(sv.Provider,{scope:e,children:C.jsx(yM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>d(y=>y+1),[]),onToastRemove:g.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};UR.displayName=rv;var jR="ToastViewport",_M=["F8"],ry="toast.viewportPause",sy="toast.viewportResume",BR=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=_M,label:s="Notifications ({hotkey})",...i}=t,o=Df(jR,n),a=mM(n),l=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=Bt(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;g.useEffect(()=>{const E=w=>{var T;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),g.useEffect(()=>{const E=l.current,w=h.current;if(I&&E&&w){const v=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(ry);w.dispatchEvent(V),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(sy);w.dispatchEvent(V),o.isClosePausedRef.current=!1}},k=V=>{!E.contains(V.relatedTarget)&&T()},L=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",v),E.addEventListener("focusout",k),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",L),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",k),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",L),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[I,o.isClosePausedRef]);const _=g.useCallback(({tabbingDirection:E})=>{const v=a().map(T=>{const k=T.ref.current,L=[k,...PM(k)];return E==="forwards"?L:L.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return g.useEffect(()=>{const E=h.current;if(E){const w=v=>{var L,V,A;const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const S=document.activeElement,x=v.shiftKey;if(v.target===E&&x){(L=u.current)==null||L.focus();return}const D=_({tabbingDirection:x?"backwards":"forwards"}),N=D.findIndex(H=>H===S);pm(D.slice(N+1))?v.preventDefault():x?(V=u.current)==null||V.focus():(A=d.current)==null||A.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,_]),C.jsxs(sM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&C.jsx(iy,{ref:u,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});pm(E)}}),C.jsx(sv.Slot,{scope:n,children:C.jsx(Tt.ol,{tabIndex:-1,...i,ref:p})}),I&&C.jsx(iy,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});pm(E)}})]})});BR.displayName=jR;var zR="ToastFocusProxy",iy=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Df(zR,n);return C.jsx(Of,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});iy.displayName=zR;var vu="Toast",vM="toast.swipeStart",wM="toast.swipeMove",EM="toast.swipeCancel",TM="toast.swipeEnd",$R=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=nv({prop:r,defaultProp:s??!0,onChange:i,caller:vu});return C.jsx(ll,{present:n||a,children:C.jsx(AM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Pr(t.onPause),onResume:Pr(t.onResume),onSwipeStart:Ye(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ye(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});$R.displayName=vu;var[SM,IM]=FR(vu,{onClose(){}}),AM=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:y,...I}=t,_=Df(vu,n),[E,w]=g.useState(null),v=Bt(e,H=>w(H)),T=g.useRef(null),k=g.useRef(null),L=s||_.duration,V=g.useRef(0),A=g.useRef(L),S=g.useRef(0),{onToastAdd:x,onToastRemove:P}=_,O=Pr(()=>{var ye;(E==null?void 0:E.contains(document.activeElement))&&((ye=_.viewport)==null||ye.focus()),o()}),D=g.useCallback(H=>{!H||H===1/0||(window.clearTimeout(S.current),V.current=new Date().getTime(),S.current=window.setTimeout(O,H))},[O]);g.useEffect(()=>{const H=_.viewport;if(H){const ye=()=>{D(A.current),u==null||u()},me=()=>{const Ie=new Date().getTime()-V.current;A.current=A.current-Ie,window.clearTimeout(S.current),l==null||l()};return H.addEventListener(ry,me),H.addEventListener(sy,ye),()=>{H.removeEventListener(ry,me),H.removeEventListener(sy,ye)}}},[_.viewport,L,l,u,D]),g.useEffect(()=>{i&&!_.isClosePausedRef.current&&D(L)},[i,L,_.isClosePausedRef,D]),g.useEffect(()=>(x(),()=>P()),[x,P]);const N=g.useMemo(()=>E?XR(E):null,[E]);return _.viewport?C.jsxs(C.Fragment,{children:[N&&C.jsx(bM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:N}),C.jsx(SM,{scope:n,onClose:O,children:gu.createPortal(C.jsx(sv.ItemSlot,{scope:n,children:C.jsx(rM,{asChild:!0,onEscapeKeyDown:Ye(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||O(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(Tt.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...I,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ye(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ye(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ye(t.onPointerMove,H=>{if(!T.current)return;const ye=H.clientX-T.current.x,me=H.clientY-T.current.y,Ie=!!k.current,B=["left","right"].includes(_.swipeDirection),Q=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,oe=B?Q(0,ye):0,z=B?0:Q(0,me),q=H.pointerType==="touch"?10:2,ae={x:oe,y:z},Ue={originalEvent:H,delta:ae};Ie?(k.current=ae,hd(wM,h,Ue,{discrete:!1})):o0(ae,_.swipeDirection,q)?(k.current=ae,hd(vM,d,Ue,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ye)>q||Math.abs(me)>q)&&(T.current=null)}),onPointerUp:Ye(t.onPointerUp,H=>{const ye=k.current,me=H.target;if(me.hasPointerCapture(H.pointerId)&&me.releasePointerCapture(H.pointerId),k.current=null,T.current=null,ye){const Ie=H.currentTarget,B={originalEvent:H,delta:ye};o0(ye,_.swipeDirection,_.swipeThreshold)?hd(TM,y,B,{discrete:!0}):hd(EM,p,B,{discrete:!0}),Ie.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),bM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Df(vu,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return xM(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:C.jsx(tv,{asChild:!0,children:C.jsx(Of,{...r,children:i&&C.jsxs(C.Fragment,{children:[s.label," ",n]})})})},RM="ToastTitle",qR=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(Tt.div,{...r,ref:e})});qR.displayName=RM;var CM="ToastDescription",WR=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(Tt.div,{...r,ref:e})});WR.displayName=CM;var HR="ToastAction",GR=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(QR,{altText:n,asChild:!0,children:C.jsx(iv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${HR}\`. Expected non-empty \`string\`.`),null)});GR.displayName=HR;var KR="ToastClose",iv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=IM(KR,n);return C.jsx(QR,{asChild:!0,children:C.jsx(Tt.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,s.onClose)})})});iv.displayName=KR;var QR=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return C.jsx(Tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function XR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),kM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...XR(r))}}),e}function hd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DR(s,i):s.dispatchEvent(i)}var o0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function xM(t=()=>{}){const e=Pr(t);rs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function kM(t){return t.nodeType===t.ELEMENT_NODE}function PM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var NM=UR,YR=BR,ZR=$R,JR=qR,eC=WR,tC=GR,nC=iv;function rC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rC(t))&&(r&&(r+=" "),r+=e);return r}const a0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,l0=sC,iC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return l0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=a0(d)||a0(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...y}=d;return Object.entries(y).every(I=>{let[_,E]=I;return Array.isArray(E)?E.includes({...i,...a}[_]):{...i,...a}[_]===E})?[...u,h,p]:u},[]);return l0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oC=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...DM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oC("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(LM,{ref:i,iconNode:e,className:oC(`lucide-${OM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=ov("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=ov("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=ov("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),av="-",UM=t=>{const e=BM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(av);return a[0]===""&&a.length!==1&&a.shift(),aC(a,e)||jM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},aC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?aC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(av);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},c0=/^\[(.+)\]$/,jM=t=>{if(c0.test(t)){const e=c0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $M(Object.entries(t.classGroups),n).forEach(([i,o])=>{oy(o,r,i,e)}),r},oy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:u0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(zM(s)){oy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{oy(o,u0(e,i),n,r)})})},u0=(t,e)=>{let n=t;return e.split(av).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zM=t=>t.isThemeGetter,$M=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,qM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},lC="!",WM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let E=0;E<a.length;E++){let w=a[E];if(u===0){if(w===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){h=E;continue}}w==="["?u++:w==="]"&&u--}const p=l.length===0?a:a.substring(d),y=p.startsWith(lC),I=y?p.substring(1):p,_=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:I,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},HM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},GM=t=>({cache:qM(t.cacheSize),parseClassName:WM(t),...UM(t)}),KM=/\s+/,QM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(KM);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}=n(u);let I=!!y,_=r(I?p.substring(0,y):p);if(!_){if(!I){a=u+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=u+(a.length>0?" "+a:a);continue}I=!1}const E=HM(d).join(":"),w=h?E+lC:E,v=w+_;if(i.includes(v))continue;i.push(v);const T=s(_,I);for(let k=0;k<T.length;++k){const L=T[k];i.push(w+L)}a=u+(a.length>0?" "+a:a)}return a};function XM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=cC(e))&&(r&&(r+=" "),r+=n);return r}const cC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=cC(t[r]))&&(n&&(n+=" "),n+=e);return n};function YM(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=GM(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=QM(l,n);return s(l,d),d}return function(){return i(XM.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},uC=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZM=/^\d+\/\d+$/,JM=new Set(["px","full","screen"]),eV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fr=t=>ua(t)||JM.has(t)||ZM.test(t),Is=t=>cl(t,"length",hV),ua=t=>!!t&&!Number.isNaN(Number(t)),mm=t=>cl(t,"number",ua),Ql=t=>!!t&&Number.isInteger(Number(t)),iV=t=>t.endsWith("%")&&ua(t.slice(0,-1)),Te=t=>uC.test(t),As=t=>eV.test(t),oV=new Set(["length","size","percentage"]),aV=t=>cl(t,oV,dC),lV=t=>cl(t,"position",dC),cV=new Set(["image","url"]),uV=t=>cl(t,cV,pV),dV=t=>cl(t,"",fV),Xl=()=>!0,cl=(t,e,n)=>{const r=uC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hV=t=>tV.test(t)&&!nV.test(t),dC=()=>!1,fV=t=>rV.test(t),pV=t=>sV.test(t),mV=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),o=Qe("borderSpacing"),a=Qe("borderWidth"),l=Qe("contrast"),u=Qe("grayscale"),d=Qe("hueRotate"),h=Qe("invert"),p=Qe("gap"),y=Qe("gradientColorStops"),I=Qe("gradientColorStopPositions"),_=Qe("inset"),E=Qe("margin"),w=Qe("opacity"),v=Qe("padding"),T=Qe("saturate"),k=Qe("scale"),L=Qe("sepia"),V=Qe("skew"),A=Qe("space"),S=Qe("translate"),x=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Te,e],D=()=>[Te,e],N=()=>["",Fr,Is],H=()=>["auto",ua,Te],ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",Te],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ua,Te];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[Fr,Is],blur:["none","",As,Te],brightness:z(),borderColor:[t],borderRadius:["none","","full",As,Te],borderSpacing:D(),borderWidth:N(),contrast:z(),grayscale:Q(),hueRotate:z(),invert:Q(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[iV,Is],inset:O(),margin:O(),opacity:z(),padding:D(),saturate:z(),scale:z(),sepia:Q(),skew:z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ye(),Te]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ql,Te]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Ql,Te]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Ql,Te]},Te]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Ql,Te]},Te]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mm]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",ua,mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fr,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fr,Is]}],"underline-offset":[{"underline-offset":["auto",Fr,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ye(),lV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:me()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[Fr,Te]}],"outline-w":[{outline:[Fr,Is]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Fr,Is]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",As,dV]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",As,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ql,Te]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fr,Is,mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gV=YM(mV);function $t(...t){return gV(sC(t))}const yV=NM,hC=g.forwardRef(({className:t,...e},n)=>C.jsx(YR,{ref:n,className:$t("fixed top-0 z-[100] flex max-h-screen w-full flex-col p-4 sm:right-0 md:max-w-[420px]",t),...e}));hC.displayName=YR.displayName;const _V=iC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fC=g.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(ZR,{ref:r,className:$t(_V({variant:e}),t),...n}));fC.displayName=ZR.displayName;const vV=g.forwardRef(({className:t,...e},n)=>C.jsx(tC,{ref:n,className:$t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vV.displayName=tC.displayName;const pC=g.forwardRef(({className:t,...e},n)=>C.jsx(nC,{ref:n,className:$t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(FM,{className:"h-4 w-4"})}));pC.displayName=nC.displayName;const mC=g.forwardRef(({className:t,...e},n)=>C.jsx(JR,{ref:n,className:$t("text-sm font-semibold",t),...e}));mC.displayName=JR.displayName;const gC=g.forwardRef(({className:t,...e},n)=>C.jsx(eC,{ref:n,className:$t("text-sm opacity-90",t),...e}));gC.displayName=eC.displayName;function wV(){const{toasts:t}=OR();return C.jsxs(yV,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return C.jsxs(fC,{...i,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(mC,{children:n}),r&&C.jsx(gC,{children:r})]}),s,C.jsx(pC,{})]},e)}),C.jsx(hC,{})]})}var EV=mf[" useId ".trim().toString()]||(()=>{}),TV=0;function Hd(t){const[e,n]=g.useState(EV());return rs(()=>{n(r=>r??String(TV++))},[t]),t||(e?`radix-${e}`:"")}const SV=["top","right","bottom","left"],pi=Math.min,Tn=Math.max,Mh=Math.round,fd=Math.floor,Sr=t=>({x:t,y:t}),IV={left:"right",right:"left",bottom:"top",top:"bottom"},AV={start:"end",end:"start"};function ay(t,e,n){return Tn(t,pi(e,n))}function ss(t,e){return typeof t=="function"?t(e):t}function is(t){return t.split("-")[0]}function ul(t){return t.split("-")[1]}function lv(t){return t==="x"?"y":"x"}function cv(t){return t==="y"?"height":"width"}const bV=new Set(["top","bottom"]);function vr(t){return bV.has(is(t))?"y":"x"}function uv(t){return lv(vr(t))}function RV(t,e,n){n===void 0&&(n=!1);const r=ul(t),s=uv(t),i=cv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vh(o)),[o,Vh(o)]}function CV(t){const e=Vh(t);return[ly(t),e,ly(e)]}function ly(t){return t.replace(/start|end/g,e=>AV[e])}const d0=["left","right"],h0=["right","left"],xV=["top","bottom"],kV=["bottom","top"];function PV(t,e,n){switch(t){case"top":case"bottom":return n?e?h0:d0:e?d0:h0;case"left":case"right":return e?xV:kV;default:return[]}}function NV(t,e,n,r){const s=ul(t);let i=PV(is(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ly)))),i}function Vh(t){return t.replace(/left|right|bottom|top/g,e=>IV[e])}function OV(t){return{top:0,right:0,bottom:0,left:0,...t}}function yC(t){return typeof t!="number"?OV(t):{top:t,right:t,bottom:t,left:t}}function Fh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function f0(t,e,n){let{reference:r,floating:s}=t;const i=vr(e),o=uv(e),a=cv(o),l=is(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-s.width,y:h};break;default:y={x:r.x,y:r.y}}switch(ul(e)){case"start":y[o]-=p*(n&&u?-1:1);break;case"end":y[o]+=p*(n&&u?-1:1);break}return y}const DV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=f0(u,r,l),p=r,y={},I=0;for(let _=0;_<a.length;_++){const{name:E,fn:w}=a[_],{x:v,y:T,data:k,reset:L}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=T??h,y={...y,[E]:{...y[E],...k}},L&&I<=50&&(I++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:d,y:h}=f0(u,p,l)),_=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:y}};async function Kc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=ss(e,t),I=yC(y),E=a[p?h==="floating"?"reference":"floating":h],w=Fh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},L=Fh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:l}):v);return{top:(w.top-L.top+I.top)/k.y,bottom:(L.bottom-w.bottom+I.bottom)/k.y,left:(w.left-L.left+I.left)/k.x,right:(L.right-w.right+I.right)/k.x}}const LV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=ss(t,e)||{};if(u==null)return{};const h=yC(d),p={x:n,y:r},y=uv(s),I=cv(y),_=await o.getDimensions(u),E=y==="y",w=E?"top":"left",v=E?"bottom":"right",T=E?"clientHeight":"clientWidth",k=i.reference[I]+i.reference[y]-p[y]-i.floating[I],L=p[y]-i.reference[y],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=V?V[T]:0;(!A||!await(o.isElement==null?void 0:o.isElement(V)))&&(A=a.floating[T]||i.floating[I]);const S=k/2-L/2,x=A/2-_[I]/2-1,P=pi(h[w],x),O=pi(h[v],x),D=P,N=A-_[I]-O,H=A/2-_[I]/2+S,ye=ay(D,H,N),me=!l.arrow&&ul(s)!=null&&H!==ye&&i.reference[I]/2-(H<D?P:O)-_[I]/2<0,Ie=me?H<D?H-D:H-N:0;return{[y]:p[y]+Ie,data:{[y]:ye,centerOffset:H-ye-Ie,...me&&{alignmentOffset:Ie}},reset:me}}}),MV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:_=!0,...E}=ss(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=is(s),v=vr(a),T=is(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),L=p||(T||!_?[Vh(a)]:CV(a)),V=I!=="none";!p&&V&&L.push(...NV(a,_,I,k));const A=[a,...L],S=await Kc(e,E),x=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&x.push(S[w]),h){const H=RV(s,o,k);x.push(S[H[0]],S[H[1]])}if(P=[...P,{placement:s,overflows:x}],!x.every(H=>H<=0)){var O,D;const H=(((O=i.flip)==null?void 0:O.index)||0)+1,ye=A[H];if(ye&&(!(h==="alignment"?v!==vr(ye):!1)||P.every(B=>vr(B.placement)===v?B.overflows[0]>0:!0)))return{data:{index:H,overflows:P},reset:{placement:ye}};let me=(D=P.filter(Ie=>Ie.overflows[0]<=0).sort((Ie,B)=>Ie.overflows[1]-B.overflows[1])[0])==null?void 0:D.placement;if(!me)switch(y){case"bestFit":{var N;const Ie=(N=P.filter(B=>{if(V){const Q=vr(B.placement);return Q===v||Q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Q=>Q>0).reduce((Q,oe)=>Q+oe,0)]).sort((B,Q)=>B[1]-Q[1])[0])==null?void 0:N[0];Ie&&(me=Ie);break}case"initialPlacement":me=a;break}if(s!==me)return{reset:{placement:me}}}return{}}}};function p0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function m0(t){return SV.some(e=>t[e]>=0)}const VV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ss(t,e);switch(r){case"referenceHidden":{const i=await Kc(e,{...s,elementContext:"reference"}),o=p0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:m0(o)}}}case"escaped":{const i=await Kc(e,{...s,altBoundary:!0}),o=p0(i,n.floating);return{data:{escapedOffsets:o,escaped:m0(o)}}}default:return{}}}}},_C=new Set(["left","top"]);async function FV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=is(n),a=ul(n),l=vr(n)==="y",u=_C.has(o)?-1:1,d=i&&l?-1:1,h=ss(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:I}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof I=="number"&&(y=a==="end"?I*-1:I),l?{x:y*d,y:p*u}:{x:p*u,y:y*d}}const UV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await FV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},jV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:v}=E;return{x:w,y:v}}},...l}=ss(t,e),u={x:n,y:r},d=await Kc(e,l),h=vr(is(s)),p=lv(h);let y=u[p],I=u[h];if(i){const E=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=y+d[E],T=y-d[w];y=ay(v,y,T)}if(o){const E=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=I+d[E],T=I-d[w];I=ay(v,I,T)}const _=a.fn({...e,[p]:y,[h]:I});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[h]:o}}}}}},BV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ss(t,e),d={x:n,y:r},h=vr(s),p=lv(h);let y=d[p],I=d[h];const _=ss(a,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const T=p==="y"?"height":"width",k=i.reference[p]-i.floating[T]+E.mainAxis,L=i.reference[p]+i.reference[T]-E.mainAxis;y<k?y=k:y>L&&(y=L)}if(u){var w,v;const T=p==="y"?"width":"height",k=_C.has(is(s)),L=i.reference[h]-i.floating[T]+(k&&((w=o.offset)==null?void 0:w[h])||0)+(k?0:E.crossAxis),V=i.reference[h]+i.reference[T]+(k?0:((v=o.offset)==null?void 0:v[h])||0)-(k?E.crossAxis:0);I<L?I=L:I>V&&(I=V)}return{[p]:y,[h]:I}}}},zV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ss(t,e),d=await Kc(e,u),h=is(s),p=ul(s),y=vr(s)==="y",{width:I,height:_}=i.floating;let E,w;h==="top"||h==="bottom"?(E=h,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,E=p==="end"?"top":"bottom");const v=_-d.top-d.bottom,T=I-d.left-d.right,k=pi(_-d[E],v),L=pi(I-d[w],T),V=!e.middlewareData.shift;let A=k,S=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=v),V&&!p){const P=Tn(d.left,0),O=Tn(d.right,0),D=Tn(d.top,0),N=Tn(d.bottom,0);y?S=I-2*(P!==0||O!==0?P+O:Tn(d.left,d.right)):A=_-2*(D!==0||N!==0?D+N:Tn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:A});const x=await o.getDimensions(a.floating);return I!==x.width||_!==x.height?{reset:{rects:!0}}:{}}}};function Lf(){return typeof window<"u"}function dl(t){return vC(t)?(t.nodeName||"").toLowerCase():"#document"}function Cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mr(t){var e;return(e=(vC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vC(t){return Lf()?t instanceof Node||t instanceof Cn(t).Node:!1}function sr(t){return Lf()?t instanceof Element||t instanceof Cn(t).Element:!1}function Nr(t){return Lf()?t instanceof HTMLElement||t instanceof Cn(t).HTMLElement:!1}function g0(t){return!Lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cn(t).ShadowRoot}const $V=new Set(["inline","contents"]);function wu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!$V.has(s)}const qV=new Set(["table","td","th"]);function WV(t){return qV.has(dl(t))}const HV=[":popover-open",":modal"];function Mf(t){return HV.some(e=>{try{return t.matches(e)}catch{return!1}})}const GV=["transform","translate","scale","rotate","perspective"],KV=["transform","translate","scale","rotate","perspective","filter"],QV=["paint","layout","strict","content"];function dv(t){const e=hv(),n=sr(t)?ir(t):t;return GV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KV.some(r=>(n.willChange||"").includes(r))||QV.some(r=>(n.contain||"").includes(r))}function XV(t){let e=mi(t);for(;Nr(e)&&!Ba(e);){if(dv(e))return e;if(Mf(e))return null;e=mi(e)}return null}function hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YV=new Set(["html","body","#document"]);function Ba(t){return YV.has(dl(t))}function ir(t){return Cn(t).getComputedStyle(t)}function Vf(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mi(t){if(dl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||g0(t)&&t.host||Mr(t);return g0(e)?e.host:e}function wC(t){const e=mi(t);return Ba(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nr(e)&&wu(e)?e:wC(e)}function Qc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=wC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=cy(o);return e.concat(o,o.visualViewport||[],wu(s)?s:[],a&&n?Qc(a):[])}return e.concat(s,Qc(s,[],n))}function cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EC(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Nr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Mh(n)!==i||Mh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function fv(t){return sr(t)?t:t.contextElement}function da(t){const e=fv(t);if(!Nr(e))return Sr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=EC(e);let o=(i?Mh(n.width):n.width)/r,a=(i?Mh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ZV=Sr(0);function TC(t){const e=Cn(t);return!hv()||!e.visualViewport?ZV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cn(t)?!1:e}function yo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=fv(t);let o=Sr(1);e&&(r?sr(r)&&(o=da(r)):o=da(t));const a=JV(i,n,r)?TC(i):Sr(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=Cn(i),y=r&&sr(r)?Cn(r):r;let I=p,_=cy(I);for(;_&&r&&y!==I;){const E=da(_),w=_.getBoundingClientRect(),v=ir(_),T=w.left+(_.clientLeft+parseFloat(v.paddingLeft))*E.x,k=w.top+(_.clientTop+parseFloat(v.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,h*=E.y,l+=T,u+=k,I=Cn(_),_=cy(I)}}return Fh({width:d,height:h,x:l,y:u})}function Ff(t,e){const n=Vf(t).scrollLeft;return e?e.left+n:yo(Mr(t)).left+n}function SC(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ff(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function eF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Mr(r),a=e?Mf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Sr(1);const d=Sr(0),h=Nr(r);if((h||!h&&!i)&&((dl(r)!=="body"||wu(o))&&(l=Vf(r)),Nr(r))){const y=yo(r);u=da(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const p=o&&!h&&!i?SC(o,l):Sr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function tF(t){return Array.from(t.getClientRects())}function nF(t){const e=Mr(t),n=Vf(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ff(t);const a=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const y0=25;function rF(t,e){const n=Cn(t),r=Mr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=hv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Ff(r);if(u<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),y=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,I=Math.abs(r.clientWidth-h.clientWidth-y);I<=y0&&(i-=I)}else u<=y0&&(i+=u);return{width:i,height:o,x:a,y:l}}const sF=new Set(["absolute","fixed"]);function iF(t,e){const n=yo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Nr(t)?da(t):Sr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function _0(t,e,n){let r;if(e==="viewport")r=rF(t,n);else if(e==="document")r=nF(Mr(t));else if(sr(e))r=iF(e,n);else{const s=TC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fh(r)}function IC(t,e){const n=mi(t);return n===e||!sr(n)||Ba(n)?!1:ir(n).position==="fixed"||IC(n,e)}function oF(t,e){const n=e.get(t);if(n)return n;let r=Qc(t,[],!1).filter(a=>sr(a)&&dl(a)!=="body"),s=null;const i=ir(t).position==="fixed";let o=i?mi(t):t;for(;sr(o)&&!Ba(o);){const a=ir(o),l=dv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&sF.has(s.position)||wu(o)&&!l&&IC(t,o))?r=r.filter(d=>d!==o):s=a,o=mi(o)}return e.set(t,r),r}function aF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Mf(e)?[]:oF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=_0(e,d,s);return u.top=Tn(h.top,u.top),u.right=pi(h.right,u.right),u.bottom=pi(h.bottom,u.bottom),u.left=Tn(h.left,u.left),u},_0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lF(t){const{width:e,height:n}=EC(t);return{width:e,height:n}}function cF(t,e,n){const r=Nr(e),s=Mr(e),i=n==="fixed",o=yo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Sr(0);function u(){l.x=Ff(s)}if(r||!r&&!i)if((dl(e)!=="body"||wu(s))&&(a=Vf(e)),r){const y=yo(e,!0,i,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?SC(s,a):Sr(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function gm(t){return ir(t).position==="static"}function v0(t,e){if(!Nr(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mr(t)===n&&(n=n.ownerDocument.body),n}function AC(t,e){const n=Cn(t);if(Mf(t))return n;if(!Nr(t)){let s=mi(t);for(;s&&!Ba(s);){if(sr(s)&&!gm(s))return s;s=mi(s)}return n}let r=v0(t,e);for(;r&&WV(r)&&gm(r);)r=v0(r,e);return r&&Ba(r)&&gm(r)&&!dv(r)?n:r||XV(t)||n}const uF=async function(t){const e=this.getOffsetParent||AC,n=this.getDimensions,r=await n(t.floating);return{reference:cF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dF(t){return ir(t).direction==="rtl"}const hF={convertOffsetParentRelativeRectToViewportRelativeRect:eF,getDocumentElement:Mr,getClippingRect:aF,getOffsetParent:AC,getElementRects:uF,getClientRects:tF,getDimensions:lF,getScale:da,isElement:sr,isRTL:dF};function bC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fF(t,e){let n=null,r;const s=Mr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:y}=u;if(a||e(),!p||!y)return;const I=fd(h),_=fd(s.clientWidth-(d+p)),E=fd(s.clientHeight-(h+y)),w=fd(d),T={rootMargin:-I+"px "+-_+"px "+-E+"px "+-w+"px",threshold:Tn(0,pi(1,l))||1};let k=!0;function L(V){const A=V[0].intersectionRatio;if(A!==l){if(!k)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!bC(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(L,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,T)}n.observe(t)}return o(!0),i}function pF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=fv(t),d=s||i?[...u?Qc(u):[],...Qc(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&a?fF(u,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let I,_=l?yo(t):null;l&&E();function E(){const w=yo(t);_&&!bC(_,w)&&n(),_=w,I=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(w=y)==null||w.disconnect(),y=null,l&&cancelAnimationFrame(I)}}const mF=UV,gF=jV,yF=MV,_F=zV,vF=VV,w0=LV,wF=BV,EF=(t,e,n)=>{const r=new Map,s={platform:hF,...n},i={...s.platform,_c:r};return DV(t,e,{...s,platform:i})};var TF=typeof document<"u",SF=function(){},Gd=TF?g.useLayoutEffect:SF;function Uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Uh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function RC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E0(t,e){const n=RC(t);return Math.round(e*n)/n}function ym(t){const e=g.useRef(t);return Gd(()=>{e.current=t}),e}function IF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=g.useState(r);Uh(p,r)||y(r);const[I,_]=g.useState(null),[E,w]=g.useState(null),v=g.useCallback(B=>{B!==V.current&&(V.current=B,_(B))},[]),T=g.useCallback(B=>{B!==A.current&&(A.current=B,w(B))},[]),k=i||I,L=o||E,V=g.useRef(null),A=g.useRef(null),S=g.useRef(d),x=l!=null,P=ym(l),O=ym(s),D=ym(u),N=g.useCallback(()=>{if(!V.current||!A.current)return;const B={placement:e,strategy:n,middleware:p};O.current&&(B.platform=O.current),EF(V.current,A.current,B).then(Q=>{const oe={...Q,isPositioned:D.current!==!1};H.current&&!Uh(S.current,oe)&&(S.current=oe,gu.flushSync(()=>{h(oe)}))})},[p,e,n,O,D]);Gd(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[u]);const H=g.useRef(!1);Gd(()=>(H.current=!0,()=>{H.current=!1}),[]),Gd(()=>{if(k&&(V.current=k),L&&(A.current=L),k&&L){if(P.current)return P.current(k,L,N);N()}},[k,L,N,P,x]);const ye=g.useMemo(()=>({reference:V,floating:A,setReference:v,setFloating:T}),[v,T]),me=g.useMemo(()=>({reference:k,floating:L}),[k,L]),Ie=g.useMemo(()=>{const B={position:n,left:0,top:0};if(!me.floating)return B;const Q=E0(me.floating,d.x),oe=E0(me.floating,d.y);return a?{...B,transform:"translate("+Q+"px, "+oe+"px)",...RC(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:oe}},[n,a,me.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:N,refs:ye,elements:me,floatingStyles:Ie}),[d,N,ye,me,Ie])}const AF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?w0({element:r.current,padding:s}).fn(n):{}:r?w0({element:r,padding:s}).fn(n):{}}}},bF=(t,e)=>({...mF(t),options:[t,e]}),RF=(t,e)=>({...gF(t),options:[t,e]}),CF=(t,e)=>({...wF(t),options:[t,e]}),xF=(t,e)=>({...yF(t),options:[t,e]}),kF=(t,e)=>({..._F(t),options:[t,e]}),PF=(t,e)=>({...vF(t),options:[t,e]}),NF=(t,e)=>({...AF(t),options:[t,e]});var OF="Arrow",CC=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return C.jsx(Tt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});CC.displayName=OF;var DF=CC;function LF(t){const[e,n]=g.useState(void 0);return rs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pv="Popper",[xC,kC]=al(pv),[MF,PC]=xC(pv),NC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return C.jsx(MF,{scope:e,anchor:r,onAnchorChange:s,children:n})};NC.displayName=pv;var OC="PopperAnchor",DC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=PC(OC,n),o=g.useRef(null),a=Bt(e,o),l=g.useRef(null);return g.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||o.current,u!==l.current&&i.onAnchorChange(l.current)}),r?null:C.jsx(Tt.div,{...s,ref:a})});DC.displayName=OC;var mv="PopperContent",[VF,FF]=xC(mv),LC=g.forwardRef((t,e)=>{var pe,Ae,cn,De,lt,Zt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:I,..._}=t,E=PC(mv,n),[w,v]=g.useState(null),T=Bt(e,St=>v(St)),[k,L]=g.useState(null),V=LF(k),A=(V==null?void 0:V.width)??0,S=(V==null?void 0:V.height)??0,x=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],D=O.length>0,N={padding:P,boundary:O.filter(jF),altBoundary:D},{refs:H,floatingStyles:ye,placement:me,isPositioned:Ie,middlewareData:B}=IF({strategy:"fixed",placement:x,whileElementsMounted:(...St)=>pF(...St,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[bF({mainAxis:s+S,alignmentAxis:o}),l&&RF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?CF():void 0,...N}),l&&xF({...N}),kF({...N,apply:({elements:St,rects:je,availableWidth:Dt,availableHeight:Sl})=>{const{width:Il,height:Nu}=je.reference,ft=St.floating.style;ft.setProperty("--radix-popper-available-width",`${Dt}px`),ft.setProperty("--radix-popper-available-height",`${Sl}px`),ft.setProperty("--radix-popper-anchor-width",`${Il}px`),ft.setProperty("--radix-popper-anchor-height",`${Nu}px`)}}),k&&NF({element:k,padding:a}),BF({arrowWidth:A,arrowHeight:S}),p&&PF({strategy:"referenceHidden",...N})]}),[Q,oe]=FC(me),z=Pr(I);rs(()=>{Ie&&(z==null||z())},[Ie,z]);const q=(pe=B.arrow)==null?void 0:pe.x,ae=(Ae=B.arrow)==null?void 0:Ae.y,Ue=((cn=B.arrow)==null?void 0:cn.centerOffset)!==0,[X,de]=g.useState();return rs(()=>{w&&de(window.getComputedStyle(w).zIndex)},[w]),C.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:Ie?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(De=B.transformOrigin)==null?void 0:De.x,(lt=B.transformOrigin)==null?void 0:lt.y].join(" "),...((Zt=B.hide)==null?void 0:Zt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(VF,{scope:n,placedSide:Q,onArrowChange:L,arrowX:q,arrowY:ae,shouldHideArrow:Ue,children:C.jsx(Tt.div,{"data-side":Q,"data-align":oe,..._,ref:T,style:{..._.style,animation:Ie?void 0:"none"}})})})});LC.displayName=mv;var MC="PopperArrow",UF={top:"bottom",right:"left",bottom:"top",left:"right"},VC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FF(MC,r),o=UF[i.placedSide];return C.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:C.jsx(DF,{...s,ref:n,style:{...s.style,display:"block"}})})});VC.displayName=MC;function jF(t){return t!==null}var BF=t=>({name:"transformOrigin",options:t,fn(e){var E,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=FC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,y=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let I="",_="";return u==="bottom"?(I=o?h:`${p}px`,_=`${-l}px`):u==="top"?(I=o?h:`${p}px`,_=`${r.floating.height+l}px`):u==="right"?(I=`${-l}px`,_=o?h:`${y}px`):u==="left"&&(I=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:I,y:_}}}});function FC(t){const[e,n="center"]=t.split("-");return[e,n]}var zF=NC,$F=DC,qF=LC,WF=VC,HF=Symbol("radix.slottable");function GF(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=HF,e}var[Uf]=al("Tooltip",[kC]),jf=kC(),UC="TooltipProvider",KF=700,uy="tooltip.open",[QF,gv]=Uf(UC),jC=t=>{const{__scopeTooltip:e,delayDuration:n=KF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),l=g.useRef(0);return g.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),C.jsx(QF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};jC.displayName=UC;var Xc="Tooltip",[XF,Bf]=Uf(Xc),BC=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=gv(Xc,t.__scopeTooltip),u=jf(e),[d,h]=g.useState(null),p=Hd(),y=g.useRef(0),I=o??l.disableHoverableContent,_=a??l.delayDuration,E=g.useRef(!1),[w,v]=nv({prop:r,defaultProp:s??!1,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(uy))):l.onClose(),i==null||i(A)},caller:Xc}),T=g.useMemo(()=>w?E.current?"delayed-open":"instant-open":"closed",[w]),k=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,E.current=!1,v(!0)},[v]),L=g.useCallback(()=>{window.clearTimeout(y.current),y.current=0,v(!1)},[v]),V=g.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{E.current=!0,v(!0),y.current=0},_)},[_,v]);return g.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),C.jsx(zF,{...u,children:C.jsx(XF,{scope:e,contentId:p,open:w,stateAttribute:T,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayedRef.current?V():k()},[l.isOpenDelayedRef,V,k]),onTriggerLeave:g.useCallback(()=>{I?L():(window.clearTimeout(y.current),y.current=0)},[L,I]),onOpen:k,onClose:L,disableHoverableContent:I,children:n})})};BC.displayName=Xc;var dy="TooltipTrigger",zC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bf(dy,n),i=gv(dy,n),o=jf(n),a=g.useRef(null),l=Bt(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),C.jsx($F,{asChild:!0,...o,children:C.jsx(Tt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ye(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ye(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ye(t.onBlur,s.onClose),onClick:Ye(t.onClick,s.onClose)})})});zC.displayName=dy;var YF="TooltipPortal",[tH,ZF]=Uf(YF,{forceMount:void 0}),za="TooltipContent",$C=g.forwardRef((t,e)=>{const n=ZF(za,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Bf(za,t.__scopeTooltip);return C.jsx(ll,{present:r||o.open,children:o.disableHoverableContent?C.jsx(qC,{side:s,...i,ref:e}):C.jsx(JF,{side:s,...i,ref:e})})}),JF=g.forwardRef((t,e)=>{const n=Bf(za,t.__scopeTooltip),r=gv(za,t.__scopeTooltip),s=g.useRef(null),i=Bt(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),y=g.useCallback((I,_)=>{const E=I.currentTarget,w={x:I.clientX,y:I.clientY},v=s4(w,E.getBoundingClientRect()),T=i4(w,v),k=o4(_.getBoundingClientRect()),L=l4([...T,...k]);a(L),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const I=E=>y(E,d),_=E=>y(E,l);return l.addEventListener("pointerleave",I),d.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",_)}}},[l,d,y,p]),g.useEffect(()=>{if(o){const I=_=>{const E=_.target,w={x:_.clientX,y:_.clientY},v=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!a4(w,o);v?p():T&&(p(),u())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[l,d,o,u,p]),C.jsx(qC,{...t,ref:i})}),[e4,t4]=Uf(Xc,{isInside:!1}),n4=GF("TooltipContent"),qC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bf(za,n),u=jf(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(uy,d),()=>document.removeEventListener(uy,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const y=p.target;y!=null&&y.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),C.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:C.jsxs(qF,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(n4,{children:r}),C.jsx(e4,{scope:n,isInside:!0,children:C.jsx(pM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});$C.displayName=za;var WC="TooltipArrow",r4=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=jf(n);return t4(WC,n).isInside?null:C.jsx(WF,{...s,...r,ref:e})});r4.displayName=WC;function s4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function i4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function o4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function a4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function l4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),c4(e)}function c4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var u4=jC,d4=BC,h4=zC,HC=$C;const f4=u4,nH=d4,rH=h4,p4=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(HC,{ref:r,sideOffset:e,className:$t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));p4.displayName=HC.displayName;const m4=()=>{};var T0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},g4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},KC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new y4;const p=i<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),h!==64){const I=u<<6&192|h;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _4=function(t){const e=GC(t);return KC.encodeByteArray(e,!0)},jh=function(t){return _4(t).replace(/\./g,"")},QC=function(t){try{return KC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=()=>v4().__FIREBASE_DEFAULTS__,E4=()=>{if(typeof process>"u"||typeof T0>"u")return;const t=T0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QC(t[1]);return e&&JSON.parse(e)},zf=()=>{try{return m4()||w4()||E4()||T4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XC=t=>{var e,n;return(n=(e=zf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},YC=t=>{const e=XC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZC=()=>{var t;return(t=zf())==null?void 0:t.config},JC=t=>{var e;return(e=zf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(o)),""].join(".")}const Tc={};function I4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?t.emulator.push(e):t.prod.push(e);return t}function A4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S0=!1;function _v(t,e){if(typeof window>"u"||typeof document>"u"||!xi(window.location.host)||Tc[t]===e||Tc[t]||S0)return;Tc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=I4().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{S0=!0,o()},p}function d(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=A4(r),y=n("text"),I=document.getElementById(y)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(E,_);const k=u();l(v,w),T.append(v,I,E,k),document.body.appendChild(T)}i?(I.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function R4(){var e;const t=(e=zf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P4(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N4(){return!R4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O4(){try{return typeof indexedDB=="object"}catch{return!1}}function D4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L4,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?M4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vr(s,a,r)}}function M4(t,e){return t.replace(V4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const V4=/\{\$([^}]+)}/g;function F4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function os(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(I0(i)&&I0(o)){if(!os(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function I0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function U4(t,e){const n=new j4(t,e);return n.subscribe.bind(n)}class j4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");B4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_m),s.error===void 0&&(s.error=_m),s.complete===void 0&&(s.complete=_m);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q4(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $4(t){return t===zi?void 0:t}function q4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const H4={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},G4=Ce.INFO,K4={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Q4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=K4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vv{constructor(e){this.name=e,this._logLevel=G4,this._logHandler=Q4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const X4=(t,e)=>e.some(n=>t instanceof n);let A0,b0;function Y4(){return A0||(A0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z4(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tx=new WeakMap,hy=new WeakMap,nx=new WeakMap,vm=new WeakMap,wv=new WeakMap;function J4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ii(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tx.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function eU(t){if(hy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hy.set(t,e)}let fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tU(t){fy=t(fy)}function nU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wm(this),e,...n);return nx.set(r,e.sort?e.sort():[e]),ii(r)}:Z4().includes(t)?function(...e){return t.apply(wm(this),e),ii(tx.get(this))}:function(...e){return ii(t.apply(wm(this),e))}}function rU(t){return typeof t=="function"?nU(t):(t instanceof IDBTransaction&&eU(t),X4(t,Y4())?new Proxy(t,fy):t)}function ii(t){if(t instanceof IDBRequest)return J4(t);if(vm.has(t))return vm.get(t);const e=rU(t);return e!==t&&(vm.set(t,e),wv.set(e,t)),e}const wm=t=>wv.get(t);function sU(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ii(o.result),l.oldVersion,l.newVersion,ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iU=["get","getKey","getAll","getAllKeys","count"],oU=["put","add","delete","clear"],Em=new Map;function R0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iU.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Em.set(e,i),i}tU(t=>({...t,get:(e,n,r)=>R0(e,n)||t.get(e,n,r),has:(e,n)=>!!R0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const py="@firebase/app",C0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new vv("@firebase/app"),cU="@firebase/app-compat",uU="@firebase/analytics-compat",dU="@firebase/analytics",hU="@firebase/app-check-compat",fU="@firebase/app-check",pU="@firebase/auth",mU="@firebase/auth-compat",gU="@firebase/database",yU="@firebase/data-connect",_U="@firebase/database-compat",vU="@firebase/functions",wU="@firebase/functions-compat",EU="@firebase/installations",TU="@firebase/installations-compat",SU="@firebase/messaging",IU="@firebase/messaging-compat",AU="@firebase/performance",bU="@firebase/performance-compat",RU="@firebase/remote-config",CU="@firebase/remote-config-compat",xU="@firebase/storage",kU="@firebase/storage-compat",PU="@firebase/firestore",NU="@firebase/ai",OU="@firebase/firestore-compat",DU="firebase",LU="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="[DEFAULT]",MU={[py]:"fire-core",[cU]:"fire-core-compat",[dU]:"fire-analytics",[uU]:"fire-analytics-compat",[fU]:"fire-app-check",[hU]:"fire-app-check-compat",[pU]:"fire-auth",[mU]:"fire-auth-compat",[gU]:"fire-rtdb",[yU]:"fire-data-connect",[_U]:"fire-rtdb-compat",[vU]:"fire-fn",[wU]:"fire-fn-compat",[EU]:"fire-iid",[TU]:"fire-iid-compat",[SU]:"fire-fcm",[IU]:"fire-fcm-compat",[AU]:"fire-perf",[bU]:"fire-perf-compat",[RU]:"fire-rc",[CU]:"fire-rc-compat",[xU]:"fire-gcs",[kU]:"fire-gcs-compat",[PU]:"fire-fst",[OU]:"fire-fst-compat",[NU]:"fire-vertex","fire-js":"fire-js",[DU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,VU=new Map,gy=new Map;function x0(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _o(t){const e=t.name;if(gy.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;gy.set(e,t);for(const n of Bh.values())x0(n,t);for(const n of VU.values())x0(n,t);return!0}function $f(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new Eu("app","Firebase",FU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=LU;function rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:my,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw oi.create("bad-app-name",{appName:String(s)});if(n||(n=ZC()),!n)throw oi.create("no-options");const i=Bh.get(s);if(i){if(os(n,i.options)&&os(r,i.config))return i;throw oi.create("duplicate-app",{appName:s})}const o=new W4(s);for(const l of gy.values())o.addComponent(l);const a=new UU(n,r,o);return Bh.set(s,a),a}function Ev(t=my){const e=Bh.get(t);if(!e&&t===my&&ZC())return rx();if(!e)throw oi.create("no-app",{appName:t});return e}function Ir(t,e,n){let r=MU[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}_o(new gi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="firebase-heartbeat-database",BU=1,Yc="firebase-heartbeat-store";let Tm=null;function sx(){return Tm||(Tm=sU(jU,BU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oi.create("idb-open",{originalErrorMessage:t.message})})),Tm}async function zU(t){try{const n=(await sx()).transaction(Yc),r=await n.objectStore(Yc).get(ix(t));return await n.done,r}catch(e){if(e instanceof Vr)as.warn(e.message);else{const n=oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function k0(t,e){try{const r=(await sx()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,ix(t)),await r.done}catch(n){if(n instanceof Vr)as.warn(n.message);else{const r=oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function ix(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=1024,qU=30;class WU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=P0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>qU){const o=KU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){as.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P0(),{heartbeatsToSend:r,unsentEntries:s}=HU(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return as.warn(n),""}}}function P0(){return new Date().toISOString().substring(0,10)}function HU(t,e=$U){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),N0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O4()?D4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N0(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function KU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){_o(new gi("platform-logger",e=>new aU(e),"PRIVATE")),_o(new gi("heartbeat",e=>new WU(e),"PRIVATE")),Ir(py,C0,t),Ir(py,C0,"esm2020"),Ir("fire-js","")}QU("");var XU="firebase",YU="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(XU,YU,"app");function ox(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZU=ox,ax=new Eu("auth","Firebase",ox());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new vv("@firebase/auth");function JU(t,...e){zh.logLevel<=Ce.WARN&&zh.warn(`Auth (${xo}): ${t}`,...e)}function Kd(t,...e){zh.logLevel<=Ce.ERROR&&zh.error(`Auth (${xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw Sv(t,...e)}function tr(t,...e){return Sv(t,...e)}function Tv(t,e,n){const r={...ZU(),[e]:n};return new Eu("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return Tv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Or(t,"argument-error"),Tv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ax.create(t,...e)}function he(t,e,...n){if(!t)throw Sv(e,...n)}function Gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kd(e),new Error(e)}function ls(t,e){t||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ej(){return O0()==="http:"||O0()==="https:"}function O0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ej()||x4()||"connection"in navigator)?navigator.onLine:!0}function nj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=b4()||k4()}get(){return tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ij=new Su(3e4,6e4);function Av(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hl(t,e,n,r,s={}){return ux(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Tu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return C4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&xi(t.emulatorConfig.host)&&(u.credentials="include"),cx.fetch()(await dx(t,t.config.apiHost,n,a),u)})}async function ux(t,e,n){t._canInitEmulator=!1;const r={...rj,...e};try{const s=new aj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw pd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Tv(t,d,u);Or(t,d)}}catch(s){if(s instanceof Vr)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function oj(t,e,n,r,s={}){const i=await hl(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dx(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Iv(t.config,s):`${t.config.apiScheme}://${s}`;return sj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class aj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),ij.get())})}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=tr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return hl(t,"POST","/v1/accounts:delete",e)}async function $h(t,e){return hl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cj(t,e=!1){const n=it(t),r=await n.getIdToken(e),s=bv(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sc(Sm(s.auth_time)),issuedAtTime:Sc(Sm(s.iat)),expirationTime:Sc(Sm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sm(t){return Number(t)*1e3}function bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const s=QC(n);return s?JSON.parse(s):(Kd("Failed to decode base64 JWT payload"),null)}catch(s){return Kd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function D0(t){const e=bv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&uj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Zc(t,$h(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?hx(s.providerUserInfo):[],o=fj(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function hj(t){const e=it(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){const n=await ux(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await dx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&xi(t.emulatorConfig.host)&&(l.credentials="include"),cx.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mj(t,e){return hl(t,"POST","/v2/accounts:revokeToken",Av(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await pj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ha;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _y(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cj(this,e)}reload(){return hj(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await Zc(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:y,providerData:I,stsTokenManager:_}=n;he(h&&_,e,"internal-error");const E=ha.fromJSON(this.name,_);he(typeof h=="string",e,"internal-error"),bs(r,e.name),bs(s,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof y=="boolean",e,"internal-error"),bs(i,e.name),bs(o,e.name),bs(a,e.name),bs(l,e.name),bs(u,e.name),bs(d,e.name);const w=new Zn({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return I&&Array.isArray(I)&&(w.providerData=I.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new ha;s.updateFromServerResponse(n);const i=new Zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?hx(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ha;a.updateFromIdToken(r);const l=new Zn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;function Kr(t){ls(t instanceof Function,"Expected a class definition");let e=L0.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fx.type="NONE";const M0=fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t,e,n){return`firebase:${t}:${e}:${n}`}class fa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $h(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fa(Kr(M0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Kr(M0);const o=Qd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await $h(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Zn._fromGetAccountInfoResponse(e,p,d)}else h=Zn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new fa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new fa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vx(e))return"Blackberry";if(wx(e))return"Webos";if(mx(e))return"Safari";if((e.includes("chrome/")||gx(e))&&!e.includes("edge/"))return"Chrome";if(_x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function px(t=Yt()){return/firefox\//i.test(t)}function mx(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gx(t=Yt()){return/crios\//i.test(t)}function yx(t=Yt()){return/iemobile/i.test(t)}function _x(t=Yt()){return/android/i.test(t)}function vx(t=Yt()){return/blackberry/i.test(t)}function wx(t=Yt()){return/webos/i.test(t)}function Rv(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gj(t=Yt()){var e;return Rv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yj(){return P4()&&document.documentMode===10}function Ex(t=Yt()){return Rv(t)||_x(t)||wx(t)||vx(t)||/windows phone/i.test(t)||yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e=[]){let n;switch(t){case"Browser":n=V0(Yt());break;case"Worker":n=`${V0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e={}){return hl(t,"GET","/v2/passwordPolicy",Av(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=6;class Ej{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new _j(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await fa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $h(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ai(this));const n=e?it(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),n=new Ej(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await fa.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&JU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fl(t){return it(t)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=U4(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sj(t){Cv=t}function Ij(t){return Cv.loadJS(t)}function Aj(){return Cv.gapiScript}function bj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t,e){const n=$f(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(os(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function Cj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xj(t,e,n){const r=fl(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Sx(e),{host:o,port:a}=kj(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(os(u,r.config.emulator)&&os(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,xi(o)?(yv(`${i}//${o}${l}`),_v("Auth",!0)):Pj()}function Sx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kj(t){const e=Sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:U0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:U0(o)}}}function U0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e){return oj(t,"POST","/v1/accounts:signInWithIdp",Av(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="http://localhost";class cs extends Ix{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new cs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pa(e,n)}buildRequest(){const e={requestUri:Nj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends qf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ma extends pl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return he("providerId"in n&&"signInMethod"in n,"argument-error"),cs._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return he(e.idToken||e.accessToken,"argument-error"),cs._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return ma.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ma.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:i,nonce:o,providerId:a}=e;if(!r&&!s&&!n&&!i||!a)return null;try{return new ma(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends pl{constructor(){super("facebook.com")}static credential(e){return cs._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cs._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends pl{constructor(){super("github.com")}static credential(e){return cs._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends pl{constructor(){super("twitter.com")}static credential(e,n){return cs._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Zn._fromIdTokenResponse(e,r,s),o=j0(r);return new $a({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=j0(r);return new $a({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function j0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Vr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wh(e,n,r,s)}}function Ax(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,i,e,r):i})}async function Oj(t,e,n=!1){const r=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(ai(r));const s="reauthenticate";try{const i=await Zc(t,Ax(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=bv(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),$a._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e,n=!1){if(Sn(t.app))return Promise.reject(ai(t));const r="signIn",s=await Ax(t,r,e),i=await $a._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Mj(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function Vj(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function Fj(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function Uj(t){return it(t).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=1e3,Bj=10;class Rx extends bx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);yj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Bj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rx.type="LOCAL";const zj=Rx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends bx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Cx.type="SESSION";const xx=Cx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await $j(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=xv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function Wj(t){Ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function Hj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Kj(){return kx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebaseLocalStorageDb",Qj=1,Gh="firebaseLocalStorage",Nx="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function Xj(){const t=indexedDB.deleteDatabase(Px);return new Iu(t).toPromise()}function vy(){const t=indexedDB.open(Px,Qj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gh,{keyPath:Nx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await Xj(),e(await vy()))})})}async function B0(t,e,n){const r=Hf(t,!0).put({[Nx]:e,value:n});return new Iu(r).toPromise()}async function Yj(t,e){const n=Hf(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function z0(t,e){const n=Hf(t,!0).delete(e);return new Iu(n).toPromise()}const Zj=800,Jj=3;class Ox{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(Kj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Hj(),!this.activeServiceWorker)return;this.sender=new qj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vy();return await B0(e,Hh,"1"),await z0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>B0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hf(s,!1).getAll();return new Iu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ox.type="LOCAL";const e3=Ox;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){return e?Kr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Ix{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t3(t){return Lj(t.auth,new Pv(t),t.bypassAuthState)}function n3(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Dj(n,new Pv(t),t.bypassAuthState)}async function r3(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Oj(n,new Pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t3;case"linkViaPopup":case"linkViaRedirect":return r3;case"reauthViaPopup":case"reauthViaRedirect":return n3;default:Or(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Su(2e3,1e4);async function Lx(t,e,n){if(Sn(t.app))return Promise.reject(tr(t,"operation-not-supported-in-this-environment"));const r=fl(t);lx(t,e,qf);const s=kv(r,n);return new Ki(r,"signInViaPopup",e,s).executeNotNull()}class Ki extends Dx{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s3.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="pendingRedirect",Xd=new Map;class o3 extends Dx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xd.get(this.auth._key());if(!e){try{const r=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(t,e){const n=Vx(e),r=Mx(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function l3(t,e){return Mx(t)._set(Vx(e),"true")}function c3(t,e){Xd.set(t._key(),e)}function Mx(t){return Kr(t._redirectPersistence)}function Vx(t){return Qd(i3,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e,n){return u3(t,e,n)}async function u3(t,e,n){if(Sn(t.app))return Promise.reject(ai(t));const r=fl(t);lx(t,e,qf),await r._initializationPromise;const s=kv(r,n);return await l3(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function d3(t,e){return await fl(t)._initializationPromise,Ux(t,e,!1)}async function Ux(t,e,n=!1){if(Sn(t.app))return Promise.reject(ai(t));const r=fl(t),s=kv(r,e),o=await new o3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=10*60*1e3;class f3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jx(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h3&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e={}){return hl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function _3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m3(t);for(const n of e)try{if(v3(n))return}catch{}Or(t,"unauthorized-domain")}function v3(t){const e=yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!y3.test(n))return!1;if(g3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Su(3e4,6e4);function q0(){const t=Ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E3(t){return new Promise((e,n)=>{var s,i,o;function r(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(tr(t,"network-request-failed"))},timeout:w3.get()})}if((i=(s=Ar().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ar().gapi)!=null&&o.load)r();else{const a=bj("iframefcb");return Ar()[a]=()=>{gapi.load?r():n(tr(t,"network-request-failed"))},Ij(`${Aj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function T3(t){return Yd=Yd||E3(t),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Su(5e3,15e3),I3="__/auth/iframe",A3="emulator/auth/iframe",b3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C3(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iv(e,A3):`https://${t.config.authDomain}/${I3}`,r={apiKey:e.apiKey,appName:t.name,v:xo},s=R3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Tu(r).slice(1)}`}async function x3(t){const e=await T3(t),n=Ar().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:C3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=tr(t,"network-request-failed"),a=Ar().setTimeout(()=>{i(o)},S3.get());function l(){Ar().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P3=500,N3=600,O3="_blank",D3="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L3(t,e,n,r=P3,s=N3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...k3,width:r.toString(),height:s.toString(),top:i,left:o},u=Yt().toLowerCase();n&&(a=gx(u)?O3:n),px(u)&&(e=e||D3,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,I])=>`${p}${y}=${I},`,"");if(gj(u)&&a!=="_self")return M3(e||"",a),new W0(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new W0(h)}function M3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="__/auth/handler",F3="emulator/auth/handler",U3=encodeURIComponent("fac");async function H0(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:s};if(e instanceof qf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof pl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${U3}=${encodeURIComponent(l)}`:"";return`${j3(t)}?${Tu(a).slice(1)}${u}`}function j3({config:t}){return t.emulator?Iv(t,F3):`https://${t.authDomain}/${V3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class B3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xx,this._completeRedirectFn=Ux,this._overrideRedirectResult=c3}async _openPopup(e,n,r,s){var o;ls((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await H0(e,n,r,yy(),s);return L3(e,i,xv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await H0(e,n,r,yy(),s);return Wj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ls(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await x3(e),r=new f3(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Im];i!==void 0&&n(!!i),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ex()||mx()||Rv()}}const z3=B3;var G0="@firebase/auth",K0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W3(t){_o(new gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(t)},u=new Tj(r,s,i,l);return Cj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_o(new gi("auth-internal",e=>{const n=fl(e.getProvider("auth").getImmediate());return(r=>new $3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(G0,K0,q3(t)),Ir(G0,K0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=5*60,G3=JC("authIdTokenMaxAge")||H3;let Q0=null;const K3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G3)return;const s=n==null?void 0:n.token;Q0!==s&&(Q0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Q3(t=Ev()){const e=$f(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rj(t,{popupRedirectResolver:z3,persistence:[e3,zj,xx]}),r=JC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=K3(i.toString());Vj(n,o,()=>o(n.currentUser)),Mj(n,a=>o(a))}}const s=XC("auth");return s&&xj(n,`http://${s}`),n}function X3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Sj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=tr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",X3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W3("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="firebasestorage.googleapis.com",zx="storageBucket",Y3=2*60*1e3,Z3=10*60*1e3,J3=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Vr{constructor(e,n,r=0){super(Am(e),`Firebase Storage: ${n} (${Am(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,at.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function Am(t){return"storage/"+t}function Nv(){const t="An unknown error occurred, please check the error payload for server response.";return new at(et.UNKNOWN,t)}function e6(t){return new at(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function t6(t){return new at(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new at(et.UNAUTHENTICATED,t)}function r6(){return new at(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s6(t){return new at(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $x(){return new at(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qx(){return new at(et.CANCELED,"User canceled the upload/download.")}function i6(t){return new at(et.INVALID_URL,"Invalid URL '"+t+"'.")}function o6(t){return new at(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a6(){return new at(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zx+"' property when initializing the app?")}function Wx(){return new at(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l6(){return new at(et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function c6(){return new at(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u6(t){return new at(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wy(t){return new at(et.INVALID_ARGUMENT,t)}function Hx(){return new at(et.APP_DELETED,"The Firebase app was deleted.")}function d6(t){return new at(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ic(t,e){return new at(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yl(t){throw new at(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(r.path==="")return r;throw o6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),I={bucket:1,path:3},_=n===Bx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",w=new RegExp(`^https?://${_}/${s}/${E}`,"i"),T=[{regex:a,indices:l,postModify:i},{regex:y,indices:I,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<T.length;k++){const L=T[k],V=L.regex.exec(e);if(V){const A=V[L.indices.bucket];let S=V[L.indices.path];S||(S=""),r=new An(A,S),L.postModify(r);break}}if(r==null)throw i6(e);return r}}class h6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...E){u||(u=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(y,l())},E)}function p(){i&&clearTimeout(i)}function y(E,...w){if(u){p();return}if(E){p(),d.call(null,E,...w);return}if(l()||o){p(),d.call(null,E,...w);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let I=!1;function _(E){I||(I=!0,p(),!u&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function p6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){return t!==void 0}function g6(t){return typeof t=="function"}function y6(t){return typeof t=="object"&&!Array.isArray(t)}function Gf(t){return typeof t=="string"||t instanceof String}function X0(t){return Ov()&&t instanceof Blob}function Ov(){return typeof Blob<"u"}function Y0(t,e,n,r){if(r<e)throw wy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Gx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ao||(ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,s,i,o,a,l,u,d,h,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,_)=>{this.resolve_=I,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new md(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ao.NO_ERROR,l=i.getStatus();if(!a||Kx(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ao.ABORT;r(!1,new md(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new md(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());m6(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Nv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Hx():qx();o(l)}else{const l=$x();o(l)}};this.canceled_?n(!1,new md(!1,null,!0)):this.backoffId_=f6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class md{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function w6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S6(t,e,n,r,s,i,o=!0,a=!1){const l=Gx(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return E6(d,e),v6(d,n),w6(d,i),T6(d,r),new _6(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function A6(...t){const e=I6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ov())return new Blob(t);throw new at(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){if(typeof atob>"u")throw u6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bm{constructor(e,n){this.data=e,this.contentType=n||null}}function C6(t,e){switch(t){case wr.RAW:return new bm(Qx(e));case wr.BASE64:case wr.BASE64URL:return new bm(Xx(t,e));case wr.DATA_URL:return new bm(k6(e),P6(e))}throw Nv()}function Qx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function x6(t){let e;try{e=decodeURIComponent(t)}catch{throw Ic(wr.DATA_URL,"Malformed data URL.")}return Qx(e)}function Xx(t,e){switch(t){case wr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Ic(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case wr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Ic(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R6(e)}catch(s){throw s.message.includes("polyfill")?s:Ic(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Yx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ic(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=N6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k6(t){const e=new Yx(t);return e.base64?Xx(wr.BASE64,e.rest):x6(e.rest)}function P6(t){return new Yx(t).contentType}function N6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){let r=0,s="";X0(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(X0(this.data_)){const r=this.data_,s=b6(r,e,n);return s===null?null:new qr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qr(r,!0)}}static getBlob(...e){if(Ov()){const n=e.map(r=>r instanceof qr?r.data_:r);return new qr(A6.apply(null,n))}else{const n=e.map(o=>Gf(o)?C6(wr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new qr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){let e;try{e=JSON.parse(t)}catch{return null}return y6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Jx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e){return e}class tn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||L6}}let gd=null;function M6(t){return!Gf(t)||t.length<2?t:Jx(t)}function Dv(){if(gd)return gd;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(i,o){return M6(o)}const n=new tn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new tn("size");return s.xform=r,t.push(s),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),gd=t,gd}function V6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new An(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function F6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return V6(r,t),r}function ek(t,e,n){const r=Zx(e);return r===null?null:F6(t,r,n)}function U6(t,e,n,r){const s=Zx(e);if(s===null||!Gf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),y=Au(p,n,r),I=Gx({alt:"media",token:u});return y+I})[0]}function tk(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class ml{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){if(!t)throw Nv()}function Lv(t,e){function n(r,s){const i=ek(t,s,e);return Yr(i!==null),i}return n}function j6(t,e){function n(r,s){const i=ek(t,s,e);return Yr(i!==null),U6(i,s,t.host,t._protocol)}return n}function bu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=r6():s=n6():n.getStatus()===402?s=t6(t.bucket):n.getStatus()===403?s=s6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function nk(t){const e=bu(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=e6(t.path)),i.serverResponse=s.serverResponse,i}return n}function B6(t,e,n){const r=e.fullServerUrl(),s=Au(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new ml(s,i,Lv(t,n),o);return a.errorHandler=nk(e),a}function z6(t,e,n){const r=e.fullServerUrl(),s=Au(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new ml(s,i,j6(t,n),o);return a.errorHandler=nk(e),a}function $6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$6(null,e)),r}function sk(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let k=0;k<2;k++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=rk(e,r,s),d=tk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",y=qr.getBlob(h,r,p);if(y===null)throw Wx();const I={name:u.fullPath},_=Au(i,t.host,t._protocol),E="POST",w=t.maxUploadRetryTime,v=new ml(_,E,Lv(t,n),w);return v.urlParams=I,v.headers=o,v.body=y.uploadData(),v.errorHandler=bu(e),v}class Kh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Mv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Yr(!1)}return Yr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function q6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=rk(e,r,s),a={name:o.fullPath},l=Au(i,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=tk(o,n),p=t.maxUploadRetryTime;function y(_){Mv(_);let E;try{E=_.getResponseHeader("X-Goog-Upload-URL")}catch{Yr(!1)}return Yr(Gf(E)),E}const I=new ml(l,u,y,p);return I.urlParams=a,I.headers=d,I.body=h,I.errorHandler=bu(e),I}function W6(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(u){const d=Mv(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yr(!1)}h||Yr(!1);const p=Number(h);return Yr(!isNaN(p)),new Kh(p,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ml(n,o,i,a);return l.headers=s,l.errorHandler=bu(e),l}const Z0=256*1024;function H6(t,e,n,r,s,i,o,a){const l=new Kh(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw l6();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const h=l.current,p=h+d;let y="";d===0?y="finalize":u===d?y="upload, finalize":y="upload";const I={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},_=r.slice(h,p);if(_===null)throw Wx();function E(k,L){const V=Mv(k,["active","final"]),A=l.current+d,S=r.size();let x;return V==="final"?x=Lv(e,i)(k,L):x=null,new Kh(A,S,V==="final",x)}const w="POST",v=e.maxUploadRetryTime,T=new ml(n,w,E,v);return T.headers=I,T.body=_.uploadData(),T.progressCallback=a||null,T.errorHandler=bu(t),T}const hn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rm(t){switch(t){case"running":case"pausing":case"canceling":return hn.RUNNING;case"paused":return hn.PAUSED;case"success":return hn.SUCCESS;case"canceled":return hn.CANCELED;case"error":return hn.ERROR;default:return hn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r){if(g6(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class K6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Yl("cannot .send() more than once");if(xi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Q6 extends K6{initXhr(){this.xhr_.responseType="text"}}function $i(){return new Q6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Dv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(et.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(Kx(s.status,[]))if(i)s=$x();else{this.sleepTime=Math.max(this.sleepTime*2,J3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(et.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=q6(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$i,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=W6(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,$i,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Z0*this._chunkMultiplier,n=new Kh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=H6(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,$i,s,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Z0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=B6(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,$i,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=sk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,$i,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=qx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Rm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new G6(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Rm(this._state)){case hn.SUCCESS:Vo(this._resolve.bind(null,this.snapshot))();break;case hn.CANCELED:case hn.ERROR:const n=this._reject;Vo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rm(this._state)){case hn.RUNNING:case hn.PAUSED:e.next&&Vo(e.next.bind(e,this.snapshot))();break;case hn.SUCCESS:e.complete&&Vo(e.complete.bind(e))();break;case hn.CANCELED:case hn.ERROR:e.error&&Vo(e.error.bind(e,this._error))();break;default:e.error&&Vo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vo(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jx(this._location.path)}get storage(){return this._service}get parent(){const e=O6(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new vo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d6(e)}}function Y6(t,e,n){t._throwIfRoot("uploadBytes");const r=sk(t.storage,t._location,Dv(),new qr(e,!0),n);return t.storage.makeRequestWithTokens(r,$i).then(s=>({metadata:s,ref:t}))}function Z6(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new X6(t,new qr(e),n)}function J6(t){t._throwIfRoot("getDownloadURL");const e=z6(t.storage,t._location,Dv());return t.storage.makeRequestWithTokens(e,$i).then(n=>{if(n===null)throw c6();return n})}function e9(t,e){const n=D6(t._location.path,e),r=new An(t._location.bucket,n);return new vo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){return/^[A-Za-z]+:\/\//.test(t)}function n9(t,e){return new vo(t,e)}function ik(t,e){if(t instanceof Vv){const n=t;if(n._bucket==null)throw a6();const r=new vo(n,n._bucket);return e!=null?ik(r,e):r}else return e!==void 0?e9(t,e):t}function r9(t,e){if(e&&t9(e)){if(t instanceof Vv)return n9(t,e);throw wy("To use ref(service, url), the first argument must be a Storage instance.")}else return ik(t,e)}function J0(t,e){const n=e==null?void 0:e[zx];return n==null?null:An.makeFromBucketSpec(n,t)}function s9(t,e,n,r={}){t.host=`${e}:${n}`;const s=xi(e);s&&(yv(`https://${t.host}/b`),_v("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ex(i,t.app.options.projectId))}class Vv{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=Bx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y3,this._maxUploadRetryTime=Z3,this._requests=new Set,s!=null?this._bucket=An.makeFromBucketSpec(s,this._host):this._bucket=J0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=J0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new h6(Hx());{const o=S6(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const eS="@firebase/storage",tS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="storage";function sH(t,e,n){return t=it(t),Y6(t,e,n)}function iH(t,e,n){return t=it(t),Z6(t,e,n)}function oH(t){return t=it(t),J6(t)}function aH(t,e){return t=it(t),r9(t,e)}function i9(t=Ev(),e){t=it(t);const r=$f(t,ok).getImmediate({identifier:e}),s=YC("storage");return s&&o9(r,...s),r}function o9(t,e,n,r={}){s9(t,e,n,r)}function a9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Vv(n,r,s,e,xo)}function l9(){_o(new gi(ok,a9,"PUBLIC").setMultipleInstances(!0)),Ir(eS,tS,""),Ir(eS,tS,"esm2020")}l9();var nS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,ak;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function x(){}x.prototype=S.prototype,A.F=S.prototype,A.prototype=new x,A.prototype.constructor=A,A.D=function(P,O,D){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return S.prototype[O].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,x){x||(x=0);const P=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)P[O]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(O=0;O<16;++O)P[O]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=A.g[0],x=A.g[1],O=A.g[2];let D=A.g[3],N;N=S+(D^x&(O^D))+P[0]+3614090360&4294967295,S=x+(N<<7&4294967295|N>>>25),N=D+(O^S&(x^O))+P[1]+3905402710&4294967295,D=S+(N<<12&4294967295|N>>>20),N=O+(x^D&(S^x))+P[2]+606105819&4294967295,O=D+(N<<17&4294967295|N>>>15),N=x+(S^O&(D^S))+P[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=S+(D^x&(O^D))+P[4]+4118548399&4294967295,S=x+(N<<7&4294967295|N>>>25),N=D+(O^S&(x^O))+P[5]+1200080426&4294967295,D=S+(N<<12&4294967295|N>>>20),N=O+(x^D&(S^x))+P[6]+2821735955&4294967295,O=D+(N<<17&4294967295|N>>>15),N=x+(S^O&(D^S))+P[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=S+(D^x&(O^D))+P[8]+1770035416&4294967295,S=x+(N<<7&4294967295|N>>>25),N=D+(O^S&(x^O))+P[9]+2336552879&4294967295,D=S+(N<<12&4294967295|N>>>20),N=O+(x^D&(S^x))+P[10]+4294925233&4294967295,O=D+(N<<17&4294967295|N>>>15),N=x+(S^O&(D^S))+P[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=S+(D^x&(O^D))+P[12]+1804603682&4294967295,S=x+(N<<7&4294967295|N>>>25),N=D+(O^S&(x^O))+P[13]+4254626195&4294967295,D=S+(N<<12&4294967295|N>>>20),N=O+(x^D&(S^x))+P[14]+2792965006&4294967295,O=D+(N<<17&4294967295|N>>>15),N=x+(S^O&(D^S))+P[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=S+(O^D&(x^O))+P[1]+4129170786&4294967295,S=x+(N<<5&4294967295|N>>>27),N=D+(x^O&(S^x))+P[6]+3225465664&4294967295,D=S+(N<<9&4294967295|N>>>23),N=O+(S^x&(D^S))+P[11]+643717713&4294967295,O=D+(N<<14&4294967295|N>>>18),N=x+(D^S&(O^D))+P[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=S+(O^D&(x^O))+P[5]+3593408605&4294967295,S=x+(N<<5&4294967295|N>>>27),N=D+(x^O&(S^x))+P[10]+38016083&4294967295,D=S+(N<<9&4294967295|N>>>23),N=O+(S^x&(D^S))+P[15]+3634488961&4294967295,O=D+(N<<14&4294967295|N>>>18),N=x+(D^S&(O^D))+P[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=S+(O^D&(x^O))+P[9]+568446438&4294967295,S=x+(N<<5&4294967295|N>>>27),N=D+(x^O&(S^x))+P[14]+3275163606&4294967295,D=S+(N<<9&4294967295|N>>>23),N=O+(S^x&(D^S))+P[3]+4107603335&4294967295,O=D+(N<<14&4294967295|N>>>18),N=x+(D^S&(O^D))+P[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=S+(O^D&(x^O))+P[13]+2850285829&4294967295,S=x+(N<<5&4294967295|N>>>27),N=D+(x^O&(S^x))+P[2]+4243563512&4294967295,D=S+(N<<9&4294967295|N>>>23),N=O+(S^x&(D^S))+P[7]+1735328473&4294967295,O=D+(N<<14&4294967295|N>>>18),N=x+(D^S&(O^D))+P[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=S+(x^O^D)+P[5]+4294588738&4294967295,S=x+(N<<4&4294967295|N>>>28),N=D+(S^x^O)+P[8]+2272392833&4294967295,D=S+(N<<11&4294967295|N>>>21),N=O+(D^S^x)+P[11]+1839030562&4294967295,O=D+(N<<16&4294967295|N>>>16),N=x+(O^D^S)+P[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=S+(x^O^D)+P[1]+2763975236&4294967295,S=x+(N<<4&4294967295|N>>>28),N=D+(S^x^O)+P[4]+1272893353&4294967295,D=S+(N<<11&4294967295|N>>>21),N=O+(D^S^x)+P[7]+4139469664&4294967295,O=D+(N<<16&4294967295|N>>>16),N=x+(O^D^S)+P[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=S+(x^O^D)+P[13]+681279174&4294967295,S=x+(N<<4&4294967295|N>>>28),N=D+(S^x^O)+P[0]+3936430074&4294967295,D=S+(N<<11&4294967295|N>>>21),N=O+(D^S^x)+P[3]+3572445317&4294967295,O=D+(N<<16&4294967295|N>>>16),N=x+(O^D^S)+P[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=S+(x^O^D)+P[9]+3654602809&4294967295,S=x+(N<<4&4294967295|N>>>28),N=D+(S^x^O)+P[12]+3873151461&4294967295,D=S+(N<<11&4294967295|N>>>21),N=O+(D^S^x)+P[15]+530742520&4294967295,O=D+(N<<16&4294967295|N>>>16),N=x+(O^D^S)+P[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=S+(O^(x|~D))+P[0]+4096336452&4294967295,S=x+(N<<6&4294967295|N>>>26),N=D+(x^(S|~O))+P[7]+1126891415&4294967295,D=S+(N<<10&4294967295|N>>>22),N=O+(S^(D|~x))+P[14]+2878612391&4294967295,O=D+(N<<15&4294967295|N>>>17),N=x+(D^(O|~S))+P[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=S+(O^(x|~D))+P[12]+1700485571&4294967295,S=x+(N<<6&4294967295|N>>>26),N=D+(x^(S|~O))+P[3]+2399980690&4294967295,D=S+(N<<10&4294967295|N>>>22),N=O+(S^(D|~x))+P[10]+4293915773&4294967295,O=D+(N<<15&4294967295|N>>>17),N=x+(D^(O|~S))+P[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=S+(O^(x|~D))+P[8]+1873313359&4294967295,S=x+(N<<6&4294967295|N>>>26),N=D+(x^(S|~O))+P[15]+4264355552&4294967295,D=S+(N<<10&4294967295|N>>>22),N=O+(S^(D|~x))+P[6]+2734768916&4294967295,O=D+(N<<15&4294967295|N>>>17),N=x+(D^(O|~S))+P[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=S+(O^(x|~D))+P[4]+4149444226&4294967295,S=x+(N<<6&4294967295|N>>>26),N=D+(x^(S|~O))+P[11]+3174756917&4294967295,D=S+(N<<10&4294967295|N>>>22),N=O+(S^(D|~x))+P[2]+718787259&4294967295,O=D+(N<<15&4294967295|N>>>17),N=x+(D^(O|~S))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+D&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const x=S-this.blockSize,P=this.C;let O=this.h,D=0;for(;D<S;){if(O==0)for(;D<=x;)s(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<S;)if(P[O++]=A.charCodeAt(D++),O==this.blockSize){s(this,P),O=0;break}}else for(;D<S;)if(P[O++]=A[D++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var x=A.length-8;x<A.length;++x)A[x]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,x=0;x<4;++x)for(let P=0;P<32;P+=8)A[S++]=this.g[x]>>>P&255;return A};function i(A,S){var x=a;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=S(A)}function o(A,S){this.h=S;const x=[];let P=!0;for(let O=A.length-1;O>=0;O--){const D=A[O]|0;P&&D==S||(x[O]=D,P=!1)}this.g=x}var a={};function l(A){return-128<=A&&A<128?i(A,function(S){return new o([S|0],S<0?-1:0)}):new o([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return E(u(-A));const S=[];let x=1;for(let P=0;A>=x;P++)S[P]=A/x|0,x*=4294967296;return new o(S,0)}function d(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return E(d(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=u(Math.pow(S,8));let P=h;for(let D=0;D<A.length;D+=8){var O=Math.min(8,A.length-D);const N=parseInt(A.substring(D,D+O),S);O<8?(O=u(Math.pow(S,O)),P=P.j(O).add(u(N))):(P=P.j(x),P=P.add(u(N)))}return P}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();let A=0,S=1;for(let x=0;x<this.g.length;x++){const P=this.i(x);A+=(P>=0?P:4294967296+P)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I(this))return"0";if(_(this))return"-"+E(this).toString(A);const S=u(Math.pow(A,6));var x=this;let P="";for(;;){const O=k(x,S).g;x=w(x,O.j(S));let D=((x.g.length>0?x.g[0]:x.h)>>>0).toString(A);if(x=O,I(x))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function I(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=w(this,A),_(A)?-1:I(A)?0:1};function E(A){const S=A.g.length,x=[];for(let P=0;P<S;P++)x[P]=~A.g[P];return new o(x,~A.h).add(p)}t.abs=function(){return _(this)?E(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),x=[];let P=0;for(let O=0;O<=S;O++){let D=P+(this.i(O)&65535)+(A.i(O)&65535),N=(D>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);P=N>>>16,D&=65535,N&=65535,x[O]=N<<16|D}return new o(x,x[x.length-1]&-2147483648?-1:0)};function w(A,S){return A.add(E(S))}t.j=function(A){if(I(this)||I(A))return h;if(_(this))return _(A)?E(this).j(E(A)):E(E(this).j(A));if(_(A))return E(this.j(E(A)));if(this.l(y)<0&&A.l(y)<0)return u(this.m()*A.m());const S=this.g.length+A.g.length,x=[];for(var P=0;P<2*S;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<A.g.length;O++){const D=this.i(P)>>>16,N=this.i(P)&65535,H=A.i(O)>>>16,ye=A.i(O)&65535;x[2*P+2*O]+=N*ye,v(x,2*P+2*O),x[2*P+2*O+1]+=D*ye,v(x,2*P+2*O+1),x[2*P+2*O+1]+=N*H,v(x,2*P+2*O+1),x[2*P+2*O+2]+=D*H,v(x,2*P+2*O+2)}for(A=0;A<S;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=S;A<2*S;A++)x[A]=0;return new o(x,0)};function v(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function T(A,S){this.g=A,this.h=S}function k(A,S){if(I(S))throw Error("division by zero");if(I(A))return new T(h,h);if(_(A))return S=k(E(A),S),new T(E(S.g),E(S.h));if(_(S))return S=k(A,E(S)),new T(E(S.g),S.h);if(A.g.length>30){if(_(A)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var x=p,P=S;P.l(A)<=0;)x=L(x),P=L(P);var O=V(x,1),D=V(P,1);for(P=V(P,2),x=V(x,2);!I(P);){var N=D.add(P);N.l(A)<=0&&(O=O.add(x),D=N),P=V(P,1),x=V(x,1)}return S=w(A,O.j(S)),new T(O,S)}for(O=h;A.l(S)>=0;){for(x=Math.max(1,Math.floor(A.m()/S.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=u(x),N=D.j(S);_(N)||N.l(A)>0;)x-=P,D=u(x),N=D.j(S);I(D)&&(D=p),O=O.add(D),A=w(A,N)}return new T(O,A)}t.B=function(A){return k(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let P=0;P<S;P++)x[P]=this.i(P)&A.i(P);return new o(x,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let P=0;P<S;P++)x[P]=this.i(P)|A.i(P);return new o(x,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),x=[];for(let P=0;P<S;P++)x[P]=this.i(P)^A.i(P);return new o(x,this.h^A.h)};function L(A){const S=A.g.length+1,x=[];for(let P=0;P<S;P++)x[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(x,A.h)}function V(A,S){const x=S>>5;S%=32;const P=A.g.length-x,O=[];for(let D=0;D<P;D++)O[D]=S>0?A.i(D+x)>>>S|A.i(D+x+1)<<32-S:A.i(D+x);return new o(O,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ak=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,li=o}).apply(typeof nS<"u"?nS:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lk,oc,ck,Zd,Ey,uk,dk,hk;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var F=c[b];if(!(F in m))break e;m=m[F]}c=c[c.length-1],b=m[c],f=f(b),f!=b&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(f){var m=[],b;for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&m.push([b,f[b]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function l(c,f,m){return c.call.apply(c.bind,arguments)}function u(c,f,m){return u=l,u.apply(null,arguments)}function d(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function h(c,f){function m(){}m.prototype=f.prototype,c.Z=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Ob=function(b,F,U){for(var K=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)K[Se-2]=arguments[Se];return f.prototype[F].apply(b,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const f=c.length;if(f>0){const m=Array(f);for(let b=0;b<f;b++)m[b]=c[b];return m}return[]}function I(c,f){for(let b=1;b<arguments.length;b++){const F=arguments[b];var m=typeof F;if(m=m!="object"?m:F?Array.isArray(F)?"array":m:"null",m=="array"||m=="object"&&typeof F.length=="number"){m=c.length||0;const U=F.length||0;c.length=m+U;for(let K=0;K<U;K++)c[m+K]=F[K]}else c.push(F)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(c){o.setTimeout(()=>{throw c},0)}function w(){var c=A;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class v{constructor(){this.h=this.g=null}add(f,m){const b=T.get();b.set(f,m),this.h?this.h.next=b:this.g=b,this.h=b}}var T=new _(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let L,V=!1,A=new v,S=()=>{const c=Promise.resolve(void 0);L=()=>{c.then(x)}};function x(){for(var c;c=w();){try{c.h.call(c.g)}catch(m){E(m)}var f=T;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}V=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return c}();function N(c){return/^[\s\xa0]*$/.test(c)}function H(c,f){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}h(H,O),H.prototype.init=function(c,f){const m=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),me=0;function Ie(c,f,m,b,F){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!b,this.ha=F,this.key=++me,this.da=this.fa=!1}function B(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Q(c,f,m){for(const b in c)f.call(m,c[b],b,c)}function oe(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function z(c){const f={};for(const m in c)f[m]=c[m];return f}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,f){let m,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(m in b)c[m]=b[m];for(let U=0;U<q.length;U++)m=q[U],Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])}}function Ue(c){this.src=c,this.g={},this.h=0}Ue.prototype.add=function(c,f,m,b,F){const U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);const K=de(c,f,b,F);return K>-1?(f=c[K],m||(f.fa=!1)):(f=new Ie(f,this.src,U,!!b,F),f.fa=m,c.push(f)),f};function X(c,f){const m=f.type;if(m in c.g){var b=c.g[m],F=Array.prototype.indexOf.call(b,f,void 0),U;(U=F>=0)&&Array.prototype.splice.call(b,F,1),U&&(B(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function de(c,f,m,b){for(let F=0;F<c.length;++F){const U=c[F];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==b)return F}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Ae={};function cn(c,f,m,b,F){if(Array.isArray(f)){for(let U=0;U<f.length;U++)cn(c,f[U],m,b,F);return null}return m=Nu(m),c&&c[ye]?c.J(f,m,a(b)?!!b.capture:!1,F):De(c,f,m,!1,b,F)}function De(c,f,m,b,F,U){if(!f)throw Error("Invalid event type");const K=a(F)?!!F.capture:!!F;let Se=Sl(c);if(Se||(c[pe]=Se=new Ue(c)),m=Se.add(f,m,b,K,U),m.proxy)return m;if(b=lt(),m.proxy=b,b.src=c,b.listener=m,c.addEventListener)D||(F=K),F===void 0&&(F=!1),c.addEventListener(f.toString(),b,F);else if(c.attachEvent)c.attachEvent(je(f.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function lt(){function c(m){return f.call(c.src,c.listener,m)}const f=Dt;return c}function Zt(c,f,m,b,F){if(Array.isArray(f))for(var U=0;U<f.length;U++)Zt(c,f[U],m,b,F);else b=a(b)?!!b.capture:!!b,m=Nu(m),c&&c[ye]?(c=c.i,U=String(f).toString(),U in c.g&&(f=c.g[U],m=de(f,m,b,F),m>-1&&(B(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete c.g[U],c.h--)))):c&&(c=Sl(c))&&(f=c.g[f.toString()],c=-1,f&&(c=de(f,m,b,F)),(m=c>-1?f[c]:null)&&St(m))}function St(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[ye])X(f.i,c);else{var m=c.type,b=c.proxy;f.removeEventListener?f.removeEventListener(m,b,c.capture):f.detachEvent?f.detachEvent(je(m),b):f.addListener&&f.removeListener&&f.removeListener(b),(m=Sl(f))?(X(m,c),m.h==0&&(m.src=null,f[pe]=null)):B(c)}}}function je(c){return c in Ae?Ae[c]:Ae[c]="on"+c}function Dt(c,f){if(c.da)c=!0;else{f=new H(f,this);const m=c.listener,b=c.ha||c.src;c.fa&&St(c),c=m.call(b,f)}return c}function Sl(c){return c=c[pe],c instanceof Ue?c:null}var Il="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nu(c){return typeof c=="function"?c:(c[Il]||(c[Il]=function(f){return c.handleEvent(f)}),c[Il])}function ft(){P.call(this),this.i=new Ue(this),this.M=this,this.G=null}h(ft,P),ft.prototype[ye]=!0,ft.prototype.removeEventListener=function(c,f,m,b){Zt(this,c,f,m,b)};function Jt(c,f){var m,b=c.G;if(b)for(m=[];b;b=b.G)m.push(b);if(c=c.M,b=f.type||f,typeof f=="string")f=new O(f,c);else if(f instanceof O)f.target=f.target||c;else{var F=f;f=new O(b,c),ae(f,F)}F=!0;let U,K;if(m)for(K=m.length-1;K>=0;K--)U=f.g=m[K],F=Ou(U,b,!0,f)&&F;if(U=f.g=c,F=Ou(U,b,!0,f)&&F,F=Ou(U,b,!1,f)&&F,m)for(K=0;K<m.length;K++)U=f.g=m[K],F=Ou(U,b,!1,f)&&F}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const m=c.g[f];for(let b=0;b<m.length;b++)B(m[b]);delete c.g[f],c.h--}}this.G=null},ft.prototype.J=function(c,f,m,b){return this.i.add(String(c),f,!1,m,b)},ft.prototype.K=function(c,f,m,b){return this.i.add(String(c),f,!0,m,b)};function Ou(c,f,m,b){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let F=!0;for(let U=0;U<f.length;++U){const K=f[U];if(K&&!K.da&&K.capture==m){const Se=K.listener,It=K.ha||K.src;K.fa&&X(c.i,K),F=Se.call(It,b)!==!1&&F}}return F&&!b.defaultPrevented}function mN(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(c,f||0)}function Lw(c){c.g=mN(()=>{c.g=null,c.i&&(c.i=!1,Lw(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class gN extends P{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Lw(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(c){P.call(this),this.h=c,this.g={}}h(Al,P);var Mw=[];function Vw(c){Q(c.g,function(f,m){this.g.hasOwnProperty(m)&&St(f)},c),c.g={}}Al.prototype.N=function(){Al.Z.N.call(this),Vw(this)},Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ep=o.JSON.stringify,yN=o.JSON.parse,_N=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Fw(){}function Uw(){}var bl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tp(){O.call(this,"d")}h(Tp,O);function Sp(){O.call(this,"c")}h(Sp,O);var Di={},jw=null;function Du(){return jw=jw||new ft}Di.Ia="serverreachability";function Bw(c){O.call(this,Di.Ia,c)}h(Bw,O);function Rl(c){const f=Du();Jt(f,new Bw(f))}Di.STAT_EVENT="statevent";function zw(c,f){O.call(this,Di.STAT_EVENT,c),this.stat=f}h(zw,O);function en(c){const f=Du();Jt(f,new zw(f,c))}Di.Ja="timingevent";function $w(c,f){O.call(this,Di.Ja,c),this.size=f}h($w,O);function Cl(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},f)}function xl(){this.g=!0}xl.prototype.ua=function(){this.g=!1};function vN(c,f,m,b,F,U){c.info(function(){if(c.g)if(U){var K="",Se=U.split("&");for(let qe=0;qe<Se.length;qe++){var It=Se[qe].split("=");if(It.length>1){const Ct=It[0];It=It[1];const cr=Ct.split("_");K=cr.length>=2&&cr[1]=="type"?K+(Ct+"="+It+"&"):K+(Ct+"=redacted&")}}}else K=null;else K=U;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+f+`
`+m+`
`+K})}function wN(c,f,m,b,F,U,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+f+`
`+m+`
`+U+" "+K})}function Oo(c,f,m,b){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+TN(c,m)+(b?" "+b:"")})}function EN(c,f){c.info(function(){return"TIMEOUT: "+f})}xl.prototype.info=function(){};function TN(c,f){if(!c.g)return f;if(!f)return null;try{const U=JSON.parse(f);if(U){for(c=0;c<U.length;c++)if(Array.isArray(U[c])){var m=U[c];if(!(m.length<2)){var b=m[1];if(Array.isArray(b)&&!(b.length<1)){var F=b[0];if(F!="noop"&&F!="stop"&&F!="close")for(let K=1;K<b.length;K++)b[K]=""}}}}return Ep(U)}catch{return f}}var Lu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ww;function Ip(){}h(Ip,Fw),Ip.prototype.g=function(){return new XMLHttpRequest},Ww=new Ip;function kl(c){return encodeURIComponent(String(c))}function SN(c){var f=1;c=c.split(":");const m=[];for(;f>0&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function gs(c,f,m,b){this.j=c,this.i=f,this.l=m,this.S=b||1,this.V=new Al(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hw}function Hw(){this.i=null,this.g="",this.h=!1}var Gw={},Ap={};function bp(c,f,m){c.M=1,c.A=Vu(lr(f)),c.u=m,c.R=!0,Kw(c,null)}function Kw(c,f){c.F=Date.now(),Mu(c),c.B=lr(c.A);var m=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),aE(m.i,"t",b),c.C=0,m=c.j.L,c.h=new Hw,c.g=AE(c.j,m?f:null,!c.u),c.P>0&&(c.O=new gN(u(c.Y,c,c.g),c.P)),f=c.V,m=c.g,b=c.ba;var F="readystatechange";Array.isArray(F)||(F&&(Mw[0]=F.toString()),F=Mw);for(let U=0;U<F.length;U++){const K=cn(m,F[U],b||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=c.J?z(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),Rl(),vN(c.i,c.v,c.B,c.l,c.S,c.u)}gs.prototype.ba=function(c){c=c.target;const f=this.O;f&&vs(c)==3?f.j():this.Y(c)},gs.prototype.Y=function(c){try{if(c==this.g)e:{const Se=vs(this.g),It=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||pE(this.g)))){this.K||Se!=4||It==7||(It==8||qe<=0?Rl(3):Rl(2)),Rp(this);var f=this.g.ca();this.X=f;var m=IN(this);if(this.o=f==200,wN(this.i,this.v,this.B,this.l,this.S,Se,f),this.o){if(this.U&&!this.L){t:{if(this.g){var b,F=this.g;if((b=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(b)){var U=b;break t}}U=null}if(c=U)Oo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cp(this,c);else{this.o=!1,this.m=3,en(12),Li(this),Pl(this);break e}}if(this.R){c=!0;let Ct;for(;!this.K&&this.C<m.length;)if(Ct=AN(this,m),Ct==Ap){Se==4&&(this.m=4,en(14),c=!1),Oo(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Gw){this.m=4,en(15),Oo(this.i,this.l,m,"[Invalid Chunk]"),c=!1;break}else Oo(this.i,this.l,Ct,null),Cp(this,Ct);if(Qw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||m.length!=0||this.h.h||(this.m=1,en(16),c=!1),this.o=this.o&&c,!c)Oo(this.i,this.l,m,"[Invalid Chunked Response]"),Li(this),Pl(this);else if(m.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Mp(K),K.P=!0,en(11))}}else Oo(this.i,this.l,m,null),Cp(this,m);Se==4&&Li(this),this.o&&!this.K&&(Se==4?EE(this.j,this):(this.o=!1,Mu(this)))}else UN(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),Li(this),Pl(this)}}}catch{}finally{}};function IN(c){if(!Qw(c))return c.g.la();const f=pE(c.g);if(f==="")return"";let m="";const b=f.length,F=vs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Li(c),Pl(c),"";c.h.i=new o.TextDecoder}for(let U=0;U<b;U++)c.h.h=!0,m+=c.h.i.decode(f[U],{stream:!(F&&U==b-1)});return f.length=0,c.h.g+=m,c.C=0,c.h.g}function Qw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function AN(c,f){var m=c.C,b=f.indexOf(`
`,m);return b==-1?Ap:(m=Number(f.substring(m,b)),isNaN(m)?Gw:(b+=1,b+m>f.length?Ap:(f=f.slice(b,b+m),c.C=b+m,f)))}gs.prototype.cancel=function(){this.K=!0,Li(this)};function Mu(c){c.T=Date.now()+c.H,Xw(c,c.H)}function Xw(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Cl(u(c.aa,c),f)}function Rp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}gs.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(EN(this.i,this.B),this.M!=2&&(Rl(),en(17)),Li(this),this.m=2,Pl(this)):Xw(this,this.T-c)};function Pl(c){c.j.I==0||c.K||EE(c.j,c)}function Li(c){Rp(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,Vw(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Cp(c,f){try{var m=c.j;if(m.I!=0&&(m.g==c||xp(m.h,c))){if(!c.L&&xp(m.h,c)&&m.I==3){try{var b=m.Ba.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<c.F)zu(m),ju(m);else break e;Lp(m),en(18)}}else m.xa=F[1],0<m.xa-m.K&&F[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Cl(u(m.Va,m),6e3));Jw(m.h)<=1&&m.ta&&(m.ta=void 0)}else Vi(m,11)}else if((c.L||m.g==c)&&zu(m),!N(f))for(F=m.Ba.g.parse(f),f=0;f<F.length;f++){let qe=F[f];const Ct=qe[0];if(!(Ct<=m.K))if(m.K=Ct,qe=qe[1],m.I==2)if(qe[0]=="c"){m.M=qe[1],m.ba=qe[2];const cr=qe[3];cr!=null&&(m.ka=cr,m.j.info("VER="+m.ka));const Fi=qe[4];Fi!=null&&(m.za=Fi,m.j.info("SVER="+m.za));const ws=qe[5];ws!=null&&typeof ws=="number"&&ws>0&&(b=1.5*ws,m.O=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const Es=c.g;if(Es){const qu=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var U=b.h;U.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(kp(U,U.h),U.h=null))}if(b.G){const Vp=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;Vp&&(b.wa=Vp,Ke(b.J,b.G,Vp))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-c.F,m.j.info("Handshake RTT: "+m.T+"ms")),b=m;var K=c;if(b.na=IE(b,b.L?b.ba:null,b.W),K.L){eE(b.h,K);var Se=K,It=b.O;It&&(Se.H=It),Se.D&&(Rp(Se),Mu(Se)),b.g=K}else vE(b);m.i.length>0&&Bu(m)}else qe[0]!="stop"&&qe[0]!="close"||Vi(m,7);else m.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Vi(m,7):Dp(m):qe[0]!="noop"&&m.l&&m.l.qa(qe),m.A=0)}}Rl(4)}catch{}}var bN=class{constructor(c,f){this.g=c,this.map=f}};function Yw(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jw(c){return c.h?1:c.g?c.g.size:0}function xp(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function kp(c,f){c.g?c.g.add(f):c.h=f}function eE(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Yw.prototype.cancel=function(){if(this.i=tE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tE(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.G);return f}return y(c.i)}var nE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RN(c,f){if(c){c=c.split("&");for(let m=0;m<c.length;m++){const b=c[m].indexOf("=");let F,U=null;b>=0?(F=c[m].substring(0,b),U=c[m].substring(b+1)):F=c[m],f(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ys(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof ys?(this.l=c.l,Nl(this,c.j),this.o=c.o,this.g=c.g,Ol(this,c.u),this.h=c.h,Pp(this,lE(c.i)),this.m=c.m):c&&(f=String(c).match(nE))?(this.l=!1,Nl(this,f[1]||"",!0),this.o=Dl(f[2]||""),this.g=Dl(f[3]||"",!0),Ol(this,f[4]),this.h=Dl(f[5]||"",!0),Pp(this,f[6]||"",!0),this.m=Dl(f[7]||"")):(this.l=!1,this.i=new Ml(null,this.l))}ys.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Ll(f,rE,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Ll(f,rE,!0),"@"),c.push(kl(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&c.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Ll(m,m.charAt(0)=="/"?kN:xN,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Ll(m,NN)),c.join("")},ys.prototype.resolve=function(c){const f=lr(this);let m=!!c.j;m?Nl(f,c.j):m=!!c.o,m?f.o=c.o:m=!!c.g,m?f.g=c.g:m=c.u!=null;var b=c.h;if(m)Ol(f,c.u);else if(m=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var F=f.h.lastIndexOf("/");F!=-1&&(b=f.h.slice(0,F+1)+b)}if(F=b,F==".."||F==".")b="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){b=F.lastIndexOf("/",0)==0,F=F.split("/");const U=[];for(let K=0;K<F.length;){const Se=F[K++];Se=="."?b&&K==F.length&&U.push(""):Se==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),b&&K==F.length&&U.push("")):(U.push(Se),b=!0)}b=U.join("/")}else b=F}return m?f.h=b:m=c.i.toString()!=="",m?Pp(f,lE(c.i)):m=!!c.m,m&&(f.m=c.m),f};function lr(c){return new ys(c)}function Nl(c,f,m){c.j=m?Dl(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Ol(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Pp(c,f,m){f instanceof Ml?(c.i=f,ON(c.i,c.l)):(m||(f=Ll(f,PN)),c.i=new Ml(f,c.l))}function Ke(c,f,m){c.i.set(f,m)}function Vu(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Dl(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ll(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,CN),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function CN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rE=/[#\/\?@]/g,xN=/[#\?:]/g,kN=/[#\?]/g,PN=/[#\?@]/g,NN=/#/g;function Ml(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Mi(c){c.g||(c.g=new Map,c.h=0,c.i&&RN(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ml.prototype,t.add=function(c,f){Mi(this),this.i=null,c=Do(this,c);let m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function sE(c,f){Mi(c),f=Do(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function iE(c,f){return Mi(c),f=Do(c,f),c.g.has(f)}t.forEach=function(c,f){Mi(this),this.g.forEach(function(m,b){m.forEach(function(F){c.call(f,F,b,this)},this)},this)};function oE(c,f){Mi(c);let m=[];if(typeof f=="string")iE(c,f)&&(m=m.concat(c.g.get(Do(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)m=m.concat(c[f]);return m}t.set=function(c,f){return Mi(this),this.i=null,c=Do(this,c),iE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=oE(this,c),c.length>0?String(c[0]):f):f};function aE(c,f,m){sE(c,f),m.length>0&&(c.i=null,c.g.set(Do(c,f),y(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let b=0;b<f.length;b++){var m=f[b];const F=kl(m);m=oE(this,m);for(let U=0;U<m.length;U++){let K=F;m[U]!==""&&(K+="="+kl(m[U])),c.push(K)}}return this.i=c.join("&")};function lE(c){const f=new Ml;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function Do(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function ON(c,f){f&&!c.j&&(Mi(c),c.i=null,c.g.forEach(function(m,b){const F=b.toLowerCase();b!=F&&(sE(this,b),aE(this,F,m))},c)),c.j=f}function DN(c,f){const m=new xl;if(o.Image){const b=new Image;b.onload=d(_s,m,"TestLoadImage: loaded",!0,f,b),b.onerror=d(_s,m,"TestLoadImage: error",!1,f,b),b.onabort=d(_s,m,"TestLoadImage: abort",!1,f,b),b.ontimeout=d(_s,m,"TestLoadImage: timeout",!1,f,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else f(!1)}function LN(c,f){const m=new xl,b=new AbortController,F=setTimeout(()=>{b.abort(),_s(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:b.signal}).then(U=>{clearTimeout(F),U.ok?_s(m,"TestPingServer: ok",!0,f):_s(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),_s(m,"TestPingServer: error",!1,f)})}function _s(c,f,m,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(m)}catch{}}function MN(){this.g=new _N}function Np(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Np,Fw),Np.prototype.g=function(){return new Fu(this.i,this.h)};function Fu(c,f){ft.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Fu,ft),t=Fu.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Fl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fl(this)),this.g&&(this.readyState=3,Fl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cE(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function cE(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Vl(this):Fl(this),this.readyState==3&&cE(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Vl(this))},t.Na=function(c){this.g&&(this.response=c,Vl(this))},t.ga=function(){this.g&&Vl(this)};function Vl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fl(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Fl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function uE(c){let f="";return Q(c,function(m,b){f+=b,f+=":",f+=m,f+=`\r
`}),f}function Op(c,f,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=uE(m),typeof c=="string"?m!=null&&kl(m):Ke(c,f,m))}function ct(c){ft.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(ct,ft);var VN=/^https?$/i,FN=["POST","PUT"];t=ct.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ww.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(U){dE(this,U);return}if(c=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)m.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())m.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),F=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(FN,f,void 0)>=0)||b||F||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of m)this.g.setRequestHeader(U,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(U){dE(this,U)}};function dE(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,hE(c),Uu(c)}function hE(c){c.A||(c.A=!0,Jt(c,"complete"),Jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Jt(this,"complete"),Jt(this,"abort"),Uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fE(this):this.Xa())},t.Xa=function(){fE(this)};function fE(c){if(c.h&&typeof i<"u"){if(c.v&&vs(c)==4)setTimeout(c.Ca.bind(c),0);else if(Jt(c,"readystatechange"),vs(c)==4){c.h=!1;try{const U=c.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var b;if(b=U===0){let K=String(c.D).match(nE)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),b=!VN.test(K?K.toLowerCase():"")}m=b}if(m)Jt(c,"complete"),Jt(c,"success");else{c.o=6;try{var F=vs(c)>2?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.ca()+"]",hE(c)}}finally{Uu(c)}}}}function Uu(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const m=c.g;c.g=null,f||Jt(c,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),yN(f)}};function pE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function UN(c){const f={};c=(c.g&&vs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(N(c[b]))continue;var m=SN(c[b]);const F=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[F]||[];f[F]=U,U.push(m)}oe(f,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ul(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function mE(c){this.za=0,this.i=[],this.j=new xl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ul("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ul("baseRetryDelayMs",5e3,c),this.Za=Ul("retryDelaySeedMs",1e4,c),this.Ta=Ul("forwardChannelMaxRetries",2,c),this.va=Ul("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yw(c&&c.concurrentRequestLimit),this.Ba=new MN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=mE.prototype,t.ka=8,t.I=1,t.connect=function(c,f,m,b){en(0),this.W=c,this.H=f||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.J=IE(this,null,this.W),Bu(this)};function Dp(c){if(gE(c),c.I==3){var f=c.V++,m=lr(c.J);if(Ke(m,"SID",c.M),Ke(m,"RID",f),Ke(m,"TYPE","terminate"),jl(c,m),f=new gs(c,c.j,f),f.M=2,f.A=Vu(lr(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=AE(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Mu(f)}SE(c)}function ju(c){c.g&&(Mp(c),c.g.cancel(),c.g=null)}function gE(c){ju(c),c.v&&(o.clearTimeout(c.v),c.v=null),zu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Bu(c){if(!Zw(c.h)&&!c.m){c.m=!0;var f=c.Ea;L||S(),V||(L(),V=!0),A.add(f,c),c.D=0}}function jN(c,f){return Jw(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Cl(u(c.Ea,c,f),TE(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const F=new gs(this,this.j,c);let U=this.o;if(this.U&&(U?(U=z(U),ae(U,this.U)):U=this.U),this.u!==null||this.R||(F.J=U,U=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=_E(this,F,f),m=lr(this.J),Ke(m,"RID",c),Ke(m,"CVER",22),this.G&&Ke(m,"X-HTTP-Session-Id",this.G),jl(this,m),U&&(this.R?f="headers="+kl(uE(U))+"&"+f:this.u&&Op(m,this.u,U)),kp(this.h,F),this.Ra&&Ke(m,"TYPE","init"),this.S?(Ke(m,"$req",f),Ke(m,"SID","null"),F.U=!0,bp(F,m,null)):bp(F,m,f),this.I=2}}else this.I==3&&(c?yE(this,c):this.i.length==0||Zw(this.h)||yE(this))};function yE(c,f){var m;f?m=f.l:m=c.V++;const b=lr(c.J);Ke(b,"SID",c.M),Ke(b,"RID",m),Ke(b,"AID",c.K),jl(c,b),c.u&&c.o&&Op(b,c.u,c.o),m=new gs(c,c.j,m,c.D+1),c.u===null&&(m.J=c.o),f&&(c.i=f.G.concat(c.i)),f=_E(c,m,1e3),m.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),kp(c.h,m),bp(m,b,f)}function jl(c,f){c.H&&Q(c.H,function(m,b){Ke(f,b,m)}),c.l&&Q({},function(m,b){Ke(f,b,m)})}function _E(c,f,m){m=Math.min(c.i.length,m);const b=c.l?u(c.l.Ka,c.l,c):null;e:{var F=c.i;let Se=-1;for(;;){const It=["count="+m];Se==-1?m>0?(Se=F[0].g,It.push("ofs="+Se)):Se=0:It.push("ofs="+Se);let qe=!0;for(let Ct=0;Ct<m;Ct++){var U=F[Ct].g;const cr=F[Ct].map;if(U-=Se,U<0)Se=Math.max(0,F[Ct].g-100),qe=!1;else try{U="req"+U+"_"||"";try{var K=cr instanceof Map?cr:Object.entries(cr);for(const[Fi,ws]of K){let Es=ws;a(ws)&&(Es=Ep(ws)),It.push(U+Fi+"="+encodeURIComponent(Es))}}catch(Fi){throw It.push(U+"type="+encodeURIComponent("_badmap")),Fi}}catch{b&&b(cr)}}if(qe){K=It.join("&");break e}}K=void 0}return c=c.i.splice(0,m),f.G=c,K}function vE(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;L||S(),V||(L(),V=!0),A.add(f,c),c.A=0}}function Lp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Cl(u(c.Da,c),TE(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,wE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Cl(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),ju(this),wE(this))};function Mp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function wE(c){c.g=new gs(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=lr(c.na);Ke(f,"RID","rpc"),Ke(f,"SID",c.M),Ke(f,"AID",c.K),Ke(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(f,"TO",c.ia),Ke(f,"TYPE","xmlhttp"),jl(c,f),c.u&&c.o&&Op(f,c.u,c.o),c.O&&(c.g.H=c.O);var m=c.g;c=c.ba,m.M=1,m.A=Vu(lr(f)),m.u=null,m.R=!0,Kw(m,c)}t.Va=function(){this.C!=null&&(this.C=null,ju(this),Lp(this),en(19))};function zu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function EE(c,f){var m=null;if(c.g==f){zu(c),Mp(c),c.g=null;var b=2}else if(xp(c.h,f))m=f.G,eE(c.h,f),b=1;else return;if(c.I!=0){if(f.o)if(b==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var F=c.D;b=Du(),Jt(b,new $w(b,m)),Bu(c)}else vE(c);else if(F=f.m,F==3||F==0&&f.X>0||!(b==1&&jN(c,f)||b==2&&Lp(c)))switch(m&&m.length>0&&(f=c.h,f.i=f.i.concat(m)),F){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function TE(c,f){let m=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(m*=2),m*f}function Vi(c,f){if(c.j.info("Error code "+f),f==2){var m=u(c.bb,c),b=c.Ua;const F=!b;b=new ys(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Nl(b,"https"),Vu(b),F?DN(b.toString(),m):LN(b.toString(),m)}else en(2);c.I=0,c.l&&c.l.pa(f),SE(c),gE(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function SE(c){if(c.I=0,c.ja=[],c.l){const f=tE(c.h);(f.length!=0||c.i.length!=0)&&(I(c.ja,f),I(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function IE(c,f,m){var b=m instanceof ys?lr(m):new ys(m);if(b.g!="")f&&(b.g=f+"."+b.g),Ol(b,b.u);else{var F=o.location;b=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;const U=new ys(null);b&&Nl(U,b),f&&(U.g=f),F&&Ol(U,F),m&&(U.h=m),b=U}return m=c.G,f=c.wa,m&&f&&Ke(b,m,f),Ke(b,"VER",c.ka),jl(c,b),b}function AE(c,f,m){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new ct(new Np({ab:m})):new ct(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bE(){}t=bE.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $u(){}$u.prototype.g=function(c,f){return new wn(c,f)};function wn(c,f){ft.call(this),this.g=new mE(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!N(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!N(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Lo(this)}h(wn,ft),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Dp(this.g)},wn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.v&&(m={},m.__data__=Ep(c),c=m);f.i.push(new bN(f.Ya++,c)),f.I==3&&Bu(f)},wn.prototype.N=function(){this.g.l=null,delete this.j,Dp(this.g),delete this.g,wn.Z.N.call(this)};function RE(c){Tp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}h(RE,Tp);function CE(){Sp.call(this),this.status=1}h(CE,Sp);function Lo(c){this.g=c}h(Lo,bE),Lo.prototype.ra=function(){Jt(this.g,"a")},Lo.prototype.qa=function(c){Jt(this.g,new RE(c))},Lo.prototype.pa=function(c){Jt(this.g,new CE)},Lo.prototype.oa=function(){Jt(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,hk=function(){return new $u},dk=function(){return Du()},uk=Di,Ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Zd=Lu,qw.COMPLETE="complete",ck=qw,Uw.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",ft.prototype.listen=ft.prototype.J,oc=Uw,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,lk=ct}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const rS="@firebase/firestore",sS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new vv("@firebase/firestore");function Bo(){return wo.logLevel}function te(t,...e){if(wo.logLevel<=Ce.DEBUG){const n=e.map(Fv);wo.debug(`Firestore (${gl}): ${t}`,...n)}}function us(t,...e){if(wo.logLevel<=Ce.ERROR){const n=e.map(Fv);wo.error(`Firestore (${gl}): ${t}`,...n)}}function qa(t,...e){if(wo.logLevel<=Ce.WARN){const n=e.map(Fv);wo.warn(`Firestore (${gl}): ${t}`,...n)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fk(t,r,n)}function fk(t,e,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw us(r),new Error(r)}function ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fk(e,s,r)}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class u9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d9{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new pk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class h9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new h9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Ty(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Cm(s)===Cm(i)?xe(s,i):Cm(s)?1:-1}return xe(t.length,e.length)}const g9=55296,y9=57343;function Cm(t){const e=t.charCodeAt(0);return e>=g9&&e<=y9}function Wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="__name__";class hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&fe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=hr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return xe(e.length,n.length)}static compareSegments(e,n){const r=hr.isNumericId(e),s=hr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?hr.extractNumericId(e).compare(hr.extractNumericId(n)):Ty(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class He extends hr{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const _9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends hr{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return _9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oS}static keyField(){return new Ft([oS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(He.fromString(e))}static fromName(e){return new le(He.fromString(e).popFirst(5))}static empty(){return new le(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e,n){if(!n)throw new Y(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v9(t,e,n,r){if(e===!0&&r===!0)throw new Y(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aS(t){if(!le.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lS(t){if(le.isDocumentKey(t))throw new Y(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new Y(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ru(t,e){if(!gk(t))throw new Y(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=-62135596800,uS=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uS);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cS)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uS}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:wt("string",Ze._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Ze(0,0))}static max(){return new ge(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function w9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new yi(s,le.empty(),e)}function E9(t){return new yi(t.readTime,t.key,Jc)}class yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yi(ge.min(),le.empty(),Jc)}static max(){return new yi(ge.max(),le.empty(),Jc)}}function T9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==S9)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function A9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-1;function Xf(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function b9(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="";function R9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dS(e)),e=C9(t.get(n),e);return dS(e)}function C9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case yk:n+="";break;default:n+=i}}return n}function dS(t){return t+yk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=s??Mt.EMPTY,this.right=i??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Mt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fS(this.data.getIterator())}getIteratorFrom(e){return new fS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class fS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Rt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vk("Invalid base64 string: "+i):i}}(e);return new zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const x9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=x9.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="server_timestamp",Ek="__type__",Tk="__previous_value__",Sk="__local_write_time__";function Bv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ek])==null?void 0:r.stringValue)===wk}function Yf(t){const e=t.mapValue.fields[Tk];return Bv(e)?Yf(e):e}function eu(t){const e=_i(t.mapValue.fields[Sk].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Xh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="__type__",P9="__max__",vd={mapValue:{}},Ak="__vector__",Yh="value";function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:O9(t)?9007199254740991:N9(t)?10:11:fe(28295,{value:t})}function Dr(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=_i(s.timestampValue),a=_i(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vi(s.bytesValue).isEqual(vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return pt(s.geoPointValue.latitude)===pt(i.geoPointValue.latitude)&&pt(s.geoPointValue.longitude)===pt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return pt(s.integerValue)===pt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=pt(s.doubleValue),a=pt(i.doubleValue);return o===a?Qh(o)===Qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(hS(o)!==hS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dr(o[l],a[l])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Ha(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=pt(i.integerValue||i.doubleValue),l=pt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pS(t.timestampValue,e.timestampValue);case 4:return pS(eu(t),eu(e));case 5:return Ty(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vi(i),l=vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=xe(a[u],l[u]);if(d!==0)return d}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=xe(pt(i.latitude),pt(o.latitude));return a!==0?a:xe(pt(i.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,y,I,_;const a=i.fields||{},l=o.fields||{},u=(p=a[Yh])==null?void 0:p.arrayValue,d=(y=l[Yh])==null?void 0:y.arrayValue,h=xe(((I=u==null?void 0:u.values)==null?void 0:I.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:mS(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===vd.mapValue&&o===vd.mapValue)return 0;if(i===vd.mapValue)return 1;if(o===vd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Ty(l[h],d[h]);if(p!==0)return p;const y=Ha(a[l[h]],u[d[h]]);if(y!==0)return y}return xe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:n})}}function pS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=_i(t),r=_i(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function mS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ha(n[s],r[s]);if(i)return i}return xe(n.length,r.length)}function Ga(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Sy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Sy(n.fields[o])}`;return s+"}"}(t.mapValue):fe(61005,{value:t})}function Jd(t){switch(wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yf(t);return e?16+Jd(e):16;case 5:return 2*t.stringValue.length;case 6:return vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Jd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ki(r.fields,(i,o)=>{s+=i.length+Jd(o)}),s}(t.mapValue);default:throw fe(13486,{value:t})}}function gS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Iy(t){return!!t&&"integerValue"in t}function zv(t){return!!t&&"arrayValue"in t}function yS(t){return!!t&&"nullValue"in t}function _S(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function N9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ik])==null?void 0:r.stringValue)===Ak}function Ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ac(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return{...t}}function O9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=Ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ac(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];eh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new mn(Ac(this.value))}}function bk(t){const e=[];return ki(t.fields,(n,r)=>{const s=new Ft([n]);if(eh(r)){const i=bk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,ge.min(),ge.min(),ge.min(),mn.empty(),0)}static newFoundDocument(e,n,r,s){return new Qt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Qt(e,2,n,ge.min(),ge.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,ge.min(),ge.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function vS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Ha(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function D9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class vt extends Rk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M9(e,n,r):n==="array-contains"?new U9(e,r):n==="in"?new j9(e,r):n==="not-in"?new B9(e,r):n==="array-contains-any"?new z9(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V9(e,r):new F9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ha(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends Rk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new or(e,n)}matches(e){return Ck(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ck(t){return t.op==="and"}function xk(t){return L9(t)&&Ck(t)}function L9(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Ay(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(xk(t))return t.filters.map(e=>Ay(e)).join(",");{const e=t.filters.map(n=>Ay(n)).join(",");return`${t.op}(${e})`}}function kk(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)}(t,e):t instanceof or?function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&kk(o,s.filters[a]),!0):!1}(t,e):void fe(19439)}function Pk(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(Pk).join(" ,")+"}"}(t):"Filter"}class M9 extends vt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class V9 extends vt{constructor(e,n){super(e,"in",n),this.keys=Nk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class F9 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=Nk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class U9 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zv(n)&&nu(n.arrayValue,this.value)}}class j9 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class B9 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class z9 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function ES(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $9(t,e,n,r,s,i,o)}function $v(t){const e=Ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wS(t.startAt,e.startAt)&&wS(t.endAt,e.endAt)}function by(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q9(t,e,n,r,s,i,o,a){return new vl(t,e,n,r,s,i,o,a)}function Zf(t){return new vl(t)}function TS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ok(t){return t.collectionGroup!==null}function bc(t){const e=Ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ru(i,r))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new ru(Ft.keyField(),r))}return e.Ie}function br(t){const e=Ee(t);return e.Ee||(e.Ee=W9(e,bc(t))),e.Ee}function W9(t,e){if(t.limitType==="F")return ES(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ru(s.field,i)});const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return ES(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ry(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return qv(br(t),br(e))&&t.limitType===e.limitType}function Dk(t){return`${$v(br(t))}|lt:${t.limitType}`}function zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Pk(s)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ga(s)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function ep(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=vS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,bc(r),s)||r.endAt&&!function(o,a,l){const u=vS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,bc(r),s))}(t,e)}function H9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lk(t){return(e,n)=>{let r=!1;for(const s of bc(t)){const i=G9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function G9(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ha(l,u):fe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return _k(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new ot(le.comparator);function ds(){return K9}const Mk=new ot(le.comparator);function ac(...t){let e=Mk;for(const n of t)e=e.insert(n.key,n);return e}function Vk(t){let e=Mk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qi(){return Rc()}function Fk(){return Rc()}function Rc(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q9=new ot(le.comparator),X9=new Rt(le.comparator);function ke(...t){let e=X9;for(const n of t)e=e.add(n);return e}const Y9=new Rt(xe);function Z9(){return Y9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function Uk(t){return{integerValue:""+t}}function J9(t,e){return b9(e)?Uk(e):Wv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function eB(t,e,n){return t instanceof su?function(s,i){const o={fields:{[Ek]:{stringValue:wk},[Sk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bv(i)&&(i=Yf(i)),i&&(o.fields[Tk]=i),{mapValue:o}}(n,e):t instanceof Ka?Bk(t,e):t instanceof Qa?zk(t,e):function(s,i){const o=jk(s,i),a=SS(o)+SS(s.Ae);return Iy(o)&&Iy(s.Ae)?Uk(a):Wv(s.serializer,a)}(t,e)}function tB(t,e,n){return t instanceof Ka?Bk(t,e):t instanceof Qa?zk(t,e):n}function jk(t,e){return t instanceof Jh?function(r){return Iy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class su extends tp{}class Ka extends tp{constructor(e){super(),this.elements=e}}function Bk(t,e){const n=$k(e);for(const r of t.elements)n.some(s=>Dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qa extends tp{constructor(e){super(),this.elements=e}}function zk(t,e){let n=$k(e);for(const r of t.elements)n=n.filter(s=>!Dr(s,r));return{arrayValue:{values:n}}}class Jh extends tp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SS(t){return pt(t.integerValue||t.doubleValue)}function $k(t){return zv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.field=e,this.transform=n}}function nB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ka&&s instanceof Ka||r instanceof Qa&&s instanceof Qa?Wa(r.elements,s.elements,Dr):r instanceof Jh&&s instanceof Jh?Dr(r.Ae,s.Ae):r instanceof su&&s instanceof su}(t.transform,e.transform)}class rB{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class np{}function qk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hk(t.key,nr.none()):new Cu(t.key,t.data,nr.none());{const n=t.data,r=mn.empty();let s=new Rt(Ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Pi(t.key,r,new bn(s.toArray()),nr.none())}}function sB(t,e,n){t instanceof Cu?function(s,i,o){const a=s.value.clone(),l=AS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(s,i,o){if(!th(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=AS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Wk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof Cu?function(i,o,a,l){if(!th(i.precondition,o))return a;const u=i.value.clone(),d=bS(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pi?function(i,o,a,l){if(!th(i.precondition,o))return a;const u=bS(i.fieldTransforms,l,o),d=o.data;return d.setAll(Wk(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return th(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=jk(r.transform,s||null);i!=null&&(n===null&&(n=mn.empty()),n.set(r.field,i))}return n||null}function IS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,(i,o)=>nB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends np{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pi extends np{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Wk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function AS(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,tB(o,a,n[s]))}return r}function bS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,eB(i,o,e))}return r}class Hk extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oB extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&sB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Fk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=qk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>IS(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>IS(n,r))}}class Gv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Q9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Gv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Le;function uB(t){switch(t){case j.OK:return fe(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function Gk(t){if(t===void 0)return us("GRPC error has no .code"),j.UNKNOWN;switch(t){case gt.OK:return j.OK;case gt.CANCELLED:return j.CANCELLED;case gt.UNKNOWN:return j.UNKNOWN;case gt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case gt.INTERNAL:return j.INTERNAL;case gt.UNAVAILABLE:return j.UNAVAILABLE;case gt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case gt.NOT_FOUND:return j.NOT_FOUND;case gt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case gt.ABORTED:return j.ABORTED;case gt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case gt.DATA_LOSS:return j.DATA_LOSS;default:return fe(39323,{code:t})}}(Le=gt||(gt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=new li([4294967295,4294967295],0);function RS(t){const e=dB().encode(t),n=new ak;return n.update(e),new Uint8Array(n.digest())}function CS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new li([n,r],0),new li([s,i],0)]}class Kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(li.fromNumber(r)));return s.compare(hB)===1&&(s=new li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RS(e),[r,s]=CS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Kv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=RS(e),[r,s]=CS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rp(ge.min(),s,new ot(xe),ds(),ke())}}class xu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Kk{constructor(e,n){this.targetId=e,this.Ce=n}}class Qk{constructor(e,n,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class xS{constructor(){this.ve=0,this.Fe=kS(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe(38017,{changeType:i})}}),new xu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fB{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=wd(),this.He=wd(),this.Ye=new ot(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(by(i))if(r===0){const o=new le(i.path);this.et(n,o,Qt.newNoDocument(o,ge.min()))}else ze(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vi(r).toUint8Array()}catch(l){if(l instanceof vk)return qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Kv(o,s,i)}catch(l){return qa(l instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&by(a.target)){const l=new le(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Qt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ke();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new rp(e,n,this.Ye,this.je,r);return this.je=ds(),this.Je=wd(),this.He=wd(),this.Ye=new ot(xe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new xS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wd(){return new ot(le.comparator)}function kS(){return new ot(le.comparator)}const pB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gB={and:"AND",or:"OR"};class yB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function ef(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _B(t,e){return ef(t,e.toTimestamp())}function Rr(t){return ze(!!t,49232),ge.fromTimestamp(function(n){const r=_i(n);return new Ze(r.seconds,r.nanos)}(t))}function Qv(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Yk(t){const e=He.fromString(t);return ze(nP(e),10190,{key:e.toString()}),e}function Py(t,e){return Qv(t.databaseId,e.path)}function xm(t,e){const n=Yk(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(Jk(n))}function Zk(t,e){return Qv(t.databaseId,e)}function vB(t){const e=Yk(t);return e.length===4?He.emptyPath():Jk(e)}function Ny(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jk(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PS(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function wB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(ze(d===void 0||typeof d=="string",58123),zt.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?j.UNKNOWN:Gk(u.code);return new Y(d,u.message||"")}(o);n=new Qk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xm(t,r.document.name),i=Rr(r.document.updateTime),o=r.document.createTime?Rr(r.document.createTime):ge.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new nh(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xm(t,r.document),i=r.readTime?Rr(r.readTime):ge.min(),o=Qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xm(t,r.document),i=r.removedTargetIds||[];n=new nh([],i,s,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cB(s,i),a=r.targetId;n=new Kk(a,o)}}return n}function EB(t,e){let n;if(e instanceof Cu)n={update:PS(t,e.key,e.value)};else if(e instanceof Hk)n={delete:Py(t,e.key)};else if(e instanceof Pi)n={update:PS(t,e.key,e.data),updateMask:kB(e.fieldMask)};else{if(!(e instanceof oB))return fe(16599,{Vt:e.type});n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw fe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_B(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe(27497)}(t,e.precondition)),n}function TB(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Rr(s.updateTime):Rr(i);return o.isEqual(ge.min())&&(o=Rr(i)),new rB(o,s.transformResults||[])}(n,e))):[]}function SB(t,e){return{documents:[Zk(t,e.path)]}}function IB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zk(t,s);const i=function(u){if(u.length!==0)return tP(or.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:$o(p.field),direction:RB(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=xy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function AB(t){let e=vB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=eP(h);return p instanceof or&&xk(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(I){return new ru(qo(I.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Xf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new Zh(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,y=h.values||[];return new Zh(y,p)}(n.endAt)),q9(e,s,o,i,a,"F",l,u)}function bB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qo(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qo(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qo(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qo(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(qo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(r=>eP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(n.compositeFilter.op))}(t):fe(30097,{filter:t})}function RB(t){return pB[t]}function CB(t){return mB[t]}function xB(t){return gB[t]}function $o(t){return{fieldPath:t.canonicalString()}}function qo(t){return Ft.fromServerFormat(t.fieldPath)}function tP(t){return t instanceof vt?function(n){if(n.op==="=="){if(_S(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(yS(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_S(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(yS(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:CB(n.op),value:n.value}}}(t):t instanceof or?function(n){const r=n.getFilters().map(s=>tP(s));return r.length===1?r[0]:{compositeFilter:{op:xB(n.op),filters:r}}}(t):fe(54877,{filter:t})}function kB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.yt=e}}function NB(t){const e=AB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.Cn=new DB}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(yi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class DB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rP=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(rP,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xa(0)}static cr(){return new Xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="LruGarbageCollector",LB=1048576;function DS([t,e],[n,r]){const s=xe(t,n);return s===0?xe(e,r):s}class MB{constructor(e){this.Ir=e,this.buffer=new Rt(DS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(OS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?te(OS,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Vr(3e5)})}}class FB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Qf.ce);const r=new MB(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(NS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Bo()<=Ce.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function UB(t,e){return new FB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cc(r.mutation,s,bn.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=Qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ac();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ds();const o=Rc(),a=function(){return Rc()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Pi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Cc(d.mutation,u,d.mutation.getFieldMask(),Ze.now())):o.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new BB(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Rc();let s=new ot((o,a)=>o-a),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||bn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ke()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Fk();d.forEach(p=>{if(!i.has(p)){const y=qk(n.get(p),r.get(p));y!==null&&h.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ok(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Qi());let a=Jc,l=i;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ke())).next(d=>({batchId:a,changes:Vk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=ac();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ac();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const u=function(h,p){return new vl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Qt.newInvalidDocument(d)))});let a=ac();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Cc(d.mutation,u,bn.empty(),Ze.now()),ep(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:NB(s.bundledQuery),readTime:Rr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.overlays=new ot(le.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Qi(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Qi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Qi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lB(n,r));let i=this.qr.get(n);i===void 0&&(i=ke(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.Qr=new Rt(kt.$r),this.Ur=new Rt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new le(new He([])),r=new kt(n,e),s=new kt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new le(new He([])),r=new kt(n,e),s=new kt(n,e+1);let i=ke();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return le.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(kt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aB(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new kt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),s=new kt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(xe);return n.forEach(s=>{const i=new kt(s,0),o=new kt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new kt(new le(i),0);let a=new Rt(xe);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new kt(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.ri=e,this.docs=function(){return new ot(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Qt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ds();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||T9(E9(d),r)<=0||(s.has(d.key)||ep(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KB(this)}getSize(e){return $.resolve(this.size)}}class KB extends jB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.persistence=e,this.si=new ko(n=>$v(n),qv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.oi=0,this._i=new Xv,this.targetCount=0,this.ai=Xa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new WB,this.referenceDelegate=e(this),this.Pi=new QB(this),this.indexManager=new OB,this.remoteDocumentCache=function(s){return new GB(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new PB(n),this.Ii=new $B(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new HB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new XB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class XB extends I9{constructor(e){super(),this.currentSequenceNumber=e}}class Yv{constructor(e){this.persistence=e,this.Ri=new Xv,this.Vi=null}static mi(e){return new Yv(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=le.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class tf{constructor(e,n){this.persistence=e,this.pi=new ko(r=>R9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=UB(this,n)}static mi(e,n){return new tf(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Zv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return N4()?8:A9(Yt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new YB;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Bo()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Bo()<=Ce.DEBUG&&te("QueryEngine","Query:",zo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Bo()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):$.resolve())}ys(e,n){if(TS(n))return $.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Cy(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ke(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Cy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return TS(n)||s.isEqual(ge.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Bo()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zo(n)),this.vs(e,o,n,w9(s,Jc)).next(a=>a))})}Ds(e,n){let r=new Rt(Lk(e));return n.forEach((s,i)=>{ep(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Bo()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,yi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LocalStore",JB=3e8;class ez{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ot(xe),this.xs=new ko(i=>$v(i),qv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function tz(t,e,n,r){return new ez(t,e,n,r)}async function iP(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ke();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function nz(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let y=$.resolve();return p.forEach(I=>{y=y.next(()=>d.getEntry(l,I)).next(_=>{const E=u.docVersions.get(I);ze(E!==null,48541),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function oP(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rz(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(zt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(h,y),function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=JB?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,y,d)&&a.push(n.Pi.updateTargetData(i,y))});let l=ds(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(sz(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ge.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function sz(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ds();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(Jv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function iz(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oz(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Oy(t,e,n){const r=Ee(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_l(o))throw o;te(Jv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function LS(t,e,n){const r=Ee(t);let s=ge.min(),i=ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Ee(l),p=h.xs.get(d);return p!==void 0?$.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(r,o,br(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:ke())).next(a=>(az(r,H9(e),a),{documents:a,Qs:i})))}function az(t,e,n){let r=t.Os.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class MS{constructor(){this.activeTargetIds=Z9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lz{constructor(){this.Mo=new MS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="ConnectivityMonitor";class FS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(VS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(VS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function Dy(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",uz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Dy(),a=this.zo(e,n.toUriEncodedString());te(km,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=xi(u);return this.Jo(e,a,l,r,d).then(h=>(te(km,`Received RPC '${e}' ${o}: `,h),h),h=>{throw qa(km,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=uz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class fz extends dz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Dy();return new Promise((a,l)=>{const u=new lk;u.setWithCredentials(!0),u.listenOnce(ck.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zd.NO_ERROR:const h=u.getResponseJson();te(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Zd.TIMEOUT:te(Ht,`RPC '${e}' ${o} timed out`),l(new Y(j.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const p=u.getStatus();if(te(Ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const _=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(I.status);l(new Y(_,I.message))}else l(new Y(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(j.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{te(Ht,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);te(Ht,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Dy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hk(),a=dk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");te(Ht,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,y=!1;const I=new hz({Yo:E=>{y?te(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(te(Ht,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),te(Ht,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),_=(E,w,v)=>{E.listen(w,T=>{try{v(T)}catch(k){setTimeout(()=>{throw k},0)}})};return _(h,oc.EventType.OPEN,()=>{y||(te(Ht,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),_(h,oc.EventType.CLOSE,()=>{y||(y=!0,te(Ht,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(h))}),_(h,oc.EventType.ERROR,E=>{y||(y=!0,qa(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),I.a_(new Y(j.UNAVAILABLE,"The operation could not be completed")))}),_(h,oc.EventType.MESSAGE,E=>{var w;if(!y){const v=E.data[0];ze(!!v,16349);const T=v,k=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(k){te(Ht,`RPC '${e}' stream ${s} received error:`,k);const L=k.status;let V=function(x){const P=gt[x];if(P!==void 0)return Gk(P)}(L),A=k.message;V===void 0&&(V=j.INTERNAL,A="Unknown error status: "+L+" with message "+k.message),y=!0,I.a_(new Y(V,A)),h.close()}else te(Ht,`RPC '${e}' stream ${s} received:`,v),I.u_(v)}}),_(a,uk.STAT_EVENT,E=>{E.stat===Ey.PROXY?te(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Ey.NOPROXY&&te(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return new yB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="PersistentStream";class lP{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(US,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(US,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pz extends lP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wB(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Rr(o.readTime):ge.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ny(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=by(l)?{documents:SB(i,l)}:{query:IB(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Xk(i,o.resumeToken);const u=xy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=ef(i,o.snapshotVersion.toTimestamp());const u=xy(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=bB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.q_(n)}}class mz extends lP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TB(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{}class yz extends gz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ky(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(j.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ky(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(j.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _z{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class vz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Po(this)&&(te(Eo,"Restarting streams for network reachability change."),await async function(l){const u=Ee(l);u.Ea.add(4),await ku(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ip(u)}(this))})}),this.Ra=new _z(r,s)}}async function ip(t){if(Po(t))for(const e of t.da)await e(!0)}async function ku(t){for(const e of t.da)await e(!1)}function cP(t,e){const n=Ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rw(n)?nw(n):wl(n).O_()&&tw(n,e))}function ew(t,e){const n=Ee(t),r=wl(n);n.Ia.delete(e),r.O_()&&uP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Po(n)&&n.Ra.set("Unknown"))}function tw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function uP(t,e){t.Va.Ue(e),wl(t).Z_(e)}function nw(t){t.Va=new fB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function rw(t){return Po(t)&&!wl(t).x_()&&t.Ia.size>0}function Po(t){return Ee(t).Ea.size===0}function dP(t){t.Va=void 0}async function wz(t){t.Ra.set("Online")}async function Ez(t){t.Ia.forEach((e,n)=>{tw(t,e)})}async function Tz(t,e){dP(t),rw(t)?(t.Ra.ha(e),nw(t)):t.Ra.set("Unknown")}async function Sz(t,e,n){if(t.Ra.set("Online"),e instanceof Qk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){te(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nf(t,r)}else if(e instanceof nh?t.Va.Ze(e):e instanceof Kk?t.Va.st(e):t.Va.tt(e),!n.isEqual(ge.min()))try{const r=await oP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),uP(i,l);const h=new Ks(d.target,l,u,d.sequenceNumber);tw(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(Eo,"Failed to raise snapshot:",r),await nf(t,r)}}async function nf(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await ku(t),t.Ra.set("Offline"),n||(n=()=>oP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ip(t)})}function hP(t,e){return e().catch(n=>nf(t,n,e))}async function op(t){const e=Ee(t),n=Ei(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jv;for(;Iz(e);)try{const s=await iz(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Az(e,s)}catch(s){await nf(e,s)}fP(e)&&pP(e)}function Iz(t){return Po(t)&&t.Ta.length<10}function Az(t,e){t.Ta.push(e);const n=Ei(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fP(t){return Po(t)&&!Ei(t).x_()&&t.Ta.length>0}function pP(t){Ei(t).start()}async function bz(t){Ei(t).ra()}async function Rz(t){const e=Ei(t);for(const n of t.Ta)e.ea(n.mutations)}async function Cz(t,e,n){const r=t.Ta.shift(),s=Gv.from(r,e,n);await hP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await op(t)}async function xz(t,e){e&&Ei(t).X_&&await async function(r,s){if(function(o){return uB(o)&&o!==j.ABORTED}(s.code)){const i=r.Ta.shift();Ei(r).B_(),await hP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await op(r)}}(t,e),fP(t)&&pP(t)}async function jS(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),te(Eo,"RemoteStore received new credentials");const r=Po(n);n.Ea.add(3),await ku(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ip(n)}async function kz(t,e){const n=Ee(t);e?(n.Ea.delete(2),await ip(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=function(n,r,s){const i=Ee(n);return i.sa(),new pz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:wz.bind(null,t),t_:Ez.bind(null,t),r_:Tz.bind(null,t),H_:Sz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),rw(t)?nw(t):t.Ra.set("Unknown")):(await t.ma.stop(),dP(t))})),t.ma}function Ei(t){return t.fa||(t.fa=function(n,r,s){const i=Ee(n);return i.sa(),new mz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:bz.bind(null,t),r_:xz.bind(null,t),ta:Rz.bind(null,t),na:Cz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await op(t)):(await t.fa.stop(),t.Ta.length>0&&(te(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new sw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iw(t,e){if(us("AsyncQueue",`${e}: ${t}`),_l(t))return new Y(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.ga=new ot(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ya{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ya(e,n,ga.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Nz{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=zS(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Y(j.ABORTED,"Firestore shutting down"))}}function zS(){return new ko(t=>Dk(t),Jf)}async function ow(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Pz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=iw(o,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&lw(n)}async function aw(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oz(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&lw(n)}function Dz(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function lw(t){t.Ca.forEach(e=>{e.next()})}var Ly,$S;($S=Ly||(Ly={})).Ma="default",$S.Cache="cache";class cw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.key=e}}class gP{constructor(e){this.key=e}}class Lz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Lk(e),this.tu=new ga(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new BS,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),y=ep(this.query,h)?h:null,I=!!p&&this.mutatedKeys.has(p.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;p&&y?p.data.isEqual(y.data)?I!==_&&(r.track({type:3,doc:y}),E=!0):this.su(p,y)||(r.track({type:2,doc:y}),E=!0,(l&&this.eu(y,l)>0||u&&this.eu(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),E=!0):p&&!y&&(r.track({type:1,doc:p}),E=!0,(l||u)&&(a=!0)),E&&(y?(o=o.add(y),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(y,I){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:E})}};return _(y)-_(I)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ya(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new gP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new mP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uw="SyncEngine";class Mz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Vz{constructor(e){this.key=e,this.hu=!1}}class Fz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ko(a=>Dk(a),Jf),this.Iu=new Map,this.Eu=new Set,this.du=new ot(le.comparator),this.Au=new Map,this.Ru=new Xv,this.Vu={},this.mu=new Map,this.fu=Xa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Uz(t,e,n=!0){const r=TP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await yP(r,e,n,!0),s}async function jz(t,e){const n=TP(t);await yP(n,e,!0,!1)}async function yP(t,e,n,r){const s=await oz(t.localStore,br(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Bz(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&cP(t.remoteStore,s),a}async function Bz(t,e,n,r,s){t.pu=(h,p,y)=>async function(_,E,w,v){let T=E.view.ru(w);T.Cs&&(T=await LS(_.localStore,E.query,!1).then(({documents:A})=>E.view.ru(A,T)));const k=v&&v.targetChanges.get(E.targetId),L=v&&v.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(T,_.isPrimaryClient,k,L);return WS(_,E.targetId,V.au),V.snapshot}(t,h,p,y);const i=await LS(t.localStore,e,!0),o=new Lz(e,i.Qs),a=o.ru(i.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);WS(t,n,u.au);const d=new Mz(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function zz(t,e,n){const r=Ee(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Jf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Oy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ew(r.remoteStore,s.targetId),My(r,s.targetId)}).catch(yl)):(My(r,s.targetId),await Oy(r.localStore,s.targetId,!0))}async function $z(t,e){const n=Ee(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ew(n.remoteStore,r.targetId))}async function qz(t,e,n){const r=Yz(t);try{const s=await function(o,a){const l=Ee(o),u=Ze.now(),d=a.reduce((y,I)=>y.add(I.key),ke());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=ds(),_=ke();return l.Ns.getEntries(y,d).next(E=>{I=E,I.forEach((w,v)=>{v.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,I)).next(E=>{h=E;const w=[];for(const v of a){const T=iB(v,h.get(v.key).overlayedDocument);T!=null&&w.push(new Pi(v.key,T,bk(T.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,w,a)}).next(E=>{p=E;const w=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(y,E.batchId,w)})}).then(()=>({batchId:p.batchId,changes:Vk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new ot(xe)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Pu(r,s.changes),await op(r.remoteStore)}catch(s){const i=iw(s,"Failed to persist write");n.reject(i)}}async function _P(t,e){const n=Ee(t);try{const r=await rz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ze(o.hu,14607):s.removedDocuments.size>0&&(ze(o.hu,42227),o.hu=!1))}),await Pu(n,r,e)}catch(r){await yl(r)}}function qS(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ee(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&lw(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wz(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ot(le.comparator);o=o.insert(i,Qt.newNoDocument(i,ge.min()));const a=ke().add(i),l=new rp(ge.min(),new Map,new ot(xe),o,a);await _P(r,l),r.du=r.du.remove(i),r.Au.delete(e),dw(r)}else await Oy(r.localStore,e,!1).then(()=>My(r,e,n)).catch(yl)}async function Hz(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await nz(n.localStore,e);wP(n,r,null),vP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await yl(s)}}async function Gz(t,e,n){const r=Ee(t);try{const s=await function(o,a){const l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ze(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);wP(r,e,n),vP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await yl(s)}}function vP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function wP(t,e,n){const r=Ee(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||EP(t,r)})}function EP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ew(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dw(t))}function WS(t,e,n){for(const r of n)r instanceof mP?(t.Ru.addReference(r.key,e),Kz(t,r)):r instanceof gP?(te(uw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||EP(t,r.key)):fe(19791,{wu:r})}function Kz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(te(uw,"New document in limbo: "+n),t.Eu.add(r),dw(t))}function dw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(He.fromString(e)),r=t.fu.next();t.Au.set(r,new Vz(n)),t.du=t.du.insert(n,r),cP(t.remoteStore,new Ks(br(Zf(n.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function Pu(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Zv.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=Ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,p=>$.forEach(p.Es,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>$.forEach(p.ds,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!_l(h))throw h;te(Jv,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const y=d.Ms.get(p),I=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function Qz(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){te(uw,"User change. New user:",e.toKey());const r=await iP(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Y(j.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function Xz(t,e){const n=Ee(t),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let s=ke();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function TP(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_P.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wz.bind(null,e),e.Pu.H_=Oz.bind(null,e.eventManager),e.Pu.yu=Dz.bind(null,e.eventManager),e}function Yz(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gz.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tz(this.persistence,new ZB,e.initialUser,this.serializer)}Cu(e){return new sP(Yv.mi,this.serializer)}Du(e){return new lz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class Zz extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ze(this.persistence.referenceDelegate instanceof tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new sP(r=>tf.mi(r,n),this.serializer)}}class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qz.bind(null,this.syncEngine),await kz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Nz}()}createDatastore(e){const n=sp(e.databaseInfo.databaseId),r=function(i){return new fz(i)}(e.databaseInfo);return function(i,o,a,l){return new yz(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new vz(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qS(this.syncEngine,n,0),function(){return FS.v()?new FS:new cz}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new Fz(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);te(Eo,"RemoteStore shutting down."),i.Ea.add(5),await ku(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class Jz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(Ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(Ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nm(t,e){t.asyncQueue.verifyOperationInProgress(),te(Ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e$(t);te(Ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jS(e.remoteStore,s)),t._onlineComponents=e}async function e$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Ti,"Using user provided OfflineComponentProvider");try{await Nm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===j.FAILED_PRECONDITION||s.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Nm(t,new rf)}}else te(Ti,"Using default OfflineComponentProvider"),await Nm(t,new Zz(void 0));return t._offlineComponents}async function SP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Ti,"Using user provided OnlineComponentProvider"),await HS(t,t._uninitializedComponentsProvider._online)):(te(Ti,"Using default OnlineComponentProvider"),await HS(t,new Vy))),t._onlineComponents}function t$(t){return SP(t).then(e=>e.syncEngine)}async function sf(t){const e=await SP(t),n=e.eventManager;return n.onListen=Uz.bind(null,e.syncEngine),n.onUnlisten=zz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$z.bind(null,e.syncEngine),n}function n$(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new hw({next:p=>{d.Nu(),o.enqueueAndForget(()=>aw(i,h));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new Y(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new cw(Zf(a.path),d,{includeMetadataChanges:!0,qa:!0});return ow(i,h)}(await sf(t),t.asyncQueue,e,n,r)),r.promise}function r$(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new hw({next:p=>{d.Nu(),o.enqueueAndForget(()=>aw(i,h)),p.fromCache&&l.source==="server"?u.reject(new Y(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new cw(a,d,{includeMetadataChanges:!0,qa:!0});return ow(i,h)}(await sf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firestore.googleapis.com",KS=!0;class QS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AP,this.ssl=KS}else this.host=e.host,this.ssl=e.ssl??KS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LB)throw new Y(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ap{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c9;switch(r.type){case"firstParty":return new f9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=GS.get(n);r&&(te("ComponentProvider","Removing Datastore"),GS.delete(n),r.terminate())}(this),Promise.resolve()}}function s$(t,e,n,r={}){var u;t=xn(t,ap);const s=xi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(yv(`https://${a}`),_v("Firestore",!0)),i.host!==AP&&i.host!==a&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!os(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Gt.MOCK_USER;else{d=ex(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gt(p)}t._authCredentials=new u9(new pk(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ni(this.firestore,e,this._query)}}class ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ru(n,ht._jsonSchema))return new ht(e,r||null,new le(He.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:wt("string",ht._jsonSchemaVersion),referencePath:wt("string")};class ci extends Ni{constructor(e,n,r){super(e,n,Zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new le(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function uH(t,e,...n){if(t=it(t),mk("collection","path",e),t instanceof ap){const r=He.fromString(e,...n);return lS(r),new ci(t,null,r)}{if(!(t instanceof ht||t instanceof ci))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return lS(r),new ci(t.firestore,null,r)}}function i$(t,e,...n){if(t=it(t),arguments.length===1&&(e=Uv.newId()),mk("doc","path",e),t instanceof ap){const r=He.fromString(e,...n);return aS(r),new ht(t,null,new le(r))}{if(!(t instanceof ht||t instanceof ci))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return aS(r),new ht(t.firestore,t instanceof ci?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="AsyncQueue";class YS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aP(this,"async_queue_retry"),this._c=()=>{const r=Pm();r&&te(XS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;te(XS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",ZS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=sw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&fe(47125,{Pc:ZS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Si extends ap{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YS(e),this._firestoreClient=void 0,await e}}}function o$(t,e){const n=typeof t=="object"?t:Ev(),r=typeof t=="string"?t:Xh,s=$f(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=YC("firestore");i&&s$(s,...i)}return s}function lp(t){if(t._terminated)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||a$(t),t._firestoreClient}function a$(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new k9(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,IP(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Jz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(zt.fromBase64String(e))}catch(n){throw new Y(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:wt("string",Un._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:wt("string",Cr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xr(e.vectorValues);throw new Y(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:wt("string",xr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=/^__.*__$/;class c${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class bP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class up{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new up({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RP(this.Ac)&&l$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sp(e)}Cc(e,n,r,s=!1){return new up({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dp(t){const e=t._freezeSettings(),n=sp(t._databaseId);return new u$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CP(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);gw("Data must be an object, but it was:",o,r);const a=kP(r,o);let l,u;if(i.merge)l=new bn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Fy(e,h,n);if(!o.contains(p))throw new Y(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NP(d,p)||d.push(p)}l=new bn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new c$(new mn(a),l,u)}class hp extends El{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function xP(t,e,n){return new up({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fw extends El{_toFieldTransform(e){return new Hv(e.path,new su)}isEqual(e){return e instanceof fw}}class pw extends El{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xP(this,e,!0),r=this.vc.map(i=>No(i,n)),s=new Ka(r);return new Hv(e.path,s)}isEqual(e){return e instanceof pw&&os(this.vc,e.vc)}}class mw extends El{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xP(this,e,!0),r=this.vc.map(i=>No(i,n)),s=new Qa(r);return new Hv(e.path,s)}isEqual(e){return e instanceof mw&&os(this.vc,e.vc)}}function d$(t,e,n,r){const s=t.Cc(1,e,n);gw("Data must be an object, but it was:",s,r);const i=[],o=mn.empty();ki(r,(l,u)=>{const d=yw(e,l,n);u=it(u);const h=s.yc(d);if(u instanceof hp)i.push(d);else{const p=No(u,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new bn(i);return new bP(o,a,s.fieldTransforms)}function h$(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Fy(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Fy(e,i[p])),l.push(i[p+1]);const u=[],d=mn.empty();for(let p=a.length-1;p>=0;--p)if(!NP(u,a[p])){const y=a[p];let I=l[p];I=it(I);const _=o.yc(y);if(I instanceof hp)u.push(y);else{const E=No(I,_);E!=null&&(u.push(y),d.set(y,E))}}const h=new bn(u);return new bP(d,h,o.fieldTransforms)}function f$(t,e,n,r=!1){return No(n,t.Cc(r?4:3,e))}function No(t,e){if(PP(t=it(t)))return gw("Unsupported field value:",e,t),kP(t,e);if(t instanceof El)return function(r,s){if(!RP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=No(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ze.fromDate(r);return{timestampValue:ef(s.serializer,i)}}if(r instanceof Ze){const i=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ef(s.serializer,i)}}if(r instanceof Cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:Xk(s.serializer,r._byteString)};if(r instanceof ht){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xr)return function(o,a){return{mapValue:{fields:{[Ik]:{stringValue:Ak},[Yh]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Wv(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Kf(r)}`)}(t,e)}function kP(t,e){const n={};return _k(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(r,s)=>{const i=No(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function PP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Cr||t instanceof Un||t instanceof ht||t instanceof El||t instanceof xr)}function gw(t,e,n){if(!PP(n)||!gk(n)){const r=Kf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Fy(t,e,n){if((e=it(e))instanceof cp)return e._internalPath;if(typeof e=="string")return yw(t,e);throw of("Field path arguments must be of type string or ",t,!1,void 0,n)}const p$=new RegExp("[~\\*/\\[\\]]");function yw(t,e,n){if(e.search(p$)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cp(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function of(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(j.INVALID_ARGUMENT,a+t+l)}function NP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m$ extends OP{data(){return super.data()}}function fp(t,e){return typeof e=="string"?yw(t,e):e instanceof cp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _w{}class LP extends _w{}function dH(t,e,...n){let r=[];e instanceof _w&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof vw).length,a=i.filter(l=>l instanceof pp).length;if(o>1||o>0&&a>0)throw new Y(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class pp extends LP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pp(e,n,r)}_apply(e){const n=this._parse(e);return MP(e._query,n),new Ni(e.firestore,e.converter,Ry(e._query,n))}_parse(e){const n=dp(e.firestore);return function(i,o,a,l,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){tI(h,d);const I=[];for(const _ of h)I.push(eI(l,i,_));p={arrayValue:{values:I}}}else p=eI(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tI(h,d),p=f$(a,o,h,d==="in"||d==="not-in");return vt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hH(t,e,n){const r=e,s=fp("where",t);return pp._create(s,r,n)}class vw extends _w{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)MP(o,l),o=Ry(o,l)}(e._query,n),new Ni(e.firestore,e.converter,Ry(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ww extends LP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ww(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(i,o)}(e._query,this._field,this._direction);return new Ni(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new vl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function fH(t,e="asc"){const n=e,r=fp("orderBy",t);return ww._create(r,n)}function eI(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new Y(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ok(e)&&n.indexOf("/")!==-1)throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!le.isDocumentKey(r))throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gS(t,new le(r))}if(n instanceof ht)return gS(t,n._key);throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function tI(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g${convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Yh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>pt(o.doubleValue));return new xr(n)}convertGeoPoint(e){return new Cr(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=_i(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);ze(nP(r),9688,{name:e});const s=new tu(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends OP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:wt("string",lo._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class rh extends lo{data(e={}){return super.data(e)}}class co{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new cc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new rh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new cc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new rh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new cc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:y$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(t){t=xn(t,ht);const e=xn(t.firestore,Si);return n$(lp(e),t._key).then(n=>FP(e,t,n))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:wt("string",co._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Ew extends g${constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function mH(t){t=xn(t,Ni);const e=xn(t.firestore,Si),n=lp(e),r=new Ew(e);return DP(t._query),r$(n,t._query).then(s=>new co(e,r,t,s))}function gH(t,e,n){t=xn(t,ht);const r=xn(t.firestore,Si),s=VP(t.converter,e,n);return Tw(r,[CP(dp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,nr.none())])}function yH(t,e,n,...r){t=xn(t,ht);const s=xn(t.firestore,Si),i=dp(s);let o;return o=typeof(e=it(e))=="string"||e instanceof cp?h$(i,"updateDoc",t._key,e,n,r):d$(i,"updateDoc",t._key,e),Tw(s,[o.toMutation(t._key,nr.exists(!0))])}function _H(t,e){const n=xn(t.firestore,Si),r=i$(t),s=VP(t.converter,e);return Tw(n,[CP(dp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function vH(t,...e){var l,u,d;t=it(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||JS(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(JS(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof ht)o=xn(t.firestore,Si),a=Zf(t._key.path),i={next:h=>{e[r]&&e[r](FP(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=xn(t,Ni);o=xn(h.firestore,Si),a=h._query;const p=new Ew(o);i={next:y=>{e[r]&&e[r](new co(o,p,h,y))},error:e[r+1],complete:e[r+2]},DP(t._query)}return function(p,y,I,_){const E=new hw(_),w=new cw(y,E,I);return p.asyncQueue.enqueueAndForget(async()=>ow(await sf(p),w)),()=>{E.Nu(),p.asyncQueue.enqueueAndForget(async()=>aw(await sf(p),w))}}(lp(o),a,s,i)}function Tw(t,e){return function(r,s){const i=new Zr;return r.asyncQueue.enqueueAndForget(async()=>qz(await t$(r),s,i)),i.promise}(lp(t),e)}function FP(t,e,n){const r=n.docs.get(e._key),s=new Ew(t);return new lo(t,s,e._key,r,new cc(n.hasPendingWrites,n.fromCache),e.converter)}function wH(){return new fw("serverTimestamp")}function EH(...t){return new pw("arrayUnion",t)}function TH(...t){return new mw("arrayRemove",t)}(function(e,n=!0){(function(s){gl=s})(xo),_o(new gi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Si(new d9(r.getProvider("auth-internal")),new p9(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ir(rS,sS,e),Ir(rS,sS,"esm2020")})();let Td,UP,jP,BP,Za=!1;function _$(t){if(!t||t.projectId==="your-project-id"){console.warn(" Refusing to initialize Firebase with placeholder/missing config");return}if(Za){console.log(" Firebase already initialized, skipping re-initialization");return}console.log(" Initializing Firebase with config:",{projectId:t.projectId}),Td=rx(t),UP=Q3(Td),jP=i9(Td),BP=o$(Td),Za=!0,console.log(" Firebase initialized successfully")}const Oi=()=>{if(!Za)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return UP},v$=()=>{if(!Za)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return jP},w$=()=>{if(!Za)throw new Error("Firebase not initialized. Make sure SettingsProvider loads settings first.");return BP};new Proxy({},{get:(t,e)=>Oi()[e]});new Proxy({},{get:(t,e)=>v$()[e]});new Proxy({},{get:(t,e)=>w$()[e]});const mp=new yr,gp=new ma("apple.com");mp.addScope("email");mp.addScope("profile");gp.addScope("email");gp.addScope("name");const E$=async()=>{try{const t=await Lx(Oi(),mp),e=yr.credentialFromResult(t),n=(e==null?void 0:e.accessToken)||null;return{...t,providerToken:n,providerId:"google.com"}}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await T$();throw t}},T$=()=>Fx(Oi(),mp),S$=()=>d3(Oi()),I$=()=>Uj(Oi()),A$=async()=>{try{const t=await Lx(Oi(),gp),e=ma.credentialFromResult(t),n=(e==null?void 0:e.idToken)||(e==null?void 0:e.accessToken)||null;return{...t,providerToken:n,providerId:"apple.com"}}catch(t){if(t.code==="auth/popup-blocked")return console.log("Popup blocked, falling back to redirect"),await b$();throw t}},b$=()=>Fx(Oi(),gp),R$=t=>Za?Fj(Oi(),t):(console.warn(" Firebase not initialized, cannot set up auth listener"),()=>{});var Fe;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Fe||(Fe={}));var nI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(nI||(nI={}));const se=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ns=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},G=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof hs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}hs.create=t=>new hs(t);const Uy=(t,e)=>{let n;switch(t.code){case G.invalid_type:t.received===se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case G.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case G.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let C$=Uy;function x$(){return C$}const k$=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function J(t,e){const n=x$(),r=k$({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Uy?void 0:Uy].filter(s=>!!s)});t.common.issues.push(r)}class Pn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Pn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ve=Object.freeze({status:"aborted"}),uc=t=>({status:"dirty",value:t}),qn=t=>({status:"valid",value:t}),rI=t=>t.status==="aborted",sI=t=>t.status==="dirty",Ja=t=>t.status==="valid",af=t=>typeof Promise<"u"&&t instanceof Promise;var ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class Ii{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iI=(t,e)=>{if(Ja(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hs(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Ve{get description(){return this._def.description}_getType(e){return Ns(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pn,ctx:{common:e.parent.common,data:e.data,parsedType:Ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(af(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ns(e)},s=this._parseSync({data:e,path:r.path,parent:r});return iI(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ns(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ja(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ja(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ns(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(af(s)?s:Promise.resolve(s));return iI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:G.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new nl({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ui.create(this,this._def)}nullable(){return rl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return kr.create(this)}promise(){return df.create(this,this._def)}or(e){return cf.create([this,e],this._def)}and(e){return uf.create(this,e,this._def)}transform(e){return new nl({...be(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new $y({...be(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new J$({typeName:we.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new qy({...be(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Sw.create(this,e)}readonly(){return Wy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const P$=/^c[^\s-]{8,}$/i,N$=/^[0-9a-z]+$/,O$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L$=/^[a-z0-9_-]{21}$/i,M$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,F$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Om;const j$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,W$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",H$=new RegExp(`^${zP}$`);function $P(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function G$(t){return new RegExp(`^${$P(t)}$`)}function K$(t){let e=`${zP}T${$P(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Q$(t,e){return!!((e==="v4"||!e)&&j$.test(t)||(e==="v6"||!e)&&z$.test(t))}function X$(t,e){if(!M$.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Y$(t,e){return!!((e==="v4"||!e)&&B$.test(t)||(e==="v6"||!e)&&$$.test(t))}class Qr extends Ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:se.string,received:i.parsedType}),ve}const r=new Pn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?J(s,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&J(s,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")F$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"email",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Om||(Om=new RegExp(U$,"u")),Om.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"emoji",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")D$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"uuid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")L$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"nanoid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")P$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")N$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid2",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")O$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ulid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),J(s,{validation:"url",code:G.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"regex",code:G.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?K$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?H$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?G$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:G.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?V$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"duration",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Q$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ip",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?X$(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"jwt",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Y$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cidr",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?q$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?W$.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64url",code:G.invalid_string,message:i.message}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:G.invalid_string,...ie.errToObj(r)})}_addCheck(e){return new Qr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ie.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ie.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ie.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ie.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ie.errToObj(n)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qr.create=t=>new Qr({checks:[],typeName:we.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...be(t)});function Z$(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class To extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:se.number,received:i.parsedType}),ve}let r;const s=new Pn;for(const i of this._def.checks)i.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:G.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Z$(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:G.not_finite,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,s){return new To({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(s)}]})}_addCheck(e){return new To({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}To.create=t=>new To({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class So extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==se.bigint)return this._getInvalidInput(e);let r;const s=new Pn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Fe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return J(n,{code:G.invalid_type,expected:se.bigint,received:n.parsedType}),ve}gte(e,n){return this.setLimit("min",e,!0,ie.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ie.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ie.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ie.toString(n))}setLimit(e,n,r,s){return new So({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ie.toString(s)}]})}_addCheck(e){return new So({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}So.create=t=>new So({checks:[],typeName:we.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...be(t)});class lf extends Ve{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:se.boolean,received:r.parsedType}),ve}return qn(e.data)}}lf.create=t=>new lf({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class el extends Ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_type,expected:se.date,received:i.parsedType}),ve}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return J(i,{code:G.invalid_date}),ve}const r=new Pn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:G.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Fe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new el({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}el.create=t=>new el({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...be(t)});class oI extends Ve{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:se.symbol,received:r.parsedType}),ve}return qn(e.data)}}oI.create=t=>new oI({typeName:we.ZodSymbol,...be(t)});class aI extends Ve{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:se.undefined,received:r.parsedType}),ve}return qn(e.data)}}aI.create=t=>new aI({typeName:we.ZodUndefined,...be(t)});class lI extends Ve{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:se.null,received:r.parsedType}),ve}return qn(e.data)}}lI.create=t=>new lI({typeName:we.ZodNull,...be(t)});class jy extends Ve{constructor(){super(...arguments),this._any=!0}_parse(e){return qn(e.data)}}jy.create=t=>new jy({typeName:we.ZodAny,...be(t)});class cI extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qn(e.data)}}cI.create=t=>new cI({typeName:we.ZodUnknown,...be(t)});class Ai extends Ve{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:G.invalid_type,expected:se.never,received:n.parsedType}),ve}}Ai.create=t=>new Ai({typeName:we.ZodNever,...be(t)});class uI extends Ve{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:se.void,received:r.parsedType}),ve}return qn(e.data)}}uI.create=t=>new uI({typeName:we.ZodVoid,...be(t)});class kr extends Ve{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==se.array)return J(n,{code:G.invalid_type,expected:se.array,received:n.parsedType}),ve;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(J(n,{code:o?G.too_big:G.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(J(n,{code:G.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(J(n,{code:G.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Ii(n,o,n.path,a)))).then(o=>Pn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Ii(n,o,n.path,a)));return Pn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new kr({...this._def,minLength:{value:e,message:ie.toString(n)}})}max(e,n){return new kr({...this._def,maxLength:{value:e,message:ie.toString(n)}})}length(e,n){return new kr({...this._def,exactLength:{value:e,message:ie.toString(n)}})}nonempty(e){return this.min(1,e)}}kr.create=(t,e)=>new kr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...be(e)});function Wo(t){if(t instanceof yt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ui.create(Wo(r))}return new yt({...t._def,shape:()=>e})}else return t instanceof kr?new kr({...t._def,type:Wo(t.element)}):t instanceof ui?ui.create(Wo(t.unwrap())):t instanceof rl?rl.create(Wo(t.unwrap())):t instanceof Io?Io.create(t.items.map(e=>Wo(e))):t}class yt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==se.object){const u=this._getOrReturnCtx(e);return J(u,{code:G.invalid_type,expected:se.object,received:u.parsedType}),ve}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ai&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Ii(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ai){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(J(s,{code:G.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Ii(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Pn.mergeObjectSync(r,u)):Pn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ie.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new yt({...this._def,unknownKeys:"strip"})}passthrough(){return new yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new yt({...this._def,catchall:e})}pick(e){const n={};for(const r of Fe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new yt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Fe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new yt({...this._def,shape:()=>n})}deepPartial(){return Wo(this)}partial(e){const n={};for(const r of Fe.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new yt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Fe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ui;)i=i._def.innerType;n[r]=i}return new yt({...this._def,shape:()=>n})}keyof(){return qP(Fe.objectKeys(this.shape))}}yt.create=(t,e)=>new yt({shape:()=>t,unknownKeys:"strip",catchall:Ai.create(),typeName:we.ZodObject,...be(e)});yt.strictCreate=(t,e)=>new yt({shape:()=>t,unknownKeys:"strict",catchall:Ai.create(),typeName:we.ZodObject,...be(e)});yt.lazycreate=(t,e)=>new yt({shape:t,unknownKeys:"strip",catchall:Ai.create(),typeName:we.ZodObject,...be(e)});class cf extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new hs(a.ctx.common.issues));return J(n,{code:G.invalid_union,unionErrors:o}),ve}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new hs(l));return J(n,{code:G.invalid_union,unionErrors:a}),ve}}get options(){return this._def.options}}cf.create=(t,e)=>new cf({options:t,typeName:we.ZodUnion,...be(e)});function By(t,e){const n=Ns(t),r=Ns(e);if(t===e)return{valid:!0,data:t};if(n===se.object&&r===se.object){const s=Fe.objectKeys(e),i=Fe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=By(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===se.array&&r===se.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=By(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===se.date&&r===se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class uf extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(rI(i)||rI(o))return ve;const a=By(i.value,o.value);return a.valid?((sI(i)||sI(o))&&n.dirty(),{status:n.value,value:a.data}):(J(r,{code:G.invalid_intersection_types}),ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}uf.create=(t,e,n)=>new uf({left:t,right:e,typeName:we.ZodIntersection,...be(n)});class Io extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.array)return J(r,{code:G.invalid_type,expected:se.array,received:r.parsedType}),ve;if(r.data.length<this._def.items.length)return J(r,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ii(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Pn.mergeArray(n,o)):Pn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Io({...this._def,rest:e})}}Io.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Io({items:t,typeName:we.ZodTuple,rest:null,...be(e)})};class dI extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.map)return J(r,{code:G.invalid_type,expected:se.map,received:r.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new Ii(r,a,r.path,[u,"key"])),value:i._parse(new Ii(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return ve;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return ve;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}dI.create=(t,e,n)=>new dI({valueType:e,keyType:t,typeName:we.ZodMap,...be(n)});class iu extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.set)return J(r,{code:G.invalid_type,expected:se.set,received:r.parsedType}),ve;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(J(r,{code:G.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(J(r,{code:G.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return ve;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new Ii(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new iu({...this._def,minSize:{value:e,message:ie.toString(n)}})}max(e,n){return new iu({...this._def,maxSize:{value:e,message:ie.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}iu.create=(t,e)=>new iu({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...be(e)});class zy extends Ve{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zy.create=(t,e)=>new zy({getter:t,typeName:we.ZodLazy,...be(e)});class hI extends Ve{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}hI.create=(t,e)=>new hI({value:t,typeName:we.ZodLiteral,...be(e)});function qP(t,e){return new tl({values:t,typeName:we.ZodEnum,...be(e)})}class tl extends Ve{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:Fe.joinValues(r),received:n.parsedType,code:G.invalid_type}),ve}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:G.invalid_enum_value,options:r}),ve}return qn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return tl.create(e,{...this._def,...n})}exclude(e,n=this._def){return tl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}tl.create=qP;class fI extends Ve{_parse(e){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==se.string&&r.parsedType!==se.number){const s=Fe.objectValues(n);return J(r,{expected:Fe.joinValues(s),received:r.parsedType,code:G.invalid_type}),ve}if(this._cache||(this._cache=new Set(Fe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Fe.objectValues(n);return J(r,{received:r.data,code:G.invalid_enum_value,options:s}),ve}return qn(e.data)}get enum(){return this._def.values}}fI.create=(t,e)=>new fI({values:t,typeName:we.ZodNativeEnum,...be(e)});class df extends Ve{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.promise&&n.common.async===!1)return J(n,{code:G.invalid_type,expected:se.promise,received:n.parsedType}),ve;const r=n.parsedType===se.promise?n.data:Promise.resolve(n.data);return qn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}df.create=(t,e)=>new df({type:t,typeName:we.ZodPromise,...be(e)});class nl extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{J(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ve;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ve:l.status==="dirty"||n.value==="dirty"?uc(l.value):l});{if(n.value==="aborted")return ve;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ve:a.status==="dirty"||n.value==="dirty"?uc(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ve:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ja(o))return ve;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ja(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):ve);Fe.assertNever(s)}}nl.create=(t,e,n)=>new nl({schema:t,typeName:we.ZodEffects,effect:e,...be(n)});nl.createWithPreprocess=(t,e,n)=>new nl({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...be(n)});class ui extends Ve{_parse(e){return this._getType(e)===se.undefined?qn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ui.create=(t,e)=>new ui({innerType:t,typeName:we.ZodOptional,...be(e)});class rl extends Ve{_parse(e){return this._getType(e)===se.null?qn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rl.create=(t,e)=>new rl({innerType:t,typeName:we.ZodNullable,...be(e)});class $y extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}$y.create=(t,e)=>new $y({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class qy extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return af(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qy.create=(t,e)=>new qy({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class pI extends Ve{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return J(r,{code:G.invalid_type,expected:se.nan,received:r.parsedType}),ve}return{status:"valid",value:e.data}}}pI.create=t=>new pI({typeName:we.ZodNaN,...be(t)});class J$ extends Ve{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sw extends Ve{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ve:i.status==="dirty"?(n.dirty(),uc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ve:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Sw({in:e,out:n,typeName:we.ZodPipeline})}}class Wy extends Ve{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ja(s)&&(s.value=Object.freeze(s.value)),s);return af(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Wy.create=(t,e)=>new Wy({innerType:t,typeName:we.ZodReadonly,...be(e)});var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const R=Qr.create,_e=To.create;So.create;const Nt=lf.create;el.create;const ya=jy.create;Ai.create;const We=kr.create,re=yt.create,Qs=cf.create;uf.create;Io.create;const e5=zy.create,fs=tl.create;df.create;ui.create;rl.create;const Sd={string:t=>Qr.create({...t,coerce:!0}),number:t=>To.create({...t,coerce:!0}),boolean:t=>lf.create({...t,coerce:!0}),bigint:t=>So.create({...t,coerce:!0}),date:t=>el.create({...t,coerce:!0})},t5=re({email:R().email("Please enter a valid email address"),password:R().min(1,"Password is required")}),n5=re({email:R().email("Please enter a valid email address"),password:R().min(6,"Password must be at least 6 characters"),firstName:R().min(1,"First name is required"),lastName:R().min(1,"Last name is required"),userName:R().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),phone:R().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),country:R().min(1,"Country is required")});re({email:R().optional(),firstName:R().optional(),lastName:R().optional(),type:fs(["google","apple"],{errorMap:()=>({message:"Auth type must be 'google' or 'apple'"})}),profilePhoto:R().optional(),userName:R().optional(),country:R().optional(),phone:R().optional(),gender:R().optional(),uid:R().optional(),idToken:R().min(1,"Firebase ID token is required for authentication"),providerToken:R().optional(),provider:R().optional(),profilePicture:R().optional()}).refine(t=>t.type==="google"?!!t.email&&!!t.firstName:!0,{message:"Google authentication requires email and first name",path:["firstName"]});const r5=re({firstName:R().min(1,"First name is required"),lastName:R().min(1,"Last name is required"),userName:R().min(3,"Username must be at least 3 characters").regex(/^[a-zA-Z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),country:R().min(1,"Country is required"),phone:R().optional().refine(t=>!t||t===""?!0:/^[\+]?[1-9][\d]{0,15}$|^[\+]?[(]?[0-9]{3}[)]?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4,6}$|^[\+]?[0-9]{8,15}$/.test(t.replace(/[\s\-\(\)]/g,"")),"Please enter a valid phone number"),gender:R().optional()});re({token:R().optional(),user:re({id:R(),email:R(),name:R().optional()}).optional(),message:R().optional()});re({success:Nt(),message:R().optional(),data:ya(),accessToken:R().optional(),authtoken:R().optional(),newuser:Nt().optional()});re({success:Nt().optional(),message:R(),error:R().optional(),details:ya().optional()});const s5=re({_id:R(),customer:re({_id:R(),firstName:R(),lastName:R().optional(),userName:R().optional(),email:R(),profilePhoto:R().optional(),address:re({_id:R(),name:R(),addrress1:R(),city:R(),state:R(),zipcode:R(),phone:R(),email:R()}).optional()}),seller:re({_id:R(),firstName:R(),lastName:R().optional(),userName:R().optional(),email:R()}),need_label:Nt(),giveaway:re({_id:R(),name:R(),description:R().optional(),quantity:_e(),images:We(R()).optional(),category:re({_id:R(),name:R()}).optional(),shipping_profile:re({_id:R(),weight:_e(),name:R(),scale:R()}).optional(),height:R().optional(),width:R().optional(),length:R().optional(),status:R().optional(),participants:We(R()).optional()}).optional(),ordertype:R().optional(),items:We(re({_id:R().optional(),orderId:R().optional(),productId:re({_id:R().optional(),name:R().optional(),images:We(R()).optional(),category:re({_id:R().optional(),name:R().optional()}).optional()}).optional(),quantity:_e().optional(),price:_e().optional(),shipping_fee:_e().optional(),weight:R().optional(),height:R().optional(),width:R().optional(),length:R().optional(),scale:R().optional(),order_reference:R().optional(),status:R().optional()})).optional(),total:_e().optional(),servicefee:_e().optional(),service_fee:_e().optional(),stripe_fees:_e().optional(),tax:_e().optional(),shipping_fee:_e().optional(),seller_shipping_fee_pay:_e().optional(),total_shipping_cost:_e().optional(),invoice:_e().optional(),status:R().optional(),tracking_number:R().optional(),label:R().optional(),weight:Qs([_e(),R()]).optional(),date:_e().optional(),createdAt:R().optional(),updatedAt:R().optional(),bundleId:R().optional().nullable(),tokshow:re({_id:R(),title:R().optional(),name:R().optional()}).optional(),height:R().optional(),width:R().optional(),length:R().optional(),scale:R().optional()});re({orders:We(s5),limits:_e(),pages:_e(),total:_e()});re({totalOrder:_e(),totalAmount:R(),todayOrder:We(ya()),totalAmountOfThisMonth:R(),totalPendingOrder:re({total:_e(),count:_e()}).optional(),totalDeliveredOrder:_e(),orders:We(ya()),weeklySaleReport:We(ya())});const i5=re({_id:R(),name:R(),description:R().optional(),price:_e(),quantity:_e(),images:We(R()).optional(),category:re({_id:R(),name:R()}).optional(),seller:re({_id:R(),firstName:R(),lastName:R().optional(),userName:R().optional(),email:R()}),status:R().optional(),weight:Qs([_e(),R()]).optional(),height:R().optional(),width:R().optional(),length:R().optional(),scale:R().optional(),shipping_profile:re({_id:R(),weight:_e(),name:R(),scale:R()}).optional(),colors:We(R()).optional(),sizes:We(R()).optional(),featured:Nt().optional(),createdAt:R().optional(),updatedAt:R().optional()});re({products:We(i5),limits:_e(),pages:_e(),totalDoc:_e()});const WP=e5(()=>re({_id:R(),name:R(),description:R().optional(),status:R().optional(),icon:R().optional(),type:R().optional(),subCategories:We(WP).optional()}));re({categories:We(WP),limits:_e().optional(),pages:_e().optional(),total:_e().optional()});const o5=re({_id:R(),name:R(),weight:_e(),scale:R(),description:R().optional()});We(o5);const a5=fs(["auction","buy_now","giveaway"]),SH=re({name:R().min(1,"Product name is required"),description:R().optional(),price:Sd.number().optional().nullable(),quantity:Sd.number({invalid_type_error:"Quantity is required"}).int().min(1,"Quantity must be at least 1"),category:R().min(1,"Category is required"),status:fs(["active","inactive","out_of_stock","draft"]).optional().default("active"),listingType:a5,shippingProfile:R().nullable().optional(),images:We(R()).optional(),startingPrice:Sd.number().optional().nullable(),duration:Sd.number().int().optional().nullable(),sudden:Nt().optional().default(!1),list_individually:Nt().optional().default(!1),startTime:R().optional().nullable(),endTime:R().optional().nullable(),featured:Nt().optional().default(!1),acceptsOffers:Nt().optional().default(!1),whocanenter:fs(["everyone","followers"]).optional().default("everyone"),tokshow:R().optional()}).refine(t=>t.listingType==="auction"?t.startingPrice!==void 0&&t.startingPrice!==null&&t.startingPrice>0:!0,{message:"Starting price must be greater than 0",path:["startingPrice"]}).refine(t=>t.listingType==="auction"&&!t.featured?t.duration!==void 0&&t.duration!==null&&t.duration>0:!0,{message:"Duration must be selected",path:["duration"]}).refine(t=>t.listingType==="auction"&&t.featured?t.startTime!==void 0&&t.startTime!==null&&t.startTime!=="":!0,{message:"Auction start time is required for featured auctions",path:["startTime"]}).refine(t=>t.listingType==="auction"&&t.featured?t.endTime!==void 0&&t.endTime!==null&&t.endTime!=="":!0,{message:"Auction end time is required for featured auctions",path:["endTime"]}).refine(t=>t.listingType==="buy_now"?t.price!==void 0&&t.price!==null&&t.price>0:!0,{message:"Price must be greater than 0",path:["price"]}).refine(t=>t.listingType==="auction"&&!t.featured?t.tokshow!==void 0&&t.tokshow!==null&&t.tokshow!==""&&t.tokshow!=="general":!0,{message:"Live show auctions must be assigned to a show",path:["tokshow"]});re({id:R(),customerId:R(),customerName:R(),orderIds:We(R()),count:_e(),weight:R().optional(),dimensions:R().optional(),totalValue:_e(),status:fs(["pending","labeled"]).optional().default("pending"),createdAt:R().optional()});const l5=re({name:R().min(1,"Address name is required"),addrress1:R().min(1,"Street address is required"),addrress2:R().optional().default(""),city:R().min(1,"City is required"),state:R().min(1,"State is required"),stateCode:R().optional().default(""),cityCode:R().optional().default(""),zipcode:R().min(1,"ZIP code is required"),countryCode:R().min(1,"Country is required"),country:R().optional(),phone:R().min(1,"Phone number is required"),email:R().email("Please enter a valid email address"),userId:R().min(1,"User ID is required")});l5.partial().extend({name:R().min(1,"Address name is required").optional(),addrress1:R().min(1,"Street address is required").optional(),city:R().min(1,"City is required").optional(),state:R().min(1,"State is required").optional(),zipcode:R().min(1,"ZIP code is required").optional(),countryCode:R().min(1,"Country is required").optional(),phone:R().min(1,"Phone number is required").optional(),email:R().email("Please enter a valid email address").optional()});re({primary:Nt(),userId:R().min(1,"User ID is required")});re({weight:Qs([R(),_e()]).transform(String),unit:R().optional().default("oz"),product:R(),update:Nt().optional().default(!0),owner:R(),customer:R(),length:Qs([R(),_e()]).transform(Number),width:Qs([R(),_e()]).transform(Number),height:Qs([R(),_e()]).transform(Number),buying_label:Nt().optional().default(!0)});re({carrier:R(),service:R(),price:R(),deliveryTime:R(),objectId:R().min(1,"Rate ID is required")});re({rate_id:R().min(1,"Rate ID is required"),order:Qs([R(),re({_id:R(),customer:re({_id:R(),firstName:R(),lastName:R().optional(),email:R().email(),address:re({name:R(),addrress1:R(),city:R(),state:R(),zipcode:R(),phone:R(),email:R().email()}).optional()}),seller:re({_id:R(),firstName:R(),lastName:R().optional(),email:R().email()})})]),isBundle:Nt().optional(),shipping_fee:Qs([R(),_e()]).transform(Number),servicelevel:R().min(1,"Service level is required"),carrier:R().optional(),deliveryTime:R().optional()});re({success:Nt(),message:R(),data:re({tracking_number:R(),label_url:R().optional(),label_data:R().optional(),carrier:R(),service:R(),cost:R(),delivery_time:R(),purchased_at:R()}).optional(),error:R().optional()});re({orderIds:We(R().min(1,"Order ID cannot be empty")).min(1,"At least one order ID is required"),service:R().min(1,"Service level is required").optional().default("Ground Advantage"),rate_id:R().min(1,"Rate ID is required")});re({success:Nt(),message:R(),data:re({tracking_number:R(),label_url:R().optional(),cost:_e(),carrier:R(),service:R(),affected_orders:We(R()),update_results:We(re({orderId:R(),success:Nt(),error:R().optional(),data:ya().optional()})),aggregated_weight:R().optional(),aggregated_dimensions:R().optional()}).optional(),error:R().optional()});const c5=re({title:R().min(1,"Title is required"),subtitle:R().min(1,"Subtitle is required"),primaryButtonText:R().min(1,"Primary button text is required"),primaryButtonLink:R().min(1,"Primary button link is required"),secondaryButtonText:R().min(1,"Secondary button text is required"),heroImage:R().url("Must be a valid URL"),heroImageAlt:R().optional().default("Live shopping experience"),liveViewers:R().optional().default("12.5K watching")}),u5=re({icon:fs(["Play","Zap","Shield","Star","TrendingUp"]),title:R().min(1,"Step title is required"),description:R().min(1,"Step description is required")}),d5=re({icon:fs(["Play","Zap","Shield","Star","TrendingUp"]),title:R().min(1,"Feature title is required"),description:R().min(1,"Feature description is required")}),h5=re({name:R().min(1,"Category name is required"),image:R().url("Must be a valid URL")}),f5=re({name:R().min(1,"Brand name is required"),logo:R().optional()});re({hero:c5,howItWorks:re({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),steps:We(u5).length(3,"Must have exactly 3 steps")}),joinFun:re({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),image:R().url("Must be a valid URL"),imageAlt:R().optional().default("Auction excitement"),features:We(d5).min(1,"Must have at least 1 feature"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),categories:re({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),items:We(h5).min(1,"Must have at least 1 category"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),brands:re({title:R().min(1,"Section title is required"),subtitle:R().min(1,"Section subtitle is required"),items:We(f5).min(1,"Must have at least 1 brand"),image:R().url("Must be a valid URL"),imageAlt:R().optional().default("Brand products"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),finalCTA:re({title:R().min(1,"CTA title is required"),subtitle:R().min(1,"CTA subtitle is required"),buttonText:R().min(1,"Button text is required"),buttonLink:R().min(1,"Button link is required")}),footer:re({copyrightText:R().optional()})});fs(["landing","faq","about","privacy","terms","contact"]);const p5=re({question:R().min(1,"Question is required"),answer:R().min(1,"Answer is required")});re({title:R().min(1,"Page title is required"),subtitle:R().optional(),faqs:We(p5).min(1,"Must have at least 1 FAQ item")});const HP=re({title:R().min(1,"Section title is required"),content:R().min(1,"Section content is required"),order:_e().optional()});re({title:R().min(1,"Page title is required"),subtitle:R().optional(),sections:We(HP).min(1,"Must have at least 1 section")});const m5=re({email:R().email("Must be a valid email").optional(),phone:R().optional(),address:R().optional()});re({title:R().min(1,"Page title is required"),subtitle:R().optional(),description:R().optional(),contactInfo:m5,showContactForm:Nt().optional().default(!0),sections:We(HP).optional()});const GP=re({_id:R().optional(),title:R().min(1,"Title is required"),slug:R().min(1,"Slug is required"),excerpt:R().min(1,"Excerpt/description is required"),content:R().min(1,"Content is required"),category:fs(["general","seller","buyer","payments","shipping","other"]).default("general"),published:Nt().default(!0),order:_e().default(0),createdAt:R().optional(),updatedAt:R().optional()});GP.omit({_id:!0,createdAt:!0,updatedAt:!0});GP.partial().omit({_id:!0,createdAt:!0,updatedAt:!0});const KP={app_name:"TokshopLive",seo_title:"",support_email:"support@example.com",primary_color:"#F4D03F",secondary_color:"#1A1A1A",stripe_publishable_key:"",commission_rate:0},QP={app_name:"",seo_title:"",slogan:"",primary_color:"FFFACC15",secondary_color:"FF0D9488",button_color:"FF000000",button_text_color:"FFFFFFFF",app_logo:"",header_logo:""},XP=g.createContext({settings:KP,theme:QP,isLoading:!0,isFirebaseReady:!1,appName:"TokshopLive",fetchSettings:async()=>{},settingsFetched:!1});function Id(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,s=Math.max(e,n,r),i=Math.min(e,n,r);let o=0,a=0,l=(s+i)/2;if(s!==i){const u=s-i;switch(a=l>.5?u/(2-s-i):u/(s+i),s){case e:o=((n-r)/u+(n<r?6:0))/6;break;case n:o=((r-e)/u+2)/6;break;case r:o=((e-n)/u+4)/6;break}}return o=Math.round(o*360),a=Math.round(a*100),l=Math.round(l*100),`${o} ${a}% ${l}%`}function mI(t){t=t.replace("#",""),t.length===8&&(t=t.substring(2));const e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255,s=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4);return .2126*s+.7152*i+.0722*o}function g5(t,e,n,r){console.log(" Applying theme colors:",{primaryColor:t,secondaryColor:e,buttonColor:n,buttonTextColor:r});const s=document.documentElement,i=Id(t),o=Id(e);console.log(" Converted to HSL:",{primaryHSL:i,secondaryHSL:o});const a=mI(t),l=a>.5;console.log(" Luminance:",{luminance:a,isLightColor:l});const u=l?"0 0% 9%":"0 0% 100%";s.style.setProperty("--primary",i),s.style.setProperty("--primary-foreground",u),s.style.setProperty("--ring",i),s.style.setProperty("--chart-1",i),s.style.setProperty("--sidebar-primary",i),s.style.setProperty("--sidebar-primary-foreground",u),s.style.setProperty("--sidebar-ring",i);const p=mI(e)>.5?"0 0% 9%":"0 0% 100%";if(s.style.setProperty("--secondary",o),s.style.setProperty("--secondary-foreground",p),s.style.setProperty("--accent",o),s.style.setProperty("--accent-foreground",p),s.style.setProperty("--chart-2",o),n){const y=Id(n);s.style.setProperty("--button",y),console.log(" Button color applied:",y)}if(r){const y=Id(r);s.style.setProperty("--button-foreground",y),console.log(" Button text color applied:",y)}console.log(" Theme colors applied successfully")}function y5({children:t}){const[e,n]=g.useState(KP),[r,s]=g.useState(QP),[i,o]=g.useState(!0),[a,l]=g.useState(!1),[u,d]=g.useState(!1),h=async()=>{if(!u)try{const I=await fetch("/api/settings");if(I.ok){const _=await I.json();if(console.log(" Settings fetched:",_),_.success&&_.data){console.log(" Settings data:",_.data),n(_.data),d(!0);let E;_.data.firebase_config?(E=_.data.firebase_config,console.log(" Using nested firebase_config from API")):(_.data.firebase_auth_domain||_.data.firebase_project_id)&&(E={apiKey:_.data.firebase_api_key||_.data.FIREBASE_API_KEY||"",authDomain:_.data.firebase_auth_domain||"",projectId:_.data.firebase_project_id||"",storageBucket:_.data.firebase_storage_bucket||"",appId:_.data.firebase_app_id||""},console.log(" Built firebase_config from individual fields")),E&&E.apiKey&&E.projectId?(console.log(" Initializing Firebase with config:",{projectId:E.projectId}),_$(E),l(!0)):console.warn(" No valid Firebase config found in settings")}}}catch(I){console.error("Failed to fetch app settings:",I),console.warn(" Cannot initialize Firebase without settings")}};g.useEffect(()=>{o(!1)},[]),g.useEffect(()=>{async function I(){try{const _=await fetch("/api/public/themes");if(_.ok){const E=await _.json();console.log(" Themes fetched:",E),E.success&&E.data&&(console.log(" Theme data:",E.data),s(E.data))}}catch(_){console.error("Failed to fetch theme settings:",_)}}I()},[]),g.useEffect(()=>{!i&&r.primary_color&&r.secondary_color&&g5(r.primary_color,r.secondary_color,r.button_color,r.button_text_color)},[i,r.primary_color,r.secondary_color,r.button_color,r.button_text_color]);const p=r.seo_title||r.app_name||e.app_name||"TokshopLive",y=g.useMemo(()=>({settings:e,theme:r,isLoading:i,isFirebaseReady:a,appName:p,fetchSettings:h,settingsFetched:u}),[e,r,i,a,p,u]);return C.jsx(XP.Provider,{value:y,children:t})}function Iw(){const t=g.useContext(XP);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t}const YP=g.createContext(null);function _5({children:t}){console.log("[AuthProvider] Initializing AuthProvider");const{isFirebaseReady:e,settings:n,isLoading:r}=Iw(),[s,i]=g.useState(null),[o,a]=g.useState(!0),[l,u]=g.useState(!1),[d,h]=g.useState(null),[p,y]=g.useState(null),[I,_]=g.useState(!1),E=g.useRef(!1),w=g.useRef(!1),v=g.useRef(0),T=g.useRef(!1);console.log("[AuthProvider] Current state - isLoading:",o,"user:",s?s.id:"null","isAuthenticated:",!!s,"isFirebaseReady:",e);const k=!!s,L=g.useRef();L.current=async(z,q,ae=!1,Ue)=>{var X,de;try{const pe=await z.getIdToken(!0);let Ae=null;if(z.providerData&&z.providerData.length>0&&(z.providerData.some(Dt=>Dt.providerId==="apple.com")?Ae="apple":z.providerData.some(Dt=>Dt.providerId==="google.com")&&(Ae="google")),!Ae&&(q==null?void 0:q.providerId)==="apple.com"?Ae="apple":!Ae&&(q==null?void 0:q.providerId)==="google.com"&&(Ae="google"),!Ae)throw new Error("Unable to determine authentication provider");let cn="",De="",lt=z.email||"";if(Ae==="apple"&&(q!=null&&q.profile)){const Dt=q.profile;Dt.name&&(cn=Dt.name.firstName||"",De=Dt.name.lastName||""),Dt.email&&(lt=Dt.email)}else(Ae==="google"||!(q!=null&&q.profile))&&(cn=((X=z.displayName)==null?void 0:X.split(" ")[0])||"",De=((de=z.displayName)==null?void 0:de.split(" ").slice(1).join(" "))||"");const Zt={idToken:pe,uid:z.uid,providerToken:Ue||void 0,email:lt,firstName:cn,lastName:De,type:Ae,profilePhoto:z.photoURL||"",userName:"",country:"",phone:"",gender:""},St=await Ss("POST","/api/auth/social",Zt),je=await St.json();if(!St.ok)throw new Error(je.error||`Authentication failed: ${St.status}`);if(je.success){if(!ae&&je.newuser===!0)return u(!0),h(z.email||""),y(z),je;const Dt={id:je.data._id||je.data.id,email:je.data.email,firstName:je.data.firstName,lastName:je.data.lastName||"",profilePhoto:je.data.profilePhoto||z.photoURL||"",userName:je.data.userName,country:je.data.country||"",phone:je.data.phone||"",date_of_birth:je.data.date_of_birth||je.data.dateOfBirth,seller:je.data.seller||!1,admin:je.data.admin||!1,authProvider:Ae,address:je.data.address,defaultpaymentmethod:je.data.defaultpaymentmethod,above_age:je.data.above_age||!1};i(Dt),localStorage.setItem("userId",Dt.id),localStorage.setItem("user",JSON.stringify(Dt)),je.accessToken&&localStorage.setItem("accessToken",je.accessToken),u(!1),h(null),y(null)}else throw new Error(je.message||"Authentication failed");return je}catch(pe){throw console.error("Authentication failed:",(pe==null?void 0:pe.message)||pe),pe}};const V=async(z,q,ae=!1,Ue)=>{if(L.current)return await L.current(z,q,ae,Ue)},A=async(z,q)=>await S(z,q),S=async(z,q)=>{try{a(!0);const ae=t5.parse({email:z,password:q}),X=await(await Ss("POST","/api/auth/login",ae)).json();if(X.success){const de={id:X.data._id||X.data.id,email:X.data.email,firstName:X.data.firstName,lastName:X.data.lastName||"",profilePhoto:X.data.profilePhoto||"",userName:X.data.userName,country:X.data.country||"",phone:X.data.phone||"",date_of_birth:X.data.date_of_birth||X.data.dateOfBirth,seller:X.data.seller||!1,admin:X.data.admin||!1,authProvider:"email",address:X.data.address,defaultpaymentmethod:X.data.defaultpaymentmethod,above_age:X.data.above_age||!1};i(de),localStorage.setItem("userId",de.id),localStorage.setItem("user",JSON.stringify(de)),X.accessToken&&localStorage.setItem("accessToken",X.accessToken)}else{const de=X.message||X.error||"Login failed";throw new Error(de)}}catch(ae){throw console.error("Email login failed:",ae),ae}finally{a(!1)}},x=async(z,q,ae,Ue,X,de,pe)=>{try{a(!0);const Ae=n5.parse({email:z,password:q,firstName:ae,lastName:Ue,userName:X,phone:de,country:pe}),De=await(await Ss("POST","/api/auth/signup",Ae)).json();if(De.success){const lt={id:De.data._id||De.data.id,email:De.data.email,firstName:De.data.firstName,lastName:De.data.lastName||"",profilePhoto:De.data.profilePhoto||"",userName:De.data.userName,country:De.data.country||pe,phone:De.data.phone||"",date_of_birth:De.data.date_of_birth||De.data.dateOfBirth,seller:De.data.seller||!1,admin:De.data.admin||!1,authProvider:"email",address:De.data.address,defaultpaymentmethod:De.data.defaultpaymentmethod,above_age:De.data.above_age||!1};i(lt),localStorage.setItem("userId",lt.id),localStorage.setItem("user",JSON.stringify(lt)),De.accessToken&&localStorage.setItem("accessToken",De.accessToken)}else{const lt=De.message||De.error||"Signup failed";throw new Error(lt)}}catch(Ae){throw console.error("Email signup failed:",Ae),Ae}finally{a(!1)}},P=async()=>{try{a(!0);const z=await E$();if(z!=null&&z.user){const q=(z==null?void 0:z.providerToken)||null;q&&localStorage.setItem("pendingProviderToken",q),await V(z.user,z==null?void 0:z.additionalUserInfo,!1,q)}}catch(z){throw console.error("Google login failed:",z),z}finally{a(!1)}},O=async()=>{try{a(!0);const z=await A$();if(z!=null&&z.user){const q=(z==null?void 0:z.providerToken)||null;q&&localStorage.setItem("pendingProviderToken",q),await V(z.user,z==null?void 0:z.additionalUserInfo,!1,q)}}catch(z){throw console.error("Apple login failed:",z),z}finally{a(!1)}},D=async z=>{try{if(a(!0),!p)throw new Error("No pending social authentication data found");const q=r5.parse(z);let ae="google";p.providerData&&p.providerData.length>0&&(p.providerData.some(Ae=>Ae.providerId==="apple.com")?ae="apple":p.providerData.some(Ae=>Ae.providerId==="google.com")&&(ae="google"));const Ue=localStorage.getItem("pendingProviderToken")||void 0,X={email:p.email||"",firstName:q.firstName,lastName:q.lastName,userName:q.userName,type:ae,profilePhoto:p.photoURL||"",country:q.country||"",phone:q.phone||"",gender:q.gender||"",providerToken:Ue},pe=await(await Ss("POST","/api/auth/social/complete",X)).json();if(pe.success){const Ae={id:pe.data._id||pe.data.id,email:pe.data.email,firstName:pe.data.firstName,lastName:pe.data.lastName||"",profilePhoto:pe.data.profilePhoto||p.photoURL||"",userName:pe.data.userName,country:pe.data.country||"",phone:pe.data.phone||"",date_of_birth:pe.data.date_of_birth||pe.data.dateOfBirth,seller:pe.data.seller||!1,admin:pe.data.admin||!1,authProvider:ae,address:pe.data.address,defaultpaymentmethod:pe.data.defaultpaymentmethod,above_age:pe.data.above_age||!1};i(Ae),localStorage.setItem("userId",Ae.id),localStorage.setItem("user",JSON.stringify(Ae)),pe.accessToken&&localStorage.setItem("accessToken",pe.accessToken),u(!1),h(null),y(null),localStorage.removeItem("pendingProviderToken")}else throw new Error(pe.error||"Failed to complete social authentication")}catch(q){throw console.error("Social auth completion failed:",q),q}finally{a(!1)}},N=async()=>{try{await Ss("POST","/api/auth/logout",{}),await I$(),i(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("pendingProviderToken"),u(!1),h(null),y(null),ty.clear()}catch(z){console.error("Logout failed:",z),i(null),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("pendingProviderToken"),u(!1),h(null),y(null),ty.clear()}},H=g.useRef();H.current=async()=>{if(w.current){console.log("[checkAuth] Already checked, skipping");return}try{console.log("[checkAuth] Starting auth check...");const z=S$(),q=new Promise(X=>setTimeout(()=>X(null),2e3)),ae=await Promise.race([z,q]);if(ae!=null&&ae.user&&!E.current){E.current=!0;try{await V(ae.user,ae==null?void 0:ae.additionalUserInfo)}finally{E.current=!1}return}const Ue=localStorage.getItem("user");if(console.log("[checkAuth] localStorage user:",Ue?"EXISTS":"NONE"),Ue)try{const X=JSON.parse(Ue);console.log("[checkAuth] Setting user from localStorage:",X.id),"address"in X||(X.address=null),"defaultpaymentmethod"in X||(X.defaultpaymentmethod=null),"above_age"in X||(X.above_age=!1),localStorage.setItem("user",JSON.stringify(X)),i(X),console.log("[checkAuth] Fetching fresh user data from API..."),fetch(`/api/profile/${X.id}`,{method:"GET",credentials:"include"}).then(async de=>de.status===404?(console.log("[checkAuth] User not found in database (404), logging out..."),localStorage.removeItem("userId"),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),i(null),null):de.ok?de.json():(console.log("[checkAuth] Profile fetch failed with status:",de.status),null)).then(async de=>{if(de===null)return;const[pe,Ae]=await Promise.all([fetch(`/api/address/default/address/${X.id}`,{credentials:"include"}).then(St=>St.ok?St.json():{address:null}).catch(()=>({address:null})),fetch(`/api/users/paymentmethod/${X.id}`,{credentials:"include"}).then(St=>St.ok?St.json():[]).catch(()=>[])]),cn=(pe==null?void 0:pe.address)||null,lt=Array.isArray(Ae)&&Ae.length>0?Ae[0]:null,Zt={...X,firstName:de.firstName||X.firstName,lastName:de.lastName||X.lastName,userName:de.userName||X.userName,email:de.email||X.email,profilePhoto:de.profilePhoto||X.profilePhoto,coverPhoto:de.coverPhoto||X.coverPhoto,bio:de.bio||X.bio,phonenumber:de.phonenumber||X.phonenumber,applied_seller:de.applied_seller??X.applied_seller,stripe_account:de.stripe_account||X.stripe_account,shipping_settings:de.shipping_settings||X.shipping_settings,notification_settings:de.notification_settings||X.notification_settings,address:cn,defaultpaymentmethod:lt,above_age:X.above_age===!0?!0:de.above_age??!1};i(Zt),localStorage.setItem("user",JSON.stringify(Zt)),console.log("[checkAuth] Fresh user data updated:",{hasProfile:!0,hasAddress:!!cn,hasPayment:!!lt,profilePhoto:Zt.profilePhoto?"SET":"NONE"})}).catch(de=>{console.error("[checkAuth] Failed to fetch fresh user data:",de)})}catch(X){console.error("Failed to parse stored user data:",X),localStorage.removeItem("userId"),localStorage.removeItem("user"),i(null)}else i(null)}catch(z){console.error("Auth check failed:",z);const q=localStorage.getItem("user");if(q)try{const ae=JSON.parse(q);"address"in ae||(ae.address=null),"defaultpaymentmethod"in ae||(ae.defaultpaymentmethod=null),"above_age"in ae||(ae.above_age=!1),localStorage.setItem("user",JSON.stringify(ae)),i(ae)}catch{localStorage.removeItem("userId"),localStorage.removeItem("user"),i(null)}else i(null)}finally{console.log("[checkAuth] Auth check complete, setting hasCheckedAuth = true, isLoading = false"),w.current=!0,a(!1)}};const ye=async()=>{H.current&&await H.current()},me=async()=>{try{const z=localStorage.getItem("user");let q=s;if(z)try{const Zt=JSON.parse(z);q={...s,...Zt},i(q),console.log("[refreshUserData] Synced user from localStorage:",Zt.userName)}catch{console.error("[refreshUserData] Failed to parse stored user")}if(!(q!=null&&q.id))return console.log("[refreshUserData] No user logged in"),null;if(T.current)return console.log("[refreshUserData] Already refreshing, skipping address/payment fetch..."),{address:q.address,defaultpaymentmethod:q.defaultpaymentmethod};const ae=Date.now();if(ae-v.current<2e3)return console.log("[refreshUserData] Refreshed recently, skipping address/payment fetch..."),{address:q.address,defaultpaymentmethod:q.defaultpaymentmethod};T.current=!0,v.current=ae,console.log("[refreshUserData] Fetching latest address/payment data for:",q.id);const X=await(await Ss("GET",`/api/address/default/address/${q.id}`)).json(),de=(X==null?void 0:X.address)||null,Ae=await(await Ss("GET",`/api/users/paymentmethod/${q.id}`)).json(),De=Array.isArray(Ae)&&Ae.length>0?Ae[0]:null,lt={...q,address:de||null,defaultpaymentmethod:De||null};return i(lt),localStorage.setItem("user",JSON.stringify(lt)),console.log("[refreshUserData] User data updated:",{userName:lt.userName,hasAddress:!!lt.address,hasPayment:!!lt.defaultpaymentmethod}),{address:de,defaultpaymentmethod:De}}catch(z){return console.error("[refreshUserData] Failed to refresh user data:",z),null}finally{T.current=!1}};g.useEffect(()=>{if(!r&&!e){console.log("[AuthProvider] Settings loaded but Firebase not available - checking localStorage");const z=localStorage.getItem("user"),q=localStorage.getItem("accessToken");if(z&&q)try{const ae=JSON.parse(z);console.log("[AuthProvider] Restored user from localStorage:",ae.id),i(ae)}catch{console.error("[AuthProvider] Failed to parse stored user")}a(!1),w.current=!0}},[r,e]),g.useEffect(()=>{if(!e){console.log("[AuthProvider] Waiting for Firebase to be ready...");return}console.log("[AuthProvider] Firebase ready, setting up auth listener");const z=R$(async q=>{console.log("[Firebase Listener] Auth state changed, user:",q?"EXISTS":"NONE","hasCheckedAuth:",w.current),q||i(null),w.current?(console.log("[Firebase Listener] Setting isLoading = false"),a(!1)):console.log("[Firebase Listener] Waiting for checkAuth to complete...")});return ye(),()=>z()},[e]);const Ie=g.useCallback(()=>{s&&n.agerestricted&&!s.above_age?(console.log("[AgeVerification] Age restricted content, user has not confirmed age"),_(!0)):_(!1)},[s,n.agerestricted]);g.useEffect(()=>{Ie()},[Ie]);const oe={user:s,isLoading:o,isAuthenticated:k,pendingSocialAuth:l,pendingSocialAuthEmail:d,pendingSocialAuthData:p,showAgeVerification:I,login:A,emailLogin:S,emailSignup:x,loginWithGoogle:P,loginWithApple:O,completeSocialAuth:D,logout:N,checkAuth:ye,refreshUserData:me,confirmAge:async()=>{if(s)try{const q=await(await Ss("PATCH","/api/users/profile",{above_age:!0})).json();if(q.success){const ae={...s,above_age:!0};i(ae),localStorage.setItem("user",JSON.stringify(ae)),_(!1),console.log("[AgeVerification] User confirmed they are over 18")}else throw new Error(q.message||"Failed to confirm age")}catch(z){throw console.error("[AgeVerification] Error confirming age:",z),z}},declineAge:async()=>{console.log("[AgeVerification] User declined age verification, logging out"),_(!1),await N()}};return C.jsx(YP.Provider,{value:oe,children:t})}function Aw(){const t=g.useContext(YP);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const Lr=Object.create(null);Lr.open="0";Lr.close="1";Lr.ping="2";Lr.pong="3";Lr.message="4";Lr.upgrade="5";Lr.noop="6";const sh=Object.create(null);Object.keys(Lr).forEach(t=>{sh[Lr[t]]=t});const Hy={type:"error",data:"parser error"},ZP=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",JP=typeof ArrayBuffer=="function",e1=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,bw=({type:t,data:e},n,r)=>ZP&&e instanceof Blob?n?r(e):gI(e,r):JP&&(e instanceof ArrayBuffer||e1(e))?n?r(e):gI(new Blob([e]),r):r(Lr[t]+(e||"")),gI=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function yI(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Dm;function v5(t,e){if(ZP&&t.data instanceof Blob)return t.data.arrayBuffer().then(yI).then(e);if(JP&&(t.data instanceof ArrayBuffer||e1(t.data)))return e(yI(t.data));bw(t,!1,n=>{Dm||(Dm=new TextEncoder),e(Dm.encode(n))})}const _I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<_I.length;t++)dc[_I.charCodeAt(t)]=t;const w5=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=dc[t.charCodeAt(r)],o=dc[t.charCodeAt(r+1)],a=dc[t.charCodeAt(r+2)],l=dc[t.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|l&63;return u},E5=typeof ArrayBuffer=="function",Rw=(t,e)=>{if(typeof t!="string")return{type:"message",data:t1(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:T5(t.substring(1),e)}:sh[n]?t.length>1?{type:sh[n],data:t.substring(1)}:{type:sh[n]}:Hy},T5=(t,e)=>{if(E5){const n=w5(t);return t1(n,e)}else return{base64:!0,data:t}},t1=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},n1="",S5=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{bw(i,!1,a=>{r[o]=a,++s===n&&e(r.join(n1))})})},I5=(t,e)=>{const n=t.split(n1),r=[];for(let s=0;s<n.length;s++){const i=Rw(n[s],e);if(r.push(i),i.type==="error")break}return r};function A5(){return new TransformStream({transform(t,e){v5(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Lm;function Ad(t){return t.reduce((e,n)=>e+n.length,0)}function bd(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function b5(t,e){Lm||(Lm=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Ad(n)<1)break;const l=bd(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ad(n)<2)break;const l=bd(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Ad(n)<8)break;const l=bd(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Hy);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Ad(n)<s)break;const l=bd(n,s);a.enqueue(Rw(i?l:Lm.decode(l),e)),r=0}if(s===0||s>t){a.enqueue(Hy);break}}}})}const r1=4;function Et(t){if(t)return R5(t)}function R5(t){for(var e in Et.prototype)t[e]=Et.prototype[e];return t}Et.prototype.on=Et.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Et.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Et.prototype.off=Et.prototype.removeListener=Et.prototype.removeAllListeners=Et.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Et.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};Et.prototype.emitReserved=Et.prototype.emit;Et.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Et.prototype.hasListeners=function(t){return!!this.listeners(t).length};const yp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Fn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),C5="arraybuffer";function s1(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const x5=Fn.setTimeout,k5=Fn.clearTimeout;function _p(t,e){e.useNativeTimers?(t.setTimeoutFn=x5.bind(Fn),t.clearTimeoutFn=k5.bind(Fn)):(t.setTimeoutFn=Fn.setTimeout.bind(Fn),t.clearTimeoutFn=Fn.clearTimeout.bind(Fn))}const P5=1.33;function N5(t){return typeof t=="string"?O5(t):Math.ceil((t.byteLength||t.size)*P5)}function O5(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function i1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function D5(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function L5(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class M5 extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Cw extends Et{constructor(e){super(),this.writable=!1,_p(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new M5(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Rw(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=D5(e);return n.length?"?"+n:""}}class V5 extends Cw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};I5(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,S5(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=i1()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let o1=!1;try{o1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const F5=o1;function U5(){}class j5 extends V5{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let _a=class ih extends Et{constructor(e,n,r){super(),this.createRequest=e,_p(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=s1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=ih.requestsCount++,ih.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=U5,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ih.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};_a.requestsCount=0;_a.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vI);else if(typeof addEventListener=="function"){const t="onpagehide"in Fn?"pagehide":"unload";addEventListener(t,vI,!1)}}function vI(){for(let t in _a.requests)_a.requests.hasOwnProperty(t)&&_a.requests[t].abort()}const B5=function(){const t=a1({xdomain:!1});return t&&t.responseType!==null}();class z5 extends j5{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=B5&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new _a(a1,this.uri(),e)}}function a1(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||F5))return new XMLHttpRequest}catch{}if(!e)try{return new Fn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const l1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class $5 extends Cw{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=l1?{}:s1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;bw(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&yp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=i1()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Mm=Fn.WebSocket||Fn.MozWebSocket;class q5 extends $5{createSocket(e,n,r){return l1?new Mm(e,n,r):n?new Mm(e,n):new Mm(e)}doWrite(e,n){this.ws.send(n)}}class W5 extends Cw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=b5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=A5();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&yp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const H5={websocket:q5,webtransport:W5,polling:z5},G5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,K5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gy(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=G5.exec(t||""),i={},o=14;for(;o--;)i[K5[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Q5(i,i.path),i.queryKey=X5(i,i.query),i}function Q5(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function X5(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const Ky=typeof addEventListener=="function"&&typeof removeEventListener=="function",oh=[];Ky&&addEventListener("offline",()=>{oh.forEach(t=>t())},!1);class di extends Et{constructor(e,n){if(super(),this.binaryType=C5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Gy(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Gy(n.host).host);_p(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=L5(this.opts.query)),Ky&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},oh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=r1,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&di.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",di.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=N5(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,yp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(di.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ky&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=oh.indexOf(this._offlineEventListener);r!==-1&&oh.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}di.protocol=r1;class Y5 extends di{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;di.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;di.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=n.name,i(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(h){n&&h.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Z5=class extends Y5{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>H5[s]).filter(s=>!!s)),super(e,r)}};function J5(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Gy(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const eq=typeof ArrayBuffer=="function",tq=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,c1=Object.prototype.toString,nq=typeof Blob=="function"||typeof Blob<"u"&&c1.call(Blob)==="[object BlobConstructor]",rq=typeof File=="function"||typeof File<"u"&&c1.call(File)==="[object FileConstructor]";function xw(t){return eq&&(t instanceof ArrayBuffer||tq(t))||nq&&t instanceof Blob||rq&&t instanceof File}function ah(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(ah(t[n]))return!0;return!1}if(xw(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ah(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ah(t[n]))return!0;return!1}function sq(t){const e=[],n=t.data,r=t;return r.data=Qy(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Qy(t,e){if(!t)return t;if(xw(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Qy(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Qy(t[r],e));return n}return t}function iq(t,e){return t.data=Xy(t.data,e),delete t.attachments,t}function Xy(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Xy(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Xy(t[n],e));return t}const oq=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],aq=5;var Oe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Oe||(Oe={}));class lq{constructor(e){this.replacer=e}encode(e){return(e.type===Oe.EVENT||e.type===Oe.ACK)&&ah(e)?this.encodeAsBinary({type:e.type===Oe.EVENT?Oe.BINARY_EVENT:Oe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Oe.BINARY_EVENT||e.type===Oe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=sq(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function wI(t){return Object.prototype.toString.call(t)==="[object Object]"}class kw extends Et{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Oe.BINARY_EVENT;r||n.type===Oe.BINARY_ACK?(n.type=r?Oe.EVENT:Oe.ACK,this.reconstructor=new cq(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(xw(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Oe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Oe.BINARY_EVENT||r.type===Oe.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(kw.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Oe.CONNECT:return wI(n);case Oe.DISCONNECT:return n===void 0;case Oe.CONNECT_ERROR:return typeof n=="string"||wI(n);case Oe.EVENT:case Oe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&oq.indexOf(n[0])===-1);case Oe.ACK:case Oe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class cq{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=iq(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uq=Object.freeze(Object.defineProperty({__proto__:null,Decoder:kw,Encoder:lq,get PacketType(){return Oe},protocol:aq},Symbol.toStringTag,{value:"Module"}));function Xn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const dq=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class u1 extends Et{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Xn(e,"open",this.onopen.bind(this)),Xn(e,"packet",this.onpacket.bind(this)),Xn(e,"error",this.onerror.bind(this)),Xn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(dq.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Oe.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Oe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Oe.EVENT:case Oe.BINARY_EVENT:this.onevent(e);break;case Oe.ACK:case Oe.BINARY_ACK:this.onack(e);break;case Oe.DISCONNECT:this.ondisconnect();break;case Oe.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Oe.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Tl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Tl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Tl.prototype.reset=function(){this.attempts=0};Tl.prototype.setMin=function(t){this.ms=t};Tl.prototype.setMax=function(t){this.max=t};Tl.prototype.setJitter=function(t){this.jitter=t};class Yy extends Et{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,_p(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Tl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||uq;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Z5(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Xn(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Xn(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Xn(e,"ping",this.onping.bind(this)),Xn(e,"data",this.ondata.bind(this)),Xn(e,"error",this.onerror.bind(this)),Xn(e,"close",this.onclose.bind(this)),Xn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){yp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new u1(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Zl={};function lh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=J5(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Zl[s]&&i in Zl[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Yy(r,e):(Zl[s]||(Zl[s]=new Yy(r,e)),l=Zl[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(lh,{Manager:Yy,Socket:u1,io:lh,connect:lh});const d1=g.createContext(void 0);function hq({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(!1),i=g.useRef(null),o=g.useRef(!1),a=g.useRef(!1),l=g.useRef(null),{user:u}=Aw(),d=g.useRef(null);g.useEffect(()=>{d.current=u},[u]);const h=g.useCallback(w=>{const v=d.current,T=v?v._id||v.id||v.id:`guest_${w}`,k=v?v.userName||v.firstName||v.email:`Guest_${w.slice(0,6)}`;return{userId:T,userName:k}},[]);g.useEffect(()=>((async()=>{var v;try{const k=await(await fetch("/api/config")).json();if(!k.success||!((v=k.data)!=null&&v.externalApiUrl))throw new Error("Failed to fetch external API URL from config");const L=k.data.externalApiUrl;console.log(" Connecting to Socket.IO server at external API:",L);const V=lh(L,{transports:["websocket","polling"],autoConnect:!1,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:1/0});V.onAny((A,...S)=>{console.log(" [Socket Event Received]:",A,S)}),V.on("connect",()=>{if(console.log(" Socket.IO connected to external API:",L),console.log("Socket ID:",V.id),s(!0),i.current&&!o.current&&!a.current){console.log(" Reconnected! Auto-rejoining room:",i.current);const A=V.id||`temp_${Math.random().toString(36).substr(2,9)}`,{userId:S,userName:x}=h(A);console.log(" Auto-rejoin with user:",{userId:S,userName:x}),V.emit("join-room",{roomId:i.current,userId:S,userName:x})}o.current=!1}),V.on("disconnect",()=>{console.log("Socket.IO disconnected"),s(!1)}),V.on("connect_error",A=>{console.error("Socket.IO connection error:",A)}),l.current=V,n(V)}catch(T){console.error("Failed to initialize Socket.IO:",T)}})(),()=>{l.current&&(console.log(" Disconnecting socket on provider unmount"),l.current.disconnect(),l.current=null)}),[]);const p=g.useCallback(()=>{if(!e){console.warn(" Cannot connect: socket not initialized");return}e.connected?console.log(" Socket already connected"):(console.log(" Manually connecting socket..."),e.connect())},[e]),y=g.useCallback(()=>{if(!e){console.warn(" Cannot disconnect: socket not initialized");return}e.connected&&(console.log(" Manually disconnecting socket..."),e.disconnect())},[e]),I=g.useCallback(w=>{if(!e){console.warn(" Cannot join room: socket not initialized");return}if(!e.connected){console.warn(" Cannot join room: socket not connected yet");return}a.current&&(console.log(" Clearing isLeavingRoom flag (joining new room)"),a.current=!1),i.current=w;const v=e.id||`temp_${Math.random().toString(36).substr(2,9)}`,{userId:T,userName:k}=h(v);console.log(" Emitting join-room event:",{roomId:w,userId:T,userName:k}),e.emit("join-room",{roomId:w,userId:T,userName:k})},[e,h]),_=g.useCallback(w=>{if(!e){console.warn(" Cannot leave room: socket not initialized");return}i.current===w&&(console.log(" Clearing current room ref (leaving room):",w),i.current=null);const v=e.id||`temp_${Math.random().toString(36).substr(2,9)}`,{userId:T,userName:k}=h(v);console.log(" Emitting leave-room event:",{roomId:w,userId:T,userName:k}),e.emit("leave-room",{roomId:w,userId:T,userName:k})},[e,h]),E=g.useCallback(w=>{console.log(" Setting isLeavingRoom flag:",w),a.current=w},[]);return C.jsx(d1.Provider,{value:{socket:e,isConnected:r,connect:p,disconnect:y,joinRoom:I,leaveRoom:_,setLeavingRoom:E},children:t})}function AH(){const t=g.useContext(d1);if(t===void 0)throw new Error("useSocket must be used within a SocketProvider");return t}function fq(t){const{theme:e}=Iw();g.useEffect(()=>{const n=e.seo_title||e.app_name||"App";t?document.title=`${t} | ${n}`:document.title=n},[t,e.app_name,e.seo_title])}var Vm="focusScope.autoFocusOnMount",Fm="focusScope.autoFocusOnUnmount",EI={bubbles:!1,cancelable:!0},pq="FocusScope",h1=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=Pr(s),d=Pr(i),h=g.useRef(null),p=Bt(e,_=>l(_)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let _=function(T){if(y.paused||!a)return;const k=T.target;a.contains(k)?h.current=k:xs(h.current,{select:!0})},E=function(T){if(y.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||xs(h.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const L of T)L.removedNodes.length>0&&xs(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",E);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,y.paused]),g.useEffect(()=>{if(a){SI.add(y);const _=document.activeElement;if(!a.contains(_)){const w=new CustomEvent(Vm,EI);a.addEventListener(Vm,u),a.dispatchEvent(w),w.defaultPrevented||(mq(wq(f1(a)),{select:!0}),document.activeElement===_&&xs(a))}return()=>{a.removeEventListener(Vm,u),setTimeout(()=>{const w=new CustomEvent(Fm,EI);a.addEventListener(Fm,d),a.dispatchEvent(w),w.defaultPrevented||xs(_??document.body,{select:!0}),a.removeEventListener(Fm,d),SI.remove(y)},0)}}},[a,u,d,y]);const I=g.useCallback(_=>{if(!n&&!r||y.paused)return;const E=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,w=document.activeElement;if(E&&w){const v=_.currentTarget,[T,k]=gq(v);T&&k?!_.shiftKey&&w===k?(_.preventDefault(),n&&xs(T,{select:!0})):_.shiftKey&&w===T&&(_.preventDefault(),n&&xs(k,{select:!0})):w===v&&_.preventDefault()}},[n,r,y.paused]);return C.jsx(Tt.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});h1.displayName=pq;function mq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xs(r,{select:e}),document.activeElement!==n)return}function gq(t){const e=f1(t),n=TI(e,t),r=TI(e.reverse(),t);return[n,r]}function f1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TI(t,e){for(const n of t)if(!yq(n,{upTo:e}))return n}function yq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _q(t){return t instanceof HTMLInputElement&&"select"in t}function xs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_q(t)&&e&&t.select()}}var SI=vq();function vq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=II(t,e),t.unshift(e)},remove(e){var n;t=II(t,e),(n=t[0])==null||n.resume()}}}function II(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wq(t){return t.filter(e=>e.tagName!=="A")}var Um=0;function Eq(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AI()),document.body.insertAdjacentElement("beforeend",t[1]??AI()),Um++,()=>{Um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Um--}},[])}function AI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _r=function(){return _r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_r.apply(this,arguments)};function p1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Tq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ch="right-scroll-bar-position",uh="width-before-scroll-bar",Sq="with-scroll-bars-hidden",Iq="--removed-body-scroll-bar-size";function jm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Aq(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var bq=typeof window<"u"?g.useLayoutEffect:g.useEffect,bI=new WeakMap;function Rq(t,e){var n=Aq(null,function(r){return t.forEach(function(s){return jm(s,r)})});return bq(function(){var r=bI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||jm(a,null)}),i.forEach(function(a){s.has(a)||jm(a,o)})}bI.set(n,t)},[t]),n}function Cq(t){return t}function xq(t,e){e===void 0&&(e=Cq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function kq(t){t===void 0&&(t={});var e=xq(null);return e.options=_r({async:!0,ssr:!1},t),e}var m1=function(t){var e=t.sideCar,n=p1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,_r({},n))};m1.isSideCarExport=!0;function Pq(t,e){return t.useMedium(e),m1}var g1=kq(),Bm=function(){},vp=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Bm,onWheelCapture:Bm,onTouchMoveCapture:Bm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,y=t.noRelative,I=t.noIsolation,_=t.inert,E=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,T=t.gapMode,k=p1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=p,V=Rq([n,e]),A=_r(_r({},k),s);return g.createElement(g.Fragment,null,d&&g.createElement(L,{sideCar:g1,removeScrollBar:u,shards:h,noRelative:y,noIsolation:I,inert:_,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:T}),o?g.cloneElement(g.Children.only(a),_r(_r({},A),{ref:V})):g.createElement(v,_r({},A,{className:l,ref:V}),a))});vp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vp.classNames={fullWidth:uh,zeroRight:ch};var Nq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Oq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Nq();return e&&t.setAttribute("nonce",e),t}function Dq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Oq())&&(Dq(e,n),Lq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vq=function(){var t=Mq();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},y1=function(){var t=Vq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Fq={left:0,top:0,right:0,gap:0},zm=function(t){return parseInt(t||"",10)||0},Uq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[zm(n),zm(r),zm(s)]},jq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fq;var e=Uq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Bq=y1(),va="data-scroll-locked",zq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Sq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(va,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ch,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(va,`] {
    `).concat(Iq,": ").concat(a,`px;
  }
`)},RI=function(){var t=parseInt(document.body.getAttribute(va)||"0",10);return isFinite(t)?t:0},$q=function(){g.useEffect(function(){return document.body.setAttribute(va,(RI()+1).toString()),function(){var t=RI()-1;t<=0?document.body.removeAttribute(va):document.body.setAttribute(va,t.toString())}},[])},qq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$q();var i=g.useMemo(function(){return jq(s)},[s]);return g.createElement(Bq,{styles:zq(i,!e,s,n?"":"!important")})},Zy=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return Zy=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Zy=!1}var Fo=Zy?{passive:!1}:!1,Wq=function(t){return t.tagName==="TEXTAREA"},_1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wq(t)&&n[e]==="visible")},Hq=function(t){return _1(t,"overflowY")},Gq=function(t){return _1(t,"overflowX")},CI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=v1(t,r);if(s){var i=w1(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Kq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},v1=function(t,e){return t==="v"?Hq(e):Gq(e)},w1=function(t,e){return t==="v"?Kq(e):Qq(e)},Xq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yq=function(t,e,n,r,s){var i=Xq(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,p=0;do{if(!a)break;var y=w1(t,a),I=y[0],_=y[1],E=y[2],w=_-E-i*I;(I||w)&&v1(t,a)&&(h+=w,p+=I);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Cd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xI=function(t){return[t.deltaX,t.deltaY]},kI=function(t){return t&&"current"in t?t.current:t},Zq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},e8=0,Uo=[];function t8(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(e8++)[0],i=g.useState(y1)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=Tq([t.lockRef.current],(t.shards||[]).map(kI),!0).filter(Boolean);return _.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(_,E){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var w=Cd(_),v=n.current,T="deltaX"in _?_.deltaX:v[0]-w[0],k="deltaY"in _?_.deltaY:v[1]-w[1],L,V=_.target,A=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in _&&A==="h"&&V.type==="range")return!1;var S=window.getSelection(),x=S&&S.anchorNode,P=x?x===V||x.contains(V):!1;if(P)return!1;var O=CI(A,V);if(!O)return!0;if(O?L=A:(L=A==="v"?"h":"v",O=CI(A,V)),!O)return!1;if(!r.current&&"changedTouches"in _&&(T||k)&&(r.current=L),!L)return!0;var D=r.current||L;return Yq(D,E,_,D==="h"?T:k)},[]),l=g.useCallback(function(_){var E=_;if(!(!Uo.length||Uo[Uo.length-1]!==i)){var w="deltaY"in E?xI(E):Cd(E),v=e.current.filter(function(L){return L.name===E.type&&(L.target===E.target||E.target===L.shadowParent)&&Zq(L.delta,w)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(kI).filter(Boolean).filter(function(L){return L.contains(E.target)}),k=T.length>0?a(E,T[0]):!o.current.noIsolation;k&&E.cancelable&&E.preventDefault()}}},[]),u=g.useCallback(function(_,E,w,v){var T={name:_,delta:E,target:w,should:v,shadowParent:n8(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),d=g.useCallback(function(_){n.current=Cd(_),r.current=void 0},[]),h=g.useCallback(function(_){u(_.type,xI(_),_.target,a(_,t.lockRef.current))},[]),p=g.useCallback(function(_){u(_.type,Cd(_),_.target,a(_,t.lockRef.current))},[]);g.useEffect(function(){return Uo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Fo),document.addEventListener("touchmove",l,Fo),document.addEventListener("touchstart",d,Fo),function(){Uo=Uo.filter(function(_){return _!==i}),document.removeEventListener("wheel",l,Fo),document.removeEventListener("touchmove",l,Fo),document.removeEventListener("touchstart",d,Fo)}},[]);var y=t.removeScrollBar,I=t.inert;return g.createElement(g.Fragment,null,I?g.createElement(i,{styles:Jq(s)}):null,y?g.createElement(qq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function n8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const r8=Pq(g1,t8);var E1=g.forwardRef(function(t,e){return g.createElement(vp,_r({},t,{ref:e,sideCar:r8}))});E1.classNames=vp.classNames;var s8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jo=new WeakMap,xd=new WeakMap,kd={},$m=0,T1=function(t){return t&&(t.host||T1(t.parentNode))},i8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=T1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o8=function(t,e,n,r){var s=i8(e,Array.isArray(t)?t:[t]);kd[n]||(kd[n]=new WeakMap);var i=kd[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var y=p.getAttribute(r),I=y!==null&&y!=="false",_=(jo.get(p)||0)+1,E=(i.get(p)||0)+1;jo.set(p,_),i.set(p,E),o.push(p),_===1&&I&&xd.set(p,!0),E===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),$m++,function(){o.forEach(function(h){var p=jo.get(h)-1,y=i.get(h)-1;jo.set(h,p),i.set(h,y),p||(xd.has(h)||h.removeAttribute(r),xd.delete(h)),y||h.removeAttribute(n)}),$m--,$m||(jo=new WeakMap,jo=new WeakMap,xd=new WeakMap,kd={})}},a8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=s8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),o8(r,s,n,"aria-hidden")):function(){return null}};function l8(t){const e=c8(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),l=a.find(d8);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function c8(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=f8(s),a=h8(i,s.props);return s.type!==g.Fragment&&(a.ref=r?_u(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var u8=Symbol("radix.slottable");function d8(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===u8}function h8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function f8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wp="Dialog",[S1,I1]=al(wp),[p8,ar]=S1(wp),A1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u,d]=nv({prop:r,defaultProp:s??!1,onChange:i,caller:wp});return C.jsx(p8,{scope:e,triggerRef:a,contentRef:l,contentId:Hd(),titleId:Hd(),descriptionId:Hd(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};A1.displayName=wp;var b1="DialogTrigger",R1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(b1,n),i=Bt(e,s.triggerRef);return C.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ow(s.open),...r,ref:i,onClick:Ye(t.onClick,s.onOpenToggle)})});R1.displayName=b1;var Pw="DialogPortal",[m8,C1]=S1(Pw,{forceMount:void 0}),x1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ar(Pw,e);return C.jsx(m8,{scope:e,forceMount:n,children:g.Children.map(r,o=>C.jsx(ll,{present:n||i.open,children:C.jsx(tv,{asChild:!0,container:s,children:o})}))})};x1.displayName=Pw;var hf="DialogOverlay",k1=g.forwardRef((t,e)=>{const n=C1(hf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ar(hf,t.__scopeDialog);return i.modal?C.jsx(ll,{present:r||i.open,children:C.jsx(y8,{...s,ref:e})}):null});k1.displayName=hf;var g8=l8("DialogOverlay.RemoveScroll"),y8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(hf,n);return C.jsx(E1,{as:g8,allowPinchZoom:!0,shards:[s.contentRef],children:C.jsx(Tt.div,{"data-state":Ow(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ao="DialogContent",P1=g.forwardRef((t,e)=>{const n=C1(Ao,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ar(Ao,t.__scopeDialog);return C.jsx(ll,{present:r||i.open,children:i.modal?C.jsx(_8,{...s,ref:e}):C.jsx(v8,{...s,ref:e})})});P1.displayName=Ao;var _8=g.forwardRef((t,e)=>{const n=ar(Ao,t.__scopeDialog),r=g.useRef(null),s=Bt(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return a8(i)},[]),C.jsx(N1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,i=>i.preventDefault())})}),v8=g.forwardRef((t,e)=>{const n=ar(Ao,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return C.jsx(N1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),N1=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ar(Ao,n),l=g.useRef(null),u=Bt(e,l);return Eq(),C.jsxs(C.Fragment,{children:[C.jsx(h1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:C.jsx(Nf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ow(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(E8,{titleId:a.titleId}),C.jsx(S8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Nw="DialogTitle",O1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(Nw,n);return C.jsx(Tt.h2,{id:s.titleId,...r,ref:e})});O1.displayName=Nw;var D1="DialogDescription",L1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(D1,n);return C.jsx(Tt.p,{id:s.descriptionId,...r,ref:e})});L1.displayName=D1;var M1="DialogClose",V1=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(M1,n);return C.jsx(Tt.button,{type:"button",...r,ref:e,onClick:Ye(t.onClick,()=>s.onOpenChange(!1))})});V1.displayName=M1;function Ow(t){return t?"open":"closed"}var F1="DialogTitleWarning",[w8,U1]=L2(F1,{contentName:Ao,titleName:Nw,docsSlug:"dialog"}),E8=({titleId:t})=>{const e=U1(F1),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},T8="DialogDescriptionWarning",S8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${U1(T8).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},I8=A1,A8=R1,b8=x1,R8=k1,C8=P1,x8=O1,k8=L1,j1=V1,P8=Symbol("radix.slottable");function N8(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=P8,e}var B1="AlertDialog",[O8]=al(B1,[I1]),ms=I1(),z1=t=>{const{__scopeAlertDialog:e,...n}=t,r=ms(e);return C.jsx(I8,{...r,...n,modal:!0})};z1.displayName=B1;var D8="AlertDialogTrigger",$1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return C.jsx(A8,{...s,...r,ref:e})});$1.displayName=D8;var L8="AlertDialogPortal",q1=t=>{const{__scopeAlertDialog:e,...n}=t,r=ms(e);return C.jsx(b8,{...r,...n})};q1.displayName=L8;var M8="AlertDialogOverlay",W1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return C.jsx(R8,{...s,...r,ref:e})});W1.displayName=M8;var wa="AlertDialogContent",[V8,F8]=O8(wa),U8=N8("AlertDialogContent"),H1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ms(n),o=g.useRef(null),a=Bt(e,o),l=g.useRef(null);return C.jsx(w8,{contentName:wa,titleName:G1,docsSlug:"alert-dialog",children:C.jsx(V8,{scope:n,cancelRef:l,children:C.jsxs(C8,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:Ye(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[C.jsx(U8,{children:r}),C.jsx(B8,{contentRef:o})]})})})});H1.displayName=wa;var G1="AlertDialogTitle",K1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return C.jsx(x8,{...s,...r,ref:e})});K1.displayName=G1;var Q1="AlertDialogDescription",X1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return C.jsx(k8,{...s,...r,ref:e})});X1.displayName=Q1;var j8="AlertDialogAction",Y1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ms(n);return C.jsx(j1,{...s,...r,ref:e})});Y1.displayName=j8;var Z1="AlertDialogCancel",J1=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=F8(Z1,n),i=ms(n),o=Bt(e,s);return C.jsx(j1,{...i,...r,ref:o})});J1.displayName=Z1;var B8=({contentRef:t})=>{const e=`\`${wa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wa}\` by passing a \`${Q1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},z8=z1,$8=$1,q8=q1,eN=W1,tN=H1,nN=Y1,rN=J1,sN=K1,iN=X1,W8=Symbol.for("react.lazy"),ff=mf[" use ".trim().toString()];function H8(t){return typeof t=="object"&&t!==null&&"then"in t}function oN(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===W8&&"_payload"in t&&H8(t._payload)}function G8(t){const e=Q8(t),n=g.forwardRef((r,s)=>{let{children:i,...o}=r;oN(i)&&typeof ff=="function"&&(i=ff(i._payload));const a=g.Children.toArray(i),l=a.find(Y8);if(l){const u=l.props.children,d=a.map(h=>h===l?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var K8=G8("Slot");function Q8(t){const e=g.forwardRef((n,r)=>{let{children:s,...i}=n;if(oN(s)&&typeof ff=="function"&&(s=ff(s._payload)),g.isValidElement(s)){const o=J8(s),a=Z8(i,s.props);return s.type!==g.Fragment&&(a.ref=r?_u(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var X8=Symbol("radix.slottable");function Y8(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===X8}function Z8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function J8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Dw=iC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),eW=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?K8:"button";return C.jsx(o,{className:$t(Dw({variant:e,size:n,className:t})),ref:i,...s})});eW.displayName="Button";const tW=z8,bH=$8,nW=q8,aN=g.forwardRef(({className:t,...e},n)=>C.jsx(eN,{className:$t("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));aN.displayName=eN.displayName;const lN=g.forwardRef(({className:t,overlayClassName:e,...n},r)=>C.jsxs(nW,{children:[C.jsx(aN,{className:e}),C.jsx(tN,{ref:r,className:$t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));lN.displayName=tN.displayName;const cN=({className:t,...e})=>C.jsx("div",{className:$t("flex flex-col space-y-2 text-center sm:text-left",t),...e});cN.displayName="AlertDialogHeader";const uN=({className:t,...e})=>C.jsx("div",{className:$t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});uN.displayName="AlertDialogFooter";const dN=g.forwardRef(({className:t,...e},n)=>C.jsx(sN,{ref:n,className:$t("text-lg font-semibold",t),...e}));dN.displayName=sN.displayName;const hN=g.forwardRef(({className:t,...e},n)=>C.jsx(iN,{ref:n,className:$t("text-sm text-muted-foreground",t),...e}));hN.displayName=iN.displayName;const fN=g.forwardRef(({className:t,...e},n)=>C.jsx(nN,{ref:n,className:$t(Dw(),t),...e}));fN.displayName=nN.displayName;const pN=g.forwardRef(({className:t,...e},n)=>C.jsx(rN,{ref:n,className:$t(Dw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));pN.displayName=rN.displayName;function rW(){const{showAgeVerification:t,confirmAge:e,declineAge:n}=Aw(),{settings:r}=Iw(),{toast:s}=OR(),[i,o]=g.useState(!1),a=async()=>{o(!0);try{await e(),s({title:"Age Verified",description:"Thank you for confirming your age."})}catch(u){console.error("Failed to confirm age:",u),s({title:"Verification Failed",description:"Failed to verify your age. Please try again.",variant:"destructive"})}finally{o(!1)}},l=async()=>{o(!0);try{s({title:"Age Requirement Not Met",description:"You must be at least 18 years old to use this platform.",variant:"destructive"}),await n()}catch(u){console.error("Failed to decline age:",u)}finally{o(!1)}};return C.jsx(tW,{open:t,children:C.jsxs(lN,{className:"max-w-md","data-testid":"dialog-age-verification",children:[C.jsxs(cN,{children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"p-2 rounded-full bg-amber-100 dark:bg-amber-900/30",children:C.jsx(VM,{className:"h-6 w-6 text-amber-600 dark:text-amber-500"})}),C.jsx(dN,{className:"text-xl",children:"Age Verification Required"})]}),C.jsxs(hN,{className:"text-base",children:[r.app_name||"This platform"," contains age-restricted content. By continuing, you confirm that you are 18 years of age or older."]})]}),C.jsx("div",{className:"py-4",children:C.jsx("p",{className:"text-sm text-muted-foreground",children:"If you are under 18, you will be logged out and unable to access this content."})}),C.jsxs(uN,{children:[C.jsx(pN,{onClick:l,disabled:i,"data-testid":"button-age-decline",children:"I am under 18"}),C.jsx(fN,{onClick:a,disabled:i,"data-testid":"button-age-confirm",children:i?C.jsxs(C.Fragment,{children:[C.jsx(MM,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirming..."]}):"I am 18 or older"})]})]})})}const Jl=g.lazy(()=>ce(()=>import("./sidebar-XF3j6t6a.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(t=>({default:t.Sidebar}))),Pd=g.lazy(()=>ce(()=>import("./app-header-D4w2njAg.js"),__vite__mapDeps([15,16,1,17,3,2,18,19,20,21,7,12,22,4,23,11,6,8,24,25,26,27,28,29,30,31,32,33,14])).then(t=>({default:t.AppHeader}))),sW=g.lazy(()=>ce(()=>import("./social-auth-complete-form-BgOpaaGy.js"),__vite__mapDeps([34,35,36,37,16,38,39,20,40,41,29,42,43,44,45,46,47])).then(t=>({default:t.SocialAuthCompleteForm}))),iW=g.lazy(()=>ce(()=>import("./dashboard-BpNNQYLI.js"),__vite__mapDeps([48,37,24,47,5,49,50,17,51,52,53,54,32,8,6]))),oW=g.lazy(()=>ce(()=>import("./orders-Y4NQQexk.js"),__vite__mapDeps([55,56,37,17,38,39,20,40,41,29,42,57,36,58,59,60,4,3,2,61,6,14,8,62,51,52]))),aW=g.lazy(()=>ce(()=>import("./purchases-BIPrmudq.js"),__vite__mapDeps([63,56,37,17,16,38,39,20,40,41,29,42,28,19,4,30,64,65,36,66,58,59,60,31,6,67,68,8,51,52]))),lW=g.lazy(()=>ce(()=>import("./thank-you-Dy9m83zK.js"),__vite__mapDeps([69,37,2,70,6,54]))),cW=g.lazy(()=>ce(()=>import("./inventory-BYLE0KGt.js"),__vite__mapDeps([71,56,37,17,16,38,39,20,40,41,29,42,28,19,4,30,57,64,59,60,43,72,36,18,73,74,75,53,76,6,32,31,77,67,78,79]))),uW=g.lazy(()=>ce(()=>import("./add-product-B1K3_8d3.js"),__vite__mapDeps([80,56,81,35,36,37,16,65,38,39,20,40,41,29,42,17,82,83,64,66,19,30,84,73,31,85,86]))),dW=g.lazy(()=>ce(()=>import("./edit-product-Idxzm5Fx.js"),__vite__mapDeps([87,56,81,35,36,37,16,65,38,39,20,40,41,29,42,17,82,83,64,66,19,30,84,73,31,85,86]))),hW=g.lazy(()=>ce(()=>import("./shipping-BDMwsEE5.js"),__vite__mapDeps([88,56,37,17,57,40,29,16,38,39,20,41,42,52,89,51,90,4,60,3,36,2,91,92,64,43,62,47,6,76,8,68,9,74,12,75,28,19,30,65,83,59,33,78,67,53]))),fW=g.lazy(()=>ce(()=>import("./shipping-profiles-BPDMQIyj.js"),__vite__mapDeps([93,56,37,16,36,65,38,39,20,40,41,29,42,64,28,19,4,30,32,6,67,77,79]))),pW=g.lazy(()=>ce(()=>import("./addresses-COyHsC6-.js"),__vite__mapDeps([94,56,95,96,37,16,36,64,28,20,19,4,29,30,17,32,12,97,98]))),mW=g.lazy(()=>ce(()=>import("./analytics-B0xlvhfz.js"),__vite__mapDeps([99,37,49,50,100]))),gW=g.lazy(()=>ce(()=>import("./live-shows-CsT_76nU.js"),__vite__mapDeps([101,56,18,19,20,16,38,39,40,41,29,42,32,31,5,60,4,51,52]))),yW=g.lazy(()=>ce(()=>import("./settings-CF-GVvYi.js"),__vite__mapDeps([102,37,83,40,26,103,47,78]))),_W=g.lazy(()=>ce(()=>import("./profile-BXLdLUWP.js"),__vite__mapDeps([104,35,36,37,16,1,17,43,2,77,84,25,105,53,44,106,46,12,85]))),qm=g.lazy(()=>ce(()=>import("./profile-view-BFP3sJOp.js"),__vite__mapDeps([107,1,17,18,19,20,28,4,29,30,64,65,108,53,97,109,52,110,111,90,51,56,112,113,26,98,114,115,21,42,41]))),vW=g.lazy(()=>ce(()=>import("./product-detail-DtQhmTsA.js"),__vite__mapDeps([116,56,1,37,2,61,86,21,60,4,26,97,105,115,41,10]))),wW=g.lazy(()=>ce(()=>import("./auction-detail-C6Sm8ryY.js"),__vite__mapDeps([117,56,17,1,37,2,86,60,4,118,44,119]))),EW=g.lazy(()=>ce(()=>import("./account-Cxut37Q4.js"),__vite__mapDeps([120,37,2,53,11,106,4,79]))),TW=g.lazy(()=>ce(()=>import("./payments-CWbWDyGI.js"),__vite__mapDeps([121,56,37,2,28,20,19,4,29,30,122,64,50,32,10,98,79]))),Wm=g.lazy(()=>ce(()=>import("./login-P4KRN_dh.js"),__vite__mapDeps([123,35,36,37,16,43,2,124,106,78]))),SW=g.lazy(()=>ce(()=>import("./signup-CBKtABaO.js"),__vite__mapDeps([125,35,36,37,16,43,2,95,96,124,106,44,46,78]))),IW=g.lazy(()=>ce(()=>import("./transactions-CgaoYLAl.js"),__vite__mapDeps([126,37,72,17,16,38,39,20,40,41,29,42,64,10,31,78,60,4,68]))),ec=g.lazy(()=>ce(()=>import("./home-4FVSTQyL.js"),__vite__mapDeps([127,112,45,27,109,1,108,53,97,52,110,111,90,51,128,37,17,6,129,118,4]))),AW=g.lazy(()=>ce(()=>import("./browse-DKlYgJG-.js"),__vite__mapDeps([130,27]))),bW=g.lazy(()=>ce(()=>import("./category-CZKpc2TJ.js"),__vite__mapDeps([131,56,112,109,1,108,53,97,52,110,111,90,51,27,4]))),RW=g.lazy(()=>ce(()=>import("./search-results-BsQfA3Y7.js"),__vite__mapDeps([132,112,1,37,57,40,29,109,108,53,97,52,110,111,90,51,27,42,41,31,6,21]))),CW=g.lazy(()=>ce(()=>import("./trending-products-BzyDxxZn.js"),__vite__mapDeps([133,128,37,17,6,86]))),xW=g.lazy(()=>ce(()=>import("./trending-auctions-CDC2wvwL.js"),__vite__mapDeps([134,129,37,17,6,118,53,86]))),kW=g.lazy(()=>ce(()=>import("./featured-shows-CAMncNzr.js"),__vite__mapDeps([135,109,1,108,53,97,52,110,111,90,51,86]))),PW=g.lazy(()=>ce(()=>import("./deals-Byp1ENzy.js"),__vite__mapDeps([136,129,37,17,6,118,53,128,4]))),NW=g.lazy(()=>ce(()=>import("./deals-auctions-C7Cs4KaR.js"),__vite__mapDeps([137,129,37,17,6,118,53,86]))),OW=g.lazy(()=>ce(()=>import("./deals-trending-CuqNZm_l.js"),__vite__mapDeps([138,128,37,17,6,86]))),Hm=g.lazy(()=>ce(()=>import("./landing-page-8-DzT9_eoM.js"),__vite__mapDeps([139,27,29,41,42]))),DW=g.lazy(()=>ce(()=>import("./seller-login-BqL_0bnQ.js"),__vite__mapDeps([140,123,35,36,37,16,43,2,124,106,78]))),LW=g.lazy(()=>ce(()=>import("./show-view-BvVfGJKH.js").then(t=>t.s),__vite__mapDeps([141,16,43,64,56,61,142,17,2,4,32,10,12,62,8,143,24,1,98,118,103,6,7,42,41,44,83,40,36,27,108,53,97,23,47,77,21,115,5,110,111,52,90,51,144,113,82,20,39,35,65,38,29,145])).then(t=>({default:t.default}))),PI=g.lazy(()=>ce(()=>import("./privacy-policy-DxYrUA6N.js"),__vite__mapDeps([146,37]))),NI=g.lazy(()=>ce(()=>import("./terms-of-service-GDb0FeVe.js"),__vite__mapDeps([147,37]))),OI=g.lazy(()=>ce(()=>import("./contact-k50lD7nd.js"),__vite__mapDeps([148,37,16,65,36,14,144,106,46,12]))),MW=g.lazy(()=>ce(()=>import("./user-reports-h0357SM3.js"),__vite__mapDeps([149,37,16,65,36,38,39,20,40,41,29,42,144]))),DI=g.lazy(()=>ce(()=>import("./faq-C8sEJcyM.js"),__vite__mapDeps([150,151,92,20,41,37]))),LI=g.lazy(()=>ce(()=>import("./about-Ck0LL1U3.js"),__vite__mapDeps([152,37]))),MI=g.lazy(()=>ce(()=>import("./knowledge-base-lDR9vnRg.js"),__vite__mapDeps([153,37,16,17,82,20,39,151,92,41,13,21,103,5,10,47,105,97,14,45,24,100,68,75,6,31,4]))),VW=g.lazy(()=>ce(()=>import("./hub-CbnYeohM.js"),__vite__mapDeps([154,37,32,33,23,8]))),FW=g.lazy(()=>ce(()=>import("./offers-DmKgRzSE.js"),__vite__mapDeps([155,56,37,17,16,38,39,20,40,41,29,42,64,91,92,36,2,1,156,111,52,89,31,7,4,60,51]))),UW=g.lazy(()=>ce(()=>import("./offers-DPPRM03v.js"),__vite__mapDeps([157,56,27,17,37,1,156,111,52,89,72,7,119,76,6,53,118,60,4]))),jW=g.lazy(()=>ce(()=>import("./inbox-DpcD75oi.js"),__vite__mapDeps([158,16,1,17,82,20,39,28,19,4,29,30,64,61,31,86,98,105,114,84,144]))),BW=g.lazy(()=>ce(()=>import("./friends-CrSOlJGb.js"),__vite__mapDeps([159,37,16,1,17,108,53,97,47,31,26]))),VI=g.lazy(()=>ce(()=>import("./help-center-B5skhqII.js"),__vite__mapDeps([160,37,16,17,22,4,161,31]))),FI=g.lazy(()=>ce(()=>import("./help-article-KJKaEfzU.js"),__vite__mapDeps([162,37,17,161,86,22,4,33,51,52]))),zW=g.lazy(()=>ce(()=>import("./setup-BtgNpsPi.js"),__vite__mapDeps([163,37,16,36,56,95,96,118,119,29,12,54,10,70]))),$W=g.lazy(()=>ce(()=>import("./schedule-show-DhAzalrn.js"),__vite__mapDeps([164,35,36,16,65,38,39,20,40,41,29,42,83,66,19,30,145,86,73,5]))),UI=g.lazy(()=>ce(()=>import("./not-found-CH83bj7w.js"),__vite__mapDeps([165,37,119])));function Ui(){return C.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),C.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}function qW(){const{isAuthenticated:t,isLoading:e,user:n,pendingSocialAuth:r,pendingSocialAuthEmail:s,pendingSocialAuthData:i,completeSocialAuth:o}=Aw(),[a,l]=g.useState(!1),[u,d]=g.useState(!1),[h,p]=vR(),[y,I]=g.useState(!1);fq();const _=(n==null?void 0:n._id)||(n==null?void 0:n.id),{data:E}=C2({queryKey:[`/api/profile/${_}`],enabled:!!_&&!!t,staleTime:0}),w=E||n,v=()=>{l(!a)},T=()=>{d(!u)},k=()=>{d(!1)},L=async me=>{try{await o(me),I(!0)}catch(Ie){console.error("Social auth completion failed:",Ie)}};if(g.useEffect(()=>{y&&t&&!r&&n&&(p("/marketplace"),I(!1))},[y,t,r,n,p]),e)return C.jsx(Ui,{});if(r&&s&&i)return C.jsx(g.Suspense,{fallback:C.jsx(Ui,{}),children:C.jsx(sW,{userEmail:s,socialAuthData:i,onComplete:L,isLoading:e})});const A=["/","/landing-1","/landing-2","/landing-3","/landing-4","/landing-5","/landing-6","/landing-7","/landing-8","/login","/signup","/seller/login","/privacy-policy","/terms-of-service","/contact","/faq","/about","/knowledge-base","/help-center"].includes(h)||h.startsWith("/help-center/");if(!t&&!A)return C.jsx(g.Suspense,{fallback:C.jsx(Ui,{}),children:C.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[C.jsx(Pd,{hideLogo:!1,onMobileMenuToggle:T,mobileMenuOpen:u,onMobileMenuClose:k}),C.jsx("div",{className:"lg:hidden",children:C.jsx(Jl,{isCollapsed:!1,onToggle:v,isMobileOpen:u,onMobileClose:k})}),C.jsx("main",{className:"flex-1 overflow-y-auto",children:C.jsxs(cd,{children:[C.jsx(Z,{path:"/login",component:Wm}),C.jsx(Z,{component:Wm})]})})]})});const S=h==="/"||h==="/landing-8"||h==="/seller/login";if(!t)return C.jsx(g.Suspense,{fallback:C.jsx(Ui,{}),children:C.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[!S&&C.jsxs(C.Fragment,{children:[C.jsx(Pd,{hideLogo:!1,onMobileMenuToggle:T,mobileMenuOpen:u,onMobileMenuClose:k}),C.jsx("div",{className:"lg:hidden",children:C.jsx(Jl,{isCollapsed:!1,onToggle:v,isMobileOpen:u,onMobileClose:k})})]}),C.jsx("main",{className:S?"flex-1":"flex-1 overflow-y-auto",children:C.jsxs(cd,{children:[C.jsx(Z,{path:"/",component:Hm}),C.jsx(Z,{path:"/landing-8",component:Hm}),C.jsx(Z,{path:"/seller/login",component:DW}),C.jsx(Z,{path:"/login",component:Wm}),C.jsx(Z,{path:"/signup",component:SW}),C.jsx(Z,{path:"/privacy-policy",component:PI}),C.jsx(Z,{path:"/terms-of-service",component:NI}),C.jsx(Z,{path:"/contact",component:OI}),C.jsx(Z,{path:"/faq",component:DI}),C.jsx(Z,{path:"/about",component:LI}),C.jsx(Z,{path:"/knowledge-base",component:MI}),C.jsx(Z,{path:"/help-center/:slug",component:FI}),C.jsx(Z,{path:"/help-center",component:VI}),C.jsx(Z,{component:Hm})]})})]})});const P=["/inventory","/add-product","/edit-product","/shipping","/shipping-profiles","/analytics","/live-shows","/schedule-show","/seller/hub"].some(me=>h.startsWith(me)),O=(w==null?void 0:w.seller)===!0;if(P&&!O)return p("/marketplace"),C.jsx(Ui,{});if(h.startsWith("/orders")||h.startsWith("/purchases")||h.startsWith("/thank-you")||h.startsWith("/inventory")||h.startsWith("/add-product")||h.startsWith("/edit-product")||h.startsWith("/shipping")||h.startsWith("/addresses")||h.startsWith("/transactions")||h.startsWith("/profile-view")||h==="/profile"||h.startsWith("/account")||h.startsWith("/payments")||h.startsWith("/seller/hub")||h.startsWith("/friends")||h==="/settings"||h.startsWith("/analytics")||h.startsWith("/dashboard")||h.startsWith("/live-shows")||h.startsWith("/schedule-show")||h.startsWith("/offers")||h.startsWith("/my-offers"))return C.jsx(g.Suspense,{fallback:C.jsx(Ui,{}),children:C.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[C.jsx(Pd,{onMobileMenuToggle:T,mobileMenuOpen:u,hideLogo:!1,hideSearch:!0,isDashboard:!0}),C.jsxs("div",{className:"flex flex-1 min-h-0",children:[C.jsx("div",{className:"hidden lg:block",children:C.jsx(Jl,{isCollapsed:a,onToggle:v,isMobileOpen:!1,onMobileClose:k})}),u&&C.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-background",children:C.jsx(Jl,{isCollapsed:!1,onToggle:v,isMobileOpen:!0,onMobileClose:k})}),C.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:C.jsxs(cd,{children:[C.jsx(Z,{path:"/dashboard",component:iW}),C.jsx(Z,{path:"/orders",component:oW}),C.jsx(Z,{path:"/offers",component:FW}),C.jsx(Z,{path:"/my-offers",component:UW}),C.jsx(Z,{path:"/purchases",component:aW}),C.jsx(Z,{path:"/thank-you/:orderId",component:lW}),C.jsx(Z,{path:"/inventory",component:cW}),C.jsx(Z,{path:"/add-product",component:uW}),C.jsx(Z,{path:"/edit-product/:id",component:dW}),C.jsx(Z,{path:"/shipping",component:hW}),C.jsx(Z,{path:"/shipping-profiles",component:fW}),C.jsx(Z,{path:"/addresses",component:pW}),C.jsx(Z,{path:"/transactions",component:IW}),C.jsx(Z,{path:"/profile",component:_W}),C.jsx(Z,{path:"/profile-view",component:qm}),C.jsx(Z,{path:"/account",component:EW}),C.jsx(Z,{path:"/payments",component:TW}),C.jsx(Z,{path:"/settings",component:yW}),C.jsx(Z,{path:"/analytics",component:mW}),C.jsx(Z,{path:"/live-shows",component:gW}),C.jsx(Z,{path:"/schedule-show",component:$W}),C.jsx(Z,{path:"/seller/hub",component:VW}),C.jsx(Z,{path:"/friends",component:BW}),C.jsx(Z,{component:UI})]})})]})]})});const N=h.startsWith("/show/"),H=h.split("?")[0],ye=H==="/"||H==="/marketplace"||H==="/browse"||H.startsWith("/deals")||H.startsWith("/category")||H==="/search"||H.startsWith("/trending");return C.jsx(g.Suspense,{fallback:C.jsx(Ui,{}),children:C.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[C.jsx("div",{className:$t(N&&"hidden lg:block"),children:C.jsx(Pd,{hideLogo:!1,hideSearch:!ye,onMobileMenuToggle:T,mobileMenuOpen:u,onMobileMenuClose:k})}),C.jsx("div",{className:"lg:hidden",children:C.jsx(Jl,{isCollapsed:!1,onToggle:v,isMobileOpen:u,onMobileClose:k})}),C.jsx("main",{className:"flex-1 min-h-0 overflow-y-auto",children:C.jsxs(cd,{children:[C.jsx(Z,{path:"/",component:ec}),C.jsx(Z,{path:"/marketplace",component:ec}),C.jsx(Z,{path:"/browse",component:AW}),C.jsx(Z,{path:"/deals",component:PW}),C.jsx(Z,{path:"/deals/auctions",component:NW}),C.jsx(Z,{path:"/deals/trending",component:OW}),C.jsx(Z,{path:"/category/:id",component:bW}),C.jsx(Z,{path:"/search",component:RW}),C.jsx(Z,{path:"/trending/products",component:CW}),C.jsx(Z,{path:"/trending/auctions",component:xW}),C.jsx(Z,{path:"/featured/shows",component:kW}),C.jsx(Z,{path:"/show/:id",component:LW}),C.jsx(Z,{path:"/product/:productId",component:vW}),C.jsx(Z,{path:"/auction/:auctionId",component:wW}),C.jsx(Z,{path:"/user",component:qm}),C.jsx(Z,{path:"/profile/:userId",component:qm}),C.jsx(Z,{path:"/inbox/:userId?",component:jW}),C.jsx(Z,{path:"/seller/setup",component:zW}),C.jsx(Z,{path:"/login",component:ec}),C.jsx(Z,{path:"/signup",component:ec}),C.jsx(Z,{path:"/seller/login",component:ec}),C.jsx(Z,{path:"/privacy-policy",component:PI}),C.jsx(Z,{path:"/terms-of-service",component:NI}),C.jsx(Z,{path:"/contact",component:OI}),C.jsx(Z,{path:"/reports",component:MW}),C.jsx(Z,{path:"/faq",component:DI}),C.jsx(Z,{path:"/about",component:LI}),C.jsx(Z,{path:"/knowledge-base",component:MI}),C.jsx(Z,{path:"/help-center/:slug",component:FI}),C.jsx(Z,{path:"/help-center",component:VI}),C.jsx(Z,{component:UI})]})})]})})}function WW(){return C.jsx(g2,{client:ty,children:C.jsx(y5,{children:C.jsx(_5,{children:C.jsx(hq,{children:C.jsxs(f4,{children:[C.jsx(rW,{}),C.jsx(wV,{}),C.jsx(qW,{})]})})})})})}cR(document.getElementById("root")).render(C.jsx(WW,{}));export{qF as $,tW as A,eW as B,aH as C,sH as D,oH as E,SH as F,Dw as G,_u as H,kC as I,nv as J,al as K,XW as L,Hd as M,Bt as N,Ye as O,Tt as P,$F as Q,zF as R,ll as S,VM as T,tv as U,a8 as V,E1 as W,FM as X,Eq as Y,h1 as Z,Nf as _,Aw as a,$L as a$,WF as a0,m2 as a1,Rs as a2,bH as a3,sC as a4,iH as a5,re as a6,R as a7,fq as a8,ce as a9,yu as aA,Bg as aB,Hc as aC,d2 as aD,Vt as aE,dn as aF,e2 as aG,uH as aH,w$ as aI,wH as aJ,_H as aK,dH as aL,fH as aM,vH as aN,hH as aO,i$ as aP,mH as aQ,Ze as aR,yH as aS,pH as aT,gH as aU,EH as aV,TH as aW,nH as aX,rH as aY,p4 as aZ,t5 as a_,AH as aa,n5 as ab,_$ as ac,KW as ad,LF as ae,a2 as af,JT as ag,JW as ah,ZW as ai,R2 as aj,bL as ak,Pr as al,rs as am,I8 as an,b8 as ao,C8 as ap,j1 as aq,iC as ar,x8 as as,A8 as at,k8 as au,R8 as av,z2 as aw,DR as ax,K8 as ay,hM as az,Iw as b,fs as b0,Nt as b1,ov as c,C2 as d,$t as e,gu as f,OR as g,lN as h,cN as i,C as j,dN as k,hN as l,uN as m,pN as n,fN as o,QW as p,ty as q,g as r,r5 as s,XI as t,vR as u,GW as v,G8 as w,MM as x,Ss as y,v$ as z};
