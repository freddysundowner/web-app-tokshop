import{u as x,r as f,j as e}from"./index-GnvmivW0.js";import{C as h,b as j}from"./card-Bsqf9o7h.js";import{B as v}from"./badge-CL9MXKGS.js";import{P as g}from"./package-DWwkENv3.js";function C({product:s,layout:i="grid"}){const[,l]=x(),[n,c]=f.useState(!1),o=s._id||s.id,a=(s.images||s.productImages||[])[0]||"",m=Number(s.price)||0,r=s.name||"Untitled Product",t=Number(s.quantity)||0,d=()=>{l(`/product/${o}`)},u=i==="carousel"?"hover-elevate active-elevate-2 cursor-pointer overflow-hidden flex-shrink-0 w-52 sm:w-60":"hover-elevate active-elevate-2 cursor-pointer overflow-hidden w-full min-w-0";return e.jsxs(h,{className:u,onClick:d,children:[e.jsxs("div",{className:"relative aspect-square bg-muted",children:[!n&&a?e.jsx("img",{src:a,alt:r,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",onError:()=>c(!0)}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(g,{className:"h-16 w-16 text-muted-foreground/40"})}),t===0&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx(v,{variant:"destructive",children:"Sold Out"})})]}),e.jsxs(j,{className:"p-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2 mb-1",children:e.jsx("h3",{className:"text-sm font-semibold line-clamp-2 flex-1",children:r})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-lg font-bold text-primary",children:["$",m.toFixed(0)]})}),t>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t," in stock"]})]})]})}export{C as P};
