import{r as p,j as $}from"./index-DOZKoalF.js";import{R as x,T as _,P as v,a as ft,b as hr}from"./show-view-DrFUEmkM.js";import"./button-bCrgsaso.js";import"./badge-DdltLmN9.js";import"./input-CsVTZWQJ.js";import"./avatar-BNno7OSM.js";import"./scroll-area-9X8_0Hp9.js";import"./index-DwAU5pHh.js";import"./index-BdQq_4o_.js";import"./alert-BccqnU99.js";import"./switch-t4cqETiz.js";import"./index-AFSU6Owo.js";import"./dialog-D_mWFmtX.js";import"./index-D0GAShZH.js";import"./index-CxUEmdCc.js";import"./index-CXm_CZR6.js";import"./useQuery-48pQeuS3.js";import"./useMutation-BBndlB0x.js";import"./firebase-chat-Bvw3kWwK.js";import"./triangle-alert-Bmp0Lc24.js";import"./truck-DxYEbFC6.js";import"./dollar-sign-C45zWx1k.js";import"./ellipsis-vertical-Y21RyCEq.js";import"./plus-CGXGABxL.js";import"./clock-ERkwJGDp.js";import"./gift-75wDxoca.js";import"./package-BkkIjgzC.js";import"./star-Bx9HEBoM.js";import"./loader-circle-Bz7fq4IJ.js";import"./radio-DpHzpEDt.js";import"./sparkles-DsGnMBu5.js";import"./video-DGp1xeEI.js";import"./play-Bl7atm6M.js";import"./shopping-bag-Bumzb4mp.js";import"./isTomorrow-BvLd__Ji.js";import"./format-D46ChU1D.js";import"./send-Dx4XBAM6.js";import"./share-2-DwkRKAhF.js";import"./square-pen-VTL5VpGh.js";import"./search-DsOHL3-T.js";import"./ellipsis-WVit2xoA.js";import"./user-BwW0NPQE.js";import"./chevron-right-SEiIbCON.js";import"./mail-DES8DWpn.js";import"./at-sign-B6wMdtA3.js";import"./ban-B8-dg3Vx.js";import"./flag-CR8Kw58_.js";var K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pt={exports:{}},yr=pt.exports,Tt;function br(){return Tt||(Tt=1,function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(yr,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"],i={},u=null;function s(l,b){var d=l[b];if(typeof d.bind=="function")return d.bind(l);try{return Function.prototype.bind.call(d,l)}catch{return function(){return Function.prototype.apply.apply(d,[l,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(l){return l==="debug"&&(l="log"),typeof console===r?!1:l==="trace"&&n?c:console[l]!==void 0?s(console,l):console.log!==void 0?s(console,"log"):e}function f(){for(var l=this.getLevel(),b=0;b<o.length;b++){var d=o[b];this[d]=b<l?e:this.methodFactory(d,l,this.name)}if(this.log=this.debug,typeof console===r&&l<this.levels.SILENT)return"No console available for logging"}function S(l){return function(){typeof console!==r&&(f.call(this),this[l].apply(this,arguments))}}function g(l,b,d){return a(l)||S.apply(this,arguments)}function y(l,b){var d=this,C,F,j,h="loglevel";typeof l=="string"?h+=":"+l:typeof l=="symbol"&&(h=void 0);function P(w){var k=(o[w]||"silent").toUpperCase();if(!(typeof window===r||!h)){try{window.localStorage[h]=k;return}catch{}try{window.document.cookie=encodeURIComponent(h)+"="+k+";"}catch{}}}function O(){var w;if(!(typeof window===r||!h)){try{w=window.localStorage[h]}catch{}if(typeof w===r)try{var k=window.document.cookie,L=encodeURIComponent(h),U=k.indexOf(L+"=");U!==-1&&(w=/^([^;]+)/.exec(k.slice(U+L.length+1))[1])}catch{}return d.levels[w]===void 0&&(w=void 0),w}}function N(){if(!(typeof window===r||!h)){try{window.localStorage.removeItem(h)}catch{}try{window.document.cookie=encodeURIComponent(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function A(w){var k=w;if(typeof k=="string"&&d.levels[k.toUpperCase()]!==void 0&&(k=d.levels[k.toUpperCase()]),typeof k=="number"&&k>=0&&k<=d.levels.SILENT)return k;throw new TypeError("log.setLevel() called with invalid level: "+w)}d.name=l,d.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},d.methodFactory=b||g,d.getLevel=function(){return j??F??C},d.setLevel=function(w,k){return j=A(w),k!==!1&&P(j),f.call(d)},d.setDefaultLevel=function(w){F=A(w),O()||d.setLevel(w,!1)},d.resetLevel=function(){j=null,N(),f.call(d)},d.enableAll=function(w){d.setLevel(d.levels.TRACE,w)},d.disableAll=function(w){d.setLevel(d.levels.SILENT,w)},d.rebuild=function(){if(u!==d&&(C=A(u.getLevel())),f.call(d),u===d)for(var w in i)i[w].rebuild()},C=A(u?u.getLevel():"WARN");var z=O();z!=null&&(j=A(z)),f.call(d)}u=new y,u.getLogger=function(l){if(typeof l!="symbol"&&typeof l!="string"||l==="")throw new TypeError("You must supply a name when creating a logger.");var b=i[l];return b||(b=i[l]=new y(l,u.methodFactory)),b};var m=typeof window!==r?window.log:void 0;return u.noConflict=function(){return typeof window!==r&&window.log===u&&(window.log=m),u},u.getLoggers=function(){return i},u.default=u,u})}(pt)),pt.exports}var vr=br();const mr=Nt(vr);var dt=function(t,e){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},dt(t,e)};function R(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function gr(t,e,r,n){function o(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function s(f){try{a(n.next(f))}catch(S){u(S)}}function c(f){try{a(n.throw(f))}catch(S){u(S)}}function a(f){f.done?i(f.value):o(f.value).then(s,c)}a((n=n.apply(t,[])).next())})}function Ut(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=s(0),u.throw=s(1),u.return=s(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(a){return function(f){return c([a,f])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function J(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],u;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return i}function rt(t,e,r){if(arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function W(t){return this instanceof W?(this.v=t,this):new W(t)}function wr(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(y){return function(m){return Promise.resolve(m).then(y,S)}}function s(y,m){n[y]&&(o[y]=function(l){return new Promise(function(b,d){i.push([y,l,b,d])>1||c(y,l)})},m&&(o[y]=m(o[y])))}function c(y,m){try{a(n[y](m))}catch(l){g(i[0][3],l)}}function a(y){y.value instanceof W?Promise.resolve(y.value.v).then(f,S):g(i[0][2],y)}function f(y){c("next",y)}function S(y){c("throw",y)}function g(y,m){y(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Sr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof J=="function"?J(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(u){return new Promise(function(s,c){u=t[i](u),o(s,c,u.done,u.value)})}}function o(i,u,s,c){Promise.resolve(c).then(function(a){i({value:a,done:s})},u)}}function E(t){return typeof t=="function"}function bt(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var st=bt(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function et(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var B=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,o,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=J(u),c=s.next();!c.done;c=s.next()){var a=c.value;a.remove(this)}}catch(l){e={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}else u.remove(this);var f=this.initialTeardown;if(E(f))try{f()}catch(l){i=l instanceof st?l.errors:[l]}var S=this._finalizers;if(S){this._finalizers=null;try{for(var g=J(S),y=g.next();!y.done;y=g.next()){var m=y.value;try{Et(m)}catch(l){i=i??[],l instanceof st?i=rt(rt([],tt(i)),tt(l.errors)):i.push(l)}}}catch(l){n={error:l}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}}if(i)throw new st(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Et(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&et(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&et(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Mt=B.EMPTY;function $t(t){return t instanceof B||t&&"closed"in t&&E(t.remove)&&E(t.add)&&E(t.unsubscribe)}function Et(t){E(t)?t():t.unsubscribe()}var kr={Promise:void 0},xr={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,rt([t,e],tt(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Ft(t){xr.setTimeout(function(){throw t})}function Pt(){}function X(t){t()}var vt=function(t){R(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,$t(r)&&r.add(n)):n.destination=Pr,n}return e.create=function(r,n,o){return new ht(r,n,o)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(B),Tr=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){Z(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){Z(n)}else Z(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Z(r)}},t}(),ht=function(t){R(e,t);function e(r,n,o){var i=t.call(this)||this,u;return E(r)||!r?u={next:r??void 0,error:n??void 0,complete:o??void 0}:u=r,i.destination=new Tr(u),i}return e}(vt);function Z(t){Ft(t)}function Er(t){throw t}var Pr={closed:!0,next:Pt,error:Er,complete:Pt},mt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function zt(t){return t}function _r(t){return t.length===0?zt:t.length===1?t[0]:function(e){return t.reduce(function(r,n){return n(r)},e)}}var I=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var o=this,i=Ir(e)?e:new ht(e,r,n);return X(function(){var u=o,s=u.operator,c=u.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=_t(r),new r(function(o,i){var u=new ht({next:function(s){try{e(s)}catch(c){i(c),u.unsubscribe()}},error:i,complete:o});n.subscribe(u)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[mt]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return _r(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=_t(e),new e(function(n,o){var i;r.subscribe(function(u){return i=u},function(u){return o(u)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function _t(t){var e;return(e=t??kr.Promise)!==null&&e!==void 0?e:Promise}function Cr(t){return t&&E(t.next)&&E(t.error)&&E(t.complete)}function Ir(t){return t&&t instanceof vt||Cr(t)&&$t(t)}function Or(t){return E(t==null?void 0:t.lift)}function G(t){return function(e){if(Or(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,e,r,n,o){return new Ar(t,e,r,n,o)}var Ar=function(t){R(e,t);function e(r,n,o,i,u,s){var c=t.call(this,r)||this;return c.onFinalize=u,c.shouldUnsubscribe=s,c._next=n?function(a){try{n(a)}catch(f){r.error(f)}}:t.prototype._next,c._error=i?function(a){try{i(a)}catch(f){r.error(f)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=o?function(){try{o()}catch(a){r.error(a)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(vt),jr=bt(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Dt=function(t){R(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Ct(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new jr},e.prototype.next=function(r){var n=this;X(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=J(n.currentObservers),s=u.next();!s.done;s=u.next()){var c=s.value;c.next(r)}}catch(a){o={error:a}}finally{try{s&&!s.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}})},e.prototype.error=function(r){var n=this;X(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},e.prototype.complete=function(){var r=this;X(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,u=o.isStopped,s=o.observers;return i||u?Mt:(this.currentObservers=null,s.push(r),new B(function(){n.currentObservers=null,et(s,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,u=n.isStopped;o?r.error(i):u&&r.complete()},e.prototype.asObservable=function(){var r=new I;return r.source=this,r},e.create=function(r,n){return new Ct(r,n)},e}(I),Ct=function(t){R(e,t);function e(r,n){var o=t.call(this)||this;return o.destination=r,o.source=n,o}return e.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},e.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:Mt},e}(Dt);(function(t){R(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,o=r.thrownError,i=r._value;if(n)throw o;return this._throwIfClosed(),i},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e})(Dt);var Lr={now:function(){return Date.now()}},Rr=function(t){R(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(B),It={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,rt([t,e],tt(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},Nr=function(t){R(e,t);function e(r,n){var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return e.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,u=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(u,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(u,this.id,n),this},e.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),It.setInterval(r.flush.bind(r,this),o)},e.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&It.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(u){o=!0,i=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,et(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Rr),Ot=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Lr.now,t}(),Ur=function(t){R(e,t);function e(r,n){n===void 0&&(n=Ot.now);var o=t.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},e}(Ot);new Ur(Nr);function Mr(t){return t&&E(t.schedule)}function $r(t){return t[t.length-1]}function Vt(t){return Mr($r(t))?t.pop():void 0}var Wt=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Jt(t){return E(t==null?void 0:t.then)}function Yt(t){return E(t[mt])}function Ht(t){return Symbol.asyncIterator&&E(t==null?void 0:t[Symbol.asyncIterator])}function Bt(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Fr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gt=Fr();function Qt(t){return E(t==null?void 0:t[Gt])}function qt(t){return wr(this,arguments,function(){var e,r,n,o;return Ut(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,W(e.read())];case 3:return r=i.sent(),n=r.value,o=r.done,o?[4,W(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,W(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function Kt(t){return E(t==null?void 0:t.getReader)}function Q(t){if(t instanceof I)return t;if(t!=null){if(Yt(t))return zr(t);if(Wt(t))return Dr(t);if(Jt(t))return Vr(t);if(Ht(t))return Zt(t);if(Qt(t))return Wr(t);if(Kt(t))return Jr(t)}throw Bt(t)}function zr(t){return new I(function(e){var r=t[mt]();if(E(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Dr(t){return new I(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function Vr(t){return new I(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Ft)})}function Wr(t){return new I(function(e){var r,n;try{for(var o=J(t),i=o.next();!i.done;i=o.next()){var u=i.value;if(e.next(u),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()})}function Zt(t){return new I(function(e){Yr(t,e).catch(function(r){return e.error(r)})})}function Jr(t){return Zt(qt(t))}function Yr(t,e){var r,n,o,i;return gr(this,void 0,void 0,function(){var u,s;return Ut(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Sr(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(u=n.value,e.next(u),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function D(t,e,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=e.schedule(function(){r(),o?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!o)return i}function Xt(t,e){return e===void 0&&(e=0),G(function(r,n){r.subscribe(nt(n,function(o){return D(n,t,function(){return n.next(o)},e)},function(){return D(n,t,function(){return n.complete()},e)},function(o){return D(n,t,function(){return n.error(o)},e)}))})}function tr(t,e){return e===void 0&&(e=0),G(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function Hr(t,e){return Q(t).pipe(tr(e),Xt(e))}function Br(t,e){return Q(t).pipe(tr(e),Xt(e))}function Gr(t,e){return new I(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function Qr(t,e){return new I(function(r){var n;return D(r,e,function(){n=t[Gt](),D(r,e,function(){var o,i,u;try{o=n.next(),i=o.value,u=o.done}catch(s){r.error(s);return}u?r.complete():r.next(i)},0,!0)}),function(){return E(n==null?void 0:n.return)&&n.return()}})}function rr(t,e){if(!t)throw new Error("Iterable cannot be null");return new I(function(r){D(r,e,function(){var n=t[Symbol.asyncIterator]();D(r,e,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function qr(t,e){return rr(qt(t),e)}function Kr(t,e){if(t!=null){if(Yt(t))return Hr(t,e);if(Wt(t))return Gr(t,e);if(Jt(t))return Br(t,e);if(Ht(t))return rr(t,e);if(Qt(t))return Qr(t,e);if(Kt(t))return qr(t,e)}throw Bt(t)}function Zr(t,e){return e?Kr(t,e):Q(t)}bt(function(t){return function(e){e===void 0&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function ot(t,e){return G(function(r,n){var o=0;r.subscribe(nt(n,function(i){n.next(t.call(e,i,o++))}))})}function Xr(t,e,r,n,o,i,u,s){var c=[],a=0,f=0,S=!1,g=function(){S&&!c.length&&!a&&e.complete()},y=function(l){return a<n?m(l):c.push(l)},m=function(l){a++;var b=!1;Q(r(l,f++)).subscribe(nt(e,function(d){e.next(d)},function(){b=!0},void 0,function(){if(b)try{a--;for(var d=function(){var C=c.shift();u||m(C)};c.length&&a<n;)d();g()}catch(C){e.error(C)}}))};return t.subscribe(nt(e,y,function(){S=!0,g()})),function(){}}function er(t,e,r){return r===void 0&&(r=1/0),E(e)?er(function(n,o){return ot(function(i,u){return e(n,i,o,u)})(Q(t(n,o)))},r):(typeof e=="number"&&(r=e),G(function(n,o){return Xr(n,o,t,r)}))}function te(t){return er(zt,t)}function re(){return te(1)}function At(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return re()(Zr(t,Vt(t)))}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Vt(t);return G(function(n,o){(r?At(t,n,r):At(t,n)).subscribe(o)})}var ee="lk";function gt(t){return typeof t>"u"?!1:ne(t)||oe(t)}function ne(t){var e;return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((e=t.publication)==null?void 0:e.track)<"u":!1}function oe(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u":!1}function ie(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u":!1}function ue(t){if(typeof t=="string"||typeof t=="number")return`${t}`;if(ie(t))return`${t.participant.identity}_${t.source}_placeholder`;if(gt(t))return`${t.participant.identity}_${t.publication.source}_${t.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${t}`)}var ce=[x.ConnectionStateChanged,x.RoomMetadataChanged,x.ActiveSpeakersChanged,x.ConnectionQualityChanged,x.ParticipantConnected,x.ParticipantDisconnected,x.ParticipantPermissionsChanged,x.ParticipantMetadataChanged,x.ParticipantNameChanged,x.ParticipantAttributesChanged,x.TrackMuted,x.TrackUnmuted,x.TrackPublished,x.TrackUnpublished,x.TrackStreamStateChanged,x.TrackSubscriptionFailed,x.TrackSubscriptionPermissionChanged,x.TrackSubscriptionStatusChanged],ae=[...ce,x.LocalTrackPublished,x.LocalTrackUnpublished];v.TrackPublished,v.TrackUnpublished,v.TrackMuted,v.TrackUnmuted,v.TrackStreamStateChanged,v.TrackSubscribed,v.TrackUnsubscribed,v.TrackSubscriptionPermissionChanged,v.TrackSubscriptionFailed,v.LocalTrackPublished,v.LocalTrackUnpublished;var se=[v.ConnectionQualityChanged,v.IsSpeakingChanged,v.ParticipantMetadataChanged,v.ParticipantPermissionsChanged,v.TrackMuted,v.TrackUnmuted,v.TrackPublished,v.TrackUnpublished,v.TrackStreamStateChanged,v.TrackSubscriptionFailed,v.TrackSubscriptionPermissionChanged,v.TrackSubscriptionStatusChanged];[...se,v.LocalTrackPublished,v.LocalTrackUnpublished];var V=mr.getLogger("lk-components-js");V.setDefaultLevel("WARN");function nr(t){return typeof t=="object"}function or(t){return Array.isArray(t)&&t.filter(nr).length>0}function le(t){return`${ee}-${t}`}function fe(t){const e=yt(t),r=he(t.participant).pipe(ot(()=>yt(t)),it(e));return{className:le(t.source===_.Source.Camera||t.source===_.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:r}}function yt(t){if(gt(t))return t.publication;{const{source:e,name:r,participant:n}=t;if(e&&r)return n.getTrackPublications().find(o=>o.source===e&&o.trackName===r);if(r)return n.getTrackPublicationByName(r);if(e)return n.getTrackPublication(e);throw new Error("At least one of source and name needs to be defined")}}function pe(t,...e){return new I(r=>{const n=()=>{r.next(t)};return e.forEach(o=>{t.on(o,n)}),()=>{e.forEach(o=>{t.off(o,n)})}}).pipe(it(t))}function de(t,...e){return new I(r=>{const n=()=>{r.next(t)};return e.forEach(o=>{t.on(o,n)}),()=>{e.forEach(o=>{t.off(o,n)})}}).pipe(it(t))}function he(t){return de(t,v.TrackMuted,v.TrackUnmuted,v.ParticipantPermissionsChanged,v.TrackPublished,v.TrackUnpublished,v.LocalTrackPublished,v.LocalTrackUnpublished,v.MediaDevicesError,v.TrackSubscriptionStatusChanged).pipe(ot(e=>{const{isMicrophoneEnabled:r,isCameraEnabled:n,isScreenShareEnabled:o}=e,i=e.getTrackPublication(_.Source.Microphone),u=e.getTrackPublication(_.Source.Camera);return{isCameraEnabled:n,isMicrophoneEnabled:r,isScreenShareEnabled:o,cameraTrack:u,microphoneTrack:i,participant:e}}))}function jt(t,e,r=!0){const n=[t.localParticipant,...Array.from(t.remoteParticipants.values())],o=[];return n.forEach(i=>{e.forEach(u=>{const s=Array.from(i.trackPublications.values()).filter(c=>c.source===u&&(!r||c.track)).map(c=>({participant:i,publication:c,source:c.source}));o.push(...s)})}),{trackReferences:o,participants:n}}function ye(t,e,r){var n,o;const i=(n=r.additionalRoomEvents)!=null?n:ae,u=(o=r.onlySubscribed)!=null?o:!0,s=Array.from(new Set([x.ParticipantConnected,x.ParticipantDisconnected,x.ConnectionStateChanged,x.LocalTrackPublished,x.LocalTrackUnpublished,x.TrackPublished,x.TrackUnpublished,x.TrackSubscriptionStatusChanged,...i]).values());return pe(t,...s).pipe(ot(c=>{const a=jt(c,e,u);return V.debug(`TrackReference[] was updated. (length ${a.trackReferences.length})`,a),a}),it(jt(t,e,u)))}p.createContext(void 0);const be=p.createContext(void 0);function ve(){return p.useContext(be)}function ir(t){const e=ve(),r=t??e;if(!r)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return r}p.createContext(void 0);const ur=p.createContext(void 0);function me(){return p.useContext(ur)}function ge(t){const e=me(),r=t??e;if(!r)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return r}p.createContext(void 0);function cr(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=cr(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function we(){for(var t,e,r=0,n="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=cr(t))&&(n&&(n+=" "),n+=e);return n}function Se(...t){return(...e)=>{for(const r of t)if(typeof r=="function")try{r(...e)}catch(n){console.error(n)}}}function ke(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const o in n){const i=e[o],u=n[o];typeof i=="function"&&typeof u=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?e[o]=Se(i,u):(o==="className"||o==="UNSAFE_className")&&typeof i=="string"&&typeof u=="string"?e[o]=we(i,u):e[o]=u!==void 0?u:i}}return e}function xe(t){return t!==void 0}function Te(...t){return ke(...t.filter(xe))}function ar(t=[_.Source.Camera,_.Source.Microphone,_.Source.ScreenShare,_.Source.ScreenShareAudio,_.Source.Unknown],e={}){const r=ge(e.room),[n,o]=p.useState([]),[i,u]=p.useState([]),s=p.useMemo(()=>t.map(c=>nr(c)?c.source:c),[JSON.stringify(t)]);return p.useEffect(()=>{const c=ye(r,s,{additionalRoomEvents:e.updateOnlyOn,onlySubscribed:e.onlySubscribed}).subscribe(({trackReferences:a,participants:f})=>{V.debug("setting track bundles",a,f),o(a),u(f)});return()=>c.unsubscribe()},[r,JSON.stringify(e.onlySubscribed),JSON.stringify(e.updateOnlyOn),JSON.stringify(t)]),p.useMemo(()=>{if(or(t)){const c=Pe(t,i),a=Array.from(n);return i.forEach(f=>{c.has(f.identity)&&(c.get(f.identity)??[]).forEach(S=>{if(n.find(({participant:y,publication:m})=>f.identity===y.identity&&m.source===S))return;V.debug(`Add ${S} placeholder for participant ${f.identity}.`);const g={participant:f,source:S};a.push(g)})}),a}else return n},[n,i,t])}function Ee(t,e){const r=new Set(t);for(const n of e)r.delete(n);return r}function Pe(t,e){const r=new Map;if(or(t)){const n=t.filter(o=>o.withPlaceholder).map(o=>o.source);e.forEach(o=>{const i=o.getTrackPublications().map(s=>{var c;return(c=s.track)==null?void 0:c.source}).filter(s=>s!==void 0),u=Array.from(Ee(new Set(n),new Set(i)));u.length>0&&r.set(o.identity,u)})}return r}function sr(t,e={}){const[r,n]=p.useState(yt(t)),[o,i]=p.useState(r==null?void 0:r.isMuted),[u,s]=p.useState(r==null?void 0:r.isSubscribed),[c,a]=p.useState(r==null?void 0:r.track),[f,S]=p.useState("landscape"),g=p.useRef(),{className:y,trackObserver:m}=p.useMemo(()=>fe(t),[t.participant.sid??t.participant.identity,t.source,gt(t)&&t.publication.trackSid]);return p.useEffect(()=>{const l=m.subscribe(b=>{V.debug("update track",b),n(b),i(b==null?void 0:b.isMuted),s(b==null?void 0:b.isSubscribed),a(b==null?void 0:b.track)});return()=>l==null?void 0:l.unsubscribe()},[m]),p.useEffect(()=>{var l,b;return c&&(g.current&&c.detach(g.current),(l=e.element)!=null&&l.current&&!(t.participant.isLocal&&(c==null?void 0:c.kind)==="audio")&&c.attach(e.element.current)),g.current=(b=e.element)==null?void 0:b.current,()=>{g.current&&(c==null||c.detach(g.current))}},[c,e.element]),p.useEffect(()=>{var l,b;if(typeof((l=r==null?void 0:r.dimensions)==null?void 0:l.width)=="number"&&typeof((b=r==null?void 0:r.dimensions)==null?void 0:b.height)=="number"){const d=r.dimensions.width>r.dimensions.height?"landscape":"portrait";S(d)}},[r]),{publication:r,isMuted:o,isSubscribed:u,track:c,elementProps:Te(e.props,{className:y,"data-lk-local-participant":t.participant.isLocal,"data-lk-source":r==null?void 0:r.source,...(r==null?void 0:r.kind)==="video"&&{"data-lk-orientation":f}})}}var lt,Lt;function _e(){if(Lt)return lt;Lt=1;var t="Expected a function",e=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt,c=typeof K=="object"&&K&&K.Object===Object&&K,a=typeof self=="object"&&self&&self.Object===Object&&self,f=c||a||Function("return this")(),S=Object.prototype,g=S.toString,y=Math.max,m=Math.min,l=function(){return f.Date.now()};function b(h,P,O){var N,A,z,w,k,L,U=0,wt=!1,Y=!1,ut=!0;if(typeof h!="function")throw new TypeError(t);P=j(P)||0,d(O)&&(wt=!!O.leading,Y="maxWait"in O,z=Y?y(j(O.maxWait)||0,P):z,ut="trailing"in O?!!O.trailing:ut);function ct(T){var M=N,H=A;return N=A=void 0,U=T,w=h.apply(H,M),w}function lr(T){return U=T,k=setTimeout(q,P),wt?ct(T):w}function fr(T){var M=T-L,H=T-U,xt=P-M;return Y?m(xt,z-H):xt}function St(T){var M=T-L,H=T-U;return L===void 0||M>=P||M<0||Y&&H>=z}function q(){var T=l();if(St(T))return kt(T);k=setTimeout(q,fr(T))}function kt(T){return k=void 0,ut&&N?ct(T):(N=A=void 0,w)}function pr(){k!==void 0&&clearTimeout(k),U=0,N=L=A=k=void 0}function dr(){return k===void 0?w:kt(l())}function at(){var T=l(),M=St(T);if(N=arguments,A=this,L=T,M){if(k===void 0)return lr(L);if(Y)return k=setTimeout(q,P),ct(L)}return k===void 0&&(k=setTimeout(q,P)),w}return at.cancel=pr,at.flush=dr,at}function d(h){var P=typeof h;return!!h&&(P=="object"||P=="function")}function C(h){return!!h&&typeof h=="object"}function F(h){return typeof h=="symbol"||C(h)&&g.call(h)==r}function j(h){if(typeof h=="number")return h;if(F(h))return e;if(d(h)){var P=typeof h.valueOf=="function"?h.valueOf():h;h=d(P)?P+"":P}if(typeof h!="string")return h===0?h:+h;h=h.replace(n,"");var O=i.test(h);return O||u.test(h)?s(h.slice(2),O?2:8):o.test(h)?e:+h}return lt=b,lt}var Ce=_e();const Rt=Nt(Ce);function Ie(t){const e=p.useRef(t);e.current=t,p.useEffect(()=>()=>{e.current()},[])}function Oe(t,e=500,r){const n=p.useRef();Ie(()=>{n.current&&n.current.cancel()});const o=p.useMemo(()=>{const i=Rt(t,e,r),u=(...s)=>i(...s);return u.cancel=()=>{i.cancel()},u.isPending=()=>!!n.current,u.flush=()=>i.flush(),u},[t,e,r]);return p.useEffect(()=>{n.current=Rt(t,e,r)},[t,e,r]),o}function Ae(t,e,r){const n=(a,f)=>a===f,o=t instanceof Function?t():t,[i,u]=p.useState(o),s=p.useRef(o),c=Oe(u,e,r);return n(s.current,o)||(c(o),s.current=o),[i,c]}function je({threshold:t=0,root:e=null,rootMargin:r="0%",freezeOnceVisible:n=!1,initialIsIntersecting:o=!1,onChange:i}={}){var u;const[s,c]=p.useState(null),[a,f]=p.useState(()=>({isIntersecting:o,entry:void 0})),S=p.useRef();S.current=i;const g=((u=a.entry)==null?void 0:u.isIntersecting)&&n;p.useEffect(()=>{if(!s||!("IntersectionObserver"in window)||g)return;const l=new IntersectionObserver(b=>{const d=Array.isArray(l.thresholds)?l.thresholds:[l.thresholds];b.forEach(C=>{const F=C.isIntersecting&&d.some(j=>C.intersectionRatio>=j);f({isIntersecting:F,entry:C}),S.current&&S.current(F,C)})},{threshold:t,root:e,rootMargin:r});return l.observe(s),()=>{l.disconnect()}},[s,JSON.stringify(t),e,r,g,n]);const y=p.useRef(null);p.useEffect(()=>{var l;!s&&(l=a.entry)!=null&&l.target&&!n&&!g&&y.current!==a.entry.target&&(y.current=a.entry.target,f({isIntersecting:o,entry:void 0}))},[s,a.entry,n,g,o]);const m=[c,!!a.isIntersecting,a.entry];return m.ref=m[0],m.isIntersecting=m[1],m.entry=m[2],m}const Le=p.forwardRef(function({onTrackClick:t,onClick:e,onSubscriptionStatusChanged:r,trackRef:n,manageSubscription:o,...i},u){const s=ir(n),c=p.useRef(null);p.useImperativeHandle(u,()=>c.current);const a=je({root:c.current}),[f]=Ae(a,3e3);p.useEffect(()=>{o&&s.publication instanceof ft&&(f==null?void 0:f.isIntersecting)===!1&&(a==null?void 0:a.isIntersecting)===!1&&s.publication.setSubscribed(!1)},[f,s,o]),p.useEffect(()=>{o&&s.publication instanceof ft&&(a==null?void 0:a.isIntersecting)===!0&&s.publication.setSubscribed(!0)},[a,s,o]);const{elementProps:S,publication:g,isSubscribed:y}=sr(s,{element:c,props:i});p.useEffect(()=>{r==null||r(!!y)},[y,r]);const m=l=>{e==null||e(l),t==null||t({participant:s==null?void 0:s.participant,track:g})};return p.createElement("video",{ref:c,...S,muted:!0,onClick:m})}),Re=p.forwardRef(function({trackRef:t,onSubscriptionStatusChanged:e,volume:r,...n},o){const i=ir(t),u=p.useRef(null);p.useImperativeHandle(o,()=>u.current);const{elementProps:s,isSubscribed:c,track:a,publication:f}=sr(i,{element:u,props:n});return p.useEffect(()=>{e==null||e(!!c)},[c,e]),p.useEffect(()=>{a===void 0||r===void 0||(a instanceof hr?a.setVolume(r):V.warn("Volume can only be set on remote audio tracks."))},[r,a]),p.useEffect(()=>{f===void 0||n.muted===void 0||(f instanceof ft?f.setEnabled(!n.muted):V.warn("Can only call setEnabled on remote track publications."))},[n.muted,f,a]),p.createElement("audio",{ref:u,...s})});function Ne({volume:t,muted:e}){const r=ar([_.Source.Microphone,_.Source.ScreenShareAudio,_.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!0}).filter(n=>!n.participant.isLocal&&n.publication.kind===_.Kind.Audio);return p.createElement("div",{style:{display:"none"}},r.map(n=>p.createElement(Re,{key:ue(n),trackRef:n,volume:t,muted:e})))}function Ue(){const t=ar([_.Source.Camera,_.Source.ScreenShare]);return $.jsx("div",{className:"w-full h-full bg-black flex items-center justify-center",children:t.length>0&&$.jsx("div",{className:"w-full h-full",children:t.map(e=>$.jsx("div",{className:"w-full h-full",children:$.jsx(Le,{trackRef:e,className:"w-full h-full object-cover",style:{imageRendering:"auto",transform:"translateZ(0)",backfaceVisibility:"hidden"}})},e.participant.identity))})})}function An({room:t}){return $.jsx(ur.Provider,{value:t,children:$.jsxs("div",{className:"w-full h-full","data-testid":"livekit-video-container",children:[$.jsx(Ue,{}),$.jsx(Ne,{})]})})}export{An as LiveKitVideoPlayer,An as default};
