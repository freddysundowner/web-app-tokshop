import{b as de,r as C,j as e,x as he,B as V,X as re,z as ue,C as me,D as pe,E as xe,a as ge,g as je,d as ee,q as fe,F as we}from"./index-GnvmivW0.js";import{u as ve,e as se,F as ye,a as h,b as u,f as c,c as m,d as x,g as b,t as be}from"./form-CgNvNzQO.js";import{C as L,b as E,a as G,c as z,d as B}from"./card-Bsqf9o7h.js";import{I as N}from"./input-CDJz7BeV.js";import{T as Ne}from"./textarea-DkmXbh6O.js";import{S as W,a as K,b as H,c as J,d as v}from"./select-EUq1_viI.js";import{B as te}from"./badge-CL9MXKGS.js";import{S as Ce}from"./scroll-area-FQ9vYp1R.js";import{S as ae}from"./switch-C_scnTkE.js";import{D as Se,f as Te,a as ke,b as Pe,c as Fe,d as De}from"./dialog-D1L4tMGI.js";import{R as _e,a as ie}from"./radio-group-CiS8qgSW.js";import{I as Ie}from"./image-Hw4wFcaj.js";import{U as Le}from"./upload-DciL_rQf.js";import{S as Ee}from"./search-DE1AZ4db.js";import{C as ne}from"./check-DoxmrmEj.js";import{S as Ue}from"./save-Xig5-s-l.js";function qe({value:g=[],onChange:a,onFilesChange:U,maxFiles:q=5,maxFileSize:F=5*1024*1024,accept:i="image/*",disabled:f=!1,allowFileStorage:D=!1}){const{isFirebaseReady:k}=de(),[j,_]=C.useState(!1),[n,o]=C.useState(!1),[$,P]=C.useState([]),y=C.useRef(null),I=async l=>{if(f||j)return;const d=l.filter(r=>r.type.startsWith("image/")?r.size>F?(console.warn(`File ${r.name} exceeds size limit`),!1):!0:(console.warn(`File ${r.name} is not an image`),!1));if(d.length===0)return;const s=D?$.length:g.length,t=q-s,p=d.slice(0,t);if(D){const r=[...$,...p];P(r),U==null||U(r);const w=p.map(S=>URL.createObjectURL(S));a([...g,...w]);return}_(!0);try{if(!k)throw console.error("Firebase is not initialized yet. Please wait for app to load."),new Error("Firebase is not ready. Please wait a moment and try again.");const r=ue(),w=p.map(async T=>{try{const Z=T.name.split(".").pop()||"jpg",le=`${crypto.randomUUID()}.${Z}`,oe=me(r,`product-images/${le}`),ce=await pe(oe,T);return await xe(ce.ref)}catch(Z){return console.error(`Error uploading ${T.name}:`,Z),null}}),Q=(await Promise.all(w)).filter(T=>T!==null);Q.length>0&&a([...g,...Q])}catch(r){console.error("Upload error:",r),alert("Failed to upload images. Please make sure the app has finished loading and try again.")}finally{_(!1)}},X=l=>{if(l.preventDefault(),o(!1),f||j)return;const d=Array.from(l.dataTransfer.files);I(d)},Y=l=>{l.preventDefault(),!f&&!j&&o(!0)},O=l=>{l.preventDefault(),o(!1)},R=l=>{if(l.target.files){const d=Array.from(l.target.files);I(d)}y.current&&(y.current.value="")},A=l=>{if(f||j)return;const d=[...g];d.splice(l,1),a(d)},M=g.length<q;return e.jsxs("div",{className:"space-y-4","data-testid":"image-uploader",children:[M&&e.jsx(L,{className:`border-2 border-dashed transition-colors ${n?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50"}`,children:e.jsx(E,{className:"p-6",onDrop:X,onDragOver:Y,onDragLeave:O,children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-lg bg-muted flex items-center justify-center",children:j?e.jsx(he,{className:"h-6 w-6 animate-spin text-muted-foreground"}):e.jsx(Ie,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"Upload product images"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop images here, or click to select files"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Supports: JPG, PNG, GIF up to ",Math.round(F/1024/1024),"MB each"]})]}),e.jsxs(V,{type:"button",variant:"outline",disabled:f||j||!k,onClick:()=>{var l;return(l=y.current)==null?void 0:l.click()},"data-testid":"button-select-images",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),k?j?"Uploading...":"Select Images":"Loading..."]}),e.jsx(N,{ref:y,type:"file",accept:i,multiple:!0,className:"hidden",onChange:R,disabled:f||j})]})})}),g.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map((l,d)=>e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border bg-muted",children:[e.jsx("img",{src:l,alt:`Product image ${d+1}`,className:"w-full h-full object-cover","data-testid":`image-preview-${d}`}),e.jsx(V,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>A(d),disabled:f||j,"data-testid":`button-remove-image-${d}`,children:e.jsx(re,{className:"h-3 w-3"})})]})},d))}),g.length>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[g.length," of ",q," images uploaded"]}),!M&&e.jsx(te,{variant:"secondary",children:"Maximum images reached"})]})]})}function es({mode:g,product:a,onSubmit:U,onCancel:q,isPending:F=!1}){const{user:i}=ge(),{toast:f}=je(),[D,k]=C.useState(!1),[j,_]=C.useState(""),n=ve({resolver:be(we),defaultValues:{name:"",description:"",price:0,quantity:1,category:"",listingType:"buy_now",weight:"",height:"",width:"",length:"",scale:"oz",shippingProfile:"",images:[],colors:[],sizes:[],featured:!1,acceptsOffers:!1,startingPrice:1,duration:5,sudden:!1,list_individually:!1,startTime:null,endTime:null,whocanenter:"everyone",tokshow:"general"}}),o=se({control:n.control,name:"listingType"}),$=se({control:n.control,name:"tokshow"}),P=se({control:n.control,name:"featured"});C.useEffect(()=>{o==="giveaway"&&n.setValue("featured",!1)},[o,n]);const{data:y,isLoading:I}=ee({queryKey:["external-categories",i==null?void 0:i.id],queryFn:async()=>{const s=await fetch(`/api/categories?userId=${i==null?void 0:i.id}&status=active&page=1&limit=100`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch categories: ${s.status}`);return s.json()},enabled:!!(i!=null&&i.id)}),{data:X,isLoading:Y}=ee({queryKey:["external-shipping-profiles",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))throw new Error("User ID required");const s=await fetch(`/api/shipping/profiles/${i.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch shipping profiles: ${s.status}`);return s.json()},enabled:!!(i!=null&&i.id)}),{data:O,isLoading:R}=ee({queryKey:["external-shows",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))throw new Error("User ID required");const s=await fetch(`/api/rooms?userid=${i.id}&status=active`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch shows: ${s.status}`);return s.json()},enabled:!!(i!=null&&i.id)}),A=(y==null?void 0:y.categories)||[],M=X||[],l=(O==null?void 0:O.rooms)||[];C.useEffect(()=>{D&&(i!=null&&i.id)&&fe.invalidateQueries({queryKey:["external-shows",i.id]})},[D,i==null?void 0:i.id]),C.useEffect(()=>{var s,t,p,r,w,S;if(g==="edit"&&a&&y){const Q=()=>{var T;return a.listing_type==="auction"?((T=a.auction)==null?void 0:T.baseprice)??a.price??0:a.startingPrice??0};n.reset({name:a.name||"",description:a.description||"",price:a.price??void 0,quantity:a.quantity??void 0,category:((s=a.category)==null?void 0:s._id)||"",listingType:a.listing_type||"buy_now",weight:typeof a.weight=="string"?a.weight:((t=a.weight)==null?void 0:t.toString())||"",height:a.height||"",width:a.width||"",length:a.length||"",scale:a.scale||"oz",shippingProfile:((p=a.shipping_profile)==null?void 0:p._id)||"",images:a.images||[],colors:a.colors||[],sizes:a.sizes||[],featured:a.featured??!1,acceptsOffers:a.offer??a.acceptsOffers??!1,startTime:(r=a.auction)!=null&&r.start_time_date?new Date(a.auction.start_time_date).toISOString().slice(0,16):null,endTime:(w=a.auction)!=null&&w.end_time_date?new Date(a.auction.end_time_date).toISOString().slice(0,16):null,tokshow:((S=a.tokshow)==null?void 0:S._id)||a.tokshow||"general",startingPrice:Q(),duration:a.duration??5,sudden:a.sudden??!1,list_individually:a.list_individually??!1,whocanenter:a.whocanenter||"everyone"})}},[g,a,y,n]);const d=s=>{if(!s.shippingProfile||s.shippingProfile===""||s.shippingProfile==="skip"){f({title:"Shipping Profile Required",description:"All products must have a shipping profile. Please select a shipping profile to continue.",variant:"destructive"});return}if(s.listingType==="auction"&&!s.featured&&(!s.tokshow||s.tokshow==="general")){f({title:"Show Required",description:"Live show auctions must be assigned to a show. Please select a show to continue.",variant:"destructive"});return}if(s.listingType==="giveaway"&&(!s.tokshow||s.tokshow==="general")){f({title:"Show Required",description:"Giveaways must be assigned to a show. Please select a show to continue.",variant:"destructive"});return}const t={...s,featured:s.listingType==="giveaway"||s.tokshow&&s.tokshow!=="general"?!1:s.featured};s.listingType==="giveaway"&&(t.duration=300),s.listingType==="auction"&&s.startingPrice!==void 0&&(t.price=s.startingPrice,t.startingPrice=s.startingPrice),s.startTime&&(t.startTimeTimestamp=new Date(s.startTime).getTime()),s.endTime&&(t.endTimeTimestamp=new Date(s.endTime).getTime()),s.tokshow!=="general"?t.tokshow=s.tokshow:delete t.tokshow,s.shippingProfile&&(t.shipping_profile=s.shippingProfile),delete t.shippingProfile,t.offer=s.acceptsOffers??!1,delete t.acceptsOffers,U(t)};return e.jsx(ye,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(d),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs(L,{children:[e.jsxs(G,{children:[e.jsx(z,{children:"Basic Information"}),e.jsx(B,{children:"Essential product details and description"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(h,{control:n.control,name:"name",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Product Name *"}),e.jsx(m,{children:e.jsx(N,{placeholder:"Enter product name",...s,"data-testid":"input-product-name"})}),e.jsx(x,{})]})}),e.jsx(h,{control:n.control,name:"description",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Description"}),e.jsx(m,{children:e.jsx(Ne,{placeholder:"Enter product description",...s,rows:4,"data-testid":"textarea-product-description"})}),e.jsx(x,{})]})})]})]}),e.jsxs(L,{children:[e.jsxs(G,{children:[e.jsx(z,{children:"Pricing & Inventory"}),e.jsx(B,{children:"Set your product price and stock levels"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o==="buy_now"&&e.jsx(h,{control:n.control,name:"price",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Price ($) *"}),e.jsx(m,{children:e.jsx(N,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...s,onChange:t=>s.onChange(parseFloat(t.target.value)),"data-testid":"input-product-price"})}),e.jsx(x,{})]})}),o==="auction"&&e.jsx(h,{control:n.control,name:"startingPrice",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Starting Price ($) *"}),e.jsx(m,{children:e.jsx(N,{type:"number",step:"0.01",min:"0",placeholder:"0.00",...s,onChange:t=>s.onChange(parseFloat(t.target.value)),"data-testid":"input-starting-price"})}),e.jsx(x,{})]})}),e.jsx(h,{control:n.control,name:"quantity",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Quantity *"}),e.jsx(m,{children:e.jsx(N,{type:"number",min:"0",placeholder:"0",...s,onChange:t=>s.onChange(parseInt(t.target.value)),"data-testid":"input-product-quantity"})}),e.jsx(x,{})]})})]}),o==="buy_now"&&e.jsx(h,{control:n.control,name:"acceptsOffers",render:({field:s})=>e.jsxs(u,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{className:"text-base",children:"Accept Offers"}),e.jsx(b,{children:"Allow buyers to make offers on this product"})]}),e.jsx(m,{children:e.jsx(ae,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-accepts-offers"})})]})}),o==="giveaway"&&e.jsx(e.Fragment,{children:e.jsx(h,{control:n.control,name:"whocanenter",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Who Can Enter"}),e.jsxs(W,{onValueChange:s.onChange,value:s.value,"data-testid":"select-who-can-enter",children:[e.jsx(m,{children:e.jsx(K,{children:e.jsx(H,{placeholder:"Select eligibility"})})}),e.jsxs(J,{children:[e.jsx(v,{value:"everyone",children:"Everyone"}),e.jsx(v,{value:"followers",children:"Followers Only"})]})]}),e.jsx(x,{})]})})})]})]}),e.jsxs(L,{children:[e.jsxs(G,{children:[e.jsx(z,{children:"Product Images"}),e.jsx(B,{children:"Upload images of your product (up to 5 images)"})]}),e.jsx(E,{children:e.jsx(h,{control:n.control,name:"images",render:({field:s})=>e.jsxs(u,{children:[e.jsx(m,{children:e.jsx(qe,{value:s.value||[],onChange:s.onChange,maxFiles:5,maxFileSize:5*1024*1024,disabled:F,allowFileStorage:!1})}),e.jsx(x,{})]})})})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6 lg:sticky lg:top-6 self-start",children:[e.jsxs(L,{children:[e.jsxs(G,{children:[e.jsx(z,{children:"Category & Listing"}),e.jsx(B,{children:"Categorize your product and set listing type"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(h,{control:n.control,name:"listingType",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Listing Type *"}),e.jsxs(W,{onValueChange:s.onChange,value:s.value,"data-testid":"select-listing-type",children:[e.jsx(m,{children:e.jsx(K,{children:e.jsx(H,{placeholder:"Select listing type"})})}),e.jsxs(J,{children:[e.jsx(v,{value:"buy_now",children:"Buy Now"}),e.jsx(v,{value:"auction",children:"Auction"}),e.jsx(v,{value:"giveaway",children:"Giveaway"})]})]}),e.jsx(b,{children:"Choose how customers can purchase this product"}),e.jsx(x,{})]})}),e.jsx(h,{control:n.control,name:"category",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Category"}),e.jsxs(W,{onValueChange:s.onChange,value:s.value,disabled:I,"data-testid":"select-product-category",children:[e.jsx(m,{children:e.jsx(K,{children:e.jsx(H,{placeholder:I?"Loading categories...":"Select category"})})}),e.jsxs(J,{children:[e.jsx(v,{value:"skip",children:"No Category"}),I?e.jsx(v,{value:"loading",disabled:!0,children:"Loading..."}):A&&A.length>0?e.jsx(e.Fragment,{children:A.map(t=>[e.jsx(v,{value:t._id||t.id,className:"font-semibold",children:t.name},t._id||t.id),...t.subCategories&&t.subCategories.length>0?t.subCategories.map(p=>e.jsxs(v,{value:p._id||p.id,className:"pl-6",children:["â†³ ",p.name]},p._id||p.id)):[]])}):e.jsx(v,{value:"none",disabled:!0,children:"No categories available"})]})]}),e.jsx(x,{})]})}),!(o==="auction"&&P)&&e.jsx(h,{control:n.control,name:"tokshow",render:({field:s})=>{const t=l==null?void 0:l.find(r=>r._id===s.value),p=(l==null?void 0:l.filter(r=>{var w;return(w=r.title)==null?void 0:w.toLowerCase().includes(j.toLowerCase())}))||[];return e.jsxs(u,{children:[e.jsxs(c,{children:["Assign to Show ",o==="auction"&&!P||o==="giveaway"?e.jsx("span",{className:"text-destructive",children:"*"}):"(Optional)"]}),o==="auction"&&!P&&e.jsx(b,{children:"Live show auctions must be assigned to a show"}),o==="giveaway"&&e.jsx(b,{children:"Giveaways must be assigned to a show"}),e.jsxs(Se,{open:D,onOpenChange:k,children:[e.jsx(Te,{asChild:!0,children:e.jsx(V,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:R,"data-testid":"button-select-show",children:R?"Loading shows...":s.value==="general"||!s.value?"General Inventory":t?e.jsxs("span",{className:"flex items-center gap-2",children:[t.title,(t.status==="active"||t.status==="live")&&e.jsx(te,{variant:"destructive",className:"text-xs px-1 py-0",children:"Live"})]}):"Select a show"})}),e.jsxs(ke,{className:"max-w-md sm:max-w-lg",children:[e.jsxs(Pe,{children:[e.jsx(Fe,{children:"Select Show"}),e.jsx(De,{children:"Choose a show for this product or leave as general inventory"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(N,{placeholder:"Search shows...",value:j,onChange:r=>_(r.target.value),className:"pl-9","data-testid":"input-search-shows"})]}),e.jsx(Ce,{className:"h-[300px]",children:e.jsxs("div",{className:"space-y-2 pr-4",children:[e.jsxs("button",{type:"button",onClick:()=>{s.onChange("general"),k(!1),_("")},className:`w-full max-w-full flex items-start justify-between gap-3 px-4 py-2.5 text-sm text-left rounded-md transition-colors ${s.value==="general"?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":"option-general-inventory",children:[e.jsx("span",{className:"flex-1 min-w-0 whitespace-normal break-words font-medium",children:"General Inventory"}),s.value==="general"&&e.jsx(ne,{className:"h-4 w-4 flex-shrink-0"})]}),R?e.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Loading..."}):p.length>0?p.map(r=>{const w=r.status==="active"||r.status==="live",S=s.value===r._id;return e.jsxs("button",{type:"button",onClick:()=>{s.onChange(r._id),k(!1),_("")},className:`w-full max-w-full flex items-start justify-between gap-3 px-4 py-2.5 text-sm text-left rounded-md transition-colors ${S?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,"data-testid":`option-show-${r._id}`,children:[e.jsxs("span",{className:"flex-1 min-w-0 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"whitespace-normal break-words font-medium",children:r.title}),w&&e.jsx(te,{variant:"destructive",className:"text-xs px-1.5 py-0 flex-shrink-0",children:"Live"})]}),S&&e.jsx(ne,{className:"h-4 w-4 flex-shrink-0"})]},r._id)}):e.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:j?"No shows found":"No shows available"})]})})]})]})]}),e.jsx(b,{children:"Link this product to a specific show or leave as general inventory"}),e.jsx(x,{})]})}}),o!=="giveaway"&&$==="general"&&e.jsx(h,{control:n.control,name:"featured",render:({field:s})=>e.jsxs(u,{className:"space-y-3",children:[e.jsx(c,{children:"Featured Product"}),e.jsx(m,{children:e.jsxs(_e,{onValueChange:t=>s.onChange(t==="true"),value:s.value?"true":"false",className:"flex flex-col space-y-1","data-testid":"radio-group-featured",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{value:"false",id:"featured-false","data-testid":"radio-featured-false"}),e.jsx(c,{htmlFor:"featured-false",className:"text-sm font-normal",children:"No"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{value:"true",id:"featured-true","data-testid":"radio-featured-true"}),e.jsx(c,{htmlFor:"featured-true",className:"text-sm font-normal",children:"Yes"})]})]})}),e.jsx(b,{children:"Mark this product as featured to highlight it"}),e.jsx(x,{})]})}),o==="auction"&&!P&&e.jsx(h,{control:n.control,name:"list_individually",render:({field:s})=>e.jsxs(u,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{className:"text-base",children:"List Individually"}),e.jsx(b,{children:"Turn this on if you want to create 25 instances of the same listing"})]}),e.jsx(m,{children:e.jsx(ae,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-list-individually"})})]})}),o==="auction"&&e.jsx("div",{className:"space-y-4 pt-4 border-t",children:$==="general"&&P?e.jsxs(e.Fragment,{children:[e.jsx(h,{control:n.control,name:"startTime",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Auction Start Time *"}),e.jsx(m,{children:e.jsx(N,{type:"datetime-local",...s,value:s.value||"","data-testid":"input-auction-start-time"})}),e.jsx(b,{children:"When should this auction start?"}),e.jsx(x,{})]})}),e.jsx(h,{control:n.control,name:"endTime",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Auction End Time *"}),e.jsx(m,{children:e.jsx(N,{type:"datetime-local",...s,value:s.value||"","data-testid":"input-auction-end-time"})}),e.jsx(b,{children:"When should this auction end?"}),e.jsx(x,{})]})})]}):e.jsx(h,{control:n.control,name:"duration",render:({field:s})=>e.jsxs(u,{children:[e.jsx(c,{children:"Auction Duration (minutes) *"}),e.jsx(m,{children:e.jsx(N,{type:"number",min:"1",placeholder:"5",...s,onChange:t=>s.onChange(parseInt(t.target.value)),"data-testid":"input-auction-duration"})}),e.jsx(b,{children:"How long the auction will run (for live show auctions)"}),e.jsx(x,{})]})})})]})]}),e.jsxs(L,{children:[e.jsxs(G,{children:[e.jsx(z,{children:"Shipping"}),e.jsx(B,{children:"Configure shipping preferences for this product"})]}),e.jsx(E,{children:e.jsx(h,{control:n.control,name:"shippingProfile",render:({field:s})=>e.jsxs(u,{children:[e.jsxs(c,{children:["Shipping Profile ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(W,{onValueChange:s.onChange,value:s.value,disabled:Y,"data-testid":"select-shipping-profile",children:[e.jsx(m,{children:e.jsx(K,{children:e.jsx(H,{placeholder:"Select shipping profile"})})}),e.jsx(J,{children:M.map(t=>e.jsx(v,{value:t._id,children:t.name},t._id))})]}),e.jsx(x,{})]})})})]})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-6 border-t",children:[e.jsxs(V,{type:"button",variant:"outline",onClick:q,"data-testid":"button-cancel",className:"w-full sm:w-auto",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(V,{type:"submit",disabled:F,"data-testid":"button-save-product",className:"w-full sm:w-auto",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),F?g==="create"?"Creating...":"Updating...":g==="create"?"Create Product":"Update Product"]})]})]})})}export{es as I};
