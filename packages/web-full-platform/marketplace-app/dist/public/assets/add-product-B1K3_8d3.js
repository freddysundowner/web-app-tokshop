import{u as n,a as m,g as c,j as t,B as d,q as p,y as u}from"./index-GnvmivW0.js";import{u as l}from"./useMutation-DAKVWGzI.js";import{I as x}from"./inventory-product-form-CIDJRsRI.js";import{A as y}from"./arrow-left-CUbNyMTb.js";import"./form-CgNvNzQO.js";import"./label-CbaFYhHW.js";import"./card-Bsqf9o7h.js";import"./input-CDJz7BeV.js";import"./textarea-DkmXbh6O.js";import"./select-EUq1_viI.js";import"./index-BdQq_4o_.js";import"./index-CmYyiKyk.js";import"./index-Vue-pIA6.js";import"./chevron-down-tcDKR_mK.js";import"./check-DoxmrmEj.js";import"./chevron-up-Cda9uppk.js";import"./badge-CL9MXKGS.js";import"./scroll-area-FQ9vYp1R.js";import"./switch-C_scnTkE.js";import"./dialog-D1L4tMGI.js";import"./radio-group-CiS8qgSW.js";import"./index-kVvGtud3.js";import"./circle-iUglX5Df.js";import"./image-Hw4wFcaj.js";import"./upload-DciL_rQf.js";import"./search-DE1AZ4db.js";import"./save-Xig5-s-l.js";function H(){const[,o]=n(),{user:r}=m(),{toast:s}=c(),i=l({mutationFn:async e=>{const a=e.listingType==="giveaway"?"/api/giveaways":`/api/products/${r==null?void 0:r.id}`;return(await u("POST",a,e)).json()},onSuccess:()=>{p.invalidateQueries({queryKey:["external-products"]}),s({title:"Product Created",description:"Your product has been created successfully."}),o("/inventory")},onError:e=>{s({title:"Failed to Create Product",description:e.message,variant:"destructive"})}});return t.jsxs("div",{className:"space-y-6","data-testid":"page-add-product",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs(d,{variant:"outline",onClick:()=>o("/inventory"),"data-testid":"button-back-to-inventory",className:"w-full sm:w-auto",children:[t.jsx(y,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"sm:inline",children:"Back to Inventory"})]}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground","data-testid":"text-page-title",children:"Add New Product"}),t.jsx("p",{className:"text-sm sm:text-base text-muted-foreground","data-testid":"text-page-description",children:"Create a new product for your inventory"})]})]}),t.jsx(x,{mode:"create",onSubmit:e=>i.mutate(e),onCancel:()=>o("/inventory"),isPending:i.isPending})]})}export{H as default};
