import{r as c,f as S,a as A,j as e,m as P,B as l,I as x,L as F,b0 as E}from"./index-FVTY5sKH.js";import{u as z,F as G,a as g,b as h,c as f,d as b,t as M}from"./form-CqTjZ3qa.js";import{C as D,a as I,b as B}from"./card-CF4CqaN2.js";import{A as W,a as H}from"./alert-_3QEPDXW.js";import{S as O}from"./separator-QabP-acS.js";import{C as R,A as T,E as V}from"./eye-off-BQUxFnnq.js";import{M as $}from"./mail-CxzT5chc.js";import{E as q}from"./eye-BQkOkbVm.js";function ee(){const[n,j]=c.useState(!1),[m,s]=c.useState(""),[d,r]=c.useState(!1),{toast:o}=S(),{emailLogin:y,loginWithGoogle:v,loginWithApple:w,isLoading:N}=A(),i=z({resolver:M(E),defaultValues:{email:"",password:""}}),k=async()=>{try{r(!0),s(""),await v()}catch(t){let a="Google login failed";t.code==="auth/unauthorized-domain"?a="Domain not authorized for Firebase authentication. Please contact support.":t.code==="auth/popup-blocked"?a="Popup was blocked. Please allow popups and try again.":t.message&&(a=t.message),s(a),o({title:"Login failed",description:a,variant:"destructive"})}finally{r(!1)}},L=async()=>{try{r(!0),s(""),await w()}catch(t){let a="Apple login failed";t.code==="auth/unauthorized-domain"?a="Domain not authorized for Firebase authentication. Please contact support.":t.code==="auth/popup-blocked"?a="Popup was blocked. Please allow popups and try again.":t.message&&(a=t.message),s(a),o({title:"Login failed",description:a,variant:"destructive"})}finally{r(!1)}},u=t=>{t==="Google"?k():t==="Apple"?L():o({title:"Coming Soon",description:`${t} login will be available soon!`,variant:"default"})},C=async t=>{try{r(!0),s(""),await y(t.email,t.password),o({title:"Login successful!"})}catch(a){const p=a instanceof Error?a.message:"Login failed";s(p),o({title:"Login failed",description:p,variant:"destructive"})}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 w-full max-w-lg px-4 sm:px-6 md:px-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("div",{className:"space-y-2",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold",children:[e.jsx("span",{className:"text-primary",children:"Shop Live."}),e.jsx("br",{}),e.jsx("span",{className:"text-accent",children:"Stream. Sell. Connect."})]})})}),e.jsxs(D,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm relative",children:[(N||d)&&e.jsxs("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-lg","data-testid":"loading-overlay",children:[e.jsx(P,{className:"h-8 w-8 animate-spin text-primary mb-4"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-lg font-medium text-foreground",children:"Signing you in..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we authenticate your account"})]})]}),e.jsx(I,{className:"pb-4",children:e.jsx("div",{className:"text-center mb-4",children:e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Sign in to continue"})})}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(l,{type:"button",variant:"outline",className:"w-full !bg-white hover:!bg-gray-50 !text-gray-900 !border-gray-300 dark:!bg-white dark:hover:!bg-gray-100 dark:!text-gray-900",onClick:()=>u("Google"),"data-testid":"button-google-login",children:[e.jsx(R,{className:"h-4 w-4 mr-2 !text-gray-900"}),"Continue with Google"]}),e.jsxs(l,{type:"button",variant:"outline",className:"w-full bg-black hover:bg-gray-900 text-white border-gray-800",onClick:()=>u("Apple"),"data-testid":"button-apple-login",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"my-4"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"px-3 bg-card text-muted-foreground text-sm",children:"or"})})]}),m&&e.jsx(W,{variant:"destructive",className:"mb-4","data-testid":"alert-login-error",children:e.jsx(H,{children:m})}),e.jsx(G,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(C),className:"space-y-4",children:[e.jsx(g,{control:i.control,name:"email",render:({field:t})=>e.jsxs(h,{children:[e.jsx(f,{children:e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(x,{type:"email",placeholder:"Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-email",...t})]})}),e.jsx(b,{})]})}),e.jsx(g,{control:i.control,name:"password",render:({field:t})=>e.jsxs(h,{children:[e.jsx(f,{children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{type:n?"text":"password",placeholder:"Password",className:"bg-input border-border text-foreground placeholder:text-muted-foreground pr-10","data-testid":"input-password",...t}),e.jsx(l,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>j(!n),"data-testid":"button-toggle-password",children:n?e.jsx(V,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(b,{})]})}),e.jsx(l,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium py-3 rounded-lg transition-all duration-200",disabled:d,"data-testid":"button-login",children:d?"Please wait...":"Log in"})]})}),e.jsxs("div",{className:"text-center pt-2 space-y-2",children:[e.jsx("button",{onClick:()=>{o({title:"Coming Soon",description:"Password reset will be available soon!",variant:"default"})},className:"text-primary hover:text-primary/80 text-sm font-medium","data-testid":"link-forgot-password",children:"Forgot Password?"}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Don't have an account?"," ",e.jsx(F,{href:"/signup",children:e.jsx("button",{className:"text-primary hover:text-primary/80 font-medium","data-testid":"link-signup",children:"Sign up"})})]})]})]})]}),e.jsx("div",{className:"text-center mt-8 text-muted-foreground text-sm",children:e.jsx("p",{children:"Need help? Contact our support team"})})]})]})}export{ee as default};
