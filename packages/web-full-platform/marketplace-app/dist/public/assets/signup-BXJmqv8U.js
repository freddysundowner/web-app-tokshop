import{b as M,r as p,e as U,a as B,u as D,E as y,j as e,L as O}from"./index-DOZKoalF.js";import{u as T,F as V,a as r,b as o,c as n,d as l,t as R}from"./form-BJNwnS3h.js";import{C as _,a as J,b as K}from"./card-C6zn3jP-.js";import{B as u}from"./button-bCrgsaso.js";import{I as i}from"./input-CsVTZWQJ.js";import{S as W,a as H,b as Z,c as $,d as q}from"./select-fROaTUpr.js";import{A as Q,a as X}from"./alert-BccqnU99.js";import{S as Y}from"./separator-B5Em_GJT.js";import{C as ee,A as te,E as v}from"./eye-off-CqZgnAit.js";import{M as se}from"./mail-DES8DWpn.js";import{U as f}from"./user-BwW0NPQE.js";import{P as ae}from"./phone-C4Z9i_PI.js";import{G as re}from"./globe-BcjAYEgE.js";import{E as S}from"./eye-BEx2yl5C.js";import"./label-CmdcELDJ.js";import"./index-BdQq_4o_.js";import"./index-DwAU5pHh.js";import"./index-CXm_CZR6.js";import"./index-CxUEmdCc.js";import"./index-AFSU6Owo.js";import"./chevron-down-Bi2HuHPT.js";import"./check-Bj3EYrSG.js";import"./chevron-up-0jCUr4SU.js";const oe=["United States","Canada","United Kingdom","Australia","Germany","France","Italy","Spain","Netherlands","Sweden","Norway","Denmark","Finland","Belgium","Switzerland","Austria","Japan","South Korea","Singapore","New Zealand","Ireland","Portugal","Poland","Czech Republic","Brazil","Mexico","Argentina","Chile","Colombia","India","Other"].sort();function Fe(){const{settings:x}=M(),[h,C]=p.useState(!1),[g,P]=p.useState(!1),[j,d]=p.useState(""),[b,c]=p.useState(!1),{toast:m}=U(),{emailSignup:k,loginWithGoogle:A,loginWithApple:F}=B(),[,E]=D(),z=y.extend({confirmPassword:y.shape.password}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),a=T({resolver:R(z),defaultValues:{email:"",firstName:"",lastName:"",userName:"",phone:"",country:"",password:"",confirmPassword:""}}),G=async()=>{try{c(!0),d(""),await A()}catch(t){let s="Google signup failed";t.code==="auth/unauthorized-domain"?s="Domain not authorized for Firebase authentication. Please contact support.":t.code==="auth/popup-blocked"?s="Popup was blocked. Please allow popups and try again.":t.message&&(s=t.message),d(s),m({title:"Signup failed",description:s,variant:"destructive"})}finally{c(!1)}},I=async()=>{try{c(!0),d(""),await F()}catch(t){let s="Apple signup failed";t.code==="auth/unauthorized-domain"?s="Domain not authorized for Firebase authentication. Please contact support.":t.code==="auth/popup-blocked"?s="Popup was blocked. Please allow popups and try again.":t.message&&(s=t.message),d(s),m({title:"Signup failed",description:s,variant:"destructive"})}finally{c(!1)}},N=t=>{t==="Google"?G():t==="Apple"?I():m({title:"Coming Soon",description:`${t} signup will be available soon!`,variant:"default"})},L=async t=>{try{c(!0),d(""),await k(t.email,t.password,t.firstName,t.lastName,t.userName,t.phone||"",t.country),m({title:"Account created successfully!"}),E("/")}catch(s){const w=s instanceof Error?s.message:"Signup failed";d(w),m({title:"Signup failed",description:w,variant:"destructive"})}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-black text-xl font-bold",children:x.app_name.charAt(0).toUpperCase()})}),e.jsx("span",{className:"text-2xl font-bold text-white",children:x.app_name})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold",children:[e.jsxs("span",{className:"text-primary",children:["Join the ",x.app_name]}),e.jsx("br",{}),e.jsx("span",{className:"text-accent",children:"Community Today"})]})})]}),e.jsxs(_,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm",children:[e.jsx(J,{className:"pb-4",children:e.jsx("div",{className:"text-center mb-4",children:e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Create your account"})})}),e.jsxs(K,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(u,{type:"button",variant:"outline",className:"w-full !bg-white hover:!bg-gray-50 !text-gray-900 !border-gray-300 dark:!bg-white dark:hover:!bg-gray-100 dark:!text-gray-900",onClick:()=>N("Google"),"data-testid":"button-google-signup",children:[e.jsx(ee,{className:"h-4 w-4 mr-2 !text-gray-900"}),"Continue with Google"]}),e.jsxs(u,{type:"button",variant:"outline",className:"w-full bg-black hover:bg-gray-900 text-white border-gray-800",onClick:()=>N("Apple"),"data-testid":"button-apple-signup",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"my-4"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"px-3 bg-card text-muted-foreground text-sm",children:"or"})})]}),j&&e.jsx(Q,{variant:"destructive",className:"mb-4","data-testid":"alert-signup-error",children:e.jsx(X,{children:j})}),e.jsx(V,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(L),className:"space-y-4",children:[e.jsx(r,{control:a.control,name:"email",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"email",placeholder:"Email Address",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-email",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"firstName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"text",placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-firstname",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"lastName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"text",placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-lastname",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"userName",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"text",placeholder:"Username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-username",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"phone",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(i,{type:"tel",placeholder:"Phone Number (Optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground","data-testid":"input-phone",...t})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"country",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs(W,{onValueChange:t.onChange,defaultValue:t.value,"data-testid":"select-country",children:[e.jsx(H,{className:"bg-input border-border text-foreground",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx(Z,{placeholder:"Select your country"})]})}),e.jsx($,{children:oe.map(s=>e.jsx(q,{value:s,children:s},s))})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"password",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(i,{type:h?"text":"password",placeholder:"Password",className:"bg-input border-border text-foreground placeholder:text-muted-foreground pr-10","data-testid":"input-password",...t}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>C(!h),"data-testid":"button-toggle-password",children:h?e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(l,{})]})}),e.jsx(r,{control:a.control,name:"confirmPassword",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:e.jsxs("div",{className:"relative",children:[e.jsx(i,{type:g?"text":"password",placeholder:"Confirm Password",className:"bg-input border-border text-foreground placeholder:text-muted-foreground pr-10","data-testid":"input-confirm-password",...t}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>P(!g),"data-testid":"button-toggle-confirm-password",children:g?e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(S,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(l,{})]})}),e.jsx(u,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium py-3 rounded-lg transition-all duration-200",disabled:b,"data-testid":"button-signup",children:b?"Creating account...":"Create Account"})]})}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Already have an account?"," ",e.jsx(O,{href:"/login",children:e.jsx("button",{className:"text-primary hover:text-primary/80 font-medium","data-testid":"link-login",children:"Sign in"})})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-muted-foreground text-sm",children:e.jsx("p",{children:"Need help? Contact our support team"})})]})]})}export{Fe as default};
