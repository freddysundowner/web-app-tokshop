import{c as w,u as k,a as C,b as S,j as e,L as o,d as l}from"./index-sx6K5zvX.js";import{B as h}from"./button-BhKWRVKT.js";import{A,a as L,b as I}from"./avatar-0uinKUeM.js";import{S as d}from"./separator-GUgqmzB4.js";import{S as P,a as $}from"./sheet-D885dNqh.js";import{u as B}from"./useQuery-BbAFWd3P.js";import{C as z}from"./chevron-right-BMekTT0X.js";import{C as R}from"./chevron-left-Z_N2qaLO.js";import{S as T}from"./shopping-bag-D4iuDx4j.js";import{V}from"./video-C3MDcR9i.js";import{P as q}from"./package-vaCfuI3Q.js";import{T as F}from"./truck-DsoUBxdC.js";import{P as O}from"./package-2-SZKzBPPQ.js";import{C as _}from"./credit-card-dlBmie7d.js";import{R as D}from"./receipt-Cvz0JzoL.js";import{M as E}from"./map-pin-CyryTmSF.js";import{T as G}from"./triangle-alert-CLerNdQk.js";import{M as H}from"./message-square-D33FmQ-H.js";import"./index-BvxB2yyY.js";import"./index-DI5236x7.js";import"./index-BVScwSuZ.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);function he({isCollapsed:f,onToggle:c,isMobileOpen:p=!1,onMobileClose:t}){const[i]=k(),{user:r}=C(),{settings:g}=S(),m=(r==null?void 0:r._id)||(r==null?void 0:r.id),{data:j}=B({queryKey:[`/api/profile/${m}`],enabled:!!m,staleTime:0}),a=j||r,u=()=>a!=null&&a.firstName&&(a!=null&&a.lastName)?`${a.firstName[0]}${a.lastName[0]}`.toUpperCase():a!=null&&a.firstName?a.firstName[0].toUpperCase():a!=null&&a.email?a.email[0].toUpperCase():"U",v=[{name:"Payments",href:"/payments",icon:_},{name:"Transactions",href:"/transactions",icon:D},{name:"Addresses",href:"/addresses",icon:E}],N=[{name:"Shows",href:"/live-shows",icon:V},{name:"Orders",href:"/orders",icon:q},{name:"Inventory",href:"/inventory",icon:K},{name:"Shipments",href:"/shipping",icon:F},{name:"Shipping Profiles",href:"/shipping-profiles",icon:O}],b=[{name:"Purchases",href:"/purchases",icon:T}],y=[{name:"User Reports",href:"/reports",icon:G},{name:"Contact Us",href:"/contact",icon:H}],x=()=>e.jsxs("div",{className:"flex flex-col flex-grow overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border","data-testid":"logo-container",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"text-primary w-5 h-5",children:e.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),e.jsx("h1",{className:"text-lg font-bold text-foreground",children:g.app_name})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:c,className:"hidden lg:flex flex-shrink-0","data-testid":"button-toggle-sidebar",children:e.jsx(R,{size:16})})]}),e.jsx("div",{className:"px-4 py-6","data-testid":"user-profile",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(A,{className:"h-14 w-14",children:[e.jsx(L,{src:a==null?void 0:a.profilePhoto,alt:(a==null?void 0:a.userName)||(a==null?void 0:a.email)}),e.jsx(I,{className:"bg-teal-500 text-white text-lg font-bold",children:u()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-bold text-foreground truncate",children:(a==null?void 0:a.userName)||`${a==null?void 0:a.firstName} ${a==null?void 0:a.lastName}`.trim()||"User"}),e.jsx(o,{href:"/profile-view",children:e.jsx("button",{className:"text-sm text-primary hover:underline","data-testid":"link-view-profile",onClick:t,children:"View profile"})})]})]})}),e.jsx(d,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Buying"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-buying",children:b.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]}),(a==null?void 0:a.seller)&&e.jsxs(e.Fragment,{children:[e.jsx(d,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Selling"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-selling",children:N.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]})]}),e.jsx(d,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"General"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-general",children:v.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]}),e.jsx(d,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Help & Legal"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-help",children:y.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]})]});return f?e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-16 transition-all duration-300 bg-background border-r border-border",children:e.jsx("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto",children:e.jsx("div",{className:"flex items-center justify-center px-2","data-testid":"logo-container",children:e.jsx(h,{variant:"ghost",size:"sm",onClick:c,className:"flex-shrink-0","data-testid":"button-toggle-sidebar",children:e.jsx(z,{size:16})})})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-64 transition-all duration-300 bg-background border-r border-border",children:e.jsx(x,{})}),e.jsx(P,{open:p,onOpenChange:s=>!s&&(t==null?void 0:t()),children:e.jsx($,{side:"left",className:"w-64 p-0 lg:hidden",children:e.jsx(x,{})})})]})}export{he as Sidebar};
