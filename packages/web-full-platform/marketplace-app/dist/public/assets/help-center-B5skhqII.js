import{r as x,d as N,j as e,L as r,B as i}from"./index-GnvmivW0.js";import{C as b,b as v}from"./card-Bsqf9o7h.js";import{I as w}from"./input-CDJz7BeV.js";import{B as y}from"./badge-CL9MXKGS.js";import{H as C}from"./house-Dra-u4aY.js";import{C as h}from"./chevron-right-CXw-mF7y.js";import{C as p}from"./circle-help-BM0rBwTx.js";import{S as k}from"./search-DE1AZ4db.js";function Q(){const[a,u]=x.useState(""),[s,f]=x.useState("all"),{data:l,isLoading:c,error:d}=N({queryKey:["/api/articles/published"]}),n=(l==null?void 0:l.data)||[],o=["all",...Array.from(new Set(n.map(t=>t.category)))],m=n.filter(t=>{const g=a===""||t.title.toLowerCase().includes(a.toLowerCase())||t.excerpt.toLowerCase().includes(a.toLowerCase()),j=s==="all"||t.category===s;return g&&j});return e.jsxs("div",{className:"min-h-screen bg-background","data-testid":"page-help-center",children:[e.jsxs("div",{className:"relative h-[300px] bg-gradient-to-r from-primary/20 to-primary/10 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-black/40 z-10"}),e.jsxs("div",{className:"relative z-20 h-full flex flex-col justify-center items-start w-full px-4 sm:px-6 lg:px-8",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-sm text-white/80 mb-4","data-testid":"breadcrumb-nav",children:[e.jsx(r,{href:"/",children:e.jsxs("a",{className:"hover:text-white transition-colors flex items-center gap-1","data-testid":"link-home",children:[e.jsx(C,{className:"h-4 w-4"}),"Home"]})}),e.jsx(h,{className:"h-4 w-4"}),e.jsx(r,{href:"/help-center",children:e.jsxs("a",{className:"hover:text-white transition-colors flex items-center gap-1","data-testid":"link-help-center",children:[e.jsx(p,{className:"h-4 w-4"}),"Help Center"]})}),s!=="all"&&e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{className:"text-white capitalize","data-testid":"breadcrumb-category",children:s})]})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4","data-testid":"heading-category",children:s==="all"?"Help Center":s.charAt(0).toUpperCase()+s.slice(1)}),e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(w,{placeholder:"Search help articles...",value:a,onChange:t=>u(t.target.value),className:"pl-12 h-12 bg-white/95 backdrop-blur-sm border-white/20 text-foreground","data-testid":"input-search-articles"})]})})]})]}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[o.length>1&&e.jsx("div",{className:"mb-8","data-testid":"category-filter",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(t=>e.jsx(i,{variant:s===t?"default":"outline",size:"sm",onClick:()=>f(t),className:"capitalize","data-testid":`button-category-${t}`,children:t==="all"?"All Articles":t},t))})}),c&&e.jsx("div",{className:"flex items-center justify-center py-12","data-testid":"loading-articles",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading articles..."})]})}),d&&e.jsx("div",{className:"text-center py-12","data-testid":"error-articles",children:e.jsx("p",{className:"text-destructive",children:"Failed to load articles. Please try again later."})}),!c&&!d&&e.jsx(e.Fragment,{children:m.length===0?e.jsxs("div",{className:"text-center py-12","data-testid":"no-articles",children:[e.jsx(p,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"No articles found"}),e.jsx("p",{className:"text-muted-foreground",children:a?"Try a different search term":"Check back later for helpful articles"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6","data-testid":"articles-grid",children:m.map(t=>e.jsx(r,{href:`/help-center/${t.slug}`,children:e.jsx(b,{className:"h-full hover-elevate active-elevate-2 transition-all cursor-pointer","data-testid":`card-article-${t.slug}`,children:e.jsxs(v,{className:"p-6",children:[e.jsx(y,{variant:"secondary",className:"mb-3 capitalize","data-testid":`badge-category-${t.slug}`,children:t.category}),e.jsx("h3",{className:"text-lg font-semibold text-primary mb-2 hover:underline","data-testid":`title-${t.slug}`,children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3","data-testid":`excerpt-${t.slug}`,children:t.excerpt})]})})},t._id))})}),e.jsx("div",{className:"mt-16 border-t pt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Still need help?"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Can't find what you're looking for? Our support team is here to help."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(r,{href:"/contact",children:e.jsx(i,{variant:"default","data-testid":"button-contact-support",children:"Contact Support"})}),e.jsx(r,{href:"/faq",children:e.jsx(i,{variant:"outline","data-testid":"button-view-faq",children:"View FAQ"})})]})]})})]})]})}export{Q as default};
