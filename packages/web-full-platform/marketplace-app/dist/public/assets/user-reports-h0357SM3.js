import{a as N,b as T,g as C,a8 as R,r as m,j as e,T as h,B as F,y as D}from"./index-GnvmivW0.js";import{C as x,a as j,c as y,d as P,b as v}from"./card-Bsqf9o7h.js";import{I as k}from"./input-CDJz7BeV.js";import{T as q}from"./textarea-DkmXbh6O.js";import{L as a}from"./label-CbaFYhHW.js";import{S as g,a as f,b,c as S,d as t}from"./select-EUq1_viI.js";import{S as E}from"./send-BnGR3x8s.js";import"./index-BdQq_4o_.js";import"./index-CmYyiKyk.js";import"./index-Vue-pIA6.js";import"./chevron-down-tcDKR_mK.js";import"./check-DoxmrmEj.js";import"./chevron-up-Cda9uppk.js";function M(){const{user:o}=N(),{settings:I}=T(),{toast:l}=C();R("Report an Issue");const[c,d]=m.useState(!1),[r,i]=m.useState({reportType:"",reportedItem:"",reason:"",description:""}),p=s=>{i({...r,[s.target.name]:s.target.value})},u=(s,n)=>{i({...r,[s]:n})},w=async s=>{s.preventDefault(),d(!0);try{if((await D("POST","/api/reports",{reportType:r.reportType,reportedItem:r.reportedItem,reason:r.reason,description:r.description,reportedBy:o==null?void 0:o.id})).ok)l({title:"Report submitted",description:"Thank you for your report. Our team will review it shortly."}),i({reportType:"",reportedItem:"",reason:"",description:""});else throw new Error("Failed to submit report")}catch{l({title:"Error",description:"Failed to submit report. Please try again.",variant:"destructive"})}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsx("main",{className:"flex justify-center w-full",children:e.jsxs("div",{className:"w-full lg:w-[90%] px-4 sm:px-6 py-8 sm:py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 flex items-center gap-3","data-testid":"text-reports-title",children:[e.jsx(h,{className:"h-8 w-8"}),"Report an Issue"]}),e.jsxs("p",{className:"text-muted-foreground text-sm sm:text-base",children:["Help us maintain a safe and respectful community on ",I.app_name,". If you've encountered inappropriate content, behavior, or have concerns about a user, product, or show, please let us know."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs(x,{children:[e.jsxs(j,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Submit a Report"]}),e.jsx(P,{children:"Please provide as much detail as possible to help us investigate your report."})]}),e.jsx(v,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"reportType",children:"What are you reporting? *"}),e.jsxs(g,{name:"reportType",value:r.reportType,onValueChange:s=>u("reportType",s),required:!0,children:[e.jsx(f,{"data-testid":"select-report-type",children:e.jsx(b,{placeholder:"Select report type"})}),e.jsxs(S,{children:[e.jsx(t,{value:"user",children:"User"}),e.jsx(t,{value:"product",children:"Product"}),e.jsx(t,{value:"show",children:"Live Show"}),e.jsx(t,{value:"order",children:"Order Issue"}),e.jsx(t,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"reportedItem",children:"Item ID or Username *"}),e.jsx(k,{id:"reportedItem",name:"reportedItem",value:r.reportedItem,onChange:p,placeholder:"Enter the username, product ID, or order number",required:!0,"data-testid":"input-reported-item"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"reason",children:"Reason for Report *"}),e.jsxs(g,{name:"reason",value:r.reason,onValueChange:s=>u("reason",s),required:!0,children:[e.jsx(f,{"data-testid":"select-reason",children:e.jsx(b,{placeholder:"Select a reason"})}),e.jsxs(S,{children:[e.jsx(t,{value:"spam",children:"Spam or Scam"}),e.jsx(t,{value:"harassment",children:"Harassment or Bullying"}),e.jsx(t,{value:"inappropriate",children:"Inappropriate Content"}),e.jsx(t,{value:"counterfeit",children:"Counterfeit Products"}),e.jsx(t,{value:"fraud",children:"Fraud or Deception"}),e.jsx(t,{value:"violence",children:"Violence or Threats"}),e.jsx(t,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description *"}),e.jsx(q,{id:"description",name:"description",value:r.description,onChange:p,placeholder:"Please provide details about why you're reporting this...",rows:6,required:!0,"data-testid":"input-description"})]}),e.jsxs(F,{type:"submit",disabled:c||!r.reportType||!r.reportedItem||!r.reason||!r.description,className:"w-full","data-testid":"button-submit-report",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),c?"Submitting...":"Submit Report"]})]})})]}),e.jsxs(x,{className:"bg-muted/50",children:[e.jsx(j,{children:e.jsx(y,{className:"text-base",children:"Important Information"})}),e.jsxs(v,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Reports are reviewed by our team within 24-48 hours"}),e.jsx("p",{children:"• False or malicious reports may result in account restrictions"}),e.jsx("p",{children:"• We take all reports seriously and may take action including content removal or account suspension"}),e.jsx("p",{children:"• For urgent safety concerns, please contact us immediately through our support channels"})]})]})]})]})})})}export{M as default};
