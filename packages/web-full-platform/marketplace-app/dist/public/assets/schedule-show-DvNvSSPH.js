import{u as he,e as ue,a as me,r as C,j as e,X as xe,q as Y,B as ge,C as b,aH as K,aI as I}from"./index-DOZKoalF.js";import{u as je,F as fe,a as d,b as r,e as l,c as o,f as x,d as u,t as ye}from"./form-BJNwnS3h.js";import{u as H}from"./useQuery-48pQeuS3.js";import{B as M}from"./button-bCrgsaso.js";import{I as V}from"./input-CsVTZWQJ.js";import{T as be}from"./textarea-C334aam0.js";import{L as ve}from"./label-CmdcELDJ.js";import{S as W,a as X,b as Z,c as ee,d as S}from"./select-fROaTUpr.js";import{S as q}from"./switch-t4cqETiz.js";import{C as P,a as k,d as _,c as T,b as A}from"./card-C6zn3jP-.js";import{R as Q,a as g}from"./radio-group-CSuKdiEr.js";import{u as we}from"./upload-images-DzIku6Z8.js";import{A as Ne}from"./arrow-left-BP7H-sSw.js";import{C as se}from"./chevron-up-0jCUr4SU.js";import{C as te}from"./chevron-down-Bi2HuHPT.js";import{U as Ce}from"./upload-DYhQNpyI.js";import"./index-BdQq_4o_.js";import"./index-DwAU5pHh.js";import"./index-CXm_CZR6.js";import"./index-CxUEmdCc.js";import"./index-AFSU6Owo.js";import"./check-Bj3EYrSG.js";import"./index-CYumVO2i.js";import"./circle-D2uhURtr.js";const Se=ge({title:b().min(1,"Show title is required"),scheduledAt:b().min(1,"Date and time is required"),category:b().min(1,"Category is required"),description:b().optional(),thumbnail:b().optional(),freePickup:I().default(!1),uspsPriorityMail:I().default(!1),uspsGroundAdvantage:I().default(!1),shippingProfile:b().optional(),shippingCoverage:K(["seller_pays","buyer_pays_max","buyer_pays_all"]),maxBuyerPays:b().optional(),roomType:K(["public","private"]),explicitContent:I().default(!1),repeatShow:K(["none","daily","weekly","monthly"]),repeatCount:b().optional()});function We(){const[,L]=he(),{toast:N}=ue(),{user:c}=me(),[z,F]=C.useState(null),[B,J]=C.useState(!1),[G,ae]=C.useState(!1),[R,ie]=C.useState(!1),v=new URLSearchParams(window.location.search).get("edit"),w=!!v,{data:n,isLoading:Pe}=H({queryKey:["/api/rooms",v],queryFn:async()=>{if(!v)return null;const s=await fetch(`/api/rooms/${v}`);if(!s.ok)throw new Error("Failed to fetch show");return s.json()},enabled:w}),{data:p,isLoading:U}=H({queryKey:["/api/categories"],queryFn:async()=>{const s=await fetch("/api/categories?status=active&page=1&limit=100");if(!s.ok)throw new Error("Failed to fetch categories");return s.json()}}),$=C.useMemo(()=>{if(!(p!=null&&p.categories))return[];const s=[];return p.categories.forEach(a=>{s.push(a),a.subCategories&&Array.isArray(a.subCategories)&&a.subCategories.length>0&&s.push(...a.subCategories)}),console.log("ðŸ“¦ Flattened categories:",s.map(a=>({id:a._id,name:a.name}))),s},[p]),{data:E,isLoading:O}=H({queryKey:["external-shipping-profiles",c==null?void 0:c.id],queryFn:async()=>{if(!(c!=null&&c.id))throw new Error("User ID required");const s=await fetch(`/api/shipping/profiles/${c.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch shipping profiles: ${s.status}`);return s.json()},enabled:!!(c!=null&&c.id)}),t=je({resolver:ye(Se),defaultValues:{title:"",scheduledAt:"",category:"",description:"",freePickup:!1,uspsPriorityMail:!1,uspsGroundAdvantage:!1,shippingProfile:"",shippingCoverage:"buyer_pays_all",maxBuyerPays:"",roomType:"public",explicitContent:!1,repeatShow:"none",repeatCount:""}});C.useEffect(()=>{var s,a,h;if(n&&w&&!U&&!O){console.log("ðŸ“ Populating form with show data:",n),console.log("ðŸ“¦ Categories loaded:",(s=p==null?void 0:p.categories)==null?void 0:s.length),console.log("ðŸ“¦ Shipping profiles loaded:",E==null?void 0:E.length);const f=new Date(n.date).toISOString().slice(0,16),i=n.shipping_settings||{};console.log("ðŸšš Shipping settings from API:",i);let m="buyer_pays_all";i.shippingCostMode?m=i.shippingCostMode:i.seller_pays?m="seller_pays":i.reducedShippingCapAmount>0&&(m="buyer_pays_max"),console.log("ðŸšš Calculated shipping coverage:",m);const y=typeof n.category=="object"?((a=n.category)==null?void 0:a._id)||((h=n.category)==null?void 0:h.id)||"":n.category||"";console.log("ðŸ“Œ Category value:",{raw:n.category,extracted:y}),console.log("ðŸ“Œ Available categories:",$.map(D=>({id:D._id,name:D.name})));const pe=$.some(D=>D._id===y);console.log("ðŸ“Œ Category exists in list?",pe),setTimeout(()=>{t.setValue("title",n.title||""),t.setValue("scheduledAt",f),t.setValue("category",y),console.log('ðŸ“Œ After setValue, form.getValues("category"):',t.getValues("category")),t.setValue("description",n.description||""),t.setValue("freePickup",!!i.freePickupEnabled),t.setValue("uspsPriorityMail",!!i.priorityMailEnabled),t.setValue("uspsGroundAdvantage",!!i.groundAdvantageEnabled),t.setValue("shippingProfile",i.shippingProfile||""),console.log("ðŸšš Set shipping values:",{freePickup:!!i.freePickupEnabled,uspsPriorityMail:!!i.priorityMailEnabled,uspsGroundAdvantage:!!i.groundAdvantageEnabled,shippingProfile:i.shippingProfile}),t.setValue("shippingCoverage",m),t.setValue("maxBuyerPays",i.reducedShippingCapAmount?String(i.reducedShippingCapAmount):""),t.setValue("roomType",n.roomType||"public"),t.setValue("explicitContent",n.explicit_content||!1),t.setValue("repeatShow",n.repeat||"none"),t.setValue("repeatCount",n.repeat_count?String(n.repeat_count):""),n.thumbnail&&(t.setValue("thumbnail",n.thumbnail),F(n.thumbnail)),console.log("âœ… Form values set with category:",y)},100)}},[n,w,t,U,O,$,E]);const re=async s=>{var h;const a=(h=s.target.files)==null?void 0:h[0];if(a)try{J(!0);const j=new FileReader;j.onloadend=()=>{F(j.result)},j.readAsDataURL(a);const f=v||`show_${Date.now()}`,i=await we(a,f);t.setValue("thumbnail",i),console.log("ðŸ“¸ Image uploaded to Firebase:",i),N({title:"Image Uploaded",description:"Thumbnail uploaded successfully!"})}catch(j){console.error("Error uploading image:",j),N({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"}),F(null),t.setValue("thumbnail","")}finally{J(!1)}},oe=()=>{F(null),t.setValue("thumbnail","")},le=async s=>{try{if(!(c!=null&&c.id)){N({title:"Authentication Required",description:"Please log in to schedule a show.",variant:"destructive"});return}const h=new Date(s.scheduledAt).getTime(),j={priorityMailEnabled:s.uspsPriorityMail,groundAdvantageEnabled:s.uspsGroundAdvantage,shippingCostMode:s.shippingCoverage,reducedShippingCapAmount:s.maxBuyerPays?parseFloat(s.maxBuyerPays):0,buyer_pays:s.shippingCoverage==="buyer_pays_all"||s.shippingCoverage==="buyer_pays_max",seller_pays:s.shippingCoverage==="seller_pays",freePickupEnabled:s.freePickup,shippingProfile:s.shippingProfile||null},f={title:s.title,roomType:s.roomType,userId:c.id,category:s.category,activeTime:Date.now(),status:!0,repeat:s.repeatShow,repeat_count:s.repeatCount?parseInt(s.repeatCount):0,date:h,shipping_settings:j,explicit_content:s.explicitContent,description:s.description||"",thumbnail:s.thumbnail||""};if(w&&v){console.log("Updating show with data:",f);const i=await fetch(`/api/rooms/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!i.ok){const y=await i.json();throw new Error(y.error||"Failed to update show")}const m=await i.json();console.log("Show updated successfully:",m),await Y.invalidateQueries({queryKey:["/api/rooms"]}),N({title:"Show Updated Successfully",description:`Your show "${s.title}" has been updated.`})}else{console.log("Creating show with data:",f);const i=await fetch("/api/rooms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!i.ok){const y=await i.json();throw new Error(y.error||"Failed to create show")}const m=await i.json();console.log("Show created successfully:",m),await Y.invalidateQueries({queryKey:["/api/rooms"]}),N({title:"Show Scheduled Successfully",description:`Your show "${s.title}" has been scheduled.`})}L("/live-shows")}catch(a){console.error("Error creating show:",a),N({title:"Failed to Schedule Show",description:a instanceof Error?a.message:"An error occurred",variant:"destructive"})}},ne=t.watch("shippingCoverage"),de=t.watch("repeatShow"),ce=E||[];return e.jsxs("div",{className:"h-full flex flex-col bg-background",children:[e.jsx("div",{className:"border-b border-border bg-background px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>L("/live-shows"),"data-testid":"button-back",children:e.jsx(Ne,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground","data-testid":"text-schedule-show-title",children:w?"Edit Show":"Schedule a Show"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:w?"Update your show details and settings":"Set up your live selling show with shipping and content settings"})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto px-6 py-6",children:e.jsx("div",{className:"w-full",children:e.jsx(fe,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(le),className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Basic Information"}),e.jsx(T,{children:"Core details about your show"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"title",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Show Title *"}),e.jsx(o,{children:e.jsx(V,{placeholder:"e.g., $100 in giveaways. $1 pre-loved Lululemon",...s,"data-testid":"input-show-title"})}),e.jsx(x,{children:"Make it descriptive to tell viewers what you're selling"}),e.jsx(u,{})]})}),e.jsx(d,{control:t.control,name:"scheduledAt",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Date & Time *"}),e.jsx(o,{children:e.jsx(V,{type:"datetime-local",...s,"data-testid":"input-scheduled-at"})}),e.jsx(x,{children:"Schedule 1 week in advance for maximum bookmarks"}),e.jsx(u,{})]})}),e.jsx(d,{control:t.control,name:"category",render:({field:s})=>(console.log("ðŸŽ¯ Category field.value:",s.value),e.jsxs(r,{children:[e.jsx(l,{children:"Category *"}),e.jsxs(W,{onValueChange:s.onChange,value:s.value,children:[e.jsx(o,{children:e.jsx(X,{"data-testid":"select-category",children:e.jsx(Z,{placeholder:U?"Loading categories...":"Select a category"})})}),e.jsx(ee,{children:U?e.jsx(S,{value:"loading",disabled:!0,children:"Loading..."}):p!=null&&p.categories&&p.categories.length>0?e.jsx(e.Fragment,{children:p.categories.map(a=>[e.jsx(S,{value:a._id||a.id,className:"font-semibold",children:a.name},a._id||a.id),...a.subCategories&&a.subCategories.length>0?a.subCategories.map(h=>e.jsxs(S,{value:h._id||h.id,className:"pl-6",children:["â†³ ",h.name]},h._id||h.id)):[]])}):e.jsx(S,{value:"none",disabled:!0,children:"No categories available"})})]}),e.jsx(x,{children:"Helps buyers discover your show"}),e.jsx(u,{})]}))})]})]}),e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Shipping Settings"}),e.jsx(T,{children:"Adjust your defaults for domestic shipments, shipping costs, and local pickup for this show"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"shippingProfile",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Shipping Profile"}),e.jsxs(W,{onValueChange:s.onChange,value:s.value,disabled:O,"data-testid":"select-shipping-profile",children:[e.jsx(o,{children:e.jsx(X,{children:e.jsx(Z,{placeholder:"Select shipping profile"})})}),e.jsxs(ee,{position:"popper",children:[e.jsx(S,{value:"skip",children:"No Shipping Profile"}),ce.map(a=>e.jsx(S,{value:a._id,children:a.name},a._id))]})]}),e.jsx(u,{})]})}),e.jsx(d,{control:t.control,name:"freePickup",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(l,{className:"text-base",children:"Free pickup"})}),e.jsx(o,{children:e.jsx(q,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-free-pickup"})})]})}),e.jsxs("div",{className:"rounded-lg border border-border",children:[e.jsxs("button",{type:"button",onClick:()=>ae(!G),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors","data-testid":"button-domestic-shipments",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Domestic Shipments"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All orders falling outside of your shipping preferences will default to USPS Ground Advantage. Eligible sellers will default to Media Mail shipping."})]}),G?e.jsx(se,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"}):e.jsx(te,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"})]}),G&&e.jsxs("div",{className:"p-4 pt-0 border-t border-border space-y-3",children:[e.jsx(d,{control:t.control,name:"uspsPriorityMail",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base font-semibold",children:"USPS Priority Mail"}),e.jsx(x,{className:"text-xs",children:"Arrives in 1-3 business days. Best for time-sensitive shipments."})]}),e.jsx(o,{children:e.jsx(q,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-usps-priority"})})]})}),e.jsx(d,{control:t.control,name:"uspsGroundAdvantage",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base font-semibold",children:"USPS Ground Advantage"}),e.jsx(x,{className:"text-xs",children:"Best for shipping heavier items that aren't time-sensitive."})]}),e.jsx(o,{children:e.jsx(q,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-usps-ground"})})]})})]})]}),e.jsxs("div",{className:"rounded-lg border border-border",children:[e.jsxs("button",{type:"button",onClick:()=>ie(!R),className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors","data-testid":"button-shipping-costs",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm",children:"Shipping Costs"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Costs calculated based on buyer's location and shipment weight. Only applies to shipments within the contiguous U.S."})]}),R?e.jsx(se,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"}):e.jsx(te,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 ml-2"})]}),R&&e.jsx("div",{className:"p-4 pt-0 border-t border-border",children:e.jsx(d,{control:t.control,name:"shippingCoverage",render:({field:s})=>e.jsxs(r,{className:"space-y-3",children:[e.jsx(o,{children:e.jsxs(Q,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-3",children:[e.jsx(r,{className:"flex flex-col space-y-2 rounded-lg border border-border p-3",children:e.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"seller_pays","data-testid":"radio-seller-pays",className:"mt-1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{className:"font-semibold cursor-pointer",children:"Seller pays all shipping costs"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This only applies to domestic orders. Buyers have to pay for shipping on international orders."})]})]})}),e.jsxs(r,{className:"flex flex-col space-y-2 rounded-lg border border-border p-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"buyer_pays_max","data-testid":"radio-buyer-pays-max",className:"mt-1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{className:"font-semibold cursor-pointer",children:"Buyer pays up to a set shipping cost"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set a maximum shipping cost buyers will pay for unlimited orders within your show."})]})]}),ne==="buyer_pays_max"&&e.jsx("div",{className:"ml-9 mt-2",children:e.jsx(d,{control:t.control,name:"maxBuyerPays",render:({field:a})=>e.jsxs(r,{children:[e.jsx(l,{className:"text-sm",children:"Amount"}),e.jsx(o,{children:e.jsx(V,{type:"number",step:"0.01",placeholder:"e.g., 9.21",...a,"data-testid":"input-max-buyer-pays",className:"max-w-[200px]"})}),e.jsx(u,{})]})})})]}),e.jsx(r,{className:"flex flex-col space-y-2 rounded-lg border border-border p-3",children:e.jsxs("div",{className:"flex items-start space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"buyer_pays_all","data-testid":"radio-buyer-pays-all",className:"mt-1"})}),e.jsx("div",{className:"flex-1",children:e.jsx(l,{className:"font-semibold cursor-pointer",children:"Buyer pays all shipping costs"})})]})})]})}),e.jsx(u,{})]})})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Thumbnail/Cover Photo"}),e.jsx(T,{children:"Upload an eye-catching image or video"})]}),e.jsx(A,{children:e.jsx(d,{control:t.control,name:"thumbnail",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:z?e.jsxs("div",{className:"relative w-full max-w-[180px]",children:[e.jsx("img",{src:z,alt:"Thumbnail preview",className:"w-full aspect-[9/16] object-cover rounded-lg border border-border"}),e.jsx(M,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:oe,"data-testid":"button-remove-thumbnail",children:e.jsx(xe,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center",children:[e.jsx(Ce,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx(ve,{htmlFor:"thumbnail-upload",className:`cursor-pointer text-primary hover:underline ${B?"opacity-50 pointer-events-none":""}`,children:B?"Uploading to Firebase...":"Click to upload thumbnail"}),e.jsx(V,{id:"thumbnail-upload",type:"file",accept:"image/*,video/*",onChange:re,className:"hidden","data-testid":"input-thumbnail",disabled:B}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Recommended: 1080x1920px (9:16 ratio)"})]})})}),e.jsx(x,{children:"Video thumbnails enable Instagram sharing"}),e.jsx(u,{})]})})})]}),e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Description"}),e.jsx(T,{children:"Add more details about your show"})]}),e.jsx(A,{children:e.jsx(d,{control:t.control,name:"description",render:({field:s})=>e.jsxs(r,{children:[e.jsx(o,{children:e.jsx(be,{placeholder:"Add more details about what you'll be selling...",...s,className:"min-h-[200px]","data-testid":"textarea-description"})}),e.jsx(u,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Content Settings"}),e.jsx(T,{children:"Control show visibility and moderation"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"roomType",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Room Type *"}),e.jsx(o,{children:e.jsxs(Q,{onValueChange:s.onChange,value:s.value,className:"flex flex-col space-y-2",children:[e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"public","data-testid":"radio-public"})}),e.jsx(l,{className:"font-normal cursor-pointer",children:"Public - Visible to everyone"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"private","data-testid":"radio-private"})}),e.jsx(l,{className:"font-normal cursor-pointer",children:"Private - Only accessible via share link (no notifications)"})]})]})}),e.jsx(x,{children:"Use private mode for test shows or practice runs"}),e.jsx(u,{})]})}),e.jsx(d,{control:t.control,name:"explicitContent",render:({field:s})=>e.jsxs(r,{className:"flex flex-row items-center justify-between rounded-lg border border-border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{className:"text-base",children:"Explicit Content"}),e.jsx(x,{children:"Toggle if strong language will be used"})]}),e.jsx(o,{children:e.jsx(q,{checked:s.value,onCheckedChange:s.onChange,"data-testid":"switch-explicit-content"})})]})})]})]}),e.jsxs(P,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Repeat Settings"}),e.jsx(T,{children:"Schedule recurring shows"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx(d,{control:t.control,name:"repeatShow",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Repeat Frequency *"}),e.jsx(o,{children:e.jsxs(Q,{onValueChange:s.onChange,defaultValue:s.value,className:"flex flex-col space-y-1",children:[e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"none","data-testid":"radio-none"})}),e.jsx(l,{className:"font-normal cursor-pointer",children:"No repeat (one-time show)"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"daily","data-testid":"radio-daily"})}),e.jsx(l,{className:"font-normal cursor-pointer",children:"Daily"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"weekly","data-testid":"radio-weekly"})}),e.jsx(l,{className:"font-normal cursor-pointer",children:"Weekly"})]}),e.jsxs(r,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(o,{children:e.jsx(g,{value:"monthly","data-testid":"radio-monthly"})}),e.jsx(l,{className:"font-normal cursor-pointer",children:"Monthly"})]})]})}),e.jsx(u,{})]})}),de!=="none"&&e.jsx(d,{control:t.control,name:"repeatCount",render:({field:s})=>e.jsxs(r,{children:[e.jsx(l,{children:"Number of Occurrences"}),e.jsx(o,{children:e.jsx(V,{type:"number",placeholder:"e.g., 4",...s,"data-testid":"input-repeat-count"})}),e.jsx(x,{children:"Leave empty to repeat indefinitely"}),e.jsx(u,{})]})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>L("/live-shows"),"data-testid":"button-cancel",children:"Cancel"}),e.jsx(M,{type:"submit","data-testid":"button-schedule",children:w?"Update Show":"Schedule Show"})]})]})})})})]})}export{We as default};
