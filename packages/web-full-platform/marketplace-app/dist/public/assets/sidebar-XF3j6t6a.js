import{c as b,u as y,a as w,b as k,d as A,j as e,B as S,e as l,T}from"./index-GnvmivW0.js";import{A as I,a as $,b as B}from"./avatar-T6GBhCEI.js";import{S as c}from"./separator-Datc7ShZ.js";import{S as C,a as L}from"./sheet-D5QVNRkq.js";import{C as P}from"./chevron-right-CXw-mF7y.js";import{V as R}from"./video--84agJTh.js";import{P as F}from"./package-DWwkENv3.js";import{T as O}from"./tag-jpmwmyGV.js";import{T as V}from"./truck-DP2GNOS8.js";import{P as q}from"./package-2-BB60Ci35.js";import{C as z}from"./credit-card-B0WsppBV.js";import{R as K}from"./receipt-0-3u59On.js";import{M as D}from"./map-pin-Dn0fBe7g.js";import{B as E}from"./book-open-BeXq40tE.js";import{M as G}from"./message-square-Cf3RgaVN.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=b("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);function ie({isCollapsed:x,onToggle:h,isMobileOpen:p=!1,onMobileClose:s}){const[i,n]=y(),{user:r}=w(),{settings:Q}=k(),d=(r==null?void 0:r._id)||(r==null?void 0:r.id),{data:g}=A({queryKey:[`/api/profile/${d}`],enabled:!!d,staleTime:0}),a=g||r,u=()=>a!=null&&a.firstName&&(a!=null&&a.lastName)?`${a.firstName[0]}${a.lastName[0]}`.toUpperCase():a!=null&&a.firstName?a.firstName[0].toUpperCase():a!=null&&a.email?a.email[0].toUpperCase():"U",j=[{name:"Payments",href:"/payments",icon:z},{name:"Transactions",href:"/transactions",icon:K},{name:"Addresses",href:"/addresses",icon:D}],v=[{name:"Shows",href:"/live-shows",icon:R},{name:"Orders",href:"/orders",icon:F},{name:"Offers",href:"/offers",icon:O},{name:"Inventory",href:"/inventory",icon:H},{name:"Shipments",href:"/shipping",icon:V},{name:"Shipping Profiles",href:"/shipping-profiles",icon:q}],m=[],N=[{name:"Knowledge Base",href:"/knowledge-base",icon:E},{name:"User Reports",href:"/reports",icon:T},{name:"Contact Us",href:"/contact",icon:G}],f=()=>e.jsxs("div",{className:"flex flex-col flex-grow overflow-y-auto",children:[e.jsx("div",{className:"px-4 py-6","data-testid":"user-profile",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(I,{className:"h-14 w-14",children:[e.jsx($,{src:a==null?void 0:a.profilePhoto,alt:(a==null?void 0:a.userName)||(a==null?void 0:a.email)}),e.jsx(B,{className:"bg-teal-500 text-white text-lg font-bold",children:u()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-bold text-foreground truncate",children:(a==null?void 0:a.userName)||`${a==null?void 0:a.firstName} ${a==null?void 0:a.lastName}`.trim()||"User"}),e.jsx("button",{className:"text-sm text-primary hover:underline","data-testid":"link-view-profile",onClick:()=>{s?(s(),setTimeout(()=>n("/profile-view"),150)):n("/profile-view")},children:"View profile"})]})]})}),m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Buying"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-buying",children:m.map(t=>{const o=i===t.href;return e.jsxs("button",{type:"button",className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer w-full text-left",o?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${t.name.toLowerCase().replace(" ","-")}`,onClick:()=>{s?(s(),setTimeout(()=>n(t.href),150)):n(t.href)},children:[e.jsx(t.icon,{className:"h-5 w-5"}),e.jsx("span",{children:t.name})]},t.name)})})]})]}),(a==null?void 0:a.seller)&&e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Selling"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-selling",children:v.map(t=>{const o=i===t.href;return e.jsxs("button",{type:"button",className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer w-full text-left",o?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${t.name.toLowerCase().replace(" ","-")}`,onClick:()=>{s?(s(),setTimeout(()=>n(t.href),150)):n(t.href)},children:[e.jsx(t.icon,{className:"h-5 w-5"}),e.jsx("span",{children:t.name})]},t.name)})})]})]}),e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"General"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-general",children:j.map(t=>{const o=i===t.href;return e.jsxs("button",{type:"button",className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer w-full text-left",o?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${t.name.toLowerCase().replace(" ","-")}`,onClick:()=>{s?(s(),setTimeout(()=>n(t.href),150)):n(t.href)},children:[e.jsx(t.icon,{className:"h-5 w-5"}),e.jsx("span",{children:t.name})]},t.name)})})]}),e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Help & Legal"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-help",children:N.map(t=>{const o=i===t.href;return e.jsxs("button",{type:"button",className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer w-full text-left",o?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${t.name.toLowerCase().replace(" ","-")}`,onClick:()=>{s?(s(),setTimeout(()=>n(t.href),150)):n(t.href)},children:[e.jsx(t.icon,{className:"h-5 w-5"}),e.jsx("span",{children:t.name})]},t.name)})})]})]});return x?e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-16 transition-all duration-300 bg-background border-r border-border",children:e.jsx("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto",children:e.jsx("div",{className:"flex items-center justify-center px-2","data-testid":"logo-container",children:e.jsx(S,{variant:"ghost",size:"sm",onClick:h,className:"flex-shrink-0","data-testid":"button-toggle-sidebar",children:e.jsx(P,{size:16})})})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-64 transition-all duration-300 bg-background border-r border-border",children:e.jsx(f,{})}),e.jsx(C,{open:p,onOpenChange:t=>!t&&(s==null?void 0:s()),children:e.jsx(L,{side:"left",className:"w-64 p-0 lg:hidden overflow-hidden flex flex-col",children:e.jsx(f,{})})})]})}export{ie as Sidebar};
