import{c as S,r as F,f as U,j as e,I as h,B as P,s as E}from"./index-FVTY5sKH.js";import{u as M,F as V,a as n,b as i,c as d,d as o,t as G}from"./form-CqTjZ3qa.js";import{C as B,a as z,b as K}from"./card-CF4CqaN2.js";import{S as g,a as b,b as f,c as N,d as a}from"./select-D3ZFUKhx.js";import{A as R,a as T}from"./alert-_3QEPDXW.js";import{U as y}from"./user-DBElIW39.js";import{G as q}from"./globe-DqUT5fHj.js";import{P as J}from"./phone-BQAxbi5Q.js";import{U as Z}from"./users-B8e37Vk3.js";import"./index-BdQq_4o_.js";import"./index-BaZiuLT8.js";import"./index-Cbw5mxKQ.js";import"./chevron-down-BD1mluAZ.js";import"./check-DWjWNqF1.js";import"./chevron-up-D8QnUA5s.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=S("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=S("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);function ie({userEmail:C,socialAuthData:c,onComplete:w,isLoading:l=!1}){var p,v;const[m,x]=F.useState(""),{toast:j}=U(),A=((p=c.displayName)==null?void 0:p.split(" ")[0])||"",I=((v=c.displayName)==null?void 0:v.split(" ").slice(1).join(" "))||"",s=M({resolver:G(E),defaultValues:{firstName:A,lastName:I,userName:"",country:"",phone:"",gender:""}}),k=async r=>{try{x(""),await w(r),j({title:"Account setup complete!",description:"Welcome to your account."})}catch(t){console.error("Social auth completion failed:",t);const u=(t==null?void 0:t.message)||"Failed to complete account setup. Please try again.";x(u),j({variant:"destructive",title:"Setup failed",description:u})}};return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background to-primary/5 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl px-4 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 overflow-hidden",children:[c.photoURL?e.jsx("img",{src:c.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:r=>{var u;const t=r.target;t.style.display="none",(u=t.nextElementSibling)==null||u.classList.remove("hidden")}}):null,e.jsx(O,{className:`h-8 w-8 text-primary ${c.photoURL?"hidden":""}`})]}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Complete Your Profile"}),e.jsx("p",{className:"text-muted-foreground mb-2",children:"Just a few more details to finish setting up your account"}),e.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Signed in as: ",C]})]}),e.jsxs(B,{className:"shadow-2xl border border-border/50 bg-card/80 backdrop-blur-sm","data-testid":"card-social-auth-complete",children:[e.jsx(z,{className:"pb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Setup your profile"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose your unique username to complete your account"})]})}),e.jsxs(K,{className:"space-y-6 pb-8",children:[m&&e.jsx(R,{variant:"destructive",className:"mb-4","data-testid":"alert-submit-error",children:e.jsx(T,{children:m})}),e.jsx(V,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(k),className:"space-y-6","data-testid":"form-social-auth-complete",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(n,{control:s.control,name:"firstName",render:({field:r})=>e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(h,{...r,placeholder:"First Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:l,"data-testid":"input-firstName"})]})}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"lastName",render:({field:r})=>e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(h,{...r,placeholder:"Last Name",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:l,"data-testid":"input-lastName"})]})}),e.jsx(o,{})]})})]}),e.jsx(n,{control:s.control,name:"userName",render:({field:r})=>e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(h,{...r,placeholder:"Choose your unique username",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:l,"data-testid":"input-userName"})]})}),e.jsx(o,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(n,{control:s.control,name:"country",render:({field:r})=>e.jsxs(i,{children:[e.jsxs(g,{name:r.name,onValueChange:r.onChange,value:r.value,disabled:l,children:[e.jsx(d,{children:e.jsx(b,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-country",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground mr-3"}),e.jsx(f,{placeholder:"Select Country"})]})})}),e.jsxs(N,{className:"max-h-60",children:[e.jsx(a,{value:"Afghanistan",children:"Afghanistan"}),e.jsx(a,{value:"Albania",children:"Albania"}),e.jsx(a,{value:"Algeria",children:"Algeria"}),e.jsx(a,{value:"Argentina",children:"Argentina"}),e.jsx(a,{value:"Australia",children:"Australia"}),e.jsx(a,{value:"Austria",children:"Austria"}),e.jsx(a,{value:"Bangladesh",children:"Bangladesh"}),e.jsx(a,{value:"Belgium",children:"Belgium"}),e.jsx(a,{value:"Brazil",children:"Brazil"}),e.jsx(a,{value:"Canada",children:"Canada"}),e.jsx(a,{value:"Chile",children:"Chile"}),e.jsx(a,{value:"China",children:"China"}),e.jsx(a,{value:"Colombia",children:"Colombia"}),e.jsx(a,{value:"Denmark",children:"Denmark"}),e.jsx(a,{value:"Egypt",children:"Egypt"}),e.jsx(a,{value:"Ethiopia",children:"Ethiopia"}),e.jsx(a,{value:"Finland",children:"Finland"}),e.jsx(a,{value:"France",children:"France"}),e.jsx(a,{value:"Germany",children:"Germany"}),e.jsx(a,{value:"Ghana",children:"Ghana"}),e.jsx(a,{value:"Greece",children:"Greece"}),e.jsx(a,{value:"India",children:"India"}),e.jsx(a,{value:"Indonesia",children:"Indonesia"}),e.jsx(a,{value:"Iran",children:"Iran"}),e.jsx(a,{value:"Iraq",children:"Iraq"}),e.jsx(a,{value:"Ireland",children:"Ireland"}),e.jsx(a,{value:"Israel",children:"Israel"}),e.jsx(a,{value:"Italy",children:"Italy"}),e.jsx(a,{value:"Japan",children:"Japan"}),e.jsx(a,{value:"Jordan",children:"Jordan"}),e.jsx(a,{value:"Kenya",children:"Kenya"}),e.jsx(a,{value:"Malaysia",children:"Malaysia"}),e.jsx(a,{value:"Mexico",children:"Mexico"}),e.jsx(a,{value:"Morocco",children:"Morocco"}),e.jsx(a,{value:"Netherlands",children:"Netherlands"}),e.jsx(a,{value:"New Zealand",children:"New Zealand"}),e.jsx(a,{value:"Nigeria",children:"Nigeria"}),e.jsx(a,{value:"Norway",children:"Norway"}),e.jsx(a,{value:"Pakistan",children:"Pakistan"}),e.jsx(a,{value:"Philippines",children:"Philippines"}),e.jsx(a,{value:"Poland",children:"Poland"}),e.jsx(a,{value:"Portugal",children:"Portugal"}),e.jsx(a,{value:"Russia",children:"Russia"}),e.jsx(a,{value:"Saudi Arabia",children:"Saudi Arabia"}),e.jsx(a,{value:"Singapore",children:"Singapore"}),e.jsx(a,{value:"South Africa",children:"South Africa"}),e.jsx(a,{value:"South Korea",children:"South Korea"}),e.jsx(a,{value:"Spain",children:"Spain"}),e.jsx(a,{value:"Sweden",children:"Sweden"}),e.jsx(a,{value:"Switzerland",children:"Switzerland"}),e.jsx(a,{value:"Thailand",children:"Thailand"}),e.jsx(a,{value:"Turkey",children:"Turkey"}),e.jsx(a,{value:"Ukraine",children:"Ukraine"}),e.jsx(a,{value:"United Arab Emirates",children:"United Arab Emirates"}),e.jsx(a,{value:"United Kingdom",children:"United Kingdom"}),e.jsx(a,{value:"United States",children:"United States"}),e.jsx(a,{value:"Venezuela",children:"Venezuela"}),e.jsx(a,{value:"Vietnam",children:"Vietnam"})]})]}),e.jsx(o,{})]})}),e.jsx(n,{control:s.control,name:"phone",render:({field:r})=>e.jsxs(i,{children:[e.jsx(d,{children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(h,{...r,placeholder:"Phone Number (optional)",className:"pl-10 bg-input border-border text-foreground placeholder:text-muted-foreground h-12",disabled:l,"data-testid":"input-phone",type:"tel"})]})}),e.jsx(o,{})]})})]}),e.jsx(n,{control:s.control,name:"gender",render:({field:r})=>e.jsxs(i,{children:[e.jsxs(g,{onValueChange:r.onChange,defaultValue:r.value,disabled:l,children:[e.jsx(d,{children:e.jsx(b,{className:"h-12 bg-input border-border text-foreground","data-testid":"select-gender",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground mr-3"}),e.jsx(f,{placeholder:"Select Gender (optional)"})]})})}),e.jsxs(N,{children:[e.jsx(a,{value:"male",children:"Male"}),e.jsx(a,{value:"female",children:"Female"}),e.jsx(a,{value:"other",children:"Other"}),e.jsx(a,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]}),e.jsx(o,{})]})}),e.jsx(P,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium h-12 text-lg",disabled:l,"data-testid":"button-complete-setup",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-current border-t-transparent mr-3"}),"Setting up your account..."]}):"Complete Setup"})]})})]})]})]})]})}export{ie as SocialAuthCompleteForm};
