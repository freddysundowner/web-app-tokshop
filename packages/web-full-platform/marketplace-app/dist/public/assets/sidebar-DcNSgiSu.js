import{c as b,u as y,a as w,b as k,j as e,L as o,d as l}from"./index-DOZKoalF.js";import{B as S}from"./button-bCrgsaso.js";import{A,a as C,b as I}from"./avatar-BNno7OSM.js";import{S as c}from"./separator-B5Em_GJT.js";import{S as L,a as P}from"./sheet-BgQwtBuK.js";import{u as $}from"./useQuery-48pQeuS3.js";import{C as B}from"./chevron-right-SEiIbCON.js";import{S as T}from"./shopping-bag-Bumzb4mp.js";import{V as R}from"./video-DGp1xeEI.js";import{P as V}from"./package-BkkIjgzC.js";import{T as q}from"./truck-DxYEbFC6.js";import{P as F}from"./package-2-BeddxF0s.js";import{C as z}from"./credit-card-dtIe0EYE.js";import{R as O}from"./receipt-CDn5HmDW.js";import{M as D}from"./map-pin-CsYpw2VJ.js";import{T as E}from"./triangle-alert-Bmp0Lc24.js";import{M as G}from"./message-square-CVdGvBRf.js";import"./index-D0GAShZH.js";import"./index-CxUEmdCc.js";import"./index-CXm_CZR6.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=b("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);function me({isCollapsed:x,onToggle:h,isMobileOpen:f=!1,onMobileClose:t}){const[i]=y(),{user:r}=w(),{settings:K}=k(),d=(r==null?void 0:r._id)||(r==null?void 0:r.id),{data:p}=$({queryKey:[`/api/profile/${d}`],enabled:!!d,staleTime:0}),a=p||r,g=()=>a!=null&&a.firstName&&(a!=null&&a.lastName)?`${a.firstName[0]}${a.lastName[0]}`.toUpperCase():a!=null&&a.firstName?a.firstName[0].toUpperCase():a!=null&&a.email?a.email[0].toUpperCase():"U",u=[{name:"Payments",href:"/payments",icon:z},{name:"Transactions",href:"/transactions",icon:O},{name:"Addresses",href:"/addresses",icon:D}],j=[{name:"Shows",href:"/live-shows",icon:R},{name:"Orders",href:"/orders",icon:V},{name:"Inventory",href:"/inventory",icon:H},{name:"Shipments",href:"/shipping",icon:q},{name:"Shipping Profiles",href:"/shipping-profiles",icon:F}],v=[{name:"Purchases",href:"/purchases",icon:T}],N=[{name:"User Reports",href:"/reports",icon:E},{name:"Contact Us",href:"/contact",icon:G}],m=()=>e.jsxs("div",{className:"flex flex-col flex-grow overflow-y-auto",children:[e.jsx("div",{className:"px-4 py-6","data-testid":"user-profile",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(A,{className:"h-14 w-14",children:[e.jsx(C,{src:a==null?void 0:a.profilePhoto,alt:(a==null?void 0:a.userName)||(a==null?void 0:a.email)}),e.jsx(I,{className:"bg-teal-500 text-white text-lg font-bold",children:g()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-bold text-foreground truncate",children:(a==null?void 0:a.userName)||`${a==null?void 0:a.firstName} ${a==null?void 0:a.lastName}`.trim()||"User"}),e.jsx(o,{href:"/profile-view",children:e.jsx("button",{className:"text-sm text-primary hover:underline","data-testid":"link-view-profile",onClick:t,children:"View profile"})})]})]})}),e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Buying"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-buying",children:v.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]}),(a==null?void 0:a.seller)&&e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Selling"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-selling",children:j.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]})]}),e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"General"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-general",children:u.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]}),e.jsx(c,{}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground mb-3",children:"Help & Legal"}),e.jsx("nav",{className:"space-y-1","data-testid":"nav-help",children:N.map(s=>{const n=i===s.href;return e.jsx(o,{href:s.href,children:e.jsxs("div",{className:l("flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors cursor-pointer",n?"bg-foreground text-background":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),"data-testid":`nav-${s.name.toLowerCase().replace(" ","-")}`,onClick:t,children:[e.jsx(s.icon,{className:"h-5 w-5"}),e.jsx("span",{children:s.name})]})},s.name)})})]})]});return x?e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-16 transition-all duration-300 bg-background border-r border-border",children:e.jsx("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto",children:e.jsx("div",{className:"flex items-center justify-center px-2","data-testid":"logo-container",children:e.jsx(S,{variant:"ghost",size:"sm",onClick:h,className:"flex-shrink-0","data-testid":"button-toggle-sidebar",children:e.jsx(B,{size:16})})})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-64 transition-all duration-300 bg-background border-r border-border",children:e.jsx(m,{})}),e.jsx(L,{open:f,onOpenChange:s=>!s&&(t==null?void 0:t()),children:e.jsx(P,{side:"left",className:"w-64 p-0 lg:hidden",children:e.jsx(m,{})})})]})}export{me as Sidebar};
