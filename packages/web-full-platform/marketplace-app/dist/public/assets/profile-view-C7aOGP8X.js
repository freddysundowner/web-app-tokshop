import{c as Le,D as Ee,a as Me,e as Ie,t as Re,f as De,u as qe,r as d,j as e,L as K,d as Ae}from"./index-DOZKoalF.js";import{A as ce,a as de,b as me}from"./avatar-BNno7OSM.js";import{B as h}from"./button-bCrgsaso.js";import{B as Be}from"./badge-DdltLmN9.js";import{T as _e,a as ze,b as Q,c as W}from"./tabs-BCgd9IQZ.js";import{D as Oe,a as He,b as Ke,c as ae,d as Qe}from"./dropdown-menu-D0VRtd9b.js";import{D as re,a as oe,b as ie,c as ne,d as We,e as Ve}from"./dialog-D_mWFmtX.js";import{T as Ye}from"./textarea-C334aam0.js";import{u as V}from"./useQuery-48pQeuS3.js";import{u as b}from"./useMutation-BBndlB0x.js";import{u as Je,S as Xe}from"./show-card-CdrjScR7.js";import{g as Ze}from"./firebase-chat-Bvw3kWwK.js";import{S as ue}from"./star-Bx9HEBoM.js";import{S as le}from"./share-2-DwkRKAhF.js";import{M as Ge}from"./message-circle-CLKU1yj_.js";import{E as Ue}from"./ellipsis-vertical-Y21RyCEq.js";import{B as es}from"./ban-B8-dg3Vx.js";import{F as ss}from"./flag-CR8Kw58_.js";import{S as ts}from"./shopping-bag-Bumzb4mp.js";import{C as as}from"./chevron-up-0jCUr4SU.js";import{C as rs}from"./chevron-down-Bi2HuHPT.js";import"./index-CYumVO2i.js";import"./index-CxUEmdCc.js";import"./index-DwAU5pHh.js";import"./index-CXm_CZR6.js";import"./chevron-right-SEiIbCON.js";import"./check-Bj3EYrSG.js";import"./circle-D2uhURtr.js";import"./index-D0GAShZH.js";import"./format-D46ChU1D.js";import"./isTomorrow-BvLd__Ji.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Le("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);function is({review:a}){var w,v,k,p,f;const[n,x]=d.useState(!1),m=y=>[...Array(5)].map((P,j)=>e.jsx(ue,{className:Ae("h-4 w-4",j<Math.floor(y)?"fill-yellow-400 text-yellow-400":"fill-gray-300 text-gray-300")},j)),N=a.overall||a.shipping||a.packaging||a.accuracy;return e.jsx("div",{className:"border border-border rounded-lg p-4 sm:p-6","data-testid":`review-${a._id}`,children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsxs(ce,{className:"h-10 w-10 sm:h-12 sm:w-12",children:[e.jsx(de,{src:(w=a.from)==null?void 0:w.profilePhoto}),e.jsx(me,{children:((p=(k=(v=a.from)==null?void 0:v.firstName)==null?void 0:k.charAt(0))==null?void 0:p.toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:((f=a.from)==null?void 0:f.firstName)||"Anonymous"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[m(a.overall||a.rating||0),e.jsx("span",{className:"text-sm font-semibold ml-1",children:(a.overall||a.rating||0).toFixed(1)})]})]}),e.jsx("p",{className:"text-sm sm:text-base text-foreground mb-3",children:a.review}),N&&e.jsxs(e.Fragment,{children:[n&&e.jsxs("div",{className:"space-y-2 mb-3 pt-3 border-t border-border",children:[a.overall&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Overall"}),e.jsxs("div",{className:"flex items-center gap-1",children:[m(a.overall),e.jsx("span",{className:"text-sm font-semibold ml-1",children:a.overall.toFixed(1)})]})]}),a.shipping&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Shipping"}),e.jsxs("div",{className:"flex items-center gap-1",children:[m(a.shipping),e.jsx("span",{className:"text-sm font-semibold ml-1",children:a.shipping.toFixed(1)})]})]}),a.packaging&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Packaging"}),e.jsxs("div",{className:"flex items-center gap-1",children:[m(a.packaging),e.jsx("span",{className:"text-sm font-semibold ml-1",children:a.packaging.toFixed(1)})]})]}),a.accuracy&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Accuracy"}),e.jsxs("div",{className:"flex items-center gap-1",children:[m(a.accuracy),e.jsx("span",{className:"text-sm font-semibold ml-1",children:a.accuracy.toFixed(1)})]})]})]}),e.jsx("button",{onClick:()=>x(!n),className:"flex items-center gap-1 text-sm text-primary font-medium hover:underline","data-testid":`button-toggle-review-${a._id}`,children:n?e.jsxs(e.Fragment,{children:["See less ",e.jsx(as,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:["See more ",e.jsx(rs,{className:"h-4 w-4"})]})})]})]})]})})}function As(){var ee,se,te;Ee("Profile");const{user:a}=Me(),{toast:n}=Ie(),x=Re(),[,m]=De("/profile/:userId"),[N,w]=qe(),[v,k]=d.useState("shows"),[p,f]=d.useState(!1),[y,P]=d.useState(!1),[j,$]=d.useState(!1),[he,S]=d.useState(!1),[T,L]=d.useState(""),[xe,C]=d.useState(!1);let o=m==null?void 0:m.userId;!o&&N.startsWith("/user")&&(o=new URLSearchParams(N.split("?")[1]||"").get("id")||void 0);const i=(a==null?void 0:a._id)||(a==null?void 0:a.id),{data:u,isLoading:pe}=V({queryKey:["/api/profile",o],queryFn:async()=>{const s=await fetch(`/api/profile/${o}`);if(!s.ok)throw new Error("Failed to fetch user");const r=await s.json();return r.data||r},enabled:!!o&&o!==i,staleTime:0}),{data:g,isLoading:fe}=V({queryKey:["/api/users/review",o||i],queryFn:async()=>{const s=o||i;if(!s)return{reviews:[]};const r=await fetch(`/api/users/review/${s}`);return r.ok?r.json():{reviews:[]}},enabled:!!(o||i),staleTime:0});d.useEffect(()=>{u&&(u.isfollowing!==void 0&&f(u.isfollowing),u.isblocked!==void 0&&$(u.isblocked))},[u]);const{data:E,isLoading:ge}=V({queryKey:["/api/products","user",o||i],queryFn:async()=>{const s=o||i;if(!s)return{products:[]};const r=new URLSearchParams({userid:s,roomid:"",type:"inventory",saletype:"",category:"",page:"1",limit:"15",featured:"true",status:"active"}),l=await fetch(`/api/products?${r.toString()}`);return l.ok?l.json():{products:[]}},enabled:!!(o||i),staleTime:0}),{data:M,fetchNextPage:Y,hasNextPage:J,isFetchingNextPage:I}=Je({queryKey:["/api/rooms","user",o||i],queryFn:async({pageParam:s=1})=>{const r=o||i;if(!r)return{rooms:[],pages:0};const l=new URLSearchParams({userid:r,page:String(s),limit:"20",status:"active"});i&&l.set("currentUserId",i);const c=await fetch(`/api/rooms?${l.toString()}`);return c.ok?c.json():{rooms:[],pages:0}},getNextPageParam:(s,r)=>{const l=r.length,c=s.totalDoc||0,$e=Math.max(s.limits||20,1),Te=Math.ceil(c/$e);return l<Te?l+1:void 0},initialPageParam:1,enabled:!!(o||i),staleTime:0}),X=d.useRef(null);d.useEffect(()=>{const s=new IntersectionObserver(l=>{l[0].isIntersecting&&J&&!I&&Y()},{threshold:0,rootMargin:"100px"}),r=X.current;return r&&s.observe(r),()=>{r&&s.unobserve(r)}},[J,I,Y]);const t=u||a,R=!o||o===i,D=b({mutationFn:async()=>{const s=await fetch(`/api/follow/${i}/${o}`,{method:"PUT",credentials:"include"});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to follow user")}return s.json()},onSuccess:()=>{f(!0),x.invalidateQueries({queryKey:["/api/profile",o]}),n({title:"Success",description:`You are now following @${(t==null?void 0:t.userName)||"user"}`})},onError:s=>{n({title:"Error",description:s.message||"Failed to follow user",variant:"destructive"})}}),q=b({mutationFn:async()=>{const s=await fetch(`/api/unfollow/${i}/${o}`,{method:"PUT",credentials:"include"});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to unfollow user")}return s.json()},onSuccess:()=>{f(!1),x.invalidateQueries({queryKey:["/api/profile",o]}),n({title:"Success",description:`You unfollowed @${(t==null?void 0:t.userName)||"user"}`})},onError:s=>{n({title:"Error",description:s.message||"Failed to unfollow user",variant:"destructive"})}}),A=b({mutationFn:async()=>{const s=await fetch(`/api/block/${i}/${o}`,{method:"PUT",credentials:"include"});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to block user")}return s.json()},onSuccess:()=>{$(!0),x.invalidateQueries({queryKey:["/api/profile",o]}),n({title:"User Blocked",description:`You have blocked @${(t==null?void 0:t.userName)||"user"}`})},onError:s=>{n({title:"Error",description:s.message||"Failed to block user",variant:"destructive"})}}),B=b({mutationFn:async()=>{const s=await fetch(`/api/unblock/${i}/${o}`,{method:"PUT",credentials:"include"});if(!s.ok){const r=await s.json();throw new Error(r.error||"Failed to unblock user")}return s.json()},onSuccess:()=>{$(!1),x.invalidateQueries({queryKey:["/api/profile",o]}),n({title:"User Unblocked",description:`You have unblocked @${(t==null?void 0:t.userName)||"user"}`})},onError:s=>{n({title:"Error",description:s.message||"Failed to unblock user",variant:"destructive"})}}),_=b({mutationFn:async s=>{const r=await fetch("/api/report",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:s,reported_by:i,reported:o})});if(!r.ok){const l=await r.json();throw new Error(l.error||"Failed to report user")}return r.json()},onSuccess:()=>{S(!1),L(""),n({title:"User Reported",description:`Thank you for reporting @${(t==null?void 0:t.userName)||"user"}. We will review this report.`})},onError:s=>{n({title:"Error",description:s.message||"Failed to report user",variant:"destructive"})}});if(pe)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-lg",children:"Loading profile..."})})});if(o&&!u&&!R)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"User not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"This user does not exist."}),e.jsx(K,{href:"/",children:e.jsx(h,{children:"Back to Home"})})]})});const je=()=>{const s=t;return s!=null&&s.userName?s.userName[0].toUpperCase():s!=null&&s.firstName?s.firstName[0].toUpperCase():"U"},be=()=>{p?q.mutate():D.mutate()},Ne=async()=>{if(!(!o||!i))try{P(!0);const s={firstName:(a==null?void 0:a.firstName)||"",lastName:(a==null?void 0:a.lastName)||"",userName:(a==null?void 0:a.userName)||"",profilePhoto:(a==null?void 0:a.profilePhoto)||""},r={firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",userName:(t==null?void 0:t.userName)||"",profilePhoto:(t==null?void 0:t.profilePhoto)||""},l=await Ze(i,o,s,r);w(`/inbox/${l}`)}catch(s){console.error("Error creating chat:",s),n({title:"Error",description:"Failed to open chat. Please try again.",variant:"destructive"})}finally{P(!1)}},we=()=>{j?B.mutate():A.mutate()},ve=()=>{S(!0)},ke=()=>{if(!T.trim()){n({title:"Error",description:"Please provide a reason for reporting this user",variant:"destructive"});return}_.mutate(T.trim())},ye=()=>{C(!0)},Z=()=>`${window.location.origin}/user?id=${o||i}`,Se=async()=>{try{await navigator.clipboard.writeText(Z()),n({title:"Link Copied",description:"Profile link copied to clipboard"}),C(!1)}catch{n({title:"Error",description:"Failed to copy link",variant:"destructive"})}},F=s=>{const r=encodeURIComponent(Z()),l=encodeURIComponent(`Check out ${z}'s profile`);let c="";switch(s){case"whatsapp":c=`https://wa.me/?text=${l}%20${r}`;break;case"facebook":c=`https://www.facebook.com/sharer/sharer.php?u=${r}`;break;case"x":c=`https://twitter.com/intent/tweet?url=${r}&text=${l}`;break;case"reddit":c=`https://reddit.com/submit?url=${r}&title=${l}`;break}c&&(window.open(c,"_blank","noopener,noreferrer"),C(!1))},Ce=(t==null?void 0:t.profilePhoto)||"",z=(t==null?void 0:t.firstName)||(t==null?void 0:t.userName)||"User",G=(t==null?void 0:t.userName)||"user",U=(t==null?void 0:t.bio)||"",Fe=(t==null?void 0:t.followersCount)||((ee=t==null?void 0:t.followers)==null?void 0:ee.length)||0,Pe=(t==null?void 0:t.followingCount)||((se=t==null?void 0:t.following)==null?void 0:se.length)||0,O=((te=M==null?void 0:M.pages)==null?void 0:te.flatMap(s=>s.rooms||[]))||[],H=(E==null?void 0:E.products)||[];return e.jsxs("div",{className:"flex flex-col min-h-screen bg-background","data-testid":"page-profile-view",children:[e.jsx("main",{className:"flex-1 overflow-y-auto bg-white dark:bg-background",children:e.jsxs("div",{className:"w-[90%] mx-auto",children:[e.jsxs("div",{className:"bg-card border-b border-border px-4 sm:px-6 py-4 sm:py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(ce,{className:"h-16 w-16 sm:h-20 sm:w-20","data-testid":"avatar-profile-view",children:[e.jsx(de,{src:Ce,alt:G}),e.jsx(me,{className:"bg-teal-500 text-white text-xl sm:text-2xl font-bold",children:je()})]}),(t==null?void 0:t.seller)&&e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-red-500 rounded-full w-4 h-4 sm:w-5 sm:h-5 border-2 border-background"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-foreground truncate","data-testid":"text-display-name",children:z})}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:["@",G]}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground flex-wrap",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"h-3 w-3 sm:h-4 sm:w-4 fill-yellow-400 text-yellow-400"}),e.jsxs("span",{className:"font-medium",children:[(t==null?void 0:t.averagereviews)||"0"," Rating"]})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:flex-shrink-0",children:[e.jsx(h,{variant:"ghost",size:"icon",onClick:ye,"data-testid":"button-share",className:"h-8 w-8 sm:h-9 sm:w-9",children:e.jsx(le,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),!R&&e.jsxs(e.Fragment,{children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:Ne,disabled:y,"data-testid":"button-message",children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:y?"Loading...":"Message"})]}),e.jsx(h,{variant:p?"outline":"default",size:"sm",onClick:be,disabled:D.isPending||q.isPending,"data-testid":"button-follow",children:D.isPending||q.isPending?"Loading...":p?"Following":"Follow"}),e.jsxs(Oe,{children:[e.jsx(He,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"icon","data-testid":"button-more-options",className:"h-8 w-8 sm:h-9 sm:w-9",children:e.jsx(Ue,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),e.jsxs(Ke,{align:"end","data-testid":"menu-more-options",children:[e.jsxs(ae,{onClick:we,disabled:A.isPending||B.isPending,"data-testid":"menu-item-block",children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),A.isPending||B.isPending?"Loading...":j?"Unblock User":"Block User"]}),e.jsx(Qe,{}),e.jsxs(ae,{onClick:ve,"data-testid":"menu-item-report",className:"text-destructive",children:[e.jsx(ss,{className:"h-4 w-4 mr-2"}),"Report User"]})]})]})]}),R&&e.jsx(K,{href:"/profile",className:"flex-1 sm:flex-initial",children:e.jsx(h,{variant:"default",size:"sm","data-testid":"button-edit-profile",className:"w-full sm:w-auto",children:"Edit Profile"})})]})]}),U&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:U})}),e.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 text-xs sm:text-sm mb-4",children:[e.jsxs("button",{className:"hover:underline","data-testid":"button-following-stat",children:[e.jsx("span",{className:"font-bold text-foreground",children:Pe.toLocaleString()})," ",e.jsx("span",{className:"text-muted-foreground",children:"following"})]}),e.jsxs("button",{className:"hover:underline","data-testid":"button-followers-stat",children:[e.jsx("span",{className:"font-bold text-foreground",children:Fe.toLocaleString()})," ",e.jsx("span",{className:"text-muted-foreground",children:"followers"})]})]})]}),e.jsxs(_e,{value:v,onValueChange:k,className:"w-full",children:[e.jsxs(ze,{className:"w-full justify-start rounded-none border-b bg-transparent h-10 sm:h-12 p-0 px-4 sm:px-6 overflow-x-auto",children:[e.jsx(Q,{value:"shop",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-foreground data-[state=active]:bg-transparent px-3 sm:px-6 text-sm","data-testid":"tab-shop",children:"Shop"}),e.jsx(Q,{value:"shows",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-foreground data-[state=active]:bg-transparent px-3 sm:px-6 text-sm","data-testid":"tab-shows",children:"Shows"}),e.jsx(Q,{value:"reviews",className:"rounded-none border-b-2 border-transparent data-[state=active]:border-foreground data-[state=active]:bg-transparent px-3 sm:px-6 text-sm","data-testid":"tab-reviews",children:"Reviews"})]}),e.jsx(W,{value:"shop",className:"p-4 sm:p-6",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-foreground mb-4","data-testid":"text-shop-products",children:["Products (",H.length,")"]}),ge?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4",children:[...Array(6)].map((s,r)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-1"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]},r))}):H.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No products in shop"})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4",children:H.map(s=>{var r;return e.jsx(K,{href:`/product/${s._id}`,children:e.jsxs("div",{className:"group cursor-pointer","data-testid":`product-${s._id}`,children:[e.jsxs("div",{className:"aspect-square overflow-hidden rounded-lg mb-2 bg-muted relative",children:[(r=s.images)!=null&&r[0]?e.jsx("img",{src:s.images[0],alt:s.name||"Product",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:e.jsx(ts,{className:"w-12 h-12 text-muted-foreground/40"})}),s.tokshow&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(Be,{variant:"secondary",className:"bg-primary/90 text-primary-foreground hover:bg-primary text-xs gap-1","data-testid":`badge-in-show-${s._id}`,children:[e.jsx(os,{className:"w-3 h-3"}),"In Show"]})})]}),e.jsx("h3",{className:"font-medium text-sm truncate text-foreground","data-testid":`product-name-${s._id}`,children:s.productName||s.name||"Untitled Product"}),e.jsxs("p",{className:"text-sm text-muted-foreground","data-testid":`product-price-${s._id}`,children:["$",(s.price||0).toFixed(2)]}),s.quantity!==void 0&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.quantity>0?`${s.quantity} in stock`:"Out of stock"})]})},s._id||s.id)})})]})}),e.jsx(W,{value:"shows",className:"p-4 sm:p-6",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-foreground mb-4","data-testid":"text-upcoming-shows",children:["Shows (",O.length,")"]}),O.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No shows yet"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4",children:O.map(s=>e.jsx(Xe,{show:s,currentUserId:i||"",variant:"profile",showHostInfo:!1},s._id||s.id))}),e.jsx("div",{ref:X,className:"h-20 flex items-center justify-center mt-4",children:I&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading more shows..."})})]})]})}),e.jsx(W,{value:"reviews",className:"p-4 sm:p-6",children:fe?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading reviews..."})}):((g==null?void 0:g.reviews)||[]).length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"})}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:((g==null?void 0:g.reviews)||[]).map(s=>e.jsx(is,{review:s},s._id))})})]})]})}),e.jsx(re,{open:xe,onOpenChange:C,children:e.jsxs(oe,{children:[e.jsx(ie,{children:e.jsxs(ne,{children:["Share ",z,"'s profile"]})}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("button",{onClick:Se,className:"flex flex-col items-center gap-2 group","data-testid":"button-copy-link",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-black flex items-center justify-center group-hover:opacity-80 transition-opacity",children:e.jsx(le,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"text-xs text-foreground",children:"Copy link"})]}),e.jsxs("button",{onClick:()=>F("reddit"),className:"flex flex-col items-center gap-2 group","data-testid":"button-share-reddit",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-[#FF4500] flex items-center justify-center group-hover:opacity-80 transition-opacity",children:e.jsx("svg",{className:"h-7 w-7 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"})})}),e.jsx("span",{className:"text-xs text-foreground",children:"Reddit"})]}),e.jsxs("button",{onClick:()=>F("whatsapp"),className:"flex flex-col items-center gap-2 group","data-testid":"button-share-whatsapp",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-[#25D366] flex items-center justify-center group-hover:opacity-80 transition-opacity",children:e.jsx("svg",{className:"h-7 w-7 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),e.jsx("span",{className:"text-xs text-foreground",children:"WhatsApp"})]}),e.jsxs("button",{onClick:()=>F("x"),className:"flex flex-col items-center gap-2 group","data-testid":"button-share-x",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-black flex items-center justify-center group-hover:opacity-80 transition-opacity",children:e.jsx("svg",{className:"h-6 w-6 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),e.jsx("span",{className:"text-xs text-foreground",children:"X"})]}),e.jsxs("button",{onClick:()=>F("facebook"),className:"flex flex-col items-center gap-2 group","data-testid":"button-share-facebook",children:[e.jsx("div",{className:"h-14 w-14 rounded-full bg-[#1877F2] flex items-center justify-center group-hover:opacity-80 transition-opacity",children:e.jsx("svg",{className:"h-7 w-7 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsx("span",{className:"text-xs text-foreground",children:"Facebook"})]})]})})]})}),e.jsx(re,{open:he,onOpenChange:S,children:e.jsxs(oe,{children:[e.jsxs(ie,{children:[e.jsx(ne,{children:"Report User"}),e.jsxs(We,{children:["Please provide a reason for reporting @",(t==null?void 0:t.userName)||"user",". This will help us review your report."]})]}),e.jsx("div",{className:"py-4",children:e.jsx(Ye,{placeholder:"Describe why you're reporting this user...",value:T,onChange:s=>L(s.target.value),className:"min-h-[100px]","data-testid":"textarea-report-reason"})}),e.jsxs(Ve,{children:[e.jsx(h,{variant:"outline",onClick:()=>{S(!1),L("")},"data-testid":"button-cancel-report",children:"Cancel"}),e.jsx(h,{variant:"destructive",onClick:ke,disabled:_.isPending,"data-testid":"button-submit-report",children:_.isPending?"Reporting...":"Submit Report"})]})]})})]})}export{As as default};
