import{f as h,u as f,j as e}from"./index-DOZKoalF.js";import{u as p}from"./useQuery-48pQeuS3.js";import{C as j,a as g,d as N,b}from"./card-C6zn3jP-.js";import{B as l}from"./button-bCrgsaso.js";import{S as w}from"./separator-B5Em_GJT.js";import{C as y}from"./circle-check-1L9G8IjR.js";import{P as v}from"./package-BkkIjgzC.js";import{A as k}from"./arrow-right-BmCc7hk2.js";function A(){const[,a]=h("/thank-you/:orderId"),[,o]=f(),n=a==null?void 0:a.orderId,{data:s,isLoading:c}=p({queryKey:["/api/orders",n],queryFn:async()=>{const t=await fetch(`/api/orders/${n}`);if(!t.ok)throw new Error("Failed to fetch order");const r=await t.json();return r.data||r},enabled:!!n}),m=()=>{s&&(sessionStorage.setItem("openPurchaseOrder",JSON.stringify(s)),o("/purchases"))};return c?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"animate-pulse text-center",children:[e.jsx("div",{className:"h-8 w-48 bg-muted rounded mx-auto mb-4"}),e.jsx("div",{className:"h-4 w-64 bg-muted rounded mx-auto"})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(j,{className:"max-w-2xl w-full",children:[e.jsxs(g,{className:"text-center pb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"rounded-full bg-green-100 dark:bg-green-900/30 p-4",children:e.jsx(y,{className:"h-12 w-12 text-green-600 dark:text-green-400"})})}),e.jsx(N,{className:"text-3xl font-bold",children:"Thank You for Your Order!"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Your order has been successfully placed"})]}),e.jsxs(b,{className:"space-y-6",children:[s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Order Number"}),e.jsxs("span",{className:"font-mono font-semibold","data-testid":"text-order-id",children:["#",(s._id||"").slice(-8).toUpperCase()]})]}),e.jsx(w,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount"}),e.jsxs("span",{className:"font-semibold text-lg","data-testid":"text-order-total",children:["US$",(()=>{var i;const t=((i=s.items)==null?void 0:i.reduce((u,d)=>u+(d.price||0)*(d.quantity||1),0))||0,r=s.shipping_fee||0,x=s.tax||0;return(t+r+x).toFixed(2)})()]})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"What's Next?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You'll receive an email confirmation shortly. The seller will process your order and update you with shipping details."})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx(l,{variant:"outline",className:"flex-1",onClick:()=>o("/"),"data-testid":"button-continue-shopping",children:"Continue Shopping"}),e.jsxs(l,{className:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-black font-semibold",onClick:m,"data-testid":"button-view-order",children:["View Order Details",e.jsx(k,{className:"ml-2 h-4 w-4"})]})]})]})]})})}export{A as default};
